"use strict";(self.webpackChunkjoin=self.webpackChunkjoin||[]).push([[744],{7744:(xo,A,d)=>{d.r(A),d.d(A,{AuthModule:()=>To});var m=d(9808),g=d(2094),o=d(5e3),L=d(4965),T=d(9619),_=d(8995);let S=(()=>{class n{constructor(e){this.glopalService=e}ngOnInit(){this.glopalService.hideNavbarAndFooter.next(!0)}ngOnDestroy(){this.glopalService.hideNavbarAndFooter.next(!1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(L.W))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-auth-parent"]],decls:18,vars:6,consts:[[1,"auth",2,"overflow-x","hidden"],[1,"row"],[1,"col-lg-6"],[1,"authBG",2,"background-image","url('assets/images/bg.jpg')"],[2,"position","relative","z-index","111"],[1,"mb-4"],["appImgs","","src","assets/images/mainlogo.png","alt","join"],[1,"d-flex","flex-column","flex-md-row"],["routerLink","/auth/login"],[1,"m-2"],["routerLink","/auth/signup"],[1,"auth-right-side",2,"min-height","100vh"]],template:function(e,i){1&e&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),o._UZ(6,"img",6),o.qZA(),o.TgZ(7,"div",7)(8,"a",8),o._uU(9),o.ALo(10,"translate"),o.qZA(),o._UZ(11,"span",9),o.TgZ(12,"a",10),o._uU(13),o.ALo(14,"translate"),o.qZA()()()()(),o.TgZ(15,"div",2)(16,"div",11),o._UZ(17,"router-outlet"),o.qZA()()()()),2&e&&(o.xp6(9),o.hij(" ",o.lcZ(10,2,"signin")," "),o.xp6(4),o.hij(" ",o.lcZ(14,4,"signup")," "))},directives:[T.x,g.yS,g.lC],pipes:[_.X$],styles:[""]}),n})();var r=d(3075),P=d(5867),x=d(8937),Z=d(5089),q=d(3385),I=d(3904),y=d(1408),b=d(8968),w=d(9919),F=d(9109),f=d(127);function J(n,l){1&n&&(o.TgZ(0,"p",8),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"validphone")," "))}function U(n,l){1&n&&o._UZ(0,"i",9)}function N(n,l){if(1&n){const e=o.EpF();o.TgZ(0,"form",2),o.NdJ("ngSubmit",function(){return o.CHM(e),o.oxw().submitStepOne()}),o.TgZ(1,"div",3),o._UZ(2,"app-phone-number",4),o.YNc(3,J,3,3,"p",5),o.qZA(),o.TgZ(4,"button",6),o._uU(5),o.ALo(6,"translate"),o.YNc(7,U,1,0,"i",7),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("formGroup",e.forgetPasswordForm),o.xp6(2),o.Q6J("inputname",e.forgetPasswordForm.get("mobile")),o.xp6(1),o.Q6J("ngIf",null!=(null==e.forgetPasswordForm.controls.mobile?null:e.forgetPasswordForm.controls.mobile.errors)&&e.forgetPasswordForm.controls.mobile.touched||null!=(null==e.forgetPasswordForm.controls.mobile?null:e.forgetPasswordForm.controls.mobile.errors)&&e.submited),o.xp6(1),o.Q6J("disabled",e.loading),o.xp6(1),o.hij(" ",o.lcZ(6,6,"next")," "),o.xp6(2),o.Q6J("ngIf",e.loading)}}function Y(n,l){1&n&&(o.TgZ(0,"p",17),o._uU(1," Enter the five-digit verification code "),o.qZA())}function k(n,l){1&n&&o._UZ(0,"i",9)}function j(n,l){if(1&n){const e=o.EpF();o.TgZ(0,"p",18),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).getOtp()}),o._uU(1),o.ALo(2,"translate"),o.qZA()}2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"Didnt_receive_the_code")," "))}function Q(n,l){if(1&n&&(o.TgZ(0,"p",19),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.hij(" ",e.counter," ")}}function O(n,l){1&n&&o._UZ(0,"i",9)}function M(n,l){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"h2",10),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._UZ(5,"input",11),o.ALo(6,"translate"),o.YNc(7,Y,2,0,"p",12),o.TgZ(8,"button",13),o.NdJ("click",function(){return o.CHM(e),o.oxw().verifyCode()}),o._uU(9),o.ALo(10,"translate"),o.YNc(11,k,1,0,"i",7),o.qZA(),o.TgZ(12,"div",14),o.YNc(13,j,3,3,"p",15),o.YNc(14,Q,2,1,"p",16),o.YNc(15,O,1,0,"i",7),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(2),o.AsE(" ",o.lcZ(3,11,"please_enter_the_verification_code")," ",null==e.forgetPasswordForm.value||null==e.forgetPasswordForm.value.mobile?null:e.forgetPasswordForm.value.mobile.e164Number," "),o.xp6(3),o.s9C("placeholder",o.lcZ(6,13,"code")),o.Q6J("formControl",e.verifiedCodeControl),o.xp6(2),o.Q6J("ngIf",null!=(null==e.verifiedCodeControl?null:e.verifiedCodeControl.errors)&&(null==e.verifiedCodeControl?null:e.verifiedCodeControl.touched)),o.xp6(1),o.Q6J("disabled",null!=(null==e.verifiedCodeControl?null:e.verifiedCodeControl.errors)||e.verifyoading),o.xp6(1),o.hij(" ",o.lcZ(10,15,"verify")," "),o.xp6(2),o.Q6J("ngIf",e.verifyoading),o.xp6(2),o.Q6J("ngIf",!e.loading&&!e.intervalLoading),o.xp6(1),o.Q6J("ngIf",e.intervalLoading),o.xp6(1),o.Q6J("ngIf",e.loading)}}function E(n,l){1&n&&(o.TgZ(0,"p",8),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"required")," "))}function G(n,l){1&n&&(o.TgZ(0,"p",8),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"password_mismatch")," "))}function W(n,l){1&n&&o._UZ(0,"i",9)}function B(n,l){if(1&n){const e=o.EpF();o.TgZ(0,"form",2),o.NdJ("ngSubmit",function(){return o.CHM(e),o.oxw().submitStepThree()}),o.TgZ(1,"div",3),o._UZ(2,"input",20),o.YNc(3,E,3,3,"p",5),o.qZA(),o.TgZ(4,"div",3),o._UZ(5,"input",21),o.YNc(6,G,3,3,"p",5),o.qZA(),o.TgZ(7,"button",6),o._uU(8),o.ALo(9,"translate"),o.YNc(10,W,1,0,"i",7),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("formGroup",e.newPasswordForm),o.xp6(3),o.Q6J("ngIf",null!=(null==e.newPasswordForm.controls.password?null:e.newPasswordForm.controls.password.errors)&&e.newPasswordForm.controls.password.touched||null!=(null==e.newPasswordForm.controls.password?null:e.newPasswordForm.controls.password.errors)&&e.submited2),o.xp6(3),o.Q6J("ngIf",(null==e.newPasswordForm.controls.password?null:e.newPasswordForm.controls.password.value)!=(null==e.newPasswordForm.controls.confirm_password?null:e.newPasswordForm.controls.confirm_password.value)&&e.newPasswordForm.controls.confirm_password.touched||(null==e.newPasswordForm.controls.password?null:e.newPasswordForm.controls.password.value)!=(null==e.newPasswordForm.controls.confirm_password?null:e.newPasswordForm.controls.confirm_password.value)&&e.submited2),o.xp6(1),o.Q6J("disabled",e.stepThreeLoading),o.xp6(1),o.hij(" ",o.lcZ(9,6,"confirm")," "),o.xp6(2),o.Q6J("ngIf",e.stepThreeLoading)}}d(2731);let z=(()=>{class n{constructor(e,i,t){this.fb=e,this.authService=i,this.toastr=t,this.closePopup=new o.vpe,this.stepThreeLoading=!1,this.submited=!1,this.submited2=!1,this.step=1,this.intervalLoading=!1,this.counter=60,this.loading=!1,this.counterId=1,this.verifiedCodeControl=new r.NI("",[r.kI.required,r.kI.pattern(/^\d{6}$/)]),this.verifyoading=!1}ngOnInit(){this.forgetPasswordForm=this.fb.group({mobile:["",r.kI.required]}),this.newPasswordForm=this.fb.group({password:["",r.kI.required],confirm_password:[""]})}submitStepOne(){this.submited=!0,this.forgetPasswordForm.valid&&this.getOtp()}getOtp(){var e,i;if(!this.intervalLoading){this.loading=!0,this.counterId+=1;let t=document.createElement("div");t.setAttribute("id",`captchaid${this.counterId}`),t.setAttribute("class","d-none"),document.body.appendChild(t),this.captchaVerifier=new f.Z.auth.RecaptchaVerifier(`captchaid${this.counterId}`,{size:"invisible"}),f.Z.auth().signInWithPhoneNumber(null===(i=null===(e=this.forgetPasswordForm.value)||void 0===e?void 0:e.mobile)||void 0===i?void 0:i.e164Number,this.captchaVerifier).then(a=>{console.log(a),this.step=2,this.verificationId=null==a?void 0:a.verificationId,this.loading=!1,this.counterToEnable()}).catch(a=>{this.toastr.error((null==a?void 0:a.message)||"Something wnt wrong"),this.loading=!1})}}counterToEnable(){this.intervalLoading||(this.counter=60,this.intervalLoading=!0,this.setIntervalVariable=setInterval(()=>{this.counter-=1,0==this.counter&&(this.counter=60,clearInterval(this.setIntervalVariable),this.intervalLoading=!1)},1e3))}verifyCode(){var e;if(this.verificationId){this.verifyoading=!0;let i=f.Z.auth.PhoneAuthProvider.credential(this.verificationId,null===(e=this.verifiedCodeControl)||void 0===e?void 0:e.value);f.Z.auth().signInWithCredential(i).then(t=>{console.log(t),this.verifyoading=!1,this.step=3}).catch(t=>{this.toastr.error("Firebase: The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user. (auth/invalid-verification-code)."==(null==t?void 0:t.message)?"Invalid Code":(null==t?void 0:t.message)||"Something wnt wrong"),this.verifyoading=!1})}}submitStepThree(){var e,i;if(this.submited2=!0,this.newPasswordForm.valid&&this.newPasswordForm.get("password").value==this.newPasswordForm.get("confirm_password").value){this.stepThreeLoading=!0;let t=null===(e=this.forgetPasswordForm.get("mobile"))||void 0===e?void 0:e.value.e164Number.replace(null===(i=this.forgetPasswordForm.get("mobile"))||void 0===i?void 0:i.value.dialCode,"");this.authService.sendForgetPasswordToken(t).subscribe(a=>{var s;1==(null==a?void 0:a.code)?this.authService.verifyOtpForgot({mobile:t,otp:null===(s=null==a?void 0:a.payload)||void 0===s?void 0:s.otp,new_password:this.newPasswordForm.get("password").value}).subscribe(p=>{1==(null==p?void 0:p.code)&&(this.closePopup.emit(""),this.toastr.success(null==p?void 0:p.message))}):this.stepThreeLoading=!1})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(r.qu),o.Y36(Z.e),o.Y36(b._W))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-forget-password"]],outputs:{closePopup:"closePopup"},decls:3,vars:3,consts:[["class","login",3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"login",3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],[3,"inputname"],["class","my-2 text-danger",4,"ngIf"],[1,"orangebtn",3,"disabled"],["class","fas fa-circle-notch fa-spin",4,"ngIf"],[1,"my-2","text-danger"],[1,"fas","fa-circle-notch","fa-spin"],[1,"mb-0","mt-2",2,"font-weight","400","font-size","20px","line-height","30px"],["onKeyPress","if(this.value.length==6) return false;console.log(this.value)","type","number",1,"form-control","my-3",3,"formControl","placeholder"],["class","text-danger",4,"ngIf"],[1,"orangebtn",3,"disabled","click"],[1,"text-center"],["style","cursor: pointer;","class","my text-primary",3,"click",4,"ngIf"],["class","text-primary my-2",4,"ngIf"],[1,"text-danger"],[1,"my","text-primary",2,"cursor","pointer",3,"click"],[1,"text-primary","my-2"],["formControlName","password","type","password","placeholder","New Password"],["formControlName","confirm_password","type","password","placeholder","Confirm Password"]],template:function(e,i){1&e&&(o.YNc(0,N,8,8,"form",0),o.YNc(1,M,16,17,"div",1),o.YNc(2,B,11,8,"form",0)),2&e&&(o.Q6J("ngIf",1==i.step),o.xp6(1),o.Q6J("ngIf",2==i.step),o.xp6(1),o.Q6J("ngIf",3==i.step))},directives:[m.O5,r._Y,r.JL,r.sg,w.r,r.wV,r.Fj,r.JJ,r.oH,F.mh,r.u],pipes:[_.X$],styles:[""]}),n})();function H(n,l){1&n&&(o.TgZ(0,"p",20),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"validphone")," "))}function V(n,l){1&n&&(o.TgZ(0,"p",20),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"required")," "))}function $(n,l){1&n&&o._UZ(0,"i",21)}const R=function(n,l){return{"d-flex":n,"d-none":l}},D=function(n,l){return{left:n,right:l}};function X(n,l){if(1&n){const e=o.EpF();o.TgZ(0,"div",22)(1,"div",23)(2,"i",24),o.NdJ("click",function(){return o.CHM(e),o.oxw().showpopup=!1}),o.qZA(),o.TgZ(3,"div",25)(4,"h2",26),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"app-forget-password",27),o.NdJ("closePopup",function(){return o.CHM(e),o.oxw().showpopup=!1}),o.qZA()()()()}if(2&n){const e=o.oxw();o.Q6J("ngClass",o.WLB(5,R,e.showpopup,!e.showpopup)),o.xp6(2),o.Q6J("ngStyle",o.WLB(8,D,"ar"==e.lang?"20px":"auto","ar"==e.lang?"auto":"20px")),o.xp6(3),o.hij(" ",o.lcZ(6,3,"forget_password")," ")}}function oo(n,l){1&n&&(o.TgZ(0,"p",27),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"required")," "))}function eo(n,l){1&n&&(o.TgZ(0,"p",27),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"required")," "))}function io(n,l){1&n&&(o.TgZ(0,"p",27),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"validphone")," "))}function no(n,l){1&n&&(o.TgZ(0,"p",27),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"required")," "))}function to(n,l){if(1&n&&(o.TgZ(0,"option",30),o._uU(1),o.qZA()),2&n){const e=l.$implicit;o.Q6J("value",null==e?null:e.id),o.xp6(1),o.Oqu(null==e?null:e.name)}}function lo(n,l){if(1&n&&(o.TgZ(0,"optgroup",28),o.YNc(1,to,2,2,"option",29),o.qZA()),2&n){const e=l.$implicit;o.Q6J("label",null==e?null:e.gov),o.xp6(1),o.Q6J("ngForOf",null==e?null:e.areas)}}function ro(n,l){1&n&&(o.TgZ(0,"p",27),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"required")," "))}function so(n,l){1&n&&(o.TgZ(0,"p",27),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"required")," "))}function ao(n,l){1&n&&(o.TgZ(0,"p",27),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"validemail")," "))}function po(n,l){1&n&&(o.TgZ(0,"p",27),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"email_mismatch")," "))}function uo(n,l){1&n&&(o.TgZ(0,"p",27),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"required")," "))}function co(n,l){1&n&&(o.TgZ(0,"p",27),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"password_mismatch")," "))}function mo(n,l){1&n&&o._UZ(0,"i",31)}function go(n,l){1&n&&(o.TgZ(0,"p",42),o._uU(1," Enter the five-digit verification code "),o.qZA())}function fo(n,l){1&n&&o._UZ(0,"i",31)}function ho(n,l){if(1&n){const e=o.EpF();o.TgZ(0,"p",43),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).getOtp()}),o._uU(1),o.ALo(2,"translate"),o.qZA()}2&n&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"Didnt_receive_the_code")," "))}function vo(n,l){if(1&n&&(o.TgZ(0,"p",44),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.hij(" ",e.counter," ")}}function _o(n,l){1&n&&o._UZ(0,"i",31)}const Zo=function(n,l){return{"d-flex":n,"d-none":l}},bo=function(n,l){return{left:n,right:l}};function wo(n,l){if(1&n){const e=o.EpF();o.TgZ(0,"div",32)(1,"div",33)(2,"i",34),o.NdJ("click",function(){return o.CHM(e),o.oxw().showVerificationpopup=!1}),o.qZA(),o.TgZ(3,"div",35)(4,"h2",36),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"div"),o._UZ(8,"input",37),o.ALo(9,"translate"),o.YNc(10,go,2,0,"p",38),o.TgZ(11,"button",39),o.NdJ("click",function(){return o.CHM(e),o.oxw().verifyCode()}),o._uU(12),o.ALo(13,"translate"),o.YNc(14,fo,1,0,"i",24),o.qZA(),o.YNc(15,ho,3,3,"p",40),o.YNc(16,vo,2,1,"p",41),o.YNc(17,_o,1,0,"i",24),o.qZA()()()()}if(2&n){const e=o.oxw();o.Q6J("ngClass",o.WLB(19,Zo,e.showVerificationpopup,!e.showVerificationpopup)),o.xp6(2),o.Q6J("ngStyle",o.WLB(22,bo,"ar"==e.lang?"20px":"auto","ar"==e.lang?"auto":"20px")),o.xp6(3),o.AsE(" ",o.lcZ(6,13,"please_enter_the_verification_code")," ",null==e.signupForm.value||null==e.signupForm.value.mobile?null:e.signupForm.value.mobile.e164Number," "),o.xp6(3),o.s9C("placeholder",o.lcZ(9,15,"code")),o.Q6J("formControl",e.verifiedCodeControl),o.xp6(2),o.Q6J("ngIf",null!=(null==e.verifiedCodeControl?null:e.verifiedCodeControl.errors)&&(null==e.verifiedCodeControl?null:e.verifiedCodeControl.touched)),o.xp6(1),o.Q6J("disabled",null!=(null==e.verifiedCodeControl?null:e.verifiedCodeControl.errors)||e.verifyoading),o.xp6(1),o.hij(" ",o.lcZ(13,17,"verify")," "),o.xp6(2),o.Q6J("ngIf",e.verifyoading),o.xp6(1),o.Q6J("ngIf",!e.loading&&!e.intervalLoading),o.xp6(1),o.Q6J("ngIf",e.intervalLoading),o.xp6(1),o.Q6J("ngIf",e.loading)}}const Fo=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"",component:S,children:[{path:"login",component:(()=>{class n{constructor(e,i,t,a,s,p,u){this.authService=e,this.angularFireAuth=i,this.notficationsService=t,this.membersservice=a,this.router=s,this.toastr=p,this.fb=u,this.showpopup=!1,this.loginForm=new r.cw({}),this.submited=!1,this.loading=!1}ngOnInit(){this.app=(0,P.ZF)({apiKey:"AIzaSyBspMnWz9iq5Evt11YwGkcEPqghHyIGwuo",authDomain:"joinapp-515e6.firebaseapp.com",databaseURL:"https://joinapp-515e6.firebaseio.com",projectId:"joinapp-515e6",storageBucket:"joinapp-515e6.appspot.com",messagingSenderId:"794053292456",appId:"1:794053292456:web:36878b6a9a02cff3"}),this.loginForm=this.fb.group({mobile:["",r.kI.required],password:["",r.kI.required]})}login(e){var i,t;if(this.submited=!0,this.loginForm.valid){let a={password:null==e?void 0:e.password,mobile:null===(i=null==e?void 0:e.mobile)||void 0===i?void 0:i.e164Number.replace(null===(t=null==e?void 0:e.mobile)||void 0===t?void 0:t.dialCode,"")};this.loading=!0,this.authService.logIn(a).subscribe(s=>{var p;this.loading=!1,1==(null==s?void 0:s.code)&&(this.toastr.success(null==s?void 0:s.message),localStorage.setItem("joinToken",null===(p=null==s?void 0:s.payload)||void 0===p?void 0:p.auth_token),this.notficationsService.getNotifications(),this.membersservice.getAllMembers(),this.authService.getUserProfile(),this.router.navigate(["/"]))})}}get lang(){return localStorage.getItem("lang")||"en"}GoogleAuth(){return this.AuthLogin(new x.hJ,1)}facebookAuth(){return this.AuthLogin(new x._O,2)}AuthLogin(e,i){return this.angularFireAuth.signInWithPopup(e).then(t=>{var a;console.log(t),this.loading=!0;let s=null===(a=null==t?void 0:t.additionalUserInfo)||void 0===a?void 0:a.profile,p={};1==i?p.google_id=null==s?void 0:s.id:2==i&&(p.facebook_id=null==s?void 0:s.id),this.authService.logIn(p).subscribe(u=>{var c;this.loading=!1,1==(null==u?void 0:u.code)?(this.toastr.success(null==u?void 0:u.message),localStorage.setItem("joinToken",null===(c=null==u?void 0:u.payload)||void 0===c?void 0:c.auth_token),this.authService.getUserProfile(),this.notficationsService.getNotifications(),this.membersservice.getAllMembers(),this.router.navigate(["/"])):this.router.navigate(["/auth/signup"],{queryParams:{id:null==s?void 0:s.id,family_name:null==s?void 0:s.family_name,given_name:null==s?void 0:s.given_name,email:null==s?void 0:s.email,type:i}})})}).catch(t=>{})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Z.e),o.Y36(q.zQ),o.Y36(I.T),o.Y36(y.Z),o.Y36(g.F0),o.Y36(b._W),o.Y36(r.qu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:37,vars:28,consts:[[1,"login","p-4"],[1,"mb-4"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],[3,"inputname"],["class","my-2 text-danger",4,"ngIf"],["formControlName","password","type","password",3,"placeholder"],[1,"my-2",2,"cursor","pointer",3,"click"],[1,"mb-3","d-flex","flex-column","flex-md-row"],[3,"disabled"],["class","fas fa-circle-notch fa-spin",4,"ngIf"],[1,"m-2"],["routerLink","/",1,"asAGuest","text-center"],[1,"mb-2","fw-bold"],[1,"p-0","m-0","list-unstyled","d-flex","login-ways"],[3,"click"],["appImgs","","src","assets/images/google.png","alt","join"],[1,"mx-2"],["appImgs","","src","assets/images/facebook.png","alt","join",2,"background-color","#425EAB"],["class","cstmpopup",3,"ngClass",4,"ngIf"],[1,"my-2","text-danger"],[1,"fas","fa-circle-notch","fa-spin"],[1,"cstmpopup",3,"ngClass"],[1,"content","add-member",2,"min-height","70vh"],[1,"fa-solid","fa-x",3,"ngStyle","click"],[1,""],[2,"font-weight","400","font-size","20px","line-height","30px"],[3,"closePopup"]],template:function(e,i){1&e&&(o.TgZ(0,"section",0)(1,"h1"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"p",1),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"form",2),o.NdJ("ngSubmit",function(){return i.login(i.loginForm.value)}),o.TgZ(8,"div",3),o._UZ(9,"app-phone-number",4),o.YNc(10,H,3,3,"p",5),o.qZA(),o.TgZ(11,"div",3),o._UZ(12,"input",6),o.ALo(13,"translate"),o.YNc(14,V,3,3,"p",5),o.TgZ(15,"p",7),o.NdJ("click",function(){return i.showpopup=!0}),o._uU(16),o.ALo(17,"translate"),o.qZA()(),o.TgZ(18,"div",8)(19,"button",9),o._uU(20),o.ALo(21,"translate"),o.YNc(22,$,1,0,"i",10),o.qZA(),o._UZ(23,"span",11),o.TgZ(24,"a",12),o._uU(25),o.ALo(26,"translate"),o.qZA()(),o.TgZ(27,"p",13),o._uU(28),o.ALo(29,"translate"),o.qZA(),o.TgZ(30,"ul",14)(31,"li",15),o.NdJ("click",function(){return i.GoogleAuth()}),o._UZ(32,"img",16),o.qZA(),o._UZ(33,"span",17),o.TgZ(34,"li",15),o.NdJ("click",function(){return i.facebookAuth()}),o._UZ(35,"img",18),o.qZA()()()(),o.YNc(36,X,8,11,"div",19)),2&e&&(o.xp6(2),o.hij(" ",o.lcZ(3,14,"Be_Part_Of_The_Adventure")," "),o.xp6(3),o.Oqu(o.lcZ(6,16,"insert_your_phone_number")),o.xp6(2),o.Q6J("formGroup",i.loginForm),o.xp6(2),o.Q6J("inputname",i.loginForm.get("mobile")),o.xp6(1),o.Q6J("ngIf",null!=(null==i.loginForm.controls.mobile?null:i.loginForm.controls.mobile.errors)&&i.loginForm.controls.mobile.touched||null!=(null==i.loginForm.controls.mobile?null:i.loginForm.controls.mobile.errors)&&i.submited),o.xp6(2),o.s9C("placeholder",o.lcZ(13,18,"password")),o.xp6(2),o.Q6J("ngIf",null!=(null==i.loginForm.controls.password?null:i.loginForm.controls.password.errors)&&i.loginForm.controls.password.touched||null!=(null==i.loginForm.controls.password?null:i.loginForm.controls.password.errors)&&i.submited),o.xp6(2),o.hij(" ",o.lcZ(17,20,"forget_password")," "),o.xp6(3),o.Q6J("disabled",i.loading),o.xp6(1),o.hij("",o.lcZ(21,22,"signin")," "),o.xp6(2),o.Q6J("ngIf",i.loading),o.xp6(3),o.hij(" ",o.lcZ(26,24,"Countinu_As_Guest")," "),o.xp6(3),o.hij(" ",o.lcZ(29,26,"Or_Login_With")," "),o.xp6(8),o.Q6J("ngIf",i.showpopup))},directives:[r._Y,r.JL,r.sg,w.r,m.O5,r.Fj,r.JJ,r.u,F.mh,g.yS,T.x,m.mk,m.PC,z],pipes:[_.X$],styles:[".iti{width:100%!important}"]}),n})()},{path:"signup",component:(()=>{class n{constructor(e,i,t,a,s,p,u){this.fb=e,this.router=i,this.notficationsService=t,this.membersservice=a,this.activatedRoute=s,this.authService=p,this.toastr=u,this.intervalLoading=!1,this.counter=60,this.signupForm=new r.cw({}),this.submited=!1,this.loading=!1,this.counterId=1,this.areas=[],this.showVerificationpopup=!1,this.verifiedCodeControl=new r.NI("",[r.kI.required,r.kI.pattern(/^\d{6}$/)]),this.verifyoading=!1}getOtp(){var e,i;if(!this.intervalLoading){this.loading=!0,this.counterId+=1;let t=document.createElement("div");t.setAttribute("id",`captchaid${this.counterId}`),t.setAttribute("class","d-none"),document.body.appendChild(t),this.captchaVerifier=new f.Z.auth.RecaptchaVerifier(`captchaid${this.counterId}`,{size:"invisible"}),f.Z.auth().signInWithPhoneNumber(null===(i=null===(e=this.signupForm.value)||void 0===e?void 0:e.mobile)||void 0===i?void 0:i.e164Number,this.captchaVerifier).then(a=>{console.log(a),this.showVerificationpopup=!0,this.verificationId=null==a?void 0:a.verificationId,this.loading=!1,this.counterToEnable()}).catch(a=>{this.toastr.error((null==a?void 0:a.message)||"Something wnt wrong"),this.loading=!1})}}ngOnInit(){f.Z.initializeApp({apiKey:"AIzaSyBspMnWz9iq5Evt11YwGkcEPqghHyIGwuo",authDomain:"joinapp-515e6.firebaseapp.com",databaseURL:"https://joinapp-515e6.firebaseio.com",projectId:"joinapp-515e6",storageBucket:"joinapp-515e6.appspot.com",messagingSenderId:"794053292456",appId:"1:794053292456:web:36878b6a9a02cff3"}),this.returnsignupForm(),this.authService.areas.subscribe(e=>{this.areas=e}),this.activatedRoute.queryParamMap.subscribe(e=>{var i,t,a,s,p,u,c,h;(null===(i=null==e?void 0:e.params)||void 0===i?void 0:i.type)&&(this.signupForm.patchValue({fname:null===(t=null==e?void 0:e.params)||void 0===t?void 0:t.given_name,lname:null===(a=null==e?void 0:e.params)||void 0===a?void 0:a.family_name,email:null===(s=null==e?void 0:e.params)||void 0===s?void 0:s.email}),1==(null===(p=null==e?void 0:e.params)||void 0===p?void 0:p.type)?(this.signupForm.patchValue({google_id:null===(u=null==e?void 0:e.params)||void 0===u?void 0:u.id}),console.log(this.signupForm.value)):2==(null===(c=null==e?void 0:e.params)||void 0===c?void 0:c.type)&&this.signupForm.patchValue({facebook_id:null===(h=null==e?void 0:e.params)||void 0===h?void 0:h.id}))})}returnsignupForm(){return this.signupForm=this.fb.group({fname:["",r.kI.required],lname:["",r.kI.required],mobile:["",r.kI.required],dob:["",r.kI.required],password:["",r.kI.required],device_type:["W"],area_id:["",r.kI.required],gender:["",r.kI.required],email:["",[r.kI.required,r.kI.email,r.kI.pattern(/.com$/)]],confirm_email:[""],confirm_password:[""],device_token:["_"],facebook_id:[""],google_id:[""]})}dateInputType(e){e.value||(e.type="text",e.blur())}signUp(e){this.submited=!0,console.log(this.signupForm.value),this.signupForm.valid&&!this.intervalLoading&&this.signupForm.get("password").value==this.signupForm.get("confirm_password").value&&this.signupForm.get("email").value==this.signupForm.get("confirm_email").value&&this.getOtp(),this.signupForm.valid&&this.intervalLoading&&this.signupForm.get("password").value==this.signupForm.get("confirm_password").value&&this.signupForm.get("email").value==this.signupForm.get("confirm_email").value&&(this.showVerificationpopup=!0)}get lang(){return localStorage.getItem("lang")||"en"}verifyCode(){var e;if(this.verificationId){this.verifyoading=!0;let i=f.Z.auth.PhoneAuthProvider.credential(this.verificationId,null===(e=this.verifiedCodeControl)||void 0===e?void 0:e.value);f.Z.auth().signInWithCredential(i).then(t=>{var a,s;console.log(t),this.verifyoading=!1;let p=new FormData,u=this.signupForm.value;console.log(u.mobile),p.append("fname",u.fname),p.append("lname",u.lname),p.append("dob",u.dob),p.append("password",u.password),p.append("device_type","W"),p.append("area_id",u.area_id),p.append("gender",u.gender),p.append("email",u.email),(null==u?void 0:u.google_id)&&p.append("google_id",u.google_id),(null==u?void 0:u.facebook_id)&&p.append("facebook_id",u.facebook_id),p.append("device_token","_");let c=null===(a=this.signupForm.get("mobile"))||void 0===a?void 0:a.value.e164Number.replace(null===(s=this.signupForm.get("mobile"))||void 0===s?void 0:s.value.dialCode,"");p.append("mobile",c),this.authService.signupu(p).subscribe(h=>{1==(null==h?void 0:h.code)?this.authService.logIn({mobile:c,password:u.password}).subscribe(v=>{var C;this.loading=!1,1==(null==v?void 0:v.code)&&(this.toastr.success("ar"==localStorage.getItem("lang")?"\u062a\u0645 \u0627\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628\u0643 \u0628\u0646\u062c\u0627\u062c":"Account successfully created"),localStorage.setItem("joinToken",null===(C=null==v?void 0:v.payload)||void 0===C?void 0:C.auth_token),this.authService.getUserProfile(),this.notficationsService.getNotifications(),this.membersservice.getAllMembers(),this.router.navigate(["/"]),window.location.reload())}):this.showVerificationpopup=!1})}).catch(t=>{console.log(t),this.toastr.error("Firebase: The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user. (auth/invalid-verification-code)."==(null==t?void 0:t.message)?"Invalid Code":(null==t?void 0:t.message)||"Something wnt wrong"),this.verifyoading=!1})}}counterToEnable(){this.intervalLoading||(this.counter=60,this.intervalLoading=!0,this.setIntervalVariable=setInterval(()=>{this.counter-=1,0==this.counter&&(this.counter=60,clearInterval(this.setIntervalVariable),this.intervalLoading=!1)},1e3))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(r.qu),o.Y36(g.F0),o.Y36(I.T),o.Y36(y.Z),o.Y36(g.gz),o.Y36(Z.e),o.Y36(b._W))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-siginup"]],decls:84,vars:64,consts:[[1,"signup","heightc","p-4"],[1,"mb-4"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-md-6","mb-3"],[1,"form-group"],["formControlName","fname","type","text",3,"placeholder"],["class","my-2 text-danger",4,"ngIf"],["formControlName","lname","type","text",3,"placeholder"],[3,"inputname"],["formControlName","dob","type","text",3,"placeholder","blur","change","focus"],["dobirth",""],["formControlName","area_id",1,"form-select"],["value","","selected",""],[3,"label",4,"ngFor","ngForOf"],["formControlName","gender","aria-label","Default select example",1,"form-select",2,"box-shadow","none"],["selected","","value",""],["value","BOY"],["value","GIRL"],["formControlName","email","type","email",3,"placeholder"],["formControlName","confirm_email","type","email",3,"placeholder"],["formControlName","password","type","password",3,"placeholder"],["formControlName","confirm_password","type","password",3,"placeholder"],[1,"col-md-12","mb-3"],[1,"mb-2",3,"disabled"],["class","fas fa-circle-notch fa-spin",4,"ngIf"],["routerLink","/auth/login"],["class","cstmpopup ",3,"ngClass",4,"ngIf"],[1,"my-2","text-danger"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"fas","fa-circle-notch","fa-spin"],[1,"cstmpopup",3,"ngClass"],[1,"content","small"],[1,"fa-solid","fa-x",3,"ngStyle","click"],[1,"container"],[1,"mb-0","mt-2",2,"font-weight","400","font-size","20px","line-height","30px"],["onKeyPress","if(this.value.length==6) return false;console.log(this.value)","type","number",1,"form-control","my-3",3,"formControl","placeholder"],["class","text-danger",4,"ngIf"],[1,"orangebtn",3,"disabled","click"],["style","cursor: pointer;","class","my text-primary",3,"click",4,"ngIf"],["class","text-primary my-2",4,"ngIf"],[1,"text-danger"],[1,"my","text-primary",2,"cursor","pointer",3,"click"],[1,"text-primary","my-2"]],template:function(e,i){if(1&e){const t=o.EpF();o.TgZ(0,"section",0)(1,"h1"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"p",1),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"form",2),o.NdJ("ngSubmit",function(){return i.signUp(i.signupForm.value)}),o.TgZ(8,"div",3)(9,"div",4),o._UZ(10,"input",5),o.ALo(11,"translate"),o.YNc(12,oo,3,3,"p",6),o.qZA()(),o.TgZ(13,"div",3)(14,"div",4),o._UZ(15,"input",7),o.ALo(16,"translate"),o.YNc(17,eo,3,3,"p",6),o.qZA()(),o.TgZ(18,"div",3)(19,"div",4),o._UZ(20,"app-phone-number",8),o.YNc(21,io,3,3,"p",6),o.qZA()(),o.TgZ(22,"div",3)(23,"div",4)(24,"input",9,10),o.NdJ("blur",function(){o.CHM(t);const s=o.MAs(25);return i.dateInputType(s)})("change",function(){o.CHM(t);const s=o.MAs(25);return i.dateInputType(s)})("focus",function(){return o.CHM(t),o.MAs(25).type="date"}),o.ALo(26,"translate"),o.qZA(),o.YNc(27,no,3,3,"p",6),o.qZA()(),o.TgZ(28,"div",3)(29,"div",4)(30,"select",11)(31,"option",12),o._uU(32),o.ALo(33,"translate"),o.qZA(),o.YNc(34,lo,2,2,"optgroup",13),o.qZA(),o.YNc(35,ro,3,3,"p",6),o.qZA()(),o.TgZ(36,"div",3)(37,"div",4)(38,"select",14)(39,"option",15),o._uU(40),o.ALo(41,"translate"),o.qZA(),o.TgZ(42,"option",16),o._uU(43),o.ALo(44,"translate"),o.qZA(),o.TgZ(45,"option",17),o._uU(46),o.ALo(47,"translate"),o.qZA()(),o.YNc(48,so,3,3,"p",6),o.qZA()(),o.TgZ(49,"div",3)(50,"div",4),o._UZ(51,"input",18),o.ALo(52,"translate"),o.YNc(53,ao,3,3,"p",6),o.qZA()(),o.TgZ(54,"div",3)(55,"div",4),o._UZ(56,"input",19),o.ALo(57,"translate"),o.YNc(58,po,3,3,"p",6),o.qZA()(),o.TgZ(59,"div",3)(60,"div",4),o._UZ(61,"input",20),o.ALo(62,"translate"),o.YNc(63,uo,3,3,"p",6),o.qZA()(),o.TgZ(64,"div",3)(65,"div",4),o._UZ(66,"input",21),o.ALo(67,"translate"),o.YNc(68,co,3,3,"p",6),o.qZA()(),o.TgZ(69,"div",22)(70,"div")(71,"button",23),o._uU(72),o.ALo(73,"translate"),o.YNc(74,mo,1,0,"i",24),o.qZA()()(),o.TgZ(75,"div",22)(76,"div")(77,"p"),o._uU(78),o.ALo(79,"translate"),o.TgZ(80,"a",25),o._uU(81),o.ALo(82,"translate"),o.qZA()()()()()(),o.YNc(83,wo,18,25,"div",26)}2&e&&(o.xp6(2),o.hij(" ",o.lcZ(3,32,"Be_Part_Of_The_Adventure")," "),o.xp6(3),o.Oqu(o.lcZ(6,34,"insert_your_phone_number")),o.xp6(2),o.Q6J("formGroup",i.signupForm),o.xp6(3),o.s9C("placeholder",o.lcZ(11,36,"first_name")),o.xp6(2),o.Q6J("ngIf",null!=(null==i.signupForm.controls.fname?null:i.signupForm.controls.fname.errors)&&i.signupForm.controls.fname.touched||null!=(null==i.signupForm.controls.fname?null:i.signupForm.controls.fname.errors)&&i.submited),o.xp6(3),o.s9C("placeholder",o.lcZ(16,38,"last_name")),o.xp6(2),o.Q6J("ngIf",null!=(null==i.signupForm.controls.lname?null:i.signupForm.controls.lname.errors)&&i.signupForm.controls.lname.touched||null!=(null==i.signupForm.controls.lname?null:i.signupForm.controls.lname.errors)&&i.submited),o.xp6(3),o.Q6J("inputname",i.signupForm.get("mobile")),o.xp6(1),o.Q6J("ngIf",null!=(null==i.signupForm.controls.mobile?null:i.signupForm.controls.mobile.errors)&&i.signupForm.controls.mobile.touched||null!=(null==i.signupForm.controls.mobile?null:i.signupForm.controls.mobile.errors)&&i.submited),o.xp6(3),o.s9C("placeholder",o.lcZ(26,40,"dob")),o.xp6(3),o.Q6J("ngIf",null!=(null==i.signupForm.controls.dob?null:i.signupForm.controls.dob.errors)&&i.signupForm.controls.dob.touched||null!=(null==i.signupForm.controls.dob?null:i.signupForm.controls.dob.errors)&&i.submited),o.xp6(5),o.Oqu(o.lcZ(33,42,"area")),o.xp6(2),o.Q6J("ngForOf",i.areas),o.xp6(1),o.Q6J("ngIf",null!=(null==i.signupForm.controls.area_id?null:i.signupForm.controls.area_id.errors)&&i.signupForm.controls.area_id.touched||null!=(null==i.signupForm.controls.area_id?null:i.signupForm.controls.area_id.errors)&&i.submited),o.xp6(5),o.Oqu(o.lcZ(41,44,"gender")),o.xp6(3),o.Oqu(o.lcZ(44,46,"male")),o.xp6(3),o.Oqu(o.lcZ(47,48,"female")),o.xp6(2),o.Q6J("ngIf",null!=(null==i.signupForm.controls.gender?null:i.signupForm.controls.gender.errors)&&i.signupForm.controls.gender.touched||null!=(null==i.signupForm.controls.gender?null:i.signupForm.controls.gender.errors)&&i.submited),o.xp6(3),o.s9C("placeholder",o.lcZ(52,50,"email")),o.xp6(2),o.Q6J("ngIf",null!=(null==i.signupForm.controls.email?null:i.signupForm.controls.email.errors)&&i.signupForm.controls.email.touched||null!=(null==i.signupForm.controls.email?null:i.signupForm.controls.email.errors)&&i.submited),o.xp6(3),o.s9C("placeholder",o.lcZ(57,52,"confirm_email")),o.xp6(2),o.Q6J("ngIf",(null==i.signupForm.controls.email?null:i.signupForm.controls.email.value)!=(null==i.signupForm.controls.confirm_email?null:i.signupForm.controls.confirm_email.value)&&i.signupForm.controls.confirm_email.touched||(null==i.signupForm.controls.email?null:i.signupForm.controls.email.value)!=(null==i.signupForm.controls.confirm_email?null:i.signupForm.controls.confirm_email.value)&&i.submited),o.xp6(3),o.s9C("placeholder",o.lcZ(62,54,"password")),o.xp6(2),o.Q6J("ngIf",null!=(null==i.signupForm.controls.password?null:i.signupForm.controls.password.errors)&&i.signupForm.controls.password.touched||null!=(null==i.signupForm.controls.password?null:i.signupForm.controls.password.errors)&&i.submited),o.xp6(3),o.s9C("placeholder",o.lcZ(67,56,"confirm_password")),o.xp6(2),o.Q6J("ngIf",(null==i.signupForm.controls.password?null:i.signupForm.controls.password.value)!=(null==i.signupForm.controls.confirm_password?null:i.signupForm.controls.confirm_password.value)&&i.signupForm.controls.confirm_password.touched||(null==i.signupForm.controls.password?null:i.signupForm.controls.password.value)!=(null==i.signupForm.controls.confirm_password?null:i.signupForm.controls.confirm_password.value)&&i.submited),o.xp6(3),o.Q6J("disabled",i.loading),o.xp6(1),o.hij(" ",o.lcZ(73,58,"signup")," "),o.xp6(2),o.Q6J("ngIf",i.loading),o.xp6(4),o.hij(" ",o.lcZ(79,60,"Already_have_account")," "),o.xp6(3),o.Oqu(o.lcZ(82,62,"signin")),o.xp6(2),o.Q6J("ngIf",i.showVerificationpopup))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,F.mh,m.O5,w.r,r.EJ,r.YN,r.Kr,m.sg,g.yS,m.mk,m.PC,r.wV,r.oH],pipes:[_.X$],styles:[".iti{width:100%!important}@media only screen and (min-width: 992px){.signup.heightc[_ngcontent-%COMP%]{height:100vh;overflow:auto}}@media only screen and (max-width: 992px){.signup.heightc[_ngcontent-%COMP%]{height:auto!important}}"]}),n})()}]}];let Co=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[g.Bz.forChild(Fo)],g.Bz]}),n})();var Ao=d(5611);let To=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[m.ez,Co,Ao.m]]}),n})()}}]);