"use strict";var sC=Object.defineProperty,oC=Object.defineProperties,aC=Object.getOwnPropertyDescriptors,iE=Object.getOwnPropertySymbols,lC=Object.prototype.hasOwnProperty,uC=Object.prototype.propertyIsEnumerable,rE=(Qt,We,x)=>We in Qt?sC(Qt,We,{enumerable:!0,configurable:!0,writable:!0,value:x}):Qt[We]=x,sE=(Qt,We)=>{for(var x in We||(We={}))lC.call(We,x)&&rE(Qt,x,We[x]);if(iE)for(var x of iE(We))uC.call(We,x)&&rE(Qt,x,We[x]);return Qt},oE=(Qt,We)=>oC(Qt,aC(We));(self.webpackChunkjoin=self.webpackChunkjoin||[]).push([[179],{440:(Qt,We,x)=>{x.d(We,{nm:()=>Ci});var f=x(6351);x(5e3),x(5867);var ge=x(5861),be=x(9681),Qe=x(4859),bt=x(2090),K=x(1877);const Je=new Map,nt={activated:!1,tokenObservers:[]},ke={initialized:!1,enabled:!1};function Ue(ot){return Je.get(ot)||Object.assign({},nt)}function it(){return ke}class Se{constructor(Ye,pt,Bt,ln,En){if(this.operation=Ye,this.retryPolicy=pt,this.getWaitDuration=Bt,this.lowerBound=ln,this.upperBound=En,this.pending=null,this.nextErrorWaitInterval=ln,ln>En)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ye){var pt=this;return(0,ge.Z)(function*(){pt.stop();try{pt.pending=new bt.BH,yield function qe(ot){return new Promise(Ye=>{setTimeout(Ye,ot)})}(pt.getNextRun(Ye)),pt.pending.resolve(),yield pt.pending.promise,pt.pending=new bt.BH,yield pt.operation(),pt.pending.resolve(),yield pt.pending.promise,pt.process(!0).catch(()=>{})}catch(Bt){pt.retryPolicy(Bt)?pt.process(!1).catch(()=>{}):pt.stop()}})()}getNextRun(Ye){if(Ye)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const pt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),pt}}}const Ht=new bt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yn(ot){if(!Ue(ot).activated)throw Ht.create("use-before-activation",{appName:ot.name})}function Xn(ot,Ye){return jn.apply(this,arguments)}function jn(){return(jn=(0,ge.Z)(function*({url:ot,body:Ye},pt){var Bt,ln;const En={"Content-Type":"application/json"},$n=pt.getImmediate({optional:!0});if($n){const Zr=yield $n.getHeartbeatsHeader();Zr&&(En["X-Firebase-Client"]=Zr)}const qi={method:"POST",body:JSON.stringify(Ye),headers:En};let Ri,as;try{Ri=yield fetch(ot,qi)}catch(Zr){throw Ht.create("fetch-network-error",{originalErrorMessage:null===(Bt=Zr)||void 0===Bt?void 0:Bt.message})}if(200!==Ri.status)throw Ht.create("fetch-status-error",{httpStatus:Ri.status});try{as=yield Ri.json()}catch(Zr){throw Ht.create("fetch-parse-error",{originalErrorMessage:null===(ln=Zr)||void 0===ln?void 0:ln.message})}const As=as.ttl.match(/^([\d.]+)(s)$/);if(!As||!As[2]||isNaN(Number(As[1])))throw Ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${as.ttl}`});const hr=1e3*Number(As[1]),$o=Date.now();return{token:as.token,expireTimeMillis:$o+hr,issuedAtTimeMillis:$o}})).apply(this,arguments)}function Si(ot,Ye){const{projectId:pt,appId:Bt,apiKey:ln}=ot.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${pt}/apps/${Bt}:exchangeDebugToken?key=${ln}`,body:{debug_token:Ye}}}const on="firebase-app-check-store";let ni=null;function rn(){return ni||(ni=new Promise((ot,Ye)=>{var pt;try{const Bt=indexedDB.open("firebase-app-check-database",1);Bt.onsuccess=ln=>{ot(ln.target.result)},Bt.onerror=ln=>{var En;Ye(Ht.create("storage-open",{originalErrorMessage:null===(En=ln.target.error)||void 0===En?void 0:En.message}))},Bt.onupgradeneeded=ln=>{0===ln.oldVersion&&ln.target.result.createObjectStore(on,{keyPath:"compositeKey"})}}catch(Bt){Ye(Ht.create("storage-open",{originalErrorMessage:null===(pt=Bt)||void 0===pt?void 0:pt.message}))}}),ni)}function Ut(){return(Ut=(0,ge.Z)(function*(ot,Ye){const Bt=(yield rn()).transaction(on,"readwrite"),En=Bt.objectStore(on).put({compositeKey:ot,value:Ye});return new Promise(($n,qi)=>{En.onsuccess=Ri=>{$n()},Bt.onerror=Ri=>{var as;qi(Ht.create("storage-set",{originalErrorMessage:null===(as=Ri.target.error)||void 0===as?void 0:as.message}))}})})).apply(this,arguments)}const Re=new K.Yd("@firebase/app-check");function Ke(ot,Ye){return(0,bt.hl)()?function vi(ot,Ye){return function Ge(ot,Ye){return Ut.apply(this,arguments)}(function Zt(ot){return`${ot.options.appId}-${ot.name}`}(ot),Ye)}(ot,Ye).catch(pt=>{Re.warn(`Failed to write token to IndexedDB. Error: ${pt}`)}):Promise.resolve()}function Tt(){return it().enabled}function _n(){return fn.apply(this,arguments)}function fn(){return(fn=(0,ge.Z)(function*(){const ot=it();if(ot.enabled&&ot.token)return ot.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const W={error:"UNKNOWN_ERROR"};function he(ot){return bt.US.encodeString(JSON.stringify(ot),!1)}function _e(ot){return Le.apply(this,arguments)}function Le(){return(Le=(0,ge.Z)(function*(ot,Ye=!1){const pt=ot.app;yn(pt);const Bt=Ue(pt);let En,ln=Bt.token;if(ln&&!ye(ln)&&(Bt.token=void 0,ln=void 0),!ln){const Ri=yield Bt.cachedTokenPromise;Ri&&(ye(Ri)?ln=Ri:yield Ke(pt,void 0))}if(!Ye&&ln&&ye(ln))return{token:ln.token};let qi,$n=!1;if(Tt()){Bt.exchangeTokenPromise||(Bt.exchangeTokenPromise=Xn(Si(pt,yield _n()),ot.heartbeatServiceProvider).finally(()=>{Bt.exchangeTokenPromise=void 0}),$n=!0);const Ri=yield Bt.exchangeTokenPromise;return yield Ke(pt,Ri),Bt.token=Ri,{token:Ri.token}}try{Bt.exchangeTokenPromise||(Bt.exchangeTokenPromise=Bt.provider.getToken().finally(()=>{Bt.exchangeTokenPromise=void 0}),$n=!0),ln=yield Ue(pt).exchangeTokenPromise}catch(Ri){"appCheck/throttled"===Ri.code?Re.warn(Ri.message):Re.error(Ri),En=Ri}return ln?En?qi=ye(ln)?{token:ln.token,internalError:En}:X(En):(qi={token:ln.token},Bt.token=ln,yield Ke(pt,ln)):qi=X(En),$n&&Me(pt,qi),qi})).apply(this,arguments)}function Ft(ot,Ye){const pt=Ue(ot),Bt=pt.tokenObservers.filter(ln=>ln.next!==Ye);0===Bt.length&&pt.tokenRefresher&&pt.tokenRefresher.isRunning()&&pt.tokenRefresher.stop(),pt.tokenObservers=Bt}function fe(ot){const{app:Ye}=ot,pt=Ue(Ye);let Bt=pt.tokenRefresher;Bt||(Bt=function pe(ot){const{app:Ye}=ot;return new Se((0,ge.Z)(function*(){let Bt;if(Bt=Ue(Ye).token?yield _e(ot,!0):yield _e(ot),Bt.error)throw Bt.error;if(Bt.internalError)throw Bt.internalError}),()=>!0,()=>{const pt=Ue(Ye);if(pt.token){let Bt=pt.token.issuedAtTimeMillis+.5*(pt.token.expireTimeMillis-pt.token.issuedAtTimeMillis)+3e5;return Bt=Math.min(Bt,pt.token.expireTimeMillis-3e5),Math.max(0,Bt-Date.now())}return 0},3e4,96e4)}(ot),pt.tokenRefresher=Bt),!Bt.isRunning()&&pt.isTokenAutoRefreshEnabled&&Bt.start()}function Me(ot,Ye){const pt=Ue(ot).tokenObservers;for(const Bt of pt)try{"EXTERNAL"===Bt.type&&null!=Ye.error?Bt.error(Ye.error):Bt.next(Ye)}catch(ln){}}function ye(ot){return ot.expireTimeMillis-Date.now()>0}function X(ot){return{token:he(W),error:ot}}class ${constructor(Ye,pt){this.app=Ye,this.heartbeatServiceProvider=pt}_delete(){const{tokenObservers:Ye}=Ue(this.app);for(const pt of Ye)Ft(this.app,pt.next);return Promise.resolve()}}const gn="app-check-internal";!function rr(){(0,be._registerComponent)(new Qe.wA("app-check",ot=>function ee(ot,Ye){return new $(ot,Ye)}(ot.getProvider("app").getImmediate(),ot.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ot,Ye,pt)=>{ot.getProvider(gn).initialize()})),(0,be._registerComponent)(new Qe.wA(gn,ot=>function ne(ot){return{getToken:Ye=>_e(ot,Ye),addTokenListener:Ye=>function vt(ot,Ye,pt,Bt){const{app:ln}=ot,En=Ue(ln);if(En.tokenObservers=[...En.tokenObservers,{next:pt,error:Bt,type:Ye}],En.token&&ye(En.token)){const qi=En.token;Promise.resolve().then(()=>{pt({token:qi.token}),fe(ot)}).catch(()=>{})}En.cachedTokenPromise.then(()=>fe(ot))}(ot,"INTERNAL",Ye),removeTokenListener:Ye=>Ft(ot.app,Ye)}}(ot.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)("@firebase/app-check","0.5.17")}();class Ci{constructor(){return(0,f.vb)("app-check")}}"undefined"!=typeof window&&window},3385:(Qt,We,x)=>{x.d(We,{zQ:()=>Ue,ww:()=>et,rT:()=>K,f7:()=>nt,L6:()=>Qe,_Q:()=>bt,lh:()=>Je,Qv:()=>be,nw:()=>ke});var f=x(5e3),h=x(7579),G=x(9646),Ce=x(8306),ve=x(8996),Ne=x(6451),Ee=x(3900),ce=x(576);function Q(it,st){return(0,ce.m)(st)?(0,Ee.w)(()=>it,st):(0,Ee.w)(()=>it)}var J=x(5363),le=x(4004),De=x(3151),lt=x(590),Ve=x(9468),at=x(9300),ut=x(6351),ze=x(2011),ct=x(9808),Be=x(440),gt=x(127);const be=new f.OlP("angularfire2.auth.use-emulator"),Qe=new f.OlP("angularfire2.auth.settings"),bt=new f.OlP("angularfire2.auth.tenant-id"),K=new f.OlP("angularfire2.auth.langugage-code"),Je=new f.OlP("angularfire2.auth.use-device-language"),nt=new f.OlP("angularfire.auth.persistence"),ke=(it,st,xt,tn,ft,mt,q,Se)=>(0,ze.cc)(`${it.name}.auth`,"AngularFireAuth",it.name,()=>{const qe=st.runOutsideAngular(()=>it.auth());if(xt&&qe.useEmulator(...xt),tn&&(qe.tenantId=tn),qe.languageCode=ft,mt&&qe.useDeviceLanguage(),q)for(const[Rt,Ht]of Object.entries(q))qe.settings[Rt]=Ht;return Se&&qe.setPersistence(Se),qe},[xt,tn,ft,mt,q,Se]);let Ue=(()=>{class it{constructor(xt,tn,ft,mt,q,Se,qe,Rt,Ht,nn,yn,xn){const Vn=new h.x,Xn=(0,G.of)(void 0).pipe((0,J.Q)(q.outsideAngular),(0,Ee.w)(()=>mt.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,5881)))),(0,le.U)(()=>(0,ze.on)(xt,mt,tn)),(0,le.U)(jn=>ke(jn,mt,Se,Rt,Ht,nn,qe,yn)),(0,De.d)({bufferSize:1,refCount:!1}));if((0,ct.PM)(ft))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,G.of)(null);else{Xn.pipe((0,lt.P)()).subscribe();const li=Xn.pipe((0,Ee.w)(On=>On.getRedirectResult().then(wi=>wi,()=>null)),ut.iC,(0,De.d)({bufferSize:1,refCount:!1})),Qn=Xn.pipe((0,Ee.w)(On=>new Ce.y(wi=>({unsubscribe:mt.runOutsideAngular(()=>On.onAuthStateChanged(on=>wi.next(on),on=>wi.error(on),()=>wi.complete()))})))),Si=Xn.pipe((0,Ee.w)(On=>new Ce.y(wi=>({unsubscribe:mt.runOutsideAngular(()=>On.onIdTokenChanged(on=>wi.next(on),on=>wi.error(on),()=>wi.complete()))}))));this.authState=li.pipe(Q(Qn),(0,Ve.R)(q.outsideAngular),(0,J.Q)(q.insideAngular)),this.user=li.pipe(Q(Si),(0,Ve.R)(q.outsideAngular),(0,J.Q)(q.insideAngular)),this.idToken=this.user.pipe((0,Ee.w)(On=>On?(0,ve.D)(On.getIdToken()):(0,G.of)(null))),this.idTokenResult=this.user.pipe((0,Ee.w)(On=>On?(0,ve.D)(On.getIdTokenResult()):(0,G.of)(null))),this.credential=(0,Ne.T)(li,Vn,this.authState.pipe((0,at.h)(On=>!On))).pipe((0,le.U)(On=>(null==On?void 0:On.user)?On:null),(0,Ve.R)(q.outsideAngular),(0,J.Q)(q.insideAngular))}return(0,ze.pX)(this,Xn,mt,{spy:{apply:(jn,li,Qn)=>{(jn.startsWith("signIn")||jn.startsWith("createUser"))&&Qn.then(Si=>Vn.next(Si))}}})}}return it.\u0275fac=function(xt){return new(xt||it)(f.LFG(ze.Dh),f.LFG(ze.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ut.HU),f.LFG(be,8),f.LFG(Qe,8),f.LFG(bt,8),f.LFG(K,8),f.LFG(Je,8),f.LFG(nt,8),f.LFG(Be.nm,8))},it.\u0275prov=f.Yz7({token:it,factory:it.\u0275fac,providedIn:"any"}),it})(),et=(()=>{class it{constructor(){gt.Z.registerVersion("angularfire",ut.q4.full,"auth-compat")}}return it.\u0275fac=function(xt){return new(xt||it)},it.\u0275mod=f.oAB({type:it}),it.\u0275inj=f.cJS({providers:[Ue]}),it})()},2011:(Qt,We,x)=>{x.d(We,{Dh:()=>ce,GT:()=>Ne,cc:()=>Ve,hO:()=>lt,on:()=>J,pX:()=>ve,xv:()=>Q});var f=x(5e3),h=x(127),G=x(6351);Qt=x.hmd(Qt);const Ce=["ngOnDestroy"],ve=(ct,Be,gt,ge={})=>new Proxy(ct,{get:(be,Qe)=>gt.runOutsideAngular(()=>{var bt;if(ct[Qe])return(null===(bt=null==ge?void 0:ge.spy)||void 0===bt?void 0:bt.get)&&ge.spy.get(Qe,ct[Qe]),ct[Qe];if(Ce.indexOf(Qe)>-1)return()=>{};const K=Be.toPromise().then(Je=>{const nt=Je&&Je[Qe];return"function"==typeof nt?nt.bind(Je):nt&&nt.then?nt.then(ke=>gt.run(()=>ke)):gt.run(()=>nt)});return new Proxy(()=>{},{get:(Je,nt)=>K[nt],apply:(Je,nt,ke)=>K.then(Ue=>{var et;const it=Ue&&Ue(...ke);return(null===(et=null==ge?void 0:ge.spy)||void 0===et?void 0:et.apply)&&ge.spy.apply(Qe,ke,it),it})})})}),Ne=(ct,Be)=>{Be.forEach(gt=>{Object.getOwnPropertyNames(gt.prototype||gt).forEach(ge=>{Object.defineProperty(ct.prototype,ge,Object.getOwnPropertyDescriptor(gt.prototype||gt,ge))})})};class Ee{constructor(Be){return Be}}const ce=new f.OlP("angularfire2.app.options"),Q=new f.OlP("angularfire2.app.name");function J(ct,Be,gt){const be="object"==typeof gt&&gt||{};be.name=be.name||"string"==typeof gt&&gt||"[DEFAULT]";const bt=h.Z.apps.filter(K=>K&&K.name===be.name)[0]||Be.runOutsideAngular(()=>h.Z.initializeApp(ct,be));try{JSON.stringify(ct)!==JSON.stringify(bt.options)&&le("error",`${bt.name} Firebase App already initialized with different options${Qt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(K){}return new Ee(bt)}const le=(ct,...Be)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[ct](...Be)},De={provide:Ee,useFactory:J,deps:[ce,f.R0b,[new f.FiY,Q]]};let lt=(()=>{class ct{constructor(gt){h.Z.registerVersion("angularfire",G.q4.full,"core"),h.Z.registerVersion("angularfire",G.q4.full,"app-compat"),h.Z.registerVersion("angular",f.q4F.full,gt.toString())}static initializeApp(gt,ge){return{ngModule:ct,providers:[{provide:ce,useValue:gt},{provide:Q,useValue:ge}]}}}return ct.\u0275fac=function(gt){return new(gt||ct)(f.LFG(f.Lbi))},ct.\u0275mod=f.oAB({type:ct}),ct.\u0275inj=f.cJS({providers:[De]}),ct})();function Ve(ct,Be,gt,ge,be){const[,Qe,bt]=globalThis.\u0275AngularfireInstanceCache.find(K=>K[0]===ct)||[];if(Qe)return function at(ct,Be){try{return ct.toString()===Be.toString()}catch(gt){return ct===Be}}(be,bt)||(ze("error",`${Be} was already initialized on the ${gt} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),ze("warn",{is:be,was:bt})),Qe;{const K=ge();return globalThis.\u0275AngularfireInstanceCache.push([ct,K,be]),K}}const ut=!!Qt.hot,ze=(ct,...Be)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[ct](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Qt,We,x)=>{x.d(We,{q4:()=>Yo,iC:()=>Qo,HU:()=>Za,vb:()=>Wa,JM:()=>No});var f=x(5e3),h=x(5867),G=x(5861),Ce=x(9681),ve=x(2090),Ne=x(4859),Ee=x(1877),ce=x(8766);const Q="@firebase/installations",J="0.5.16",De=`w:${J}`,lt="FIS_v2",Be=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gt(R){return R instanceof ve.ZR&&R.code.includes("request-failed")}function ge({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function be(R){return{token:R.token,requestStatus:2,expiresIn:Ue(R.expiresIn),creationTime:Date.now()}}function Qe(R,U){return bt.apply(this,arguments)}function bt(){return(bt=(0,G.Z)(function*(R,U){const Ie=(yield U.json()).error;return Be.create("request-failed",{requestName:R,serverCode:Ie.code,serverMessage:Ie.message,serverStatus:Ie.status})})).apply(this,arguments)}function K({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function Je(R,{refreshToken:U}){const oe=K(R);return oe.append("Authorization",function et(R){return`${lt} ${R}`}(U)),oe}function nt(R){return ke.apply(this,arguments)}function ke(){return(ke=(0,G.Z)(function*(R){const U=yield R();return U.status>=500&&U.status<600?R():U})).apply(this,arguments)}function Ue(R){return Number(R.replace("s","000"))}function it(R,U){return st.apply(this,arguments)}function st(){return(st=(0,G.Z)(function*({appConfig:R,heartbeatServiceProvider:U},{fid:oe}){const Ie=ge(R),rt=K(R),Et=U.getImmediate({optional:!0});if(Et){const ai=yield Et.getHeartbeatsHeader();ai&&rt.append("x-firebase-client",ai)}const dn={method:"POST",headers:rt,body:JSON.stringify({fid:oe,authVersion:lt,appId:R.appId,sdkVersion:De})},Bn=yield nt(()=>fetch(Ie,dn));if(Bn.ok){const ai=yield Bn.json();return{fid:ai.fid||oe,registrationStatus:2,refreshToken:ai.refreshToken,authToken:be(ai.authToken)}}throw yield Qe("Create Installation",Bn)})).apply(this,arguments)}function xt(R){return new Promise(U=>{setTimeout(U,R)})}const ft=/^[cdef][\w-]{21}$/;function q(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const oe=function Se(R){return function tn(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return ft.test(oe)?oe:""}catch(R){return""}}function qe(R){return`${R.appName}!${R.appId}`}const Rt=new Map;function Ht(R,U){const oe=qe(R);xn(oe,U),function Vn(R,U){const oe=function jn(){return!Xn&&"BroadcastChannel"in self&&(Xn=new BroadcastChannel("[Firebase] FID Change"),Xn.onmessage=R=>{xn(R.data.key,R.data.fid)}),Xn}();oe&&oe.postMessage({key:R,fid:U}),function li(){0===Rt.size&&Xn&&(Xn.close(),Xn=null)}()}(oe,U)}function xn(R,U){const oe=Rt.get(R);if(oe)for(const Ie of oe)Ie(U)}let Xn=null;const On="firebase-installations-store";let wi=null;function on(){return wi||(wi=(0,ce.X3)("firebase-installations-database",1,{upgrade:(R,U)=>{0===U&&R.createObjectStore(On)}})),wi}function ki(R,U){return ni.apply(this,arguments)}function ni(){return(ni=(0,G.Z)(function*(R,U){const oe=qe(R),rt=(yield on()).transaction(On,"readwrite"),Et=rt.objectStore(On),Jt=yield Et.get(oe);return yield Et.put(U,oe),yield rt.done,(!Jt||Jt.fid!==U.fid)&&Ht(R,U.fid),U})).apply(this,arguments)}function rn(R){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,G.Z)(function*(R){const U=qe(R),Ie=(yield on()).transaction(On,"readwrite");yield Ie.objectStore(On).delete(U),yield Ie.done})).apply(this,arguments)}function vi(R,U){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,G.Z)(function*(R,U){const oe=qe(R),rt=(yield on()).transaction(On,"readwrite"),Et=rt.objectStore(On),Jt=yield Et.get(oe),dn=U(Jt);return void 0===dn?yield Et.delete(oe):yield Et.put(dn,oe),yield rt.done,dn&&(!Jt||Jt.fid!==dn.fid)&&Ht(R,dn.fid),dn})).apply(this,arguments)}function Fe(R){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,G.Z)(function*(R){let U;const oe=yield vi(R.appConfig,Ie=>{const rt=Ut(Ie),Et=It(R,rt);return U=Et.registrationPromise,Et.installationEntry});return""===oe.fid?{installationEntry:yield U}:{installationEntry:oe,registrationPromise:U}})).apply(this,arguments)}function Ut(R){return Ke(R||{fid:q(),registrationStatus:0})}function It(R,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(Be.create("app-offline"))};const oe={fid:U.fid,registrationStatus:1,registrationTime:Date.now()},Ie=function Nt(R,U){return Zt.apply(this,arguments)}(R,oe);return{installationEntry:oe,registrationPromise:Ie}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:Re(R)}:{installationEntry:U}}function Zt(){return(Zt=(0,G.Z)(function*(R,U){try{const oe=yield it(R,U);return ki(R.appConfig,oe)}catch(oe){throw gt(oe)&&409===oe.customData.serverCode?yield rn(R.appConfig):yield ki(R.appConfig,{fid:U.fid,registrationStatus:0}),oe}})).apply(this,arguments)}function Re(R){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,G.Z)(function*(R){let U=yield we(R.appConfig);for(;1===U.registrationStatus;)yield xt(100),U=yield we(R.appConfig);if(0===U.registrationStatus){const{installationEntry:oe,registrationPromise:Ie}=yield Fe(R);return Ie||oe}return U})).apply(this,arguments)}function we(R){return vi(R,U=>{if(!U)throw Be.create("installation-not-found");return Ke(U)})}function Ke(R){return function wt(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function Mt(R,U){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,G.Z)(function*({appConfig:R,heartbeatServiceProvider:U},oe){const Ie=_n(R,oe),rt=Je(R,oe),Et=U.getImmediate({optional:!0});if(Et){const ai=yield Et.getHeartbeatsHeader();ai&&rt.append("x-firebase-client",ai)}const dn={method:"POST",headers:rt,body:JSON.stringify({installation:{sdkVersion:De,appId:R.appId}})},Bn=yield nt(()=>fetch(Ie,dn));if(Bn.ok)return be(yield Bn.json());throw yield Qe("Generate Auth Token",Bn)})).apply(this,arguments)}function _n(R,{fid:U}){return`${ge(R)}/${U}/authTokens:generate`}function fn(R){return pn.apply(this,arguments)}function pn(){return(pn=(0,G.Z)(function*(R,U=!1){let oe;const Ie=yield vi(R.appConfig,Et=>{if(!Ft(Et))throw Be.create("not-registered");const Jt=Et.authToken;if(!U&&fe(Jt))return Et;if(1===Jt.requestStatus)return oe=W(R,U),Et;{if(!navigator.onLine)throw Be.create("app-offline");const dn=Me(Et);return oe=Le(R,dn),dn}});return oe?yield oe:Ie.authToken})).apply(this,arguments)}function W(R,U){return he.apply(this,arguments)}function he(){return(he=(0,G.Z)(function*(R,U){let oe=yield _e(R.appConfig);for(;1===oe.authToken.requestStatus;)yield xt(100),oe=yield _e(R.appConfig);const Ie=oe.authToken;return 0===Ie.requestStatus?fn(R,U):Ie})).apply(this,arguments)}function _e(R){return vi(R,U=>{if(!Ft(U))throw Be.create("not-registered");return function ye(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function Le(R,U){return vt.apply(this,arguments)}function vt(){return(vt=(0,G.Z)(function*(R,U){try{const oe=yield Mt(R,U),Ie=Object.assign(Object.assign({},U),{authToken:oe});return yield ki(R.appConfig,Ie),oe}catch(oe){if(!gt(oe)||401!==oe.customData.serverCode&&404!==oe.customData.serverCode){const Ie=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield ki(R.appConfig,Ie)}else yield rn(R.appConfig);throw oe}})).apply(this,arguments)}function Ft(R){return void 0!==R&&2===R.registrationStatus}function fe(R){return 2===R.requestStatus&&!function pe(R){const U=Date.now();return U<R.creationTime||R.creationTime+R.expiresIn<U+36e5}(R)}function Me(R){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:U})}function $(){return($=(0,G.Z)(function*(R){const U=R,{installationEntry:oe,registrationPromise:Ie}=yield Fe(U);return Ie?Ie.catch(console.error):fn(U).catch(console.error),oe.fid})).apply(this,arguments)}function ne(){return(ne=(0,G.Z)(function*(R,U=!1){const oe=R;return yield xe(oe),(yield fn(oe,U)).token})).apply(this,arguments)}function xe(R){return tt.apply(this,arguments)}function tt(){return(tt=(0,G.Z)(function*(R){const{registrationPromise:U}=yield Fe(R);U&&(yield U)})).apply(this,arguments)}function Cr(R){return Be.create("missing-app-config-values",{valueName:R})}const xi="installations",Yn=R=>{const U=R.getProvider("app").getImmediate(),oe=function Di(R){if(!R||!R.options)throw Cr("App Configuration");if(!R.name)throw Cr("App Name");const U=["projectId","apiKey","appId"];for(const oe of U)if(!R.options[oe])throw Cr(oe);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(U);return{app:U,appConfig:oe,heartbeatServiceProvider:(0,Ce._getProvider)(U,"heartbeat"),_delete:()=>Promise.resolve()}},mi=R=>{const U=R.getProvider("app").getImmediate(),oe=(0,Ce._getProvider)(U,xi).getImmediate();return{getId:()=>function X(R){return $.apply(this,arguments)}(oe),getToken:rt=>function ee(R){return ne.apply(this,arguments)}(oe,rt)}};(function zi(){(0,Ce._registerComponent)(new Ne.wA(xi,Yn,"PUBLIC")),(0,Ce._registerComponent)(new Ne.wA("installations-internal",mi,"PRIVATE"))})(),(0,Ce.registerVersion)(Q,J),(0,Ce.registerVersion)(Q,J,"esm2017");const vr="@firebase/remote-config",Ii=new ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ds{constructor(U,oe,Ie,rt){this.client=U,this.storage=oe,this.storageCache=Ie,this.logger=rt}isCachedDataFresh(U,oe){if(!oe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ie=Date.now()-oe,rt=Ie<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${rt}.`),rt}fetch(U){var oe=this;return(0,G.Z)(function*(){const[Ie,rt]=yield Promise.all([oe.storage.getLastSuccessfulFetchTimestampMillis(),oe.storage.getLastSuccessfulFetchResponse()]);if(rt&&oe.isCachedDataFresh(U.cacheMaxAgeMillis,Ie))return rt;U.eTag=rt&&rt.eTag;const Et=yield oe.client.fetch(U),Jt=[oe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Et.status&&Jt.push(oe.storage.setLastSuccessfulFetchResponse(Et)),yield Promise.all(Jt),Et})()}}function Bs(R=navigator){return R.languages&&R.languages[0]||R.language}class er{constructor(U,oe,Ie,rt,Et,Jt){this.firebaseInstallations=U,this.sdkVersion=oe,this.namespace=Ie,this.projectId=rt,this.apiKey=Et,this.appId=Jt}fetch(U){var oe=this;return(0,G.Z)(function*(){var Ie,rt,Et;const[Jt,dn]=yield Promise.all([oe.firebaseInstallations.getId(),oe.firebaseInstallations.getToken()]),ai=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${oe.projectId}/namespaces/${oe.namespace}:fetch?key=${oe.apiKey}`,ri={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},zn={sdk_version:oe.sdkVersion,app_instance_id:Jt,app_instance_id_token:dn,app_id:oe.appId,language_code:Bs()},rs={method:"POST",headers:ri,body:JSON.stringify(zn)},Yi=fetch(ai,rs),dl=new Promise((ca,Da)=>{U.signal.addEventListener(()=>{const eo=new Error("The operation was aborted.");eo.name="AbortError",Da(eo)})});let Jo;try{yield Promise.race([Yi,dl]),Jo=yield Yi}catch(ca){let Da="fetch-client-network";throw"AbortError"===(null===(Ie=ca)||void 0===Ie?void 0:Ie.name)&&(Da="fetch-timeout"),Ii.create(Da,{originalErrorMessage:null===(rt=ca)||void 0===rt?void 0:rt.message})}let ks=Jo.status;const $l=Jo.headers.get("ETag")||void 0;let Ta,Ya;if(200===Jo.status){let ca;try{ca=yield Jo.json()}catch(Da){throw Ii.create("fetch-client-parse",{originalErrorMessage:null===(Et=Da)||void 0===Et?void 0:Et.message})}Ta=ca.entries,Ya=ca.state}if("INSTANCE_STATE_UNSPECIFIED"===Ya?ks=500:"NO_CHANGE"===Ya?ks=304:("NO_TEMPLATE"===Ya||"EMPTY_CONFIG"===Ya)&&(Ta={}),304!==ks&&200!==ks)throw Ii.create("fetch-status",{httpStatus:ks});return{status:ks,eTag:$l,config:Ta}})()}}class Ye{constructor(U,oe){this.client=U,this.storage=oe}fetch(U){var oe=this;return(0,G.Z)(function*(){const Ie=(yield oe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return oe.attemptFetch(U,Ie)})()}attemptFetch(U,{throttleEndTimeMillis:oe,backoffCount:Ie}){var rt=this;return(0,G.Z)(function*(){yield function bo(R,U){return new Promise((oe,Ie)=>{const rt=Math.max(U-Date.now(),0),Et=setTimeout(oe,rt);R.addEventListener(()=>{clearTimeout(Et),Ie(Ii.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,oe);try{const Et=yield rt.client.fetch(U);return yield rt.storage.deleteThrottleMetadata(),Et}catch(Et){if(!function ot(R){if(!(R instanceof ve.ZR&&R.customData))return!1;const U=Number(R.customData.httpStatus);return 429===U||500===U||503===U||504===U}(Et))throw Et;const Jt={throttleEndTimeMillis:Date.now()+(0,ve.$s)(Ie),backoffCount:Ie+1};return yield rt.storage.setThrottleMetadata(Jt),rt.attemptFetch(U,Jt)}})()}}class ln{constructor(U,oe,Ie,rt,Et){this.app=U,this._client=oe,this._storageCache=Ie,this._storage=rt,this._logger=Et,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function En(R,U){var oe;const Ie=R.target.error||void 0;return Ii.create(U,{originalErrorMessage:Ie&&(null===(oe=Ie)||void 0===oe?void 0:oe.message)})}const $n="app_namespace_store";class As{constructor(U,oe,Ie,rt=function as(){return new Promise((R,U)=>{var oe;try{const Ie=indexedDB.open("firebase_remote_config",1);Ie.onerror=rt=>{U(En(rt,"storage-open"))},Ie.onsuccess=rt=>{R(rt.target.result)},Ie.onupgradeneeded=rt=>{0===rt.oldVersion&&rt.target.result.createObjectStore($n,{keyPath:"compositeKey"})}}catch(Ie){U(Ii.create("storage-open",{originalErrorMessage:null===(oe=Ie)||void 0===oe?void 0:oe.message}))}})}()){this.appId=U,this.appName=oe,this.namespace=Ie,this.openDbPromise=rt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var oe=this;return(0,G.Z)(function*(){const Ie=yield oe.openDbPromise;return new Promise((rt,Et)=>{var Jt;const Bn=Ie.transaction([$n],"readonly").objectStore($n),ai=oe.createCompositeKey(U);try{const ri=Bn.get(ai);ri.onerror=zn=>{Et(En(zn,"storage-get"))},ri.onsuccess=zn=>{const rs=zn.target.result;rt(rs?rs.value:void 0)}}catch(ri){Et(Ii.create("storage-get",{originalErrorMessage:null===(Jt=ri)||void 0===Jt?void 0:Jt.message}))}})})()}set(U,oe){var Ie=this;return(0,G.Z)(function*(){const rt=yield Ie.openDbPromise;return new Promise((Et,Jt)=>{var dn;const ai=rt.transaction([$n],"readwrite").objectStore($n),ri=Ie.createCompositeKey(U);try{const zn=ai.put({compositeKey:ri,value:oe});zn.onerror=rs=>{Jt(En(rs,"storage-set"))},zn.onsuccess=()=>{Et()}}catch(zn){Jt(Ii.create("storage-set",{originalErrorMessage:null===(dn=zn)||void 0===dn?void 0:dn.message}))}})})()}delete(U){var oe=this;return(0,G.Z)(function*(){const Ie=yield oe.openDbPromise;return new Promise((rt,Et)=>{var Jt;const Bn=Ie.transaction([$n],"readwrite").objectStore($n),ai=oe.createCompositeKey(U);try{const ri=Bn.delete(ai);ri.onerror=zn=>{Et(En(zn,"storage-delete"))},ri.onsuccess=()=>{rt()}}catch(ri){Et(Ii.create("storage-delete",{originalErrorMessage:null===(Jt=ri)||void 0===Jt?void 0:Jt.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class hr{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,G.Z)(function*(){const oe=U.storage.getLastFetchStatus(),Ie=U.storage.getLastSuccessfulFetchTimestampMillis(),rt=U.storage.getActiveConfig(),Et=yield oe;Et&&(U.lastFetchStatus=Et);const Jt=yield Ie;Jt&&(U.lastSuccessfulFetchTimestampMillis=Jt);const dn=yield rt;dn&&(U.activeConfig=dn)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function Go(){return xr.apply(this,arguments)}function xr(){return(xr=(0,G.Z)(function*(){if(!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch(R){return!1}})).apply(this,arguments)}!function $o(){(0,Ce._registerComponent)(new Ne.wA("remote-config",function R(U,{instanceIdentifier:oe}){const Ie=U.getProvider("app").getImmediate(),rt=U.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ii.create("registration-window");if(!(0,ve.hl)())throw Ii.create("indexed-db-unavailable");const{projectId:Et,apiKey:Jt,appId:dn}=Ie.options;if(!Et)throw Ii.create("registration-project-id");if(!Jt)throw Ii.create("registration-api-key");if(!dn)throw Ii.create("registration-app-id");const Bn=new As(dn,Ie.name,oe=oe||"firebase"),ai=new hr(Bn),ri=new Ee.Yd(vr);ri.logLevel=Ee.in.ERROR;const zn=new er(rt,Ce.SDK_VERSION,oe,Et,Jt,dn),rs=new Ye(zn,Bn),Yi=new ds(rs,Bn,ai,ri),dl=new ln(Ie,Yi,ai,Bn,ri);return function Ei(R){const U=(0,ve.m9)(R);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(dl),dl},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(vr,"0.3.15"),(0,Ce.registerVersion)(vr,"0.3.15","esm2017")}();const Ss="/firebase-messaging-sw.js",Jn="/firebase-cloud-messaging-push-scope",Es="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hs="google.c.a.c_id",Ma="google.c.a.c_l",zo="google.c.a.ts",Xr="google.c.a.e";var Kr=(()=>{return(R=Kr||(Kr={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",Kr;var R})();function es(R){const U=new Uint8Array(R);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zs(R){const oe=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ie=atob(oe),rt=new Uint8Array(Ie.length);for(let Et=0;Et<Ie.length;++Et)rt[Et]=Ie.charCodeAt(Et);return rt}const Ni="fcm_token_details_db",Wo="fcm_token_object_Store";function na(R){return ls.apply(this,arguments)}function ls(){return ls=(0,G.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Et=>Et.name).includes(Ni))return null;let U=null;return(yield(0,ce.X3)(Ni,5,{upgrade:(Ie=(0,G.Z)(function*(rt,Et,Jt,dn){var Bn;if(Et<2||!rt.objectStoreNames.contains(Wo))return;const ai=dn.objectStore(Wo),ri=yield ai.index("fcmSenderId").get(R);if(yield ai.clear(),ri)if(2===Et){const zn=ri;if(!zn.auth||!zn.p256dh||!zn.endpoint)return;U={token:zn.fcmToken,createTime:null!==(Bn=zn.createTime)&&void 0!==Bn?Bn:Date.now(),subscriptionOptions:{auth:zn.auth,p256dh:zn.p256dh,endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:"string"==typeof zn.vapidKey?zn.vapidKey:es(zn.vapidKey)}}}else if(3===Et){const zn=ri;U={token:zn.fcmToken,createTime:zn.createTime,subscriptionOptions:{auth:es(zn.auth),p256dh:es(zn.p256dh),endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:es(zn.vapidKey)}}}else if(4===Et){const zn=ri;U={token:zn.fcmToken,createTime:zn.createTime,subscriptionOptions:{auth:es(zn.auth),p256dh:es(zn.p256dh),endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:es(zn.vapidKey)}}}}),function(Et,Jt,dn,Bn){return Ie.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Ni),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),_r(U)?U:null;var Ie}),ls.apply(this,arguments)}function _r(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:U}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}const Zn="firebase-messaging-store";let bs=null;function Fi(){return bs||(bs=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(R,U)=>{0===U&&R.createObjectStore(Zn)}})),bs}function V(R){return ie.apply(this,arguments)}function ie(){return(ie=(0,G.Z)(function*(R){const U=$t(R),Ie=yield(yield Fi()).transaction(Zn).objectStore(Zn).get(U);if(Ie)return Ie;{const rt=yield na(R.appConfig.senderId);if(rt)return yield F(R,rt),rt}})).apply(this,arguments)}function F(R,U){return ue.apply(this,arguments)}function ue(){return(ue=(0,G.Z)(function*(R,U){const oe=$t(R),rt=(yield Fi()).transaction(Zn,"readwrite");return yield rt.objectStore(Zn).put(U,oe),yield rt.done,U})).apply(this,arguments)}function $e(R){return St.apply(this,arguments)}function St(){return(St=(0,G.Z)(function*(R){const U=$t(R),Ie=(yield Fi()).transaction(Zn,"readwrite");yield Ie.objectStore(Zn).delete(U),yield Ie.done})).apply(this,arguments)}function $t({appConfig:R}){return R.appId}const Gn=new ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function yi(R,U){return ti.apply(this,arguments)}function ti(){return(ti=(0,G.Z)(function*(R,U){var oe;const Ie=yield N(R),rt=re(U),Et={method:"POST",headers:Ie,body:JSON.stringify(rt)};let Jt;try{Jt=yield(yield fetch(H(R.appConfig),Et)).json()}catch(dn){throw Gn.create("token-subscribe-failed",{errorInfo:null===(oe=dn)||void 0===oe?void 0:oe.toString()})}if(Jt.error)throw Gn.create("token-subscribe-failed",{errorInfo:Jt.error.message});if(!Jt.token)throw Gn.create("token-subscribe-no-token");return Jt.token})).apply(this,arguments)}function di(R,U){return tr.apply(this,arguments)}function tr(){return(tr=(0,G.Z)(function*(R,U){var oe;const Ie=yield N(R),rt=re(U.subscriptionOptions),Et={method:"PATCH",headers:Ie,body:JSON.stringify(rt)};let Jt;try{Jt=yield(yield fetch(`${H(R.appConfig)}/${U.token}`,Et)).json()}catch(dn){throw Gn.create("token-update-failed",{errorInfo:null===(oe=dn)||void 0===oe?void 0:oe.toString()})}if(Jt.error)throw Gn.create("token-update-failed",{errorInfo:Jt.error.message});if(!Jt.token)throw Gn.create("token-update-no-token");return Jt.token})).apply(this,arguments)}function Hi(R,U){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,G.Z)(function*(R,U){var oe;const rt={method:"DELETE",headers:yield N(R)};try{const Jt=yield(yield fetch(`${H(R.appConfig)}/${U}`,rt)).json();if(Jt.error)throw Gn.create("token-unsubscribe-failed",{errorInfo:Jt.error.message})}catch(Et){throw Gn.create("token-unsubscribe-failed",{errorInfo:null===(oe=Et)||void 0===oe?void 0:oe.toString()})}})).apply(this,arguments)}function H({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function N(R){return M.apply(this,arguments)}function M(){return(M=(0,G.Z)(function*({appConfig:R,installations:U}){const oe=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${oe}`})})).apply(this,arguments)}function re({p256dh:R,auth:U,endpoint:oe,vapidKey:Ie}){const rt={web:{endpoint:oe,auth:U,p256dh:R}};return Ie!==Es&&(rt.web.applicationPubKey=Ie),rt}const Pt=6048e5;function Sn(R){return Li.apply(this,arguments)}function Li(){return(Li=(0,G.Z)(function*(R){const U=yield ml(R.swRegistration,R.vapidKey),oe={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:U.endpoint,auth:es(U.getKey("auth")),p256dh:es(U.getKey("p256dh"))},Ie=yield V(R.firebaseDependencies);if(Ie){if(ya(Ie.subscriptionOptions,oe))return Date.now()>=Ie.createTime+Pt?Zo(R,{token:Ie.token,createTime:Date.now(),subscriptionOptions:oe}):Ie.token;try{yield Hi(R.firebaseDependencies,Ie.token)}catch(rt){console.warn(rt)}return Gt(R.firebaseDependencies,oe)}return Gt(R.firebaseDependencies,oe)})).apply(this,arguments)}function ws(R){return us.apply(this,arguments)}function us(){return(us=(0,G.Z)(function*(R){const U=yield V(R.firebaseDependencies);U&&(yield Hi(R.firebaseDependencies,U.token),yield $e(R.firebaseDependencies));const oe=yield R.swRegistration.pushManager.getSubscription();return!oe||oe.unsubscribe()})).apply(this,arguments)}function Zo(R,U){return ma.apply(this,arguments)}function ma(){return(ma=(0,G.Z)(function*(R,U){try{const oe=yield di(R.firebaseDependencies,U),Ie=Object.assign(Object.assign({},U),{token:oe,createTime:Date.now()});return yield F(R.firebaseDependencies,Ie),oe}catch(oe){throw yield ws(R),oe}})).apply(this,arguments)}function Gt(R,U){return bi.apply(this,arguments)}function bi(){return(bi=(0,G.Z)(function*(R,U){const Ie={token:yield yi(R,U),createTime:Date.now(),subscriptionOptions:U};return yield F(R,Ie),Ie.token})).apply(this,arguments)}function ml(R,U){return lr.apply(this,arguments)}function lr(){return(lr=(0,G.Z)(function*(R,U){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zs(U)})})).apply(this,arguments)}function ya(R,U){return U.vapidKey===R.vapidKey&&U.endpoint===R.endpoint&&U.auth===R.auth&&U.p256dh===R.p256dh}function Co(R){const U={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function Hs(R,U){if(!U.notification)return;R.notification={};const oe=U.notification.title;oe&&(R.notification.title=oe);const Ie=U.notification.body;Ie&&(R.notification.body=Ie);const rt=U.notification.image;rt&&(R.notification.image=rt);const Et=U.notification.icon;Et&&(R.notification.icon=Et)}(U,R),function Pa(R,U){!U.data||(R.data=U.data)}(U,R),function va(R,U){var oe,Ie,rt,Et,Jt;if(!U.fcmOptions&&!(null===(oe=U.notification)||void 0===oe?void 0:oe.click_action))return;R.fcmOptions={};const dn=null!==(rt=null===(Ie=U.fcmOptions)||void 0===Ie?void 0:Ie.link)&&void 0!==rt?rt:null===(Et=U.notification)||void 0===Et?void 0:Et.click_action;dn&&(R.fcmOptions.link=dn);const Bn=null===(Jt=U.fcmOptions)||void 0===Jt?void 0:Jt.analytics_label;Bn&&(R.fcmOptions.analyticsLabel=Bn)}(U,R),U}function yl(R){return"object"==typeof R&&!!R&&hs in R}function Ra(R,U){const oe=[];for(let Ie=0;Ie<R.length;Ie++)oe.push(R.charAt(Ie)),Ie<U.length&&oe.push(U.charAt(Ie));return oe.join("")}function Ks(R){return Gn.create("missing-app-config-values",{valueName:R})}Ra("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ra("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Mr{constructor(U,oe,Ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const rt=function lo(R){if(!R||!R.options)throw Ks("App Configuration Object");if(!R.name)throw Ks("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:oe}=R;for(const Ie of U)if(!oe[Ie])throw Ks(Ie);return{appName:R.name,projectId:oe.projectId,apiKey:oe.apiKey,appId:oe.appId,senderId:oe.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:rt,installations:oe,analyticsProvider:Ie}}_delete(){return Promise.resolve()}}function Os(R){return uo.apply(this,arguments)}function uo(){return(uo=(0,G.Z)(function*(R){var U;try{R.swRegistration=yield navigator.serviceWorker.register(Ss,{scope:Jn}),R.swRegistration.update().catch(()=>{})}catch(oe){throw Gn.create("failed-service-worker-registration",{browserErrorMessage:null===(U=oe)||void 0===U?void 0:U.message})}})).apply(this,arguments)}function Ar(R,U){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,G.Z)(function*(R,U){if(!U&&!R.swRegistration&&(yield Os(R)),U||!R.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw Gn.create("invalid-sw-registration");R.swRegistration=U}})).apply(this,arguments)}function ia(R,U){return To.apply(this,arguments)}function To(){return(To=(0,G.Z)(function*(R,U){U?R.vapidKey=U:R.vapidKey||(R.vapidKey=Es)})).apply(this,arguments)}function Ts(){return(Ts=(0,G.Z)(function*(R,U){if(!navigator)throw Gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gn.create("permission-blocked");return yield ia(R,null==U?void 0:U.vapidKey),yield Ar(R,null==U?void 0:U.serviceWorkerRegistration),Sn(R)})).apply(this,arguments)}function vl(R,U,oe){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,G.Z)(function*(R,U,oe){const Ie=Do(U);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(Ie,{message_id:oe[hs],message_name:oe[Ma],message_time:oe[zo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Do(R){switch(R){case Kr.NOTIFICATION_CLICKED:return"notification_open";case Kr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Io(){return(Io=(0,G.Z)(function*(R,U){const oe=U.data;if(!oe.isFirebaseMessaging)return;R.onMessageHandler&&oe.messageType===Kr.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(Co(oe)):R.onMessageHandler.next(Co(oe)));const Ie=oe.data;yl(Ie)&&"1"===Ie[Xr]&&(yield vl(R,oe.messageType,Ie))})).apply(this,arguments)}const ts="@firebase/messaging",So=R=>{const U=new Mr(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",oe=>function La(R,U){return Io.apply(this,arguments)}(U,oe)),U},ra=R=>{const U=R.getProvider("messaging").getImmediate();return{getToken:Ie=>function Na(R,U){return Ts.apply(this,arguments)}(U,Ie)}};function sa(){return xo.apply(this,arguments)}function xo(){return(xo=(0,G.Z)(function*(){try{yield(0,ve.eu)()}catch(R){return!1}return"undefined"!=typeof window&&(0,ve.hl)()&&(0,ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _l(){(0,Ce._registerComponent)(new Ne.wA("messaging",So,"PUBLIC")),(0,Ce._registerComponent)(new Ne.wA("messaging-internal",ra,"PRIVATE")),(0,Ce.registerVersion)(ts,"0.11.0"),(0,Ce.registerVersion)(ts,"0.11.0","esm2017")}();const Ds="analytics",ho="firebase_id",Kt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nr="https://www.googletagmanager.com/gtag/js",$i=new Ee.Yd("@firebase/analytics");function oa(R){return Promise.all(R.map(U=>U.catch(oe=>oe)))}function Pn(R,U){const oe=document.createElement("script");oe.src=`${nr}?l=${R}&id=${U}`,oe.async=!0,document.head.appendChild(oe)}function Is(R,U,oe,Ie,rt,Et){return hn.apply(this,arguments)}function hn(){return(hn=(0,G.Z)(function*(R,U,oe,Ie,rt,Et){const Jt=Ie[rt];try{if(Jt)yield U[Jt];else{const Bn=(yield oa(oe)).find(ai=>ai.measurementId===rt);Bn&&(yield U[Bn.appId])}}catch(dn){$i.error(dn)}R("config",rt,Et)})).apply(this,arguments)}function Dt(R,U,oe,Ie,rt){return zt.apply(this,arguments)}function zt(){return(zt=(0,G.Z)(function*(R,U,oe,Ie,rt){try{let Et=[];if(rt&&rt.send_to){let Jt=rt.send_to;Array.isArray(Jt)||(Jt=[Jt]);const dn=yield oa(oe);for(const Bn of Jt){const ai=dn.find(zn=>zn.measurementId===Bn),ri=ai&&U[ai.appId];if(!ri){Et=[];break}Et.push(ri)}}0===Et.length&&(Et=Object.values(U)),yield Promise.all(Et),R("event",Ie,rt||{})}catch(Et){$i.error(Et)}})).apply(this,arguments)}function ol(R){const U=window.document.getElementsByTagName("script");for(const oe of Object.values(U))if(oe.src&&oe.src.includes(nr)&&oe.src.includes(R))return oe;return null}const fs=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),is=new class Fa{constructor(U={},oe=1e3){this.throttleMetadata=U,this.intervalMillis=oe}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,oe){this.throttleMetadata[U]=oe}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function Ea(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function Va(R){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,G.Z)(function*(R){var U;const{appId:oe,apiKey:Ie}=R,rt={method:"GET",headers:Ea(Ie)},Et=Kt.replace("{app-id}",oe),Jt=yield fetch(Et,rt);if(200!==Jt.status&&304!==Jt.status){let dn="";try{const Bn=yield Jt.json();(null===(U=Bn.error)||void 0===U?void 0:U.message)&&(dn=Bn.error.message)}catch(Bn){}throw fs.create("config-fetch-failed",{httpStatus:Jt.status,responseMessage:dn})}return Jt.json()})).apply(this,arguments)}function ii(R){return ps.apply(this,arguments)}function ps(){return(ps=(0,G.Z)(function*(R,U=is,oe){const{appId:Ie,apiKey:rt,measurementId:Et}=R.options;if(!Ie)throw fs.create("no-app-id");if(!rt){if(Et)return{measurementId:Et,appId:Ie};throw fs.create("no-api-key")}const Jt=U.getThrottleMetadata(Ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dn=new D;return setTimeout((0,G.Z)(function*(){dn.abort()}),void 0!==oe?oe:6e4),ba({appId:Ie,apiKey:rt,measurementId:Et},Jt,dn,U)})).apply(this,arguments)}function ba(R,U,oe){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,G.Z)(function*(R,{throttleEndTimeMillis:U,backoffCount:oe},Ie,rt=is){var Et,Jt;const{appId:dn,measurementId:Bn}=R;try{yield ei(Ie,U)}catch(ai){if(Bn)return $i.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bn} provided in the "measurementId" field in the local Firebase config. [${null===(Et=ai)||void 0===Et?void 0:Et.message}]`),{appId:dn,measurementId:Bn};throw ai}try{const ai=yield Va(R);return rt.deleteThrottleMetadata(dn),ai}catch(ai){const ri=ai;if(!O(ri)){if(rt.deleteThrottleMetadata(dn),Bn)return $i.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bn} provided in the "measurementId" field in the local Firebase config. [${null==ri?void 0:ri.message}]`),{appId:dn,measurementId:Bn};throw ai}const zn=503===Number(null===(Jt=null==ri?void 0:ri.customData)||void 0===Jt?void 0:Jt.httpStatus)?(0,ve.$s)(oe,rt.intervalMillis,30):(0,ve.$s)(oe,rt.intervalMillis),rs={throttleEndTimeMillis:Date.now()+zn,backoffCount:oe+1};return rt.setThrottleMetadata(dn,rs),$i.debug(`Calling attemptFetch again in ${zn} millis`),ba(R,rs,Ie,rt)}})).apply(this,arguments)}function ei(R,U){return new Promise((oe,Ie)=>{const rt=Math.max(U-Date.now(),0),Et=setTimeout(oe,rt);R.addEventListener(()=>{clearTimeout(Et),Ie(fs.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}function O(R){if(!(R instanceof ve.ZR&&R.customData))return!1;const U=Number(R.customData.httpStatus);return 429===U||500===U||503===U||504===U}class D{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}let w,Pi;function k(){return(k=(0,G.Z)(function*(R,U,oe,Ie,rt){if(rt&&rt.global)R("event",oe,Ie);else{const Et=yield U;R("event",oe,Object.assign(Object.assign({},Ie),{send_to:Et}))}})).apply(this,arguments)}function gr(R){Pi=R}function po(R){w=R}function Oo(){return go.apply(this,arguments)}function go(){return(go=(0,G.Z)(function*(){var R;if(!(0,ve.hl)())return $i.warn(fs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(U){return $i.warn(fs.create("indexeddb-unavailable",{errorInfo:null===(R=U)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function qo(){return(qo=(0,G.Z)(function*(R,U,oe,Ie,rt,Et,Jt){var dn;const Bn=ii(R);Bn.then(Yi=>{oe[Yi.measurementId]=Yi.appId,R.options.measurementId&&Yi.measurementId!==R.options.measurementId&&$i.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Yi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yi=>$i.error(Yi)),U.push(Bn);const ai=Oo().then(Yi=>{if(Yi)return Ie.getId()}),[ri,zn]=yield Promise.all([Bn,ai]);ol(Et)||Pn(Et,ri.measurementId),Pi&&(rt("consent","default",Pi),gr(void 0)),rt("js",new Date);const rs=null!==(dn=null==Jt?void 0:Jt.config)&&void 0!==dn?dn:{};return rs.origin="firebase",rs.update=!0,null!=zn&&(rs[ho]=zn),rt("config",ri.measurementId,rs),w&&(rt("set",w),po(void 0)),ri.measurementId})).apply(this,arguments)}class _t{constructor(U){this.app=U}_delete(){return delete Pr[this.app.options.appId],Promise.resolve()}}let Pr={},qs=[];const wl={};let Ua,mr,Mo="dataLayer",Cl=!1;function Ha(R,U,oe){!function wa(){const R=[];if((0,ve.ru)()&&R.push("This is a browser extension environment."),(0,ve.zI)()||R.push("Cookies are not available."),R.length>0){const U=R.map((Ie,rt)=>`(${rt+1}) ${Ie}`).join(" "),oe=fs.create("invalid-analytics-context",{errorInfo:U});$i.warn(oe.message)}}();const Ie=R.options.appId;if(!Ie)throw fs.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw fs.create("no-api-key");$i.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pr[Ie])throw fs.create("already-exists",{id:Ie});if(!Cl){!function In(R){let U=[];Array.isArray(window[R])?U=window[R]:window[R]=U}(Mo);const{wrappedGtag:Et,gtagCore:Jt}=function ka(R,U,oe,Ie,rt){let Et=function(...Jt){window[Ie].push(arguments)};return window[rt]&&"function"==typeof window[rt]&&(Et=window[rt]),window[rt]=function pr(R,U,oe,Ie){function Et(){return(Et=(0,G.Z)(function*(Jt,dn,Bn){try{"event"===Jt?yield Dt(R,U,oe,dn,Bn):"config"===Jt?yield Is(R,U,oe,Ie,dn,Bn):"consent"===Jt?R("consent","update",Bn):R("set",dn)}catch(ai){$i.error(ai)}})).apply(this,arguments)}return function rt(Jt,dn,Bn){return Et.apply(this,arguments)}}(Et,R,U,oe),{gtagCore:Et,wrappedGtag:window[rt]}}(Pr,qs,wl,Mo,"gtag");mr=Et,Ua=Jt,Cl=!0}return Pr[Ie]=function qr(R,U,oe,Ie,rt,Et,Jt){return qo.apply(this,arguments)}(R,qs,wl,U,Ua,Mo,oe),new _t(R)}function ja(){return Su.apply(this,arguments)}function Su(){return(Su=(0,G.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch(R){return!1}})).apply(this,arguments)}const Sr="@firebase/analytics";!function $a(){(0,Ce._registerComponent)(new Ne.wA(Ds,(U,{options:oe})=>Ha(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),oe),"PUBLIC")),(0,Ce._registerComponent)(new Ne.wA("analytics-internal",function R(U){try{const oe=U.getProvider(Ds).getImmediate();return{logEvent:(Ie,rt,Et)=>function Qs(R,U,oe,Ie){R=(0,ve.m9)(R),function L(R,U,oe,Ie,rt){return k.apply(this,arguments)}(mr,Pr[R.app.options.appId],U,oe,Ie).catch(rt=>$i.error(rt))}(oe,Ie,rt,Et)}}catch(oe){throw fs.create("interop-component-reg-failed",{reason:oe})}},"PRIVATE")),(0,Ce.registerVersion)(Sr,"0.8.4"),(0,Ce.registerVersion)(Sr,"0.8.4","esm2017")}();var Ga=x(233),br=x(4986),Ur=x(8505),Rs=x(9468),uu=x(5363);const Yo=new f.GfV("7.5.0"),Ca="__angularfire_symbol__analyticsIsSupportedValue",gs="__angularfire_symbol__analyticsIsSupported",Po="__angularfire_symbol__remoteConfigIsSupportedValue",za="__angularfire_symbol__remoteConfigIsSupported",cu="__angularfire_symbol__messagingIsSupportedValue",aa="__angularfire_symbol__messagingIsSupported";function No(R,U,oe){if(U){if(1===U.length)return U[0];const Et=U.filter(Jt=>Jt.app===oe);if(1===Et.length)return Et[0]}return oe.container.getProvider(R).getImmediate({optional:!0})}globalThis[gs]||(globalThis[gs]=ja().then(R=>globalThis[Ca]=R).catch(()=>globalThis[Ca]=!1)),globalThis[aa]||(globalThis[aa]=sa().then(R=>globalThis[cu]=R).catch(()=>globalThis[cu]=!1)),globalThis[za]||(globalThis[za]=Go().then(R=>globalThis[Po]=R).catch(()=>globalThis[Po]=!1));const Wa=(R,U)=>{const oe=U?[U]:(0,h.C6)(),Ie=[];return oe.forEach(rt=>{rt.container.getProvider(R).instances.forEach(Jt=>{Ie.includes(Jt)||Ie.push(Jt)})}),Ie};function Ns(){}class jl{constructor(U,oe=Ga.N){this.zone=U,this.delegate=oe}now(){return this.delegate.now()}schedule(U,oe,Ie){const rt=this.zone;return this.delegate.schedule(function(Jt){rt.runGuarded(()=>{U.apply(this,[Jt])})},oe,Ie)}}class ua{constructor(U){this.zone=U,this.task=null}call(U,oe){const Ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ns,{},Ns,Ns)),oe.pipe((0,Ur.b)({next:Ie,complete:Ie,error:Ie})).subscribe(U).add(Ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Za=(()=>{class R{constructor(oe){this.ngZone=oe,this.outsideAngular=oe.runOutsideAngular(()=>new jl(Zone.current)),this.insideAngular=oe.run(()=>new jl(Zone.current,br.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(oe){return new(oe||R)(f.LFG(f.R0b))},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Lo(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Qo(R){return Lo(),function cl(R){return function(oe){return(oe=oe.lift(new ua(R.ngZone))).pipe((0,Rs.R)(R.outsideAngular),(0,uu.Q)(R.insideAngular))}}(Lo())(R)}},8247:(Qt,We,x)=>{x.d(We,{$:()=>H,A:()=>le,B:()=>Ve,G:()=>mi,H:()=>oi,J:()=>Ye,L:()=>fe,M:()=>xr,N:()=>xs,P:()=>Ca,Q:()=>hs,R:()=>ur,T:()=>Ma,U:()=>Es,V:()=>Kr,W:()=>es,X:()=>na,Y:()=>Mn,Z:()=>yi,_:()=>di,a:()=>al,a0:()=>Sn,a1:()=>ws,a2:()=>Zo,a3:()=>Gt,a4:()=>ml,a5:()=>ya,a6:()=>Hs,a7:()=>Pa,a8:()=>yl,a9:()=>Ra,aA:()=>pe,aB:()=>Yi,aC:()=>qa,aD:()=>Ls,aE:()=>qt,aI:()=>Ea,aL:()=>Xr,aa:()=>Os,ab:()=>Ar,ac:()=>ia,af:()=>vl,ag:()=>Do,ah:()=>La,ak:()=>Zn,al:()=>El,an:()=>nr,ao:()=>hn,ap:()=>nt,aq:()=>Vt,ar:()=>xe,as:()=>gt,at:()=>Ia,au:()=>eo,av:()=>bn,aw:()=>ge,ax:()=>K,ay:()=>Ta,az:()=>Ue,b:()=>fs,c:()=>Qr,d:()=>jl,e:()=>Wa,f:()=>oe,g:()=>Bn,h:()=>Et,i:()=>go,j:()=>zn,k:()=>Ja,l:()=>Nr,m:()=>Xa,o:()=>ce,r:()=>Ga,s:()=>Js,u:()=>uu});var f=x(5861),h=x(2090),G=x(9681),Ce=x(1877),ve=x(655),Ne=x(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},le={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ve=function De(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},at=function lt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new h.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ct=new Ce.Yd("@firebase/auth");function Be(C,...y){ct.logLevel<=Ce.in.ERROR&&ct.error(`Auth (${G.SDK_VERSION}): ${C}`,...y)}function gt(C,...y){throw bt(C,...y)}function ge(C,...y){return bt(C,...y)}function be(C,y,v){const A=Object.assign(Object.assign({},at()),{[y]:v});return new h.LL("auth","Firebase",A).create(y,{appName:C.name})}function Qe(C,y,v){if(!(y instanceof v))throw v.name!==y.constructor.name&&gt(C,"argument-error"),be(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bt(C,...y){if("string"!=typeof C){const v=y[0],A=[...y.slice(1)];return A[0]&&(A[0].appName=C.name),C._errorFactory.create(v,...A)}return ut.create(C,...y)}function K(C,y,...v){if(!C)throw bt(y,...v)}function Je(C){const y="INTERNAL ASSERTION FAILED: "+C;throw Be(y),new Error(y)}function nt(C,y){C||Je(y)}const ke=new Map;function Ue(C){nt(C instanceof Function,"Expected a class definition");let y=ke.get(C);return y?(nt(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,ke.set(C,y),y)}function st(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function xt(){return"http:"===tn()||"https:"===tn()}function tn(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class q{constructor(y,v){this.shortDelay=y,this.longDelay=v,nt(v>y,"Short delay should be less than long delay!"),this.isMobile=(0,h.uI)()||(0,h.b$)()}get(){return function ft(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,h.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Se(C,y){nt(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return y?`${v}${y.startsWith("/")?y.slice(1):y}`:v}class qe{static initialize(y,v,A){this.fetchImpl=y,v&&(this.headersImpl=v),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ht=new q(3e4,6e4);function nn(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function yn(C,y,v,A){return xn.apply(this,arguments)}function xn(){return(xn=(0,f.Z)(function*(C,y,v,A,Y={}){return Vn(C,Y,(0,f.Z)(function*(){let de={},dt={};A&&("GET"===y?dt=A:de={body:JSON.stringify(A)});const Yt=(0,h.xO)(Object.assign({key:C.config.apiKey},dt)).slice(1),un=yield C._getAdditionalHeaders();return un["Content-Type"]="application/json",C.languageCode&&(un["X-Firebase-Locale"]=C.languageCode),qe.fetch()(Qn(C,C.config.apiHost,v,Yt),Object.assign({method:y,headers:un,referrerPolicy:"no-referrer"},de))}))})).apply(this,arguments)}function Vn(C,y,v){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,f.Z)(function*(C,y,v){C._canInitEmulator=!1;const A=Object.assign(Object.assign({},Rt),y);try{const Y=new Si(C),de=yield Promise.race([v(),Y.promise]);Y.clearNetworkTimeout();const dt=yield de.json();if("needConfirmation"in dt)throw On(C,"account-exists-with-different-credential",dt);if(de.ok&&!("errorMessage"in dt))return dt;{const Yt=de.ok?dt.errorMessage:dt.error.message,[un,cn]=Yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===un)throw On(C,"credential-already-in-use",dt);if("EMAIL_EXISTS"===un)throw On(C,"email-already-in-use",dt);if("USER_DISABLED"===un)throw On(C,"user-disabled",dt);const hi=A[un]||un.toLowerCase().replace(/[_\s]+/g,"-");if(cn)throw be(C,hi,cn);gt(C,hi)}}catch(Y){if(Y instanceof h.ZR)throw Y;gt(C,"network-request-failed")}})).apply(this,arguments)}function jn(C,y,v,A){return li.apply(this,arguments)}function li(){return(li=(0,f.Z)(function*(C,y,v,A,Y={}){const de=yield yn(C,y,v,A,Y);return"mfaPendingCredential"in de&&gt(C,"multi-factor-auth-required",{_serverResponse:de}),de})).apply(this,arguments)}function Qn(C,y,v,A){const Y=`${y}${v}?${A}`;return C.config.emulator?Se(C.config,Y):`${C.config.apiScheme}://${Y}`}class Si{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((v,A)=>{this.timer=setTimeout(()=>A(ge(this.auth,"network-request-failed")),Ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function On(C,y,v){const A={appName:C.name};v.email&&(A.email=v.email),v.phoneNumber&&(A.phoneNumber=v.phoneNumber);const Y=ge(C,y,A);return Y.customData._tokenResponse=v,Y}function on(){return(on=(0,f.Z)(function*(C,y){return yn(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function ki(C,y){return ni.apply(this,arguments)}function ni(){return(ni=(0,f.Z)(function*(C,y){return yn(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function rn(C,y){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,f.Z)(function*(C,y){return yn(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function vi(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function Ge(){return(Ge=(0,f.Z)(function*(C,y=!1){const v=(0,h.m9)(C),A=yield v.getIdToken(y),Y=It(A);K(Y&&Y.exp&&Y.auth_time&&Y.iat,v.auth,"internal-error");const de="object"==typeof Y.firebase?Y.firebase:void 0,dt=null==de?void 0:de.sign_in_provider;return{claims:Y,token:A,authTime:vi(Ut(Y.auth_time)),issuedAtTime:vi(Ut(Y.iat)),expirationTime:vi(Ut(Y.exp)),signInProvider:dt||null,signInSecondFactor:(null==de?void 0:de.sign_in_second_factor)||null}})).apply(this,arguments)}function Ut(C){return 1e3*Number(C)}function It(C){var y;const[v,A,Y]=C.split(".");if(void 0===v||void 0===A||void 0===Y)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const de=(0,h.tV)(A);return de?JSON.parse(de):(Be("Failed to decode base64 JWT payload"),null)}catch(de){return Be("Caught error parsing JWT payload as JSON",null===(y=de)||void 0===y?void 0:y.toString()),null}}function Zt(C,y){return Re.apply(this,arguments)}function Re(){return(Re=(0,f.Z)(function*(C,y,v=!1){if(v)return y;try{return yield y}catch(A){throw A instanceof h.ZR&&Oe(A)&&C.auth.currentUser===C&&(yield C.auth.signOut()),A}})).apply(this,arguments)}function Oe({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class we{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var v;if(y){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const Y=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(y=!1){var v=this;if(!this.isRunning)return;const A=this.getInterval(y);this.timerId=setTimeout((0,f.Z)(function*(){yield v.iteration()}),A)}iteration(){var y=this;return(0,f.Z)(function*(){var v;try{yield y.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null===(v=A)||void 0===v?void 0:v.code)&&y.schedule(!0))}y.schedule()})()}}class Ke{constructor(y,v){this.createdAt=y,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=vi(this.lastLoginAt),this.creationTime=vi(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wt(C){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,f.Z)(function*(C){var y;const v=C.auth,A=yield C.getIdToken(),Y=yield Zt(C,rn(v,{idToken:A}));K(null==Y?void 0:Y.users.length,v,"internal-error");const de=Y.users[0];C._notifyReloadListener(de);const dt=(null===(y=de.providerUserInfo)||void 0===y?void 0:y.length)?pn(de.providerUserInfo):[],Yt=fn(C.providerData,dt),hi=!!C.isAnonymous&&!(C.email&&de.passwordHash||(null==Yt?void 0:Yt.length)),sr={uid:de.localId,displayName:de.displayName||null,photoURL:de.photoUrl||null,email:de.email||null,emailVerified:de.emailVerified||!1,phoneNumber:de.phoneNumber||null,tenantId:de.tenantId||null,providerData:Yt,metadata:new Ke(de.createdAt,de.lastLoginAt),isAnonymous:hi};Object.assign(C,sr)})).apply(this,arguments)}function _n(){return(_n=(0,f.Z)(function*(C){const y=(0,h.m9)(C);yield wt(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function fn(C,y){return[...C.filter(A=>!y.some(Y=>Y.providerId===A.providerId)),...y]}function pn(C){return C.map(y=>{var{providerId:v}=y,A=(0,ve._T)(y,["providerId"]);return{providerId:v,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function he(){return(he=(0,f.Z)(function*(C,y){const v=yield Vn(C,{},(0,f.Z)(function*(){const A=(0,h.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:Y,apiKey:de}=C.config,dt=Qn(C,Y,"/v1/token",`key=${de}`),Yt=yield C._getAdditionalHeaders();return Yt["Content-Type"]="application/x-www-form-urlencoded",qe.fetch()(dt,{method:"POST",headers:Yt,body:A})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class _e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){K(y.idToken,"internal-error"),K(void 0!==y.idToken,"internal-error"),K(void 0!==y.refreshToken,"internal-error");const v="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function Nt(C){const y=It(C);return K(y,"internal-error"),K(void 0!==y.exp,"internal-error"),K(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,v)}getToken(y,v=!1){var A=this;return(0,f.Z)(function*(){return K(!A.accessToken||A.refreshToken,y,"user-token-expired"),v||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(y,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,v){var A=this;return(0,f.Z)(function*(){const{accessToken:Y,refreshToken:de,expiresIn:dt}=yield function W(C,y){return he.apply(this,arguments)}(y,v);A.updateTokensAndExpiration(Y,de,Number(dt))})()}updateTokensAndExpiration(y,v,A){this.refreshToken=v||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(y,v){const{refreshToken:A,accessToken:Y,expirationTime:de}=v,dt=new _e;return A&&(K("string"==typeof A,"internal-error",{appName:y}),dt.refreshToken=A),Y&&(K("string"==typeof Y,"internal-error",{appName:y}),dt.accessToken=Y),de&&(K("number"==typeof de,"internal-error",{appName:y}),dt.expirationTime=de),dt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new _e,this.toJSON())}_performRefresh(){return Je("not implemented")}}function Le(C,y){K("string"==typeof C||void 0===C,"internal-error",{appName:y})}class vt{constructor(y){var{uid:v,auth:A,stsTokenManager:Y}=y,de=(0,ve._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new we(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=A,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=de.displayName||null,this.email=de.email||null,this.emailVerified=de.emailVerified||!1,this.phoneNumber=de.phoneNumber||null,this.photoURL=de.photoURL||null,this.isAnonymous=de.isAnonymous||!1,this.tenantId=de.tenantId||null,this.providerData=de.providerData?[...de.providerData]:[],this.metadata=new Ke(de.createdAt||void 0,de.lastLoginAt||void 0)}getIdToken(y){var v=this;return(0,f.Z)(function*(){const A=yield Zt(v,v.stsTokenManager.getToken(v.auth,y));return K(A,v.auth,"internal-error"),v.accessToken!==A&&(v.accessToken=A,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),A})()}getIdTokenResult(y){return function Fe(C){return Ge.apply(this,arguments)}(this,y)}reload(){return function Tt(C){return _n.apply(this,arguments)}(this)}_assign(y){this!==y&&(K(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(v=>Object.assign({},v)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new vt(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,v=!1){var A=this;return(0,f.Z)(function*(){let Y=!1;y.idToken&&y.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(y),Y=!0),v&&(yield wt(A)),yield A.auth._persistUserIfCurrent(A),Y&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var y=this;return(0,f.Z)(function*(){const v=yield y.getIdToken();return yield Zt(y,function wi(C,y){return on.apply(this,arguments)}(y.auth,{idToken:v})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,v){var A,Y,de,dt,Yt,un,cn,hi;const sr=null!==(A=v.displayName)&&void 0!==A?A:void 0,Gs=null!==(Y=v.email)&&void 0!==Y?Y:void 0,el=null!==(de=v.phoneNumber)&&void 0!==de?de:void 0,Fs=null!==(dt=v.photoURL)&&void 0!==dt?dt:void 0,tc=null!==(Yt=v.tenantId)&&void 0!==Yt?Yt:void 0,xl=null!==(un=v._redirectEventId)&&void 0!==un?un:void 0,nc=null!==(cn=v.createdAt)&&void 0!==cn?cn:void 0,Vo=null!==(hi=v.lastLoginAt)&&void 0!==hi?hi:void 0,{uid:Ol,emailVerified:tl,isAnonymous:Ml,providerData:Ru,stsTokenManager:Fn}=v;K(Ol&&Fn,y,"internal-error");const Nu=_e.fromJSON(this.name,Fn);K("string"==typeof Ol,y,"internal-error"),Le(sr,y.name),Le(Gs,y.name),K("boolean"==typeof tl,y,"internal-error"),K("boolean"==typeof Ml,y,"internal-error"),Le(el,y.name),Le(Fs,y.name),Le(tc,y.name),Le(xl,y.name),Le(nc,y.name),Le(Vo,y.name);const Zl=new vt({uid:Ol,auth:y,email:Gs,emailVerified:tl,displayName:sr,isAnonymous:Ml,photoURL:Fs,phoneNumber:el,tenantId:tc,stsTokenManager:Nu,createdAt:nc,lastLoginAt:Vo});return Ru&&Array.isArray(Ru)&&(Zl.providerData=Ru.map(fl=>Object.assign({},fl))),xl&&(Zl._redirectEventId=xl),Zl}static _fromIdTokenResponse(y,v,A=!1){return(0,f.Z)(function*(){const Y=new _e;Y.updateFromServerResponse(v);const de=new vt({uid:v.localId,auth:y,stsTokenManager:Y,isAnonymous:A});return yield wt(de),de})()}}const fe=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(v,A){var Y=this;return(0,f.Z)(function*(){Y.storage[v]=A})()}_get(v){var A=this;return(0,f.Z)(function*(){const Y=A.storage[v];return void 0===Y?null:Y})()}_remove(v){var A=this;return(0,f.Z)(function*(){delete A.storage[v]})()}_addListener(v,A){}_removeListener(v,A){}}return C.type="NONE",C})();function pe(C,y,v){return`firebase:${C}:${y}:${v}`}class Me{constructor(y,v,A){this.persistence=y,this.auth=v,this.userKey=A;const{config:Y,name:de}=this.auth;this.fullUserKey=pe(this.userKey,Y.apiKey,de),this.fullPersistenceKey=pe("persistence",Y.apiKey,de),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,f.Z)(function*(){const v=yield y.persistence._get(y.fullUserKey);return v?vt._fromJSON(y.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var v=this;return(0,f.Z)(function*(){if(v.persistence===y)return;const A=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=y,A?v.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,v,A="authUser"){return(0,f.Z)(function*(){if(!v.length)return new Me(Ue(fe),y,A);const Y=(yield Promise.all(v.map(function(){var cn=(0,f.Z)(function*(hi){if(yield hi._isAvailable())return hi});return function(hi){return cn.apply(this,arguments)}}()))).filter(cn=>cn);let de=Y[0]||Ue(fe);const dt=pe(A,y.config.apiKey,y.name);let Yt=null;for(const cn of v)try{const hi=yield cn._get(dt);if(hi){const sr=vt._fromJSON(y,hi);cn!==de&&(Yt=sr),de=cn;break}}catch(hi){}const un=Y.filter(cn=>cn._shouldAllowMigration);return de._shouldAllowMigration&&un.length?(de=un[0],Yt&&(yield de._set(dt,Yt.toJSON())),yield Promise.all(v.map(function(){var cn=(0,f.Z)(function*(hi){if(hi!==de)try{yield hi._remove(dt)}catch(sr){}});return function(hi){return cn.apply(this,arguments)}}())),new Me(de,y,A)):new Me(de,y,A)})()}}function ye(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(ne(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(X(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(tt(y))return"Blackberry";if(kt(y))return"Webos";if($(y))return"Safari";if((y.includes("chrome/")||ee(y))&&!y.includes("edge/"))return"Chrome";if(xe(y))return"Android";{const A=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function X(C=(0,h.z$)()){return/firefox\//i.test(C)}function $(C=(0,h.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function ee(C=(0,h.z$)()){return/crios\//i.test(C)}function ne(C=(0,h.z$)()){return/iemobile/i.test(C)}function xe(C=(0,h.z$)()){return/android/i.test(C)}function tt(C=(0,h.z$)()){return/blackberry/i.test(C)}function kt(C=(0,h.z$)()){return/webos/i.test(C)}function Vt(C=(0,h.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function bn(C=(0,h.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function _i(C=(0,h.z$)()){return Vt(C)||xe(C)||kt(C)||tt(C)||/windows phone/i.test(C)||ne(C)}function Di(C,y=[]){let v;switch(C){case"Browser":v=ye((0,h.z$)());break;case"Worker":v=`${ye((0,h.z$)())}-${C}`;break;default:v=C}const A=y.length?y.join(","):"FirebaseCore-web";return`${v}/JsCore/${G.SDK_VERSION}/${A}`}class Cr{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,v){const A=de=>new Promise((dt,Yt)=>{try{dt(y(de))}catch(un){Yt(un)}});A.onAbort=v,this.queue.push(A);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(y){var v=this;return(0,f.Z)(function*(){var A;if(v.auth.currentUser===y)return;const Y=[];try{for(const de of v.queue)yield de(y),de.onAbort&&Y.push(de.onAbort)}catch(de){Y.reverse();for(const dt of Y)try{dt()}catch(Yt){}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(A=de)||void 0===A?void 0:A.message})}})()}}class xi{constructor(y,v,A){this.app=y,this.heartbeatServiceProvider=v,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yn(this),this.idTokenSubscription=new Yn(this),this.beforeStateQueue=new Cr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(y,v){var A=this;return v&&(this._popupRedirectResolver=Ue(v)),this._initializationPromise=this.queue((0,f.Z)(function*(){var Y,de;if(!A._deleted&&(A.persistenceManager=yield Me.create(A,y),!A._deleted)){if(null===(Y=A._popupRedirectResolver)||void 0===Y?void 0:Y._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(dt){}yield A.initializeCurrentUser(v),A.lastNotifiedUid=(null===(de=A.currentUser)||void 0===de?void 0:de.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,f.Z)(function*(){if(y._deleted)return;const v=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||v){if(y.currentUser&&v&&y.currentUser.uid===v.uid)return y._currentUser._assign(v),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(v,!0)}})()}initializeCurrentUser(y){var v=this;return(0,f.Z)(function*(){var A;const Y=yield v.assertedPersistence.getCurrentUser();let de=Y,dt=!1;if(y&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Yt=null===(A=v.redirectUser)||void 0===A?void 0:A._redirectEventId,un=null==de?void 0:de._redirectEventId,cn=yield v.tryRedirectSignIn(y);(!Yt||Yt===un)&&(null==cn?void 0:cn.user)&&(de=cn.user,dt=!0)}if(!de)return v.directlySetCurrentUser(null);if(!de._redirectEventId){if(dt)try{yield v.beforeStateQueue.runMiddleware(de)}catch(Yt){de=Y,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Yt))}return de?v.reloadAndSetCurrentUserOrClear(de):v.directlySetCurrentUser(null)}return K(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===de._redirectEventId?v.directlySetCurrentUser(de):v.reloadAndSetCurrentUserOrClear(de)})()}tryRedirectSignIn(y){var v=this;return(0,f.Z)(function*(){let A=null;try{A=yield v._popupRedirectResolver._completeRedirectFn(v,y,!0)}catch(Y){yield v._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(y){var v=this;return(0,f.Z)(function*(){var A;try{yield wt(y)}catch(Y){if("auth/network-request-failed"!==(null===(A=Y)||void 0===A?void 0:A.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function mt(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,f.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var v=this;return(0,f.Z)(function*(){const A=y?(0,h.m9)(y):null;return A&&K(A.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(A&&A._clone(v))})()}_updateCurrentUser(y,v=!1){var A=this;return(0,f.Z)(function*(){if(!A._deleted)return y&&K(A.tenantId===y.tenantId,A,"tenant-id-mismatch"),v||(yield A.beforeStateQueue.runMiddleware(y)),A.queue((0,f.Z)(function*(){yield A.directlySetCurrentUser(y),A.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,f.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var v=this;return this.queue((0,f.Z)(function*(){yield v.assertedPersistence.setPersistence(Ue(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new h.LL("auth","Firebase",y())}onAuthStateChanged(y,v,A){return this.registerStateListener(this.authStateSubscription,y,v,A)}beforeAuthStateChanged(y,v){return this.beforeStateQueue.pushCallback(y,v)}onIdTokenChanged(y,v,A){return this.registerStateListener(this.idTokenSubscription,y,v,A)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,v){var A=this;return(0,f.Z)(function*(){const Y=yield A.getOrInitRedirectPersistenceManager(v);return null===y?Y.removeCurrentUser():Y.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var v=this;return(0,f.Z)(function*(){if(!v.redirectPersistenceManager){const A=y&&Ue(y)||v._popupRedirectResolver;K(A,v,"argument-error"),v.redirectPersistenceManager=yield Me.create(v,[Ue(A._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(y){var v=this;return(0,f.Z)(function*(){var A,Y;return v._isInitialized&&(yield v.queue((0,f.Z)(function*(){}))),(null===(A=v._currentUser)||void 0===A?void 0:A._redirectEventId)===y?v._currentUser:(null===(Y=v.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===y?v.redirectUser:null})()}_persistUserIfCurrent(y){var v=this;return(0,f.Z)(function*(){if(y===v.currentUser)return v.queue((0,f.Z)(function*(){return v.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(v=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,v,A,Y){if(this._deleted)return()=>{};const de="function"==typeof v?v:v.next.bind(v),dt=this._isInitialized?Promise.resolve():this._initializationPromise;return K(dt,this,"internal-error"),dt.then(()=>de(this.currentUser)),"function"==typeof v?y.addObserver(v,A,Y):y.addObserver(v)}directlySetCurrentUser(y){var v=this;return(0,f.Z)(function*(){v.currentUser&&v.currentUser!==y&&v._currentUser._stopProactiveRefresh(),y&&v.isProactiveRefreshEnabled&&y._startProactiveRefresh(),v.currentUser=y,y?yield v.assertedPersistence.setCurrentUser(y):yield v.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Di(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,f.Z)(function*(){var v;const A={"X-Client-Version":y.clientVersion};y.app.options.appId&&(A["X-Firebase-gmpid"]=y.app.options.appId);const Y=yield null===(v=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return Y&&(A["X-Firebase-Client"]=Y),A})()}}function qt(C){return(0,h.m9)(C)}class Yn{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,h.ne)(v=>this.observer=v)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mi(C,y,v){const A=qt(C);K(A._canInitEmulator,A,"emulator-config-failed"),K(/^https?:\/\//.test(y),A,"invalid-emulator-scheme");const Y=!!(null==v?void 0:v.disableWarnings),de=zi(y),{host:dt,port:Yt}=function vr(C){const y=zi(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!v)return{host:"",port:null};const A=v[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(A);if(Y){const de=Y[1];return{host:de,port:Wi(A.substr(de.length+1))}}{const[de,dt]=A.split(":");return{host:de,port:Wi(dt)}}}(y);A.config.emulator={url:`${de}//${dt}${null===Yt?"":`:${Yt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:dt,port:Yt,protocol:de.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function or(){function C(){const y=document.createElement("p"),v=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function zi(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function Wi(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class oi{constructor(y,v){this.providerId=y,this.signInMethod=v}toJSON(){return Je("not implemented")}_getIdTokenResponse(y){return Je("not implemented")}_linkToIdToken(y,v){return Je("not implemented")}_getReauthenticationResolver(y){return Je("not implemented")}}function Tr(C,y){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,f.Z)(function*(C,y){return yn(C,"POST","/v1/accounts:resetPassword",nn(C,y))})).apply(this,arguments)}function Ln(C,y){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,f.Z)(function*(C,y){return yn(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Bi(C,y){return gn.apply(this,arguments)}function gn(){return(gn=(0,f.Z)(function*(C,y){return yn(C,"POST","/v1/accounts:update",nn(C,y))})).apply(this,arguments)}function At(){return(At=(0,f.Z)(function*(C,y){return jn(C,"POST","/v1/accounts:signInWithPassword",nn(C,y))})).apply(this,arguments)}function ar(C,y){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,f.Z)(function*(C,y){return yn(C,"POST","/v1/accounts:sendOobCode",nn(C,y))})).apply(this,arguments)}function Dr(C,y){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,f.Z)(function*(C,y){return ar(C,y)})).apply(this,arguments)}function $r(C,y){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,f.Z)(function*(C,y){return ar(C,y)})).apply(this,arguments)}function Xi(C,y){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,f.Z)(function*(C,y){return ar(C,y)})).apply(this,arguments)}function Gr(C,y){return zr.apply(this,arguments)}function zr(){return(zr=(0,f.Z)(function*(C,y){return ar(C,y)})).apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(C,y){return jn(C,"POST","/v1/accounts:signInWithEmailLink",nn(C,y))})).apply(this,arguments)}function ds(){return(ds=(0,f.Z)(function*(C,y){return jn(C,"POST","/v1/accounts:signInWithEmailLink",nn(C,y))})).apply(this,arguments)}class Bs extends oi{constructor(y,v,A,Y=null){super("password",A),this._email=y,this._password=v,this._tenantId=Y}static _fromEmailAndPassword(y,v){return new Bs(y,v,"password")}static _fromEmailAndCode(y,v,A=null){return new Bs(y,v,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(y){var v=this;return(0,f.Z)(function*(){switch(v.signInMethod){case"password":return function rr(C,y){return At.apply(this,arguments)}(y,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function os(C,y){return Wr.apply(this,arguments)}(y,{email:v._email,oobCode:v._password});default:gt(y,"internal-error")}})()}_linkToIdToken(y,v){var A=this;return(0,f.Z)(function*(){switch(A.signInMethod){case"password":return Ln(y,{idToken:v,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function _s(C,y){return ds.apply(this,arguments)}(y,{idToken:v,email:A._email,oobCode:A._password});default:gt(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function er(C,y){return bo.apply(this,arguments)}function bo(){return(bo=(0,f.Z)(function*(C,y){return jn(C,"POST","/v1/accounts:signInWithIdp",nn(C,y))})).apply(this,arguments)}class Ye extends oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const v=new Ye(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(v.idToken=y.idToken),y.accessToken&&(v.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(v.nonce=y.nonce),y.pendingToken&&(v.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(v.accessToken=y.oauthToken,v.secret=y.oauthTokenSecret):gt("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:A,signInMethod:Y}=v,de=(0,ve._T)(v,["providerId","signInMethod"]);if(!A||!Y)return null;const dt=new Ye(A,Y);return dt.idToken=de.idToken||void 0,dt.accessToken=de.accessToken||void 0,dt.secret=de.secret,dt.nonce=de.nonce,dt.pendingToken=de.pendingToken||null,dt}_getIdTokenResponse(y){return er(y,this.buildRequest())}_linkToIdToken(y,v){const A=this.buildRequest();return A.idToken=v,er(y,A)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,er(y,v)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),y.postBody=(0,h.xO)(v)}return y}}function pt(C,y){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(C,y){return yn(C,"POST","/v1/accounts:sendVerificationCode",nn(C,y))})).apply(this,arguments)}function En(){return(En=(0,f.Z)(function*(C,y){return jn(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,y))})).apply(this,arguments)}function qi(){return(qi=(0,f.Z)(function*(C,y){const v=yield jn(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,y));if(v.temporaryProof)throw On(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Ri={USER_NOT_FOUND:"user-not-found"};function As(){return(As=(0,f.Z)(function*(C,y){return jn(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Ri)})).apply(this,arguments)}class hr extends oi{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,v){return new hr({verificationId:y,verificationCode:v})}static _fromTokenResponse(y,v){return new hr({phoneNumber:y,temporaryProof:v})}_getIdTokenResponse(y){return function ln(C,y){return En.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,v){return function $n(C,y){return qi.apply(this,arguments)}(y,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function as(C,y){return As.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:v,verificationId:A,verificationCode:Y}=this.params;return y&&v?{temporaryProof:y,phoneNumber:v}:{sessionInfo:A,code:Y}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:v,verificationCode:A,phoneNumber:Y,temporaryProof:de}=y;return A||v||Y||de?new hr({verificationId:v,verificationCode:A,phoneNumber:Y,temporaryProof:de}):null}}class fr{constructor(y){var v,A,Y,de,dt,Yt;const un=(0,h.zd)((0,h.pd)(y)),cn=null!==(v=un.apiKey)&&void 0!==v?v:null,hi=null!==(A=un.oobCode)&&void 0!==A?A:null,sr=function $o(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=un.mode)&&void 0!==Y?Y:null);K(cn&&hi&&sr,"argument-error"),this.apiKey=cn,this.operation=sr,this.code=hi,this.continueUrl=null!==(de=un.continueUrl)&&void 0!==de?de:null,this.languageCode=null!==(dt=un.languageCode)&&void 0!==dt?dt:null,this.tenantId=null!==(Yt=un.tenantId)&&void 0!==Yt?Yt:null}static parseLink(y){const v=function Zr(C){const y=(0,h.zd)((0,h.pd)(C)).link,v=y?(0,h.zd)((0,h.pd)(y)).deep_link_id:null,A=(0,h.zd)((0,h.pd)(C)).deep_link_id;return(A?(0,h.zd)((0,h.pd)(A)).link:null)||A||v||y||C}(y);try{return new fr(v)}catch(A){return null}}}let xr=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,A){return Bs._fromEmailAndPassword(v,A)}static credentialWithLink(v,A){const Y=fr.parseLink(A);return K(Y,"argument-error"),Bs._fromEmailAndCode(v,Y.code,Y.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Ss{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Jn extends Ss{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Es extends Jn{static credentialFromJSON(y){const v="string"==typeof y?JSON.parse(y):y;return K("providerId"in v&&"signInMethod"in v,"argument-error"),Ye._fromParams(v)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return K(y.idToken||y.accessToken,"argument-error"),Ye._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Es.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Es.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:v,oauthAccessToken:A,oauthTokenSecret:Y,pendingToken:de,nonce:dt,providerId:Yt}=y;if(!A&&!Y&&!v&&!de||!Yt)return null;try{return new Es(Yt)._credential({idToken:v,accessToken:A,nonce:dt,pendingToken:de})}catch(un){return null}}}let xs=(()=>{class C extends Jn{constructor(){super("facebook.com")}static credential(v){return Ye._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(A){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),hs=(()=>{class C extends Jn{constructor(){super("google.com"),this.addScope("profile")}static credential(v,A){return Ye._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:A})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:A,oauthAccessToken:Y}=v;if(!A&&!Y)return null;try{return C.credential(A,Y)}catch(de){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ma=(()=>{class C extends Jn{constructor(){super("github.com")}static credential(v){return Ye._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(A){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Xr extends oi{constructor(y,v){super(y,y),this.pendingToken=v}_getIdTokenResponse(y){return er(y,this.buildRequest())}_linkToIdToken(y,v){const A=this.buildRequest();return A.idToken=v,er(y,A)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,er(y,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:A,signInMethod:Y,pendingToken:de}=v;return A&&Y&&de&&A===Y?new Xr(A,de):null}static _create(y,v){return new Xr(y,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Kr extends Ss{constructor(y){K(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return Kr.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return Kr.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const v=Xr.fromJSON(y);return K(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:v,providerId:A}=y;if(!v||!A)return null;try{return Xr._create(A,v)}catch(Y){return null}}}let es=(()=>{class C extends Jn{constructor(){super("twitter.com")}static credential(v,A){return Ye._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:A})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:A,oauthTokenSecret:Y}=v;if(!A||!Y)return null;try{return C.credential(A,Y)}catch(de){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Zs(C,y){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,f.Z)(function*(C,y){return jn(C,"POST","/v1/accounts:signUp",nn(C,y))})).apply(this,arguments)}class Or{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,v,A,Y=!1){return(0,f.Z)(function*(){const de=yield vt._fromIdTokenResponse(y,A,Y),dt=Wo(A);return new Or({user:de,providerId:dt,_tokenResponse:A,operationType:v})})()}static _forOperation(y,v,A){return(0,f.Z)(function*(){yield y._updateTokensIfNecessary(A,!0);const Y=Wo(A);return new Or({user:y,providerId:Y,_tokenResponse:A,operationType:v})})()}}function Wo(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function na(C){return ls.apply(this,arguments)}function ls(){return(ls=(0,f.Z)(function*(C){var y;const v=qt(C);if(yield v._initializationPromise,null===(y=v.currentUser)||void 0===y?void 0:y.isAnonymous)return new Or({user:v.currentUser,providerId:null,operationType:"signIn"});const A=yield Zs(v,{returnSecureToken:!0}),Y=yield Or._fromIdTokenResponse(v,"signIn",A,!0);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class _r extends h.ZR{constructor(y,v,A,Y){var de;super(v.code,v.message),this.operationType=A,this.user=Y,Object.setPrototypeOf(this,_r.prototype),this.customData={appName:y.name,tenantId:null!==(de=y.tenantId)&&void 0!==de?de:void 0,_serverResponse:v.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(y,v,A,Y){return new _r(y,v,A,Y)}}function wo(C,y,v,A){return("reauthenticate"===y?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(de=>{throw"auth/multi-factor-auth-required"===de.code?_r._fromErrorAndOperation(C,de,y,A):de})}function Ai(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function Zn(C,y){return bs.apply(this,arguments)}function bs(){return(bs=(0,f.Z)(function*(C,y){const v=(0,h.m9)(C);yield ie(!0,v,y);const{providerUserInfo:A}=yield ki(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[y]}),Y=Ai(A||[]);return v.providerData=v.providerData.filter(de=>Y.has(de.providerId)),Y.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Fi(C,y){return V.apply(this,arguments)}function V(){return(V=(0,f.Z)(function*(C,y,v=!1){const A=yield Zt(C,y._linkToIdToken(C.auth,yield C.getIdToken()),v);return Or._forOperation(C,"link",A)})).apply(this,arguments)}function ie(C,y,v){return F.apply(this,arguments)}function F(){return(F=(0,f.Z)(function*(C,y,v){yield wt(y);const Y=!1===C?"provider-already-linked":"no-such-provider";K(Ai(y.providerData).has(v)===C,y.auth,Y)})).apply(this,arguments)}function ue(C,y){return $e.apply(this,arguments)}function $e(){return($e=(0,f.Z)(function*(C,y,v=!1){var A;const{auth:Y}=C,de="reauthenticate";try{const dt=yield Zt(C,wo(Y,de,y,C),v);K(dt.idToken,Y,"internal-error");const Yt=It(dt.idToken);K(Yt,Y,"internal-error");const{sub:un}=Yt;return K(C.uid===un,Y,"user-mismatch"),Or._forOperation(C,de,dt)}catch(dt){throw"auth/user-not-found"===(null===(A=dt)||void 0===A?void 0:A.code)&&gt(Y,"user-mismatch"),dt}})).apply(this,arguments)}function St(C,y){return $t.apply(this,arguments)}function $t(){return($t=(0,f.Z)(function*(C,y,v=!1){const A="signIn",Y=yield wo(C,A,y),de=yield Or._fromIdTokenResponse(C,A,Y);return v||(yield C._updateCurrentUser(de.user)),de})).apply(this,arguments)}function Mn(C,y){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,f.Z)(function*(C,y){return St(qt(C),y)})).apply(this,arguments)}function yi(C,y){return ti.apply(this,arguments)}function ti(){return(ti=(0,f.Z)(function*(C,y){const v=(0,h.m9)(C);return yield ie(!1,v,y.providerId),Fi(v,y)})).apply(this,arguments)}function di(C,y){return tr.apply(this,arguments)}function tr(){return(tr=(0,f.Z)(function*(C,y){return ue((0,h.m9)(C),y)})).apply(this,arguments)}function Hi(C,y){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,f.Z)(function*(C,y){return jn(C,"POST","/v1/accounts:signInWithCustomToken",nn(C,y))})).apply(this,arguments)}function H(C,y){return N.apply(this,arguments)}function N(){return(N=(0,f.Z)(function*(C,y){const v=qt(C),A=yield Hi(v,{token:y,returnSecureToken:!0}),Y=yield Or._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class M{constructor(y,v){this.factorId=y,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(y,v){return"phoneInfo"in v?re._fromServerResponse(y,v):gt(y,"internal-error")}}class re extends M{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,v){return new re(v)}}function Pt(C,y,v){var A;K((null===(A=v.url)||void 0===A?void 0:A.length)>0,C,"invalid-continue-uri"),K(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=v.url,y.dynamicLinkDomain=v.dynamicLinkDomain,y.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(K(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=v.iOS.bundleId),v.android&&(K(v.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=v.android.installApp,y.androidMinimumVersionCode=v.android.minimumVersion,y.androidPackageName=v.android.packageName)}function Sn(C,y,v){return Li.apply(this,arguments)}function Li(){return(Li=(0,f.Z)(function*(C,y,v){const A=(0,h.m9)(C),Y={requestType:"PASSWORD_RESET",email:y};v&&Pt(A,Y,v),yield $r(A,Y)})).apply(this,arguments)}function ws(C,y,v){return us.apply(this,arguments)}function us(){return(us=(0,f.Z)(function*(C,y,v){yield Tr((0,h.m9)(C),{oobCode:y,newPassword:v})})).apply(this,arguments)}function Zo(C,y){return ma.apply(this,arguments)}function ma(){return(ma=(0,f.Z)(function*(C,y){yield Bi((0,h.m9)(C),{oobCode:y})})).apply(this,arguments)}function Gt(C,y){return bi.apply(this,arguments)}function bi(){return(bi=(0,f.Z)(function*(C,y){const v=(0,h.m9)(C),A=yield Tr(v,{oobCode:y}),Y=A.requestType;switch(K(Y,v,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(A.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(A.mfaInfo,v,"internal-error");default:K(A.email,v,"internal-error")}let de=null;return A.mfaInfo&&(de=M._fromServerResponse(qt(v),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:de},operation:Y}})).apply(this,arguments)}function ml(C,y){return lr.apply(this,arguments)}function lr(){return(lr=(0,f.Z)(function*(C,y){const{data:v}=yield Gt((0,h.m9)(C),y);return v.email})).apply(this,arguments)}function ya(C,y,v){return Co.apply(this,arguments)}function Co(){return(Co=(0,f.Z)(function*(C,y,v){const A=qt(C),Y=yield Zs(A,{returnSecureToken:!0,email:y,password:v}),de=yield Or._fromIdTokenResponse(A,"signIn",Y);return yield A._updateCurrentUser(de.user),de})).apply(this,arguments)}function Hs(C,y,v){return Mn((0,h.m9)(C),xr.credential(y,v))}function Pa(C,y,v){return va.apply(this,arguments)}function va(){return(va=(0,f.Z)(function*(C,y,v){const A=(0,h.m9)(C),Y={requestType:"EMAIL_SIGNIN",email:y};K(v.handleCodeInApp,A,"argument-error"),v&&Pt(A,Y,v),yield Xi(A,Y)})).apply(this,arguments)}function yl(C,y){const v=fr.parseLink(y);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function Ra(C,y,v){return lo.apply(this,arguments)}function lo(){return(lo=(0,f.Z)(function*(C,y,v){const A=(0,h.m9)(C),Y=xr.credentialWithLink(y,v||st());return K(Y._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Mn(A,Y)})).apply(this,arguments)}function Ks(C,y){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,f.Z)(function*(C,y){return yn(C,"POST","/v1/accounts:createAuthUri",nn(C,y))})).apply(this,arguments)}function Os(C,y){return uo.apply(this,arguments)}function uo(){return(uo=(0,f.Z)(function*(C,y){const A={identifier:y,continueUri:xt()?st():"http://localhost"},{signinMethods:Y}=yield Ks((0,h.m9)(C),A);return Y||[]})).apply(this,arguments)}function Ar(C,y){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,f.Z)(function*(C,y){const v=(0,h.m9)(C),Y={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&Pt(v.auth,Y,y);const{email:de}=yield Dr(v.auth,Y);de!==C.email&&(yield C.reload())})).apply(this,arguments)}function ia(C,y,v){return To.apply(this,arguments)}function To(){return(To=(0,f.Z)(function*(C,y,v){const A=(0,h.m9)(C),de={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};v&&Pt(A.auth,de,v);const{email:dt}=yield Gr(A.auth,de);dt!==C.email&&(yield C.reload())})).apply(this,arguments)}function Na(C,y){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,f.Z)(function*(C,y){return yn(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function vl(C,y){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,f.Z)(function*(C,{displayName:y,photoURL:v}){if(void 0===y&&void 0===v)return;const A=(0,h.m9)(C),de={idToken:yield A.getIdToken(),displayName:y,photoUrl:v,returnSecureToken:!0},dt=yield Zt(A,Na(A.auth,de));A.displayName=dt.displayName||null,A.photoURL=dt.photoUrl||null;const Yt=A.providerData.find(({providerId:un})=>"password"===un);Yt&&(Yt.displayName=A.displayName,Yt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(dt)})).apply(this,arguments)}function Do(C,y){return Io((0,h.m9)(C),y,null)}function La(C,y){return Io((0,h.m9)(C),null,y)}function Io(C,y,v){return ts.apply(this,arguments)}function ts(){return(ts=(0,f.Z)(function*(C,y,v){const{auth:A}=C,de={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(de.email=y),v&&(de.password=v);const dt=yield Zt(C,Ln(A,de));yield C._updateTokensIfNecessary(dt,!0)})).apply(this,arguments)}class So{constructor(y,v,A={}){this.isNewUser=y,this.providerId=v,this.profile=A}}class ra extends So{constructor(y,v,A,Y){super(y,v,A),this.username=Y}}class _l extends So{constructor(y,v){super(y,"facebook.com",v)}}class sa extends ra{constructor(y,v){super(y,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class xo extends So{constructor(y,v){super(y,"google.com",v)}}class Hl extends ra{constructor(y,v,A){super(y,"twitter.com",v,A)}}function El(C){const{user:y,_tokenResponse:v}=C;return y.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Ao(C){var y,v;if(!C)return null;const{providerId:A}=C,Y=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},de=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!A&&(null==C?void 0:C.idToken)){const dt=null===(v=null===(y=It(C.idToken))||void 0===y?void 0:y.firebase)||void 0===v?void 0:v.sign_in_provider;if(dt)return new So(de,"anonymous"!==dt&&"custom"!==dt?dt:null)}if(!A)return null;switch(A){case"facebook.com":return new _l(de,Y);case"github.com":return new sa(de,Y);case"google.com":return new xo(de,Y);case"twitter.com":return new Hl(de,Y,C.screenName||null);case"custom":case"anonymous":return new So(de,null);default:return new So(de,A,Y)}}(v)}class Ms{constructor(y,v,A){this.type=y,this.credential=v,this.auth=A}static _fromIdtoken(y,v){return new Ms("enroll",y,v)}static _fromMfaPendingCredential(y){return new Ms("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var v,A;if(null==y?void 0:y.multiFactorSession){if(null===(v=y.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Ms._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(A=y.multiFactorSession)||void 0===A?void 0:A.idToken)return Ms._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Kt{constructor(y,v,A){this.session=y,this.hints=v,this.signInResolver=A}static _fromError(y,v){const A=qt(y),Y=v.customData._serverResponse,de=(Y.mfaInfo||[]).map(Yt=>M._fromServerResponse(A,Yt));K(Y.mfaPendingCredential,A,"internal-error");const dt=Ms._fromMfaPendingCredential(Y.mfaPendingCredential);return new Kt(dt,de,function(){var Yt=(0,f.Z)(function*(un){const cn=yield un._process(A,dt);delete Y.mfaInfo,delete Y.mfaPendingCredential;const hi=Object.assign(Object.assign({},Y),{idToken:cn.idToken,refreshToken:cn.refreshToken});switch(v.operationType){case"signIn":const sr=yield Or._fromIdTokenResponse(A,v.operationType,hi);return yield A._updateCurrentUser(sr.user),sr;case"reauthenticate":return K(v.user,A,"internal-error"),Or._forOperation(v.user,v.operationType,hi);default:gt(A,"internal-error")}});return function(un){return Yt.apply(this,arguments)}}())}resolveSignIn(y){var v=this;return(0,f.Z)(function*(){return v.signInResolver(y)})()}}function nr(C,y){var v;const A=(0,h.m9)(C),Y=y;return K(y.customData.operationType,A,"argument-error"),K(null===(v=Y.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,A,"argument-error"),Kt._fromError(A,Y)}function $i(C,y){return yn(C,"POST","/v2/accounts/mfaEnrollment:start",nn(C,y))}class In{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(A=>M._fromServerResponse(y.auth,A)))})}static _fromUser(y){return new In(y)}getSession(){var y=this;return(0,f.Z)(function*(){return Ms._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,v){var A=this;return(0,f.Z)(function*(){const Y=y,de=yield A.getSession(),dt=yield Zt(A.user,Y._process(A.user.auth,de,v));return yield A.user._updateTokensIfNecessary(dt),A.user.reload()})()}unenroll(y){var v=this;return(0,f.Z)(function*(){var A;const Y="string"==typeof y?y:y.uid,de=yield v.user.getIdToken(),dt=yield Zt(v.user,function Pn(C,y){return yn(C,"POST","/v2/accounts/mfaEnrollment:withdraw",nn(C,y))}(v.user.auth,{idToken:de,mfaEnrollmentId:Y}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Yt})=>Yt!==Y),yield v.user._updateTokensIfNecessary(dt);try{yield v.user.reload()}catch(Yt){if("auth/user-token-expired"!==(null===(A=Yt)||void 0===A?void 0:A.code))throw Yt}})()}}const Is=new WeakMap;function hn(C){const y=(0,h.m9)(C);return Is.has(y)||Is.set(y,In._fromUser(y)),Is.get(y)}const Dt="__sak";class zt{constructor(y,v){this.storageRetriever=y,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Dt,"1"),this.storage.removeItem(Dt),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,v){return this.storage.setItem(y,JSON.stringify(v)),Promise.resolve()}_get(y){const v=this.storage.getItem(y);return Promise.resolve(v?JSON.parse(v):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const fs=(()=>{class C extends zt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,A)=>this.onStorageEvent(v,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pr(){const C=(0,h.z$)();return $(C)||Vt(C)}()&&function Ti(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=_i(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const A of Object.keys(this.listeners)){const Y=this.storage.getItem(A),de=this.localCache[A];Y!==de&&v(A,de,Y)}}onStorageEvent(v,A=!1){if(!v.key)return void this.forAllChangedKeys((Yt,un,cn)=>{this.notifyListeners(Yt,cn)});const Y=v.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Yt=this.storage.getItem(Y);if(v.newValue!==Yt)null!==v.newValue?this.storage.setItem(Y,v.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===v.newValue&&!A)return}const de=()=>{const Yt=this.storage.getItem(Y);!A&&this.localCache[Y]===Yt||this.notifyListeners(Y,Yt)},dt=this.storage.getItem(Y);!function Cn(){return(0,h.w1)()&&10===document.documentMode}()||dt===v.newValue||v.newValue===v.oldValue?de():setTimeout(de,10)}notifyListeners(v,A){this.localCache[v]=A;const Y=this.listeners[v];if(Y)for(const de of Array.from(Y))de(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,A,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:A,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,A){var Y=()=>super._set,de=this;return(0,f.Z)(function*(){yield Y().call(de,v,A),de.localCache[v]=JSON.stringify(A)})()}_get(v){var A=()=>super._get,Y=this;return(0,f.Z)(function*(){const de=yield A().call(Y,v);return Y.localCache[v]=JSON.stringify(de),de})()}_remove(v){var A=()=>super._remove,Y=this;return(0,f.Z)(function*(){yield A().call(Y,v),delete Y.localCache[v]})()}}return C.type="LOCAL",C})(),al=(()=>{class C extends zt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,A){}_removeListener(v,A){}}return C.type="SESSION",C})();let is=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const A=this.receivers.find(de=>de.isListeningto(v));if(A)return A;const Y=new C(v);return this.receivers.push(Y),Y}isListeningto(v){return this.eventTarget===v}handleEvent(v){var A=this;return(0,f.Z)(function*(){const Y=v,{eventId:de,eventType:dt,data:Yt}=Y.data,un=A.handlersMap[dt];if(!(null==un?void 0:un.size))return;Y.ports[0].postMessage({status:"ack",eventId:de,eventType:dt});const cn=Array.from(un).map(function(){var sr=(0,f.Z)(function*(Gs){return Gs(Y.origin,Yt)});return function(Gs){return sr.apply(this,arguments)}}()),hi=yield function Fa(C){return Promise.all(C.map(function(){var y=(0,f.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(A){return{fulfilled:!1,reason:A}}});return function(v){return y.apply(this,arguments)}}()))}(cn);Y.ports[0].postMessage({status:"done",eventId:de,eventType:dt,response:hi})})()}_subscribe(v,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(A)}_unsubscribe(v,A){this.handlersMap[v]&&A&&this.handlersMap[v].delete(A),(!A||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Ea(C="",y=10){let v="";for(let A=0;A<y;A++)v+=Math.floor(10*Math.random());return C+v}class Va{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,v,A=50){var Y=this;return(0,f.Z)(function*(){const de="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!de)throw new Error("connection_unavailable");let dt,Yt;return new Promise((un,cn)=>{const hi=Ea("",20);de.port1.start();const sr=setTimeout(()=>{cn(new Error("unsupported_event"))},A);Yt={messageChannel:de,onMessage(Gs){const el=Gs;if(el.data.eventId===hi)switch(el.data.status){case"ack":clearTimeout(sr),dt=setTimeout(()=>{cn(new Error("timeout"))},3e3);break;case"done":clearTimeout(dt),un(el.data.response);break;default:clearTimeout(sr),clearTimeout(dt),cn(new Error("invalid_response"))}}},Y.handlers.add(Yt),de.port1.addEventListener("message",Yt.onMessage),Y.target.postMessage({eventType:y,eventId:hi,data:v},[de.port2])}).finally(()=>{Yt&&Y.removeMessageHandler(Yt)})})()}}function Gi(){return window}function ps(){return void 0!==Gi().WorkerGlobalScope&&"function"==typeof Gi().importScripts}function Zi(){return(Zi=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const D="firebaseLocalStorageDb",L="firebaseLocalStorage",k="fbase_key";class ae{constructor(y){this.request=y}toPromise(){return new Promise((y,v)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Pe(C,y){return C.transaction([L],y?"readwrite":"readonly").objectStore(L)}function Lt(){const C=indexedDB.open(D,1);return new Promise((y,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const A=C.result;try{A.createObjectStore(L,{keyPath:k})}catch(Y){v(Y)}}),C.addEventListener("success",(0,f.Z)(function*(){const A=C.result;A.objectStoreNames.contains(L)?y(A):(A.close(),yield function je(){const C=indexedDB.deleteDatabase(D);return new ae(C).toPromise()}(),y(yield Lt()))}))})}function wn(C,y,v){return ui.apply(this,arguments)}function ui(){return(ui=(0,f.Z)(function*(C,y,v){const A=Pe(C,!0).put({[k]:y,value:v});return new ae(A).toPromise()})).apply(this,arguments)}function Mi(){return(Mi=(0,f.Z)(function*(C,y){const v=Pe(C,!1).get(y),A=yield new ae(v).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Pi(C,y){const v=Pe(C,!0).delete(y);return new ae(v).toPromise()}const go=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,f.Z)(function*(){return v.db||(v.db=yield Lt()),v.db})()}_withRetries(v){var A=this;return(0,f.Z)(function*(){let Y=0;for(;;)try{const de=yield A._openDb();return yield v(de)}catch(de){if(Y++>3)throw de;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,f.Z)(function*(){return ps()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,f.Z)(function*(){v.receiver=is._getInstance(function O(){return ps()?self:null}()),v.receiver._subscribe("keyChanged",function(){var A=(0,f.Z)(function*(Y,de){return{keyProcessed:(yield v._poll()).includes(de.key)}});return function(Y,de){return A.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var A=(0,f.Z)(function*(Y,de){return["keyChanged"]});return function(Y,de){return A.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,f.Z)(function*(){var A,Y;if(v.activeServiceWorker=yield function ba(){return Zi.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Va(v.activeServiceWorker);const de=yield v.sender._send("ping",{},800);!de||(null===(A=de[0])||void 0===A?void 0:A.fulfilled)&&(null===(Y=de[0])||void 0===Y?void 0:Y.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var A=this;return(0,f.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function ei(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:v},A.serviceWorkerReceiverAvailable?800:50)}catch(Y){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Lt();return yield wn(v,Dt,"1"),yield Pi(v,Dt),!0}catch(v){}return!1})()}_withPendingWrite(v){var A=this;return(0,f.Z)(function*(){A.pendingWrites++;try{yield v()}finally{A.pendingWrites--}})()}_set(v,A){var Y=this;return(0,f.Z)(function*(){return Y._withPendingWrite((0,f.Z)(function*(){return yield Y._withRetries(de=>wn(de,v,A)),Y.localCache[v]=A,Y.notifyServiceWorker(v)}))})()}_get(v){var A=this;return(0,f.Z)(function*(){const Y=yield A._withRetries(de=>function Rn(C,y){return Mi.apply(this,arguments)}(de,v));return A.localCache[v]=Y,Y})()}_remove(v){var A=this;return(0,f.Z)(function*(){return A._withPendingWrite((0,f.Z)(function*(){return yield A._withRetries(Y=>Pi(Y,v)),delete A.localCache[v],A.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,f.Z)(function*(){const A=yield v._withRetries(dt=>{const Yt=Pe(dt,!1).getAll();return new ae(Yt).toPromise()});if(!A)return[];if(0!==v.pendingWrites)return[];const Y=[],de=new Set;for(const{fbase_key:dt,value:Yt}of A)de.add(dt),JSON.stringify(v.localCache[dt])!==JSON.stringify(Yt)&&(v.notifyListeners(dt,Yt),Y.push(dt));for(const dt of Object.keys(v.localCache))v.localCache[dt]&&!de.has(dt)&&(v.notifyListeners(dt,null),Y.push(dt));return Y})()}notifyListeners(v,A){this.localCache[v]=A;const Y=this.listeners[v];if(Y)for(const de of Array.from(Y))de(A)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function qr(C,y){return yn(C,"POST","/v2/accounts/mfaSignIn:start",nn(C,y))}function Pr(){return(Pr=(0,f.Z)(function*(C){return(yield yn(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wl(C){return new Promise((y,v)=>{const A=document.createElement("script");A.setAttribute("src",C),A.onload=y,A.onerror=Y=>{const de=ge("internal-error");de.customData=Y,v(de)},A.type="text/javascript",A.charset="UTF-8",function qs(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(A)})}function Mo(C){return`__${C}${Math.floor(1e6*Math.random())}`}const mr=1e12;class Cl{constructor(y){this.auth=y,this.counter=mr,this._widgets=new Map}render(y,v){const A=this.counter;return this._widgets.set(A,new Ba(y,this.auth.name,v||{})),this.counter++,A}reset(y){var v;const A=y||mr;null===(v=this._widgets.get(A))||void 0===v||v.delete(),this._widgets.delete(A)}getResponse(y){var v;return(null===(v=this._widgets.get(y||mr))||void 0===v?void 0:v.getResponse())||""}execute(y){var v=this;return(0,f.Z)(function*(){var A;return null===(A=v._widgets.get(y||mr))||void 0===A||A.execute(),""})()}}class Ba{constructor(y,v,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof y?document.getElementById(y):y;K(Y,"argument-error",{appName:v}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wa(C){const y=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<C;A++)y.push(v.charAt(Math.floor(Math.random()*v.length)));return y.join("")}(50);const{callback:y,"expired-callback":v}=this.params;if(y)try{y(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ha=Mo("rcb"),Ys=new q(3e4,6e4);class ja{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(y=Gi().grecaptcha)||void 0===y?void 0:y.render)}load(y,v=""){return K(function Su(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),y,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Gi().grecaptcha):new Promise((A,Y)=>{const de=Gi().setTimeout(()=>{Y(ge(y,"network-request-failed"))},Ys.get());Gi()[Ha]=()=>{Gi().clearTimeout(de),delete Gi()[Ha];const Yt=Gi().grecaptcha;if(!Yt)return void Y(ge(y,"internal-error"));const un=Yt.render;Yt.render=(cn,hi)=>{const sr=un(cn,hi);return this.counter++,sr},this.hostLanguage=v,A(Yt)},wl(`https://www.google.com/recaptcha/api.js??${(0,h.xO)({onload:Ha,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(de),Y(ge(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var v;return!!(null===(v=Gi().grecaptcha)||void 0===v?void 0:v.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rr{load(y){return(0,f.Z)(function*(){return new Cl(y)})()}clearedOneInstance(){}}const xu="recaptcha",Ps={theme:"light",type:"image"};class ur{constructor(y,v=Object.assign({},Ps),A){this.parameters=v,this.type=xu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qt(A),this.isInvisible="invisible"===this.parameters.size,K("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof y?document.getElementById(y):y;K(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rr:new ja,this.validateStartingState()}verify(){var y=this;return(0,f.Z)(function*(){y.assertNotDestroyed();const v=yield y.render(),A=y.getAssertedRecaptcha();return A.getResponse(v)||new Promise(de=>{const dt=Yt=>{!Yt||(y.tokenChangeListeners.delete(dt),de(Yt))};y.tokenChangeListeners.add(dt),y.isInvisible&&A.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return v=>{if(this.tokenChangeListeners.forEach(A=>A(v)),"function"==typeof y)y(v);else if("string"==typeof y){const A=Gi()[y];"function"==typeof A&&A(v)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,f.Z)(function*(){if(yield y.init(),!y.widgetId){let v=y.container;if(!y.isInvisible){const A=document.createElement("div");v.appendChild(A),v=A}y.widgetId=y.getAssertedRecaptcha().render(v,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,f.Z)(function*(){K(xt()&&!ps(),y.auth,"internal-error"),yield function Ac(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const v=yield function _t(C){return Pr.apply(this,arguments)}(y.auth);K(v,y.auth,"internal-error"),y.parameters.sitekey=v})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qs{constructor(y,v){this.verificationId=y,this.onConfirmation=v}confirm(y){const v=hr._fromVerification(this.verificationId,y);return this.onConfirmation(v)}}function Js(C,y,v){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,f.Z)(function*(C,y,v){const A=qt(C),Y=yield Ur(A,y,(0,h.m9)(v));return new Qs(Y,de=>Mn(A,de))})).apply(this,arguments)}function Nr(C,y,v){return $a.apply(this,arguments)}function $a(){return($a=(0,f.Z)(function*(C,y,v){const A=(0,h.m9)(C);yield ie(!1,A,"phone");const Y=yield Ur(A.auth,y,(0,h.m9)(v));return new Qs(Y,de=>yi(A,de))})).apply(this,arguments)}function Ga(C,y,v){return br.apply(this,arguments)}function br(){return(br=(0,f.Z)(function*(C,y,v){const A=(0,h.m9)(C),Y=yield Ur(A.auth,y,(0,h.m9)(v));return new Qs(Y,de=>di(A,de))})).apply(this,arguments)}function Ur(C,y,v){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,f.Z)(function*(C,y,v){var A;const Y=yield v.verify();try{let de;if(K("string"==typeof Y,C,"argument-error"),K(v.type===xu,C,"argument-error"),de="string"==typeof y?{phoneNumber:y}:y,"session"in de){const dt=de.session;if("phoneNumber"in de)return K("enroll"===dt.type,C,"internal-error"),(yield $i(C,{idToken:dt.credential,phoneEnrollmentInfo:{phoneNumber:de.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{K("signin"===dt.type,C,"internal-error");const Yt=(null===(A=de.multiFactorHint)||void 0===A?void 0:A.uid)||de.multiFactorUid;return K(Yt,C,"missing-multi-factor-info"),(yield qr(C,{mfaPendingCredential:dt.credential,mfaEnrollmentId:Yt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:dt}=yield pt(C,{phoneNumber:de.phoneNumber,recaptchaToken:Y});return dt}}finally{v._reset()}})).apply(this,arguments)}function uu(C,y){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,f.Z)(function*(C,y){yield Fi((0,h.m9)(C),y)})).apply(this,arguments)}let Ca=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=qt(v)}verifyPhoneNumber(v,A){return Ur(this.auth,v,(0,h.m9)(A))}static credential(v,A){return hr._fromVerification(v,A)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:A,temporaryProof:Y}=v;return A&&Y?hr._fromTokenResponse(A,Y):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function gs(C,y){return y?Ue(y):(K(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Po extends oi{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return er(y,this._buildIdpRequest())}_linkToIdToken(y,v){return er(y,this._buildIdpRequest(v))}_getReauthenticationResolver(y){return er(y,this._buildIdpRequest())}_buildIdpRequest(y){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(v.idToken=y),v}}function za(C){return St(C.auth,new Po(C),C.bypassAuthState)}function cu(C){const{auth:y,user:v}=C;return K(v,y,"internal-error"),ue(v,new Po(C),C.bypassAuthState)}function aa(C){return la.apply(this,arguments)}function la(){return(la=(0,f.Z)(function*(C){const{auth:y,user:v}=C;return K(v,y,"internal-error"),Fi(v,new Po(C),C.bypassAuthState)})).apply(this,arguments)}class Yr{constructor(y,v,A,Y,de=!1){this.auth=y,this.resolver=A,this.user=Y,this.bypassAuthState=de,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var y=this;return new Promise(function(){var v=(0,f.Z)(function*(A,Y){y.pendingPromise={resolve:A,reject:Y};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(de){y.reject(de)}});return function(A,Y){return v.apply(this,arguments)}}())}onAuthEvent(y){var v=this;return(0,f.Z)(function*(){const{urlResponse:A,sessionId:Y,postBody:de,tenantId:dt,error:Yt,type:un}=y;if(Yt)return void v.reject(Yt);const cn={auth:v.auth,requestUri:A,sessionId:Y,tenantId:dt||void 0,postBody:de||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(un)(cn))}catch(hi){v.reject(hi)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return za;case"linkViaPopup":case"linkViaRedirect":return aa;case"reauthViaPopup":case"reauthViaRedirect":return cu;default:gt(this.auth,"internal-error")}}resolve(y){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ro=new q(2e3,1e4);function Qr(C,y,v){return No.apply(this,arguments)}function No(){return(No=(0,f.Z)(function*(C,y,v){const A=qt(C);Qe(C,y,Ss);const Y=gs(A,v);return new Za(A,"signInViaPopup",y,Y).executeNotNull()})).apply(this,arguments)}function Wa(C,y,v){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,f.Z)(function*(C,y,v){const A=(0,h.m9)(C);Qe(A.auth,y,Ss);const Y=gs(A.auth,v);return new Za(A.auth,"reauthViaPopup",y,Y,A).executeNotNull()})).apply(this,arguments)}function jl(C,y,v){return ua.apply(this,arguments)}function ua(){return(ua=(0,f.Z)(function*(C,y,v){const A=(0,h.m9)(C);Qe(A.auth,y,Ss);const Y=gs(A.auth,v);return new Za(A.auth,"linkViaPopup",y,Y,A).executeNotNull()})).apply(this,arguments)}let Za=(()=>{class C extends Yr{constructor(v,A,Y,de,dt){super(v,A,de,dt),this.provider=Y,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,f.Z)(function*(){const A=yield v.execute();return K(A,v.auth,"internal-error"),A})()}onExecution(){var v=this;return(0,f.Z)(function*(){nt(1===v.filter.length,"Popup operations only handle one event");const A=Ea();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],A),v.authWindow.associatedEvent=A,v.resolver._originValidation(v.auth).catch(Y=>{v.reject(Y)}),v.resolver._isIframeWebStorageSupported(v.auth,Y=>{Y||v.reject(ge(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var A,Y;this.pollId=(null===(Y=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===Y?void 0:Y.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Ro.get())};v()}}return C.currentPopupAction=null,C})();const Ka=new Map;class Xs extends Yr{constructor(y,v,A=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,A),this.eventId=null}execute(){var y=()=>super.execute,v=this;return(0,f.Z)(function*(){let A=Ka.get(v.auth._key());if(!A){try{const de=(yield function ll(C,y){return ul.apply(this,arguments)}(v.resolver,v.auth))?yield y().call(v):null;A=()=>Promise.resolve(de)}catch(Y){A=()=>Promise.reject(Y)}Ka.set(v.auth._key(),A)}return v.bypassAuthState||Ka.set(v.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(y){var v=()=>super.onAuthEvent,A=this;return(0,f.Z)(function*(){if("signInViaRedirect"===y.type)return v().call(A,y);if("unknown"!==y.type){if(y.eventId){const Y=yield A.auth._redirectUserForId(y.eventId);if(Y)return A.user=Y,v().call(A,y);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function ul(){return(ul=(0,f.Z)(function*(C,y){const v=U(y),A=R(C);if(!(yield A._isAvailable()))return!1;const Y="true"===(yield A._get(v));return yield A._remove(v),Y})).apply(this,arguments)}function Qo(C,y){return cl.apply(this,arguments)}function cl(){return(cl=(0,f.Z)(function*(C,y){return R(C)._set(U(y),"true")})).apply(this,arguments)}function Ls(){Ka.clear()}function qa(C,y){Ka.set(C._key(),y)}function R(C){return Ue(C._redirectPersistence)}function U(C){return pe("pendingRedirect",C.config.apiKey,C.name)}function oe(C,y,v){return function Ie(C,y,v){return rt.apply(this,arguments)}(C,y,v)}function rt(){return(rt=(0,f.Z)(function*(C,y,v){const A=qt(C);Qe(C,y,Ss);const Y=gs(A,v);return yield Qo(Y,A),Y._openRedirect(A,y,"signInViaRedirect")})).apply(this,arguments)}function Et(C,y,v){return function Jt(C,y,v){return dn.apply(this,arguments)}(C,y,v)}function dn(){return(dn=(0,f.Z)(function*(C,y,v){const A=(0,h.m9)(C);Qe(A.auth,y,Ss);const Y=gs(A.auth,v);yield Qo(Y,A.auth);const de=yield Jo(A);return Y._openRedirect(A.auth,y,"reauthViaRedirect",de)})).apply(this,arguments)}function Bn(C,y,v){return function ai(C,y,v){return ri.apply(this,arguments)}(C,y,v)}function ri(){return(ri=(0,f.Z)(function*(C,y,v){const A=(0,h.m9)(C);Qe(A.auth,y,Ss);const Y=gs(A.auth,v);yield ie(!1,A,y.providerId),yield Qo(Y,A.auth);const de=yield Jo(A);return Y._openRedirect(A.auth,y,"linkViaRedirect",de)})).apply(this,arguments)}function zn(C,y){return rs.apply(this,arguments)}function rs(){return(rs=(0,f.Z)(function*(C,y){return yield qt(C)._initializationPromise,Yi(C,y,!1)})).apply(this,arguments)}function Yi(C,y){return dl.apply(this,arguments)}function dl(){return(dl=(0,f.Z)(function*(C,y,v=!1){const A=qt(C),Y=gs(A,y),dt=yield new Xs(A,Y,v).execute();return dt&&!v&&(delete dt.user._redirectEventId,yield A._persistUserIfCurrent(dt.user),yield A._setRedirectUser(null,y)),dt})).apply(this,arguments)}function Jo(C){return ks.apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(C){const y=Ea(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class Ta{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let v=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(y,A)&&(v=!0,this.sendToConsumer(y,A),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Da(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ca(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=y,v=!0)),v}sendToConsumer(y,v){var A;if(y.error&&!ca(y)){const Y=(null===(A=y.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";v.onError(ge(this.auth,Y))}else v.onAuthEvent(y)}isEventForConsumer(y,v){const A=null===v.eventId||!!y.eventId&&y.eventId===v.eventId;return v.filter.includes(y.type)&&A}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ya(y))}saveEventToCache(y){this.cachedEventUids.add(Ya(y)),this.lastProcessedEventTime=Date.now()}}function Ya(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function ca({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===(null==y?void 0:y.code)}function eo(C){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,f.Z)(function*(C,y={}){return yn(C,"GET","/v1/projects",y)})).apply(this,arguments)}const td=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sc=/^https?/;function $s(){return($s=(0,f.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield eo(C);for(const v of y)try{if(qu(v))return}catch(A){}gt(C,"unauthorized-domain")})).apply(this,arguments)}function qu(C){const y=st(),{protocol:v,hostname:A}=new URL(y);if(C.startsWith("chrome-extension://")){const dt=new URL(C);return""===dt.hostname&&""===A?"chrome-extension:"===v&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===v&&dt.hostname===A}if(!Sc.test(v))return!1;if(td.test(C))return A===C;const Y=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(A)}const du=new q(3e4,6e4);function Ou(){const C=Gi().___jsl;if(null==C?void 0:C.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Gl=null;function ko(C){return Gl=Gl||function xc(C){return new Promise((y,v)=>{var A,Y,de;function dt(){Ou(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Ou(),v(ge(C,"network-request-failed"))},timeout:du.get()})}if(null===(Y=null===(A=Gi().gapi)||void 0===A?void 0:A.iframes)||void 0===Y?void 0:Y.Iframe)y(gapi.iframes.getContext());else{if(!(null===(de=Gi().gapi)||void 0===de?void 0:de.load)){const Yt=Mo("iframefcb");return Gi()[Yt]=()=>{gapi.load?dt():v(ge(C,"network-request-failed"))},wl(`https://apis.google.com/js/api.js?onload=${Yt}`).catch(un=>v(un))}dt()}}).catch(y=>{throw Gl=null,y})}(C),Gl}const zl=new q(5e3,15e3),Tl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wl(C){const y=C.config;K(y.authDomain,C,"auth-domain-config-required");const v=y.emulator?Se(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,A={apiKey:y.apiKey,appName:C.name,v:G.SDK_VERSION},Y=Dl.get(C.config.apiHost);Y&&(A.eid=Y);const de=C._getFrameworks();return de.length&&(A.fw=de.join(",")),`${v}?${(0,h.xO)(A).slice(1)}`}function no(){return no=(0,f.Z)(function*(C){const y=yield ko(C),v=Gi().gapi;return K(v,C,"internal-error"),y.open({where:document.body,url:Wl(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tl,dontclear:!0},A=>new Promise(function(){var Y=(0,f.Z)(function*(de,dt){yield A.restyle({setHideOnLeave:!1});const Yt=ge(C,"network-request-failed"),un=Gi().setTimeout(()=>{dt(Yt)},zl.get());function cn(){Gi().clearTimeout(un),de(A)}A.ping(cn).then(cn,()=>{dt(Yt)})});return function(de,dt){return Y.apply(this,arguments)}}()))}),no.apply(this,arguments)}const Il={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class da{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function Ia(C,y,v,A,Y,de){K(C.config.authDomain,C,"auth-domain-config-required"),K(C.config.apiKey,C,"invalid-api-key");const dt={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:A,v:G.SDK_VERSION,eventId:Y};if(y instanceof Ss){y.setDefaultLanguage(C.languageCode),dt.providerId=y.providerId||"",(0,h.xb)(y.getCustomParameters())||(dt.customParameters=JSON.stringify(y.getCustomParameters()));for(const[un,cn]of Object.entries(de||{}))dt[un]=cn}if(y instanceof Jn){const un=y.getScopes().filter(cn=>""!==cn);un.length>0&&(dt.scopes=un.join(","))}C.tenantId&&(dt.tid=C.tenantId);const Yt=dt;for(const un of Object.keys(Yt))void 0===Yt[un]&&delete Yt[un];return`${function Aa({config:C}){return C.emulator?Se(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,h.xO)(Yt).slice(1)}`}const mo="webStorageSupport",Ja=class Ju{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=al,this._completeRedirectFn=Yi,this._overrideRedirectResult=qa}_openPopup(y,v,A,Y){var de=this;return(0,f.Z)(function*(){var dt;nt(null===(dt=de.eventManagers[y._key()])||void 0===dt?void 0:dt.manager,"_initialize() not called before _openPopup()");const Yt=Ia(y,v,A,st(),Y);return function Oc(C,y,v,A=500,Y=600){const de=Math.max((window.screen.availHeight-Y)/2,0).toString(),dt=Math.max((window.screen.availWidth-A)/2,0).toString();let Yt="";const un=Object.assign(Object.assign({},Il),{width:A.toString(),height:Y.toString(),top:de,left:dt}),cn=(0,h.z$)().toLowerCase();v&&(Yt=ee(cn)?"_blank":v),X(cn)&&(y=y||"http://localhost",un.scrollbars="yes");const hi=Object.entries(un).reduce((Gs,[el,Fs])=>`${Gs}${el}=${Fs},`,"");if(function vn(C=(0,h.z$)()){var y;return Vt(C)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(cn)&&"_self"!==Yt)return function Qd(C,y){const v=document.createElement("a");v.href=C,v.target=y;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(A)}(y||"",Yt),new da(null);const sr=window.open(y||"",Yt,hi);K(sr,C,"popup-blocked");try{sr.focus()}catch(Gs){}return new da(sr)}(y,Yt,Ea())})()}_openRedirect(y,v,A,Y){var de=this;return(0,f.Z)(function*(){return yield de._originValidation(y),function ii(C){Gi().location.href=C}(Ia(y,v,A,st(),Y)),new Promise(()=>{})})()}_initialize(y){const v=y._key();if(this.eventManagers[v]){const{manager:Y,promise:de}=this.eventManagers[v];return Y?Promise.resolve(Y):(nt(de,"If manager is not set, promise should be"),de)}const A=this.initAndGetManager(y);return this.eventManagers[v]={promise:A},A.catch(()=>{delete this.eventManagers[v]}),A}initAndGetManager(y){var v=this;return(0,f.Z)(function*(){const A=yield function Mu(C){return no.apply(this,arguments)}(y),Y=new Ta(y);return A.register("authEvent",de=>(K(null==de?void 0:de.authEvent,y,"invalid-auth-event"),{status:Y.onEvent(de.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[y._key()]={manager:Y},v.iframes[y._key()]=A,Y})()}_isIframeWebStorageSupported(y,v){this.iframes[y._key()].send(mo,{type:mo},Y=>{var de;const dt=null===(de=null==Y?void 0:Y[0])||void 0===de?void 0:de[mo];void 0!==dt&&v(!!dt),gt(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const v=y._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function hl(C){return $s.apply(this,arguments)}(y)),this.originValidationPromises[v]}get _shouldInitProactively(){return _i()||$()||Vt()}};class pu extends class Xu{constructor(y){this.factorId=y}_process(y,v,A){switch(v.type){case"enroll":return this._finalizeEnroll(y,v.credential,A);case"signin":return this._finalizeSignIn(y,v.credential);default:return Je("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new pu(y)}_finalizeEnroll(y,v,A){return function oa(C,y){return yn(C,"POST","/v2/accounts/mfaEnrollment:finalize",nn(C,y))}(y,{idToken:v,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,v){return function qo(C,y){return yn(C,"POST","/v2/accounts/mfaSignIn:finalize",nn(C,y))}(y,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xa=(()=>{class C{constructor(){}static assertion(v){return pu._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var Pu="@firebase/auth",ec="0.20.11";class Lr{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var v=this;return(0,f.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const v=this.auth.onIdTokenChanged(A=>{var Y;y((null===(Y=A)||void 0===Y?void 0:Y.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,v),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const v=this.internalListeners.get(y);!v||(this.internalListeners.delete(y),v(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,h.Pz)("authIdTokenMaxAge"),function Al(C){(0,G._registerComponent)(new Ne.wA("auth",(y,{options:v})=>{const A=y.getProvider("app").getImmediate(),Y=y.getProvider("heartbeat"),{apiKey:de,authDomain:dt}=A.options;return((Yt,un)=>{K(de&&!de.includes(":"),"invalid-api-key",{appName:Yt.name}),K(!(null==dt?void 0:dt.includes(":")),"argument-error",{appName:Yt.name});const cn={apiKey:de,authDomain:dt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Di(C)},hi=new xi(Yt,un,cn);return function it(C,y){const v=(null==y?void 0:y.persistence)||[],A=(Array.isArray(v)?v:[v]).map(Ue);(null==y?void 0:y.errorMap)&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(A,null==y?void 0:y.popupRedirectResolver)}(hi,v),hi})(A,Y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,v,A)=>{y.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new Ne.wA("auth-internal",y=>{const v=qt(y.getProvider("auth").getImmediate());return new Lr(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(Pu,ec,function gu(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,G.registerVersion)(Pu,ec,"esm2017")}("Browser")},5525:(Qt,We,x)=>{x.d(We,{u7:()=>am,Jj:()=>ru,IX:()=>qg,my:()=>Hr,xU:()=>Ic,Lz:()=>su,WA:()=>zt,F8:()=>Cc,$q:()=>Xc,W:()=>ea,EK:()=>Zi,PU:()=>Wd,l7:()=>gs,Ky:()=>k,Xb:()=>L,Cf:()=>Ki,K9:()=>Is,Me:()=>Sr,yq:()=>$i,Wi:()=>Ho,ET:()=>Hy,Ab:()=>mm,vr:()=>gm,Fc:()=>Jg,hJ:()=>Wc,B$:()=>Fg,at:()=>bc,oe:()=>um,AK:()=>fm,TF:()=>mp,JU:()=>lp,ST:()=>Qg,fH:()=>Ay,Ix:()=>e_,Wu:()=>Ly,Lx:()=>Qc,qY:()=>Us,GL:()=>Iu,QT:()=>lm,kl:()=>ky,Xk:()=>Fy,PL:()=>Vy,UQ:()=>Uy,zN:()=>Rp,nP:()=>ym,b9:()=>Py,vh:()=>Ry,Pb:()=>n_,L$:()=>kd,cf:()=>cm,sc:()=>dm,Xo:()=>oo,IO:()=>xy,iE:()=>Vh,Eo:()=>Vg,i3:()=>hm,Bt:()=>pm,pl:()=>zd,Ub:()=>Ms,qK:()=>Ul,TQ:()=>rm,e0:()=>Ny,r7:()=>By,Mx:()=>gp,ar:()=>im});var ce,f=x(5861),h=x(9681),G=x(4859),Ce=x(1877),ve=x(2090),Ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ee={},Q=Q||{},J=Ne||self;function le(){}function De(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function lt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var at="closure_uid_"+(1e9*Math.random()>>>0),ut=0;function ze(r,e,t){return r.call.apply(r.bind,arguments)}function ct(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),r.apply(e,u)}}return function(){return r.apply(e,arguments)}}function Be(r,e,t){return(Be=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ze:ct).apply(null,arguments)}function gt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function ge(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(o,u,p){for(var _=Array(arguments.length-2),S=2;S<arguments.length;S++)_[S-2]=arguments[S];return e.prototype[u].apply(o,_)}}function be(){this.s=this.s,this.o=this.o}be.prototype.s=!1,be.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Ve(r){Object.prototype.hasOwnProperty.call(r,at)&&r[at]||(r[at]=++ut)}(this)},be.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function K(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function Je(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(De(o)){const u=r.length||0,p=o.length||0;r.length=u+p;for(let _=0;_<p;_++)r[u+_]=o[_]}else r.push(o)}}function nt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{J.addEventListener("test",le,e),J.removeEventListener("test",le,e)}catch(t){}return r}();function Ue(r){return/^[\s\xa0]*$/.test(r)}var et=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function it(r,e){return r<e?-1:r>e?1:0}function st(){var r=J.navigator;return r&&(r=r.userAgent)?r:""}function xt(r){return-1!=st().indexOf(r)}function tn(r){return tn[" "](r),r}tn[" "]=le;var yn,r,mt=xt("Opera"),q=xt("Trident")||xt("MSIE"),Se=xt("Edge"),qe=Se||q,Rt=xt("Gecko")&&!(-1!=st().toLowerCase().indexOf("webkit")&&!xt("Edge"))&&!(xt("Trident")||xt("MSIE"))&&!xt("Edge"),Ht=-1!=st().toLowerCase().indexOf("webkit")&&!xt("Edge");function nn(){var r=J.document;return r?r.documentMode:void 0}e:{var xn="",Vn=(r=st(),Rt?/rv:([^\);]+)(\)|;)/.exec(r):Se?/Edge\/([\d\.]+)/.exec(r):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Ht?/WebKit\/(\S+)/.exec(r):mt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Vn&&(xn=Vn?Vn[1]:""),q){var Xn=nn();if(null!=Xn&&Xn>parseFloat(xn)){yn=String(Xn);break e}}yn=xn}var jn={};var On=J.document&&q&&(nn()||parseInt(yn,10))||void 0;function wi(r,e){if(nt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Rt){e:{try{tn(e.nodeName);var u=!0;break e}catch(p){}u=!1}u||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:on[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&wi.X.h.call(this)}}ge(wi,nt);var on={2:"touch",3:"pen",4:"mouse"};wi.prototype.h=function(){wi.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var ki="closure_listenable_"+(1e6*Math.random()|0),ni=0;function rn(r,e,t,o,u){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++ni,this.ba=this.ea=!1}function Ui(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function vi(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function Ot(r){const e={};for(const t in r)e[t]=r[t];return e}const Fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ge(r,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)r[t]=o[t];for(let p=0;p<Fe.length;p++)t=Fe[p],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function Ut(r){this.src=r,this.g={},this.h=0}function It(r,e){var t=e.type;if(t in r.g){var p,o=r.g[t],u=bt(o,e);(p=0<=u)&&Array.prototype.splice.call(o,u,1),p&&(Ui(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Nt(r,e,t,o){for(var u=0;u<r.length;++u){var p=r[u];if(!p.ba&&p.listener==e&&p.capture==!!t&&p.ha==o)return u}return-1}Ut.prototype.add=function(r,e,t,o,u){var p=r.toString();(r=this.g[p])||(r=this.g[p]=[],this.h++);var _=Nt(r,e,o,u);return-1<_?(e=r[_],t||(e.ea=!1)):((e=new rn(e,this.src,p,!!o,u)).ea=t,r.push(e)),e};var Zt="closure_lm_"+(1e6*Math.random()|0),Re={};function Oe(r,e,t,o,u){if(o&&o.once)return wt(r,e,t,o,u);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Oe(r,e[p],t,o,u);return null}return t=he(t),r&&r[ki]?r.N(e,t,lt(o)?!!o.capture:!!o,u):we(r,e,t,!1,o,u)}function we(r,e,t,o,u,p){if(!e)throw Error("Invalid event type");var _=lt(u)?!!u.capture:!!u,S=pn(r);if(S||(r[Zt]=S=new Ut(r)),(t=S.add(e,t,o,_,p)).proxy)return t;if(o=function Ke(){const e=fn;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)ke||(u=_),void 0===u&&(u=!1),r.addEventListener(e.toString(),o,u);else if(r.attachEvent)r.attachEvent(_n(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function wt(r,e,t,o,u){if(Array.isArray(e)){for(var p=0;p<e.length;p++)wt(r,e[p],t,o,u);return null}return t=he(t),r&&r[ki]?r.O(e,t,lt(o)?!!o.capture:!!o,u):we(r,e,t,!0,o,u)}function Mt(r,e,t,o,u){if(Array.isArray(e))for(var p=0;p<e.length;p++)Mt(r,e[p],t,o,u);else o=lt(o)?!!o.capture:!!o,t=he(t),r&&r[ki]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Nt(p=r.g[e],t,o,u))&&(Ui(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete r.g[e],r.h--))):r&&(r=pn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Nt(e,t,o,u)),(t=-1<r?e[r]:null)&&Tt(t))}function Tt(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[ki])It(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(_n(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=pn(e))?(It(t,r),0==t.h&&(t.src=null,e[Zt]=null)):Ui(r)}}}function _n(r){return r in Re?Re[r]:Re[r]="on"+r}function fn(r,e){if(r.ba)r=!0;else{e=new wi(e,this);var t=r.listener,o=r.ha||r.src;r.ea&&Tt(r),r=t.call(o,e)}return r}function pn(r){return(r=r[Zt])instanceof Ut?r:null}var W="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(r){return"function"==typeof r?r:(r[W]||(r[W]=function(e){return r.handleEvent(e)}),r[W])}function _e(){be.call(this),this.i=new Ut(this),this.P=this,this.I=null}function Le(r,e){var t,o=r.I;if(o)for(t=[];o;o=o.I)t.push(o);if(r=r.P,o=e.type||e,"string"==typeof e)e=new nt(e,r);else if(e instanceof nt)e.target=e.target||r;else{var u=e;Ge(e=new nt(o,r),u)}if(u=!0,t)for(var p=t.length-1;0<=p;p--){var _=e.g=t[p];u=vt(_,o,!0,e)&&u}if(u=vt(_=e.g=r,o,!0,e)&&u,u=vt(_,o,!1,e)&&u,t)for(p=0;p<t.length;p++)u=vt(_=e.g=t[p],o,!1,e)&&u}function vt(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,p=0;p<e.length;++p){var _=e[p];if(_&&!_.ba&&_.capture==t){var S=_.listener,j=_.ha||_.src;_.ea&&It(r.i,_),u=!1!==S.call(j,o)&&u}}return u&&!o.defaultPrevented}ge(_e,be),_e.prototype[ki]=!0,_e.prototype.removeEventListener=function(r,e,t,o){Mt(this,r,e,t,o)},_e.prototype.M=function(){if(_e.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)Ui(t[o]);delete r.g[e],r.h--}}this.I=null},_e.prototype.N=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},_e.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var Ft=J.JSON.stringify;function fe(){var r=tt;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var ee,Me=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new ye,r=>r.reset());class ye{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function X(r){J.setTimeout(()=>{throw r},0)}function $(r,e){ee||function ne(){var r=J.Promise.resolve(void 0);ee=function(){r.then(kt)}}(),xe||(ee(),xe=!0),tt.add(r,e)}var xe=!1,tt=new class pe{constructor(){this.h=this.g=null}add(e,t){const o=Me.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function kt(){for(var r;r=fe();){try{r.h.call(r.g)}catch(t){X(t)}var e=Me;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}xe=!1}function Vt(r,e){_e.call(this),this.h=r||1,this.g=e||J,this.j=Be(this.lb,this),this.l=Date.now()}function bn(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function vn(r,e,t){if("function"==typeof r)t&&(r=Be(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Be(r.handleEvent,r)}return 2147483647<Number(e)?-1:J.setTimeout(r,e||0)}function Cn(r){r.g=vn(()=>{r.g=null,r.i&&(r.i=!1,Cn(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}ge(Vt,_e),(ce=Vt.prototype).ca=!1,ce.R=null,ce.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Le(this,"tick"),this.ca&&(bn(this),this.start()))}},ce.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){Vt.X.M.call(this),bn(this),delete this.g};class _i extends be{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cn(this)}M(){super.M(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(r){be.call(this),this.h=r,this.g={}}ge(Ti,be);var Di=[];function Cr(r,e,t,o){Array.isArray(t)||(t&&(Di[0]=t.toString()),t=Di);for(var u=0;u<t.length;u++){var p=Oe(e,t[u],o||r.handleEvent,!1,r.h||r);if(!p)break;r.g[p.key]=p}}function xi(r){vi(r.g,function(e,t){this.g.hasOwnProperty(t)&&Tt(e)},r),r.g={}}function qt(){this.g=!0}function zi(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Wi(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var p=u[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var _=1;_<u.length;_++)u[_]=""}}}return Ft(t)}catch(S){return e}}(r,t)+(o?" "+o:"")})}Ti.prototype.M=function(){Ti.X.M.call(this),xi(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qt.prototype.Aa=function(){this.g=!1},qt.prototype.info=function(){};var or={},oi=null;function Tr(){return oi=oi||new _e}function Ii(r){nt.call(this,or.Pa,r)}function Ln(r){const e=Tr();Le(e,new Ii(e))}function Oi(r,e){nt.call(this,or.STAT_EVENT,r),this.stat=e}function Bi(r){const e=Tr();Le(e,new Oi(e,r))}function gn(r,e){nt.call(this,or.Qa,r),this.size=e}function rr(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){r()},e)}or.Pa="serverreachability",ge(Ii,nt),or.STAT_EVENT="statevent",ge(Oi,nt),or.Qa="timingevent",ge(gn,nt);var At={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ar={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ci(){}function Ei(){}Ci.prototype.h=null;var Ir,$r={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Vr(){nt.call(this,"d")}function Xi(){nt.call(this,"c")}function Gr(){}function zr(r,e,t,o){this.l=r,this.j=e,this.m=t,this.U=o||1,this.S=new Ti(this),this.O=Wr,this.T=new Vt(r=qe?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new os}function os(){this.i=null,this.g="",this.h=!1}ge(Vr,nt),ge(Xi,nt),ge(Gr,Ci),Gr.prototype.g=function(){return new XMLHttpRequest},Gr.prototype.i=function(){return{}},Ir=new Gr;var Wr=45e3,_s={},ds={};function Bs(r,e,t){r.K=1,r.v=Es(fr(e)),r.s=t,r.P=!0,er(r,null)}function er(r,e){r.F=Date.now(),pt(r),r.A=fr(r.v);var t=r.A,o=r.U;Array.isArray(o)||(o=[String(o)]),na(t.i,"t",o),r.C=0,t=r.l.H,r.h=new os,r.g=Do(r.l,t?e:null,!r.s),0<r.N&&(r.L=new _i(Be(r.La,r,r.g),r.N)),Cr(r.S,r.g,"readystatechange",r.ib),e=r.H?Ot(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),Ln(),function Yn(r,e,t,o,u,p){r.info(function(){if(r.g)if(p)for(var _="",S=p.split("&"),j=0;j<S.length;j++){var Z=S[j].split("=");if(1<Z.length){var me=Z[0];Z=Z[1];var He=me.split("_");_=2<=He.length&&"type"==He[1]?_+(me+"=")+Z+"&":_+(me+"=redacted&")}}else _=null;else _=p;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+_})}(r.j,r.u,r.A,r.m,r.U,r.s)}function bo(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function ot(r,e,t){let u,o=!0;for(;!r.I&&r.C<t.length;){if(u=Ye(r,t),u==ds){4==e&&(r.o=4,Bi(14),o=!1),zi(r.j,r.m,null,"[Incomplete Response]");break}if(u==_s){r.o=4,Bi(15),zi(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}zi(r.j,r.m,u,null),qi(r,u)}bo(r)&&u!=ds&&u!=_s&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Bi(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ar(e),e.K=!0,Bi(11))):(zi(r.j,r.m,t,"[Invalid Chunked Response]"),$n(r),En(r))}function Ye(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?ds:(t=Number(e.substring(t,o)),isNaN(t)?_s:(o+=1)+t>e.length?ds:(e=e.substr(o,t),r.C=o+t,e))}function pt(r){r.V=Date.now()+r.O,Bt(r,r.O)}function Bt(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=rr(Be(r.gb,r),e)}function ln(r){r.B&&(J.clearTimeout(r.B),r.B=null)}function En(r){0==r.l.G||r.I||To(r.l,r)}function $n(r){ln(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,bn(r.T),xi(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function qi(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||V(t.h,r)))if(!r.J&&V(t.h,r)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch(Z){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(t.u)t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=rr(Be(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<r.F))break e;ia(t),Pa(t)}uo(t),Bi(18)}if(1>=Fi(t.h)&&t.ja){try{t.ja()}catch(Z){}t.ja=void 0}}else Ts(t,11)}else if((r.J||t.g==r)&&ia(t),!Ue(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let Z=u[e];if(t.T=Z[0],Z=Z[1],2==t.G)if("c"==Z[0]){t.I=Z[1],t.ka=Z[2];const me=Z[3];null!=me&&(t.ma=me,t.j.info("VER="+t.ma));const He=Z[4];null!=He&&(t.Ca=He,t.j.info("SVER="+t.Ca));const yt=Z[5];null!=yt&&"number"==typeof yt&&0<yt&&(t.J=o=1.5*yt,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const jt=r.g;if(jt){const en=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(en){var p=o.h;p.g||-1==en.indexOf("spdy")&&-1==en.indexOf("quic")&&-1==en.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(ie(p,p.h),p.h=null))}if(o.D){const An=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;An&&(o.za=An,Jn(o.F,o.D,An))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var _=r;if((o=t).sa=Ko(o,o.H?o.ka:null,o.V),_.J){F(o.h,_);var S=_,j=o.J;j&&S.setTimeout(j),S.B&&(ln(S),pt(S)),o.g=_}else Os(o);0<t.i.length&&yl(t)}else"stop"!=Z[0]&&"close"!=Z[0]||Ts(t,7);else 3==t.G&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?Ts(t,7):Hs(t):"noop"!=Z[0]&&t.l&&t.l.wa(Z),t.A=0)}Ln()}catch(Z){}}function As(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(De(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function as(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if("undefined"!=typeof Map&&r instanceof Map)return Array.from(r.keys());if(!("undefined"!=typeof Set&&r instanceof Set)){if(De(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function Ri(r){if(r.W&&"function"==typeof r.W)return r.W();if("undefined"!=typeof Map&&r instanceof Map||"undefined"!=typeof Set&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(De(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),u=o.length,p=0;p<u;p++)e.call(void 0,o[p],t&&t[p],r)}(ce=zr.prototype).setTimeout=function(r){this.O=r},ce.ib=function(r){r=r.target;const e=this.L;e&&3==Gt(r)?e.l():this.La(r)},ce.La=function(r){try{if(r==this.g)e:{const me=Gt(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>me)&&(3!=me||qe||this.g&&(this.h.h||this.g.fa()||bi(this.g)))){this.I||4!=me||7==e||Ln(),ln(this);var t=this.g.aa();this.Y=t;t:if(bo(this)){var o=bi(this.g);r="";var u=o.length,p=4==Gt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$n(this),En(this);var _="";break t}this.h.i=new J.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:p&&e==u-1});o.splice(0,u),this.h.g+=r,this.C=0,_=this.h.g}else _=this.g.fa();if(this.i=200==t,function mi(r,e,t,o,u,p,_){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+p+" "+_})}(this.j,this.u,this.A,this.m,this.U,me,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ue(S)){var Z=S;break t}}Z=null}if(!(t=Z)){this.i=!1,this.o=3,Bi(12),$n(this),En(this);break e}zi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qi(this,t)}this.P?(ot(this,me,_),qe&&this.i&&3==me&&(Cr(this.S,this.T,"tick",this.hb),this.T.start())):(zi(this.j,this.m,_,null),qi(this,_)),4==me&&$n(this),this.i&&!this.I&&(4==me?To(this.l,this):(this.i=!1,pt(this)))}else 400==t&&0<_.indexOf("Unknown SID")?(this.o=3,Bi(12)):(this.o=0,Bi(13)),$n(this),En(this)}}}catch(me){}},ce.hb=function(){if(this.g){var r=Gt(this.g),e=this.g.fa();this.C<e.length&&(ln(this),ot(this,r,e),this.i&&4!=r&&pt(this))}},ce.cancel=function(){this.I=!0,$n(this)},ce.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function vr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ln(),Bi(17)),$n(this),this.o=2,En(this)):Bt(this,this.V-r)};var hr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zr(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Zr){this.h=void 0!==e?e:r.h,Go(this,r.j),this.s=r.s,this.g=r.g,xr(this,r.m),this.l=r.l,e=r.i;var t=new Zs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ss(this,t),this.o=r.o}else r&&(t=String(r).match(hr))?(this.h=!!e,Go(this,t[1]||"",!0),this.s=xs(t[2]||""),this.g=xs(t[3]||"",!0),xr(this,t[4]),this.l=xs(t[5]||"",!0),Ss(this,t[6]||"",!0),this.o=xs(t[7]||"")):(this.h=!!e,this.i=new Zs(null,this.h))}function fr(r){return new Zr(r)}function Go(r,e,t){r.j=t?xs(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function xr(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Ss(r,e,t){e instanceof Zs?(r.i=e,function _r(r,e){e&&!r.j&&(Ni(r),r.i=null,r.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Or(this,o),na(this,u,t))},r)),r.j=e}(r.i,r.h)):(t||(e=hs(e,Kr)),r.i=new Zs(e,r.h))}function Jn(r,e,t){r.i.set(e,t)}function Es(r){return Jn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function xs(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function hs(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Ma),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Ma(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Zr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(hs(e,zo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(hs(e,zo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(hs(t,"/"==t.charAt(0)?ta:Xr,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",hs(t,es)),r.join("")};var zo=/[#\/\?@]/g,Xr=/[#\?:]/g,ta=/[#\?]/g,Kr=/[#\?@]/g,es=/#/g;function Zs(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Ni(r){r.g||(r.g=new Map,r.h=0,r.i&&function $o(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),u=null;if(0<=o){var p=r[t].substring(0,o);u=r[t].substring(o+1)}else p=r[t];e(p,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Or(r,e){Ni(r),e=ls(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Wo(r,e){return Ni(r),e=ls(r,e),r.g.has(e)}function na(r,e,t){Or(r,e),0<t.length&&(r.i=null,r.g.set(ls(r,e),K(t)),r.h+=t.length)}function ls(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ai(r){this.l=r||Zn,r=J.PerformanceNavigationTiming?0<(r=J.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(J.g&&J.g.Ga&&J.g.Ga()&&J.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=Zs.prototype).add=function(r,e){Ni(this),this.i=null,r=ls(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ce.forEach=function(r,e){Ni(this),this.g.forEach(function(t,o){t.forEach(function(u){r.call(e,u,o,this)},this)},this)},ce.oa=function(){Ni(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=r[o];for(let p=0;p<u.length;p++)t.push(e[o])}return t},ce.W=function(r){Ni(this);let e=[];if("string"==typeof r)Wo(this,r)&&(e=e.concat(this.g.get(ls(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ce.set=function(r,e){return Ni(this),this.i=null,Wo(this,r=ls(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ce.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const p=encodeURIComponent(String(o)),_=this.W(o);for(o=0;o<_.length;o++){var u=p;""!==_[o]&&(u+="="+encodeURIComponent(String(_[o]))),r.push(u)}}return this.i=r.join("&")};var Zn=10;function bs(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Fi(r){return r.h?1:r.g?r.g.size:0}function V(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function ie(r,e){r.g?r.g.add(e):r.h=e}function F(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function ue(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return K(r.i)}function $e(){}function St(){this.g=new $e}function $t(r,e,t){const o=t||"";try{As(r,function(u,p){let _=u;lt(u)&&(_=Ft(u)),e.push(o+p+"="+encodeURIComponent(_))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Gn(r,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(p){}}function yi(r){this.l=r.ac||null,this.j=r.jb||!1}function ti(r,e){_e.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=di,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ai.prototype.cancel=function(){if(this.i=ue(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},$e.prototype.stringify=function(r){return J.JSON.stringify(r,void 0)},$e.prototype.parse=function(r){return J.JSON.parse(r,void 0)},ge(yi,Ci),yi.prototype.g=function(){return new ti(this.l,this.j)},yi.prototype.i=function(r){return function(){return r}}({}),ge(ti,_e);var di=0;function tr(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function Hi(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Vi(r)}function Vi(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ce=ti.prototype).open=function(r,e){if(this.readyState!=di)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Vi(this)},ce.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||J).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hi(this)),this.readyState=di},ce.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==J.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tr(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},ce.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Hi(this):Vi(this),3==this.readyState&&tr(this)}},ce.Va=function(r){this.g&&(this.response=this.responseText=r,Hi(this))},ce.Ua=function(r){this.g&&(this.response=r,Hi(this))},ce.ga=function(){this.g&&Hi(this)},ce.setRequestHeader=function(r,e){this.v.append(r,e)},ce.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(ti.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var H=J.JSON.parse;function N(r){_e.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=M,this.K=this.L=!1}ge(N,_e);var M="",re=/^https?$/i,Pt=["POST","PUT"];function Li(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,ws(r),Zo(r)}function ws(r){r.D||(r.D=!0,Le(r,"complete"),Le(r,"error"))}function us(r){if(r.h&&void 0!==Q&&(!r.C[1]||4!=Gt(r)||2!=r.aa()))if(r.v&&4==Gt(r))vn(r.Ha,0,r);else if(Le(r,"readystatechange"),4==Gt(r)){r.h=!1;try{const S=r.aa();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===S){var u=String(r.H).match(hr)[1]||null;if(!u&&J.self&&J.self.location){var p=J.self.location.protocol;u=p.substr(0,p.length-1)}o=!re.test(u?u.toLowerCase():"")}t=o}if(t)Le(r,"complete"),Le(r,"success");else{r.m=6;try{var _=2<Gt(r)?r.g.statusText:""}catch(j){_=""}r.j=_+" ["+r.aa()+"]",ws(r)}}finally{Zo(r)}}}function Zo(r,e){if(r.g){ma(r);const t=r.g,o=r.C[0]?le:null;r.g=null,r.C=null,e||Le(r,"ready");try{t.onreadystatechange=o}catch(u){}}}function ma(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(J.clearTimeout(r.A),r.A=null)}function Gt(r){return r.g?r.g.readyState:0}function bi(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case M:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ml(r){let e="";return vi(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function lr(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=ml(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Jn(r,e,t))}function ya(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Co(r){this.Ca=0,this.i=[],this.j=new qt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ya("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ya("baseRetryDelayMs",5e3,r),this.bb=ya("retryDelaySeedMs",1e4,r),this.$a=ya("forwardChannelMaxRetries",2,r),this.ta=ya("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new Ai(r&&r.concurrentRequestLimit),this.Fa=new St,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Hs(r){if(va(r),3==r.G){var e=r.U++,t=fr(r.F);Jn(t,"SID",r.I),Jn(t,"RID",e),Jn(t,"TYPE","terminate"),Ks(r,t),(e=new zr(r,r.j,e,void 0)).K=2,e.v=Es(fr(t)),t=!1,J.navigator&&J.navigator.sendBeacon&&(t=J.navigator.sendBeacon(e.v.toString(),"")),!t&&J.Image&&((new Image).src=e.v,t=!0),t||(e.g=Do(e.l,null),e.g.da(e.v)),e.F=Date.now(),pt(e)}vl(r)}function Pa(r){r.g&&(Ar(r),r.g.cancel(),r.g=null)}function va(r){Pa(r),r.u&&(J.clearTimeout(r.u),r.u=null),ia(r),r.h.cancel(),r.m&&("number"==typeof r.m&&J.clearTimeout(r.m),r.m=null)}function yl(r){bs(r.h)||r.m||(r.m=!0,$(r.Ja,r),r.C=0)}function lo(r,e){var t;t=e?e.m:r.U++;const o=fr(r.F);Jn(o,"SID",r.I),Jn(o,"RID",t),Jn(o,"AID",r.T),Ks(r,o),r.o&&r.s&&lr(o,r.o,r.s),t=new zr(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=Mr(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),ie(r.h,t),Bs(t,o,e)}function Ks(r,e){r.ia&&vi(r.ia,function(t,o){Jn(e,o,t)}),r.l&&As({},function(t,o){Jn(e,o,t)})}function Mr(r,e,t){t=Math.min(r.i.length,t);var o=r.l?Be(r.l.Ra,r.l,r):null;e:{var u=r.i;let p=-1;for(;;){const _=["count="+t];-1==p?0<t?(p=u[0].h,_.push("ofs="+p)):p=0:_.push("ofs="+p);let S=!0;for(let j=0;j<t;j++){let Z=u[j].h;const me=u[j].g;if(Z-=p,0>Z)p=Math.max(0,u[j].h-100),S=!1;else try{$t(me,_,"req"+Z+"_")}catch(He){o&&o(me)}}if(S){o=_.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,o}function Os(r){r.g||r.u||(r.Z=1,$(r.Ia,r),r.A=0)}function uo(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=rr(Be(r.Ia,r),Na(r,r.A)),r.A++,0))}function Ar(r){null!=r.B&&(J.clearTimeout(r.B),r.B=null)}function Cs(r){r.g=new zr(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=fr(r.sa);Jn(e,"RID","rpc"),Jn(e,"SID",r.I),Jn(e,"CI",r.L?"0":"1"),Jn(e,"AID",r.T),Jn(e,"TYPE","xmlhttp"),Ks(r,e),r.o&&r.s&&lr(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=Es(fr(e)),t.s=null,t.P=!0,er(t,r)}function ia(r){null!=r.v&&(J.clearTimeout(r.v),r.v=null)}function To(r,e){var t=null;if(r.g==e){ia(r),Ar(r),r.g=null;var o=2}else{if(!V(r.h,e))return;t=e.D,F(r.h,e),o=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=r.C;Le(o=Tr(),new gn(o,t)),yl(r)}else Os(r);else if(3==(u=e.o)||0==u&&0<r.pa||!(1==o&&function Ra(r,e){return!(Fi(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=rr(Be(r.Ja,r,e),Na(r,r.C)),r.C++,0)))}(r,e)||2==o&&uo(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),u){case 1:Ts(r,5);break;case 4:Ts(r,10);break;case 3:Ts(r,6);break;default:Ts(r,2)}}function Na(r,e){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*e}function Ts(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var o=Be(r.kb,r);t||(t=new Zr("//www.google.com/images/cleardot.gif"),J.location&&"http"==J.location.protocol||Go(t,"https"),Es(t)),function Mn(r,e){const t=new qt;if(J.Image){const o=new Image;o.onload=gt(Gn,t,o,"TestLoadImage: loaded",!0,e),o.onerror=gt(Gn,t,o,"TestLoadImage: error",!1,e),o.onabort=gt(Gn,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=gt(Gn,t,o,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else Bi(2);r.G=0,r.l&&r.l.va(e),vl(r),va(r)}function vl(r){if(r.G=0,r.la=[],r.l){const e=ue(r.h);(0!=e.length||0!=r.i.length)&&(Je(r.la,e),Je(r.la,r.i),r.h.i.length=0,K(r.i),r.i.length=0),r.l.ua()}}function Ko(r,e,t){var o=t instanceof Zr?fr(t):new Zr(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),xr(o,o.m);else{var u=J.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var p=new Zr(null,void 0);o&&Go(p,o),e&&(p.g=e),u&&xr(p,u),t&&(p.l=t),o=p}return e=r.za,(t=r.D)&&e&&Jn(o,t,e),Jn(o,"VER",r.ma),Ks(r,o),o}function Do(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new N(t&&r.Da&&!r.ra?new yi({jb:!0}):r.ra)).Ka(r.H),e}function La(){}function Io(){if(q&&!(10<=Number(On)))throw Error("Environmental error: no available transport.")}function ts(r,e){_e.call(this),this.g=new Co(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Yb)&&!Ue(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ue(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new ra(this)}function Ao(r){Vr.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function So(){Xi.call(this),this.status=1}function ra(r){this.g=r}(ce=N.prototype).Ka=function(r){this.L=r},ce.da=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ir.g(),this.C=function Dr(r){return r.h||(r.h=r.i())}(this.u?this.u:Ir),this.g.onreadystatechange=Be(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(p){return void Li(this,p)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const p of o.keys())t.set(p,o.get(p))}o=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),u=J.FormData&&r instanceof J.FormData,!(0<=bt(Pt,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,_]of t)this.g.setRequestHeader(p,_);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ma(this),0<this.B&&((this.K=function Sn(r){return q&&function li(){return function ft(r){var e=jn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=et(String(yn)).split("."),t=et("9").split("."),o=Math.max(e.length,t.length);for(let _=0;0==r&&_<o;_++){var u=e[_]||"",p=t[_]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==u[0].length&&0==p[0].length)break;r=it(0==u[1].length?0:parseInt(u[1],10),0==p[1].length?0:parseInt(p[1],10))||it(0==u[2].length,0==p[2].length)||it(u[2],p[2]),u=u[3],p=p[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Be(this.qa,this)):this.A=vn(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(p){Li(this,p)}},ce.qa=function(){void 0!==Q&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Le(this,"timeout"),this.abort(8))},ce.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Le(this,"complete"),Le(this,"abort"),Zo(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zo(this,!0)),N.X.M.call(this)},ce.Ha=function(){this.s||(this.F||this.v||this.l?us(this):this.fb())},ce.fb=function(){us(this)},ce.aa=function(){try{return 2<Gt(this)?this.g.status:-1}catch(r){return-1}},ce.fa=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},ce.Sa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),H(e)}},ce.Ea=function(){return this.m},ce.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=Co.prototype).ma=8,ce.G=1,ce.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const u=new zr(this,this.j,r,void 0);let p=this.s;if(this.S&&(p?(p=Ot(p),Ge(p,this.S)):p=this.S),null!==this.o||this.N||(u.H=p,p=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Mr(this,u,e),Jn(t=fr(this.F),"RID",r),Jn(t,"CVER",22),this.D&&Jn(t,"X-HTTP-Session-Id",this.D),Ks(this,t),p&&(this.N?e="headers="+encodeURIComponent(String(ml(p)))+"&"+e:this.o&&lr(t,this.o,p)),ie(this.h,u),this.Ya&&Jn(t,"TYPE","init"),this.O?(Jn(t,"$req",e),Jn(t,"SID","null"),u.Z=!0,Bs(u,t,null)):Bs(u,t,e),this.G=2}}else 3==this.G&&(r?lo(this,r):0==this.i.length||bs(this.h)||lo(this))},ce.Ia=function(){if(this.u=null,Cs(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=rr(Be(this.eb,this),r)}},ce.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Bi(10),Pa(this),Cs(this))},ce.cb=function(){null!=this.v&&(this.v=null,Pa(this),uo(this),Bi(19))},ce.kb=function(r){r?(this.j.info("Successfully pinged google.com"),Bi(2)):(this.j.info("Failed to ping google.com"),Bi(1))},(ce=La.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Ra=function(){},Io.prototype.g=function(r,e){return new ts(r,e)},ge(ts,_e),ts.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;Bi(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=Ko(r,null,r.V),yl(r)},ts.prototype.close=function(){Hs(this.g)},ts.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Ft(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.ab++,r)),3==e.G&&yl(e)},ts.prototype.M=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,ts.X.M.call(this)},ge(Ao,Vr),ge(So,Xi),ge(ra,La),ra.prototype.xa=function(){Le(this.g,"a")},ra.prototype.wa=function(r){Le(this.g,new Ao(r))},ra.prototype.va=function(r){Le(this.g,new So)},ra.prototype.ua=function(){Le(this.g,"b")},Io.prototype.createWebChannel=Io.prototype.g,ts.prototype.send=ts.prototype.u,ts.prototype.open=ts.prototype.m,ts.prototype.close=ts.prototype.close,At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,ar.COMPLETE="complete",Ei.EventType=$r,$r.OPEN="a",$r.CLOSE="b",$r.ERROR="c",$r.MESSAGE="d",_e.prototype.listen=_e.prototype.N,N.prototype.listenOnce=N.prototype.O,N.prototype.getLastError=N.prototype.Oa,N.prototype.getLastErrorCode=N.prototype.Ea,N.prototype.getStatus=N.prototype.aa,N.prototype.getResponseJson=N.prototype.Sa,N.prototype.getResponseText=N.prototype.fa,N.prototype.send=N.prototype.da,N.prototype.setWithCredentials=N.prototype.Ka;var _l=Ee.createWebChannelTransport=function(){return new Io},sa=Ee.getStatEventTarget=function(){return Tr()},xo=Ee.ErrorCode=At,Hl=Ee.EventType=ar,El=Ee.Event=or,ns=Ee.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},co=Ee.FetchXmlHttpFactory=yi,Ji=Ee.WebChannel=Ei,_a=Ee.XhrIo=N;const lu="@firebase/firestore";class ji{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ji.UNAUTHENTICATED=new ji(null),ji.GOOGLE_CREDENTIALS=new ji("google-credentials-uid"),ji.FIRST_PARTY=new ji("first-party-uid"),ji.MOCK_USER=new ji("mock-user");let Ds="9.14.0";const ho=new Ce.Yd("@firebase/firestore");function fo(){return ho.logLevel}function Ms(r){ho.setLogLevel(r)}function Kt(r,...e){if(ho.logLevel<=Ce.in.DEBUG){const t=e.map(oa);ho.debug(`Firestore (${Ds}): ${r}`,...t)}}function nr(r,...e){if(ho.logLevel<=Ce.in.ERROR){const t=e.map(oa);ho.error(`Firestore (${Ds}): ${r}`,...t)}}function $i(r,...e){if(ho.logLevel<=Ce.in.WARN){const t=e.map(oa);ho.warn(`Firestore (${Ds}): ${r}`,...t)}}function oa(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function Pn(r="Unexpected state"){const e=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: `+r;throw nr(e),new Error(e)}function In(r,e){r||Pn()}function Is(r,e){r||Pn()}function hn(r,e){return r}const Dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zt extends ve.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ka{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ol{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ji.UNAUTHENTICATED))}shutdown(){}}class Ku{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fs{constructor(e){this.t=e,this.currentUser=ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const p=Z=>this.i!==u?(u=this.i,t(Z)):Promise.resolve();let _=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new pr,e.enqueueRetryable(()=>p(this.currentUser))};const S=()=>{const Z=_;e.enqueueRetryable((0,f.Z)(function*(){yield Z.promise,yield p(o.currentUser)}))},j=Z=>{Kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(Z=>j(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?j(Z):(Kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new pr)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(In("string"==typeof o.accessToken),new ka(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return In(null===e||"string"==typeof e),new ji(e)}}class bl{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=ji.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(In(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class al{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new bl(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ji.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class is{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=p=>{null!=p.error&&Kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.A;return this.A=p.token,Kt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const u=p=>{Kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.T.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.T.getImmediate({optional:!0});p?u(p):Kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(In("string"==typeof t.token),this.A=t.token,new Fa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Va(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class Gi{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Va(40);for(let p=0;p<u.length;++p)o.length<20&&u[p]<t&&(o+=e.charAt(u[p]%e.length))}return o}}function ii(r,e){return r<e?-1:r>e?1:0}function ps(r,e,t){return r.length===e.length&&r.every((o,u)=>t(o,e[u]))}function ba(r){return r+"\0"}class Zi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new zt(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new zt(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new zt(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zt(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zi.fromMillis(Date.now())}static fromDate(e){return Zi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Zi(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ii(this.nanoseconds,e.nanoseconds):ii(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ei{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ei(e)}static min(){return new ei(new Zi(0,0))}static max(){return new ei(new Zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class O{constructor(e,t,o){void 0===t?t=0:t>e.length&&Pn(),void 0===o?o=e.length-t:o>e.length-t&&Pn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===O.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof O?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const p=e.get(u),_=t.get(u);if(p<_)return-1;if(p>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class D extends O{construct(e,t,o){return new D(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new zt(Dt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new D(t)}static emptyPath(){return new D([])}}const w=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class L extends O{construct(e,t,o){return new L(e,t,o)}static isValidIdentifier(e){return w.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),L.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new L(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const p=()=>{if(0===o.length)throw new zt(Dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let _=!1;for(;u<e.length;){const S=e[u];if("\\"===S){if(u+1===e.length)throw new zt(Dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[u+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new zt(Dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=j,u+=2}else"`"===S?(_=!_,u++):"."!==S||_?(o+=S,u++):(p(),u++)}if(p(),_)throw new zt(Dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new L(t)}static emptyPath(){return new L([])}}class k{constructor(e){this.path=e}static fromPath(e){return new k(D.fromString(e))}static fromName(e){return new k(D.fromString(e).popFirst(5))}static empty(){return new k(D.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===D.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return D.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new k(new D(e.slice()))}}class ae{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function Pe(r){return r.fields.find(e=>2===e.kind)}function je(r){return r.fields.filter(e=>2!==e.kind)}ae.UNKNOWN_ID=-1;class wn{constructor(e,t){this.fieldPath=e,this.kind=t}}class Rn{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Rn(0,gr.min())}}function Mi(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,u=ei.fromTimestamp(1e9===o?new Zi(t+1,0):new Zi(t,o));return new gr(u,k.empty(),e)}function Pi(r){return new gr(r.readTime,r.key,-1)}class gr{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new gr(ei.min(),k.empty(),-1)}static max(){return new gr(ei.max(),k.empty(),-1)}}function po(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=k.comparator(r.documentKey,e.documentKey),0!==t?t:ii(r.largestBatchId,e.largestBatchId))}const Oo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class go{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qr(r){return qo.apply(this,arguments)}function qo(){return qo=(0,f.Z)(function*(r){if(r.code!==Dt.FAILED_PRECONDITION||r.message!==Oo)throw r;Kt("LocalStore","Unexpectedly lost primary lease")}),qo.apply(this,arguments)}class _t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _t((o,u)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,u)},this.catchCallback=p=>{this.wrapFailure(t,p).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _t?t:_t.resolve(t)}catch(t){return _t.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_t.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_t.reject(t)}static resolve(e){return new _t((t,o)=>{t(e)})}static reject(e){return new _t((t,o)=>{o(e)})}static waitFor(e){return new _t((t,o)=>{let u=0,p=0,_=!1;e.forEach(S=>{++u,S.next(()=>{++p,_&&p===u&&t()},j=>o(j))}),_=!0,p===u&&t()})}static or(e){let t=_t.resolve(!1);for(const o of e)t=t.next(u=>u?_t.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,p)=>{o.push(t.call(this,u,p))}),this.waitFor(o)}static mapArray(e,t){return new _t((o,u)=>{const p=e.length,_=new Array(p);let S=0;for(let j=0;j<p;j++){const Z=j;t(e[Z]).next(me=>{_[Z]=me,++S,S===p&&o(_)},me=>u(me))}})}static doWhile(e,t){return new _t((o,u)=>{const p=()=>{!0===e()?t().next(()=>{p()},u):o()};p()})}}class Pr{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new pr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Mo(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=Ba(o.target.error);this.P.reject(new Mo(e,u))}}static open(e,t,o,u){try{return new Pr(t,e.transaction(u,o))}catch(p){throw new Mo(t,p)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Kt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ua(t)}}class qs{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===qs.D((0,ve.z$)())&&nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Kt("SimpleDb","Removing database:",e),mr(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ve.hl)())return!1;if(qs.N())return!0;const e=(0,ve.z$)(),t=qs.D(e),o=0<t&&t<10,u=qs.k(e),p=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,f.Z)(function*(){return t.db||(Kt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const p=indexedDB.open(t.name,t.version);p.onsuccess=_=>{o(_.target.result)},p.onblocked=()=>{u(new Mo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=_=>{const S=_.target.error;u("VersionError"===S.name?new zt(Dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new zt(Dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new Mo(e,S))},p.onupgradeneeded=_=>{Kt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',_.oldVersion),t.S.$(_.target.result,p.transaction,_.oldVersion,t.version).next(()=>{Kt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var p=this;return(0,f.Z)(function*(){const _="readonly"===t;let S=0;for(;;){++S;try{p.db=yield p.F(e);const j=Pr.open(p.db,e,_?"readonly":"readwrite",o),Z=u(j).next(me=>(j.V(),me)).catch(me=>(j.abort(me),_t.reject(me))).toPromise();return Z.catch(()=>{}),yield j.v,Z}catch(j){const Z=j,me="FirebaseError"!==Z.name&&S<3;if(Kt("SimpleDb","Transaction failed with error:",Z.message,"Retrying:",me),p.close(),!me)return Promise.reject(Z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wl{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return mr(this.U.delete())}}class Mo extends zt{constructor(e,t){super(Dt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function js(r){return"IndexedDbTransactionError"===r.name}class Ua{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Kt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Kt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),mr(o)}add(e){return Kt("SimpleDb","ADD",this.store.name,e,e),mr(this.store.add(e))}get(e){return mr(this.store.get(e)).next(t=>(void 0===t&&(t=null),Kt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Kt("SimpleDb","DELETE",this.store.name,e),mr(this.store.delete(e))}count(){return Kt("SimpleDb","COUNT",this.store.name),mr(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),p=[];return this.H(u,(_,S)=>{p.push(S)}).next(()=>p)}{const u=this.store.getAll(o.range);return new _t((p,_)=>{u.onerror=S=>{_(S.target.error)},u.onsuccess=S=>{p(S.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new _t((u,p)=>{o.onerror=_=>{p(_.target.error)},o.onsuccess=_=>{u(_.target.result)}})}Y(e,t){Kt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const u=this.cursor(o);return this.H(u,(p,_,S)=>S.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.H(u,t)}tt(e){const t=this.cursor({});return new _t((o,u)=>{t.onerror=p=>{const _=Ba(p.target.error);u(_)},t.onsuccess=p=>{const _=p.target.result;_?e(_.primaryKey,_.value).next(S=>{S?_.continue():o()}):o()}})}H(e,t){const o=[];return new _t((u,p)=>{e.onerror=_=>{p(_.target.error)},e.onsuccess=_=>{const S=_.target.result;if(!S)return void u();const j=new wl(S),Z=t(S.primaryKey,S.value,j);if(Z instanceof _t){const me=Z.catch(He=>(j.done(),_t.reject(He)));o.push(me)}j.isDone?u():null===j.G?S.continue():S.continue(j.G)}}).next(()=>_t.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mr(r){return new _t((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const u=Ba(o.target.error);t(u)}})}let Cl=!1;function Ba(r){const e=qs.D((0,ve.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new zt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Cl||(Cl=!0,setTimeout(()=>{throw o},0)),o}}return r}class wa{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Kt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,f.Z)(function*(){t.task=null;try{Kt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){js(o)?Kt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield qr(o)}yield t.nt(6e4)}))}}class Ha{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,f.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let u=t,p=!0;return _t.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(_=>{if(null!==_&&!o.has(_))return Kt("IndexBackiller",`Processing collection: ${_}`),this.rt(e,_,u).next(S=>{u-=S,o.add(_)});p=!1})).next(()=>t-u)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(p=>{const _=p.changes;return this.localStore.indexManager.updateIndexEntries(e,_).next(()=>this.ot(u,p)).next(S=>(Kt("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,t,S))).next(()=>_.size)}))}ot(e,t){let o=e;return t.changes.forEach((u,p)=>{const _=Pi(p);po(_,o)>0&&(o=_)}),new gr(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ys{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Er(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ja(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Su(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}Ys.at=-1;class Rr{constructor(e,t){this.comparator=e,this.root=t||Ps.EMPTY}insert(e,t){return new Rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ps.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ps.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?o(e.key,t):1,t&&u&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ps{constructor(e,t,o,u,p){this.key=e,this.value=t,this.color=null!=o?o:Ps.RED,this.left=null!=u?u:Ps.EMPTY,this.right=null!=p?p:Ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,p){return new Ps(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const p=o(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===p?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Ps.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pn();const e=this.left.check();if(e!==this.right.check())throw Pn();return e+(this.isRed()?0:1)}}Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1,Ps.EMPTY=new class{constructor(){this.size=0}get key(){throw Pn()}get value(){throw Pn()}get color(){throw Pn()}get left(){throw Pn()}get right(){throw Pn()}copy(r,e,t,o,u){return this}insert(r,e,t){return new Ps(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ur{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ac(this.data.getIterator())}getIteratorFrom(e){return new Ac(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof ur)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,p=o.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ur(this.comparator);return t.data=e,t}}class Ac{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qs(r){return r.hasNext()?r.getNext():void 0}class Js{constructor(e){this.fields=e,e.sort(L.comparator)}static empty(){return new Js([])}unionWith(e){let t=new ur(L.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Js(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ps(this.fields,e.fields,(t,o)=>t.isEqual(o))}}function Sr(){return"undefined"!=typeof atob}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Nr(t)}static fromUint8Array(e){const t=function(o){let u="";for(let p=0;p<o.length;++p)u+=String.fromCharCode(o[p]);return u}(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ii(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const $a=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ga(r){if(In(!!r),"string"==typeof r){let e=0;const t=$a.exec(r);if(In(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:br(r.seconds),nanos:br(r.nanos)}}function br(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ur(r){return"string"==typeof r?Nr.fromBase64String(r):Nr.fromUint8Array(r)}function Rs(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function uu(r){const e=r.mapValue.fields.__previous_value__;return Rs(e)?uu(e):e}function Yo(r){const e=Ga(r.mapValue.fields.__local_write_time__.timestampValue);return new Zi(e.seconds,e.nanos)}class Ca{constructor(e,t,o,u,p,_,S,j){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=S,this.useFetchStreams=j}}class gs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new gs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof gs&&e.projectId===this.projectId&&e.database===this.database}}function Po(r){return null==r}function za(r){return 0===r&&1/r==-1/0}function cu(r){return"number"==typeof r&&Number.isInteger(r)&&!za(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const aa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},la={nullValue:"NULL_VALUE"};function Yr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rs(r)?4:Qo(r)?9007199254740991:10:Pn()}function Ro(r,e){if(r===e)return!0;const t=Yr(r);if(t!==Yr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yo(r).isEqual(Yo(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const p=Ga(o.timestampValue),_=Ga(u.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return u=e,Ur(r.bytesValue).isEqual(Ur(u.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return br(o.geoPointValue.latitude)===br(u.geoPointValue.latitude)&&br(o.geoPointValue.longitude)===br(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return br(o.integerValue)===br(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const p=br(o.doubleValue),_=br(u.doubleValue);return p===_?za(p)===za(_):isNaN(p)&&isNaN(_)}return!1}(r,e);case 9:return ps(r.arrayValue.values||[],e.arrayValue.values||[],Ro);case 10:return function(o,u){const p=o.mapValue.fields||{},_=u.mapValue.fields||{};if(Er(p)!==Er(_))return!1;for(const S in p)if(p.hasOwnProperty(S)&&(void 0===_[S]||!Ro(p[S],_[S])))return!1;return!0}(r,e);default:return Pn()}var u}function Qr(r,e){return void 0!==(r.values||[]).find(t=>Ro(t,e))}function No(r,e){if(r===e)return 0;const t=Yr(r),o=Yr(e);if(t!==o)return ii(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return ii(r.booleanValue,e.booleanValue);case 2:return function(u,p){const _=br(u.integerValue||u.doubleValue),S=br(p.integerValue||p.doubleValue);return _<S?-1:_>S?1:_===S?0:isNaN(_)?isNaN(S)?0:-1:1}(r,e);case 3:return Wa(r.timestampValue,e.timestampValue);case 4:return Wa(Yo(r),Yo(e));case 5:return ii(r.stringValue,e.stringValue);case 6:return function(u,p){const _=Ur(u),S=Ur(p);return _.compareTo(S)}(r.bytesValue,e.bytesValue);case 7:return function(u,p){const _=u.split("/"),S=p.split("/");for(let j=0;j<_.length&&j<S.length;j++){const Z=ii(_[j],S[j]);if(0!==Z)return Z}return ii(_.length,S.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,p){const _=ii(br(u.latitude),br(p.latitude));return 0!==_?_:ii(br(u.longitude),br(p.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(u,p){const _=u.values||[],S=p.values||[];for(let j=0;j<_.length&&j<S.length;++j){const Z=No(_[j],S[j]);if(Z)return Z}return ii(_.length,S.length)}(r.arrayValue,e.arrayValue);case 10:return function(u,p){if(u===aa.mapValue&&p===aa.mapValue)return 0;if(u===aa.mapValue)return 1;if(p===aa.mapValue)return-1;const _=u.fields||{},S=Object.keys(_),j=p.fields||{},Z=Object.keys(j);S.sort(),Z.sort();for(let me=0;me<S.length&&me<Z.length;++me){const He=ii(S[me],Z[me]);if(0!==He)return He;const yt=No(_[S[me]],j[Z[me]]);if(0!==yt)return yt}return ii(S.length,Z.length)}(r.mapValue,e.mapValue);default:throw Pn()}}function Wa(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return ii(r,e);const t=Ga(r),o=Ga(e),u=ii(t.seconds,o.seconds);return 0!==u?u:ii(t.nanos,o.nanos)}function Ns(r){return jl(r)}function jl(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const u=Ga(o);return`time(${u.seconds},${u.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ur(r.bytesValue).toBase64():"referenceValue"in r?k.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let u="[",p=!0;for(const _ of o.values||[])p?p=!1:u+=",",u+=jl(_);return u+"]"}(r.arrayValue):"mapValue"in r?function(o){const u=Object.keys(o.fields||{}).sort();let p="{",_=!0;for(const S of u)_?_=!1:p+=",",p+=`${S}:${jl(o.fields[S])}`;return p+"}"}(r.mapValue):Pn();var e}function ua(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Za(r){return!!r&&"integerValue"in r}function Lo(r){return!!r&&"arrayValue"in r}function Ka(r){return!!r&&"nullValue"in r}function Xs(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ll(r){return!!r&&"mapValue"in r}function ul(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ja(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=ul(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ul(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Qo(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function cl(r){return"nullValue"in r?la:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?ua(gs.empty(),k.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Pn()}function Ls(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?ua(gs.empty(),k.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?aa:Pn()}function qa(r,e){const t=No(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function R(r,e){const t=No(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class U{constructor(e){this.value=e}static empty(){return new U({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!ll(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(t)}setAll(e){let t=L.emptyPath(),o={},u=[];e.forEach((_,S)=>{if(!t.isImmediateParentOf(S)){const j=this.getFieldsMap(t);this.applyChanges(j,o,u),o={},u=[],t=S.popLast()}_?o[S.lastSegment()]=ul(_):u.push(S.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,o,u)}delete(e){const t=this.field(e.popLast());ll(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ro(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];ll(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){ja(t,(u,p)=>e[u]=p);for(const u of o)delete e[u]}clone(){return new U(ul(this.value))}}function oe(r){const e=[];return ja(r.fields,(t,o)=>{const u=new L([t]);if(ll(o)){const p=oe(o.mapValue).fields;if(0===p.length)e.push(u);else for(const _ of p)e.push(u.child(_))}else e.push(u)}),new Js(e)}class Ie{constructor(e,t,o,u,p,_){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=p,this.documentState=_}static newInvalidDocument(e){return new Ie(e,0,ei.min(),ei.min(),U.empty(),0)}static newFoundDocument(e,t,o){return new Ie(e,1,t,ei.min(),o,0)}static newNoDocument(e,t){return new Ie(e,2,t,ei.min(),U.empty(),0)}static newUnknownDocument(e,t){return new Ie(e,3,t,ei.min(),U.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=U.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=U.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ei.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ie&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ie(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rt{constructor(e,t=null,o=[],u=[],p=null,_=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=p,this.startAt=_,this.endAt=S,this.ht=null}}function Et(r,e=null,t=[],o=[],u=null,p=null,_=null){return new rt(r,e,t,o,u,p,_)}function Jt(r){const e=hn(r);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+Ns(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Po(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Ns(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Ns(o)).join(",")),e.ht=t}return e.ht}function Bn(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<r.orderBy.length;u++)if(!td(r.orderBy[u],e.orderBy[u]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let u=0;u<r.filters.length;u++)if((t=r.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!Ro(t.value,o.value))return!1;var t,o;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!hl(r.startAt,e.startAt)&&hl(r.endAt,e.endAt)}function ai(r){return k.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function ri(r,e){return r.filters.filter(t=>t instanceof Yi&&t.field.isEqual(e))}function zn(r,e,t){let o=la,u=!0;for(const p of ri(r,e)){let _=la,S=!0;switch(p.op){case"<":case"<=":_=cl(p.value);break;case"==":case"in":case">=":_=p.value;break;case">":_=p.value,S=!1;break;case"!=":case"not-in":_=la}qa({value:o,inclusive:u},{value:_,inclusive:S})<0&&(o=_,u=S)}if(null!==t)for(let p=0;p<r.orderBy.length;++p)if(r.orderBy[p].field.isEqual(e)){const _=t.position[p];qa({value:o,inclusive:u},{value:_,inclusive:t.inclusive})<0&&(o=_,u=t.inclusive);break}return{value:o,inclusive:u}}function rs(r,e,t){let o=aa,u=!0;for(const p of ri(r,e)){let _=aa,S=!0;switch(p.op){case">=":case">":_=Ls(p.value),S=!1;break;case"==":case"in":case"<=":_=p.value;break;case"<":_=p.value,S=!1;break;case"!=":case"not-in":_=aa}R({value:o,inclusive:u},{value:_,inclusive:S})>0&&(o=_,u=S)}if(null!==t)for(let p=0;p<r.orderBy.length;++p)if(r.orderBy[p].field.isEqual(e)){const _=t.position[p];R({value:o,inclusive:u},{value:_,inclusive:t.inclusive})>0&&(o=_,u=t.inclusive);break}return{value:o,inclusive:u}}class Yi extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new dl(e,t,o):"array-contains"===t?new Ta(e,o):"in"===t?new Ya(e,o):"not-in"===t?new ca(e,o):"array-contains-any"===t?new Da(e,o):new Yi(e,t,o)}static lt(e,t,o){return"in"===t?new Jo(e,o):new ks(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(No(t,this.value)):null!==t&&Yr(this.value)===Yr(t)&&this.ft(No(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class dl extends Yi{constructor(e,t,o){super(e,t,o),this.key=k.fromName(o.referenceValue)}matches(e){const t=k.comparator(e.key,this.key);return this.ft(t)}}class Jo extends Yi{constructor(e,t){super(e,"in",t),this.keys=$l(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ks extends Yi{constructor(e,t){super(e,"not-in",t),this.keys=$l(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $l(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>k.fromName(o.referenceValue))}class Ta extends Yi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lo(t)&&Qr(t.arrayValue,this.value)}}class Ya extends Yi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qr(this.value.arrayValue,t)}}class ca extends Yi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qr(this.value.arrayValue,t)}}class Da extends Yi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Qr(this.value.arrayValue,o))}}class eo{constructor(e,t){this.position=e,this.inclusive=t}}class Qa{constructor(e,t="asc"){this.field=e,this.dir=t}}function td(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function Sc(r,e,t){let o=0;for(let u=0;u<r.position.length;u++){const p=e[u],_=r.position[u];if(o=p.field.isKeyField()?k.comparator(k.fromName(_.referenceValue),t.key):No(_,t.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function hl(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ro(r.position[t],e.position[t]))return!1;return!0}class $s{constructor(e,t=null,o=[],u=[],p=null,_="F",S=null,j=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=p,this.limitType=_,this.startAt=S,this.endAt=j,this._t=null,this.wt=null}}function qu(r,e,t,o,u,p,_,S){return new $s(r,e,t,o,u,p,_,S)}function du(r){return new $s(r)}function Ou(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function xc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Gl(r){for(const e of r.filters)if(e.dt())return e.field;return null}function ko(r){return null!==r.collectionGroup}function zl(r){const e=hn(r);if(null===e._t){e._t=[];const t=Gl(e),o=xc(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new Qa(t)),e._t.push(new Qa(L.keyField(),"asc"));else{let u=!1;for(const p of e.explicitOrderBy)e._t.push(p),p.field.isKeyField()&&(u=!0);if(!u){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Qa(L.keyField(),p))}}}return e._t}function ms(r){const e=hn(r);if(!e.wt)if("F"===e.limitType)e.wt=Et(e.path,e.collectionGroup,zl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of zl(e))t.push(new Qa(p.field,"desc"===p.dir?"asc":"desc"));const o=e.endAt?new eo(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new eo(e.startAt.position,e.startAt.inclusive):null;e.wt=Et(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.wt}function to(r,e,t){return new $s(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Tl(r,e){return Bn(ms(r),ms(e))&&r.limitType===e.limitType}function Dl(r){return`${Jt(ms(r))}|lt:${r.limitType}`}function Wl(r){return`Query(target=${function dn(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Ns(o.value)}`;var o}).join(", ")}]`),Po(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>Ns(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>Ns(t)).join(",")),`Target(${e})`}(ms(r))}; limitType=${r.limitType})`}function Mu(r,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):k.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(r,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(r,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(u,p,_){const S=Sc(u,p,_);return u.inclusive?S<=0:S<0}(t.startAt,zl(t),o)||t.endAt&&!function(u,p,_){const S=Sc(u,p,_);return u.inclusive?S>=0:S>0}(t.endAt,zl(t),o)));var t,o}function no(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Il(r){return(e,t)=>{let o=!1;for(const u of zl(r)){const p=Yu(u,e,t);if(0!==p)return p;o=o||u.field.isKeyField()}return 0}}function Yu(r,e,t){const o=r.field.isKeyField()?k.comparator(e.key,t.key):function(u,p,_){const S=p.data.field(u),j=_.data.field(u);return null!==S&&null!==j?No(S,j):Pn()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return Pn()}}function Qu(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:za(e)?"-0":e}}function hu(r){return{integerValue:""+r}}function fu(r,e){return cu(e)?hu(e):Qu(r,e)}class da{constructor(){this._=void 0}}function Oc(r,e,t){return r instanceof an?function(o,u){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(p.fields.__previous_value__=u),{mapValue:p}}(t,e):r instanceof Ia?Aa(r,e):r instanceof mo?Ju(r,e):function(o,u){const p=Mc(o,u),_=Xu(p)+Xu(o.yt);return Za(p)&&Za(o.yt)?hu(_):Qu(o.It,_)}(r,e)}function Qd(r,e,t){return r instanceof Ia?Aa(r,e):r instanceof mo?Ju(r,e):t}function Mc(r,e){return r instanceof Ja?Za(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class an extends da{}class Ia extends da{constructor(e){super(),this.elements=e}}function Aa(r,e){const t=pu(e);for(const o of r.elements)t.some(u=>Ro(u,o))||t.push(o);return{arrayValue:{values:t}}}class mo extends da{constructor(e){super(),this.elements=e}}function Ju(r,e){let t=pu(e);for(const o of r.elements)t=t.filter(u=>!Ro(u,o));return{arrayValue:{values:t}}}class Ja extends da{constructor(e,t){super(),this.It=e,this.yt=t}}function Xu(r){return br(r.integerValue||r.doubleValue)}function pu(r){return Lo(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Xa{constructor(e,t){this.field=e,this.transform=t}}class ec{constructor(e,t){this.version=e,this.transformResults=t}}class Lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gu(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Al{}function Pc(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new de(r.key,Lr.none()):new C(r.key,r.data,Lr.none());{const t=r.data,o=U.empty();let u=new ur(L.comparator);for(let p of e.fields)if(!u.has(p)){let _=t.field(p);null===_&&p.length>1&&(p=p.popLast(),_=t.field(p)),null===_?o.delete(p):o.set(p,_),u=u.add(p)}return new y(r.key,o,new Js(u.toArray()),Lr.none())}}function nd(r,e,t){r instanceof C?function(o,u,p){const _=o.value.clone(),S=A(o.fieldTransforms,u,p.transformResults);_.setAll(S),u.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(r,e,t):r instanceof y?function(o,u,p){if(!gu(o.precondition,u))return void u.convertToUnknownDocument(p.version);const _=A(o.fieldTransforms,u,p.transformResults),S=u.data;S.setAll(v(o)),S.setAll(_),u.convertToFoundDocument(p.version,S).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Sl(r,e,t,o){return r instanceof C?function(u,p,_,S){if(!gu(u.precondition,p))return _;const j=u.value.clone(),Z=Y(u.fieldTransforms,S,p);return j.setAll(Z),p.convertToFoundDocument(p.version,j).setHasLocalMutations(),null}(r,e,t,o):r instanceof y?function(u,p,_,S){if(!gu(u.precondition,p))return _;const j=Y(u.fieldTransforms,S,p),Z=p.data;return Z.setAll(v(u)),Z.setAll(j),p.convertToFoundDocument(p.version,Z).setHasLocalMutations(),null===_?null:_.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(me=>me.field))}(r,e,t,o):(_=t,gu(r.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_);var p,_}function ha(r,e){let t=null;for(const o of r.fieldTransforms){const u=e.data.field(o.field),p=Mc(o.transform,u||null);null!=p&&(null===t&&(t=U.empty()),t.set(o.field,p))}return t||null}function Fo(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&ps(t,o,(u,p)=>function Pu(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof Ia&&o instanceof Ia||t instanceof mo&&o instanceof mo?ps(t.elements,o.elements,Ro):t instanceof Ja&&o instanceof Ja?Ro(t.yt,o.yt):t instanceof an&&o instanceof an);var t,o}(u,p))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class C extends Al{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class y extends Al{constructor(e,t,o,u,p=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function v(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function A(r,e,t){const o=new Map;In(r.length===t.length);for(let u=0;u<t.length;u++){const p=r[u],_=p.transform,S=e.data.field(p.field);o.set(p.field,Qd(_,S,t[u]))}return o}function Y(r,e,t){const o=new Map;for(const u of r){const p=u.transform,_=t.data.field(u.field);o.set(u.field,Oc(p,_,e))}return o}class de extends Al{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dt extends Al{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yt{constructor(e){this.count=e}}var un,cn;function hi(r){switch(r){default:return Pn();case Dt.CANCELLED:case Dt.UNKNOWN:case Dt.DEADLINE_EXCEEDED:case Dt.RESOURCE_EXHAUSTED:case Dt.INTERNAL:case Dt.UNAVAILABLE:case Dt.UNAUTHENTICATED:return!1;case Dt.INVALID_ARGUMENT:case Dt.NOT_FOUND:case Dt.ALREADY_EXISTS:case Dt.PERMISSION_DENIED:case Dt.FAILED_PRECONDITION:case Dt.ABORTED:case Dt.OUT_OF_RANGE:case Dt.UNIMPLEMENTED:case Dt.DATA_LOSS:return!0}}function sr(r){if(void 0===r)return nr("GRPC error has no .code"),Dt.UNKNOWN;switch(r){case un.OK:return Dt.OK;case un.CANCELLED:return Dt.CANCELLED;case un.UNKNOWN:return Dt.UNKNOWN;case un.DEADLINE_EXCEEDED:return Dt.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return Dt.RESOURCE_EXHAUSTED;case un.INTERNAL:return Dt.INTERNAL;case un.UNAVAILABLE:return Dt.UNAVAILABLE;case un.UNAUTHENTICATED:return Dt.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return Dt.INVALID_ARGUMENT;case un.NOT_FOUND:return Dt.NOT_FOUND;case un.ALREADY_EXISTS:return Dt.ALREADY_EXISTS;case un.PERMISSION_DENIED:return Dt.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return Dt.FAILED_PRECONDITION;case un.ABORTED:return Dt.ABORTED;case un.OUT_OF_RANGE:return Dt.OUT_OF_RANGE;case un.UNIMPLEMENTED:return Dt.UNIMPLEMENTED;case un.DATA_LOSS:return Dt.DATA_LOSS;default:return Pn()}}(cn=un||(un={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";class Gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,p]of o)if(this.equalsFn(u,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],e))return void(u[p]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ja(this.inner,(t,o)=>{for(const[u,p]of o)e(u,p)})}isEmpty(){return Su(this.inner)}size(){return this.innerSize}}const el=new Rr(k.comparator);function Fs(){return el}const tc=new Rr(k.comparator);function xl(...r){let e=tc;for(const t of r)e=e.insert(t.key,t);return e}function nc(r){let e=tc;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Vo(){return tl()}function Ol(){return tl()}function tl(){return new Gs(r=>r.toString(),(r,e)=>r.isEqual(e))}const Ml=new Rr(k.comparator),Ru=new ur(k.comparator);function Fn(...r){let e=Ru;for(const t of r)e=e.add(t);return e}const Nu=new ur(ii);function Zl(){return Nu}class fl{constructor(e,t,o,u,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new fl(ei.min(),u,Zl(),Fs(),Fn())}}class mu{constructor(e,t,o,u,p){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new mu(o,t,Fn(),Fn(),Fn())}}class ic{constructor(e,t,o,u){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=u}}class Jd{constructor(e,t){this.targetId=e,this.At=t}}class id{constructor(e,t,o=Nr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class rd{constructor(){this.Rt=0,this.bt=Xd(),this.Pt=Nr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Fn(),t=Fn(),o=Fn();return this.bt.forEach((u,p)=>{switch(p){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:Pn()}}),new mu(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=Xd()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Qh{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Fs(),this.qt=Jh(),this.Kt=new ur(ii)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:Pn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,u)=>{this.Ht(u)&&t(u)})}Yt(e){const t=e.targetId,o=e.At.count,u=this.Xt(t);if(u){const p=u.target;if(ai(p))if(0===o){const _=new k(p.path);this.jt(t,_,Ie.newNoDocument(_,ei.min()))}else In(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((p,_)=>{const S=this.Xt(_);if(S){if(p.current&&ai(S.target)){const j=new k(S.target.path);null!==this.Ut.get(j)||this.ee(_,j)||this.jt(_,j,Ie.newNoDocument(j,e))}p.Dt&&(t.set(_,p.xt()),p.Nt())}});let o=Fn();this.qt.forEach((p,_)=>{let S=!0;_.forEachWhile(j=>{const Z=this.Xt(j);return!Z||2===Z.purpose||(S=!1,!1)}),S&&(o=o.add(p))}),this.Ut.forEach((p,_)=>_.setReadTime(e));const u=new fl(e,t,this.Kt,this.Ut,o);return this.Ut=Fs(),this.qt=Jh(),this.Kt=new ur(ii),u}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,t)?u.kt(t,1):u.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new rd,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new ur(ii),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Kt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new rd),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Jh(){return new Rr(k.comparator)}function Xd(){return new Rr(k.comparator)}const rc={asc:"ASCENDING",desc:"DESCENDING"},Uo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class sd{constructor(e,t){this.databaseId=e,this.gt=t}}function Lu(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eh(r,e){return r.gt?e.toBase64():e.toUint8Array()}function E(r,e){return Lu(r,e.toTimestamp())}function c(r){return In(!!r),ei.fromTimestamp(function(e){const t=Ga(e);return new Zi(t.seconds,t.nanos)}(r))}function a(r,e){return(t=r,new D(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function g(r){const e=D.fromString(r);return In(Kl(e)),e}function T(r,e){return a(r.databaseId,e.path)}function B(r,e){const t=g(e);if(t.get(1)!==r.databaseId.projectId)throw new zt(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new zt(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new k(Ct(t))}function se(r,e){return a(r.databaseId,e)}function Te(r){const e=g(r);return 4===e.length?D.emptyPath():Ct(e)}function Xe(r){return new D(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ct(r){return In(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Xt(r,e,t){return{name:T(r,e),fields:t.value.mapValue.fields}}function Tn(r,e,t){const o=B(r,e.name),u=c(e.updateTime),p=new U({mapValue:{fields:e.fields}}),_=Ie.newFoundDocument(o,u,p);return t&&_.setHasCommittedMutations(),t?_.setHasCommittedMutations():_}function qn(r,e){let t;if(e instanceof C)t={update:Xt(r,e.key,e.value)};else if(e instanceof de)t={delete:T(r,e.key)};else if(e instanceof y)t={update:Xt(r,e.key,e.data),updateMask:sc(e.fieldMask)};else{if(!(e instanceof dt))return Pn();t={verify:T(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,p){const _=p.transform;if(_ instanceof an)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Ia)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof mo)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Ja)return{fieldPath:p.field.canonicalString(),increment:_.yt};throw Pn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:E(r,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Pn()),t;var u}function pi(r,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Lr.updateTime(c(u.updateTime)):void 0!==u.exists?Lr.exists(u.exists):Lr.none():Lr.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(p,_){let S=null;"setToServerValue"in _?(In("REQUEST_TIME"===_.setToServerValue),S=new an):"appendMissingElements"in _?S=new Ia(_.appendMissingElements.values||[]):"removeAllFromArray"in _?S=new mo(_.removeAllFromArray.values||[]):"increment"in _?S=new Ja(p,_.increment):Pn();const j=L.fromServerFormat(_.fieldPath);return new Xa(j,S)}(r,u)):[];var u;if(e.update){const u=B(r,e.update.name),p=new U({mapValue:{fields:e.update.fields}});if(e.updateMask){const _=new Js((e.updateMask.fieldPaths||[]).map(Z=>L.fromServerFormat(Z)));return new y(u,p,_,t,o)}return new C(u,p,t,o)}if(e.delete){const u=B(r,e.delete);return new de(u,t)}if(e.verify){const u=B(r,e.verify);return new dt(u,t)}return Pn()}function cs(r,e){return{documents:[se(r,e.path)]}}function Jr(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=se(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=se(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(j){if(0===j.length)return;const Z=j.map(me=>function(He){if("=="===He.op){if(Xs(He.value))return{unaryFilter:{field:Bo(He.field),op:"IS_NAN"}};if(Ka(He.value))return{unaryFilter:{field:Bo(He.field),op:"IS_NULL"}}}else if("!="===He.op){if(Xs(He.value))return{unaryFilter:{field:Bo(He.field),op:"IS_NOT_NAN"}};if(Ka(He.value))return{unaryFilter:{field:Bo(He.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(He.field),op:io(He.op),value:He.value}}}(me));return 1===Z.length?Z[0]:{compositeFilter:{op:"AND",filters:Z}}}(e.filters);u&&(t.structuredQuery.where=u);const p=function(j){if(0!==j.length)return j.map(Z=>{return{field:Bo((me=Z).field),direction:Sa(me.dir)};var me})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const _=(Z=e.limit,r.gt||Po(Z)?Z:{value:Z});var Z,S,j;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!(j=e.endAt).inclusive,values:j.position}),t}function ys(r){let e=Te(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){In(1===o);const me=t.from[0];me.allDescendants?u=me.collectionId:e=e.child(me.collectionId)}let p=[];t.where&&(p=fa(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(me=>{return new Qa(Xo((He=me).field),function(yt){switch(yt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(He.direction));var He}));let S=null;t.limit&&(S=function(me){let He;return He="object"==typeof me?me.value:me,Po(He)?null:He}(t.limit));let j=null;var me;t.startAt&&(j=new eo((me=t.startAt).values||[],!!me.before));let Z=null;return t.endAt&&(Z=function(me){return new eo(me.values||[],!me.before)}(t.endAt)),qu(e,u,_,p,S,"F",j,Z)}function fa(r){return r?void 0!==r.unaryFilter?[th(r)]:void 0!==r.fieldFilter?[Pl(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>fa(e)).reduce((e,t)=>e.concat(t)):Pn():[]}function Sa(r){return rc[r]}function io(r){return Uo[r]}function Bo(r){return{fieldPath:r.canonicalString()}}function Xo(r){return L.fromServerFormat(r.fieldPath)}function Pl(r){return Yi.create(Xo(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pn()}}(r.fieldFilter.op),r.fieldFilter.value)}function th(r){switch(r.unaryFilter.op){case"IS_NAN":const e=Xo(r.unaryFilter.field);return Yi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Xo(r.unaryFilter.field);return Yi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xo(r.unaryFilter.field);return Yi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Xo(r.unaryFilter.field);return Yi.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Pn()}}function sc(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Kl(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function ro(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Un(e)),e=nh(r.get(t),e);return Un(e)}function nh(r,e){let t=e;const o=r.length;for(let u=0;u<o;u++){const p=r.charAt(u);switch(p){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=p}}return t}function Un(r){return r+"\x01\x01"}function kn(r){const e=r.length;if(In(e>=2),2===e)return In("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),D.emptyPath();const t=e-2,o=[];let u="";for(let p=0;p<e;){const _=r.indexOf("\x01",p);switch((_<0||_>t)&&Pn(),r.charAt(_+1)){case"\x01":const S=r.substring(p,_);let j;0===u.length?j=S:(u+=S,j=u,u=""),o.push(j);break;case"\x10":u+=r.substring(p,_),u+="\0";break;case"\x11":u+=r.substring(p,_+1);break;default:Pn()}p=_+2}return new D(o)}const Kn=["userId","batchId"];function Qi(r,e){return[r,ro(e)]}function zs(r,e,t){return[r,ro(e),t]}const nl={},xa=["prefixPath","collectionGroup","readTime","documentId"],so=["prefixPath","collectionGroup","documentId"],Br=["collectionGroup","readTime","prefixPath","documentId"],Rc=["canonicalId","targetId"],Xh=["targetId","path"],yo=["path","targetId"],il=["collectionId","parent"],Rl=["indexId","uid"],ql=["uid","sequenceNumber"],oc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ef=["indexId","uid","orderedDocumentKey"],Zp=["userId","collectionPath","documentId"],Bv=["userId","collectionPath","largestBatchId"],Nc=["userId","collectionGroup","largestBatchId"],ih=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kp=[...ih,"documentOverlays"],qp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rh=qp,Rm=[...rh,"indexConfiguration","indexState","indexEntries"];class tf extends go{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function vo(r,e){const t=hn(r);return qs.M(t.ie,e)}class nf{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(e.key)&&nd(p,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Sl(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Sl(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Ol();return this.mutations.forEach(u=>{const p=e.get(u.key),_=p.overlayedDocument;let S=this.applyToLocalView(_,p.mutatedFields);S=t.has(u.key)?null:S;const j=Pc(_,S);null!==j&&o.set(u.key,j),_.isValidDocument()||_.convertToNoDocument(ei.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fn())}isEqual(e){return this.batchId===e.batchId&&ps(this.mutations,e.mutations,(t,o)=>Fo(t,o))&&ps(this.baseMutations,e.baseMutations,(t,o)=>Fo(t,o))}}class rf{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){In(e.mutations.length===o.length);let u=Ml;const p=e.mutations;for(let _=0;_<p.length;_++)u=u.insert(p[_].key,o[_].version);return new rf(e,t,o,u)}}class sf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yu{constructor(e,t,o,u,p=ei.min(),_=ei.min(),S=Nr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=S}withSequenceNumber(e){return new yu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new yu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new yu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class sh{constructor(e){this.re=e}}function oh(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ah(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:T(u=r.re,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Lu(u,p.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:ac(e.version)};else{if(!e.isUnknownDocument())return Pn();o.unknownDocument={path:t.path.toArray(),version:ac(e.version)}}var u,p;return o}function ah(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function ac(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ku(r){const e=new Zi(r.seconds,r.nanoseconds);return ei.fromTimestamp(e)}function Fu(r,e){const t=(e.baseMutations||[]).map(p=>pi(r.re,p));for(let p=0;p<e.mutations.length-1;++p){const _=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(_.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const o=e.mutations.map(p=>pi(r.re,p)),u=Zi.fromMillis(e.localWriteTimeMs);return new nf(e.batchId,u,t,o)}function Nl(r){const e=ku(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?ku(r.lastLimboFreeSnapshotVersion):ei.min();let o;var u;return void 0!==r.query.documents?(In(1===(u=r.query).documents.length),o=ms(du(Te(u.documents[0])))):o=ms(ys(r.query)),new yu(o,r.targetId,0,r.lastListenSequenceNumber,e,t,Nr.fromBase64String(r.resumeToken))}function of(r,e){const t=ac(e.snapshotVersion),o=ac(e.lastLimboFreeSnapshotVersion);let u;u=ai(e.target)?cs(r.re,e.target):Jr(r.re,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Jt(e.target),readTime:t,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function lh(r){const e=ys({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?to(e,e.limit,"L"):e}function af(r,e){return new sf(e.largestBatchId,pi(r.re,e.overlayMutation))}function od(r,e){const t=e.path.lastSegment();return[r,ro(e.path.popLast()),t]}function Qp(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:ac(o.readTime),documentKey:ro(o.documentKey.path),largestBatchId:o.largestBatchId}}class Jp{getBundleMetadata(e,t){return lf(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:ku(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return lf(e).put({bundleId:(o=t).id,createTime:ac(c(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return uf(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:lh(u.bundledQuery),readTime:ku(u.readTime)};var u})}saveNamedQuery(e,t){return uf(e).put({name:(o=t).name,readTime:ac(c(o.readTime)),bundledQuery:o.bundledQuery});var o}}function lf(r){return vo(r,"bundles")}function uf(r){return vo(r,"namedQueries")}class Lc{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Lc(e,t.uid||"")}getOverlay(e,t){return kc(e).get(od(this.userId,t)).next(o=>o?af(this.It,o):null)}getOverlays(e,t){const o=Vo();return _t.forEach(t,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((p,_)=>{const S=new sf(t,_);u.push(this.ue(e,S))}),_t.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(_=>u.add(ro(_.getCollectionPath())));const p=[];return u.forEach(_=>{const S=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,o+1],!1,!0);p.push(kc(e).Y("collectionPathOverlayIndex",S))}),_t.waitFor(p)}getOverlaysForCollection(e,t,o){const u=Vo(),p=ro(t),_=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return kc(e).W("collectionPathOverlayIndex",_).next(S=>{for(const j of S){const Z=af(this.It,j);u.set(Z.getKey(),Z)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const p=Vo();let _;const S=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kc(e).Z({index:"collectionGroupOverlayIndex",range:S},(j,Z,me)=>{const He=af(this.It,Z);p.size()<u||He.largestBatchId===_?(p.set(He.getKey(),He),_=He.largestBatchId):me.done()}).next(()=>p)}ue(e,t){return kc(e).put(function(o,u,p){const[_,S,j]=od(u,p.mutation.key);return{userId:u,collectionPath:S,documentId:j,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:qn(o.re,p.mutation)}}(this.It,this.userId,t))}}function kc(r){return vo(r,"documentOverlays")}class Yl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(br(e.integerValue));else if("doubleValue"in e){const o=br(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),za(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ur(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?Qo(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Pn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const u of Object.keys(o))this._e(u,t),this.ae(o[u],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const u of o)this.ae(u,t)}ge(e,t){this.le(t,37),k.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function uh(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function cf(r){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const p=uh(255&t[u]);if(o+=p,8!==p)break}return o}(r);return Math.ceil(e/8)}Yl.Te=new Yl;class df{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=t.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=t.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const t=this.Ce(e),o=cf(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Ne(e){const t=this.Ce(e),o=cf(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(u){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,u,!1),new Uint8Array(p.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Xp{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class hf{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class vu{constructor(){this.Be=new df,this.Le=new Xp(this.Be),this.Ue=new hf(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class lc{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new lc(this.indexId,this.documentKey,this.arrayValue,o)}}function Vu(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=eg(r.arrayValue,e.arrayValue),0!==t?t:(t=eg(r.directionalValue,e.directionalValue),0!==t?t:k.comparator(r.documentKey,e.documentKey)))}function eg(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class Nm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=Pe(e);if(void 0!==t&&!this.ze(t))return!1;const o=je(e);let u=0,p=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.je){const _=o[u];if(!this.He(this.je,_)||!this.Je(this.Ge[p++],_))return!1;++u}for(;u<o.length;++u){const _=o[u];if(p>=this.Ge.length||!this.Je(this.Ge[p++],_))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class tg{constructor(){this.Ye=new ad}addToCollectionParentIndex(e,t){return this.Ye.add(t),_t.resolve()}getCollectionParents(e,t){return _t.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return _t.resolve()}deleteFieldIndex(e,t){return _t.resolve()}getDocumentsMatchingTarget(e,t){return _t.resolve(null)}getIndexType(e,t){return _t.resolve(0)}getFieldIndexes(e,t){return _t.resolve([])}getNextCollectionGroupToUpdate(e){return _t.resolve(null)}getMinOffset(e,t){return _t.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,t){return _t.resolve(gr.min())}updateCollectionGroup(e,t,o){return _t.resolve()}updateIndexEntries(e,t){return _t.resolve()}}class ad{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new ur(D.comparator),p=!u.has(o);return this.index[t]=u.add(o),p}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new ur(D.comparator)).toArray()}}const ld=new Uint8Array(0);class Hv{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new ad,this.Ze=new Gs(o=>Jt(o),(o,u)=>Bn(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const p={collectionId:o,parent:ro(u)};return ff(e).put(p)}return _t.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[ba(t),""],!1,!0);return ff(e).W(u).next(p=>{for(const _ of p){if(_.collectionId!==t)break;o.push(kn(_.parent))}return o})}addFieldIndex(e,t){const o=cd(e),u={indexId:(_=t).indexId,collectionGroup:_.collectionGroup,fields:_.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var _;delete u.indexId;const p=o.add(u);if(t.indexState){const _=dd(e);return p.next(S=>{_.put(Qp(S,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return p.next()}deleteFieldIndex(e,t){const o=cd(e),u=dd(e),p=ud(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=ud(e);let u=!0;const p=new Map;return _t.forEach(this.tn(t),_=>this.en(e,_).next(S=>{u&&(u=!!S),p.set(_,S)})).next(()=>{if(u){let _=Fn();const S=[];return _t.forEach(p,(j,Z)=>{var me;Kt("IndexedDbIndexManager",`Using index ${me=j,`id=${me.indexId}|cg=${me.collectionGroup}|f=${me.fields.map(wr=>`${wr.fieldPath}:${wr.kind}`).join(",")}`} to execute ${Jt(t)}`);const He=function(wr,ao){const kr=Pe(ao);if(void 0===kr)return null;for(const yr of ri(wr,kr.fieldPath))switch(yr.op){case"array-contains-any":return yr.value.arrayValue.values||[];case"array-contains":return[yr.value]}return null}(Z,j),yt=function(wr,ao){const kr=new Map;for(const yr of je(ao))for(const Eo of ri(wr,yr.fieldPath))switch(Eo.op){case"==":case"in":kr.set(yr.fieldPath.canonicalString(),Eo.value);break;case"not-in":case"!=":return kr.set(yr.fieldPath.canonicalString(),Eo.value),Array.from(kr.values())}return null}(Z,j),jt=function(wr,ao){const kr=[];let yr=!0;for(const Eo of je(ao)){const ed=0===Eo.kind?zn(wr,Eo.fieldPath,wr.startAt):rs(wr,Eo.fieldPath,wr.startAt);kr.push(ed.value),yr&&(yr=ed.inclusive)}return new eo(kr,yr)}(Z,j),en=function(wr,ao){const kr=[];let yr=!0;for(const Eo of je(ao)){const ed=0===Eo.kind?rs(wr,Eo.fieldPath,wr.endAt):zn(wr,Eo.fieldPath,wr.endAt);kr.push(ed.value),yr&&(yr=ed.inclusive)}return new eo(kr,yr)}(Z,j),An=this.nn(j,Z,jt),Nn=this.nn(j,Z,en),dr=this.sn(j,Z,yt),jr=this.rn(j.indexId,He,An,jt.inclusive,Nn,en.inclusive,dr);return _t.forEach(jr,wr=>o.J(wr,t.limit).next(ao=>{ao.forEach(kr=>{const yr=k.fromSegments(kr.documentKey);_.has(yr)||(_=_.add(yr),S.push(yr))})}))}).next(()=>S)}return _t.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,u,p,_,S){const j=(null!=t?t.length:1)*Math.max(o.length,p.length),Z=j/(null!=t?t.length:1),me=[];for(let He=0;He<j;++He){const yt=t?this.on(t[He/Z]):ld,jt=this.un(e,yt,o[He%Z],u),en=this.cn(e,yt,p[He%Z],_),An=S.map(Nn=>this.un(e,yt,Nn,!0));me.push(...this.createRange(jt,en,An))}return me}un(e,t,o,u){const p=new lc(e,k.empty(),t,o);return u?p:p.Ke()}cn(e,t,o,u){const p=new lc(e,k.empty(),t,o);return u?p.Ke():p}en(e,t){const o=new Nm(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(p=>{let _=null;for(const S of p)o.We(S)&&(!_||S.fields.length>_.fields.length)&&(_=S);return _})}getIndexType(e,t){let o=2;return _t.forEach(this.tn(t),u=>this.en(e,u).next(p=>{p?0!==o&&p.fields.length<function(_){let S=new ur(L.comparator),j=!1;for(const Z of _.filters){const me=Z;me.field.isKeyField()||("array-contains"===me.op||"array-contains-any"===me.op?j=!0:S=S.add(me.field))}for(const Z of _.orderBy)Z.field.isKeyField()||(S=S.add(Z.field));return S.size+(j?1:0)}(u)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new vu;for(const u of je(e)){const p=t.data.field(u.fieldPath);if(null==p)return null;const _=o.qe(u.kind);Yl.Te.ce(p,_)}return o.$e()}on(e){const t=new vu;return Yl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new vu;return Yl.Te.ce(ua(this.databaseId,t),o.qe(function(u){const p=je(u);return 0===p.length?0:p[p.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let u=[];u.push(new vu);let p=0;for(const _ of je(e)){const S=o[p++];for(const j of u)if(this.ln(t,_.fieldPath)&&Lo(S))u=this.fn(u,_,S);else{const Z=j.qe(_.kind);Yl.Te.ce(S,Z)}}return this.dn(u)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const u=[...e],p=[];for(const _ of o.arrayValue.values||[])for(const S of u){const j=new vu;j.seed(S.$e()),Yl.Te.ce(_,j.qe(t.kind)),p.push(j)}return p}ln(e,t){return!!e.filters.find(o=>o instanceof Yi&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=cd(e),u=dd(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(p=>{const _=[];return _t.forEach(p,S=>u.get([S.indexId,this.uid]).next(j=>{_.push(function(Z,me){const He=me?new Rn(me.sequenceNumber,new gr(ku(me.readTime),new k(kn(me.documentKey)),me.largestBatchId)):Rn.empty(),yt=Z.fields.map(([jt,en])=>new wn(L.fromServerFormat(jt),en));return new ae(Z.indexId,Z.collectionGroup,yt,He)}(S,j))})).next(()=>_)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const p=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:ii(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=cd(e),p=dd(e);return this._n(e).next(_=>u.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>_t.forEach(S,j=>p.put(Qp(j.indexId,this.user,_,o)))))}updateIndexEntries(e,t){const o=new Map;return _t.forEach(t,(u,p)=>{const _=o.get(u.collectionGroup);return(_?_t.resolve(_):this.getFieldIndexes(e,u.collectionGroup)).next(S=>(o.set(u.collectionGroup,S),_t.forEach(S,j=>this.wn(e,u,j).next(Z=>{const me=this.mn(p,j);return Z.isEqual(me)?_t.resolve():this.gn(e,p,j,Z,me)}))))})}yn(e,t,o,u){return ud(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,u){return ud(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const u=ud(e);let p=new ur(Vu);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(_,S)=>{p=p.add(new lc(o.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>p)}mn(e,t){let o=new ur(Vu);const u=this.an(t,e);if(null==u)return o;const p=Pe(t);if(null!=p){const _=e.data.field(p.fieldPath);if(Lo(_))for(const S of _.arrayValue.values||[])o=o.add(new lc(t.indexId,e.key,this.on(S),u))}else o=o.add(new lc(t.indexId,e.key,ld,u));return o}gn(e,t,o,u,p){Kt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const _=[];return function(S,j,Z,me,He){const yt=S.getIterator(),jt=j.getIterator();let en=Qs(yt),An=Qs(jt);for(;en||An;){let Nn=!1,dr=!1;if(en&&An){const jr=Z(en,An);jr<0?dr=!0:jr>0&&(Nn=!0)}else null!=en?dr=!0:Nn=!0;Nn?(me(An),An=Qs(jt)):dr?(He(en),en=Qs(yt)):(en=Qs(yt),An=Qs(jt))}}(u,p,Vu,S=>{_.push(this.yn(e,t,o,S))},S=>{_.push(this.pn(e,t,o,S))}),_t.waitFor(_)}_n(e){let t=1;return dd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,p)=>{p.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((_,S)=>Vu(_,S)).filter((_,S,j)=>!S||0!==Vu(_,j[S-1]));const u=[];u.push(e);for(const _ of o){const S=Vu(_,e),j=Vu(_,t);if(0===S)u[0]=e.Ke();else if(S>0&&j<0)u.push(_),u.push(_.Ke());else if(j>0)break}u.push(t);const p=[];for(let _=0;_<u.length;_+=2)p.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,ld,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,ld,[]]));return p}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ng)}getMinOffset(e,t){return _t.mapArray(this.tn(t),o=>this.en(e,o).next(u=>u||Pn())).next(ng)}}function ff(r){return vo(r,"collectionParents")}function ud(r){return vo(r,"indexEntries")}function cd(r){return vo(r,"indexConfiguration")}function dd(r){return vo(r,"indexState")}function ng(r){In(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const u=r[o].indexState.offset;po(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new gr(e.readTime,e.documentKey,t)}const pl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Oa{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Oa(e,Oa.DEFAULT_COLLECTION_PERCENTILE,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function pf(r,e,t){const o=r.store("mutations"),u=r.store("documentMutations"),p=[],_=IDBKeyRange.only(t.batchId);let S=0;const j=o.Z({range:_},(me,He,yt)=>(S++,yt.delete()));p.push(j.next(()=>{In(1===S)}));const Z=[];for(const me of t.mutations){const He=zs(e,me.key.path,t.batchId);p.push(u.delete(He)),Z.push(me.key)}return _t.waitFor(p).next(()=>Z)}function ch(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Pn();e=r.noDocument}return JSON.stringify(e).length}Oa.DEFAULT_COLLECTION_PERCENTILE=10,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oa.DEFAULT=new Oa(41943040,Oa.DEFAULT_COLLECTION_PERCENTILE,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oa.DISABLED=new Oa(-1,0,0);class dh{constructor(e,t,o,u){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=u,this.In={}}static oe(e,t,o,u){In(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new dh(p,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uu(e).Z({index:"userMutationsIndex",range:o},(u,p,_)=>{t=!1,_.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const p=uc(e),_=Uu(e);return _.add({}).next(S=>{In("number"==typeof S);const j=new nf(S,t,o,u),Z=function(yt,jt,en){const An=en.baseMutations.map(dr=>qn(yt.re,dr)),Nn=en.mutations.map(dr=>qn(yt.re,dr));return{userId:jt,batchId:en.batchId,localWriteTimeMs:en.localWriteTime.toMillis(),baseMutations:An,mutations:Nn}}(this.It,this.userId,j),me=[];let He=new ur((yt,jt)=>ii(yt.canonicalString(),jt.canonicalString()));for(const yt of u){const jt=zs(this.userId,yt.key.path,S);He=He.add(yt.key.path.popLast()),me.push(_.put(Z)),me.push(p.put(jt,nl))}return He.forEach(yt=>{me.push(this.indexManager.addToCollectionParentIndex(e,yt))}),e.addOnCommittedListener(()=>{this.In[S]=j.keys()}),_t.waitFor(me).next(()=>j)})}lookupMutationBatch(e,t){return Uu(e).get(t).next(o=>o?(In(o.userId===this.userId),Fu(this.It,o)):null)}Tn(e,t){return this.In[t]?_t.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.In[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return Uu(e).Z({index:"userMutationsIndex",range:u},(_,S,j)=>{S.userId===this.userId&&(In(S.batchId>=o),p=Fu(this.It,S)),j.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Uu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,p,_)=>{o=p.batchId,_.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Uu(e).W("userMutationsIndex",t).next(o=>o.map(u=>Fu(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Qi(this.userId,t.path),u=IDBKeyRange.lowerBound(o),p=[];return uc(e).Z({range:u},(_,S,j)=>{const[Z,me,He]=_,yt=kn(me);if(Z===this.userId&&t.path.isEqual(yt))return Uu(e).get(He).next(jt=>{if(!jt)throw Pn();In(jt.userId===this.userId),p.push(Fu(this.It,jt))});j.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new ur(ii);const u=[];return t.forEach(p=>{const _=Qi(this.userId,p.path),S=IDBKeyRange.lowerBound(_),j=uc(e).Z({range:S},(Z,me,He)=>{const[yt,jt,en]=Z,An=kn(jt);yt===this.userId&&p.path.isEqual(An)?o=o.add(en):He.done()});u.push(j)}),_t.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,p=Qi(this.userId,o),_=IDBKeyRange.lowerBound(p);let S=new ur(ii);return uc(e).Z({range:_},(j,Z,me)=>{const[He,yt,jt]=j,en=kn(yt);He===this.userId&&o.isPrefixOf(en)?en.length===u&&(S=S.add(jt)):me.done()}).next(()=>this.En(e,S))}En(e,t){const o=[],u=[];return t.forEach(p=>{u.push(Uu(e).get(p).next(_=>{if(null===_)throw Pn();In(_.userId===this.userId),o.push(Fu(this.It,_))}))}),_t.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return pf(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),_t.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return _t.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return uc(e).Z({range:o},(p,_,S)=>{if(p[0]===this.userId){const j=kn(p[1]);u.push(j)}else S.done()}).next(()=>{In(0===u.length)})})}containsKey(e,t){return ig(e,this.userId,t)}Rn(e){return rg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ig(r,e,t){const o=Qi(e,t.path),u=o[1],p=IDBKeyRange.lowerBound(o);let _=!1;return uc(r).Z({range:p,X:!0},(S,j,Z)=>{const[me,He,yt]=S;me===e&&He===u&&(_=!0),Z.done()}).next(()=>_)}function Uu(r){return vo(r,"mutations")}function uc(r){return vo(r,"documentMutations")}function rg(r){return vo(r,"mutationQueues")}class cc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new cc(0)}static vn(){return new cc(-1)}}class Lm{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new cc(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>ei.fromTimestamp(new Zi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Sn(e,u)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gi(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(In(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let u=0;const p=[];return gi(e).Z((_,S)=>{const j=Nl(S);j.sequenceNumber<=t&&null===o.get(j.targetId)&&(u++,p.push(this.removeTargetData(e,j)))}).next(()=>_t.waitFor(p)).next(()=>u)}forEachTarget(e,t){return gi(e).Z((o,u)=>{const p=Nl(u);t(p)})}Vn(e){return gf(e).get("targetGlobalKey").next(t=>(In(null!==t),t))}Sn(e,t){return gf(e).put("targetGlobalKey",t)}Dn(e,t){return gi(e).put(of(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Jt(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return gi(e).Z({range:u,index:"queryTargetsIndex"},(_,S,j)=>{const Z=Nl(S);Bn(t,Z.target)&&(p=Z,j.done())}).next(()=>p)}addMatchingKeys(e,t,o){const u=[],p=_u(e);return t.forEach(_=>{const S=ro(_.path);u.push(p.put({targetId:o,path:S})),u.push(this.referenceDelegate.addReference(e,o,_))}),_t.waitFor(u)}removeMatchingKeys(e,t,o){const u=_u(e);return _t.forEach(t,p=>{const _=ro(p.path);return _t.waitFor([u.delete([o,_]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,t){const o=_u(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=_u(e);let p=Fn();return u.Z({range:o,X:!0},(_,S,j)=>{const Z=kn(_[1]),me=new k(Z);p=p.add(me)}).next(()=>p)}containsKey(e,t){const o=ro(t.path),u=IDBKeyRange.bound([o],[ba(o)],!1,!0);let p=0;return _u(e).Z({index:"documentTargetsIndex",X:!0,range:u},([_,S],j,Z)=>{0!==_&&(p++,Z.done())}).next(()=>p>0)}se(e,t){return gi(e).get(t).next(o=>o?Nl(o):null)}}function gi(r){return vo(r,"targets")}function gf(r){return vo(r,"targetGlobal")}function _u(r){return vo(r,"targetDocuments")}function mf([r,e],[t,o]){const u=ii(r,t);return 0===u?ii(e,o):u}class hh{constructor(e){this.xn=e,this.buffer=new ur(mf),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();mf(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ll{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Kt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,f.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){js(o)?Kt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield qr(o)}yield t.Fn(3e5)}))}}class sg{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return _t.resolve(Ys.at);const o=new hh(t);return this.$n.forEachTarget(e,u=>o.On(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.On(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(pl)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pl):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,u,p,_,S,j,Z;const me=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(He=>(He>this.params.maximumSequenceNumbersToCollect?(Kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${He}`),u=this.params.maximumSequenceNumbersToCollect):u=He,_=Date.now(),this.nthSequenceNumber(e,u))).next(He=>(o=He,S=Date.now(),this.removeTargets(e,o,t))).next(He=>(p=He,j=Date.now(),this.removeOrphanedDocuments(e,o))).next(He=>(Z=Date.now(),fo()<=Ce.in.DEBUG&&Kt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-me}ms\n\tDetermined least recently used ${u} in `+(S-_)+`ms\n\tRemoved ${p} targets in `+(j-S)+`ms\n\tRemoved ${He} documents in `+(Z-j)+`ms\nTotal Duration: ${Z-me}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:He})))}}class km{constructor(e,t){this.db=e,this.garbageCollector=new sg(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,u)=>t(u))}addReference(e,t,o){return Fc(e,o)}removeReference(e,t,o){return Fc(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Fc(e,t)}Gn(e,t){return function(o,u){let p=!1;return rg(o).tt(_=>ig(o,_,u).next(S=>(S&&(p=!0),_t.resolve(!S)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.Kn(e,(_,S)=>{if(S<=t){const j=this.Gn(e,_).next(Z=>{if(!Z)return p++,o.getEntry(e,_).next(()=>(o.removeEntry(_,ei.min()),_u(e).delete([0,ro(_.path)])))});u.push(j)}}).next(()=>_t.waitFor(u)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Fc(e,t)}Kn(e,t){const o=_u(e);let u,p=Ys.at;return o.Z({index:"documentTargetsIndex"},([_,S],{path:j,sequenceNumber:Z})=>{0===_?(p!==Ys.at&&t(new k(kn(u)),p),p=Z,u=j):p=Ys.at}).next(()=>{p!==Ys.at&&t(new k(kn(u)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fc(r,e){return _u(r).put((o=r.currentSequenceNumber,{targetId:0,path:ro(e.path),sequenceNumber:o}));var o}class Ql{constructor(){this.changes=new Gs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ie.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?_t.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yf{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Bu(e).put(o)}removeEntry(e,t,o){return Bu(e).delete(function(u,p){const _=u.path.toArray();return[_.slice(0,_.length-2),_[_.length-2],ah(p),_[_.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=Ie.newInvalidDocument(t);return Bu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(fh(t))},(u,p)=>{o=this.jn(t,p)}).next(()=>o)}Wn(e,t){let o={size:0,document:Ie.newInvalidDocument(t)};return Bu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(fh(t))},(u,p)=>{o={document:this.jn(t,p),size:ch(p)}}).next(()=>o)}getEntries(e,t){let o=Fs();return this.zn(e,t,(u,p)=>{const _=this.jn(u,p);o=o.insert(u,_)}).next(()=>o)}Hn(e,t){let o=Fs(),u=new Rr(k.comparator);return this.zn(e,t,(p,_)=>{const S=this.jn(p,_);o=o.insert(p,S),u=u.insert(p,ch(_))}).next(()=>({documents:o,Jn:u}))}zn(e,t,o){if(t.isEmpty())return _t.resolve();let u=new ur(fd);t.forEach(j=>u=u.add(j));const p=IDBKeyRange.bound(fh(u.first()),fh(u.last())),_=u.getIterator();let S=_.getNext();return Bu(e).Z({index:"documentKeyIndex",range:p},(j,Z,me)=>{const He=k.fromSegments([...Z.prefixPath,Z.collectionGroup,Z.documentId]);for(;S&&fd(S,He)<0;)o(S,null),S=_.getNext();S&&S.isEqual(He)&&(o(S,Z),S=_.hasNext()?_.getNext():null),S?me.j(fh(S)):me.done()}).next(()=>{for(;S;)o(S,null),S=_.hasNext()?_.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),ah(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],p=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bu(e).W(IDBKeyRange.bound(u,p,!0)).next(_=>{let S=Fs();for(const j of _){const Z=this.jn(k.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);S=S.insert(Z.key,Z)}return S})}getAllFromCollectionGroup(e,t,o,u){let p=Fs();const _=hd(t,o),S=hd(t,gr.max());return Bu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,S,!0)},(j,Z,me)=>{const He=this.jn(k.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);p=p.insert(He.key,He),p.size===u&&me.done()}).next(()=>p)}newChangeBuffer(e){return new _f(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Fm(e).get("remoteDocumentGlobalKey").next(t=>(In(!!t),t))}Qn(e,t){return Fm(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function Yp(r,e){let t;if(e.document)t=Tn(r.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=k.fromSegments(e.noDocument.path),u=ku(e.noDocument.readTime);t=Ie.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Pn();{const o=k.fromSegments(e.unknownDocument.path),u=ku(e.unknownDocument.version);t=Ie.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new Zi(o[0],o[1]);return ei.fromTimestamp(u)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(ei.min()))return o}return Ie.newInvalidDocument(e)}}function vf(r){return new yf(r)}class _f extends Ql{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Gs(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new ur((p,_)=>ii(p.canonicalString(),_.canonicalString()));return this.changes.forEach((p,_)=>{const S=this.Xn.get(p);if(t.push(this.Yn.removeEntry(e,p,S.readTime)),_.isValidDocument()){const j=oh(this.Yn.It,_);u=u.add(p.path.popLast()),o+=ch(j)-S.size,t.push(this.Yn.addEntry(e,p,j))}else if(o-=S.size,this.trackRemovals){const j=oh(this.Yn.It,_.convertToNoDocument(ei.min()));t.push(this.Yn.addEntry(e,p,j))}}),u.forEach(p=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,p))}),t.push(this.Yn.updateMetadata(e,o)),_t.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:u})=>(u.forEach((p,_)=>{this.Xn.set(p,{size:_,readTime:o.get(p).readTime})}),o))}}function Fm(r){return vo(r,"remoteDocumentGlobal")}function Bu(r){return vo(r,"remoteDocumentsV14")}function fh(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hd(r,e){const t=e.documentKey.path.toArray();return[r,ah(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function fd(r,e){const t=r.path.toArray(),o=e.path.toArray();let u=0;for(let p=0;p<t.length-2&&p<o.length-2;++p)if(u=ii(t[p],o[p]),u)return u;return u=ii(t.length,o.length),u||(u=ii(t[t.length-2],o[o.length-2]),u||ii(t[t.length-1],o[o.length-1]))}class Ef{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ph{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.getBaseDocument(e,t,o))).next(u=>(null!==o&&Sl(o.mutation,u,Js.empty(),Zi.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Fn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Fn()){const u=Vo();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(p=>{let _=xl();return p.forEach((S,j)=>{_=_.insert(S,j.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const o=Vo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Fn()))}populateOverlays(e,t,o){const u=[];return o.forEach(p=>{t.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(e,u).next(p=>{p.forEach((_,S)=>{t.set(_,S)})})}computeViews(e,t,o,u){let p=Fs();const _=tl(),S=tl();return t.forEach((j,Z)=>{const me=o.get(Z.key);u.has(Z.key)&&(void 0===me||me.mutation instanceof y)?p=p.insert(Z.key,Z):void 0!==me&&(_.set(Z.key,me.mutation.getFieldMask()),Sl(me.mutation,Z,me.mutation.getFieldMask(),Zi.now()))}),this.recalculateAndSaveOverlays(e,p).next(j=>(j.forEach((Z,me)=>_.set(Z,me)),t.forEach((Z,me)=>{var He;return S.set(Z,new Ef(me,null!==(He=_.get(Z))&&void 0!==He?He:null))}),S))}recalculateAndSaveOverlays(e,t){const o=tl();let u=new Rr((_,S)=>_-S),p=Fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const S of _)S.keys().forEach(j=>{const Z=t.get(j);if(null===Z)return;let me=o.get(j)||Js.empty();me=S.applyToLocalView(Z,me),o.set(j,me);const He=(u.get(S.batchId)||Fn()).add(j);u=u.insert(S.batchId,He)})}).next(()=>{const _=[],S=u.getReverseIterator();for(;S.hasNext();){const j=S.getNext(),Z=j.key,me=j.value,He=Ol();me.forEach(yt=>{if(!p.has(yt)){const jt=Pc(t.get(yt),o.get(yt));null!==jt&&He.set(yt,jt),p=p.add(yt)}}),_.push(this.documentOverlayCache.saveOverlays(e,Z,He))}return _t.waitFor(_)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return k.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ko(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(p=>{const _=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-p.size):_t.resolve(Vo());let S=-1,j=p;return _.next(Z=>_t.forEach(Z,(me,He)=>(S<He.largestBatchId&&(S=He.largestBatchId),p.get(me)?_t.resolve():this.getBaseDocument(e,me,He).next(yt=>{j=j.insert(me,yt)}))).next(()=>this.populateOverlays(e,Z,p)).next(()=>this.computeViews(e,j,Z,Fn())).next(me=>({batchId:S,changes:nc(me)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new k(t)).next(o=>{let u=xl();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let p=xl();return this.indexManager.getCollectionParents(e,u).next(_=>_t.forEach(_,S=>{const j=(Z=t,me=S.child(u),new $s(me,null,Z.explicitOrderBy.slice(),Z.filters.slice(),Z.limit,Z.limitType,Z.startAt,Z.endAt));var Z,me;return this.getDocumentsMatchingCollectionQuery(e,j,o).next(Z=>{Z.forEach((me,He)=>{p=p.insert(me,He)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(p=>(u=p,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(p=>{p.forEach((S,j)=>{const Z=j.getKey();null===u.get(Z)&&(u=u.insert(Z,Ie.newInvalidDocument(Z)))});let _=xl();return u.forEach((S,j)=>{const Z=p.get(S);void 0!==Z&&Sl(Z.mutation,j,Js.empty(),Zi.now()),Mu(t,j)&&(_=_.insert(S,j))}),_})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):_t.resolve(Ie.newInvalidDocument(t))}}class bf{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return _t.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:c(o.createTime)}),_t.resolve()}getNamedQuery(e,t){return _t.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:lh(o.bundledQuery),readTime:c(o.readTime)}),_t.resolve();var o}}class jv{constructor(){this.overlays=new Rr(k.comparator),this.es=new Map}getOverlay(e,t){return _t.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Vo();return _t.forEach(t,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,p)=>{this.ue(e,t,p)}),_t.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.es.delete(o)),_t.resolve()}getOverlaysForCollection(e,t,o){const u=Vo(),p=t.length+1,_=new k(t.child("")),S=this.overlays.getIteratorFrom(_);for(;S.hasNext();){const j=S.getNext().value,Z=j.getKey();if(!t.isPrefixOf(Z.path))break;Z.path.length===p&&j.largestBatchId>o&&u.set(j.getKey(),j)}return _t.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let p=new Rr((Z,me)=>Z-me);const _=this.overlays.getIterator();for(;_.hasNext();){const Z=_.getNext().value;if(Z.getKey().getCollectionGroup()===t&&Z.largestBatchId>o){let me=p.get(Z.largestBatchId);null===me&&(me=Vo(),p=p.insert(Z.largestBatchId,me)),me.set(Z.getKey(),Z)}}const S=Vo(),j=p.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((Z,me)=>S.set(Z,me)),!(S.size()>=u)););return _t.resolve(S)}ue(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const _=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(o.key,new sf(t,o));let p=this.es.get(t);void 0===p&&(p=Fn(),this.es.set(t,p)),this.es.set(t,p.add(o.key))}}class wf{constructor(){this.ns=new ur(_o.ss),this.rs=new ur(_o.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new _o(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new _o(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new k(new D([])),o=new _o(t,e),u=new _o(t,e+1),p=[];return this.rs.forEachInRange([o,u],_=>{this.cs(_),p.push(_.key)}),p}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new k(new D([])),o=new _o(t,e),u=new _o(t,e+1);let p=Fn();return this.rs.forEachInRange([o,u],_=>{p=p.add(_.key)}),p}containsKey(e){const t=new _o(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class _o{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return k.comparator(e.key,t.key)||ii(e._s,t._s)}static os(e,t){return ii(e._s,t._s)||k.comparator(e.key,t.key)}}class Vm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ur(_o.ss)}checkEmpty(e){return _t.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const p=this.ws;this.ws++;const _=new nf(p,t,o,u);this.mutationQueue.push(_);for(const S of u)this.gs=this.gs.add(new _o(S.key,p)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return _t.resolve(_)}lookupMutationBatch(e,t){return _t.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),p=u<0?0:u;return _t.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new _o(t,0),u=new _o(t,Number.POSITIVE_INFINITY),p=[];return this.gs.forEachInRange([o,u],_=>{const S=this.ys(_._s);p.push(S)}),_t.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new ur(ii);return t.forEach(u=>{const p=new _o(u,0),_=new _o(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([p,_],S=>{o=o.add(S._s)})}),_t.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let p=o;k.isDocumentKey(p)||(p=p.child(""));const _=new _o(new k(p),0);let S=new ur(ii);return this.gs.forEachWhile(j=>{const Z=j.key.path;return!!o.isPrefixOf(Z)&&(Z.length===u&&(S=S.add(j._s)),!0)},_),_t.resolve(this.Is(S))}Is(e){const t=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){In(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return _t.forEach(t.mutations,u=>{const p=new _o(u.key,t.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new _o(t,0),u=this.gs.firstAfterOrEqual(o);return _t.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return _t.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Um{constructor(e){this.Es=e,this.docs=new Rr(k.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),p=u?u.size:0,_=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return _t.resolve(o?o.document.mutableCopy():Ie.newInvalidDocument(t))}getEntries(e,t){let o=Fs();return t.forEach(u=>{const p=this.docs.get(u);o=o.insert(u,p?p.document.mutableCopy():Ie.newInvalidDocument(u))}),_t.resolve(o)}getAllFromCollection(e,t,o){let u=Fs();const p=new k(t.child("")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:S,value:{document:j}}=_.getNext();if(!t.isPrefixOf(S.path))break;S.path.length>t.length+1||po(Pi(j),o)<=0||(u=u.insert(j.key,j.mutableCopy()))}return _t.resolve(u)}getAllFromCollectionGroup(e,t,o,u){Pn()}As(e,t){return _t.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new og(this)}getSize(e){return _t.resolve(this.size)}}class og extends Ql{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),_t.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class $v{constructor(e){this.persistence=e,this.Rs=new Gs(t=>Jt(t),Bn),this.lastRemoteSnapshotVersion=ei.min(),this.highestTargetId=0,this.bs=0,this.Ps=new wf,this.targetCount=0,this.vs=cc.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,u)=>t(u)),_t.resolve()}getLastRemoteSnapshotVersion(e){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _t.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),_t.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new cc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,_t.resolve()}updateTargetData(e,t){return this.Dn(t),_t.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,_t.resolve()}removeTargets(e,t,o){let u=0;const p=[];return this.Rs.forEach((_,S)=>{S.sequenceNumber<=t&&null===o.get(S.targetId)&&(this.Rs.delete(_),p.push(this.removeMatchingKeysForTargetId(e,S.targetId)),u++)}),_t.waitFor(p).next(()=>u)}getTargetCount(e){return _t.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return _t.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),_t.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const u=this.persistence.referenceDelegate,p=[];return u&&t.forEach(_=>{p.push(u.markPotentiallyOrphaned(e,_))}),_t.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),_t.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return _t.resolve(o)}containsKey(e,t){return _t.resolve(this.Ps.containsKey(t))}}class ag{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ys(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new $v(this),this.indexManager=new tg,this.remoteDocumentCache=new Um(o=>this.referenceDelegate.xs(o)),this.It=new sh(t),this.Ns=new bf(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Vm(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Kt("MemoryPersistence","Starting transaction:",e);const u=new Gv(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(p=>this.referenceDelegate.Os(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Ms(e,t){return _t.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Gv extends go{constructor(e){super(),this.currentSequenceNumber=e}}class pd{constructor(e){this.persistence=e,this.Fs=new wf,this.$s=null}static Bs(e){return new pd(e)}get Ls(){if(this.$s)return this.$s;throw Pn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),_t.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),_t.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),_t.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(p=>this.Ls.add(p.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.Ls,o=>{const u=k.fromPath(o);return this.Us(e,u).next(p=>{p||t.removeEntry(u,ei.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return _t.or([()=>_t.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class lg{constructor(e){this.It=e}$(e,t,o,u){const p=new Pr("createOrUpgrade",t);var S;o<1&&u>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Kn,{unique:!0}),S.createObjectStore("documentMutations"),ug(e),function(S){S.createObjectStore("remoteDocuments")}(e));let _=_t.resolve();return o<3&&u>=3&&(0!==o&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),ug(e)),_=_.next(()=>function(S){const j=S.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ei.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",Z)}(p))),o<4&&u>=4&&(0!==o&&(_=_.next(()=>function(S,j){return j.store("mutations").W().next(Z=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Kn,{unique:!0});const me=j.store("mutations"),He=Z.map(yt=>me.put(yt));return _t.waitFor(He)})}(e,p))),_=_.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(_=_.next(()=>this.qs(p))),o<6&&u>=6&&(_=_.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(p)))),o<7&&u>=7&&(_=_.next(()=>this.Gs(p))),o<8&&u>=8&&(_=_.next(()=>this.Qs(e,p))),o<9&&u>=9&&(_=_.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(_=_.next(()=>this.js(p))),o<11&&u>=11&&(_=_.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(_=_.next(()=>{!function(S){const j=S.createObjectStore("documentOverlays",{keyPath:Zp});j.createIndex("collectionPathOverlayIndex",Bv,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",Nc,{unique:!1})}(e)})),o<13&&u>=13&&(_=_.next(()=>function(S){const j=S.createObjectStore("remoteDocumentsV14",{keyPath:xa});j.createIndex("documentKeyIndex",so),j.createIndex("collectionGroupIndex",Br)}(e)).next(()=>this.Ws(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(_=_.next(()=>this.zs(e,p))),o<15&&u>=15&&(_=_.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:Rl}).createIndex("sequenceNumberIndex",ql,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:oc}).createIndex("documentKeyIndex",ef,{unique:!1})}(e))),_}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,u)=>{t+=ch(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(u=>_t.forEach(u,p=>{const _=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",_).next(S=>_t.forEach(S,j=>{In(j.userId===p.userId);const Z=Fu(this.It,j);return pf(e,p.userId,Z).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return o.Z((_,S)=>{const j=new D(_),Z=[0,ro(j)];p.push(t.get(Z).next(me=>me?_t.resolve():t.put({targetId:0,path:ro(j),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>_t.waitFor(p))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:il});const o=t.store("collectionParents"),u=new ad,p=_=>{if(u.add(_)){const S=_.lastSegment(),j=_.popLast();return o.put({collectionId:S,parent:ro(j)})}};return t.store("remoteDocuments").Z({X:!0},(_,S)=>{const j=new D(_);return p(j.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([_,S,j],Z)=>{const me=kn(S);return p(me.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,u)=>{const p=Nl(u),_=of(this.It,p);return t.put(_)})}Ws(e,t){const o=t.store("remoteDocuments"),u=[];return o.Z((p,_)=>{const S=t.store("remoteDocumentsV14"),j=(Z=_,Z.document?new k(D.fromString(Z.document.name).popFirst(5)):Z.noDocument?k.fromSegments(Z.noDocument.path):Z.unknownDocument?k.fromSegments(Z.unknownDocument.path):Pn()).path.toArray();var Z;const me={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};u.push(S.put(me))}).next(()=>_t.waitFor(u))}zs(e,t){const o=t.store("mutations"),u=vf(this.It),p=new ag(pd.Bs,this.It.re);return o.W().next(_=>{const S=new Map;return _.forEach(j=>{var Z;let me=null!==(Z=S.get(j.userId))&&void 0!==Z?Z:Fn();Fu(this.It,j).keys().forEach(He=>me=me.add(He)),S.set(j.userId,me)}),_t.forEach(S,(j,Z)=>{const me=new ji(Z),He=Lc.oe(this.It,me),yt=p.getIndexManager(me),jt=dh.oe(me,this.It,yt,p.referenceDelegate);return new ph(u,jt,He,yt).recalculateAndSaveOverlaysForDocumentKeys(new tf(t,Ys.at),j).next()})})}}function ug(r){r.createObjectStore("targetDocuments",{keyPath:Xh}).createIndex("documentTargetsIndex",yo,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Rc,{unique:!0}),r.createObjectStore("targetGlobal")}const gd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cg{constructor(e,t,o,u,p,_,S,j,Z,me,He=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=p,this.window=_,this.document=S,this.Js=Z,this.Ys=me,this.Xs=He,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=yt=>Promise.resolve(),!cg.C())throw new zt(Dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new km(this,u),this.ii=t+"main",this.It=new sh(j),this.ri=new qs(this.ii,this.Xs,new lg(this.It)),this.Cs=new Lm(this.referenceDelegate,this.It),this.remoteDocumentCache=vf(this.It),this.Ns=new Jp,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===me&&nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new zt(Dt.FAILED_PRECONDITION,gd);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ys(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,f.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,f.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,f.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Cf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(js(e))return Kt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Kt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return gh(e).get("owner").next(t=>_t.resolve(this.mi(t)))}gi(e){return Cf(e).delete(this.clientId)}yi(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=vo(o,"clientMetadata");return u.W().next(p=>{const _=e.Ii(p,18e5),S=p.filter(j=>-1===_.indexOf(j));return _t.forEach(S,j=>u.delete(j.clientId)).next(()=>S)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?_t.resolve(!0):gh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new zt(Dt.FAILED_PRECONDITION,gd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Cf(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>{if(this.clientId!==u.clientId){const _=!this.inForeground&&u.inForeground,S=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||_&&S)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Kt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,f.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new tf(t,Ys.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Cf(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return dh.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Hv(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Lc.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Kt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",p=15===(_=this.Xs)?Rm:14===_?rh:13===_?qp:12===_?Kp:11===_?ih:void Pn();var _;let S;return this.ri.runTransaction(e,u,p,j=>(S=new tf(j,this.Ss?this.Ss.next():Ys.at),"readwrite-primary"===t?this.fi(S).next(Z=>!!Z||this.di(S)).next(Z=>{if(!Z)throw nr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new zt(Dt.FAILED_PRECONDITION,Oo);return o(S)}).next(Z=>this.wi(S).next(()=>Z)):this.Vi(S).next(()=>o(S)))).then(j=>(S.raiseOnCommittedEvent(),j))}Vi(e){return gh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new zt(Dt.FAILED_PRECONDITION,gd)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gh(e).put("owner",t)}static C(){return qs.C()}_i(e){const t=gh(e);return t.get("owner").next(o=>this.mi(o)?(Kt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):_t.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(nr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ve.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Kt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return nr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){nr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gh(r){return vo(r,"owner")}function Cf(r){return vo(r,"clientMetadata")}function dg(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class hg{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=u}static Ci(e,t){let o=Fn(),u=Fn();for(const p of t.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new hg(e,t.fromCache,o,u)}}class Bm{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.ki(e,t).next(p=>p||this.Oi(e,t,u,o)).next(p=>p||this.Mi(e,t))}ki(e,t){if(Ou(t))return _t.resolve(null);let o=ms(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=to(t,null,"F"),o=ms(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const _=Fn(...p);return this.Ni.getDocuments(e,_).next(S=>this.indexManager.getMinOffset(e,o).next(j=>{const Z=this.Fi(t,S);return this.$i(t,Z,_,j.readTime)?this.ki(e,to(t,null,"F")):this.Bi(e,Z,t,j)}))})))}Oi(e,t,o,u){return Ou(t)||u.isEqual(ei.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(p=>{const _=this.Fi(t,p);return this.$i(t,_,o,u)?this.Mi(e,t):(fo()<=Ce.in.DEBUG&&Kt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Wl(t)),this.Bi(e,_,t,Mi(u,-1)))})}Fi(e,t){let o=new ur(Il(e));return t.forEach((u,p)=>{Mu(e,p)&&(o=o.add(p))}),o}$i(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Mi(e,t){return fo()<=Ce.in.DEBUG&&Kt("QueryEngine","Using full collection scan to execute query:",Wl(t)),this.Ni.getDocumentsMatchingQuery(e,t,gr.min())}Bi(e,t,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(p=>(t.forEach(_=>{p=p.insert(_.key,_)}),p))}}class zv{constructor(e,t,o,u){this.persistence=e,this.Li=t,this.It=u,this.Ui=new Rr(ii),this.qi=new Gs(p=>Jt(p),Bn),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ph(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Hm(r,e,t,o){return new zv(r,e,t,o)}function jm(r,e){return fg.apply(this,arguments)}function fg(){return fg=(0,f.Z)(function*(r,e){const t=hn(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(p=>(u=p,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(p=>{const _=[],S=[];let j=Fn();for(const Z of u){_.push(Z.batchId);for(const me of Z.mutations)j=j.add(me.key)}for(const Z of p){S.push(Z.batchId);for(const me of Z.mutations)j=j.add(me.key)}return t.localDocuments.getDocuments(o,j).next(Z=>({ji:Z,removedBatchIds:_,addedBatchIds:S}))})})}),fg.apply(this,arguments)}function Hu(r,e){const t=hn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),p=t.Gi.newChangeBuffer({trackRemovals:!0});return function(_,S,j,Z){const me=j.batch,He=me.keys();let yt=_t.resolve();return He.forEach(jt=>{yt=yt.next(()=>Z.getEntry(S,jt)).next(en=>{const An=j.docVersions.get(jt);In(null!==An),en.version.compareTo(An)<0&&(me.applyToRemoteDocument(en,j),en.isValidDocument()&&(en.setReadTime(j.commitVersion),Z.addEntry(en)))})}),yt.next(()=>_.mutationQueue.removeMutationBatch(S,me))}(t,o,e,p).next(()=>p.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(_){let S=Fn();for(let j=0;j<_.mutationResults.length;++j)_.mutationResults[j].transformResults.length>0&&(S=S.add(_.batch.mutations[j].key));return S}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function mh(r){const e=hn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function $m(r,e){const t=hn(r),o=e.snapshotVersion;let u=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.Ui;const S=[];e.targetChanges.forEach((me,He)=>{const yt=u.get(He);if(!yt)return;S.push(t.Cs.removeMatchingKeys(p,me.removedDocuments,He).next(()=>t.Cs.addMatchingKeys(p,me.addedDocuments,He)));let jt=yt.withSequenceNumber(p.currentSequenceNumber);var en,An,Nn;e.targetMismatches.has(He)?jt=jt.withResumeToken(Nr.EMPTY_BYTE_STRING,ei.min()).withLastLimboFreeSnapshotVersion(ei.min()):me.resumeToken.approximateByteSize()>0&&(jt=jt.withResumeToken(me.resumeToken,o)),u=u.insert(He,jt),An=jt,Nn=me,(0===(en=yt).resumeToken.approximateByteSize()||An.snapshotVersion.toMicroseconds()-en.snapshotVersion.toMicroseconds()>=3e8||Nn.addedDocuments.size+Nn.modifiedDocuments.size+Nn.removedDocuments.size>0)&&S.push(t.Cs.updateTargetData(p,jt))});let j=Fs(),Z=Fn();if(e.documentUpdates.forEach(me=>{e.resolvedLimboDocuments.has(me)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(p,me))}),S.push(Tf(p,_,e.documentUpdates).next(me=>{j=me.Wi,Z=me.zi})),!o.isEqual(ei.min())){const me=t.Cs.getLastRemoteSnapshotVersion(p).next(He=>t.Cs.setTargetsMetadata(p,p.currentSequenceNumber,o));S.push(me)}return _t.waitFor(S).next(()=>_.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,j,Z)).next(()=>j)}).then(p=>(t.Ui=u,p))}function Tf(r,e,t){let o=Fn(),u=Fn();return t.forEach(p=>o=o.add(p)),e.getEntries(r,o).next(p=>{let _=Fs();return t.forEach((S,j)=>{const Z=p.get(S);j.isFoundDocument()!==Z.isFoundDocument()&&(u=u.add(S)),j.isNoDocument()&&j.version.isEqual(ei.min())?(e.removeEntry(S,j.readTime),_=_.insert(S,j)):!Z.isValidDocument()||j.version.compareTo(Z.version)>0||0===j.version.compareTo(Z.version)&&Z.hasPendingWrites?(e.addEntry(j),_=_.insert(S,j)):Kt("LocalStore","Ignoring outdated watch update for ",S,". Current version:",Z.version," Watch version:",j.version)}),{Wi:_,zi:u}})}function Df(r,e){const t=hn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function dc(r,e){const t=hn(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Cs.getTargetData(o,e).next(p=>p?(u=p,_t.resolve(u)):t.Cs.allocateTargetId(o).next(_=>(u=new yu(e,_,0,o.currentSequenceNumber),t.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function ju(r,e,t){return If.apply(this,arguments)}function If(){return If=(0,f.Z)(function*(r,e,t){const o=hn(r),u=o.Ui.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",p,_=>o.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!js(_))throw _;Kt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),If.apply(this,arguments)}function kl(r,e,t){const o=hn(r);let u=ei.min(),p=Fn();return o.persistence.runTransaction("Execute query","readonly",_=>function(S,j,Z){const me=hn(S),He=me.qi.get(Z);return void 0!==He?_t.resolve(me.Ui.get(He)):me.Cs.getTargetData(j,Z)}(o,_,ms(e)).next(S=>{if(S)return u=S.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(_,S.targetId).next(j=>{p=j})}).next(()=>o.Li.getDocumentsMatchingQuery(_,e,t?u:ei.min(),t?p:Fn())).next(S=>(yh(o,no(e),S),{documents:S,Hi:p})))}function Af(r,e){const t=hn(r),o=hn(t.Cs),u=t.Ui.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",p=>o.se(p,e).next(_=>_?_.target:null))}function pg(r,e){const t=hn(r),o=t.Ki.get(e)||ei.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Gi.getAllFromCollectionGroup(u,e,Mi(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(yh(t,e,u),u))}function yh(r,e,t){let o=r.Ki.get(e)||ei.min();t.forEach((u,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),r.Ki.set(e,o)}function vh(){return vh=(0,f.Z)(function*(r,e,t,o){const u=hn(r);let p=Fn(),_=Fs();for(const Z of t){const me=e.Ji(Z.metadata.name);Z.document&&(p=p.add(me));const He=e.Yi(Z);He.setReadTime(e.Xi(Z.metadata.readTime)),_=_.insert(me,He)}const S=u.Gi.newChangeBuffer({trackRemovals:!0}),j=yield dc(u,(Z=o,ms(du(D.fromString(`__bundle__/docs/${Z}`)))));var Z;return u.persistence.runTransaction("Apply bundle documents","readwrite",Z=>Tf(Z,S,_).next(me=>(S.apply(Z),me)).next(me=>u.Cs.removeMatchingKeysForTargetId(Z,j.targetId).next(()=>u.Cs.addMatchingKeys(Z,p,j.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(Z,me.Wi,me.zi)).next(()=>me.Wi)))}),vh.apply(this,arguments)}function zm(r,e){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,f.Z)(function*(r,e,t=Fn()){const o=yield dc(r,ms(lh(e.bundledQuery))),u=hn(r);return u.persistence.runTransaction("Save named query","readwrite",p=>{const _=c(e.readTime);if(o.snapshotVersion.compareTo(_)>=0)return u.Ns.saveNamedQuery(p,e);const S=o.withResumeToken(Nr.EMPTY_BYTE_STRING,_);return u.Ui=u.Ui.insert(S.targetId,S),u.Cs.updateTargetData(p,S).next(()=>u.Cs.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>u.Cs.addMatchingKeys(p,t,o.targetId)).next(()=>u.Ns.saveNamedQuery(p,e))})}),Sf.apply(this,arguments)}function Vc(r,e){return`firestore_clients_${r}_${e}`}function hc(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function md(r,e){return`firestore_targets_${r}_${e}`}class Eu{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Zi(e,t,o){const u=JSON.parse(o);let p,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(p=new zt(u.error.code,u.error.message))),_?new Eu(e,t,u.state,p):(nr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bu{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let u,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(u=new zt(o.error.code,o.error.message))),p?new bu(e,o.state,u):(nr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wu{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,p=Zl();for(let _=0;u&&_<o.activeTargetIds.length;++_)u=cu(o.activeTargetIds[_]),p=p.add(o.activeTargetIds[_]);return u?new wu(e,p):(nr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class xf{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new xf(t.clientId,t.onlineState):(nr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _h{constructor(){this.activeTargetIds=Zl()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Eh{constructor(e,t,o,u,p){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Rr(ii),this.started=!1,this.cr=[];const _=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ar=Vc(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new _h),this.lr=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,f.Z)(function*(){const t=yield e.syncEngine.vi();for(const u of t){if(u===e.sr)continue;const p=e.getItem(Vc(e.persistenceKey,u));if(p){const _=wu.Zi(u,p);_&&(e.ur=e.ur.insert(_.clientId,_))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(md(this.persistenceKey,e));if(o){const u=bu.Zi(e,o);u&&(t=u.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(md(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Kt("SharedClientState","READ",e,t),t}setItem(e,t){Kt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Kt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Kt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,f.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const u=t.vr(o.key);return t.Vr(u,null)}{const u=t.Sr(o.key,o.newValue);if(u)return t.Vr(u.clientId,u)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const u=t.Dr(o.key,o.newValue);if(u)return t.Cr(u)}}else if(t._r.test(o.key)){if(null!==o.newValue){const u=t.Nr(o.key,o.newValue);if(u)return t.kr(u)}}else if(o.key===t.wr){if(null!==o.newValue){const u=t.yr(o.newValue);if(u)return t.pr(u)}}else if(o.key===t.hr){const u=function(p){let _=Ys.at;if(null!=p)try{const S=JSON.parse(p);In("number"==typeof S),_=S}catch(S){nr("SharedClientState","Failed to read sequence number from WebStorage",S)}return _}(o.newValue);u!==Ys.at&&t.sequenceNumberHandler(u)}else if(o.key===t.mr){const u=t.Or(o.newValue);yield Promise.all(u.map(p=>t.syncEngine.Mr(p)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const u=new Eu(this.currentUser,e,t,o),p=hc(this.persistenceKey,this.currentUser,e);this.setItem(p,u.tr())}Er(e){const t=hc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const u=md(this.persistenceKey,e),p=new bu(e,t,o);this.setItem(u,p.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return wu.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),u=Number(o[1]);return Eu.Zi(new ji(void 0!==o[2]?o[2]:null),u,t)}Nr(e,t){const o=this._r.exec(e),u=Number(o[1]);return bu.Zi(u,t)}yr(e){return xf.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,f.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Kt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),u=this.Ir(this.ur),p=this.Ir(o),_=[],S=[];return p.forEach(j=>{u.has(j)||_.push(j)}),u.forEach(j=>{p.has(j)||S.push(j)}),this.syncEngine.Br(_,S).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Zl();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class bh{constructor(){this.Lr=new _h,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new _h,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Of{qr(e){}shutdown(){}}class Mf{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wm{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class gg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,u,p){const _=this.ho(e,t);Kt("RestConnection","Sending: ",_,o);const S={};return this.lo(S,u,p),this.fo(e,_,S,o).then(j=>(Kt("RestConnection","Received: ",j),j),j=>{throw $i("RestConnection",`${e} failed with error: `,j,"url: ",_,"request:",o),j})}_o(e,t,o,u,p,_){return this.ao(e,t,o,u,p)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ds,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,p)=>e[p]=u),o&&o.headers.forEach((u,p)=>e[p]=u)}ho(e,t){return`${this.oo}/v1/${t}:${wh[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,u){return new Promise((p,_)=>{const S=new _a;S.setWithCredentials(!0),S.listenOnce(Hl.COMPLETE,()=>{var Z;try{switch(S.getLastErrorCode()){case xo.NO_ERROR:const me=S.getResponseJson();Kt("Connection","XHR received:",JSON.stringify(me)),p(me);break;case xo.TIMEOUT:Kt("Connection",'RPC "'+e+'" timed out'),_(new zt(Dt.DEADLINE_EXCEEDED,"Request time out"));break;case xo.HTTP_ERROR:const He=S.getStatus();if(Kt("Connection",'RPC "'+e+'" failed with status:',He,"response text:",S.getResponseText()),He>0){let yt=S.getResponseJson();Array.isArray(yt)&&(yt=yt[0]);const jt=null===(Z=yt)||void 0===Z?void 0:Z.error;if(jt&&jt.status&&jt.message){const en=function(An){const Nn=An.toLowerCase().replace(/_/g,"-");return Object.values(Dt).indexOf(Nn)>=0?Nn:Dt.UNKNOWN}(jt.status);_(new zt(en,jt.message))}else _(new zt(Dt.UNKNOWN,"Server responded with status "+S.getStatus()))}else _(new zt(Dt.UNAVAILABLE,"Connection failed."));break;default:Pn()}}finally{Kt("Connection",'RPC "'+e+'" completed.')}});const j=JSON.stringify(u);S.send(t,"POST",j,o,15)})}wo(e,t,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=_l(),_=sa(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(S.xmlHttpFactory=new co({})),this.lo(S.initMessageHeaders,t,o),S.encodeInitMessageHeaders=!0;const j=u.join("");Kt("Connection","Creating WebChannel: "+j,S);const Z=p.createWebChannel(j,S);let me=!1,He=!1;const yt=new Wm({Hr:en=>{He?Kt("Connection","Not sending because WebChannel is closed:",en):(me||(Kt("Connection","Opening WebChannel transport."),Z.open(),me=!0),Kt("Connection","WebChannel sending:",en),Z.send(en))},Jr:()=>Z.close()}),jt=(en,An,Nn)=>{en.listen(An,dr=>{try{Nn(dr)}catch(jr){setTimeout(()=>{throw jr},0)}})};return jt(Z,Ji.EventType.OPEN,()=>{He||Kt("Connection","WebChannel transport opened.")}),jt(Z,Ji.EventType.CLOSE,()=>{He||(He=!0,Kt("Connection","WebChannel transport closed"),yt.io())}),jt(Z,Ji.EventType.ERROR,en=>{He||(He=!0,$i("Connection","WebChannel transport errored:",en),yt.io(new zt(Dt.UNAVAILABLE,"The operation could not be completed")))}),jt(Z,Ji.EventType.MESSAGE,en=>{var An;if(!He){const Nn=en.data[0];In(!!Nn);const dr=Nn,jr=dr.error||(null===(An=dr[0])||void 0===An?void 0:An.error);if(jr){Kt("Connection","WebChannel received error:",jr);const wr=jr.status;let ao=function(yr){const Eo=un[yr];if(void 0!==Eo)return sr(Eo)}(wr),kr=jr.message;void 0===ao&&(ao=Dt.INTERNAL,kr="Unknown error status: "+wr+" with message "+jr.message),He=!0,yt.io(new zt(ao,kr)),Z.close()}else Kt("Connection","WebChannel received:",Nn),yt.ro(Nn)}}),jt(_,El.STAT_EVENT,en=>{en.stat===ns.PROXY?Kt("Connection","Detected buffering proxy"):en.stat===ns.NOPROXY&&Kt("Connection","Detected no buffering proxy")}),setTimeout(()=>{yt.so()},0),yt}}function Zm(){return"undefined"!=typeof window?window:null}function yd(){return"undefined"!=typeof document?document:null}function Uc(r){return new sd(r,!0)}class Pf{constructor(e,t,o=1e3,u=1.5,p=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=u,this.po=p,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-o);u>0&&Kt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Rf{constructor(e,t,o,u,p,_,S,j){this.Hs=e,this.vo=o,this.Vo=u,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=S,this.listener=j,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Pf(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,f.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,f.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,f.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===Dt.RESOURCE_EXHAUSTED?(nr(t.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===Dt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===t&&this.Go(o,u)},o=>{e(()=>{const u=new zt(Dt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,f.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Kt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Km extends Rf{constructor(e,t,o,u,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,_),this.It=p}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function fi(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Pn(),u=e.targetChange.targetIds||[],p=function(j,Z){return j.gt?(In(void 0===Z||"string"==typeof Z),Nr.fromBase64String(Z||"")):(In(void 0===Z||Z instanceof Uint8Array),Nr.fromUint8Array(Z||new Uint8Array))}(r,e.targetChange.resumeToken),_=e.targetChange.cause,S=_&&function(j){const Z=void 0===j.code?Dt.UNKNOWN:sr(j.code);return new zt(Z,j.message||"")}(_);t=new id(o,u,p,S||null)}else if("documentChange"in e){const o=e.documentChange,u=B(r,o.document.name),p=c(o.document.updateTime),_=new U({mapValue:{fields:o.document.fields}}),S=Ie.newFoundDocument(u,p,_);t=new ic(o.targetIds||[],o.removedTargetIds||[],S.key,S)}else if("documentDelete"in e){const o=e.documentDelete,u=B(r,o.document),p=o.readTime?c(o.readTime):ei.min(),_=Ie.newNoDocument(u,p);t=new ic([],o.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const o=e.documentRemove,u=B(r,o.document);t=new ic([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Pn();{const o=e.filter,p=new Yt(o.count||0);t=new Jd(o.targetId,p)}}var j;return t}(this.It,e),o=function(u){if(!("targetChange"in u))return ei.min();const p=u.targetChange;return p.targetIds&&p.targetIds.length?ei.min():p.readTime?c(p.readTime):ei.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=Xe(this.It),t.addTarget=function(u,p){let _;const S=p.target;return _=ai(S)?{documents:cs(u,S)}:{query:Jr(u,S)},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?_.resumeToken=eh(u,p.resumeToken):p.snapshotVersion.compareTo(ei.min())>0&&(_.readTime=Lu(u,p.snapshotVersion.toTimestamp())),_}(this.It,e);const o=function vs(r,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=Xe(this.It),t.removeTarget=e,this.Bo(t)}}class qm extends Rf{constructor(e,t,o,u,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,_),this.It=p,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(In(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function cr(r,e){return r&&r.length>0?(In(void 0!==e),r.map(t=>function(o,u){let p=c(o.updateTime?o.updateTime:u);return p.isEqual(ei.min())&&(p=c(u)),new ec(p,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=c(e.commitTime);return this.listener.Zo(o,t)}return In(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Xe(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>qn(this.It,o))};this.Bo(t)}}class rl extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.It=u,this.nu=!1}su(){if(this.nu)throw new zt(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.ao(e,t,o,u,p)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new zt(Dt.UNKNOWN,u.toString())})}_o(e,t,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection._o(e,t,o,p,_,u)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new zt(Dt.UNKNOWN,p.toString())})}terminate(){this.nu=!0}}class Wv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(nr(t),this.ou=!1):Kt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Zv{constructor(e,t,o,u,p){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=p,this.mu.qr(S=>{o.enqueueAndForget((0,f.Z)(function*(){var j;Jl(_)&&(Kt("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,f.Z)(function*(Z){const me=hn(Z);me._u.add(4),yield Hc(me),me.gu.set("Unknown"),me._u.delete(4),yield Bc(me)}),function(Z){return j.apply(this,arguments)})(_))}))}),this.gu=new Wv(o,u)}}function Bc(r){return mg.apply(this,arguments)}function mg(){return mg=(0,f.Z)(function*(r){if(Jl(r))for(const e of r.wu)yield e(!0)}),mg.apply(this,arguments)}function Hc(r){return vd.apply(this,arguments)}function vd(){return vd=(0,f.Z)(function*(r){for(const e of r.wu)yield e(!1)}),vd.apply(this,arguments)}function _d(r,e){const t=hn(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),kf(t)?Ch(t):pc(t).ko()&&Lf(t,e))}function Ed(r,e){const t=hn(r),o=pc(t);t.du.delete(e),o.ko()&&yg(t,e),0===t.du.size&&(o.ko()?o.Fo():Jl(t)&&t.gu.set("Unknown"))}function Lf(r,e){r.yu.Mt(e.targetId),pc(r).zo(e)}function yg(r,e){r.yu.Mt(e),pc(r).Ho(e)}function Ch(r){r.yu=new Qh({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),pc(r).start(),r.gu.uu()}function kf(r){return Jl(r)&&!pc(r).No()&&r.du.size>0}function Jl(r){return 0===hn(r)._u.size}function vg(r){r.yu=void 0}function Qm(r){return Th.apply(this,arguments)}function Th(){return Th=(0,f.Z)(function*(r){r.du.forEach((e,t)=>{Lf(r,e)})}),Th.apply(this,arguments)}function _g(r,e){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,f.Z)(function*(r,e){vg(r),kf(r)?(r.gu.hu(e),Ch(r)):r.gu.set("Unknown")}),Ff.apply(this,arguments)}function Xl(r,e,t){return bd.apply(this,arguments)}function bd(){return bd=(0,f.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof id&&2===e.state&&e.cause)try{yield(o=(0,f.Z)(function*(u,p){const _=p.cause;for(const S of p.targetIds)u.du.has(S)&&(yield u.remoteSyncer.rejectListen(S,_),u.du.delete(S),u.yu.removeTarget(S))}),function(u,p){return o.apply(this,arguments)})(r,e)}catch(o){Kt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Dh(r,o)}else if(e instanceof ic?r.yu.Gt(e):e instanceof Jd?r.yu.Yt(e):r.yu.Wt(e),!t.isEqual(ei.min()))try{const o=yield mh(r.localStore);t.compareTo(o)>=0&&(yield function(u,p){const _=u.yu.te(p);return _.targetChanges.forEach((S,j)=>{if(S.resumeToken.approximateByteSize()>0){const Z=u.du.get(j);Z&&u.du.set(j,Z.withResumeToken(S.resumeToken,p))}}),_.targetMismatches.forEach(S=>{const j=u.du.get(S);if(!j)return;u.du.set(S,j.withResumeToken(Nr.EMPTY_BYTE_STRING,j.snapshotVersion)),yg(u,S);const Z=new yu(j.target,S,1,j.sequenceNumber);Lf(u,Z)}),u.remoteSyncer.applyRemoteEvent(_)}(r,t))}catch(o){Kt("RemoteStore","Failed to raise snapshot:",o),yield Dh(r,o)}var o}),bd.apply(this,arguments)}function Dh(r,e,t){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,f.Z)(function*(r,e,t){if(!js(e))throw e;r._u.add(1),yield Hc(r),r.gu.set("Offline"),t||(t=()=>mh(r.localStore)),r.asyncQueue.enqueueRetryable((0,f.Z)(function*(){Kt("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield Bc(r)}))}),Vf.apply(this,arguments)}function Jm(r,e){return e().catch(t=>Dh(r,t,e))}function fc(r){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,f.Z)(function*(r){const e=hn(r),t=Cu(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Xm(e);)try{const u=yield Df(e.localStore,o);if(null===u){0===e.fu.length&&t.Fo();break}o=u.batchId,ey(e,u)}catch(u){yield Dh(e,u)}Ih(e)&&Eg(e)}),Uf.apply(this,arguments)}function Xm(r){return Jl(r)&&r.fu.length<10}function ey(r,e){r.fu.push(e);const t=Cu(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Ih(r){return Jl(r)&&!Cu(r).No()&&r.fu.length>0}function Eg(r){Cu(r).start()}function ty(r){return jc.apply(this,arguments)}function jc(){return jc=(0,f.Z)(function*(r){Cu(r).eu()}),jc.apply(this,arguments)}function Bf(r){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,f.Z)(function*(r){const e=Cu(r);for(const t of r.fu)e.Xo(t.mutations)}),Hf.apply(this,arguments)}function jf(r,e,t){return wd.apply(this,arguments)}function wd(){return wd=(0,f.Z)(function*(r,e,t){const o=r.fu.shift(),u=rf.from(o,e,t);yield Jm(r,()=>r.remoteSyncer.applySuccessfulWrite(u)),yield fc(r)}),wd.apply(this,arguments)}function bg(r,e){return wg.apply(this,arguments)}function wg(){return wg=(0,f.Z)(function*(r,e){var t;e&&Cu(r).Yo&&(yield(t=(0,f.Z)(function*(o,u){if(hi(p=u.code)&&p!==Dt.ABORTED){const _=o.fu.shift();Cu(o).Mo(),yield Jm(o,()=>o.remoteSyncer.rejectFailedWrite(_.batchId,u)),yield fc(o)}var p}),function(o,u){return t.apply(this,arguments)})(r,e)),Ih(r)&&Eg(r)}),wg.apply(this,arguments)}function ny(r,e){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,f.Z)(function*(r,e){const t=hn(r);t.asyncQueue.verifyOperationInProgress(),Kt("RemoteStore","RemoteStore received new credentials");const o=Jl(t);t._u.add(3),yield Hc(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Bc(t)}),Cd.apply(this,arguments)}function Cg(r,e){return $f.apply(this,arguments)}function $f(){return $f=(0,f.Z)(function*(r,e){const t=hn(r);e?(t._u.delete(2),yield Bc(t)):e||(t._u.add(2),yield Hc(t),t.gu.set("Unknown"))}),$f.apply(this,arguments)}function pc(r){return r.pu||(r.pu=function(e,t,o){const u=hn(e);return u.su(),new Km(t,u.connection,u.authCredentials,u.appCheckCredentials,u.It,o)}(r.datastore,r.asyncQueue,{Yr:Qm.bind(null,r),Zr:_g.bind(null,r),Wo:Xl.bind(null,r)}),r.wu.push(function(){var e=(0,f.Z)(function*(t){t?(r.pu.Mo(),kf(r)?Ch(r):r.gu.set("Unknown")):(yield r.pu.stop(),vg(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function Cu(r){return r.Iu||(r.Iu=function(e,t,o){const u=hn(e);return u.su(),new qm(t,u.connection,u.authCredentials,u.appCheckCredentials,u.It,o)}(r.datastore,r.asyncQueue,{Yr:ty.bind(null,r),Zr:bg.bind(null,r),tu:Bf.bind(null,r),Zo:jf.bind(null,r)}),r.wu.push(function(){var e=(0,f.Z)(function*(t){t?(r.Iu.Mo(),yield fc(r)):(yield r.Iu.stop(),r.fu.length>0&&(Kt("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class Ah{constructor(e,t,o,u,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=p,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,o,u,p){const _=Date.now()+o,S=new Ah(e,t,_,u,p);return S.start(o),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zt(Dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gc(r,e){if(nr("AsyncQueue",`${e}: ${r}`),js(r))return new zt(Dt.UNAVAILABLE,`${e}: ${r}`);throw r}class mc{constructor(e){this.comparator=e?(t,o)=>e(t,o)||k.comparator(t.key,o.key):(t,o)=>k.comparator(t.key,o.key),this.keyedMap=xl(),this.sortedSet=new Rr(this.comparator)}static emptySet(e){return new mc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,p=o.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new mc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class eu{constructor(){this.Tu=new Rr(k.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Pn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Tu{constructor(e,t,o,u,p,_,S,j,Z){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=S,this.excludesMetadataChanges=j,this.hasCachedResults=Z}static fromInitialDocuments(e,t,o,u,p){const _=[];return t.forEach(S=>{_.push({type:0,doc:S})}),new Tu(e,t,mc.emptySet(t),_,o,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class iy{constructor(){this.Au=void 0,this.listeners=[]}}class ry{constructor(){this.queries=new Gs(e=>Dl(e),Tl),this.onlineState="Unknown",this.Ru=new Set}}function Tg(r,e){return $c.apply(this,arguments)}function $c(){return $c=(0,f.Z)(function*(r,e){const t=hn(r),o=e.query;let u=!1,p=t.queries.get(o);if(p||(u=!0,p=new iy),u)try{p.Au=yield t.onListen(o)}catch(_){const S=gc(_,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(S)}t.queries.set(o,p),p.listeners.push(e),e.bu(t.onlineState),p.Au&&e.Pu(p.Au)&&Id(t)}),$c.apply(this,arguments)}function Sh(r,e){return Td.apply(this,arguments)}function Td(){return Td=(0,f.Z)(function*(r,e){const t=hn(r),o=e.query;let u=!1;const p=t.queries.get(o);if(p){const _=p.listeners.indexOf(e);_>=0&&(p.listeners.splice(_,1),u=0===p.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),Td.apply(this,arguments)}function Dd(r,e){const t=hn(r);let o=!1;for(const u of e){const _=t.queries.get(u.query);if(_){for(const S of _.listeners)S.Pu(u)&&(o=!0);_.Au=u}}o&&Id(t)}function sy(r,e,t){const o=hn(r),u=o.queries.get(e);if(u)for(const p of u.listeners)p.onError(t);o.queries.delete(e)}function Id(r){r.Ru.forEach(e=>{e.next()})}class xh{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Tu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Dg{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Gf{constructor(e){this.It=e}Ji(e){return B(this.It,e)}Yi(e){return e.metadata.exists?Tn(this.It,e.document,!1):Ie.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return c(e)}}class oy{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Oh(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const o=D.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new Gf(this.It);for(const u of e)if(u.metadata.queries){const p=o.Ji(u.metadata.name);for(const _ of u.metadata.queries){const S=(t.get(_)||Fn()).add(p);t.set(_,S)}}return t}complete(){var e=this;return(0,f.Z)(function*(){const t=yield function Gm(r,e,t,o){return vh.apply(this,arguments)}(e.localStore,new Gf(e.It),e.documents,e.Mu.id),o=e.$u(e.documents);for(const u of e.queries)yield zm(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Oh(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Ig{constructor(e){this.key=e}}class Ag{constructor(e){this.key=e}}class zf{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Fn(),this.mutatedKeys=Fn(),this.Gu=Il(e),this.Qu=new mc(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new eu,u=t?t.Qu:this.Qu;let p=t?t.mutatedKeys:this.mutatedKeys,_=u,S=!1;const j="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,Z="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((me,He)=>{const yt=u.get(me),jt=Mu(this.query,He)?He:null,en=!!yt&&this.mutatedKeys.has(yt.key),An=!!jt&&(jt.hasLocalMutations||this.mutatedKeys.has(jt.key)&&jt.hasCommittedMutations);let Nn=!1;yt&&jt?yt.data.isEqual(jt.data)?en!==An&&(o.track({type:3,doc:jt}),Nn=!0):this.Hu(yt,jt)||(o.track({type:2,doc:jt}),Nn=!0,(j&&this.Gu(jt,j)>0||Z&&this.Gu(jt,Z)<0)&&(S=!0)):!yt&&jt?(o.track({type:0,doc:jt}),Nn=!0):yt&&!jt&&(o.track({type:1,doc:yt}),Nn=!0,(j||Z)&&(S=!0)),Nn&&(jt?(_=_.add(jt),p=An?p.add(me):p.delete(me)):(_=_.delete(me),p=p.delete(me)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const me="F"===this.query.limitType?_.last():_.first();_=_.delete(me.key),p=p.delete(me.key),o.track({type:1,doc:me})}return{Qu:_,zu:o,$i:S,mutatedKeys:p}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const p=e.zu.Eu();p.sort((Z,me)=>function(He,yt){const jt=en=>{switch(en){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pn()}};return jt(He)-jt(yt)}(Z.type,me.type)||this.Gu(Z.doc,me.doc)),this.Ju(o);const _=t?this.Yu():[],S=0===this.Ku.size&&this.current?1:0,j=S!==this.qu;return this.qu=S,0!==p.length||j?{snapshot:new Tu(this.query,e.Qu,u,p,e.mutatedKeys,0===S,j,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:_}:{Xu:_}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new eu,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Fn(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new Ag(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Ig(o))}),t}tc(e){this.Uu=e.Hi,this.Ku=Fn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Tu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Gc{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Sg{constructor(e){this.key=e,this.nc=!1}}class ay{constructor(e,t,o,u,p,_){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.sc={},this.ic=new Gs(S=>Dl(S),Tl),this.rc=new Map,this.oc=new Set,this.uc=new Rr(k.comparator),this.cc=new Map,this.ac=new wf,this.hc={},this.lc=new Map,this.fc=cc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function ly(r,e){return $u.apply(this,arguments)}function $u(){return $u=(0,f.Z)(function*(r,e){const t=Gu(r);let o,u;const p=t.ic.get(e);if(p)o=p.targetId,t.sharedClientState.addLocalQueryTarget(o),u=p.view.ec();else{const _=yield dc(t.localStore,ms(e));t.isPrimaryClient&&_d(t.remoteStore,_);const S=t.sharedClientState.addLocalQueryTarget(_.targetId);o=_.targetId,u=yield Wf(t,e,o,"current"===S,_.resumeToken)}return u}),$u.apply(this,arguments)}function Wf(r,e,t,o,u){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,f.Z)(function*(r,e,t,o,u){r._c=(He,yt,jt)=>{return(en=(0,f.Z)(function*(An,Nn,dr,jr){let wr=Nn.view.Wu(dr);wr.$i&&(wr=yield kl(An.localStore,Nn.query,!1).then(({documents:yr})=>Nn.view.Wu(yr,wr)));const ao=jr&&jr.targetChanges.get(Nn.targetId),kr=Nn.view.applyChanges(wr,An.isPrimaryClient,ao);return xd(An,Nn.targetId,kr.Xu),kr.snapshot}),function(An,Nn,dr,jr){return en.apply(this,arguments)})(r,He,yt,jt);var en};const p=yield kl(r.localStore,e,!0),_=new zf(e,p.Hi),S=_.Wu(p.documents),j=mu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,u),Z=_.applyChanges(S,r.isPrimaryClient,j);xd(r,t,Z.Xu);const me=new Gc(e,t,_);return r.ic.set(e,me),r.rc.has(t)?r.rc.get(t).push(e):r.rc.set(t,[e]),Z.snapshot}),Zf.apply(this,arguments)}function uy(r,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,f.Z)(function*(r,e){const t=hn(r),o=t.ic.get(e),u=t.rc.get(o.targetId);if(u.length>1)return t.rc.set(o.targetId,u.filter(p=>!Tl(p,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ju(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Ed(t.remoteStore,o.targetId),Sd(t,o.targetId)}).catch(qr))):(Sd(t,o.targetId),yield ju(t.localStore,o.targetId,!0))}),Kf.apply(this,arguments)}function Ad(){return Ad=(0,f.Z)(function*(r,e,t){const o=op(r);try{const u=yield function(p,_){const S=hn(p),j=Zi.now(),Z=_.reduce((yt,jt)=>yt.add(jt.key),Fn());let me,He;return S.persistence.runTransaction("Locally write mutations","readwrite",yt=>{let jt=Fs(),en=Fn();return S.Gi.getEntries(yt,Z).next(An=>{jt=An,jt.forEach((Nn,dr)=>{dr.isValidDocument()||(en=en.add(Nn))})}).next(()=>S.localDocuments.getOverlayedDocuments(yt,jt)).next(An=>{me=An;const Nn=[];for(const dr of _){const jr=ha(dr,me.get(dr.key).overlayedDocument);null!=jr&&Nn.push(new y(dr.key,jr,oe(jr.value.mapValue),Lr.exists(!0)))}return S.mutationQueue.addMutationBatch(yt,j,Nn,_)}).next(An=>{He=An;const Nn=An.applyToLocalDocumentSet(me,en);return S.documentOverlayCache.saveOverlays(yt,An.batchId,Nn)})}).then(()=>({batchId:He.batchId,changes:nc(me)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(p,_,S){let j=p.hc[p.currentUser.toKey()];j||(j=new Rr(ii)),j=j.insert(_,S),p.hc[p.currentUser.toKey()]=j}(o,u.batchId,t),yield nu(o,u.changes),yield fc(o.remoteStore)}catch(u){const p=gc(u,"Failed to persist write");t.reject(p)}}),Ad.apply(this,arguments)}function qf(r,e){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,f.Z)(function*(r,e){const t=hn(r);try{const o=yield $m(t.localStore,e);e.targetChanges.forEach((u,p)=>{const _=t.cc.get(p);_&&(In(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.nc=!0:u.modifiedDocuments.size>0?In(_.nc):u.removedDocuments.size>0&&(In(_.nc),_.nc=!1))}),yield nu(t,o,e)}catch(o){yield qr(o)}}),Mh.apply(this,arguments)}function Yf(r,e,t){const o=hn(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ic.forEach((p,_)=>{const S=_.view.bu(e);S.snapshot&&u.push(S.snapshot)}),function(p,_){const S=hn(p);S.onlineState=_;let j=!1;S.queries.forEach((Z,me)=>{for(const He of me.listeners)He.bu(_)&&(j=!0)}),j&&Id(S)}(o.eventManager,e),u.length&&o.sc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function xg(r,e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,f.Z)(function*(r,e,t){const o=hn(r);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.cc.get(e),p=u&&u.key;if(p){let _=new Rr(k.comparator);_=_.insert(p,Ie.newNoDocument(p,ei.min()));const S=Fn().add(p),j=new fl(ei.min(),new Map,new ur(ii),_,S);yield qf(o,j),o.uc=o.uc.remove(p),o.cc.delete(e),Nh(o)}else yield ju(o.localStore,e,!1).then(()=>Sd(o,e,t)).catch(qr)}),Qf.apply(this,arguments)}function cy(r,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,f.Z)(function*(r,e){const t=hn(r),o=e.batch.batchId;try{const u=yield Hu(t.localStore,e);ep(t,o,null),Xf(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield nu(t,u)}catch(u){yield qr(u)}}),Jf.apply(this,arguments)}function dy(r,e,t){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,f.Z)(function*(r,e,t){const o=hn(r);try{const u=yield function(p,_){const S=hn(p);return S.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let Z;return S.mutationQueue.lookupMutationBatch(j,_).next(me=>(In(null!==me),Z=me.keys(),S.mutationQueue.removeMutationBatch(j,me))).next(()=>S.mutationQueue.performConsistencyCheck(j)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(j,Z,_)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,Z)).next(()=>S.localDocuments.getDocuments(j,Z))})}(o.localStore,e);ep(o,e,t),Xf(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield nu(o,u)}catch(u){yield qr(u)}}),Ph.apply(this,arguments)}function Rh(){return Rh=(0,f.Z)(function*(r,e){const t=hn(r);Jl(t.remoteStore)||Kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(p){const _=hn(p);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>_.mutationQueue.getHighestUnacknowledgedBatchId(S))}(t.localStore);if(-1===o)return void e.resolve();const u=t.lc.get(o)||[];u.push(e),t.lc.set(o,u)}catch(o){const u=gc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Rh.apply(this,arguments)}function Xf(r,e){(r.lc.get(e)||[]).forEach(t=>{t.resolve()}),r.lc.delete(e)}function ep(r,e,t){const o=hn(r);let u=o.hc[o.currentUser.toKey()];if(u){const p=u.get(e);p&&(t?p.reject(t):p.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function Sd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r.rc.get(e))r.ic.delete(o),t&&r.sc.wc(o,t);r.rc.delete(e),r.isPrimaryClient&&r.ac.ls(e).forEach(o=>{r.ac.containsKey(o)||hy(r,o)})}function hy(r,e){r.oc.delete(e.path.canonicalString());const t=r.uc.get(e);null!==t&&(Ed(r.remoteStore,t),r.uc=r.uc.remove(e),r.cc.delete(t),Nh(r))}function xd(r,e,t){for(const o of t)o instanceof Ig?(r.ac.addReference(o.key,e),fy(r,o)):o instanceof Ag?(Kt("SyncEngine","Document no longer in limbo: "+o.key),r.ac.removeReference(o.key,e),r.ac.containsKey(o.key)||hy(r,o.key)):Pn()}function fy(r,e){const t=e.key,o=t.path.canonicalString();r.uc.get(t)||r.oc.has(o)||(Kt("SyncEngine","New document in limbo: "+t),r.oc.add(o),Nh(r))}function Nh(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const e=r.oc.values().next().value;r.oc.delete(e);const t=new k(D.fromString(e)),o=r.fc.next();r.cc.set(o,new Sg(t)),r.uc=r.uc.insert(t,o),_d(r.remoteStore,new yu(ms(du(t.path)),o,2,Ys.at))}}function nu(r,e,t){return Og.apply(this,arguments)}function Og(){return Og=(0,f.Z)(function*(r,e,t){const o=hn(r),u=[],p=[],_=[];var S;o.ic.isEmpty()||(o.ic.forEach((S,j)=>{_.push(o._c(j,e,t).then(Z=>{if((Z||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(j.targetId,(null==Z?void 0:Z.fromCache)?"not-current":"current"),Z){u.push(Z);const me=hg.Ci(j.targetId,Z);p.push(me)}}))}),yield Promise.all(_),o.sc.Wo(u),yield(S=(0,f.Z)(function*(j,Z){const me=hn(j);try{yield me.persistence.runTransaction("notifyLocalViewChanges","readwrite",He=>_t.forEach(Z,yt=>_t.forEach(yt.Si,jt=>me.persistence.referenceDelegate.addReference(He,yt.targetId,jt)).next(()=>_t.forEach(yt.Di,jt=>me.persistence.referenceDelegate.removeReference(He,yt.targetId,jt)))))}catch(He){if(!js(He))throw He;Kt("LocalStore","Failed to update sequence numbers: "+He)}for(const He of Z){const yt=He.targetId;if(!He.fromCache){const jt=me.Ui.get(yt),An=jt.withLastLimboFreeSnapshotVersion(jt.snapshotVersion);me.Ui=me.Ui.insert(yt,An)}}}),function(j,Z){return S.apply(this,arguments)})(o.localStore,p))}),Og.apply(this,arguments)}function Fl(r,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,f.Z)(function*(r,e){const t=hn(r);if(!t.currentUser.isEqual(e)){Kt("SyncEngine","User change. New user:",e.toKey());const o=yield jm(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(_=>{_.forEach(S=>{S.reject(new zt(Dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield nu(t,o.ji)}var u}),Mg.apply(this,arguments)}function qv(r,e){const t=hn(r),o=t.cc.get(e);if(o&&o.nc)return Fn().add(o.key);{let u=Fn();const p=t.rc.get(e);if(!p)return u;for(const _ of p){const S=t.ic.get(_);u=u.unionWith(S.view.ju)}return u}}function Pg(r,e){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,f.Z)(function*(r,e){const t=hn(r),o=yield kl(t.localStore,e.query,!0),u=e.view.tc(o);return t.isPrimaryClient&&xd(t,e.targetId,u.Xu),u}),Lh.apply(this,arguments)}function Rg(r,e){return tp.apply(this,arguments)}function tp(){return tp=(0,f.Z)(function*(r,e){const t=hn(r);return pg(t.localStore,e).then(o=>nu(t,o))}),tp.apply(this,arguments)}function Yv(r,e,t,o){return kh.apply(this,arguments)}function kh(){return kh=(0,f.Z)(function*(r,e,t,o){const u=hn(r),p=yield function(_,S){const j=hn(_),Z=hn(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",me=>Z.Tn(me,S).next(He=>He?j.localDocuments.getDocuments(me,He):_t.resolve(null)))}(u.localStore,e);var S;null!==p?("pending"===t?yield fc(u.remoteStore):"acknowledged"===t||"rejected"===t?(ep(u,e,o||null),Xf(u,e),S=e,hn(hn(u.localStore).mutationQueue).An(S)):Pn(),yield nu(u,p)):Kt("SyncEngine","Cannot apply mutation batch with id: "+e)}),kh.apply(this,arguments)}function ip(){return ip=(0,f.Z)(function*(r,e){const t=hn(r);if(Gu(t),op(t),!0===e&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Fh(t,o.toArray());t.dc=!0,yield Cg(t.remoteStore,!0);for(const p of u)_d(t.remoteStore,p)}else if(!1===e&&!1!==t.dc){const o=[];let u=Promise.resolve();t.rc.forEach((p,_)=>{t.sharedClientState.isLocalQueryTarget(_)?o.push(_):u=u.then(()=>(Sd(t,_),ju(t.localStore,_,!0))),Ed(t.remoteStore,_)}),yield u,yield Fh(t,o),function(p){const _=hn(p);_.cc.forEach((S,j)=>{Ed(_.remoteStore,j)}),_.ac.fs(),_.cc=new Map,_.uc=new Rr(k.comparator)}(t),t.dc=!1,yield Cg(t.remoteStore,!1)}}),ip.apply(this,arguments)}function Fh(r,e,t){return rp.apply(this,arguments)}function rp(){return rp=(0,f.Z)(function*(r,e,t){const o=hn(r),u=[],p=[];for(const _ of e){let S;const j=o.rc.get(_);if(j&&0!==j.length){S=yield dc(o.localStore,ms(j[0]));for(const Z of j){const me=o.ic.get(Z),He=yield Pg(o,me);He.snapshot&&p.push(He.snapshot)}}else{const Z=yield Af(o.localStore,_);S=yield dc(o.localStore,Z),yield Wf(o,Ng(Z),_,!1,S.resumeToken)}u.push(S)}return o.sc.Wo(p),u}),rp.apply(this,arguments)}function Ng(r){return qu(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function py(r){const e=hn(r);return hn(hn(e.localStore).persistence).vi()}function gy(r,e,t,o){return sp.apply(this,arguments)}function sp(){return sp=(0,f.Z)(function*(r,e,t,o){const u=hn(r);if(u.dc)return void Kt("SyncEngine","Ignoring unexpected query state notification.");const p=u.rc.get(e);if(p&&p.length>0)switch(t){case"current":case"not-current":{const _=yield pg(u.localStore,no(p[0])),S=fl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Nr.EMPTY_BYTE_STRING);yield nu(u,_,S);break}case"rejected":yield ju(u.localStore,e,!0),Sd(u,e,o);break;default:Pn()}}),sp.apply(this,arguments)}function my(r,e,t){return zc.apply(this,arguments)}function zc(){return zc=(0,f.Z)(function*(r,e,t){const o=Gu(r);if(o.dc){for(const u of e){if(o.rc.has(u)){Kt("SyncEngine","Adding an already active target "+u);continue}const p=yield Af(o.localStore,u),_=yield dc(o.localStore,p);yield Wf(o,Ng(p),_.targetId,!1,_.resumeToken),_d(o.remoteStore,_)}for(const u of t)o.rc.has(u)&&(yield ju(o.localStore,u,!1).then(()=>{Ed(o.remoteStore,u),Sd(o,u)}).catch(qr))}}),zc.apply(this,arguments)}function Gu(r){const e=hn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xg.bind(null,e),e.sc.Wo=Dd.bind(null,e.eventManager),e.sc.wc=sy.bind(null,e.eventManager),e}function op(r){const e=hn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dy.bind(null,e),e}class Lg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,f.Z)(function*(){t.It=Uc(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Hm(this.persistence,new Bm,e.initialUser,this.It)}yc(e){return new ag(pd.Bs,this.It)}gc(e){return new bh}terminate(){var e=this;return(0,f.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kg extends Lg{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield op(o.Ac.syncEngine),yield fc(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Hm(this.persistence,new Bm,e.initialUser,this.It)}Tc(e,t){return new Ll(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new Ha(t,this.persistence);return new wa(e.asyncQueue,o)}yc(e){const t=dg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Oa.withCacheSize(this.cacheSizeBytes):Oa.DEFAULT;return new cg(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Zm(),yd(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new bh}}class ap extends kg{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield t().call(o,e);const u=o.Ac.syncEngine;o.sharedClientState instanceof Eh&&(o.sharedClientState.syncEngine={Fr:Yv.bind(null,u),$r:gy.bind(null,u),Br:my.bind(null,u),vi:py.bind(null,u),Mr:Rg.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var p=(0,f.Z)(function*(_){yield function np(r,e){return ip.apply(this,arguments)}(o.Ac.syncEngine,_),o.gcScheduler&&(_&&!o.gcScheduler.started?o.gcScheduler.start():_||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(_&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():_||o.indexBackfillerScheduler.stop())});return function(_){return p.apply(this,arguments)}}())})()}gc(e){const t=Zm();if(!Eh.C(t))throw new zt(Dt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=dg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Eh(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class gl{initialize(e,t){var o=this;return(0,f.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Yf(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Fl.bind(null,o.syncEngine),yield Cg(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ry}createDatastore(e){const t=Uc(e.databaseInfo.databaseId),o=new gg(e.databaseInfo);return new rl(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,p=S=>Yf(this.syncEngine,S,0),_=Mf.C()?new Mf:new Of,new Zv(t,o,u,p,_);var t,o,u,p,_}createSyncEngine(e,t){return function(o,u,p,_,S,j,Z){const me=new ay(o,u,p,_,S,j);return Z&&(me.dc=!0),me}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,f.Z)(function*(t){const o=hn(t);Kt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield Hc(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yc(r,e,t){if(!t)throw new zt(Dt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Ho(r,e,t,o){if(!0===e&&!0===o)throw new zt(Dt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function zu(r){if(!k.isDocumentKey(r))throw new zt(Dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Md(r){if(k.isDocumentKey(r))throw new zt(Dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function pa(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Pn()}function Ki(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new zt(Dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pa(r);throw new zt(Dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function vc(r,e){if(e<=0)throw new zt(Dt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}const _c=new Map;class Ec{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new zt(Dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new zt(Dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Ho("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iu{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ec({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new zt(Dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new zt(Dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ec(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ol;switch(t.type){case"gapi":return new al(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new zt(Dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_c.get(e);t&&(Kt("ComponentProvider","Removing Datastore"),_c.delete(e),t.terminate())}(this),Promise.resolve()}}function bc(r,e,t,o={}){var u;const p=(r=Ki(r,iu))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&$i("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let _,S;if("string"==typeof o.mockUserToken)_=o.mockUserToken,S=ji.MOCK_USER;else{_=(0,ve.Sg)(o.mockUserToken,null===(u=r._app)||void 0===u?void 0:u.options.projectId);const j=o.mockUserToken.sub||o.mockUserToken.user_id;if(!j)throw new zt(Dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new ji(j)}r._authCredentials=new Ku(new ka(_,S))}}class Hr{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hr(this.firestore,e,this._key)}}class Vs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class ga extends Vs{constructor(e,t,o){super(e,t,du(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hr(this.firestore,null,new k(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function Wc(r,e,...t){if(r=(0,ve.m9)(r),yc("collection","path",e),r instanceof iu){const o=D.fromString(e,...t);return Md(o),new ga(r,null,o)}{if(!(r instanceof Hr||r instanceof ga))throw new zt(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(D.fromString(e,...t));return Md(o),new ga(r.firestore,null,o)}}function Fg(r,e){if(r=Ki(r,iu),yc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new zt(Dt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Vs(r,null,(t=e,new $s(D.emptyPath(),t)));var t}function lp(r,e,...t){if(r=(0,ve.m9)(r),1===arguments.length&&(e=Gi.R()),yc("doc","path",e),r instanceof iu){const o=D.fromString(e,...t);return zu(o),new Hr(r,null,new k(o))}{if(!(r instanceof Hr||r instanceof ga))throw new zt(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(D.fromString(e,...t));return zu(o),new Hr(r.firestore,r instanceof ga?r.converter:null,new k(o))}}function Vg(r,e){return r=(0,ve.m9)(r),e=(0,ve.m9)(e),(r instanceof Hr||r instanceof ga)&&(e instanceof Hr||e instanceof ga)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Vh(r,e){return r=(0,ve.m9)(r),e=(0,ve.m9)(e),r instanceof Vs&&e instanceof Vs&&r.firestore===e.firestore&&Tl(r._query,e._query)&&r.converter===e.converter}function up(r,e=10240){let t=0;return{read:()=>(0,f.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,f.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Pd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ug{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new pr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.ku)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,f.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,f.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,f.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const o=e.vc.decode(t),u=Number(o);isNaN(u)&&e.Dc(`length string (${o}) is not valid number`);const p=yield e.Cc(u);return new Dg(JSON.parse(p),t.length+u)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,f.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Cc(e){var t=this;return(0,f.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const o=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,f.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Hg{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,f.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new zt(Dt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,f.Z)(function*(p,_){const S=hn(p),j=Xe(S.It)+"/documents",Z={documents:_.map(jt=>T(S.It,jt))},me=yield S._o("BatchGetDocuments",j,Z,_.length),He=new Map;me.forEach(jt=>{const en=function Wn(r,e){return"found"in e?function(t,o){In(!!o.found);const u=B(t,o.found.name),p=c(o.found.updateTime),_=new U({mapValue:{fields:o.found.fields}});return Ie.newFoundDocument(u,p,_)}(r,e):"missing"in e?function(t,o){In(!!o.missing),In(!!o.readTime);const u=B(t,o.missing),p=c(o.readTime);return Ie.newNoDocument(u,p)}(r,e):Pn()}(S.It,jt);He.set(en.key.toString(),en)});const yt=[];return _.forEach(jt=>{const en=He.get(jt.toString());In(!!en),yt.push(en)}),yt}),function(p,_){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new de(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,f.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const p=k.fromPath(u);e.mutations.push(new dt(p,e.precondition(p)))}),yield(o=(0,f.Z)(function*(u,p){const _=hn(u),S=Xe(_.It)+"/documents",j={writes:p.map(Z=>qn(_.It,Z))};yield _.ao("Commit",S,j)}),function(u,p){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Pn();t=ei.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new zt(Dt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ei.min())?Lr.exists(!1):Lr.updateTime(t):Lr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ei.min()))throw new zt(Dt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lr.updateTime(t)}return Lr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _y{constructor(e,t,o,u,p){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=p,this.kc=o.maxAttempts,this.xo=new Pf(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,f.Z)(function*(){const t=new Hg(e.datastore),o=e.Mc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(p=>{e.Fc(p)}))}).catch(u=>{e.Fc(u)})}))}Mc(e){try{const t=this.updateFunction(e);return!Po(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!hi(t)}return!1}}class jg{constructor(e,t,o,u){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=ji.UNAUTHENTICATED,this.clientId=Gi.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var _=(0,f.Z)(function*(S){Kt("FirestoreClient","Received user=",S.uid),yield p.authCredentialListener(S),p.user=S});return function(S){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(o,_=>(Kt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,f.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new zt(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=gc(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function cp(r,e){return dp.apply(this,arguments)}function dp(){return dp=(0,f.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Kt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var u=(0,f.Z)(function*(p){o.isEqual(p)||(yield jm(e.localStore,p),o=p)});return function(p){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),dp.apply(this,arguments)}function $g(r,e){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,f.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield hp(r);Kt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(u=>ny(e.remoteStore,u)),r.setAppCheckTokenChangeListener((u,p)=>ny(e.remoteStore,p)),r.onlineComponents=e}),Uh.apply(this,arguments)}function hp(r){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,f.Z)(function*(r){return r.offlineComponents||(Kt("FirestoreClient","Using default OfflineComponentProvider"),yield cp(r,new Lg)),r.offlineComponents}),Bh.apply(this,arguments)}function Hh(r){return fp.apply(this,arguments)}function fp(){return fp=(0,f.Z)(function*(r){return r.onlineComponents||(Kt("FirestoreClient","Using default OnlineComponentProvider"),yield $g(r,new gl)),r.onlineComponents}),fp.apply(this,arguments)}function Ey(r){return hp(r).then(e=>e.persistence)}function jh(r){return hp(r).then(e=>e.localStore)}function Rd(r){return Hh(r).then(e=>e.remoteStore)}function Nd(r){return Hh(r).then(e=>e.syncEngine)}function Ld(r){return zg.apply(this,arguments)}function zg(){return zg=(0,f.Z)(function*(r){const e=yield Hh(r),t=e.eventManager;return t.onListen=ly.bind(null,e.syncEngine),t.onUnlisten=uy.bind(null,e.syncEngine),t}),zg.apply(this,arguments)}function wy(r,e,t={}){const o=new pr;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(u,p,_,S,j){const Z=new Pd({next:He=>{p.enqueueAndForget(()=>Sh(u,me));const yt=He.docs.has(_);!yt&&He.fromCache?j.reject(new zt(Dt.UNAVAILABLE,"Failed to get document because the client is offline.")):yt&&He.fromCache&&S&&"server"===S.source?j.reject(new zt(Dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(He)},error:He=>j.reject(He)}),me=new xh(du(_.path),Z,{includeMetadataChanges:!0,Nu:!0});return Tg(u,me)}(yield Ld(r),r.asyncQueue,e,t,o)})),o.promise}function wc(r,e,t={}){const o=new pr;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(u,p,_,S,j){const Z=new Pd({next:He=>{p.enqueueAndForget(()=>Sh(u,me)),He.fromCache&&"server"===S.source?j.reject(new zt(Dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(He)},error:He=>j.reject(He)}),me=new xh(_,Z,{includeMetadataChanges:!0,Nu:!0});return Tg(u,me)}(yield Ld(r),r.asyncQueue,e,t,o)})),o.promise}class Kg{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Pf(this,"async_queue_retry"),this.Wc=()=>{const t=yd();t&&Kt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=yd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=yd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new pr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,f.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!js(t))throw t;Kt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,nr("INTERNAL UNHANDLED ERROR: ",function(p){let _=p.message||"";return p.stack&&(_=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),_}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=Ah.createAndSchedule(this,e,t,o,p=>this.Yc(p));return this.qc.push(u),u}zc(){this.Kc&&Pn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,f.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Zc(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(r)}class Iy{constructor(){this._progressObserver={},this._taskCompletionResolver=new pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const qg=-1;class ss extends iu{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new Kg,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Yg(this),this._firestoreClient.terminate()}}function Us(r){return r._firestoreClient||Yg(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Yg(r){var e;const t=r._freezeSettings(),o=(p=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Ca(r._databaseId,p,r._persistenceKey,(S=t).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,S.useFetchStreams));var p,S;r._firestoreClient=new jg(r._authCredentials,r._appCheckCredentials,r._queue,o)}function Qg(r,e){yp(r=Ki(r,ss));const t=Us(r),o=r._freezeSettings(),u=new gl;return pp(t,u,new kg(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Ay(r){yp(r=Ki(r,ss));const e=Us(r),t=r._freezeSettings(),o=new gl;return pp(e,o,new ap(o,t.cacheSizeBytes))}function pp(r,e,t){const o=new pr;return r.asyncQueue.enqueue((0,f.Z)(function*(){try{yield cp(r,t),yield $g(r,e),o.resolve()}catch(u){const p=u;if(!("FirebaseError"===(_=p).name?_.code===Dt.FAILED_PRECONDITION||_.code===Dt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw p;$i("Error enabling offline persistence. Falling back to persistence disabled: "+p),o.reject(p)}var _})).then(()=>o.promise)}function Jg(r){if(r._initialized&&!r._terminated)throw new zt(Dt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new pr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{yield(t=(0,f.Z)(function*(o){if(!qs.C())return Promise.resolve();const u=o+"main";yield qs.delete(u)}),function(o){return t.apply(this,arguments)})(dg(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function gp(r){return function(e){const t=new pr;return e.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Kv(r,e){return Rh.apply(this,arguments)}(yield Nd(e),t)})),t.promise}(Us(r=Ki(r,ss)))}function e_(r){return function Qv(r){return r.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Ey(r),t=yield Rd(r);return e.setNetworkEnabled(!0),function(o){const u=hn(o);return u._u.delete(0),Bc(u)}(t)}))}(Us(r=Ki(r,ss)))}function mp(r){return function by(r){return r.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Ey(r),t=yield Rd(r);return e.setNetworkEnabled(!1),(o=(0,f.Z)(function*(u){const p=hn(u);p._u.add(0),yield Hc(p),p.gu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(Us(r=Ki(r,ss)))}function n_(r,e){const t=Us(r=Ki(r,ss)),o=new Iy;return function Zg(r,e,t,o){const u=function(p,_){let S;return S="string"==typeof p?(new TextEncoder).encode(p):p,j=function(j,Z){if(j instanceof Uint8Array)return up(j,Z);if(j instanceof ArrayBuffer)return up(new Uint8Array(j),Z);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new Ug(j,_);var j}(t,Uc(e));r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){!function Od(r,e,t){const o=hn(r);var u;(u=(0,f.Z)(function*(p,_,S){try{const j=yield _.getMetadata();if(yield function(yt,jt){const en=hn(yt),An=c(jt.createTime);return en.persistence.runTransaction("hasNewerBundle","readonly",Nn=>en.Ns.getBundleMetadata(Nn,jt.id)).then(Nn=>!!Nn&&Nn.createTime.compareTo(An)>=0)}(p.localStore,j))return yield _.close(),S._completeWith({taskState:"Success",documentsLoaded:(yt=j).totalDocuments,bytesLoaded:yt.totalBytes,totalDocuments:yt.totalDocuments,totalBytes:yt.totalBytes}),Promise.resolve(new Set);S._updateProgress(Oh(j));const Z=new oy(j,p.localStore,_.It);let me=yield _.mc();for(;me;){const yt=yield Z.Fu(me);yt&&S._updateProgress(yt),me=yield _.mc()}const He=yield Z.complete();return yield nu(p,He.Lu,void 0),yield function(yt,jt){const en=hn(yt);return en.persistence.runTransaction("Save bundle","readwrite",An=>en.Ns.saveBundleMetadata(An,jt))}(p.localStore,j),S._completeWith(He.progress),Promise.resolve(He.Bu)}catch(j){return $i("SyncEngine",`Loading bundle failed with ${j}`),S._failWith(j),Promise.resolve(new Set)}var yt}),function(p,_,S){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Nd(r),u,o)}))}(t,r._databaseId,e,o),o}function kd(r,e){return function Dy(r,e){return r.asyncQueue.enqueue((0,f.Z)(function*(){return function(t,o){const u=hn(t);return u.persistence.runTransaction("Get named query","readonly",p=>u.Ns.getNamedQuery(p,o))}(yield jh(r),e)}))}(Us(r=Ki(r,ss)),e).then(t=>t?new Vs(r,null,t.query):null)}function yp(r){if(r._initialized||r._terminated)throw new zt(Dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ru(Nr.fromBase64String(e))}catch(t){throw new zt(Dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ru(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class su{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new zt(Dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new L(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ou{constructor(e){this._methodName=e}}class Cc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new zt(Dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new zt(Dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ii(this._lat,e._lat)||ii(this._long,e._long)}}const vp=/^__.*__$/;class r_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new y(e,this.data,this.fieldMask,t,this.fieldTransforms):new C(e,this.data,t,this.fieldTransforms)}}class Xg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new y(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fd(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pn()}}class Tc{constructor(e,t,o,u,p,_){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=u,void 0===p&&this.na(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Tc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return $d(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Fd(this.sa)&&vp.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class _p{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||Uc(e)}da(e,t,o,u=!1){return new Tc({sa:e,methodName:t,fa:o,path:L.emptyPath(),oa:!1,la:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Wu(r){const e=r._freezeSettings(),t=Uc(r._databaseId);return new _p(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Kc(r,e,t,o,u,p={}){const _=r.da(p.merge||p.mergeFields?2:0,e,t,u);Bd("Data must be an object, but it was:",_,o);const S=wp(o,_);let j,Z;if(p.merge)j=new Js(_.fieldMask),Z=_.fieldTransforms;else if(p.mergeFields){const me=[];for(const He of p.mergeFields){const yt=Hd(e,He,t);if(!_.contains(yt))throw new zt(Dt.INVALID_ARGUMENT,`Field '${yt}' is specified in your field mask but missing from your input data.`);Dp(me,yt)||me.push(yt)}j=new Js(me),Z=_.fieldTransforms.filter(He=>j.covers(He.field))}else j=null,Z=_.fieldTransforms;return new r_(new U(S),j,Z)}class qc extends ou{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qc}}function Ep(r,e,t){return new Tc({sa:3,fa:e.settings.fa,methodName:r._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Vd extends ou{_toFieldTransform(e){return new Xa(e.path,new an)}isEqual(e){return e instanceof Vd}}class em extends ou{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Ep(this,e,!0),o=this._a.map(p=>Dc(p,t)),u=new Ia(o);return new Xa(e.path,u)}isEqual(e){return this===e}}class Sy extends ou{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Ep(this,e,!0),o=this._a.map(p=>Dc(p,t)),u=new mo(o);return new Xa(e.path,u)}isEqual(e){return this===e}}class tm extends ou{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Ja(e.It,fu(e.It,this.wa));return new Xa(e.path,t)}isEqual(e){return this===e}}function $h(r,e,t,o){const u=r.da(1,e,t);Bd("Data must be an object, but it was:",u,o);const p=[],_=U.empty();ja(o,(j,Z)=>{const me=jd(e,j,t);Z=(0,ve.m9)(Z);const He=u.ca(me);if(Z instanceof qc)p.push(me);else{const yt=Dc(Z,He);null!=yt&&(p.push(me),_.set(me,yt))}});const S=new Js(p);return new Xg(_,S,u.fieldTransforms)}function Ud(r,e,t,o,u,p){const _=r.da(1,e,t),S=[Hd(e,o,t)],j=[u];if(p.length%2!=0)throw new zt(Dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let yt=0;yt<p.length;yt+=2)S.push(Hd(e,p[yt])),j.push(p[yt+1]);const Z=[],me=U.empty();for(let yt=S.length-1;yt>=0;--yt)if(!Dp(Z,S[yt])){const jt=S[yt];let en=j[yt];en=(0,ve.m9)(en);const An=_.ca(jt);if(en instanceof qc)Z.push(jt);else{const Nn=Dc(en,An);null!=Nn&&(Z.push(jt),me.set(jt,Nn))}}const He=new Js(Z);return new Xg(me,He,_.fieldTransforms)}function bp(r,e,t,o=!1){return Dc(t,r.da(o?4:3,e))}function Dc(r,e){if(Cp(r=(0,ve.m9)(r)))return Bd("Unsupported field value:",e,r),wp(r,e);if(r instanceof ou)return function(t,o){if(!Fd(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const u=[];let p=0;for(const _ of t){let S=Dc(_,o.aa(p));null==S&&(S={nullValue:"NULL_VALUE"}),u.push(S),p++}return{arrayValue:{values:u}}}(r,e)}return function(t,o){if(null===(t=(0,ve.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fu(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Zi.fromDate(t);return{timestampValue:Lu(o.It,u)}}if(t instanceof Zi){const u=new Zi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Lu(o.It,u)}}if(t instanceof Cc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ru)return{bytesValue:eh(o.It,t._byteString)};if(t instanceof Hr){const u=o.databaseId,p=t.firestore._databaseId;if(!p.isEqual(u))throw o.ha(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:a(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${pa(t)}`)}(r,e)}function wp(r,e){const t={};return Su(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ja(r,(o,u)=>{const p=Dc(u,e.ra(o));null!=p&&(t[o]=p)}),{mapValue:{fields:t}}}function Cp(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Zi||r instanceof Cc||r instanceof ru||r instanceof Hr||r instanceof ou)}function Bd(r,e,t){if(!Cp(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=pa(t);throw e.ha("an object"===o?r+" a custom object":r+" "+o)}var o}function Hd(r,e,t){if((e=(0,ve.m9)(e))instanceof su)return e._internalPath;if("string"==typeof e)return jd(r,e);throw $d("Field path arguments must be of type string or ",r,!1,void 0,t)}const Tp=new RegExp("[~\\*/\\[\\]]");function jd(r,e,t){if(e.search(Tp)>=0)throw $d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new su(...e.split("."))._internalPath}catch(o){throw $d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function $d(r,e,t,o,u){const p=o&&!o.isEmpty(),_=void 0!==u;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let j="";return(p||_)&&(j+=" (found",p&&(j+=` in field ${o}`),_&&(j+=` in document ${u}`),j+=")"),new zt(Dt.INVALID_ARGUMENT,S+r+j)}function Dp(r,e){return r.some(t=>t.isEqual(e))}class Yc{constructor(e,t,o,u,p){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nm extends Yc{data(){return super.data()}}function Gd(r,e){return"string"==typeof e?jd(r,e):e instanceof su?e._internalPath:e._delegate._internalPath}function Ip(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new zt(Dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gh{}function xy(r,...e){for(const t of e)r=t._apply(r);return r}class Oy extends Gh{constructor(e,t,o){super(),this.ma=e,this.ga=t,this.ya=o,this.type="where"}_apply(e){const t=Wu(e.firestore),o=function(u,p,_,S,j,Z,me){let He;if(j.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new zt(Dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){om(me,Z);const jt=[];for(const en of me)jt.push(Op(S,u,en));He={arrayValue:{values:jt}}}else He=Op(S,u,me)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||om(me,Z),He=bp(_,"where",me,"in"===Z||"not-in"===Z);const yt=Yi.create(j,Z,He);return function(jt,en){if(en.dt()){const Nn=Gl(jt);if(null!==Nn&&!Nn.isEqual(en.field))throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Nn.toString()}' and '${en.field.toString()}'`);const dr=xc(jt);null!==dr&&Mp(0,en.field,dr)}const An=function(Nn,dr){for(const jr of Nn.filters)if(dr.indexOf(jr.op)>=0)return jr.op;return null}(jt,function(Nn){switch(Nn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(en.op));if(null!==An)throw new zt(Dt.INVALID_ARGUMENT,An===en.op?`Invalid query. You cannot use more than one '${en.op.toString()}' filter.`:`Invalid query. You cannot use '${en.op.toString()}' filters with '${An.toString()}' filters.`)}(u,yt),yt}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Vs(e.firestore,e.converter,function(u,p){const _=u.filters.concat([p]);return new $s(u.path,u.collectionGroup,u.explicitOrderBy.slice(),_,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}function im(r,e,t){const o=e,u=Gd("where",r);return new Oy(u,o,t)}class My extends Gh{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(o,u,p){if(null!==o.startAt)throw new zt(Dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new zt(Dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new Qa(u,p);return function(S,j){if(null===xc(S)){const Z=Gl(S);null!==Z&&Mp(0,Z,j.field)}}(o,_),_}(e._query,this.ma,this.pa);return new Vs(e.firestore,e.converter,function(o,u){const p=o.explicitOrderBy.concat([u]);return new $s(o.path,o.collectionGroup,p,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function oo(r,e="asc"){const t=e,o=Gd("orderBy",r);return new My(o,t)}class Ap extends Gh{constructor(e,t,o){super(),this.type=e,this.Ia=t,this.Ta=o}_apply(e){return new Vs(e.firestore,e.converter,to(e._query,this.Ia,this.Ta))}}function Py(r){return vc("limit",r),new Ap("limit",r,"F")}function Ry(r){return vc("limitToLast",r),new Ap("limitToLast",r,"L")}class Sp extends Gh{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=sm(e,this.type,this.Ea,this.Aa);return new Vs(e.firestore,e.converter,(u=t,new $s((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function Ny(...r){return new Sp("startAt",r,!0)}function rm(...r){return new Sp("startAfter",r,!1)}class xp extends Gh{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=sm(e,this.type,this.Ea,this.Aa);return new Vs(e.firestore,e.converter,(u=t,new $s((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Qc(...r){return new xp("endBefore",r,!1)}function Ly(...r){return new xp("endAt",r,!0)}function sm(r,e,t,o){if(t[0]=(0,ve.m9)(t[0]),t[0]instanceof Yc)return function(u,p,_,S,j){if(!S)throw new zt(Dt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const Z=[];for(const me of zl(u))if(me.field.isKeyField())Z.push(ua(p,S.key));else{const He=S.data.field(me.field);if(Rs(He))throw new zt(Dt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+me.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===He){const yt=me.field.canonicalString();throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${yt}' (used as the orderBy) does not exist.`)}Z.push(He)}return new eo(Z,j)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const u=Wu(r.firestore);return function(p,_,S,j,Z,me){const He=p.explicitOrderBy;if(Z.length>He.length)throw new zt(Dt.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const yt=[];for(let jt=0;jt<Z.length;jt++){const en=Z[jt];if(He[jt].field.isKeyField()){if("string"!=typeof en)throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof en}`);if(!ko(p)&&-1!==en.indexOf("/"))throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${en}' contains a slash.`);const An=p.path.child(D.fromString(en));if(!k.isDocumentKey(An))throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${An}' is not because it contains an odd number of segments.`);const Nn=new k(An);yt.push(ua(_,Nn))}else{const An=bp(S,j,en);yt.push(An)}}return new eo(yt,me)}(r._query,r.firestore._databaseId,u,e,t,o)}}function Op(r,e,t){if("string"==typeof(t=(0,ve.m9)(t))){if(""===t)throw new zt(Dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ko(e)&&-1!==t.indexOf("/"))throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(D.fromString(t));if(!k.isDocumentKey(o))throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ua(r,new k(o))}if(t instanceof Hr)return ua(r,t._key);throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pa(t)}.`)}function om(r,e){if(!Array.isArray(r)||0===r.length)throw new zt(Dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new zt(Dt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Mp(r,e,t){if(!t.isEqual(e))throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class am{convertValue(e,t="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pn()}}convertObject(e,t){const o={};return ja(e.fields,(u,p)=>{o[u]=this.convertValue(p,t)}),o}convertGeoPoint(e){return new Cc(br(e.latitude),br(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=uu(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){const t=Ga(e);return new Zi(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=D.fromString(e);In(Kl(o));const u=new gs(o.get(1),o.get(3)),p=new k(o.popFirst(5));return u.isEqual(t)||nr(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function Jc(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Pp extends am{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,t)}}class jo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ic extends Yc{constructor(e,t,o,u,p,_){super(e,t,o,u,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Gd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Xc extends Ic{data(e={}){return super.data(e)}}class ea{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new jo(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Xc(this._firestore,this._userDataWriter,o.key,o,new jo(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new zt(Dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let p=0;return o._snapshot.docChanges.map(_=>({type:"added",doc:new Xc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new jo(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:p++}))}{let p=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(_=>u||3!==_.type).map(_=>{const S=new Xc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new jo(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let j=-1,Z=-1;return 0!==_.type&&(j=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),1!==_.type&&(p=p.add(_.doc),Z=p.indexOf(_.doc.key)),{type:Vl(_.type),doc:S,oldIndex:j,newIndex:Z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Vl(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pn()}}function Ul(r,e){return r instanceof Ic&&e instanceof Ic?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof ea&&e instanceof ea&&r._firestore===e._firestore&&Vh(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function lm(r){r=Ki(r,Hr);const e=Ki(r.firestore,ss);return wy(Us(e),r._key).then(t=>Np(e,r,t))}class Du extends am{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,t)}}function ky(r){r=Ki(r,Hr);const e=Ki(r.firestore,ss),t=Us(e),o=new Du(e);return function Wg(r,e){const t=new pr;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(u,p,_){try{const S=yield function(j,Z){const me=hn(j);return me.persistence.runTransaction("read document","readonly",He=>me.localDocuments.getDocument(He,Z))}(u,p);S.isFoundDocument()?_.resolve(S):S.isNoDocument()?_.resolve(null):_.reject(new zt(Dt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const j=gc(S,`Failed to get document '${p} from cache`);_.reject(j)}}),function(u,p,_){return o.apply(this,arguments)})(yield jh(r),e,t);var o})),t.promise}(t,r._key).then(u=>new Ic(e,o,r._key,u,new jo(null!==u&&u.hasLocalMutations,!0),r.converter))}function Fy(r){r=Ki(r,Hr);const e=Ki(r.firestore,ss);return wy(Us(e),r._key,{source:"server"}).then(t=>Np(e,r,t))}function Vy(r){r=Ki(r,Vs);const e=Ki(r.firestore,ss),t=Us(e),o=new Du(e);return Ip(r._query),wc(t,r._query).then(u=>new ea(e,o,r,u))}function Uy(r){r=Ki(r,Vs);const e=Ki(r.firestore,ss),t=Us(e),o=new Du(e);return function Cy(r,e){const t=new pr;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(u,p,_){try{const S=yield kl(u,p,!0),j=new zf(p,S.Hi),Z=j.Wu(S.documents),me=j.applyChanges(Z,!1);_.resolve(me.snapshot)}catch(S){const j=gc(S,`Failed to execute query '${p} against cache`);_.reject(j)}}),function(u,p,_){return o.apply(this,arguments)})(yield jh(r),e,t);var o})),t.promise}(t,r._query).then(u=>new ea(e,o,r,u))}function Rp(r){r=Ki(r,Vs);const e=Ki(r.firestore,ss),t=Us(e),o=new Du(e);return wc(t,r._query,{source:"server"}).then(u=>new ea(e,o,r,u))}function zd(r,e,t){r=Ki(r,Hr);const o=Ki(r.firestore,ss),u=Jc(r.converter,e,t);return Iu(o,[Kc(Wu(o),"setDoc",r._key,u,null!==r.converter,t).toMutation(r._key,Lr.none())])}function By(r,e,t,...o){r=Ki(r,Hr);const u=Ki(r.firestore,ss),p=Wu(u);let _;return _="string"==typeof(e=(0,ve.m9)(e))||e instanceof su?Ud(p,"updateDoc",r._key,e,t,o):$h(p,"updateDoc",r._key,e),Iu(u,[_.toMutation(r._key,Lr.exists(!0))])}function um(r){return Iu(Ki(r.firestore,ss),[new de(r._key,Lr.none())])}function Hy(r,e){const t=Ki(r.firestore,ss),o=lp(r),u=Jc(r.converter,e);return Iu(t,[Kc(Wu(r.firestore),"addDoc",o._key,u,null!==r.converter,{}).toMutation(o._key,Lr.exists(!1))]).then(()=>o)}function cm(r,...e){var t,o,u;r=(0,ve.m9)(r);let p={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||Zc(e[_])||(p=e[_],_++);const S={includeMetadataChanges:p.includeMetadataChanges};if(Zc(e[_])){const He=e[_];e[_]=null===(t=He.next)||void 0===t?void 0:t.bind(He),e[_+1]=null===(o=He.error)||void 0===o?void 0:o.bind(He),e[_+2]=null===(u=He.complete)||void 0===u?void 0:u.bind(He)}let j,Z,me;if(r instanceof Hr)Z=Ki(r.firestore,ss),me=du(r._key.path),j={next:He=>{e[_]&&e[_](Np(Z,r,He))},error:e[_+1],complete:e[_+2]};else{const He=Ki(r,Vs);Z=Ki(He.firestore,ss),me=He._query;const yt=new Du(Z);j={next:jt=>{e[_]&&e[_](new ea(Z,yt,He,jt))},error:e[_+1],complete:e[_+2]},Ip(r._query)}return function(He,yt,jt,en){const An=new Pd(en),Nn=new xh(yt,An,jt);return He.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return Tg(yield Ld(He),Nn)})),()=>{An.bc(),He.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return Sh(yield Ld(He),Nn)}))}}(Us(Z),me,S,j)}function dm(r,e){return function Ty(r,e){const t=new Pd(e);return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return o=yield Ld(r),u=t,hn(o).Ru.add(u),void u.next();var o,u})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return o=yield Ld(r),u=t,void hn(o).Ru.delete(u);var o,u}))}}(Us(r=Ki(r,ss)),Zc(e)?e:{next:e})}function Iu(r,e){return function(t,o){const u=new pr;return t.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function tu(r,e,t){return Ad.apply(this,arguments)}(yield Nd(t),o,u)})),u.promise}(Us(r),e)}function Np(r,e,t){const o=t.docs.get(e._key),u=new Du(r);return new Ic(r,u,e._key,o,new jo(t.hasPendingWrites,t.fromCache),e.converter)}const Lp={maxAttempts:5};class Wd{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wu(e)}set(e,t,o){this._verifyNotCommitted();const u=au(e,this._firestore),p=Jc(u.converter,t,o),_=Kc(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,o);return this._mutations.push(_.toMutation(u._key,Lr.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const p=au(e,this._firestore);let _;return _="string"==typeof(t=(0,ve.m9)(t))||t instanceof su?Ud(this._dataReader,"WriteBatch.update",p._key,t,o,u):$h(this._dataReader,"WriteBatch.update",p._key,t),this._mutations.push(_.toMutation(p._key,Lr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=au(e,this._firestore);return this._mutations=this._mutations.concat(new de(t._key,Lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new zt(Dt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function au(r,e){if((r=(0,ve.m9)(r)).firestore!==e)throw new zt(Dt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class kp extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Wu(e)}get(e){const t=au(e,this._firestore),o=new Pp(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return Pn();const p=u[0];if(p.isFoundDocument())return new Yc(this._firestore,o,p.key,p,t.converter);if(p.isNoDocument())return new Yc(this._firestore,o,t._key,null,t.converter);throw Pn()})}set(e,t,o){const u=au(e,this._firestore),p=Jc(u.converter,t,o),_=Kc(this._dataReader,"Transaction.set",u._key,p,null!==u.converter,o);return this._transaction.set(u._key,_),this}update(e,t,o,...u){const p=au(e,this._firestore);let _;return _="string"==typeof(t=(0,ve.m9)(t))||t instanceof su?Ud(this._dataReader,"Transaction.update",p._key,t,o,u):$h(this._dataReader,"Transaction.update",p._key,t),this._transaction.update(p._key,_),this}delete(e){const t=au(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=au(e,this._firestore),o=new Du(this._firestore);return super.get(e).then(u=>new Ic(this._firestore,o,t._key,u._document,new jo(!1,!1),t.converter))}}function hm(r,e,t){r=Ki(r,ss);const o=Object.assign(Object.assign({},Lp),t);return function(u){if(u.maxAttempts<1)throw new zt(Dt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,p,_){const S=new pr;return u.asyncQueue.enqueueAndForget((0,f.Z)(function*(){const j=yield function Gg(r){return Hh(r).then(e=>e.datastore)}(u);new _y(u.asyncQueue,j,_,p,S).run()})),S.promise}(Us(r),u=>e(new kp(r,u)),o)}function fm(){return new qc("deleteField")}function pm(){return new Vd("serverTimestamp")}function gm(...r){return new em("arrayUnion",r)}function mm(...r){return new Sy("arrayRemove",r)}function ym(r){return new tm("increment",r)}!function(r,e=!0){Ds=h.SDK_VERSION,(0,h._registerComponent)(new G.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const p=t.getProvider("app").getImmediate(),_=new ss(new fs(t.getProvider("auth-internal")),new is(t.getProvider("app-check-internal")),function(S,j){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new zt(Dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gs(S.options.projectId,j)}(p,o),p);return u=Object.assign({useFetchStreams:e},u),_._setSettings(u),_},"PUBLIC").setMultipleInstances(!0)),(0,h.registerVersion)(lu,"3.7.3",r),(0,h.registerVersion)(lu,"3.7.3","esm2017")}()},2090:(Qt,We,x)=>{x.d(We,{$s:()=>_e,BH:()=>mt,G6:()=>Qe,L:()=>ce,LL:()=>Rt,Pz:()=>ft,Sg:()=>q,UG:()=>at,US:()=>Ne,ZB:()=>le,ZR:()=>qe,aH:()=>tn,b$:()=>ct,eu:()=>K,hl:()=>bt,jU:()=>ut,m9:()=>Ft,ne:()=>Ge,pd:()=>Ot,r3:()=>Si,ru:()=>ze,tV:()=>Q,uI:()=>Ve,vZ:()=>ki,w1:()=>gt,xO:()=>Ui,xb:()=>wi,z$:()=>lt,zI:()=>Je,zd:()=>vi});const Ce=function(fe){const pe=[];let Me=0;for(let ye=0;ye<fe.length;ye++){let X=fe.charCodeAt(ye);X<128?pe[Me++]=X:X<2048?(pe[Me++]=X>>6|192,pe[Me++]=63&X|128):55296==(64512&X)&&ye+1<fe.length&&56320==(64512&fe.charCodeAt(ye+1))?(X=65536+((1023&X)<<10)+(1023&fe.charCodeAt(++ye)),pe[Me++]=X>>18|240,pe[Me++]=X>>12&63|128,pe[Me++]=X>>6&63|128,pe[Me++]=63&X|128):(pe[Me++]=X>>12|224,pe[Me++]=X>>6&63|128,pe[Me++]=63&X|128)}return pe},Ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,pe){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Me=pe?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let X=0;X<fe.length;X+=3){const $=fe[X],ee=X+1<fe.length,ne=ee?fe[X+1]:0,xe=X+2<fe.length,tt=xe?fe[X+2]:0;let bn=(15&ne)<<2|tt>>6,vn=63&tt;xe||(vn=64,ee||(bn=64)),ye.push(Me[$>>2],Me[(3&$)<<4|ne>>4],Me[bn],Me[vn])}return ye.join("")},encodeString(fe,pe){return this.HAS_NATIVE_SUPPORT&&!pe?btoa(fe):this.encodeByteArray(Ce(fe),pe)},decodeString(fe,pe){return this.HAS_NATIVE_SUPPORT&&!pe?atob(fe):function(fe){const pe=[];let Me=0,ye=0;for(;Me<fe.length;){const X=fe[Me++];if(X<128)pe[ye++]=String.fromCharCode(X);else if(X>191&&X<224){const $=fe[Me++];pe[ye++]=String.fromCharCode((31&X)<<6|63&$)}else if(X>239&&X<365){const xe=((7&X)<<18|(63&fe[Me++])<<12|(63&fe[Me++])<<6|63&fe[Me++])-65536;pe[ye++]=String.fromCharCode(55296+(xe>>10)),pe[ye++]=String.fromCharCode(56320+(1023&xe))}else{const $=fe[Me++],ee=fe[Me++];pe[ye++]=String.fromCharCode((15&X)<<12|(63&$)<<6|63&ee)}}return pe.join("")}(this.decodeStringToByteArray(fe,pe))},decodeStringToByteArray(fe,pe){this.init_();const Me=pe?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let X=0;X<fe.length;){const $=Me[fe.charAt(X++)],ne=X<fe.length?Me[fe.charAt(X)]:0;++X;const tt=X<fe.length?Me[fe.charAt(X)]:64;++X;const Vt=X<fe.length?Me[fe.charAt(X)]:64;if(++X,null==$||null==ne||null==tt||null==Vt)throw Error();ye.push($<<2|ne>>4),64!==tt&&(ye.push(ne<<4&240|tt>>2),64!==Vt&&ye.push(tt<<6&192|Vt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}},ce=function(fe){return function(fe){const pe=Ce(fe);return Ne.encodeByteArray(pe,!0)}(fe).replace(/\./g,"")},Q=function(fe){try{return Ne.decodeString(fe,!0)}catch(pe){console.error("base64Decode failed: ",pe)}return null};function le(fe,pe){if(!(pe instanceof Object))return pe;switch(pe.constructor){case Date:return new Date(pe.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return pe}for(const Me in pe)!pe.hasOwnProperty(Me)||!De(Me)||(fe[Me]=le(fe[Me],pe[Me]));return fe}function De(fe){return"__proto__"!==fe}function lt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function at(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(fe){return!1}}function ut(){return"object"==typeof self&&self.self===self}function ze(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gt(){const fe=lt();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function Qe(){return!at()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bt(){return"object"==typeof indexedDB}function K(){return new Promise((fe,pe)=>{try{let Me=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(ye);X.onsuccess=()=>{X.result.close(),Me||self.indexedDB.deleteDatabase(ye),fe(!0)},X.onupgradeneeded=()=>{Me=!1},X.onerror=()=>{var $;pe((null===($=X.error)||void 0===$?void 0:$.message)||"")}}catch(Me){pe(Me)}})}function Je(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const it=()=>{try{return function nt(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if("undefined"==typeof document)return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Me){return}const pe=fe&&Q(fe[1]);return pe&&JSON.parse(pe)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},tn=()=>{var fe;return null===(fe=it())||void 0===fe?void 0:fe.config},ft=fe=>{var pe;return null===(pe=it())||void 0===pe?void 0:pe[`_${fe}`]};class mt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((pe,Me)=>{this.resolve=pe,this.reject=Me})}wrapCallback(pe){return(Me,ye)=>{Me?this.reject(Me):this.resolve(ye),"function"==typeof pe&&(this.promise.catch(()=>{}),1===pe.length?pe(Me):pe(Me,ye))}}}function q(fe,pe){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=pe||"demo-project",X=fe.iat||0,$=fe.sub||fe.user_id;if(!$)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:X,exp:X+3600,auth_time:X,sub:$,user_id:$,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(ee)),""].join(".")}class qe extends Error{constructor(pe,Me,ye){super(Me),this.code=pe,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rt.prototype.create)}}class Rt{constructor(pe,Me,ye){this.service=pe,this.serviceName=Me,this.errors=ye}create(pe,...Me){const ye=Me[0]||{},X=`${this.service}/${pe}`,$=this.errors[pe],ee=$?function Ht(fe,pe){return fe.replace(nn,(Me,ye)=>{const X=pe[ye];return null!=X?String(X):`<${ye}?>`})}($,ye):"Error";return new qe(X,`${this.serviceName}: ${ee} (${X}).`,ye)}}const nn=/\{\$([^}]+)}/g;function Si(fe,pe){return Object.prototype.hasOwnProperty.call(fe,pe)}function wi(fe){for(const pe in fe)if(Object.prototype.hasOwnProperty.call(fe,pe))return!1;return!0}function ki(fe,pe){if(fe===pe)return!0;const Me=Object.keys(fe),ye=Object.keys(pe);for(const X of Me){if(!ye.includes(X))return!1;const $=fe[X],ee=pe[X];if(ni($)&&ni(ee)){if(!ki($,ee))return!1}else if($!==ee)return!1}for(const X of ye)if(!Me.includes(X))return!1;return!0}function ni(fe){return null!==fe&&"object"==typeof fe}function Ui(fe){const pe=[];for(const[Me,ye]of Object.entries(fe))Array.isArray(ye)?ye.forEach(X=>{pe.push(encodeURIComponent(Me)+"="+encodeURIComponent(X))}):pe.push(encodeURIComponent(Me)+"="+encodeURIComponent(ye));return pe.length?"&"+pe.join("&"):""}function vi(fe){const pe={};return fe.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[X,$]=ye.split("=");pe[decodeURIComponent(X)]=decodeURIComponent($)}}),pe}function Ot(fe){const pe=fe.indexOf("?");if(!pe)return"";const Me=fe.indexOf("#",pe);return fe.substring(pe,Me>0?Me:void 0)}function Ge(fe,pe){const Me=new Ut(fe,pe);return Me.subscribe.bind(Me)}class Ut{constructor(pe,Me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Me,this.task.then(()=>{pe(this)}).catch(ye=>{this.error(ye)})}next(pe){this.forEachObserver(Me=>{Me.next(pe)})}error(pe){this.forEachObserver(Me=>{Me.error(pe)}),this.close(pe)}complete(){this.forEachObserver(pe=>{pe.complete()}),this.close()}subscribe(pe,Me,ye){let X;if(void 0===pe&&void 0===Me&&void 0===ye)throw new Error("Missing Observer.");X=function Nt(fe,pe){if("object"!=typeof fe||null===fe)return!1;for(const Me of pe)if(Me in fe&&"function"==typeof fe[Me])return!0;return!1}(pe,["next","error","complete"])?pe:{next:pe,error:Me,complete:ye},void 0===X.next&&(X.next=Zt),void 0===X.error&&(X.error=Zt),void 0===X.complete&&(X.complete=Zt);const $=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(ee){}}),this.observers.push(X),$}unsubscribeOne(pe){void 0===this.observers||void 0===this.observers[pe]||(delete this.observers[pe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(pe){if(!this.finalized)for(let Me=0;Me<this.observers.length;Me++)this.sendOne(Me,pe)}sendOne(pe,Me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[pe])try{Me(this.observers[pe])}catch(ye){"undefined"!=typeof console&&console.error&&console.error(ye)}})}close(pe){this.finalized||(this.finalized=!0,void 0!==pe&&(this.finalError=pe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zt(){}function _e(fe,pe=1e3,Me=2){const ye=pe*Math.pow(Me,fe),X=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+X)}function Ft(fe){return fe&&fe._delegate?fe._delegate:fe}},5089:(Qt,We,x)=>{x.d(We,{e:()=>Ne});var f=x(1135),h=x(4004),G=x(5e3),Ce=x(4965),ve=x(520);let Ne=(()=>{class Ee{constructor(Q,J){this.glopalService=Q,this.http=J,this.arealoading=!1,this.addressesLoading=!1,this.userProfile=new f.X(null),this.addresses=new f.X(null),this.areas=new f.X(null)}isLogin(){return!!localStorage.getItem("joinToken")}signupu(Q){return this.http.post(`${this.glopalService.apiUrlOne}signUp`,Q)}logIn(Q){return this.http.post(`${this.glopalService.apiUrlOne}logIn`,Q)}getUserProfile(){return this.http.get(`${this.glopalService.apiUrlOne}user/getProfile`).pipe((0,h.U)(Q=>Q.payload)).subscribe(Q=>this.userProfile.next(Q))}updateUserProfile(Q){return this.http.post(`${this.glopalService.apiUrlOne}user/updateProfile`,Q)}getAllAreas(){return this.arealoading=!0,this.http.get(`${this.glopalService.apiUrlOne}areaList`).pipe((0,h.U)(Q=>Q.payload)).subscribe(Q=>{this.areas.next(Q),this.arealoading=!1})}getAddress(Q){return this.addressesLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/list_address`,{user_id:Q}).pipe((0,h.U)(J=>J.payload)).subscribe(J=>{this.addresses.next(J),this.addressesLoading=!1})}addAddress(Q){return this.http.post(`${this.glopalService.apiUrlOne}user/add_address`,Q)}deleteAddress(Q){return this.http.post(`${this.glopalService.apiUrlOne}user/delete_address`,{address_id:Q})}updateAddres(Q){return this.http.post(`${this.glopalService.apiUrlOne}user/edit_address`,Q)}resetPassword(Q){return this.http.post(`${this.glopalService.apiUrlOne}resetPassword`,Q)}}return Ee.\u0275fac=function(Q){return new(Q||Ee)(G.LFG(Ce.W),G.LFG(ve.eN))},Ee.\u0275prov=G.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})()},2169:(Qt,We,x)=>{x.d(We,{Y:()=>Ne});var f=x(1135),h=x(4004),G=x(5e3),Ce=x(520),ve=x(4965);let Ne=(()=>{class Ee{constructor(Q,J){this.http=Q,this.glopalService=J,this.activities=new f.X([]),this.clups=new f.X([]),this.intersts=new f.X([]),this.activitiesLoading=!0,this.clupsLoading=!0,this.interistsLoading=!1,this.ActivitiesRequestComplete=!1}getTopSliderGuest(){return this.http.post(`${this.glopalService.apiUrlOne}promoBannerOpen`,{}).pipe((0,h.U)(Q=>Array.isArray(Q.payload)?Q.payload:[]))}getTopSliderUser(){return this.http.post(`${this.glopalService.apiUrlOne}user/promoBanner`,{}).pipe((0,h.U)(Q=>Array.isArray(Q.payload)?Q.payload:[]))}getActivitiesGuest(Q){return this.activitiesLoading=!0,this.ActivitiesRequestComplete=!1,this.http.post(`${this.glopalService.apiUrlOne}getActivityListWeb`,{activity_type:"DATE",limit:10,page:Q}).pipe((0,h.U)(le=>le.payload)).subscribe(le=>{Array.isArray(le)?this.activities.next(le):this.activities.next([]),this.activitiesLoading=!1,this.ActivitiesRequestComplete=!0})}getActivitiesUser(Q){return this.activities.next([]),this.ActivitiesRequestComplete=!1,this.activitiesLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/getActivityList`,{activity_type:"DATE",limit:10,page:Q}).pipe((0,h.U)(le=>le.payload)).subscribe(le=>{Array.isArray(le)?this.activities.next(le):this.activities.next([]),this.activitiesLoading=!1,this.ActivitiesRequestComplete=!0})}getClupsGuest(){return this.clupsLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}getClubListWeb`,{}).pipe((0,h.U)(Q=>Q.payload)).subscribe(Q=>{Array.isArray(Q)?this.clups.next(Q):this.clups.next([]),this.clupsLoading=!1})}getClupsUser(){return this.clupsLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/getClubList`,{}).pipe((0,h.U)(Q=>Q.payload)).subscribe(Q=>{Array.isArray(Q)?this.clups.next(Q):this.clups.next([]),this.clupsLoading=!1})}getIntersts(){return this.intersts.next([]),this.interistsLoading=!0,this.http.get(`${this.glopalService.apiUrlOne}interestsList`).pipe((0,h.U)(Q=>Q.payload)).subscribe(Q=>{Array.isArray(Q)?this.intersts.next(Q):this.intersts.next([]),this.interistsLoading=!1})}getPopular(){return this.http.get(`${this.glopalService.apiUrlOne}mostSelling`).pipe((0,h.U)(Q=>Array.isArray(Q.payload)?Q.payload:[]))}}return Ee.\u0275fac=function(Q){return new(Q||Ee)(G.LFG(Ce.eN),G.LFG(ve.W))},Ee.\u0275prov=G.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})()},1408:(Qt,We,x)=>{x.d(We,{Z:()=>Ne});var f=x(1135),h=x(4004),G=x(5e3),Ce=x(520),ve=x(4965);let Ne=(()=>{class Ee{constructor(Q,J){this.http=Q,this.glopalService=J,this.members=new f.X(null),this.membersLoading=!1}getAllMembers(){return this.membersLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/userChildDetails`,{}).pipe((0,h.U)(Q=>{var J;return null===(J=null==Q?void 0:Q.payload)||void 0===J?void 0:J.child_data})).subscribe(Q=>{Array.isArray(Q)?this.members.next(Q):this.members.next([]),this.membersLoading=!1})}addMember(Q){return this.http.post(`${this.glopalService.apiUrlOne}user/addChild`,Q)}updateMember(Q){return this.http.post(`${this.glopalService.apiUrlOne}user/updateChild`,Q)}deleteMember(Q){return this.http.post(`${this.glopalService.apiUrlOne}user/removeChild`,{child_id:Q})}}return Ee.\u0275fac=function(Q){return new(Q||Ee)(G.LFG(Ce.eN),G.LFG(ve.W))},Ee.\u0275prov=G.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})()},3904:(Qt,We,x)=>{x.d(We,{T:()=>Ne});var f=x(1135),h=x(4004),G=x(5e3),Ce=x(520),ve=x(4965);let Ne=(()=>{class Ee{constructor(Q,J){this.http=Q,this.glopalService=J,this.notification=new f.X(null),this.loading=!1}getNotifications(){return this.loading=!0,this.http.post(`${this.glopalService.apiUrlOne}getNotificationLog`,{}).pipe((0,h.U)(Q=>Array.isArray(Q.payload)?Q.payload:[])).subscribe(Q=>{this.notification.next(Q),this.loading=!1})}deleteNotification(Q){return this.http.post(`${this.glopalService.apiUrlOne}deleteNotification`,{id:Q})}}return Ee.\u0275fac=function(Q){return new(Q||Ee)(G.LFG(Ce.eN),G.LFG(ve.W))},Ee.\u0275prov=G.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})()},9863:(Qt,We,x)=>{x.d(We,{d:()=>ve});var f=x(4004),h=x(5e3),G=x(4965),Ce=x(520);let ve=(()=>{class Ne{constructor(ce,Q){this.glopalService=ce,this.http=Q}getStoreTabs(){return this.http.get(`${this.glopalService.apiUrlTwo}categories`)}getCategoryById(ce,Q){return this.http.get(`${this.glopalService.apiUrlTwo}category/${ce}/products`,{params:{page:Q}}).pipe((0,f.U)(J=>{var le;return null===(le=null==J?void 0:J.payload)||void 0===le?void 0:le.data}))}getProductDetails(ce){return this.http.get(`${this.glopalService.apiUrlTwo}product/${ce}`).pipe((0,f.U)(Q=>({code:Q.code,payload:Q.payload})))}}return Ne.\u0275fac=function(ce){return new(ce||Ne)(h.LFG(G.W),h.LFG(Ce.eN))},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})()},4965:(Qt,We,x)=>{x.d(We,{W:()=>G});var f=x(1135),h=x(5e3);let G=(()=>{class Ce{constructor(){this.hideNavbarAndFooter=new f.X(!1),this.apiUrlOne="https://code-pirates.com/join/api/v1/",this.apiUrlTwo="https://code-pirates.com/join/api/v2/"}}return Ce.\u0275fac=function(Ne){return new(Ne||Ce)},Ce.\u0275prov=h.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},326:(Qt,We,x)=>{var f=x(2313),h=x(5e3),G=x(2094),Ce=x(8995);let ve=(()=>{class E{constructor(){}ngOnInit(){}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275cmp=h.Xpm({type:E,selectors:[["app-notfound"]],decls:5,vars:3,consts:[[1,"py-5","container","text-center",2,"min-height","100vh"],["src","assets/images/notfound-page.svg","alt","",1,"img-fluid"],[1,"text-center"]],template:function(a,g){1&a&&(h.TgZ(0,"section",0),h._UZ(1,"img",1),h.TgZ(2,"h1",2),h._uU(3),h.ALo(4,"translate"),h.qZA()()),2&a&&(h.xp6(3),h.hij(" ",h.lcZ(4,1,"notfound")," "))},pipes:[Ce.X$],styles:[""]}),E})(),Ne=(()=>{class E{constructor(a){this.router=a}canActivate(a,g){return!!localStorage.getItem("joinToken")||(this.router.navigate(["/auth/login"]),!1)}}return E.\u0275fac=function(a){return new(a||E)(h.LFG(G.F0))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const ce=[{path:"",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(5)]).then(x.bind(x,8005)).then(E=>E.HomeModule)},{path:"auth",canActivate:[(()=>{class E{constructor(a){this.router=a}canActivate(a,g){return!localStorage.getItem("joinToken")||(this.router.navigate(["/"]),!1)}}return E.\u0275fac=function(a){return new(a||E)(h.LFG(G.F0))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(410)]).then(x.bind(x,6269)).then(E=>E.AuthModule)},{path:"store",loadChildren:()=>Promise.all([x.e(466),x.e(592)]).then(x.bind(x,5718)).then(E=>E.StoreModule)},{path:"activities",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(181)]).then(x.bind(x,3181)).then(E=>E.ActivitiesModule)},{path:"activity/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(803)]).then(x.bind(x,8803)).then(E=>E.ActivityDetailsModule)},{path:"interests/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(703)]).then(x.bind(x,5703)).then(E=>E.InterstsModule)},{path:"clup/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(593)]).then(x.bind(x,8593)).then(E=>E.ClupDetailsModule)},{path:"product/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(277)]).then(x.bind(x,3277)).then(E=>E.ProductDetailsModule)},{path:"search/:str",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(998)]).then(x.bind(x,8998)).then(E=>E.SearchResultModule)},{path:"profile",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(908)]).then(x.bind(x,6908)).then(E=>E.ProfileModule)},{path:"favorite",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(356)]).then(x.bind(x,356)).then(E=>E.FavoritModule)},{path:"history",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(862)]).then(x.bind(x,862)).then(E=>E.HistoryModule)},{path:"members",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(655)]).then(x.bind(x,6655)).then(E=>E.MembersModule)},{path:"contact",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(420)]).then(x.bind(x,5420)).then(E=>E.ContactModule)},{path:"notifications",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(515)]).then(x.bind(x,7515)).then(E=>E.NotificationsModule)},{path:"cart",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(202)]).then(x.bind(x,4345)).then(E=>E.CartModule)},{path:"**",component:ve}];let Q=(()=>{class E{}return E.\u0275fac=function(a){return new(a||E)},E.\u0275mod=h.oAB({type:E}),E.\u0275inj=h.cJS({imports:[[G.Bz.forRoot(ce,{initialNavigation:"enabled",scrollPositionRestoration:"enabled",useHash:!0})],G.Bz]}),E})();var J=x(3904),le=x(1408),De=x(2169),lt=x(5089),Ve=x(9863),at=x(4965),ut=x(9808),ze=x(8274),ct=x(5351),Be=x(3075),gt=x(4941);function ge(E){return"function"==typeof E}let be=!1;const Qe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(E){if(E){const c=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+c.stack)}else be&&console.log("RxJS: Back to a better error behavior. Thank you. <3");be=E},get useDeprecatedSynchronousErrorHandling(){return be}};function bt(E){setTimeout(()=>{throw E},0)}const K={closed:!0,next(E){},error(E){if(Qe.useDeprecatedSynchronousErrorHandling)throw E;bt(E)},complete(){}},Je=Array.isArray||(E=>E&&"number"==typeof E.length),Ue=(()=>{function E(c){return Error.call(this),this.message=c?`${c.length} errors occurred during unsubscription:\n${c.map((a,g)=>`${g+1}) ${a.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=c,this}return E.prototype=Object.create(Error.prototype),E})();class et{constructor(c){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,c&&(this._ctorUnsubscribe=!0,this._unsubscribe=c)}unsubscribe(){let c;if(this.closed)return;let{_parentOrParents:a,_ctorUnsubscribe:g,_unsubscribe:T,_subscriptions:B}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof et)a.remove(this);else if(null!==a)for(let se=0;se<a.length;++se)a[se].remove(this);if(ge(T)){g&&(this._unsubscribe=void 0);try{T.call(this)}catch(se){c=se instanceof Ue?it(se.errors):[se]}}if(Je(B)){let se=-1,Te=B.length;for(;++se<Te;){const Xe=B[se];if(null!==(E=Xe)&&"object"==typeof E)try{Xe.unsubscribe()}catch(Ct){c=c||[],Ct instanceof Ue?c=c.concat(it(Ct.errors)):c.push(Ct)}}}var E;if(c)throw new Ue(c)}add(c){let a=c;if(!c)return et.EMPTY;switch(typeof c){case"function":a=new et(c);case"object":if(a===this||a.closed||"function"!=typeof a.unsubscribe)return a;if(this.closed)return a.unsubscribe(),a;if(!(a instanceof et)){const B=a;a=new et,a._subscriptions=[B]}break;default:throw new Error("unrecognized teardown "+c+" added to Subscription.")}let{_parentOrParents:g}=a;if(null===g)a._parentOrParents=this;else if(g instanceof et){if(g===this)return a;a._parentOrParents=[g,this]}else{if(-1!==g.indexOf(this))return a;g.push(this)}const T=this._subscriptions;return null===T?this._subscriptions=[a]:T.push(a),a}remove(c){const a=this._subscriptions;if(a){const g=a.indexOf(c);-1!==g&&a.splice(g,1)}}}var E;function it(E){return E.reduce((c,a)=>c.concat(a instanceof Ue?a.errors:a),[])}et.EMPTY=((E=new et).closed=!0,E);const st="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class tn extends et{constructor(c,a,g){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=K;break;case 1:if(!c){this.destination=K;break}if("object"==typeof c){c instanceof tn?(this.syncErrorThrowable=c.syncErrorThrowable,this.destination=c,c.add(this)):(this.syncErrorThrowable=!0,this.destination=new ft(this,c));break}default:this.syncErrorThrowable=!0,this.destination=new ft(this,c,a,g)}}[st](){return this}static create(c,a,g){const T=new tn(c,a,g);return T.syncErrorThrowable=!1,T}next(c){this.isStopped||this._next(c)}error(c){this.isStopped||(this.isStopped=!0,this._error(c))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(c){this.destination.next(c)}_error(c){this.destination.error(c),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:c}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=c,this}}class ft extends tn{constructor(c,a,g,T){super(),this._parentSubscriber=c;let B,se=this;ge(a)?B=a:a&&(B=a.next,g=a.error,T=a.complete,a!==K&&(se=Object.create(a),ge(se.unsubscribe)&&this.add(se.unsubscribe.bind(se)),se.unsubscribe=this.unsubscribe.bind(this))),this._context=se,this._next=B,this._error=g,this._complete=T}next(c){if(!this.isStopped&&this._next){const{_parentSubscriber:a}=this;Qe.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?this.__tryOrSetError(a,this._next,c)&&this.unsubscribe():this.__tryOrUnsub(this._next,c)}}error(c){if(!this.isStopped){const{_parentSubscriber:a}=this,{useDeprecatedSynchronousErrorHandling:g}=Qe;if(this._error)g&&a.syncErrorThrowable?(this.__tryOrSetError(a,this._error,c),this.unsubscribe()):(this.__tryOrUnsub(this._error,c),this.unsubscribe());else if(a.syncErrorThrowable)g?(a.syncErrorValue=c,a.syncErrorThrown=!0):bt(c),this.unsubscribe();else{if(this.unsubscribe(),g)throw c;bt(c)}}}complete(){if(!this.isStopped){const{_parentSubscriber:c}=this;if(this._complete){const a=()=>this._complete.call(this._context);Qe.useDeprecatedSynchronousErrorHandling&&c.syncErrorThrowable?(this.__tryOrSetError(c,a),this.unsubscribe()):(this.__tryOrUnsub(a),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(c,a){try{c.call(this._context,a)}catch(g){if(this.unsubscribe(),Qe.useDeprecatedSynchronousErrorHandling)throw g;bt(g)}}__tryOrSetError(c,a,g){if(!Qe.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{a.call(this._context,g)}catch(T){return Qe.useDeprecatedSynchronousErrorHandling?(c.syncErrorValue=T,c.syncErrorThrown=!0,!0):(bt(T),!0)}return!1}_unsubscribe(){const{_parentSubscriber:c}=this;this._context=null,this._parentSubscriber=null,c.unsubscribe()}}const Se="function"==typeof Symbol&&Symbol.observable||"@@observable";function qe(E){return E}let nn=(()=>{class E{constructor(a){this._isScalar=!1,a&&(this._subscribe=a)}lift(a){const g=new E;return g.source=this,g.operator=a,g}subscribe(a,g,T){const{operator:B}=this,se=function q(E,c,a){if(E){if(E instanceof tn)return E;if(E[st])return E[st]()}return E||c||a?new tn(E,c,a):new tn(K)}(a,g,T);if(se.add(B?B.call(se,this.source):this.source||Qe.useDeprecatedSynchronousErrorHandling&&!se.syncErrorThrowable?this._subscribe(se):this._trySubscribe(se)),Qe.useDeprecatedSynchronousErrorHandling&&se.syncErrorThrowable&&(se.syncErrorThrowable=!1,se.syncErrorThrown))throw se.syncErrorValue;return se}_trySubscribe(a){try{return this._subscribe(a)}catch(g){Qe.useDeprecatedSynchronousErrorHandling&&(a.syncErrorThrown=!0,a.syncErrorValue=g),function mt(E){for(;E;){const{closed:c,destination:a,isStopped:g}=E;if(c||g)return!1;E=a&&a instanceof tn?a:null}return!0}(a)?a.error(g):console.warn(g)}}forEach(a,g){return new(g=yn(g))((T,B)=>{let se;se=this.subscribe(Te=>{try{a(Te)}catch(Xe){B(Xe),se&&se.unsubscribe()}},B,T)})}_subscribe(a){const{source:g}=this;return g&&g.subscribe(a)}[Se](){return this}pipe(...a){return 0===a.length?this:function Ht(E){return 0===E.length?qe:1===E.length?E[0]:function(a){return E.reduce((g,T)=>T(g),a)}}(a)(this)}toPromise(a){return new(a=yn(a))((g,T)=>{let B;this.subscribe(se=>B=se,se=>T(se),()=>g(B))})}}return E.create=c=>new E(c),E})();function yn(E){if(E||(E=Qe.Promise||Promise),!E)throw new Error("no Promise impl found");return E}const Vn=(()=>{function E(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return E.prototype=Object.create(Error.prototype),E})();class Xn extends et{constructor(c,a){super(),this.subject=c,this.subscriber=a,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const c=this.subject,a=c.observers;if(this.subject=null,!a||0===a.length||c.isStopped||c.closed)return;const g=a.indexOf(this.subscriber);-1!==g&&a.splice(g,1)}}class jn extends tn{constructor(c){super(c),this.destination=c}}let li=(()=>{class E extends nn{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[st](){return new jn(this)}lift(a){const g=new Qn(this,this);return g.operator=a,g}next(a){if(this.closed)throw new Vn;if(!this.isStopped){const{observers:g}=this,T=g.length,B=g.slice();for(let se=0;se<T;se++)B[se].next(a)}}error(a){if(this.closed)throw new Vn;this.hasError=!0,this.thrownError=a,this.isStopped=!0;const{observers:g}=this,T=g.length,B=g.slice();for(let se=0;se<T;se++)B[se].error(a);this.observers.length=0}complete(){if(this.closed)throw new Vn;this.isStopped=!0;const{observers:a}=this,g=a.length,T=a.slice();for(let B=0;B<g;B++)T[B].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(a){if(this.closed)throw new Vn;return super._trySubscribe(a)}_subscribe(a){if(this.closed)throw new Vn;return this.hasError?(a.error(this.thrownError),et.EMPTY):this.isStopped?(a.complete(),et.EMPTY):(this.observers.push(a),new Xn(this,a))}asObservable(){const a=new nn;return a.source=this,a}}return E.create=(c,a)=>new Qn(c,a),E})();class Qn extends li{constructor(c,a){super(),this.destination=c,this.source=a}next(c){const{destination:a}=this;a&&a.next&&a.next(c)}error(c){const{destination:a}=this;a&&a.error&&this.destination.error(c)}complete(){const{destination:c}=this;c&&c.complete&&this.destination.complete()}_subscribe(c){const{source:a}=this;return a?this.source.subscribe(c):et.EMPTY}}class Si extends et{constructor(c,a){super()}schedule(c,a=0){return this}}let wi=(()=>{class E{constructor(a,g=E.now){this.SchedulerAction=a,this.now=g}schedule(a,g=0,T){return new this.SchedulerAction(this,a).schedule(T,g)}}return E.now=()=>Date.now(),E})();class on extends wi{constructor(c,a=wi.now){super(c,()=>on.delegate&&on.delegate!==this?on.delegate.now():a()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(c,a=0,g){return on.delegate&&on.delegate!==this?on.delegate.schedule(c,a,g):super.schedule(c,a,g)}flush(c){const{actions:a}=this;if(this.active)return void a.push(c);let g;this.active=!0;do{if(g=c.execute(c.state,c.delay))break}while(c=a.shift());if(this.active=!1,g){for(;c=a.shift();)c.unsubscribe();throw g}}}const ni=new on(class On extends Si{constructor(c,a){super(c,a),this.scheduler=c,this.work=a,this.pending=!1}schedule(c,a=0){if(this.closed)return this;this.state=c;const g=this.id,T=this.scheduler;return null!=g&&(this.id=this.recycleAsyncId(T,g,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(T,this.id,a),this}requestAsyncId(c,a,g=0){return setInterval(c.flush.bind(c,this),g)}recycleAsyncId(c,a,g=0){if(null!==g&&this.delay===g&&!1===this.pending)return a;clearInterval(a)}execute(c,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const g=this._execute(c,a);if(g)return g;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(c,a){let T,g=!1;try{this.work(c)}catch(B){g=!0,T=!!B&&B||new Error(B)}if(g)return this.unsubscribe(),T}_unsubscribe(){const c=this.id,a=this.scheduler,g=a.actions,T=g.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==T&&g.splice(T,1),null!=c&&(this.id=this.recycleAsyncId(a,c,null)),this.delay=null}}),rn={leading:!0,trailing:!1};function Fe(E,c=ni,a=rn){return g=>g.lift(new Ge(E,c,a.leading,a.trailing))}class Ge{constructor(c,a,g,T){this.duration=c,this.scheduler=a,this.leading=g,this.trailing=T}call(c,a){return a.subscribe(new Ut(c,this.duration,this.scheduler,this.leading,this.trailing))}}class Ut extends tn{constructor(c,a,g,T,B){super(c),this.duration=a,this.scheduler=g,this.leading=T,this.trailing=B,this._hasTrailingValue=!1,this._trailingValue=null}_next(c){this.throttled?this.trailing&&(this._trailingValue=c,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(It,this.duration,{subscriber:this})),this.leading?this.destination.next(c):this.trailing&&(this._trailingValue=c,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const c=this.throttled;c&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),c.unsubscribe(),this.remove(c),this.throttled=null)}}function It(E){const{subscriber:c}=E;c.clearThrottle()}function Nt(){}function Zt(E,c,a){return function(T){return T.lift(new Re(E,c,a))}}class Re{constructor(c,a,g){this.nextOrObserver=c,this.error=a,this.complete=g}call(c,a){return a.subscribe(new Oe(c,this.nextOrObserver,this.error,this.complete))}}class Oe extends tn{constructor(c,a,g,T){super(c),this._tapNext=Nt,this._tapError=Nt,this._tapComplete=Nt,this._tapError=g||Nt,this._tapComplete=T||Nt,ge(a)?(this._context=this,this._tapNext=a):a&&(this._context=a,this._tapNext=a.next||Nt,this._tapError=a.error||Nt,this._tapComplete=a.complete||Nt)}_next(c){try{this._tapNext.call(this._context,c)}catch(a){return void this.destination.error(a)}this.destination.next(c)}_error(c){try{this._tapError.call(this._context,c)}catch(a){return void this.destination.error(a)}this.destination.error(c)}_complete(){try{this._tapComplete.call(this._context)}catch(c){return void this.destination.error(c)}return this.destination.complete()}}function we(E,c){return a=>a.lift(new Ke(E,c))}class Ke{constructor(c,a){this.compare=c,this.keySelector=a}call(c,a){return a.subscribe(new wt(c,this.compare,this.keySelector))}}class wt extends tn{constructor(c,a,g){super(c),this.keySelector=g,this.hasKey=!1,"function"==typeof a&&(this.compare=a)}compare(c,a){return c===a}_next(c){let a;try{const{keySelector:T}=this;a=T?T(c):c}catch(T){return this.destination.error(T)}let g=!1;if(this.hasKey)try{const{compare:T}=this;g=T(this.key,a)}catch(T){return this.destination.error(T)}else this.hasKey=!0;g||(this.key=a,this.destination.next(c))}}class Tt{constructor(c,a){this.predicate=c,this.thisArg=a}call(c,a){return a.subscribe(new _n(c,this.predicate,this.thisArg))}}class _n extends tn{constructor(c,a,g){super(c),this.predicate=a,this.thisArg=g,this.count=0}_next(c){let a;try{a=this.predicate.call(this.thisArg,c,this.count++)}catch(g){return void this.destination.error(g)}a&&this.destination.next(c)}}var fn="undefined"!=typeof window?window:{screen:{},navigator:{}},pn=(fn.matchMedia||function(){return{matches:!1}}).bind(fn),W=!1,_e=function(){};fn.addEventListener&&fn.addEventListener("p",_e,{get passive(){return W=!0}}),fn.removeEventListener&&fn.removeEventListener("p",_e,!1);var Le=W,Ft="ontouchstart"in fn,ye=(Ft||"TouchEvent"in fn&&pn("(any-pointer: coarse)"),fn.navigator.userAgent||"");pn("(pointer: coarse)").matches&&/iPad|Macintosh/.test(ye)&&Math.min(fn.screen.width||0,fn.screen.height||0);(pn("(pointer: coarse)").matches||!pn("(pointer: fine)").matches&&Ft)&&/Windows.*Firefox/.test(ye),pn("(any-pointer: fine)").matches||pn("(any-hover: hover)");const tt=["tooltipTemplate"],kt=["leftOuterSelectionBar"],Vt=["rightOuterSelectionBar"],bn=["fullBar"],vn=["selectionBar"],Cn=["minHandle"],_i=["maxHandle"],Ti=["floorLabel"],Di=["ceilLabel"],Cr=["minHandleLabel"],xi=["maxHandleLabel"],qt=["combinedLabel"],Yn=["ticksElement"];function mi(E,c){if(1&E&&h._UZ(0,"ngx-slider-tooltip-wrapper",31),2&E){const a=h.oxw().$implicit,g=h.oxw();h.Q6J("template",g.tooltipTemplate)("tooltip",a.valueTooltip)("placement",a.valueTooltipPlacement)("content",a.value)}}function zi(E,c){if(1&E&&h._UZ(0,"span",32),2&E){const a=h.oxw().$implicit;h.Q6J("innerHTML",a.legend,h.oJD)}}const vr=function(E){return{"ngx-slider-selected":E}};function Wi(E,c){if(1&E&&(h.TgZ(0,"span",27),h._UZ(1,"ngx-slider-tooltip-wrapper",28),h.YNc(2,mi,1,4,"ngx-slider-tooltip-wrapper",29),h.YNc(3,zi,1,1,"span",30),h.qZA()),2&E){const a=c.$implicit,g=h.oxw();h.Q6J("ngClass",h.VKq(7,vr,a.selected))("ngStyle",a.style),h.xp6(1),h.Q6J("template",g.tooltipTemplate)("tooltip",a.tooltip)("placement",a.tooltipPlacement),h.xp6(1),h.Q6J("ngIf",null!=a.value),h.xp6(1),h.Q6J("ngIf",null!=a.legend)}}function or(E,c){}function oi(E,c){1&E&&h.YNc(0,or,0,0,"ng-template")}const Tr=function(E,c,a){return{tooltip:E,placement:c,content:a}};function Ii(E,c){if(1&E&&(h.ynx(0),h.YNc(1,oi,1,0,null,1),h.BQk()),2&E){const a=h.oxw();h.xp6(1),h.Q6J("ngTemplateOutlet",a.template)("ngTemplateOutletContext",h.kEZ(2,Tr,a.tooltip,a.placement,a.content))}}function Ln(E,c){if(1&E&&(h.ynx(0),h.TgZ(1,"div",2),h._uU(2),h.qZA(),h.BQk()),2&E){const a=h.oxw();h.xp6(1),h.uIk("title",a.tooltip)("data-tooltip-placement",a.placement),h.xp6(1),h.hij(" ",a.content," ")}}const Oi={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};Oi[Oi.Low]="Low",Oi[Oi.High]="High",Oi[Oi.Floor]="Floor",Oi[Oi.Ceil]="Ceil",Oi[Oi.TickValue]="TickValue";class Bi{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.getStepLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.rotate=0,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel="ngx-slider",this.ariaLabelledBy=null,this.ariaLabelHigh="ngx-slider-max",this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const gn={Min:0,Max:1};gn[gn.Min]="Min",gn[gn.Max]="Max";class rr{}class At{static isNullOrUndefined(c){return null==c}static areArraysEqual(c,a){if(c.length!==a.length)return!1;for(let g=0;g<c.length;++g)if(c[g]!==a[g])return!1;return!0}static linearValueToPosition(c,a,g){return(c-a)/(g-a)}static logValueToPosition(c,a,g){return((c=Math.log(c))-(a=Math.log(a)))/((g=Math.log(g))-a)}static linearPositionToValue(c,a,g){return c*(g-a)+a}static logPositionToValue(c,a,g){return a=Math.log(a),g=Math.log(g),Math.exp(c*(g-a)+a)}static findStepIndex(c,a){const g=a.map(B=>Math.abs(c-B.value));let T=0;for(let B=0;B<a.length;B++)g[B]!==g[T]&&g[B]<g[T]&&(T=B);return T}}class ar{static isTouchEvent(c){return void 0!==window.TouchEvent?c instanceof TouchEvent:void 0!==c.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class Ci{static roundToPrecisionLimit(c,a){return+c.toPrecision(a)}static isModuloWithinPrecisionLimit(c,a,g){const T=Math.pow(10,-g);return Math.abs(c%a)<=T||Math.abs(Math.abs(c%a)-a)<=T}static clampToRange(c,a,g){return Math.min(Math.max(c,a),g)}}class Dr{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class Ei{constructor(c){this.renderer=c}attachPassiveEventListener(c,a,g,T){if(!0!==Le)return this.attachEventListener(c,a,g,T);const B=new Dr;B.eventName=a,B.events=new li;const se=Te=>{B.events.next(Te)};return c.addEventListener(a,se,{passive:!0,capture:!1}),B.teardownCallback=()=>{c.removeEventListener(a,se,{passive:!0,capture:!1})},B.eventsSubscription=B.events.pipe(At.isNullOrUndefined(T)?Zt(()=>{}):Fe(T,void 0,{leading:!0,trailing:!0})).subscribe(Te=>{g(Te)}),B}detachEventListener(c){At.isNullOrUndefined(c.eventsSubscription)||(c.eventsSubscription.unsubscribe(),c.eventsSubscription=null),At.isNullOrUndefined(c.events)||(c.events.complete(),c.events=null),At.isNullOrUndefined(c.teardownCallback)||(c.teardownCallback(),c.teardownCallback=null)}attachEventListener(c,a,g,T){const B=new Dr;return B.eventName=a,B.events=new li,B.teardownCallback=this.renderer.listen(c,a,Te=>{B.events.next(Te)}),B.eventsSubscription=B.events.pipe(At.isNullOrUndefined(T)?Zt(()=>{}):Fe(T,void 0,{leading:!0,trailing:!0})).subscribe(Te=>{g(Te)}),B}}let $r=(()=>{class E{constructor(a,g,T){this.elemRef=a,this.renderer=g,this.changeDetectionRef=T,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this._rotate=0,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.transform="",this.eventListeners=[],this.eventListenerHelper=new Ei(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}get rotate(){return this._rotate}setAlwaysHide(a){this._alwaysHide=a,this.visibility=a?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(a){this._vertical=a,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(a){this._scale=a}setRotate(a){this._rotate=a,this.transform="rotate("+a+"deg)"}getRotate(){return this._rotate}setPosition(a){this._position!==a&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=a,this._vertical?this.bottom=Math.round(a)+"px":this.left=Math.round(a)+"px"}calculateDimension(){const a=this.getBoundingClientRect();this._dimension=this.vertical?(a.bottom-a.top)*this.scale:(a.right-a.left)*this.scale}setDimension(a){this._dimension!==a&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=a,this._vertical?this.height=Math.round(a)+"px":this.width=Math.round(a)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(a,g,T){const B=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,a,g,T);this.eventListeners.push(B)}onPassive(a,g,T){const B=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,a,g,T);this.eventListeners.push(B)}off(a){let g,T;At.isNullOrUndefined(a)?(g=[],T=this.eventListeners):(g=this.eventListeners.filter(B=>B.eventName!==a),T=this.eventListeners.filter(B=>B.eventName===a));for(const B of T)this.eventListenerHelper.detachEventListener(B);this.eventListeners=g}isRefDestroyed(){return At.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO))},E.\u0275dir=h.lG2({type:E,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(a,g){2&a&&h.Udp("opacity",g.opacity)("visibility",g.visibility)("left",g.left)("bottom",g.bottom)("height",g.height)("width",g.width)("transform",g.transform)}}),E})(),Vr=(()=>{class E extends $r{constructor(a,g,T){super(a,g,T),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO))},E.\u0275dir=h.lG2({type:E,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(a,g){2&a&&(h.uIk("role",g.role)("tabindex",g.tabindex)("aria-orientation",g.ariaOrientation)("aria-label",g.ariaLabel)("aria-labelledby",g.ariaLabelledBy)("aria-valuenow",g.ariaValueNow)("aria-valuetext",g.ariaValueText)("aria-valuemin",g.ariaValueMin)("aria-valuemax",g.ariaValueMax),h.ekj("ngx-slider-active",g.active))},features:[h.qOj]}),E})(),Xi=(()=>{class E extends $r{constructor(a,g,T){super(a,g,T),this._value=null}get value(){return this._value}setValue(a){let g=!1;!this.alwaysHide&&(At.isNullOrUndefined(this.value)||this.value.length!==a.length||this.value.length>0&&0===this.dimension)&&(g=!0),this._value=a,this.elemRef.nativeElement.innerHTML=a,g&&this.calculateDimension()}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO))},E.\u0275dir=h.lG2({type:E,selectors:[["","ngxSliderLabel",""]],features:[h.qOj]}),E})();class Ir{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class Gr{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class zr{static compare(c,a){return!(At.isNullOrUndefined(c)&&At.isNullOrUndefined(a)||At.isNullOrUndefined(c)!==At.isNullOrUndefined(a))&&c.value===a.value&&c.highValue===a.highValue}}class os extends zr{static compare(c,a){return!(At.isNullOrUndefined(c)&&At.isNullOrUndefined(a)||At.isNullOrUndefined(c)!==At.isNullOrUndefined(a))&&c.value===a.value&&c.highValue===a.highValue&&c.forceChange===a.forceChange}}const Wr={provide:Be.JU,useExisting:(0,h.Gpc)(()=>_s),multi:!0};let _s=(()=>{class E{constructor(a,g,T,B){this.renderer=a,this.elementRef=g,this.changeDetectionRef=T,this.zone=B,this.value=null,this.valueChange=new h.vpe,this.highValue=null,this.highValueChange=new h.vpe,this.options=new Bi,this.userChangeStart=new h.vpe,this.userChange=new h.vpe,this.userChangeEnd=new h.vpe,this.initHasRun=!1,this.inputModelChangeSubject=new li,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new li,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new Bi,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new Gr,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.sliderElementAriaLabel="ngx-slider",this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new Ei(this.renderer)}set manualRefresh(a){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=a.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(a){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=a.subscribe(g=>{this.focusPointer(g)})}get range(){return!At.isNullOrUndefined(this.value)&&!At.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new Bi,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(a){!At.isNullOrUndefined(a.options)&&JSON.stringify(a.options.previousValue)!==JSON.stringify(a.options.currentValue)&&this.onChangeOptions(),(!At.isNullOrUndefined(a.value)||!At.isNullOrUndefined(a.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(a){a instanceof Array?(this.value=a[0],this.highValue=a[1]):this.value=a,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(a){this.onChangeCallback=a}registerOnTouched(a){this.onTouchedCallback=a}setDisabledState(a){this.viewOptions.disabled=a,this.updateDisabledState()}setAriaLabel(a){this.viewOptions.ariaLabel=a,this.updateAriaLabel()}onResize(a){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(we(os.compare),function Mt(E,c){return function(g){return g.lift(new Tt(E,c))}}(a=>!a.forceChange&&!a.internalChange)).subscribe(a=>this.applyInputModelChange(a))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(we(os.compare)).subscribe(a=>this.publishOutputModelChange(a))}subscribeResizeObserver(){ar.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){ar.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){At.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){At.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){At.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){At.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){At.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){At.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(a){return a===gn.Min?this.minHandleElement:a===gn.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===gn.Min?this.viewLowValue:this.currentTrackingPointer===gn.Max?this.viewHighValue:null}modelValueToViewValue(a){return At.isNullOrUndefined(a)?NaN:At.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+a:At.findStepIndex(+a,this.viewOptions.stepsArray)}viewValueToModelValue(a){return At.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?a:this.getStepValue(a)}getStepValue(a){const g=this.viewOptions.stepsArray[a];return At.isNullOrUndefined(g)?NaN:g.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(a){const g=this.normaliseModelValues(a),T=!zr.compare(a,g);T&&(this.value=g.value,this.highValue=g.highValue),this.viewLowValue=this.modelValueToViewValue(g.value),this.viewHighValue=this.range?this.modelValueToViewValue(g.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:g.value,highValue:g.highValue,forceChange:T,userEventInitiated:!1})}publishOutputModelChange(a){const g=()=>{this.valueChange.emit(a.value),this.range&&this.highValueChange.emit(a.highValue),At.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[a.value,a.highValue]:a.value),At.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[a.value,a.highValue]:a.value)};a.userEventInitiated?(g(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{g()})}normaliseModelValues(a){const g=new zr;if(g.value=a.value,g.highValue=a.highValue,!At.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const T=At.findStepIndex(g.value,this.viewOptions.stepsArray);if(g.value=this.viewOptions.stepsArray[T].value,this.range){const B=At.findStepIndex(g.highValue,this.viewOptions.stepsArray);g.highValue=this.viewOptions.stepsArray[B].value}}return g}if(this.viewOptions.enforceStep&&(g.value=this.roundStep(g.value),this.range&&(g.highValue=this.roundStep(g.highValue))),this.viewOptions.enforceRange&&(g.value=Ci.clampToRange(g.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(g.highValue=Ci.clampToRange(g.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&a.value>a.highValue))if(this.viewOptions.noSwitching)g.value=g.highValue;else{const T=a.value;g.value=a.highValue,g.highValue=T}return g}renormaliseModelValues(){const a={value:this.value,highValue:this.highValue},g=this.normaliseModelValues(a);zr.compare(g,a)||(this.value=g.value,this.highValue=g.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const a=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const g=this.getOptionsInfluencingEventBindings(this.viewOptions),T=!At.areArraysEqual(a,g);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(T)}applyOptions(){if(this.viewOptions=new Bi,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!At.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!At.isNullOrUndefined(this.viewOptions.tickStep)||!At.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!At.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),At.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),At.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(a,g)=>a+" - "+g),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,At.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=a=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(a):a))}applyFloorCeilOptions(){if(At.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),At.isNullOrUndefined(this.viewOptions.ceil)||At.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,At.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=a=>String(a))}resetSlider(a=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),a&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(a){a!==gn.Min&&a!==gn.Max&&(a=gn.Min),a===gn.Min?this.minHandleElement.focus():this.range&&a===gn.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){At.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const a=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(a||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(a||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(a||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const a of this.getAllSliderElements())At.isNullOrUndefined(a)||a.setVertical(this.viewOptions.vertical)}updateScale(){for(const a of this.getAllSliderElements())a.setScale(this.viewOptions.scale)}updateRotate(){for(const a of this.getAllSliderElements())a.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",At.isNullOrUndefined(this.viewOptions.ariaLabel)?At.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",At.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?At.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Oi.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Oi.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){At.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const a=this.minHandleElement.dimension;this.handleHalfDimension=a/2,At.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-a,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const a=At.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,g=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&a.reverse();const T=At.isNullOrUndefined(this.viewOptions.tickValueStep)?At.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let B=!1;const se=a.map(Te=>{let Xe=this.valueToPosition(Te);this.viewOptions.vertical&&(Xe=this.maxHandlePosition-Xe);const Ct=g+"("+Math.round(Xe)+"px)",Xt=new Ir;Xt.selected=this.isTickSelected(Te),Xt.style={"-webkit-transform":Ct,"-moz-transform":Ct,"-o-transform":Ct,"-ms-transform":Ct,transform:Ct},Xt.selected&&!At.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(Xt.style["background-color"]=this.getSelectionBarColor()),!Xt.selected&&!At.isNullOrUndefined(this.viewOptions.getTickColor)&&(Xt.style["background-color"]=this.getTickColor(Te)),At.isNullOrUndefined(this.viewOptions.ticksTooltip)||(Xt.tooltip=this.viewOptions.ticksTooltip(Te),Xt.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!At.isNullOrUndefined(T)&&Ci.isModuloWithinPrecisionLimit(Te,T,this.viewOptions.precisionLimit)&&(Xt.value=this.getDisplayValue(Te,Oi.TickValue),At.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(Xt.valueTooltip=this.viewOptions.ticksValuesTooltip(Te),Xt.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let Tn=null;if(At.isNullOrUndefined(this.viewOptions.stepsArray))At.isNullOrUndefined(this.viewOptions.getLegend)||(Tn=this.viewOptions.getLegend(Te));else{const Wn=this.viewOptions.stepsArray[Te];At.isNullOrUndefined(this.viewOptions.getStepLegend)?At.isNullOrUndefined(Wn)||(Tn=Wn.legend):Tn=this.viewOptions.getStepLegend(Wn)}return At.isNullOrUndefined(Tn)||(Xt.legend=Tn,B=!0),Xt});if(setTimeout(()=>{this.sliderElementWithLegendClass=B}),At.isNullOrUndefined(this.ticks)||this.ticks.length!==se.length)this.ticks=se;else for(let Te=0;Te<se.length;++Te)Object.assign(this.ticks[Te],se[Te]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const a=At.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,g=[],T=1+Math.floor(Ci.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/a,this.viewOptions.precisionLimit));for(let B=0;B<T;++B)g.push(Ci.roundToPrecisionLimit(this.viewOptions.floor+a*B,this.viewOptions.precisionLimit));return g}isTickSelected(a){if(!this.range)if(At.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(a>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&a<=this.viewLowValue)return!0}else{const g=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>g&&a>=g&&a<=this.viewLowValue)return!0;if(this.viewLowValue<g&&a<=g&&a>=this.viewLowValue)return!0}return!!(this.range&&a>=this.viewLowValue&&a<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Oi.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Oi.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(a,g){a===gn.Min?this.updateLowHandle(g):a===gn.Max&&this.updateHighHandle(g),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(a,g){const T=a===gn.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,B=g-T/2+this.handleHalfDimension,se=this.fullBarElement.dimension-T;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&a===gn.Min||!this.viewOptions.rightToLeft&&a===gn.Max?Math.min(B,se):Math.min(Math.max(B,0),se):B}updateLowHandle(a){this.minHandleElement.setPosition(a),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Oi.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(gn.Min,a)),At.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(gn.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(a){this.maxHandleElement.setPosition(a),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Oi.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(gn.Max,a)),At.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(gn.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let a=!1,g=!1;const T=this.isLabelBelowFloorLabel(this.minHandleLabelElement),B=this.isLabelAboveCeilLabel(this.minHandleLabelElement),se=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),Te=this.isLabelBelowFloorLabel(this.combinedLabelElement),Xe=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(T?(a=!0,this.floorLabelElement.hide()):(a=!1,this.floorLabelElement.show()),B?(g=!0,this.ceilLabelElement.hide()):(g=!1,this.ceilLabelElement.show()),this.range){const Ct=this.combinedLabelElement.isVisible()?Xe:se,Xt=this.combinedLabelElement.isVisible()?Te:T;Ct?this.ceilLabelElement.hide():g||this.ceilLabelElement.show(),Xt?this.floorLabelElement.hide():a||this.floorLabelElement.show()}}isLabelBelowFloorLabel(a){const g=a.position,B=this.floorLabelElement.position;return this.viewOptions.rightToLeft?g+a.dimension>=B-2:g<=B+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(a){const g=a.position,B=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?g<=B+this.ceilLabelElement.dimension+2:g+a.dimension>=B-2}updateSelectionBar(){let a=0,g=0;const T=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,B=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)g=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),a=B;else if(At.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))T?(g=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),a=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(g=this.minHandleElement.position+this.handleHalfDimension,a=0);else{const se=this.viewOptions.showSelectionBarFromValue,Te=this.valueToPosition(se);(this.viewOptions.rightToLeft?this.viewLowValue<=se:this.viewLowValue>se)?(g=this.minHandleElement.position-Te,a=Te+this.handleHalfDimension):(g=Te-this.minHandleElement.position,a=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(g),this.selectionBarElement.setPosition(a),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(a),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(a+g)),this.leftOuterSelectionBarElement.setPosition(a+g)):(this.leftOuterSelectionBarElement.setDimension(a),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(a+g)),this.rightOuterSelectionBarElement.setPosition(a+g))),At.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!At.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const se=At.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),Te=se-a>0&&!T||se-a<=0&&T;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?Te?"bottom":"top":Te?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(se+g+a+(Te?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=se-a+(Te?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const se=this.getSelectionBarColor();this.barStyle={backgroundColor:se}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(a){return this.viewOptions.getPointerColor(a===gn.Max?this.highValue:this.value,a)}getTickColor(a){return this.viewOptions.getTickColor(a)}updateCombinedLabel(){let a=null;if(a=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,a){const g=this.getDisplayValue(this.viewLowValue,Oi.Low),T=this.getDisplayValue(this.viewHighValue,Oi.High),B=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(T,g):this.viewOptions.combineLabels(g,T);this.combinedLabelElement.setValue(B);const se=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(se),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(a,g){return!At.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(a=this.getStepValue(a)),this.viewOptions.translate(a,g)}roundStep(a,g){const T=At.isNullOrUndefined(g)?this.viewOptions.step:g;let B=Ci.roundToPrecisionLimit((a-this.viewOptions.floor)/T,this.viewOptions.precisionLimit);return B=Math.round(B)*T,Ci.roundToPrecisionLimit(this.viewOptions.floor+B,this.viewOptions.precisionLimit)}valueToPosition(a){let g=At.linearValueToPosition;At.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(g=At.logValueToPosition):g=this.viewOptions.customValueToPosition;let T=g(a=Ci.clampToRange(a,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return At.isNullOrUndefined(T)&&(T=0),this.viewOptions.rightToLeft&&(T=1-T),T*this.maxHandlePosition}positionToValue(a){let g=a/this.maxHandlePosition;this.viewOptions.rightToLeft&&(g=1-g);let T=At.linearPositionToValue;At.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(T=At.logPositionToValue):T=this.viewOptions.customPositionToValue;const B=T(g,this.viewOptions.floor,this.viewOptions.ceil);return At.isNullOrUndefined(B)?0:B}getEventXY(a,g){if(a instanceof MouseEvent)return this.viewOptions.vertical||0!==this.viewOptions.rotate?a.clientY:a.clientX;let T=0;const B=a.touches;if(!At.isNullOrUndefined(g))for(let se=0;se<B.length;se++)if(B[se].identifier===g){T=se;break}return this.viewOptions.vertical||0!==this.viewOptions.rotate?B[T].clientY:B[T].clientX}getEventPosition(a,g){const T=this.elementRef.nativeElement.getBoundingClientRect(),B=this.viewOptions.vertical||0!==this.viewOptions.rotate?T.bottom:T.left;let se=0;return se=this.viewOptions.vertical||0!==this.viewOptions.rotate?-this.getEventXY(a,g)+B:this.getEventXY(a,g)-B,se*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(a){if(!this.range)return gn.Min;const g=this.getEventPosition(a),T=Math.abs(g-this.minHandleElement.position),B=Math.abs(g-this.maxHandleElement.position);return T<B?gn.Min:T>B?gn.Max:this.viewOptions.rightToLeft?g>this.minHandleElement.position?gn.Min:gn.Max:g<this.minHandleElement.position?gn.Min:gn.Max}bindEvents(){const a=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",g=>this.onBarStart(null,a,g,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",g=>this.onBarStart(gn.Min,a,g,!0,!0)),this.maxHandleElement.on("mousedown",g=>this.onBarStart(gn.Max,a,g,!0,!0))):(this.minHandleElement.on("mousedown",g=>this.onStart(gn.Min,g,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",g=>this.onStart(gn.Max,g,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",g=>this.onStart(null,g,!0,!0,!0)),this.ticksElement.on("mousedown",g=>this.onStart(null,g,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",g=>this.onBarStart(null,a,g,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",g=>this.onBarStart(gn.Min,a,g,!0,!0)),this.maxHandleElement.onPassive("touchstart",g=>this.onBarStart(gn.Max,a,g,!0,!0))):(this.minHandleElement.onPassive("touchstart",g=>this.onStart(gn.Min,g,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",g=>this.onStart(gn.Max,g,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",g=>this.onStart(null,g,!0,!0,!0)),this.ticksElement.onPassive("touchstart",g=>this.onStart(null,g,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(gn.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(gn.Max)))}getOptionsInfluencingEventBindings(a){return[a.disabled,a.readOnly,a.draggableRange,a.draggableRangeOnly,a.onlyBindHandles,a.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const a of this.getAllSliderElements())At.isNullOrUndefined(a)||a.off()}onBarStart(a,g,T,B,se,Te,Xe){g?this.onDragStart(a,T,B,se):this.onStart(a,T,B,se,Te,Xe)}onStart(a,g,T,B,se,Te){g.stopPropagation(),!ar.isTouchEvent(g)&&!Le&&g.preventDefault(),this.moving=!1,this.calculateViewDimensions(),At.isNullOrUndefined(a)&&(a=this.getNearestHandle(g)),this.currentTrackingPointer=a;const Xe=this.getPointerElement(a);if(Xe.active=!0,this.viewOptions.keyboardSupport&&Xe.focus(),T){this.unsubscribeOnMove();const Ct=Xt=>this.dragging.active?this.onDragMove(Xt):this.onMove(Xt);this.onMoveEventListener=ar.isTouchEvent(g)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",Ct):this.eventListenerHelper.attachEventListener(document,"mousemove",Ct)}if(B){this.unsubscribeOnEnd();const Ct=Xt=>this.onEnd(Xt);this.onEndEventListener=ar.isTouchEvent(g)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",Ct):this.eventListenerHelper.attachEventListener(document,"mouseup",Ct)}this.userChangeStart.emit(this.getChangeContext()),ar.isTouchEvent(g)&&!At.isNullOrUndefined(g.changedTouches)&&At.isNullOrUndefined(this.touchId)&&(this.touchId=g.changedTouches[0].identifier),se&&this.onMove(g,!0),Te&&this.onEnd(g)}onMove(a,g){let T=null;if(ar.isTouchEvent(a)){const Ct=a.changedTouches;for(let Xt=0;Xt<Ct.length;Xt++)if(Ct[Xt].identifier===this.touchId){T=Ct[Xt];break}if(At.isNullOrUndefined(T))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const B=At.isNullOrUndefined(T)?this.getEventPosition(a):this.getEventPosition(a,T.identifier);let se;B<=0?se=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:B>=this.maxHandlePosition?se=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(se=this.positionToValue(B),se=g&&!At.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(se,this.viewOptions.tickStep):this.roundStep(se)),this.positionTrackingHandle(se)}onEnd(a){ar.isTouchEvent(a)&&a.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(a){const g=this.getPointerElement(a);g.on("blur",()=>this.onPointerBlur(g)),g.on("keydown",T=>this.onKeyboardEvent(T)),g.on("keyup",()=>this.onKeyUp()),g.active=!0,this.currentTrackingPointer=a,this.currentFocusPointer=a,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(a){a.off("blur"),a.off("keydown"),a.off("keyup"),a.active=!1,At.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(a){const g=this.viewOptions.ceil-this.viewOptions.floor;let T=a+this.viewOptions.step,B=a-this.viewOptions.step,se=a+g/10,Te=a-g/10;this.viewOptions.reversedControls&&(T=a-this.viewOptions.step,B=a+this.viewOptions.step,se=a-g/10,Te=a+g/10);const Xe={UP:T,DOWN:B,LEFT:B,RIGHT:T,PAGEUP:se,PAGEDOWN:Te,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(Xe.LEFT=T,Xe.RIGHT=B,(this.viewOptions.vertical||0!==this.viewOptions.rotate)&&(Xe.UP=B,Xe.DOWN=T)),Xe}onKeyboardEvent(a){const g=this.getCurrentTrackingValue(),T=At.isNullOrUndefined(a.keyCode)?a.which:a.keyCode,Xe=this.getKeyActions(g)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[T]];if(At.isNullOrUndefined(Xe)||At.isNullOrUndefined(this.currentTrackingPointer))return;a.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const Ct=Ci.clampToRange(Xe,this.viewOptions.floor,this.viewOptions.ceil),Xt=this.roundStep(Ct);if(this.viewOptions.draggableRangeOnly){const Tn=this.viewHighValue-this.viewLowValue;let Wn,fi;this.currentTrackingPointer===gn.Min?(Wn=Xt,fi=Xt+Tn,fi>this.viewOptions.ceil&&(fi=this.viewOptions.ceil,Wn=fi-Tn)):this.currentTrackingPointer===gn.Max&&(fi=Xt,Wn=Xt-Tn,Wn<this.viewOptions.floor&&(Wn=this.viewOptions.floor,fi=Wn+Tn)),this.positionTrackingBar(Wn,fi)}else this.positionTrackingHandle(Xt)}onDragStart(a,g,T,B){const se=this.getEventPosition(g);this.dragging=new Gr,this.dragging.active=!0,this.dragging.value=this.positionToValue(se),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-se:se-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?se-this.maxHandleElement.position:this.maxHandleElement.position-se,this.onStart(a,g,T,B)}getMinValue(a,g,T){const B=this.viewOptions.rightToLeft;let se=null;return se=g?T?B?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:B?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(B?a+this.dragging.lowLimit:a-this.dragging.lowLimit),this.roundStep(se)}getMaxValue(a,g,T){const B=this.viewOptions.rightToLeft;let se=null;return se=g?T?B?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:B?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:B?this.positionToValue(a+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(a-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(se)}onDragMove(a){const g=this.getEventPosition(a);let T,B,se,Te;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(T=this.dragging.lowLimit,B=this.dragging.highLimit,se=this.maxHandleElement,Te=this.minHandleElement):(T=this.dragging.highLimit,B=this.dragging.lowLimit,se=this.minHandleElement,Te=this.maxHandleElement);const Ct=g>=this.maxHandlePosition-T;let Xt,Tn;if(g<=B){if(0===se.position)return;Xt=this.getMinValue(g,!0,!1),Tn=this.getMaxValue(g,!0,!1)}else if(Ct){if(Te.position===this.maxHandlePosition)return;Tn=this.getMaxValue(g,!0,!0),Xt=this.getMinValue(g,!0,!0)}else Xt=this.getMinValue(g,!1,!1),Tn=this.getMaxValue(g,!1,!1);this.positionTrackingBar(Xt,Tn)}positionTrackingBar(a,g){!At.isNullOrUndefined(this.viewOptions.minLimit)&&a<this.viewOptions.minLimit&&(g=Ci.roundToPrecisionLimit((a=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!At.isNullOrUndefined(this.viewOptions.maxLimit)&&g>this.viewOptions.maxLimit&&(a=Ci.roundToPrecisionLimit((g=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=a,this.viewHighValue=g,this.applyViewChange(),this.updateHandles(gn.Min,this.valueToPosition(a)),this.updateHandles(gn.Max,this.valueToPosition(g))}positionTrackingHandle(a){a=this.applyMinMaxLimit(a),this.range&&(this.viewOptions.pushRange?a=this.applyPushRange(a):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===gn.Min&&a>this.viewHighValue?a=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===gn.Max&&a<this.viewLowValue&&(a=this.applyMinMaxRange(this.viewLowValue))),a=this.applyMinMaxRange(a),this.currentTrackingPointer===gn.Min&&a>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(gn.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=gn.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===gn.Max&&a<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(gn.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=gn.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==a&&(this.currentTrackingPointer===gn.Min?(this.viewLowValue=a,this.applyViewChange()):this.currentTrackingPointer===gn.Max&&(this.viewHighValue=a,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(a)),this.updateAriaAttributes())}applyMinMaxLimit(a){return!At.isNullOrUndefined(this.viewOptions.minLimit)&&a<this.viewOptions.minLimit?this.viewOptions.minLimit:!At.isNullOrUndefined(this.viewOptions.maxLimit)&&a>this.viewOptions.maxLimit?this.viewOptions.maxLimit:a}applyMinMaxRange(a){const T=Math.abs(a-(this.currentTrackingPointer===gn.Min?this.viewHighValue:this.viewLowValue));if(!At.isNullOrUndefined(this.viewOptions.minRange)&&T<this.viewOptions.minRange){if(this.currentTrackingPointer===gn.Min)return Ci.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===gn.Max)return Ci.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!At.isNullOrUndefined(this.viewOptions.maxRange)&&T>this.viewOptions.maxRange){if(this.currentTrackingPointer===gn.Min)return Ci.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===gn.Max)return Ci.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return a}applyPushRange(a){const g=this.currentTrackingPointer===gn.Min?this.viewHighValue-a:a-this.viewLowValue,T=At.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,B=this.viewOptions.maxRange;return g<T?(this.currentTrackingPointer===gn.Min?(this.viewHighValue=Ci.roundToPrecisionLimit(Math.min(a+T,this.viewOptions.ceil),this.viewOptions.precisionLimit),a=Ci.roundToPrecisionLimit(this.viewHighValue-T,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(gn.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===gn.Max&&(this.viewLowValue=Ci.roundToPrecisionLimit(Math.max(a-T,this.viewOptions.floor),this.viewOptions.precisionLimit),a=Ci.roundToPrecisionLimit(this.viewLowValue+T,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(gn.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!At.isNullOrUndefined(B)&&g>B&&(this.currentTrackingPointer===gn.Min?(this.viewHighValue=Ci.roundToPrecisionLimit(a+B,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(gn.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===gn.Max&&(this.viewLowValue=Ci.roundToPrecisionLimit(a-B,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(gn.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),a}getChangeContext(){const a=new rr;return a.pointerType=this.currentTrackingPointer,a.value=+this.value,this.range&&(a.highValue=+this.highValue),a}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(h.R0b))},E.\u0275cmp=h.Xpm({type:E,selectors:[["ngx-slider"]],contentQueries:function(a,g,T){if(1&a&&h.Suo(T,tt,5),2&a){let B;h.iGM(B=h.CRH())&&(g.tooltipTemplate=B.first)}},viewQuery:function(a,g){if(1&a&&(h.Gf(kt,5,$r),h.Gf(Vt,5,$r),h.Gf(bn,5,$r),h.Gf(vn,5,$r),h.Gf(Cn,5,Vr),h.Gf(_i,5,Vr),h.Gf(Ti,5,Xi),h.Gf(Di,5,Xi),h.Gf(Cr,5,Xi),h.Gf(xi,5,Xi),h.Gf(qt,5,Xi),h.Gf(Yn,5,$r)),2&a){let T;h.iGM(T=h.CRH())&&(g.leftOuterSelectionBarElement=T.first),h.iGM(T=h.CRH())&&(g.rightOuterSelectionBarElement=T.first),h.iGM(T=h.CRH())&&(g.fullBarElement=T.first),h.iGM(T=h.CRH())&&(g.selectionBarElement=T.first),h.iGM(T=h.CRH())&&(g.minHandleElement=T.first),h.iGM(T=h.CRH())&&(g.maxHandleElement=T.first),h.iGM(T=h.CRH())&&(g.floorLabelElement=T.first),h.iGM(T=h.CRH())&&(g.ceilLabelElement=T.first),h.iGM(T=h.CRH())&&(g.minHandleLabelElement=T.first),h.iGM(T=h.CRH())&&(g.maxHandleLabelElement=T.first),h.iGM(T=h.CRH())&&(g.combinedLabelElement=T.first),h.iGM(T=h.CRH())&&(g.ticksElement=T.first)}},hostAttrs:[1,"ngx-slider"],hostVars:8,hostBindings:function(a,g){1&a&&h.NdJ("resize",function(B){return g.onResize(B)},!1,h.Jf7),2&a&&(h.uIk("disabled",g.sliderElementDisabledAttr)("aria-label",g.sliderElementAriaLabel),h.ekj("vertical",g.sliderElementVerticalClass)("animate",g.sliderElementAnimateClass)("with-legend",g.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[h._Bn([Wr]),h.TTD],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(a,g){1&a&&(h.TgZ(0,"span",0,1),h._UZ(2,"span",2),h.qZA(),h.TgZ(3,"span",3,4),h._UZ(5,"span",2),h.qZA(),h.TgZ(6,"span",5,6),h._UZ(8,"span",2),h.qZA(),h.TgZ(9,"span",7,8),h._UZ(11,"span",9),h.qZA(),h._UZ(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),h.TgZ(26,"span",24,25),h.YNc(28,Wi,4,9,"span",26),h.qZA()),2&a&&(h.xp6(6),h.ekj("ngx-slider-transparent",g.fullBarTransparentClass),h.xp6(3),h.ekj("ngx-slider-draggable",g.selectionBarDraggableClass),h.xp6(2),h.Q6J("ngStyle",g.barStyle),h.xp6(1),h.Q6J("ngStyle",g.minPointerStyle),h.xp6(2),h.Udp("display",g.range?"inherit":"none"),h.Q6J("ngStyle",g.maxPointerStyle),h.xp6(12),h.ekj("ngx-slider-ticks-values-under",g.ticksUnderValuesClass),h.Q6J("hidden",!g.showTicks),h.xp6(2),h.Q6J("ngForOf",g.ticks))},directives:function(){return[$r,ut.PC,Vr,Xi,ut.sg,ut.mk,ds,ut.O5]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-pointer:after{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),E})(),ds=(()=>{class E{}return E.\u0275fac=function(a){return new(a||E)},E.\u0275cmp=h.Xpm({type:E,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(a,g){1&a&&(h.YNc(0,Ii,2,6,"ng-container",0),h.YNc(1,Ln,3,3,"ng-container",0)),2&a&&(h.Q6J("ngIf",g.template),h.xp6(1),h.Q6J("ngIf",!g.template))},directives:[ut.O5,ut.tP],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),E})(),Bs=(()=>{class E{}return E.\u0275fac=function(a){return new(a||E)},E.\u0275mod=h.oAB({type:E}),E.\u0275inj=h.cJS({imports:[[ut.ez]]}),E})();function er(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"li",17)(1,"input",18),h.NdJ("ngModelChange",function(T){return h.CHM(a).$implicit.selected=T}),h.qZA(),h.TgZ(2,"label",19),h._uU(3),h.qZA()()}if(2&E){const a=c.$implicit,g=c.index;h.xp6(1),h.Q6J("id",(null==a?null:a.sub_interests_name)+g)("ngModel",a.selected),h.xp6(1),h.Q6J("for",(null==a?null:a.sub_interests_name)+g),h.xp6(1),h.hij(" ",null==a?null:a.sub_interests_name," ")}}function bo(E,c){if(1&E&&(h.TgZ(0,"ul",13)(1,"li")(2,"span",14),h._uU(3),h.qZA(),h.TgZ(4,"ul",15),h.YNc(5,er,4,4,"li",16),h.qZA()()()),2&E){const a=c.$implicit;h.xp6(3),h.hij(" ",null==a?null:a.name," "),h.xp6(2),h.Q6J("ngForOf",null==a?null:a.sub_interests)}}function ot(E,c){1&E&&h._UZ(0,"i",20)}function Ye(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"li",17)(1,"input",18),h.NdJ("ngModelChange",function(T){return h.CHM(a).$implicit.selected=T}),h.qZA(),h.TgZ(2,"label",19),h._uU(3),h.qZA()()}if(2&E){const a=c.$implicit,g=c.index;h.xp6(1),h.Q6J("id",(null==a?null:a.name)+g)("ngModel",a.selected),h.xp6(1),h.Q6J("for",(null==a?null:a.name)+g),h.xp6(1),h.hij(" ",null==a?null:a.name," ")}}function pt(E,c){if(1&E&&(h.TgZ(0,"ul",13)(1,"li")(2,"span",14),h._uU(3),h.qZA(),h.TgZ(4,"ul",15),h.YNc(5,Ye,4,4,"li",16),h.qZA()()()),2&E){const a=c.$implicit;h.xp6(3),h.hij(" ",null==a?null:a.gov," "),h.xp6(2),h.Q6J("ngForOf",null==a?null:a.areas)}}function Bt(E,c){1&E&&h._UZ(0,"i",20)}function ln(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"li",17)(1,"input",18),h.NdJ("ngModelChange",function(T){return h.CHM(a).$implicit.selected=T}),h.qZA(),h.TgZ(2,"label",19),h._uU(3),h.qZA()()}if(2&E){const a=c.$implicit,g=c.index;h.xp6(1),h.Q6J("id",(null==a?null:a.child_name)+g)("ngModel",a.selected),h.xp6(1),h.Q6J("for",(null==a?null:a.child_name)+g),h.xp6(1),h.hij(" ",null==a?null:a.child_name," ")}}function En(E,c){1&E&&h._UZ(0,"i",20)}function $n(E,c){if(1&E&&(h.TgZ(0,"div",3)(1,"div")(2,"accordion",4)(3,"accordion-group",5),h.ALo(4,"translate"),h.TgZ(5,"ul",13),h.YNc(6,ln,4,4,"li",16),h.qZA(),h.TgZ(7,"div",7),h.YNc(8,En,1,0,"i",8),h.qZA()()()()()),2&E){const a=h.oxw();h.xp6(2),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(4,4,"members")),h.xp6(3),h.Q6J("ngForOf",a.members),h.xp6(2),h.Q6J("ngIf",null==a.membersservice?null:a.membersservice.membersLoading)}}let qi=(()=>{class E{constructor(a,g,T,B){this.homeService=a,this.router=g,this.membersservice=T,this.authService=B,this.interst=[],this.areas=[],this.members=[],this.rate=0,this.value=0,this.highValue=60,this.options={floor:0,ceil:60},this.value2=0,this.highValue2=3e3,this.options2={floor:0,ceil:3e3},this.closefilterpopup=new h.vpe}ngOnInit(){this.homeService.intersts.subscribe(a=>{this.interst=a,this.interst.forEach(g=>{var T;(null===(T=null==g?void 0:g.sub_interests)||void 0===T?void 0:T.length)&&(null==g||g.sub_interests.map(B=>{B.selected=!1}))})}),this.authService.areas.subscribe(a=>{a&&(this.areas=a,this.areas.forEach(g=>{var T;(null===(T=null==g?void 0:g.areas)||void 0===T?void 0:T.length)&&(null==g||g.areas.map(B=>{B.selected=!1}))}))}),this.membersservice.members.subscribe(a=>{a&&(this.members=a,this.members.forEach(g=>{g.selected=!1}))})}isLogin(){return!!localStorage.getItem("joinToken")}doneFilter(){let a=[{interests_id:[],child_id:[],area_id:[],age_from:this.value,age_to:this.highValue,price_from:this.value2,price_to:this.highValue2,rating:this.rate}];this.interst.forEach(g=>{g.sub_interests.forEach(T=>{(null==T?void 0:T.selected)&&a[0].interests_id.push(null==T?void 0:T.sub_interests_id)})}),this.areas.forEach(g=>{g.areas.forEach(T=>{(null==T?void 0:T.selected)&&a[0].area_id.push(null==T?void 0:T.id)})}),this.members.forEach(g=>{(null==g?void 0:g.selected)&&a[0].child_id.push(null==g?void 0:g.child_id)}),this.closefilterpopup.emit(!0),this.router.navigate(["/search/-1"],{queryParams:{filterbody:JSON.stringify(a)}})}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(De.Y),h.Y36(G.F0),h.Y36(le.Z),h.Y36(lt.e))},E.\u0275cmp=h.Xpm({type:E,selectors:[["app-filter"]],outputs:{closefilterpopup:"closefilterpopup"},decls:44,vars:39,consts:[[1,"container"],[2,"font-weight","400","font-size","20px","line-height","30px"],[1,"row","body"],[1,"col-lg-6","col-xl-4","mb-3"],[3,"isAnimated"],[3,"heading"],["class","list-unstyled p-0",4,"ngFor","ngForOf"],[1,"text-center"],["class","fas fa-circle-notch fa-spin",4,"ngIf"],["class","col-lg-6 col-xl-4 mb-3",4,"ngIf"],[3,"ngModel","max","ngModelChange"],[3,"value","highValue","options","valueChange","highValueChange"],[1,"orangebtn",3,"click"],[1,"list-unstyled","p-0"],[1,"d-block","rounded","text-white","p-2","mb-2",2,"background-color","#F89416"],[1,"list-unstyled","p-0","mx-2"],["class","mb-2 d-flex",4,"ngFor","ngForOf"],[1,"mb-2","d-flex"],["type","checkbox",3,"id","ngModel","ngModelChange"],[1,"mx-2",3,"for"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(a,g){1&a&&(h.TgZ(0,"div",0)(1,"h2",1),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"div",2)(5,"div",3)(6,"div")(7,"accordion",4)(8,"accordion-group",5),h.ALo(9,"translate"),h.YNc(10,bo,6,2,"ul",6),h.TgZ(11,"div",7),h.YNc(12,ot,1,0,"i",8),h.qZA()()()()(),h.TgZ(13,"div",3)(14,"div")(15,"accordion",4)(16,"accordion-group",5),h.ALo(17,"translate"),h.YNc(18,pt,6,2,"ul",6),h.TgZ(19,"div",7),h.YNc(20,Bt,1,0,"i",8),h.qZA()()()()(),h.YNc(21,$n,9,6,"div",9),h.TgZ(22,"div",3)(23,"div")(24,"accordion",4)(25,"accordion-group",5),h.ALo(26,"translate"),h.TgZ(27,"div",7)(28,"rating",10),h.NdJ("ngModelChange",function(B){return g.rate=B}),h.qZA()()()()()(),h.TgZ(29,"div",3)(30,"div")(31,"accordion",4)(32,"accordion-group",5),h.ALo(33,"translate"),h.TgZ(34,"ngx-slider",11),h.NdJ("valueChange",function(B){return g.value2=B})("highValueChange",function(B){return g.highValue2=B}),h.qZA()()()()(),h.TgZ(35,"div",3)(36,"div")(37,"accordion",4)(38,"accordion-group",5),h.ALo(39,"translate"),h.TgZ(40,"ngx-slider",11),h.NdJ("valueChange",function(B){return g.value=B})("highValueChange",function(B){return g.highValue=B}),h.qZA()()()()()(),h.TgZ(41,"button",12),h.NdJ("click",function(){return g.doneFilter()}),h._uU(42),h.ALo(43,"translate"),h.qZA()()),2&a&&(h.xp6(2),h.Oqu(h.lcZ(3,25,"Filter")),h.xp6(5),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(9,27,"categories")),h.xp6(2),h.Q6J("ngForOf",g.interst),h.xp6(2),h.Q6J("ngIf",null==g.homeService?null:g.homeService.interistsLoading),h.xp6(3),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(17,29,"area")),h.xp6(2),h.Q6J("ngForOf",g.areas),h.xp6(2),h.Q6J("ngIf",null==g.authService?null:g.authService.arealoading),h.xp6(1),h.Q6J("ngIf",g.isLogin()),h.xp6(3),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(26,31,"rating")),h.xp6(3),h.Q6J("ngModel",g.rate)("max",5),h.xp6(3),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(33,33,"price")),h.xp6(2),h.Q6J("value",g.value2)("highValue",g.highValue2)("options",g.options2),h.xp6(3),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(39,35,"age_range")),h.xp6(2),h.Q6J("value",g.value)("highValue",g.highValue)("options",g.options),h.xp6(2),h.hij(" ",h.lcZ(43,37,"search")," "))},directives:[ct.Zf,ct.U_,ut.sg,Be.Wl,Be.JJ,Be.On,ut.O5,gt.AT,_s],pipes:[Ce.X$],styles:[".accordion-toggle .btn.btn-link{color:#000!important;text-decoration:none!important}  .bs-rating-star{font-size:30px!important}"]}),E})();const Ri=function(E){return{id:E}};function as(E,c){if(1&E&&(h.TgZ(0,"div",34)(1,"a",35),h._uU(2),h.qZA()()),2&E){const a=c.$implicit,g=h.oxw(3);h.xp6(1),h.Q6J("queryParams",h.VKq(2,Ri,null==a?null:a.id)),h.xp6(1),h.hij(" ","ar"==g.lang?null==a?null:a.name_ar:null==a?null:a.name_en," ")}}function As(E,c){if(1&E&&(h.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"p",32),h._uU(4),h.ALo(5,"translate"),h.qZA(),h._UZ(6,"hr"),h.qZA(),h.YNc(7,as,3,4,"div",33),h.qZA()()),2&E){const a=h.oxw(2);h.xp6(4),h.hij(" ",h.lcZ(5,2,"categories")," "),h.xp6(3),h.Q6J("ngForOf",a.categories)}}const hr=function(){return{exact:!0}};function $o(E,c){if(1&E){const a=h.EpF();h.ynx(0),h.TgZ(1,"li",14)(2,"a",36),h.NdJ("click",function(){h.CHM(a);const T=h.oxw(2);return T.openNavbar=!T.openNavbar}),h._uU(3),h.ALo(4,"translate"),h.qZA()(),h.TgZ(5,"li",14)(6,"a",37),h.NdJ("click",function(){h.CHM(a);const T=h.oxw(2);return T.openNavbar=!T.openNavbar}),h._uU(7),h.ALo(8,"translate"),h.qZA()(),h.TgZ(9,"li",14)(10,"a",38),h.NdJ("click",function(){h.CHM(a);const T=h.oxw(2);return T.openNavbar=!T.openNavbar}),h._uU(11),h.ALo(12,"translate"),h.qZA()(),h.TgZ(13,"li",14)(14,"a",39),h.NdJ("click",function(){h.CHM(a);const T=h.oxw(2);return T.openNavbar=!T.openNavbar}),h._uU(15),h.ALo(16,"translate"),h.qZA()(),h.TgZ(17,"li",14)(18,"a",40),h._uU(19),h.ALo(20,"translate"),h.qZA()(),h.TgZ(21,"li",14)(22,"a",41),h.NdJ("click",function(){h.CHM(a);const T=h.oxw(2);return T.openNavbar=!T.openNavbar}),h._uU(23),h.ALo(24,"translate"),h.qZA()(),h.BQk()}2&E&&(h.xp6(2),h.Q6J("routerLinkActiveOptions",h.DdM(23,hr)),h.xp6(1),h.Oqu(h.lcZ(4,11,"myaccount")),h.xp6(3),h.Q6J("routerLinkActiveOptions",h.DdM(24,hr)),h.xp6(1),h.Oqu(h.lcZ(8,13,"history")),h.xp6(3),h.Q6J("routerLinkActiveOptions",h.DdM(25,hr)),h.xp6(1),h.Oqu(h.lcZ(12,15,"notifications")),h.xp6(3),h.Q6J("routerLinkActiveOptions",h.DdM(26,hr)),h.xp6(1),h.Oqu(h.lcZ(16,17,"favorite")),h.xp6(4),h.Oqu(h.lcZ(20,19,"follow")),h.xp6(3),h.Q6J("routerLinkActiveOptions",h.DdM(27,hr)),h.xp6(1),h.Oqu(h.lcZ(24,21,"contactus")))}function Zr(E,c){if(1&E&&(h.TgZ(0,"span",42),h._uU(1),h.qZA()),2&E){const a=h.oxw(2);h.xp6(1),h.Oqu(a.cartitemsCount)}}function fr(E,c){1&E&&(h.ynx(0),h.TgZ(1,"a",43),h._UZ(2,"i",44),h.qZA(),h.TgZ(3,"a",45),h._UZ(4,"i",46),h.qZA(),h.BQk())}function Go(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"ul",52)(1,"li",53),h._UZ(2,"img",54),h.qZA(),h.TgZ(3,"li",55)(4,"span",56),h._uU(5),h.ALo(6,"titlecase"),h.ALo(7,"titlecase"),h.qZA(),h.TgZ(8,"span",57),h._uU(9),h.qZA()(),h.TgZ(10,"li",58)(11,"a",59),h._UZ(12,"i",60),h._uU(13),h.ALo(14,"translate"),h.qZA()(),h.TgZ(15,"li",58)(16,"a",61),h._UZ(17,"i",62),h._uU(18),h.ALo(19,"translate"),h.qZA()(),h.TgZ(20,"li",58)(21,"a",45),h._UZ(22,"i",63),h._uU(23),h.ALo(24,"translate"),h.qZA()(),h.TgZ(25,"li",58)(26,"a",64),h._UZ(27,"i",65),h._uU(28),h.ALo(29,"translate"),h.qZA()(),h.TgZ(30,"li",58)(31,"a",40),h._UZ(32,"i",66),h._uU(33),h.ALo(34,"translate"),h.qZA()(),h.TgZ(35,"li",58)(36,"a",67),h._UZ(37,"i",68),h._uU(38),h.ALo(39,"translate"),h.qZA()(),h.TgZ(40,"li",58)(41,"a",21),h.NdJ("click",function(){return h.CHM(a),h.oxw(3).logout()}),h._UZ(42,"i",69),h._uU(43),h.ALo(44,"translate"),h.qZA()()()}if(2&E){const a=h.oxw(3);h.xp6(5),h.AsE(" ",h.lcZ(6,10,null==a.userdata?null:a.userdata.fname)," ",h.lcZ(7,12,null==a.userdata?null:a.userdata.lname)," "),h.xp6(4),h.hij(" ",null==a.userdata?null:a.userdata.email," "),h.xp6(4),h.hij(" ",h.lcZ(14,14,"myaccount")," "),h.xp6(5),h.hij(" ",h.lcZ(19,16,"history")," "),h.xp6(5),h.hij(" ",h.lcZ(24,18,"notifications")," "),h.xp6(5),h.hij(" ",h.lcZ(29,20,"favorite")," "),h.xp6(5),h.hij(" ",h.lcZ(34,22,"follow")," "),h.xp6(5),h.hij(" ",h.lcZ(39,24,"contactus")," "),h.xp6(5),h.hij(" ",h.lcZ(44,26,"logout")," ")}}function xr(E,c){if(1&E&&(h.TgZ(0,"li",47)(1,"div",48)(2,"a",49),h._uU(3),h.ALo(4,"uppercase"),h._UZ(5,"span",50),h.qZA(),h.YNc(6,Go,45,28,"ul",51),h.qZA()()),2&E){const a=h.oxw(2);h.xp6(3),h.hij(" ",h.lcZ(4,1,a.userName)," ")}}function Ss(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"li",70)(1,"a",71),h.NdJ("click",function(){return h.CHM(a),h.oxw(2).logout()}),h._uU(2),h.ALo(3,"translate"),h.qZA()()}2&E&&(h.xp6(2),h.Oqu(h.lcZ(3,1,"logout")))}function Jn(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"li",72)(1,"a",73),h.NdJ("click",function(){h.CHM(a);const T=h.oxw(2);return T.openNavbar=!T.openNavbar}),h._uU(2),h.ALo(3,"translate"),h.qZA()()}2&E&&(h.xp6(2),h.Oqu(h.lcZ(3,1,"signin")))}const Es=function(E,c){return{"padding-right":E,"padding-left":c}},xs=function(E,c){return{right:E,left:c}},hs=function(E,c){return{"d-flex":E,"d-none":c}};function Ma(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"nav")(1,"div",2)(2,"div",3)(3,"a",4),h.NdJ("click",function(){h.CHM(a);const T=h.oxw();return T.openNavbar=!T.openNavbar}),h._UZ(4,"img",5),h.qZA(),h._UZ(5,"span",6),h.TgZ(6,"div",7)(7,"input",8,9),h.NdJ("keyup.enter",function(){h.CHM(a);const T=h.MAs(8);return h.oxw().inputSearch(T.value)}),h.ALo(9,"translate"),h.qZA(),h.TgZ(10,"i",10),h.NdJ("click",function(){return h.CHM(a),h.oxw().filterPopup=!0}),h.qZA()(),h.TgZ(11,"i",11),h.NdJ("click",function(){h.CHM(a);const T=h.oxw();return T.openNavbar=!T.openNavbar}),h.qZA()(),h.TgZ(12,"ul",12)(13,"li")(14,"a",13),h.NdJ("click",function(){h.CHM(a);const T=h.oxw();return T.openNavbar=!T.openNavbar}),h._uU(15),h.ALo(16,"translate"),h.qZA()(),h.TgZ(17,"li",14)(18,"a",15),h.NdJ("click",function(){h.CHM(a);const T=h.oxw();return T.openNavbar=!T.openNavbar}),h._uU(19),h.ALo(20,"translate"),h.qZA()(),h.TgZ(21,"li",16)(22,"a",17),h.NdJ("click",function(){h.CHM(a);const T=h.oxw();return T.openNavbar=!T.openNavbar}),h._uU(23),h.ALo(24,"translate"),h.qZA(),h.YNc(25,As,8,4,"div",18),h.qZA(),h.TgZ(26,"li")(27,"a",19),h.NdJ("click",function(){h.CHM(a);const T=h.oxw();return T.openNavbar=!T.openNavbar}),h._uU(28),h.ALo(29,"translate"),h.qZA()(),h.YNc(30,$o,25,28,"ng-container",0),h.TgZ(31,"li",20)(32,"a",21),h.NdJ("click",function(){h.CHM(a);const T=h.oxw();return T.selectLang("ar"==T.lang?"en":"ar"),T.openNavbar=!T.openNavbar}),h._uU(33),h.qZA()(),h.TgZ(34,"li",20)(35,"div",22)(36,"a",23),h._UZ(37,"i",24),h.YNc(38,Zr,2,1,"span",25),h.qZA(),h.YNc(39,fr,5,0,"ng-container",0),h.qZA()(),h.YNc(40,xr,7,3,"li",26),h.YNc(41,Ss,4,3,"li",27),h.YNc(42,Jn,4,3,"li",28),h.qZA()()()}if(2&E){const a=h.oxw();h.xp6(7),h.s9C("placeholder",h.lcZ(9,18,"lets_explore")),h.Q6J("ngStyle",h.WLB(28,Es,"ar"==a.lang?"30px":"7px","ar"==a.lang?"7px":"30px")),h.xp6(3),h.Q6J("ngStyle",h.WLB(31,xs,"ar"==a.lang?"10px":"auto","ar"==a.lang?"auto":"10px")),h.xp6(2),h.Q6J("ngClass",h.WLB(34,hs,a.openNavbar,!a.openNavbar)),h.xp6(2),h.Q6J("routerLinkActiveOptions",h.DdM(37,hr)),h.xp6(1),h.Oqu(h.lcZ(16,20,"home")),h.xp6(3),h.Q6J("routerLinkActiveOptions",h.DdM(38,hr)),h.xp6(1),h.Oqu(h.lcZ(20,22,"store")),h.xp6(4),h.Oqu(h.lcZ(24,24,"store")),h.xp6(4),h.Q6J("routerLinkActiveOptions",h.DdM(39,hr)),h.xp6(1),h.Oqu(h.lcZ(29,26,"activities")),h.xp6(2),h.Q6J("ngIf",a.isLogin()),h.xp6(3),h.hij(" ","ar"==a.lang?"en":"ar",""),h.xp6(5),h.Q6J("ngIf",a.cartitemsCount),h.xp6(1),h.Q6J("ngIf",a.isLogin()),h.xp6(1),h.Q6J("ngIf",a.isLogin()),h.xp6(1),h.Q6J("ngIf",a.isLogin()),h.xp6(1),h.Q6J("ngIf",!a.isLogin())}}const zo=function(E,c){return{left:E,right:c}};function Xr(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"div",74)(1,"div",75)(2,"i",76),h.NdJ("click",function(){return h.CHM(a),h.oxw().filterPopup=!1}),h.qZA(),h.TgZ(3,"app-filter",77),h.NdJ("closefilterpopup",function(){return h.CHM(a),h.oxw().filterPopup=!1}),h.qZA()()()}if(2&E){const a=h.oxw();h.Q6J("ngClass",h.WLB(2,hs,a.filterPopup,!a.filterPopup)),h.xp6(2),h.Q6J("ngStyle",h.WLB(5,zo,"ar"==a.lang?"20px":"auto","ar"==a.lang?"auto":"20px"))}}let ta=(()=>{class E{constructor(a,g,T,B,se){this.authService=a,this.storeSerive=g,this.glopalService=T,this.router=B,this.translateService=se,this.openNavbar=!1,this.currentLang="",this.hidenave=!1,this.userName="",this.filterPopup=!1,this.userdata=null,this.categories=[],this.currentLang=localStorage.getItem("lang")||"en",this.translateService.use(this.currentLang),"ar"==this.currentLang?document.body.classList.add("custom-rtl"):document.body.classList.remove("custom-rtl")}isLogin(){return!!localStorage.getItem("joinToken")}selectLang(a){location.reload(),this.translateService.use(a),"ar"==a?document.body.classList.add("custom-rtl"):document.body.classList.remove("custom-rtl"),localStorage.setItem("lang",a)}get lang(){return localStorage.getItem("lang")||"en"}ngOnInit(){this.storeSerive.getStoreTabs().subscribe(a=>{var g;return this.categories=null===(g=null==a?void 0:a.payload)||void 0===g?void 0:g.data}),localStorage.getItem("joinToken")&&this.userName.toUpperCase(),this.authService.userProfile.subscribe(a=>{if(a){let g="",T="";(null==a?void 0:a.fname)&&(g=null==a?void 0:a.fname.slice(0,1)),(null==a?void 0:a.lname)&&(T=null==a?void 0:a.lname.slice(0,1)),this.userName=`${g}${T}`,this.userdata=a}}),this.glopalService.hideNavbarAndFooter.subscribe(a=>{this.hidenave=a})}inputSearch(a){a.trim().length>0&&this.router.navigate([`/search/${a}`])}get cartitemsCount(){let a=localStorage.getItem("joincart");return a=a?JSON.parse(a):[],null==a?void 0:a.length}logout(){localStorage.removeItem("joincart"),localStorage.removeItem("joinToken"),this.router.navigate(["/"]),location.reload()}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(lt.e),h.Y36(Ve.d),h.Y36(at.W),h.Y36(G.F0),h.Y36(Ce.sK))},E.\u0275cmp=h.Xpm({type:E,selectors:[["app-navbar"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","cstmpopup",3,"ngClass",4,"ngIf"],[1,"container","flex-column","flex-lg-row","d-flex","justify-content-lg-between","py-2","align-items-lg-center"],[1,"logo","d-flex","justify-content-between","justify-content-lg-start","align-items-center"],["routerLink","/",3,"click"],["src","assets/images/mainlogo.png","alt","join"],[1,"d-none","d-lg-block","mx-2"],[1,"position-relative"],["type","text",3,"ngStyle","placeholder","keyup.enter"],["searchInput",""],[1,"fa-solid","fa-filter","maincolor",3,"ngStyle","click"],[1,"fa-solid","fa-bars","d-lg-none",2,"cursor","pointer",3,"click"],[1,"links","main","list-unstyled","m-0","py-1","px-0","d-lg-flex","align-items-lg-center","flex-column","flex-lg-row",3,"ngClass"],["routerLinkActive","active","routerLink","/",3,"routerLinkActiveOptions","click"],[1,"d-lg-none"],["routerLinkActive","active","routerLink","/store",3,"routerLinkActiveOptions","click"],["dropdown","",1,"btn-group","d-none","d-lg-block"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",3,"click"],["id","dropdown-basic","class","dropdown-menu store ","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["routerLinkActive","active","routerLink","/activities",3,"routerLinkActiveOptions","click"],[1,"lang"],[2,"cursor","pointer",3,"click"],[1,"additionicons"],["routerLink","/cart",1,"position-relative"],[1,"fa-solid","fa-cart-shopping"],["class","cartcount",4,"ngIf"],["class","d-none d-lg-block lang position-relative subparent lang",4,"ngIf"],["style","cursor: pointer;","class","d-lg-none",4,"ngIf"],["class","lang signinbtn",4,"ngIf"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","store"],[1,"row","p-3"],[1,"col-md-12"],[1,"fw-bold","maincolor","m-0"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],["routerLink","/store",1,"p-0",3,"queryParams"],["routerLinkActive","active","routerLink","/profile",3,"routerLinkActiveOptions","click"],["routerLinkActive","active","routerLink","/history",3,"routerLinkActiveOptions","click"],["routerLinkActive","active","routerLink","/notifications",3,"routerLinkActiveOptions","click"],["routerLinkActive","active","routerLink","/favorite",3,"routerLinkActiveOptions","click"],["href","https://reach.link/Join_App","target","_blank"],["routerLinkActive","active","routerLink","/contact",3,"routerLinkActiveOptions","click"],[1,"cartcount"],["routerLink","/favorite",1,"mx-2"],[1,"fa-solid","fa-heart"],["routerLink","/notifications"],[1,"fa-solid","fa-bell"],[1,"d-none","d-lg-block","lang","position-relative","subparent","lang"],["dropdown","",1,"btn-group"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"username",2,"-webkit-user-select","none","/* safari */\n                    -ms-user-select","none","/* ie 10 and ie 11 */\n                    user-select","none"],[1,"caret"],["style","max-height: 90vh;overflow: auto;","id","dropdown-basic","class","dropdown-menu cstm","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","cstm",2,"max-height","90vh","overflow","auto"],["role","menuitem"],["src","assets/images/bg.jpg","alt","join",1,"w-100",2,"height","130px","object-fit","cover"],[1,"text-center","first"],[1,"maincolor","d-block"],[1,"text-secondary","d-block",2,"word-wrap","break-word"],["role","menuitem",1,"lang"],["routerLink","/profile"],[1,"fa-regular","fa-user","maincolor"],["routerLink","/history"],[1,"fa-regular","fa-clock","maincolor"],[1,"fa-solid","fa-bell","maincolor"],["routerLink","/favorite"],[1,"fa-solid","fa-heart","maincolor"],[1,"fa-solid","fa-headset","maincolor"],["routerLink","/contact"],[1,"fa-solid","fa-phone","maincolor"],[1,"fa-solid","fa-arrow-right-from-bracket","maincolor"],[1,"d-lg-none",2,"cursor","pointer"],[3,"click"],[1,"lang","signinbtn"],["routerLink","/auth/login",3,"click"],[1,"cstmpopup",3,"ngClass"],[1,"content"],[1,"fa-solid","fa-x",3,"ngStyle","click"],[3,"closefilterpopup"]],template:function(a,g){1&a&&(h.YNc(0,Ma,43,40,"nav",0),h.YNc(1,Xr,4,8,"div",1)),2&a&&(h.Q6J("ngIf",!g.hidenave),h.xp6(1),h.Q6J("ngIf",g.filterPopup))},directives:[ut.O5,G.yS,ut.PC,ut.mk,G.Od,ze.TO,ze.Mq,ze.Hz,ut.sg,qi],pipes:[Ce.X$,ut.gd,ut.rS],styles:['.country-dropdown{max-width:300px!important}  .swiper-button-next,   .swiper-button-prev{background:#F89416!important;color:#fff!important;border-radius:50%!important;width:40px;height:40px;text-align:center;line-height:40px}  .swiper-button-next:after,   .swiper-button-prev:after{font-size:20px;font-weight:700}  .swiper-pagination-bullet-active{background-color:#f89416!important}  .dropdown-menu.cstm{inset:105% auto auto -270px!important;width:300px;padding:0!important;border-radius:0!important}  .dropdown-menu.store{min-width:400px;inset:100% auto auto -200px!important}  .dropdown-menu.store a:hover{color:#00dcdc!important}  .custom-rtl .dropdown-menu.cstm{inset:105% -270px auto 0!important;width:300px;direction:rtl;text-align:right}  .custom-rtl .dropdown-menu.store{inset:100% -200px auto auto!important;text-align:right;direction:rtl}  .accordion-toggle[aria-expanded=true]:after{font-family:"Font Awesome 5 Free";content:"\\f077";display:inline-block;padding-left:3px;vertical-align:middle;font-weight:900;position:absolute;color:#00dcdc;right:1rem;top:1rem}  .card{background-color:transparent;border:1px solid #e7e7e7;box-shadow:0 8px 16px #0000000d;margin-bottom:10px}  .card .btn.btn-link{width:90%;display:flex;justify-content:flex-start;font-size:small;text-align:left}  .card-header{border-bottom:none;background-color:transparent;padding:10px 0}  .accordion-toggle[aria-expanded=false]:after{font-family:"Font Awesome 5 Free";content:"\\f078";color:#00dcdc;display:inline-block;padding-left:3px;vertical-align:middle;font-weight:900;position:absolute;right:1rem;top:1rem}  .btn-link{font-weight:500;color:#000;text-decoration:none}  .btn.focus,   .btn:focus{box-shadow:none}  .btn-link:hover{color:#000;text-decoration:none}  .custom-rtl .accordion-toggle[aria-expanded=false]:after{left:1rem;right:auto}  .custom-rtl .accordion-toggle[aria-expanded=true]:after{left:1rem;right:auto}  .custom-rtl .card .btn.btn-link{text-align:right}  bs-datepicker-container,   bs-daterangepicker-container{z-index:11111111111111111000000}  bs-datepicker-container{top:-50%!important}.subparent[_ngcontent-%COMP%]:hover   .submenu[_ngcontent-%COMP%]{display:block}.subparent[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{max-height:70vh;overflow:auto;box-shadow:0 2px 12px #0000001a;border:1px solid #ebeef5;border-radius:10px;position:absolute;z-index:111;background:white;top:40px;width:200px;display:none}.subparent[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block}.additionicons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}']}),E})();function Kr(E,c){if(1&E&&(h.TgZ(0,"li"),h._UZ(1,"i",5),h.TgZ(2,"span",6),h._uU(3),h.ALo(4,"translate"),h.qZA()()),2&E){const a=c.$implicit;h.xp6(3),h.hij(" ",h.lcZ(4,1,a)," ")}}let es=(()=>{class E{constructor(){this.h2="",this.p="",this.src=""}ngOnInit(){}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275cmp=h.Xpm({type:E,selectors:[["app-reusable-footer-cart"]],inputs:{h2:"h2",p:"p",src:"src",li:"li"},decls:11,vars:8,consts:[[1,"footerCart"],["alt","join",1,"mb-2",3,"src"],[2,"min-height","70px"],[1,"m-0","p-0","list-unstyled"],[4,"ngFor","ngForOf"],[1,"fa-solid","fa-circle-check"],[1,"mx-2"]],template:function(a,g){1&a&&(h.TgZ(0,"article",0),h._UZ(1,"img",1),h.TgZ(2,"h2"),h._uU(3),h.ALo(4,"translate"),h.qZA(),h.TgZ(5,"div",2)(6,"p"),h._uU(7),h.ALo(8,"translate"),h.qZA()(),h.TgZ(9,"ul",3),h.YNc(10,Kr,5,3,"li",4),h.qZA()()),2&a&&(h.xp6(1),h.Q6J("src",g.src,h.LSH),h.xp6(2),h.Oqu(h.lcZ(4,4,g.h2)),h.xp6(4),h.Oqu(h.lcZ(8,6,g.p)),h.xp6(3),h.Q6J("ngForOf",g.li))},directives:[ut.sg],pipes:[Ce.X$],styles:[""]}),E})();function Zs(E,c){if(1&E&&(h.TgZ(0,"div",6)(1,"div"),h._UZ(2,"app-reusable-footer-cart",38),h.qZA()()),2&E){const a=c.$implicit;h.xp6(2),h.Q6J("h2",a.h2)("p",a.p)("src",a.img)("li",a.li)}}function Ni(E,c){1&E&&(h.ynx(0),h.TgZ(1,"li")(2,"a",39),h._uU(3),h.ALo(4,"translate"),h.qZA()(),h.BQk()),2&E&&(h.xp6(3),h.Oqu(h.lcZ(4,1,"wishlist")))}function Or(E,c){if(1&E&&(h.TgZ(0,"footer",1)(1,"div",2)(2,"div",3)(3,"div",4),h.YNc(4,Zs,3,4,"div",5),h.TgZ(5,"div",6)(6,"article",7),h._UZ(7,"img",8),h.TgZ(8,"h2"),h._uU(9),h.ALo(10,"translate"),h.qZA(),h.TgZ(11,"p",9),h._uU(12),h.ALo(13,"translate"),h.qZA(),h._UZ(14,"img",10)(15,"span",11)(16,"img",12),h.qZA()(),h.TgZ(17,"div",6)(18,"article"),h._UZ(19,"img",13),h.TgZ(20,"p",14),h._uU(21),h.ALo(22,"translate"),h.qZA()()(),h.TgZ(23,"div",6)(24,"article")(25,"h2"),h._uU(26),h.ALo(27,"translate"),h.qZA(),h.TgZ(28,"ul",15)(29,"li")(30,"a",16),h._uU(31),h.ALo(32,"translate"),h.qZA()(),h.TgZ(33,"li")(34,"a",17),h._uU(35),h.ALo(36,"translate"),h.qZA()(),h.TgZ(37,"li")(38,"a",18),h._uU(39),h.ALo(40,"translate"),h.qZA()(),h.YNc(41,Ni,5,3,"ng-container",19),h.qZA()()(),h.TgZ(42,"div",6)(43,"article")(44,"h2"),h._uU(45),h.ALo(46,"translate"),h.qZA(),h.TgZ(47,"p",20),h._uU(48),h.ALo(49,"translate"),h.qZA(),h.TgZ(50,"ul",21)(51,"li"),h._uU(52),h.ALo(53,"translate"),h.qZA(),h.TgZ(54,"li"),h._uU(55),h.ALo(56,"translate"),h.qZA(),h.TgZ(57,"li"),h._uU(58),h.ALo(59,"translate"),h.qZA()(),h.TgZ(60,"p",22),h._UZ(61,"i",23),h._uU(62," 1881010"),h.qZA()()(),h.TgZ(63,"div",6)(64,"article")(65,"h2"),h._uU(66),h.ALo(67,"translate"),h.qZA(),h.TgZ(68,"ul",24)(69,"li")(70,"a",25),h._UZ(71,"i",26),h.qZA()(),h.TgZ(72,"li")(73,"a",27),h._UZ(74,"i",28),h.qZA()(),h.TgZ(75,"li")(76,"a",29),h._UZ(77,"i",30),h.qZA()()(),h.TgZ(78,"h2"),h._uU(79),h.ALo(80,"translate"),h.qZA(),h._UZ(81,"img",31),h.qZA()()()(),h.TgZ(82,"div",32)(83,"div",33)(84,"p",34),h._uU(85,"Copyright \xa9Join KUIT 2022"),h.qZA(),h.TgZ(86,"ul",35)(87,"li")(88,"a",36),h._uU(89),h.ALo(90,"translate"),h.qZA()(),h._UZ(91,"li",37),h.TgZ(92,"li")(93,"a",36),h._uU(94),h.ALo(95,"translate"),h.qZA()()()()()()()),2&E){const a=h.oxw();h.xp6(4),h.Q6J("ngForOf",a.footerCart),h.xp6(5),h.Oqu(h.lcZ(10,18,"Download_Center")),h.xp6(3),h.Oqu(h.lcZ(13,20,"Use_mobile_app_and_get_biggest_discounts")),h.xp6(9),h.Oqu(h.lcZ(22,22,"long")),h.xp6(5),h.Oqu(h.lcZ(27,24,"links")),h.xp6(5),h.Oqu(h.lcZ(32,26,"home")),h.xp6(4),h.Oqu(h.lcZ(36,28,"store")),h.xp6(4),h.Oqu(h.lcZ(40,30,"cart")),h.xp6(2),h.Q6J("ngIf",a.islogin()),h.xp6(4),h.Oqu(h.lcZ(46,32,"contactus")),h.xp6(3),h.Oqu(h.lcZ(49,34,"address")),h.xp6(4),h.hij("",h.lcZ(53,36,"email:")," info@royal_pharm.com"),h.xp6(3),h.hij("",h.lcZ(56,38,"tel")," 2930-3303-22"),h.xp6(3),h.hij("",h.lcZ(59,40,"fax")," (+202) 2268 1308"),h.xp6(8),h.Oqu(h.lcZ(67,42,"Follow_Us")),h.xp6(13),h.Oqu(h.lcZ(80,44,"Accepted_Payment_Methods")),h.xp6(10),h.hij(" ",h.lcZ(90,46,"privacy")," "),h.xp6(5),h.hij(" ",h.lcZ(95,48,"termsandconditions")," ")}}let Wo=(()=>{class E{constructor(a){this.glopalService=a,this.footerCart=[{h2:"Assured_Purchase",p:"Provide_genuine",img:"assets/images/car.53532650.svg",li:["100%_genuine_products","Deliver_items_at_door","Free_return_products"]},{h2:"Easy_To_Buy_Return",p:"Single_click_buy_return_products",img:"assets/images/money.2faef535.svg",li:["Same_day_delivery_available","Click_to_return_products","Quick_support_links_available"]},{h2:"Secure_Payments",p:"Accepts_all_credit_debit_cards",img:"assets/images/visa.daa9ad19.svg",li:["payment_security","Confirmation_authentity","Delivery_items_at_door"]}],this.hideFooter=!1}ngOnInit(){this.footerCart.length=3,this.glopalService.hideNavbarAndFooter.subscribe(a=>{this.hideFooter=a})}islogin(){return!!localStorage.getItem("joinToken")}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(at.W))},E.\u0275cmp=h.Xpm({type:E,selectors:[["app-footer"]],decls:1,vars:1,consts:[["style","background-image: url('assets/images/bg.jpg');","class","pt-5",4,"ngIf"],[1,"pt-5",2,"background-image","url('assets/images/bg.jpg')"],[2,"position","relative","z-index","111"],[1,"container"],[1,"row"],["class","col-md-6 col-lg-3 mb-5",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-3","mb-5"],[1,"footerCart"],["src","assets/images/download.90e934e8.svg","alt","join",1,"mb-2"],[2,"min-height","70px"],["src","assets/images/googleplay.png","alt","googleplay",2,"width","100px"],[1,"mx-1"],["src","assets/images/appstore.png","alt","googleplay",2,"width","100px"],["src","assets/images/footerjoin.svg","alt","join",2,"width","100px"],[1,"mt-3"],[1,"m-0","p-0","list-unstyled","links"],["routerLink","/"],["routerLink","/store"],["routerLink","/cart"],[4,"ngIf"],[1,"mb-4"],[1,"p-0","list-unstyled"],[1,"phone"],[1,"fa-solid","fa-phone"],[1,"mb-5","p-0","list-unstyled","socialmedia"],["target","_blank","href","https://www.facebook.com/justt.joinn/"],[1,"fa-brands","fa-square-facebook"],["target","_blank","href","https://twitter.com/join_app"],[1,"fa-brands","fa-square-twitter"],["target","_blank","href","https://www.snapchat.com/add/join.co"],[1,"fa-brands","fa-square-snapchat"],["src","assets/images/visa.svg","alt","join",1,"img-fluid"],[1,"orangeSection","text-white","py-3"],[1,"container","flex-column","flex-md-row","d-flex","justify-content-between","align-items-md-center"],[1,"m-0"],[1,"d-flex","list-unstyled","p-0","m-0"],["href",""],[1,"mx-2"],[3,"h2","p","src","li"],["routerLink","/favorite"]],template:function(a,g){1&a&&h.YNc(0,Or,96,50,"footer",0),2&a&&h.Q6J("ngIf",!g.hideFooter)},directives:[ut.O5,ut.sg,es,G.yS],pipes:[Ce.X$],styles:[""]}),E})(),na=(()=>{class E{constructor(a,g,T,B){this.notficationsService=a,this.membersservice=g,this.homeService=T,this.authService=B}ngOnInit(){localStorage.getItem("joinToken")&&(this.notficationsService.getNotifications(),this.membersservice.getAllMembers(),this.authService.getUserProfile()),this.authService.getAllAreas(),this.homeService.getIntersts()}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(J.T),h.Y36(le.Z),h.Y36(De.Y),h.Y36(lt.e))},E.\u0275cmp=h.Xpm({type:E,selectors:[["app-root"]],decls:3,vars:0,template:function(a,g){1&a&&h._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},directives:[ta,G.lC,Wo],styles:[""]}),E})();var ls=x(40),_r=x(520);let wo=(()=>{class E{intercept(a,g){let T;return T=(null==a?void 0:a.url.includes("myfatoorah"))?a.clone({setHeaders:{Authorization:"Bearer  DRjVRnni2MCYQJy44lbbSZ3w9ITefFLwm38jtmerLYY8FZFIo_dWERd7pjKrKpXN_oRZzK9A-SByEBDACYqQeEr90JE_pEY0FjdxtuXnCFPKD9ljbXukGsAbV3zt-Uk924y8wb7vp_kbh-djTA-pK1fKOUi-SxO4TX1dYyhAIUCSUTeW2boCSPdaesHNj6IEWGEqSQsgM2SHpHn0sqyjACRfzjkS34cKvcaLXFWfCmSmn8PoeU5y3UkHrjgT2DTlOqc12kpn2Kxbk6xKE3j0LI19iCG4EEbLVoPBeaiocCO9t0FSTen012i2QM8NoJNY4oUMdVqTZxJkGBREJegjv0ni1WYenfNbLJtMMWnsnLQpa7gMoH9bGAz19Ndjc0fPSOJBe6PNmiHeVf7HCBXh2IuX5doJ_BUW72CWS5QPwL8GEucgyj75djeOEjDkSYaNtgNmoef6OveMvb9hE0CeAhctVrHj1n_bts6fs9ZcwRFEbiH0Kh6iZK8saLtB5pLGvEayz_W0IXr5ZVXc8uDiu2XawD-Dvylb-7iv5Eoap6o42hmJm4R9sHLYg1kl1lgoSyE1gWia42ZOMN3EkvqFak160fZoWqSnKjbgOZNTRMiakRsyHS2NgGduuVbXNqFLWHRVwbYe9gKdpjEhg6MCMYHxcfwUQL0e1bQMBxyR7xgI68ff"}}):a.clone({setHeaders:{"auth-token":`${localStorage.getItem("joinToken")}`,Lang:localStorage.getItem("lang")||"en"}}),g.handle(T)}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),E})();var Ai=x(1777);const Zn=!1;function Fi(E){return new h.vHH(3e3,Zn)}function yl(){return"undefined"!=typeof window&&void 0!==window.document}function Ra(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function lo(E){switch(E.length){case 0:return new Ai.ZN;case 1:return E[0];default:return new Ai.ZE(E)}}function Ks(E,c,a,g,T={},B={}){const se=[],Te=[];let Xe=-1,Ct=null;if(g.forEach(Xt=>{const Tn=Xt.offset,Wn=Tn==Xe,fi=Wn&&Ct||{};Object.keys(Xt).forEach(qn=>{let pi=qn,cr=Xt[qn];if("offset"!==qn)switch(pi=c.normalizePropertyName(pi,se),cr){case Ai.k1:cr=T[qn];break;case Ai.l3:cr=B[qn];break;default:cr=c.normalizeStyleValue(qn,pi,cr,se)}fi[pi]=cr}),Wn||Te.push(fi),Ct=fi,Xe=Tn}),se.length)throw function us(E){return new h.vHH(3502,Zn)}();return Te}function Mr(E,c,a,g){switch(c){case"start":E.onStart(()=>g(a&&Os(a,"start",E)));break;case"done":E.onDone(()=>g(a&&Os(a,"done",E)));break;case"destroy":E.onDestroy(()=>g(a&&Os(a,"destroy",E)))}}function Os(E,c,a){const g=a.totalTime,B=uo(E.element,E.triggerName,E.fromState,E.toState,c||E.phaseName,null==g?E.totalTime:g,!!a.disabled),se=E._data;return null!=se&&(B._data=se),B}function uo(E,c,a,g,T="",B=0,se){return{element:E,triggerName:c,fromState:a,toState:g,phaseName:T,totalTime:B,disabled:!!se}}function Ar(E,c,a){let g;return E instanceof Map?(g=E.get(c),g||E.set(c,g=a)):(g=E[c],g||(g=E[c]=a)),g}function Cs(E){const c=E.indexOf(":");return[E.substring(1,c),E.substr(c+1)]}let ia=(E,c)=>!1,To=(E,c,a)=>[],Na=null;function Ts(E){const c=E.parentNode||E.host;return c===Na?null:c}(Ra()||"undefined"!=typeof Element)&&(yl()?(Na=(()=>document.documentElement)(),ia=(E,c)=>{for(;c;){if(c===E)return!0;c=Ts(c)}return!1}):ia=(E,c)=>E.contains(c),To=(E,c,a)=>{if(a)return Array.from(E.querySelectorAll(c));const g=E.querySelector(c);return g?[g]:[]});let Do=null,La=!1;function Io(E){Do||(Do=function ts(){return"undefined"!=typeof document?document.body:null}()||{},La=!!Do.style&&"WebkitAppearance"in Do.style);let c=!0;return Do.style&&!function Ko(E){return"ebkit"==E.substring(1,6)}(E)&&(c=E in Do.style,!c&&La&&(c="Webkit"+E.charAt(0).toUpperCase()+E.substr(1)in Do.style)),c}const Ao=ia,So=To;let _l=(()=>{class E{validateStyleProperty(a){return Io(a)}matchesElement(a,g){return!1}containsElement(a,g){return Ao(a,g)}getParentElement(a){return Ts(a)}query(a,g,T){return So(a,g,T)}computeStyle(a,g,T){return T||""}animate(a,g,T,B,se,Te=[],Xe){return new Ai.ZN(T,B)}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),E})(),sa=(()=>{class E{}return E.NOOP=new _l,E})();const ns="ng-enter",co="ng-leave",Ji="ng-trigger",_a=".ng-trigger",lu="ng-animating",ji=".ng-animating";function Ds(E){if("number"==typeof E)return E;const c=E.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:ho(parseFloat(c[1]),c[2])}function ho(E,c){return"s"===c?1e3*E:E}function fo(E,c,a){return E.hasOwnProperty("duration")?E:function Ms(E,c,a){let T,B=0,se="";if("string"==typeof E){const Te=E.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Te)return c.push(Fi()),{duration:0,delay:0,easing:""};T=ho(parseFloat(Te[1]),Te[2]);const Xe=Te[3];null!=Xe&&(B=ho(parseFloat(Xe),Te[4]));const Ct=Te[5];Ct&&(se=Ct)}else T=E;if(!a){let Te=!1,Xe=c.length;T<0&&(c.push(function V(){return new h.vHH(3100,Zn)}()),Te=!0),B<0&&(c.push(function ie(){return new h.vHH(3101,Zn)}()),Te=!0),Te&&c.splice(Xe,0,Fi())}return{duration:T,delay:B,easing:se}}(E,c,a)}function Kt(E,c={}){return Object.keys(E).forEach(a=>{c[a]=E[a]}),c}function $i(E,c,a={}){if(c)for(let g in E)a[g]=E[g];else Kt(E,a);return a}function oa(E,c,a){return a?c+":"+a+";":""}function Pn(E){let c="";for(let a=0;a<E.style.length;a++){const g=E.style.item(a);c+=oa(0,g,E.style.getPropertyValue(g))}for(const a in E.style)E.style.hasOwnProperty(a)&&!a.startsWith("_")&&(c+=oa(0,bl(a),E.style[a]));E.setAttribute("style",c)}function In(E,c,a){E.style&&(Object.keys(c).forEach(g=>{const T=fs(g);a&&!a.hasOwnProperty(g)&&(a[g]=E.style[T]),E.style[T]=c[g]}),Ra()&&Pn(E))}function Is(E,c){E.style&&(Object.keys(c).forEach(a=>{const g=fs(a);E.style[g]=""}),Ra()&&Pn(E))}function hn(E){return Array.isArray(E)?1==E.length?E[0]:(0,Ai.vP)(E):E}const zt=new RegExp("{{\\s*(.+?)\\s*}}","g");function pr(E){let c=[];if("string"==typeof E){let a;for(;a=zt.exec(E);)c.push(a[1]);zt.lastIndex=0}return c}function ka(E,c,a){const g=E.toString(),T=g.replace(zt,(B,se)=>{let Te=c[se];return c.hasOwnProperty(se)||(a.push(function ue(E){return new h.vHH(3003,Zn)}()),Te=""),Te.toString()});return T==g?E:T}function ol(E){const c=[];let a=E.next();for(;!a.done;)c.push(a.value),a=E.next();return c}const Ku=/-+([a-z0-9])/g;function fs(E){return E.replace(Ku,(...c)=>c[1].toUpperCase())}function bl(E){return E.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function is(E,c,a){switch(c.type){case 7:return E.visitTrigger(c,a);case 0:return E.visitState(c,a);case 1:return E.visitTransition(c,a);case 2:return E.visitSequence(c,a);case 3:return E.visitGroup(c,a);case 4:return E.visitAnimate(c,a);case 5:return E.visitKeyframes(c,a);case 6:return E.visitStyle(c,a);case 8:return E.visitReference(c,a);case 9:return E.visitAnimateChild(c,a);case 10:return E.visitAnimateRef(c,a);case 11:return E.visitQuery(c,a);case 12:return E.visitStagger(c,a);default:throw function $e(E){return new h.vHH(3004,Zn)}()}}function Ea(E,c){return window.getComputedStyle(E)[c]}const O="*";function D(E,c){const a=[];return"string"==typeof E?E.split(/\s*,\s*/).forEach(g=>function w(E,c,a){if(":"==E[0]){const Xe=function L(E,c){switch(E){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,g)=>parseFloat(g)>parseFloat(a);case":decrement":return(a,g)=>parseFloat(g)<parseFloat(a);default:return c.push(function Pt(E){return new h.vHH(3016,Zn)}()),"* => *"}}(E,a);if("function"==typeof Xe)return void c.push(Xe);E=Xe}const g=E.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==g||g.length<4)return a.push(function re(E){return new h.vHH(3015,Zn)}()),c;const T=g[1],B=g[2],se=g[3];c.push(Pe(T,se));"<"==B[0]&&!(T==O&&se==O)&&c.push(Pe(se,T))}(g,a,c)):a.push(E),a}const k=new Set(["true","1"]),ae=new Set(["false","0"]);function Pe(E,c){const a=k.has(E)||ae.has(E),g=k.has(c)||ae.has(c);return(T,B)=>{let se=E==O||E==T,Te=c==O||c==B;return!se&&a&&"boolean"==typeof T&&(se=T?k.has(E):ae.has(E)),!Te&&g&&"boolean"==typeof B&&(Te=B?k.has(c):ae.has(c)),se&&Te}}const Lt=new RegExp("s*:selfs*,?","g");function wn(E,c,a,g){return new Rn(E).build(c,a,g)}class Rn{constructor(c){this._driver=c}build(c,a,g){const T=new gr(a);this._resetContextStyleTimingState(T);const B=is(this,hn(c),T);return T.unsupportedCSSPropertiesFound.size&&T.unsupportedCSSPropertiesFound.keys(),B}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles={},c.collectedStyles[""]={},c.currentTime=0}visitTrigger(c,a){let g=a.queryCount=0,T=a.depCount=0;const B=[],se=[];return"@"==c.name.charAt(0)&&a.errors.push(function $t(){return new h.vHH(3006,Zn)}()),c.definitions.forEach(Te=>{if(this._resetContextStyleTimingState(a),0==Te.type){const Xe=Te,Ct=Xe.name;Ct.toString().split(/\s*,\s*/).forEach(Xt=>{Xe.name=Xt,B.push(this.visitState(Xe,a))}),Xe.name=Ct}else if(1==Te.type){const Xe=this.visitTransition(Te,a);g+=Xe.queryCount,T+=Xe.depCount,se.push(Xe)}else a.errors.push(function Mn(){return new h.vHH(3007,Zn)}())}),{type:7,name:c.name,states:B,transitions:se,queryCount:g,depCount:T,options:null}}visitState(c,a){const g=this.visitStyle(c.styles,a),T=c.options&&c.options.params||null;if(g.containsDynamicStyles){const B=new Set,se=T||{};g.styles.forEach(Te=>{if(Oo(Te)){const Xe=Te;Object.keys(Xe).forEach(Ct=>{pr(Xe[Ct]).forEach(Xt=>{se.hasOwnProperty(Xt)||B.add(Xt)})})}}),B.size&&(ol(B.values()),a.errors.push(function Gn(E,c){return new h.vHH(3008,Zn)}()))}return{type:0,name:c.name,style:g,options:T?{params:T}:null}}visitTransition(c,a){a.queryCount=0,a.depCount=0;const g=is(this,hn(c.animation),a);return{type:1,matchers:D(c.expr,a.errors),animation:g,queryCount:a.queryCount,depCount:a.depCount,options:qr(c.options)}}visitSequence(c,a){return{type:2,steps:c.steps.map(g=>is(this,g,a)),options:qr(c.options)}}visitGroup(c,a){const g=a.currentTime;let T=0;const B=c.steps.map(se=>{a.currentTime=g;const Te=is(this,se,a);return T=Math.max(T,a.currentTime),Te});return a.currentTime=T,{type:3,steps:B,options:qr(c.options)}}visitAnimate(c,a){const g=function go(E,c){if(E.hasOwnProperty("duration"))return E;if("number"==typeof E)return qo(fo(E,c).duration,0,"");const a=E;if(a.split(/\s+/).some(B=>"{"==B.charAt(0)&&"{"==B.charAt(1))){const B=qo(0,0,"");return B.dynamic=!0,B.strValue=a,B}const T=fo(a,c);return qo(T.duration,T.delay,T.easing)}(c.timings,a.errors);a.currentAnimateTimings=g;let T,B=c.styles?c.styles:(0,Ai.oB)({});if(5==B.type)T=this.visitKeyframes(B,a);else{let se=c.styles,Te=!1;if(!se){Te=!0;const Ct={};g.easing&&(Ct.easing=g.easing),se=(0,Ai.oB)(Ct)}a.currentTime+=g.duration+g.delay;const Xe=this.visitStyle(se,a);Xe.isEmptyStep=Te,T=Xe}return a.currentAnimateTimings=null,{type:4,timings:g,style:T,options:null}}visitStyle(c,a){const g=this._makeStyleAst(c,a);return this._validateStyleAst(g,a),g}_makeStyleAst(c,a){const g=[];Array.isArray(c.styles)?c.styles.forEach(se=>{"string"==typeof se?se==Ai.l3?g.push(se):a.errors.push(function yi(E){return new h.vHH(3002,Zn)}()):g.push(se)}):g.push(c.styles);let T=!1,B=null;return g.forEach(se=>{if(Oo(se)){const Te=se,Xe=Te.easing;if(Xe&&(B=Xe,delete Te.easing),!T)for(let Ct in Te)if(Te[Ct].toString().indexOf("{{")>=0){T=!0;break}}}),{type:6,styles:g,easing:B,offset:c.offset,containsDynamicStyles:T,options:null}}_validateStyleAst(c,a){const g=a.currentAnimateTimings;let T=a.currentTime,B=a.currentTime;g&&B>0&&(B-=g.duration+g.delay),c.styles.forEach(se=>{"string"!=typeof se&&Object.keys(se).forEach(Te=>{if(!this._driver.validateStyleProperty(Te))return delete se[Te],void a.unsupportedCSSPropertiesFound.add(Te);const Xe=a.collectedStyles[a.currentQuerySelector],Ct=Xe[Te];let Xt=!0;Ct&&(B!=T&&B>=Ct.startTime&&T<=Ct.endTime&&(a.errors.push(function di(E,c,a,g,T){return new h.vHH(3010,Zn)}()),Xt=!1),B=Ct.startTime),Xt&&(Xe[Te]={startTime:B,endTime:T}),a.options&&function Dt(E,c,a){const g=c.params||{},T=pr(E);T.length&&T.forEach(B=>{g.hasOwnProperty(B)||a.push(function F(E){return new h.vHH(3001,Zn)}())})}(se[Te],a.options,a.errors)})})}visitKeyframes(c,a){const g={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function tr(){return new h.vHH(3011,Zn)}()),g;let B=0;const se=[];let Te=!1,Xe=!1,Ct=0;const Xt=c.steps.map(cs=>{const Jr=this._makeStyleAst(cs,a);let ys=null!=Jr.offset?Jr.offset:function po(E){if("string"==typeof E)return null;let c=null;if(Array.isArray(E))E.forEach(a=>{if(Oo(a)&&a.hasOwnProperty("offset")){const g=a;c=parseFloat(g.offset),delete g.offset}});else if(Oo(E)&&E.hasOwnProperty("offset")){const a=E;c=parseFloat(a.offset),delete a.offset}return c}(Jr.styles),vs=0;return null!=ys&&(B++,vs=Jr.offset=ys),Xe=Xe||vs<0||vs>1,Te=Te||vs<Ct,Ct=vs,se.push(vs),Jr});Xe&&a.errors.push(function Hi(){return new h.vHH(3012,Zn)}()),Te&&a.errors.push(function Vi(){return new h.vHH(3200,Zn)}());const Tn=c.steps.length;let Wn=0;B>0&&B<Tn?a.errors.push(function H(){return new h.vHH(3202,Zn)}()):0==B&&(Wn=1/(Tn-1));const fi=Tn-1,qn=a.currentTime,pi=a.currentAnimateTimings,cr=pi.duration;return Xt.forEach((cs,Jr)=>{const ys=Wn>0?Jr==fi?1:Wn*Jr:se[Jr],vs=ys*cr;a.currentTime=qn+pi.delay+vs,pi.duration=vs,this._validateStyleAst(cs,a),cs.offset=ys,g.styles.push(cs)}),g}visitReference(c,a){return{type:8,animation:is(this,hn(c.animation),a),options:qr(c.options)}}visitAnimateChild(c,a){return a.depCount++,{type:9,options:qr(c.options)}}visitAnimateRef(c,a){return{type:10,animation:this.visitReference(c.animation,a),options:qr(c.options)}}visitQuery(c,a){const g=a.currentQuerySelector,T=c.options||{};a.queryCount++,a.currentQuery=c;const[B,se]=function Mi(E){const c=!!E.split(/\s*,\s*/).find(a=>":self"==a);return c&&(E=E.replace(Lt,"")),E=E.replace(/@\*/g,_a).replace(/@\w+/g,a=>_a+"-"+a.substr(1)).replace(/:animating/g,ji),[E,c]}(c.selector);a.currentQuerySelector=g.length?g+" "+B:B,Ar(a.collectedStyles,a.currentQuerySelector,{});const Te=is(this,hn(c.animation),a);return a.currentQuery=null,a.currentQuerySelector=g,{type:11,selector:B,limit:T.limit||0,optional:!!T.optional,includeSelf:se,animation:Te,originalSelector:c.selector,options:qr(c.options)}}visitStagger(c,a){a.currentQuery||a.errors.push(function N(){return new h.vHH(3013,Zn)}());const g="full"===c.timings?{duration:0,delay:0,easing:"full"}:fo(c.timings,a.errors,!0);return{type:12,animation:is(this,hn(c.animation),a),timings:g,options:null}}}class gr{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Oo(E){return!Array.isArray(E)&&"object"==typeof E}function qr(E){return E?(E=Kt(E)).params&&(E.params=function Pi(E){return E?Kt(E):null}(E.params)):E={},E}function qo(E,c,a){return{duration:E,delay:c,easing:a}}function _t(E,c,a,g,T,B,se=null,Te=!1){return{type:1,element:E,keyframes:c,preStyleProps:a,postStyleProps:g,duration:T,delay:B,totalTime:T+B,easing:se,subTimeline:Te}}class Pr{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,a){let g=this._map.get(c);g||this._map.set(c,g=[]),g.push(...a)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const Mo=new RegExp(":enter","g"),Ua=new RegExp(":leave","g");function mr(E,c,a,g,T,B={},se={},Te,Xe,Ct=[]){return(new Cl).buildKeyframes(E,c,a,g,T,B,se,Te,Xe,Ct)}class Cl{buildKeyframes(c,a,g,T,B,se,Te,Xe,Ct,Xt=[]){Ct=Ct||new Pr;const Tn=new wa(c,a,Ct,T,B,Xt,[]);Tn.options=Xe,Tn.currentTimeline.setStyles([se],null,Tn.errors,Xe),is(this,g,Tn);const Wn=Tn.timelines.filter(fi=>fi.containsAnimation());if(Object.keys(Te).length){let fi;for(let qn=Wn.length-1;qn>=0;qn--){const pi=Wn[qn];if(pi.element===a){fi=pi;break}}fi&&!fi.allowOnlyTimelineStyles()&&fi.setStyles([Te],null,Tn.errors,Xe)}return Wn.length?Wn.map(fi=>fi.buildKeyframes()):[_t(a,[],[],[],0,0,"",!1)]}visitTrigger(c,a){}visitState(c,a){}visitTransition(c,a){}visitAnimateChild(c,a){const g=a.subInstructions.get(a.element);if(g){const T=a.createSubContext(c.options),B=a.currentTimeline.currentTime,se=this._visitSubInstructions(g,T,T.options);B!=se&&a.transformIntoNewTimeline(se)}a.previousNode=c}visitAnimateRef(c,a){const g=a.createSubContext(c.options);g.transformIntoNewTimeline(),this.visitReference(c.animation,g),a.transformIntoNewTimeline(g.currentTimeline.currentTime),a.previousNode=c}_visitSubInstructions(c,a,g){let B=a.currentTimeline.currentTime;const se=null!=g.duration?Ds(g.duration):null,Te=null!=g.delay?Ds(g.delay):null;return 0!==se&&c.forEach(Xe=>{const Ct=a.appendInstructionToTimeline(Xe,se,Te);B=Math.max(B,Ct.duration+Ct.delay)}),B}visitReference(c,a){a.updateOptions(c.options,!0),is(this,c.animation,a),a.previousNode=c}visitSequence(c,a){const g=a.subContextCount;let T=a;const B=c.options;if(B&&(B.params||B.delay)&&(T=a.createSubContext(B),T.transformIntoNewTimeline(),null!=B.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Ba);const se=Ds(B.delay);T.delayNextStep(se)}c.steps.length&&(c.steps.forEach(se=>is(this,se,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>g&&T.transformIntoNewTimeline()),a.previousNode=c}visitGroup(c,a){const g=[];let T=a.currentTimeline.currentTime;const B=c.options&&c.options.delay?Ds(c.options.delay):0;c.steps.forEach(se=>{const Te=a.createSubContext(c.options);B&&Te.delayNextStep(B),is(this,se,Te),T=Math.max(T,Te.currentTimeline.currentTime),g.push(Te.currentTimeline)}),g.forEach(se=>a.currentTimeline.mergeTimelineCollectedStyles(se)),a.transformIntoNewTimeline(T),a.previousNode=c}_visitTiming(c,a){if(c.dynamic){const g=c.strValue;return fo(a.params?ka(g,a.params,a.errors):g,a.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,a){const g=a.currentAnimateTimings=this._visitTiming(c.timings,a),T=a.currentTimeline;g.delay&&(a.incrementTime(g.delay),T.snapshotCurrentStyles());const B=c.style;5==B.type?this.visitKeyframes(B,a):(a.incrementTime(g.duration),this.visitStyle(B,a),T.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=c}visitStyle(c,a){const g=a.currentTimeline,T=a.currentAnimateTimings;!T&&g.getCurrentStyleProperties().length&&g.forwardFrame();const B=T&&T.easing||c.easing;c.isEmptyStep?g.applyEmptyStep(B):g.setStyles(c.styles,B,a.errors,a.options),a.previousNode=c}visitKeyframes(c,a){const g=a.currentAnimateTimings,T=a.currentTimeline.duration,B=g.duration,Te=a.createSubContext().currentTimeline;Te.easing=g.easing,c.styles.forEach(Xe=>{Te.forwardTime((Xe.offset||0)*B),Te.setStyles(Xe.styles,Xe.easing,a.errors,a.options),Te.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(Te),a.transformIntoNewTimeline(T+B),a.previousNode=c}visitQuery(c,a){const g=a.currentTimeline.currentTime,T=c.options||{},B=T.delay?Ds(T.delay):0;B&&(6===a.previousNode.type||0==g&&a.currentTimeline.getCurrentStyleProperties().length)&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Ba);let se=g;const Te=a.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!T.optional,a.errors);a.currentQueryTotal=Te.length;let Xe=null;Te.forEach((Ct,Xt)=>{a.currentQueryIndex=Xt;const Tn=a.createSubContext(c.options,Ct);B&&Tn.delayNextStep(B),Ct===a.element&&(Xe=Tn.currentTimeline),is(this,c.animation,Tn),Tn.currentTimeline.applyStylesToKeyframe(),se=Math.max(se,Tn.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(se),Xe&&(a.currentTimeline.mergeTimelineCollectedStyles(Xe),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=c}visitStagger(c,a){const g=a.parentContext,T=a.currentTimeline,B=c.timings,se=Math.abs(B.duration),Te=se*(a.currentQueryTotal-1);let Xe=se*a.currentQueryIndex;switch(B.duration<0?"reverse":B.easing){case"reverse":Xe=Te-Xe;break;case"full":Xe=g.currentStaggerTime}const Xt=a.currentTimeline;Xe&&Xt.delayNextStep(Xe);const Tn=Xt.currentTime;is(this,c.animation,a),a.previousNode=c,g.currentStaggerTime=T.currentTime-Tn+(T.startTime-g.currentTimeline.startTime)}}const Ba={};class wa{constructor(c,a,g,T,B,se,Te,Xe){this._driver=c,this.element=a,this.subInstructions=g,this._enterClassName=T,this._leaveClassName=B,this.errors=se,this.timelines=Te,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ba,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Xe||new Ha(this._driver,a,0),Te.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,a){if(!c)return;const g=c;let T=this.options;null!=g.duration&&(T.duration=Ds(g.duration)),null!=g.delay&&(T.delay=Ds(g.delay));const B=g.params;if(B){let se=T.params;se||(se=this.options.params={}),Object.keys(B).forEach(Te=>{(!a||!se.hasOwnProperty(Te))&&(se[Te]=ka(B[Te],se,this.errors))})}}_copyOptions(){const c={};if(this.options){const a=this.options.params;if(a){const g=c.params={};Object.keys(a).forEach(T=>{g[T]=a[T]})}}return c}createSubContext(c=null,a,g){const T=a||this.element,B=new wa(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,g||0));return B.previousNode=this.previousNode,B.currentAnimateTimings=this.currentAnimateTimings,B.options=this._copyOptions(),B.updateOptions(c),B.currentQueryIndex=this.currentQueryIndex,B.currentQueryTotal=this.currentQueryTotal,B.parentContext=this,this.subContextCount++,B}transformIntoNewTimeline(c){return this.previousNode=Ba,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,a,g){const T={duration:null!=a?a:c.duration,delay:this.currentTimeline.currentTime+(null!=g?g:0)+c.delay,easing:""},B=new Ys(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,T,c.stretchStartingKeyframe);return this.timelines.push(B),T}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,a,g,T,B,se){let Te=[];if(T&&Te.push(this.element),c.length>0){c=(c=c.replace(Mo,"."+this._enterClassName)).replace(Ua,"."+this._leaveClassName);let Ct=this._driver.query(this.element,c,1!=g);0!==g&&(Ct=g<0?Ct.slice(Ct.length+g,Ct.length):Ct.slice(0,g)),Te.push(...Ct)}return!B&&0==Te.length&&se.push(function M(E){return new h.vHH(3014,Zn)}()),Te}}class Ha{constructor(c,a,g,T){this._driver=c,this.element=a,this.startTime=g,this._elementTimelineStylesLookup=T,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const a=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||a?(this.forwardTime(this.currentTime+c),a&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,a){return this.applyStylesToKeyframe(),new Ha(this._driver,c,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,a){this._localTimelineStyles[c]=a,this._globalTimelineStyles[c]=a,this._styleSummary[c]={time:this.currentTime,value:a}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&(this._previousKeyframe.easing=c),Object.keys(this._globalTimelineStyles).forEach(a=>{this._backFill[a]=this._globalTimelineStyles[a]||Ai.l3,this._currentKeyframe[a]=Ai.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,a,g,T){a&&(this._previousKeyframe.easing=a);const B=T&&T.params||{},se=function ja(E,c){const a={};let g;return E.forEach(T=>{"*"===T?(g=g||Object.keys(c),g.forEach(B=>{a[B]=Ai.l3})):$i(T,!1,a)}),a}(c,this._globalTimelineStyles);Object.keys(se).forEach(Te=>{const Xe=ka(se[Te],B,g);this._pendingStyles[Te]=Xe,this._localTimelineStyles.hasOwnProperty(Te)||(this._backFill[Te]=this._globalTimelineStyles.hasOwnProperty(Te)?this._globalTimelineStyles[Te]:Ai.l3),this._updateStyle(Te,Xe)})}applyStylesToKeyframe(){const c=this._pendingStyles,a=Object.keys(c);0!=a.length&&(this._pendingStyles={},a.forEach(g=>{this._currentKeyframe[g]=c[g]}),Object.keys(this._localTimelineStyles).forEach(g=>{this._currentKeyframe.hasOwnProperty(g)||(this._currentKeyframe[g]=this._localTimelineStyles[g])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(c=>{const a=this._localTimelineStyles[c];this._pendingStyles[c]=a,this._updateStyle(c,a)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let a in this._currentKeyframe)c.push(a);return c}mergeTimelineCollectedStyles(c){Object.keys(c._styleSummary).forEach(a=>{const g=this._styleSummary[a],T=c._styleSummary[a];(!g||T.time>g.time)&&this._updateStyle(a,T.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,a=new Set,g=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((Te,Xe)=>{const Ct=$i(Te,!0);Object.keys(Ct).forEach(Xt=>{const Tn=Ct[Xt];Tn==Ai.k1?c.add(Xt):Tn==Ai.l3&&a.add(Xt)}),g||(Ct.offset=Xe/this.duration),T.push(Ct)});const B=c.size?ol(c.values()):[],se=a.size?ol(a.values()):[];if(g){const Te=T[0],Xe=Kt(Te);Te.offset=0,Xe.offset=1,T=[Te,Xe]}return _t(this.element,T,B,se,this.duration,this.startTime,this.easing,!1)}}class Ys extends Ha{constructor(c,a,g,T,B,se,Te=!1){super(c,a,se.delay),this.keyframes=g,this.preStyleProps=T,this.postStyleProps=B,this._stretchStartingKeyframe=Te,this.timings={duration:se.duration,delay:se.delay,easing:se.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:a,duration:g,easing:T}=this.timings;if(this._stretchStartingKeyframe&&a){const B=[],se=g+a,Te=a/se,Xe=$i(c[0],!1);Xe.offset=0,B.push(Xe);const Ct=$i(c[0],!1);Ct.offset=Er(Te),B.push(Ct);const Xt=c.length-1;for(let Tn=1;Tn<=Xt;Tn++){let Wn=$i(c[Tn],!1);Wn.offset=Er((a+Wn.offset*g)/se),B.push(Wn)}g=se,a=0,T="",c=B}return _t(this.element,c,this.preStyleProps,this.postStyleProps,g,a,T,!0)}}function Er(E,c=3){const a=Math.pow(10,c-1);return Math.round(E*a)/a}class Rr{}class Ps extends Rr{normalizePropertyName(c,a){return fs(c)}normalizeStyleValue(c,a,g,T){let B="";const se=g.toString().trim();if(ur[a]&&0!==g&&"0"!==g)if("number"==typeof g)B="px";else{const Te=g.match(/^[+-]?[\d\.]+([a-z]*)$/);Te&&0==Te[1].length&&T.push(function St(E,c){return new h.vHH(3005,Zn)}())}return se+B}}const ur=(()=>function Ac(E){const c={};return E.forEach(a=>c[a]=!0),c}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Qs(E,c,a,g,T,B,se,Te,Xe,Ct,Xt,Tn,Wn){return{type:0,element:E,triggerName:c,isRemovalTransition:T,fromState:a,fromStyles:B,toState:g,toStyles:se,timelines:Te,queriedElements:Xe,preStyleProps:Ct,postStyleProps:Xt,totalTime:Tn,errors:Wn}}const Js={};class Sr{constructor(c,a,g){this._triggerName=c,this.ast=a,this._stateStyles=g}match(c,a,g,T){return function Nr(E,c,a,g,T){return E.some(B=>B(c,a,g,T))}(this.ast.matchers,c,a,g,T)}buildStyles(c,a,g){const T=this._stateStyles["*"],B=this._stateStyles[c],se=T?T.buildStyles(a,g):{};return B?B.buildStyles(a,g):se}build(c,a,g,T,B,se,Te,Xe,Ct,Xt){const Tn=[],Wn=this.ast.options&&this.ast.options.params||Js,qn=this.buildStyles(g,Te&&Te.params||Js,Tn),pi=Xe&&Xe.params||Js,cr=this.buildStyles(T,pi,Tn),cs=new Set,Jr=new Map,ys=new Map,vs="void"===T,fa={params:Object.assign(Object.assign({},Wn),pi)},Sa=Xt?[]:mr(c,a,this.ast.animation,B,se,qn,cr,fa,Ct,Tn);let io=0;if(Sa.forEach(Xo=>{io=Math.max(Xo.duration+Xo.delay,io)}),Tn.length)return Qs(a,this._triggerName,g,T,vs,qn,cr,[],[],Jr,ys,io,Tn);Sa.forEach(Xo=>{const Pl=Xo.element,th=Ar(Jr,Pl,{});Xo.preStyleProps.forEach(Kl=>th[Kl]=!0);const sc=Ar(ys,Pl,{});Xo.postStyleProps.forEach(Kl=>sc[Kl]=!0),Pl!==a&&cs.add(Pl)});const Bo=ol(cs.values());return Qs(a,this._triggerName,g,T,vs,qn,cr,Sa,Bo,Jr,ys,io)}}class $a{constructor(c,a,g){this.styles=c,this.defaultParams=a,this.normalizer=g}buildStyles(c,a){const g={},T=Kt(this.defaultParams);return Object.keys(c).forEach(B=>{const se=c[B];null!=se&&(T[B]=se)}),this.styles.styles.forEach(B=>{if("string"!=typeof B){const se=B;Object.keys(se).forEach(Te=>{let Xe=se[Te];Xe.length>1&&(Xe=ka(Xe,T,a));const Ct=this.normalizer.normalizePropertyName(Te,a);Xe=this.normalizer.normalizeStyleValue(Te,Ct,Xe,a),g[Ct]=Xe})}}),g}}class br{constructor(c,a,g){this.name=c,this.ast=a,this._normalizer=g,this.transitionFactories=[],this.states={},a.states.forEach(T=>{this.states[T.name]=new $a(T.style,T.options&&T.options.params||{},g)}),Rs(this.states,"true","1"),Rs(this.states,"false","0"),a.transitions.forEach(T=>{this.transitionFactories.push(new Sr(c,T,this.states))}),this.fallbackTransition=function Ur(E,c,a){return new Sr(E,{type:1,animation:{type:2,steps:[],options:null},matchers:[(se,Te)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,a,g,T){return this.transitionFactories.find(se=>se.match(c,a,g,T))||null}matchStyles(c,a,g){return this.fallbackTransition.buildStyles(c,a,g)}}function Rs(E,c,a){E.hasOwnProperty(c)?E.hasOwnProperty(a)||(E[a]=E[c]):E.hasOwnProperty(a)&&(E[c]=E[a])}const uu=new Pr;class Yo{constructor(c,a,g){this.bodyNode=c,this._driver=a,this._normalizer=g,this._animations={},this._playersById={},this.players=[]}register(c,a){const g=[],B=wn(this._driver,a,g,[]);if(g.length)throw function Zo(E){return new h.vHH(3503,Zn)}();this._animations[c]=B}_buildPlayer(c,a,g){const T=c.element,B=Ks(0,this._normalizer,0,c.keyframes,a,g);return this._driver.animate(T,B,c.duration,c.delay,c.easing,[],!0)}create(c,a,g={}){const T=[],B=this._animations[c];let se;const Te=new Map;if(B?(se=mr(this._driver,a,B,ns,co,{},{},g,uu,T),se.forEach(Xt=>{const Tn=Ar(Te,Xt.element,{});Xt.postStyleProps.forEach(Wn=>Tn[Wn]=null)})):(T.push(function ma(){return new h.vHH(3300,Zn)}()),se=[]),T.length)throw function Gt(E){return new h.vHH(3504,Zn)}();Te.forEach((Xt,Tn)=>{Object.keys(Xt).forEach(Wn=>{Xt[Wn]=this._driver.computeStyle(Tn,Wn,Ai.l3)})});const Ct=lo(se.map(Xt=>{const Tn=Te.get(Xt.element);return this._buildPlayer(Xt,{},Tn)}));return this._playersById[c]=Ct,Ct.onDestroy(()=>this.destroy(c)),this.players.push(Ct),Ct}destroy(c){const a=this._getPlayer(c);a.destroy(),delete this._playersById[c];const g=this.players.indexOf(a);g>=0&&this.players.splice(g,1)}_getPlayer(c){const a=this._playersById[c];if(!a)throw function bi(E){return new h.vHH(3301,Zn)}();return a}listen(c,a,g,T){const B=uo(a,"","","");return Mr(this._getPlayer(c),g,B,T),()=>{}}command(c,a,g,T){if("register"==g)return void this.register(c,T[0]);if("create"==g)return void this.create(c,a,T[0]||{});const B=this._getPlayer(c);switch(g){case"play":B.play();break;case"pause":B.pause();break;case"reset":B.reset();break;case"restart":B.restart();break;case"finish":B.finish();break;case"init":B.init();break;case"setPosition":B.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(c)}}}const Ca="ng-animate-queued",Po="ng-animate-disabled",la=[],Yr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ro={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qr="__ng_removed";class No{constructor(c,a=""){this.namespaceId=a;const g=c&&c.hasOwnProperty("value");if(this.value=function Ka(E){return null!=E?E:null}(g?c.value:c),g){const B=Kt(c);delete B.value,this.options=B}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(c){const a=c.params;if(a){const g=this.options.params;Object.keys(a).forEach(T=>{null==g[T]&&(g[T]=a[T])})}}}const Wa="void",Ns=new No(Wa);class jl{constructor(c,a,g){this.id=c,this.hostElement=a,this._engine=g,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,Ls(a,this._hostClassName)}listen(c,a,g,T){if(!this._triggers.hasOwnProperty(a))throw function ml(E,c){return new h.vHH(3302,Zn)}();if(null==g||0==g.length)throw function lr(E){return new h.vHH(3303,Zn)}();if(!function ll(E){return"start"==E||"done"==E}(g))throw function ya(E,c){return new h.vHH(3400,Zn)}();const B=Ar(this._elementListeners,c,[]),se={name:a,phase:g,callback:T};B.push(se);const Te=Ar(this._engine.statesByElement,c,{});return Te.hasOwnProperty(a)||(Ls(c,Ji),Ls(c,Ji+"-"+a),Te[a]=Ns),()=>{this._engine.afterFlush(()=>{const Xe=B.indexOf(se);Xe>=0&&B.splice(Xe,1),this._triggers[a]||delete Te[a]})}}register(c,a){return!this._triggers[c]&&(this._triggers[c]=a,!0)}_getTrigger(c){const a=this._triggers[c];if(!a)throw function Co(E){return new h.vHH(3401,Zn)}();return a}trigger(c,a,g,T=!0){const B=this._getTrigger(a),se=new Za(this.id,a,c);let Te=this._engine.statesByElement.get(c);Te||(Ls(c,Ji),Ls(c,Ji+"-"+a),this._engine.statesByElement.set(c,Te={}));let Xe=Te[a];const Ct=new No(g,this.id);if(!(g&&g.hasOwnProperty("value"))&&Xe&&Ct.absorbOptions(Xe.options),Te[a]=Ct,Xe||(Xe=Ns),Ct.value!==Wa&&Xe.value===Ct.value){if(!function Ie(E,c){const a=Object.keys(E),g=Object.keys(c);if(a.length!=g.length)return!1;for(let T=0;T<a.length;T++){const B=a[T];if(!c.hasOwnProperty(B)||E[B]!==c[B])return!1}return!0}(Xe.params,Ct.params)){const pi=[],cr=B.matchStyles(Xe.value,Xe.params,pi),cs=B.matchStyles(Ct.value,Ct.params,pi);pi.length?this._engine.reportError(pi):this._engine.afterFlush(()=>{Is(c,cr),In(c,cs)})}return}const Wn=Ar(this._engine.playersByElement,c,[]);Wn.forEach(pi=>{pi.namespaceId==this.id&&pi.triggerName==a&&pi.queued&&pi.destroy()});let fi=B.matchTransition(Xe.value,Ct.value,c,Ct.params),qn=!1;if(!fi){if(!T)return;fi=B.fallbackTransition,qn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:a,transition:fi,fromState:Xe,toState:Ct,player:se,isFallbackTransition:qn}),qn||(Ls(c,Ca),se.onStart(()=>{qa(c,Ca)})),se.onDone(()=>{let pi=this.players.indexOf(se);pi>=0&&this.players.splice(pi,1);const cr=this._engine.playersByElement.get(c);if(cr){let cs=cr.indexOf(se);cs>=0&&cr.splice(cs,1)}}),this.players.push(se),Wn.push(se),se}deregister(c){delete this._triggers[c],this._engine.statesByElement.forEach((a,g)=>{delete a[c]}),this._elementListeners.forEach((a,g)=>{this._elementListeners.set(g,a.filter(T=>T.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const a=this._engine.playersByElement.get(c);a&&(a.forEach(g=>g.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,a){const g=this._engine.driver.query(c,_a,!0);g.forEach(T=>{if(T[Qr])return;const B=this._engine.fetchNamespacesByElement(T);B.size?B.forEach(se=>se.triggerLeaveAnimation(T,a,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>g.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(c,a,g,T){const B=this._engine.statesByElement.get(c),se=new Map;if(B){const Te=[];if(Object.keys(B).forEach(Xe=>{if(se.set(Xe,B[Xe].value),this._triggers[Xe]){const Ct=this.trigger(c,Xe,Wa,T);Ct&&Te.push(Ct)}}),Te.length)return this._engine.markElementAsRemoved(this.id,c,!0,a,se),g&&lo(Te).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const a=this._elementListeners.get(c),g=this._engine.statesByElement.get(c);if(a&&g){const T=new Set;a.forEach(B=>{const se=B.name;if(T.has(se))return;T.add(se);const Xe=this._triggers[se].fallbackTransition,Ct=g[se]||Ns,Xt=new No(Wa),Tn=new Za(this.id,se,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:se,transition:Xe,fromState:Ct,toState:Xt,player:Tn,isFallbackTransition:!0})})}}removeNode(c,a){const g=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,a),this.triggerLeaveAnimation(c,a,!0))return;let T=!1;if(g.totalAnimations){const B=g.players.length?g.playersByQueriedElement.get(c):[];if(B&&B.length)T=!0;else{let se=c;for(;se=se.parentNode;)if(g.statesByElement.get(se)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(c),T)g.markElementAsRemoved(this.id,c,!1,a);else{const B=c[Qr];(!B||B===Yr)&&(g.afterFlush(()=>this.clearElementCache(c)),g.destroyInnerAnimations(c),g._onRemovalComplete(c,a))}}insertNode(c,a){Ls(c,this._hostClassName)}drainQueuedTransitions(c){const a=[];return this._queue.forEach(g=>{const T=g.player;if(T.destroyed)return;const B=g.element,se=this._elementListeners.get(B);se&&se.forEach(Te=>{if(Te.name==g.triggerName){const Xe=uo(B,g.triggerName,g.fromState.value,g.toState.value);Xe._data=c,Mr(g.player,Te.phase,Xe,Te.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):a.push(g)}),this._queue=[],a.sort((g,T)=>{const B=g.transition.ast.depCount,se=T.transition.ast.depCount;return 0==B||0==se?B-se:this._engine.driver.containsElement(g.element,T.element)?1:-1})}destroy(c){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}elementContainsData(c){let a=!1;return this._elementListeners.has(c)&&(a=!0),a=!!this._queue.find(g=>g.element===c)||a,a}}class ua{constructor(c,a,g){this.bodyNode=c,this.driver=a,this._normalizer=g,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,B)=>{}}_onRemovalComplete(c,a){this.onRemovalComplete(c,a)}get queuedPlayers(){const c=[];return this._namespaceList.forEach(a=>{a.players.forEach(g=>{g.queued&&c.push(g)})}),c}createNamespace(c,a){const g=new jl(c,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(g,a):(this.newHostElements.set(a,g),this.collectEnterElement(a)),this._namespaceLookup[c]=g}_balanceNamespaceList(c,a){const g=this._namespaceList,T=this.namespacesByHostElement,B=g.length-1;if(B>=0){let se=!1;if(void 0!==this.driver.getParentElement){let Te=this.driver.getParentElement(a);for(;Te;){const Xe=T.get(Te);if(Xe){const Ct=g.indexOf(Xe);g.splice(Ct+1,0,c),se=!0;break}Te=this.driver.getParentElement(Te)}}else for(let Te=B;Te>=0;Te--)if(this.driver.containsElement(g[Te].hostElement,a)){g.splice(Te+1,0,c),se=!0;break}se||g.unshift(c)}else g.push(c);return T.set(a,c),c}register(c,a){let g=this._namespaceLookup[c];return g||(g=this.createNamespace(c,a)),g}registerTrigger(c,a,g){let T=this._namespaceLookup[c];T&&T.register(a,g)&&this.totalAnimations++}destroy(c,a){if(!c)return;const g=this._fetchNamespace(c);this.afterFlush(()=>{this.namespacesByHostElement.delete(g.hostElement),delete this._namespaceLookup[c];const T=this._namespaceList.indexOf(g);T>=0&&this._namespaceList.splice(T,1)}),this.afterFlushAnimationsDone(()=>g.destroy(a))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const a=new Set,g=this.statesByElement.get(c);if(g){const T=Object.keys(g);for(let B=0;B<T.length;B++){const se=g[T[B]].namespaceId;if(se){const Te=this._fetchNamespace(se);Te&&a.add(Te)}}}return a}trigger(c,a,g,T){if(Xs(a)){const B=this._fetchNamespace(c);if(B)return B.trigger(a,g,T),!0}return!1}insertNode(c,a,g,T){if(!Xs(a))return;const B=a[Qr];if(B&&B.setForRemoval){B.setForRemoval=!1,B.setForMove=!0;const se=this.collectedLeaveElements.indexOf(a);se>=0&&this.collectedLeaveElements.splice(se,1)}if(c){const se=this._fetchNamespace(c);se&&se.insertNode(a,g)}T&&this.collectEnterElement(a)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,a){a?this.disabledNodes.has(c)||(this.disabledNodes.add(c),Ls(c,Po)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),qa(c,Po))}removeNode(c,a,g,T){if(Xs(a)){const B=c?this._fetchNamespace(c):null;if(B?B.removeNode(a,T):this.markElementAsRemoved(c,a,!1,T),g){const se=this.namespacesByHostElement.get(a);se&&se.id!==c&&se.removeNode(a,T)}}else this._onRemovalComplete(a,T)}markElementAsRemoved(c,a,g,T,B){this.collectedLeaveElements.push(a),a[Qr]={namespaceId:c,setForRemoval:T,hasAnimation:g,removedBeforeQueried:!1,previousTriggersValues:B}}listen(c,a,g,T,B){return Xs(a)?this._fetchNamespace(c).listen(a,g,T,B):()=>{}}_buildInstruction(c,a,g,T,B){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,g,T,c.fromState.options,c.toState.options,a,B)}destroyInnerAnimations(c){let a=this.driver.query(c,_a,!0);a.forEach(g=>this.destroyActiveAnimationsForElement(g)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(c,ji,!0),a.forEach(g=>this.finishActiveQueriedAnimationOnElement(g)))}destroyActiveAnimationsForElement(c){const a=this.playersByElement.get(c);a&&a.forEach(g=>{g.queued?g.markedForDestroy=!0:g.destroy()})}finishActiveQueriedAnimationOnElement(c){const a=this.playersByQueriedElement.get(c);a&&a.forEach(g=>g.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return lo(this.players).onDone(()=>c());c()})}processLeaveNode(c){var a;const g=c[Qr];if(g&&g.setForRemoval){if(c[Qr]=Yr,g.namespaceId){this.destroyInnerAnimations(c);const T=this._fetchNamespace(g.namespaceId);T&&T.clearElementCache(c)}this._onRemovalComplete(c,g.setForRemoval)}(null===(a=c.classList)||void 0===a?void 0:a.contains(Po))&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(c=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((g,T)=>this._balanceNamespaceList(g,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let g=0;g<this.collectedEnterElements.length;g++)Ls(this.collectedEnterElements[g],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const g=[];try{a=this._flushAnimations(g,c)}finally{for(let T=0;T<g.length;T++)g[T]()}}else for(let g=0;g<this.collectedLeaveElements.length;g++)this.processLeaveNode(this.collectedLeaveElements[g]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(g=>g()),this._flushFns=[],this._whenQuietFns.length){const g=this._whenQuietFns;this._whenQuietFns=[],a.length?lo(a).onDone(()=>{g.forEach(T=>T())}):g.forEach(T=>T())}}reportError(c){throw function Hs(E){return new h.vHH(3402,Zn)}()}_flushAnimations(c,a){const g=new Pr,T=[],B=new Map,se=[],Te=new Map,Xe=new Map,Ct=new Map,Xt=new Set;this.disabledNodes.forEach(Un=>{Xt.add(Un);const kn=this.driver.query(Un,".ng-animate-queued",!0);for(let Kn=0;Kn<kn.length;Kn++)Xt.add(kn[Kn])});const Tn=this.bodyNode,Wn=Array.from(this.statesByElement.keys()),fi=cl(Wn,this.collectedEnterElements),qn=new Map;let pi=0;fi.forEach((Un,kn)=>{const Kn=ns+pi++;qn.set(kn,Kn),Un.forEach(Qi=>Ls(Qi,Kn))});const cr=[],cs=new Set,Jr=new Set;for(let Un=0;Un<this.collectedLeaveElements.length;Un++){const kn=this.collectedLeaveElements[Un],Kn=kn[Qr];Kn&&Kn.setForRemoval&&(cr.push(kn),cs.add(kn),Kn.hasAnimation?this.driver.query(kn,".ng-star-inserted",!0).forEach(Qi=>cs.add(Qi)):Jr.add(kn))}const ys=new Map,vs=cl(Wn,Array.from(cs));vs.forEach((Un,kn)=>{const Kn=co+pi++;ys.set(kn,Kn),Un.forEach(Qi=>Ls(Qi,Kn))}),c.push(()=>{fi.forEach((Un,kn)=>{const Kn=qn.get(kn);Un.forEach(Qi=>qa(Qi,Kn))}),vs.forEach((Un,kn)=>{const Kn=ys.get(kn);Un.forEach(Qi=>qa(Qi,Kn))}),cr.forEach(Un=>{this.processLeaveNode(Un)})});const fa=[],Sa=[];for(let Un=this._namespaceList.length-1;Un>=0;Un--)this._namespaceList[Un].drainQueuedTransitions(a).forEach(Kn=>{const Qi=Kn.player,zs=Kn.element;if(fa.push(Qi),this.collectedEnterElements.length){const yo=zs[Qr];if(yo&&yo.setForMove){if(yo.previousTriggersValues&&yo.previousTriggersValues.has(Kn.triggerName)){const il=yo.previousTriggersValues.get(Kn.triggerName),Rl=this.statesByElement.get(Kn.element);Rl&&Rl[Kn.triggerName]&&(Rl[Kn.triggerName].value=il)}return void Qi.destroy()}}const nl=!Tn||!this.driver.containsElement(Tn,zs),xa=ys.get(zs),so=qn.get(zs),Br=this._buildInstruction(Kn,g,so,xa,nl);if(Br.errors&&Br.errors.length)return void Sa.push(Br);if(nl)return Qi.onStart(()=>Is(zs,Br.fromStyles)),Qi.onDestroy(()=>In(zs,Br.toStyles)),void T.push(Qi);if(Kn.isFallbackTransition)return Qi.onStart(()=>Is(zs,Br.fromStyles)),Qi.onDestroy(()=>In(zs,Br.toStyles)),void T.push(Qi);const Rc=[];Br.timelines.forEach(yo=>{yo.stretchStartingKeyframe=!0,this.disabledNodes.has(yo.element)||Rc.push(yo)}),Br.timelines=Rc,g.append(zs,Br.timelines),se.push({instruction:Br,player:Qi,element:zs}),Br.queriedElements.forEach(yo=>Ar(Te,yo,[]).push(Qi)),Br.preStyleProps.forEach((yo,il)=>{const Rl=Object.keys(yo);if(Rl.length){let ql=Xe.get(il);ql||Xe.set(il,ql=new Set),Rl.forEach(oc=>ql.add(oc))}}),Br.postStyleProps.forEach((yo,il)=>{const Rl=Object.keys(yo);let ql=Ct.get(il);ql||Ct.set(il,ql=new Set),Rl.forEach(oc=>ql.add(oc))})});if(Sa.length){const Un=[];Sa.forEach(kn=>{Un.push(function va(E,c){return new h.vHH(3505,Zn)}())}),fa.forEach(kn=>kn.destroy()),this.reportError(Un)}const io=new Map,Bo=new Map;se.forEach(Un=>{const kn=Un.element;g.has(kn)&&(Bo.set(kn,kn),this._beforeAnimationBuild(Un.player.namespaceId,Un.instruction,io))}),T.forEach(Un=>{const kn=Un.element;this._getPreviousPlayers(kn,!1,Un.namespaceId,Un.triggerName,null).forEach(Qi=>{Ar(io,kn,[]).push(Qi),Qi.destroy()})});const Xo=cr.filter(Un=>rt(Un,Xe,Ct)),Pl=new Map;Qo(Pl,this.driver,Jr,Ct,Ai.l3).forEach(Un=>{rt(Un,Xe,Ct)&&Xo.push(Un)});const sc=new Map;fi.forEach((Un,kn)=>{Qo(sc,this.driver,new Set(Un),Xe,Ai.k1)}),Xo.forEach(Un=>{const kn=Pl.get(Un),Kn=sc.get(Un);Pl.set(Un,Object.assign(Object.assign({},kn),Kn))});const Kl=[],ro=[],nh={};se.forEach(Un=>{const{element:kn,player:Kn,instruction:Qi}=Un;if(g.has(kn)){if(Xt.has(kn))return Kn.onDestroy(()=>In(kn,Qi.toStyles)),Kn.disabled=!0,Kn.overrideTotalTime(Qi.totalTime),void T.push(Kn);let zs=nh;if(Bo.size>1){let xa=kn;const so=[];for(;xa=xa.parentNode;){const Br=Bo.get(xa);if(Br){zs=Br;break}so.push(xa)}so.forEach(Br=>Bo.set(Br,zs))}const nl=this._buildAnimation(Kn.namespaceId,Qi,io,B,sc,Pl);if(Kn.setRealPlayer(nl),zs===nh)Kl.push(Kn);else{const xa=this.playersByElement.get(zs);xa&&xa.length&&(Kn.parentPlayer=lo(xa)),T.push(Kn)}}else Is(kn,Qi.fromStyles),Kn.onDestroy(()=>In(kn,Qi.toStyles)),ro.push(Kn),Xt.has(kn)&&T.push(Kn)}),ro.forEach(Un=>{const kn=B.get(Un.element);if(kn&&kn.length){const Kn=lo(kn);Un.setRealPlayer(Kn)}}),T.forEach(Un=>{Un.parentPlayer?Un.syncPlayerEvents(Un.parentPlayer):Un.destroy()});for(let Un=0;Un<cr.length;Un++){const kn=cr[Un],Kn=kn[Qr];if(qa(kn,co),Kn&&Kn.hasAnimation)continue;let Qi=[];if(Te.size){let nl=Te.get(kn);nl&&nl.length&&Qi.push(...nl);let xa=this.driver.query(kn,ji,!0);for(let so=0;so<xa.length;so++){let Br=Te.get(xa[so]);Br&&Br.length&&Qi.push(...Br)}}const zs=Qi.filter(nl=>!nl.destroyed);zs.length?R(this,kn,zs):this.processLeaveNode(kn)}return cr.length=0,Kl.forEach(Un=>{this.players.push(Un),Un.onDone(()=>{Un.destroy();const kn=this.players.indexOf(Un);this.players.splice(kn,1)}),Un.play()}),Kl}elementContainsData(c,a){let g=!1;const T=a[Qr];return T&&T.setForRemoval&&(g=!0),this.playersByElement.has(a)&&(g=!0),this.playersByQueriedElement.has(a)&&(g=!0),this.statesByElement.has(a)&&(g=!0),this._fetchNamespace(c).elementContainsData(a)||g}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,a,g,T,B){let se=[];if(a){const Te=this.playersByQueriedElement.get(c);Te&&(se=Te)}else{const Te=this.playersByElement.get(c);if(Te){const Xe=!B||B==Wa;Te.forEach(Ct=>{Ct.queued||!Xe&&Ct.triggerName!=T||se.push(Ct)})}}return(g||T)&&(se=se.filter(Te=>!(g&&g!=Te.namespaceId||T&&T!=Te.triggerName))),se}_beforeAnimationBuild(c,a,g){const B=a.element,se=a.isRemovalTransition?void 0:c,Te=a.isRemovalTransition?void 0:a.triggerName;for(const Xe of a.timelines){const Ct=Xe.element,Xt=Ct!==B,Tn=Ar(g,Ct,[]);this._getPreviousPlayers(Ct,Xt,se,Te,a.toState).forEach(fi=>{const qn=fi.getRealPlayer();qn.beforeDestroy&&qn.beforeDestroy(),fi.destroy(),Tn.push(fi)})}Is(B,a.fromStyles)}_buildAnimation(c,a,g,T,B,se){const Te=a.triggerName,Xe=a.element,Ct=[],Xt=new Set,Tn=new Set,Wn=a.timelines.map(qn=>{const pi=qn.element;Xt.add(pi);const cr=pi[Qr];if(cr&&cr.removedBeforeQueried)return new Ai.ZN(qn.duration,qn.delay);const cs=pi!==Xe,Jr=function U(E){const c=[];return oe(E,c),c}((g.get(pi)||la).map(io=>io.getRealPlayer())).filter(io=>!!io.element&&io.element===pi),ys=B.get(pi),vs=se.get(pi),fa=Ks(0,this._normalizer,0,qn.keyframes,ys,vs),Sa=this._buildPlayer(qn,fa,Jr);if(qn.subTimeline&&T&&Tn.add(pi),cs){const io=new Za(c,Te,pi);io.setRealPlayer(Sa),Ct.push(io)}return Sa});Ct.forEach(qn=>{Ar(this.playersByQueriedElement,qn.element,[]).push(qn),qn.onDone(()=>function Lo(E,c,a){let g;if(E instanceof Map){if(g=E.get(c),g){if(g.length){const T=g.indexOf(a);g.splice(T,1)}0==g.length&&E.delete(c)}}else if(g=E[c],g){if(g.length){const T=g.indexOf(a);g.splice(T,1)}0==g.length&&delete E[c]}return g}(this.playersByQueriedElement,qn.element,qn))}),Xt.forEach(qn=>Ls(qn,lu));const fi=lo(Wn);return fi.onDestroy(()=>{Xt.forEach(qn=>qa(qn,lu)),In(Xe,a.toStyles)}),Tn.forEach(qn=>{Ar(T,qn,[]).push(fi)}),fi}_buildPlayer(c,a,g){return a.length>0?this.driver.animate(c.element,a,c.duration,c.delay,c.easing,g):new Ai.ZN(c.duration,c.delay)}}class Za{constructor(c,a,g){this.namespaceId=c,this.triggerName=a,this.element=g,this._player=new Ai.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,Object.keys(this._queuedCallbacks).forEach(a=>{this._queuedCallbacks[a].forEach(g=>Mr(c,a,void 0,g))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const a=this._player;a.triggerCallback&&c.onStart(()=>a.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,a){Ar(this._queuedCallbacks,c,[]).push(a)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const a=this._player;a.triggerCallback&&a.triggerCallback(c)}}function Xs(E){return E&&1===E.nodeType}function ul(E,c){const a=E.style.display;return E.style.display=null!=c?c:"none",a}function Qo(E,c,a,g,T){const B=[];a.forEach(Xe=>B.push(ul(Xe)));const se=[];g.forEach((Xe,Ct)=>{const Xt={};Xe.forEach(Tn=>{const Wn=Xt[Tn]=c.computeStyle(Ct,Tn,T);(!Wn||0==Wn.length)&&(Ct[Qr]=Ro,se.push(Ct))}),E.set(Ct,Xt)});let Te=0;return a.forEach(Xe=>ul(Xe,B[Te++])),se}function cl(E,c){const a=new Map;if(E.forEach(Te=>a.set(Te,[])),0==c.length)return a;const T=new Set(c),B=new Map;function se(Te){if(!Te)return 1;let Xe=B.get(Te);if(Xe)return Xe;const Ct=Te.parentNode;return Xe=a.has(Ct)?Ct:T.has(Ct)?1:se(Ct),B.set(Te,Xe),Xe}return c.forEach(Te=>{const Xe=se(Te);1!==Xe&&a.get(Xe).push(Te)}),a}function Ls(E,c){var a;null===(a=E.classList)||void 0===a||a.add(c)}function qa(E,c){var a;null===(a=E.classList)||void 0===a||a.remove(c)}function R(E,c,a){lo(a).onDone(()=>E.processLeaveNode(c))}function oe(E,c){for(let a=0;a<E.length;a++){const g=E[a];g instanceof Ai.ZE?oe(g.players,c):c.push(g)}}function rt(E,c,a){const g=a.get(E);if(!g)return!1;let T=c.get(E);return T?g.forEach(B=>T.add(B)):c.set(E,g),a.delete(E),!0}class Et{constructor(c,a,g){this.bodyNode=c,this._driver=a,this._normalizer=g,this._triggerCache={},this.onRemovalComplete=(T,B)=>{},this._transitionEngine=new ua(c,a,g),this._timelineEngine=new Yo(c,a,g),this._transitionEngine.onRemovalComplete=(T,B)=>this.onRemovalComplete(T,B)}registerTrigger(c,a,g,T,B){const se=c+"-"+T;let Te=this._triggerCache[se];if(!Te){const Xe=[],Xt=wn(this._driver,B,Xe,[]);if(Xe.length)throw function ws(E,c){return new h.vHH(3404,Zn)}();Te=function Ga(E,c,a){return new br(E,c,a)}(T,Xt,this._normalizer),this._triggerCache[se]=Te}this._transitionEngine.registerTrigger(a,T,Te)}register(c,a){this._transitionEngine.register(c,a)}destroy(c,a){this._transitionEngine.destroy(c,a)}onInsert(c,a,g,T){this._transitionEngine.insertNode(c,a,g,T)}onRemove(c,a,g,T){this._transitionEngine.removeNode(c,a,T||!1,g)}disableAnimations(c,a){this._transitionEngine.markElementAsDisabled(c,a)}process(c,a,g,T){if("@"==g.charAt(0)){const[B,se]=Cs(g);this._timelineEngine.command(B,a,se,T)}else this._transitionEngine.trigger(c,a,g,T)}listen(c,a,g,T,B){if("@"==g.charAt(0)){const[se,Te]=Cs(g);return this._timelineEngine.listen(se,a,Te,B)}return this._transitionEngine.listen(c,a,g,T,B)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let dn=(()=>{class E{constructor(a,g,T){this._element=a,this._startStyles=g,this._endStyles=T,this._state=0;let B=E.initialStylesByElement.get(a);B||E.initialStylesByElement.set(a,B={}),this._initialStyles=B}start(){this._state<1&&(this._startStyles&&In(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(In(this._element,this._initialStyles),this._endStyles&&(In(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(E.initialStylesByElement.delete(this._element),this._startStyles&&(Is(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Is(this._element,this._endStyles),this._endStyles=null),In(this._element,this._initialStyles),this._state=3)}}return E.initialStylesByElement=new WeakMap,E})();function Bn(E){let c=null;const a=Object.keys(E);for(let g=0;g<a.length;g++){const T=a[g];ai(T)&&(c=c||{},c[T]=E[T])}return c}function ai(E){return"display"===E||"position"===E}class ri{constructor(c,a,g,T){this.element=c,this.keyframes=a,this.options=g,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=g.duration,this._delay=g.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(c,a,g){return c.animate(a,g)}onStart(c){this._onStartFns.push(c)}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c={};if(this.hasStarted()){const a=this._finalKeyframe;Object.keys(a).forEach(g=>{"offset"!=g&&(c[g]=this._finished?a[g]:Ea(this.element,g))})}this.currentSnapshot=c}triggerCallback(c){const a="start"==c?this._onStartFns:this._onDoneFns;a.forEach(g=>g()),a.length=0}}class zn{validateStyleProperty(c){return Io(c)}matchesElement(c,a){return!1}containsElement(c,a){return Ao(c,a)}getParentElement(c){return Ts(c)}query(c,a,g){return So(c,a,g)}computeStyle(c,a,g){return window.getComputedStyle(c)[a]}animate(c,a,g,T,B,se=[]){const Xe={duration:g,delay:T,fill:0==T?"both":"forwards"};B&&(Xe.easing=B);const Ct={},Xt=se.filter(Wn=>Wn instanceof ri);(function al(E,c){return 0===E||0===c})(g,T)&&Xt.forEach(Wn=>{let fi=Wn.currentSnapshot;Object.keys(fi).forEach(qn=>Ct[qn]=fi[qn])}),a=function Fa(E,c,a){const g=Object.keys(a);if(g.length&&c.length){let B=c[0],se=[];if(g.forEach(Te=>{B.hasOwnProperty(Te)||se.push(Te),B[Te]=a[Te]}),se.length)for(var T=1;T<c.length;T++){let Te=c[T];se.forEach(function(Xe){Te[Xe]=Ea(E,Xe)})}}return c}(c,a=a.map(Wn=>$i(Wn,!1)),Ct);const Tn=function Jt(E,c){let a=null,g=null;return Array.isArray(c)&&c.length?(a=Bn(c[0]),c.length>1&&(g=Bn(c[c.length-1]))):c&&(a=Bn(c)),a||g?new dn(E,a,g):null}(c,a);return new ri(c,a,Xe,Tn)}}let rs=(()=>{class E extends Ai._j{constructor(a,g){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(g.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(a){const g=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(a)?(0,Ai.vP)(a):a;return Jo(this._renderer,null,g,"register",[T]),new Yi(g,this._renderer)}}return E.\u0275fac=function(a){return new(a||E)(h.LFG(h.FYo),h.LFG(ut.K0))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),E})();class Yi extends Ai.LC{constructor(c,a){super(),this._id=c,this._renderer=a}create(c,a){return new dl(this._id,c,a||{},this._renderer)}}class dl{constructor(c,a,g,T){this.id=c,this.element=a,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",g)}_listen(c,a){return this._renderer.listen(this.element,`@@${this.id}:${c}`,a)}_command(c,...a){return Jo(this._renderer,this.element,this.id,c,a)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){var c,a;return null!==(a=null===(c=this._renderer.engine.players[+this.id])||void 0===c?void 0:c.getPosition())&&void 0!==a?a:0}}function Jo(E,c,a,g,T){return E.setProperty(c,`@@${a}:${g}`,T)}const $l="@.disabled";let Ta=(()=>{class E{constructor(a,g,T){this.delegate=a,this.engine=g,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),g.onRemovalComplete=(B,se)=>{const Te=null==se?void 0:se.parentNode(B);Te&&se.removeChild(Te,B)}}createRenderer(a,g){const B=this.delegate.createRenderer(a,g);if(!(a&&g&&g.data&&g.data.animation)){let Xt=this._rendererCache.get(B);return Xt||(Xt=new Ya("",B,this.engine),this._rendererCache.set(B,Xt)),Xt}const se=g.id,Te=g.id+"-"+this._currentId;this._currentId++,this.engine.register(Te,a);const Xe=Xt=>{Array.isArray(Xt)?Xt.forEach(Xe):this.engine.registerTrigger(se,Te,a,Xt.name,Xt)};return g.data.animation.forEach(Xe),new ca(this,Te,B,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(a,g,T){a>=0&&a<this._microtaskId?this._zone.run(()=>g(T)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(B=>{const[se,Te]=B;se(Te)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([g,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return E.\u0275fac=function(a){return new(a||E)(h.LFG(h.FYo),h.LFG(Et),h.LFG(h.R0b))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),E})();class Ya{constructor(c,a,g){this.namespaceId=c,this.delegate=a,this.engine=g,this.destroyNode=this.delegate.destroyNode?T=>a.destroyNode(T):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(c,a){return this.delegate.createElement(c,a)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,a){this.delegate.appendChild(c,a),this.engine.onInsert(this.namespaceId,a,c,!1)}insertBefore(c,a,g,T=!0){this.delegate.insertBefore(c,a,g),this.engine.onInsert(this.namespaceId,a,c,T)}removeChild(c,a,g){this.engine.onRemove(this.namespaceId,a,this.delegate,g)}selectRootElement(c,a){return this.delegate.selectRootElement(c,a)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,a,g,T){this.delegate.setAttribute(c,a,g,T)}removeAttribute(c,a,g){this.delegate.removeAttribute(c,a,g)}addClass(c,a){this.delegate.addClass(c,a)}removeClass(c,a){this.delegate.removeClass(c,a)}setStyle(c,a,g,T){this.delegate.setStyle(c,a,g,T)}removeStyle(c,a,g){this.delegate.removeStyle(c,a,g)}setProperty(c,a,g){"@"==a.charAt(0)&&a==$l?this.disableAnimations(c,!!g):this.delegate.setProperty(c,a,g)}setValue(c,a){this.delegate.setValue(c,a)}listen(c,a,g){return this.delegate.listen(c,a,g)}disableAnimations(c,a){this.engine.disableAnimations(c,a)}}class ca extends Ya{constructor(c,a,g,T){super(a,g,T),this.factory=c,this.namespaceId=a}setProperty(c,a,g){"@"==a.charAt(0)?"."==a.charAt(1)&&a==$l?this.disableAnimations(c,g=void 0===g||!!g):this.engine.process(this.namespaceId,c,a.substr(1),g):this.delegate.setProperty(c,a,g)}listen(c,a,g){if("@"==a.charAt(0)){const T=function Da(E){switch(E){case"body":return document.body;case"document":return document;case"window":return window;default:return E}}(c);let B=a.substr(1),se="";return"@"!=B.charAt(0)&&([B,se]=function eo(E){const c=E.indexOf(".");return[E.substring(0,c),E.substr(c+1)]}(B)),this.engine.listen(this.namespaceId,T,B,se,Te=>{this.factory.scheduleListenerCallback(Te._data||-1,g,Te)})}return this.delegate.listen(c,a,g)}}let Qa=(()=>{class E extends Et{constructor(a,g,T){super(a.body,g,T)}ngOnDestroy(){this.flush()}}return E.\u0275fac=function(a){return new(a||E)(h.LFG(ut.K0),h.LFG(sa),h.LFG(Rr))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),E})();const hl=new h.OlP("AnimationModuleType"),$s=[{provide:Ai._j,useClass:rs},{provide:Rr,useFactory:function td(){return new Ps}},{provide:Et,useClass:Qa},{provide:h.FYo,useFactory:function Sc(E,c,a){return new Ta(E,c,a)},deps:[f.se,Et,h.R0b]}],qu=[{provide:sa,useFactory:()=>new zn},{provide:hl,useValue:"BrowserAnimations"},...$s],du=[{provide:sa,useClass:_l},{provide:hl,useValue:"NoopAnimations"},...$s];let Ou=(()=>{class E{static withConfig(a){return{ngModule:E,providers:a.disableAnimations?du:qu}}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275mod=h.oAB({type:E}),E.\u0275inj=h.cJS({providers:qu,imports:[f.b2]}),E})();var Gl=x(8968),ko=x(4004);let zl=(()=>{class E{constructor(a,g){this.toastr=a,this.router=g}intercept(a,g){return g.handle(a).pipe((0,ko.U)(T=>{let B=null==T?void 0:T.body;return 0==(null==B?void 0:B.code)&&(null==B?void 0:B.message)?this.toastr.error(null==B?void 0:B.message,"",{timeOut:7e3}):3==(null==B?void 0:B.code)&&("ar"==localStorage.getItem("lang")?this.toastr.error("\u064a\u062c\u0628 \u0639\u0644\u064a\u0643  \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0645\u0624\u0629 \u0627\u062e\u0631\u064a","",{timeOut:7e3}):this.toastr.error("You Have To Login Again","",{timeOut:7e3}),localStorage.removeItem("joincart"),localStorage.removeItem("joinToken"),this.router.navigate(["/auth/login"]),location.reload()),T}))}}return E.\u0275fac=function(a){return new(a||E)(h.LFG(Gl._W),h.LFG(G.F0))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),E})();var ms=x(2011),to=x(3385),Tl=x(4986),Dl=x(8306),Wl=x(8996),Mu=x(9646),no=x(6351),Il=x(8675),Yu=x(4482),Qu=x(5403);function hu(){return(0,Yu.e)((E,c)=>{let a,g=!1;E.subscribe((0,Qu.x)(c,T=>{const B=a;a=T,g&&c.next([B,T]),g=!0}))})}var fu=x(5026),da=x(1884),Oc=x(9300),Mc=(x(5881),x(3942)),an=x(5525),Ia=x(2090),Aa=x(4859);function Ja(E,c){if(void 0===c)return{merge:!1};if(void 0!==c.mergeFields&&void 0!==c.merge)throw new an.WA("invalid-argument",`Invalid options passed to function ${E}(): You cannot specify both "merge" and "mergeFields".`);return c}function Xu(){if("undefined"==typeof Uint8Array)throw new an.WA("unimplemented","Uint8Arrays are not available in this environment.")}function pu(){if(!(0,an.Me)())throw new an.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Xa{constructor(c){this._delegate=c}static fromBase64String(c){return pu(),new Xa(an.Jj.fromBase64String(c))}static fromUint8Array(c){return Xu(),new Xa(an.Jj.fromUint8Array(c))}toBase64(){return pu(),this._delegate.toBase64()}toUint8Array(){return Xu(),this._delegate.toUint8Array()}isEqual(c){return this._delegate.isEqual(c._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Pu(E){return function ec(E,c){if("object"!=typeof E||null===E)return!1;const a=E;for(const g of c)if(g in a&&"function"==typeof a[g])return!0;return!1}(E,["next","error","complete"])}class Lr{enableIndexedDbPersistence(c,a){return(0,an.ST)(c._delegate,{forceOwnership:a})}enableMultiTabIndexedDbPersistence(c){return(0,an.fH)(c._delegate)}clearIndexedDbPersistence(c){return(0,an.Fc)(c._delegate)}}class gu{constructor(c,a,g){this._delegate=a,this._persistenceProvider=g,this.INTERNAL={delete:()=>this.terminate()},c instanceof an.l7||(this._appCompat=c)}get _databaseId(){return this._delegate._databaseId}settings(c){const a=this._delegate._getSettings();!c.merge&&a.host!==c.host&&(0,an.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),c.merge&&delete(c=Object.assign(Object.assign({},a),c)).merge,this._delegate._setSettings(c)}useEmulator(c,a,g={}){(0,an.at)(this._delegate,c,a,g)}enableNetwork(){return(0,an.Ix)(this._delegate)}disableNetwork(){return(0,an.TF)(this._delegate)}enablePersistence(c){let a=!1,g=!1;return c&&(a=!!c.synchronizeTabs,g=!!c.experimentalForceOwningTab,(0,an.Wi)("synchronizeTabs",a,"experimentalForceOwningTab",g)),a?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,g)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,an.Mx)(this._delegate)}onSnapshotsInSync(c){return(0,an.sc)(this._delegate,c)}get app(){if(!this._appCompat)throw new an.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(c){try{return new un(this,(0,an.hJ)(this._delegate,c))}catch(a){throw C(a,"collection()","Firestore.collection()")}}doc(c){try{return new Fo(this,(0,an.JU)(this._delegate,c))}catch(a){throw C(a,"doc()","Firestore.doc()")}}collectionGroup(c){try{return new de(this,(0,an.B$)(this._delegate,c))}catch(a){throw C(a,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(c){return(0,an.i3)(this._delegate,a=>c(new nd(this,a)))}batch(){return(0,an.qY)(this._delegate),new Sl(new an.PU(this._delegate,c=>(0,an.GL)(this._delegate,c)))}loadBundle(c){return(0,an.Pb)(this._delegate,c)}namedQuery(c){return(0,an.L$)(this._delegate,c).then(a=>a?new de(this,a):null)}}class Al extends an.u7{constructor(c){super(),this.firestore=c}convertBytes(c){return new Xa(new an.Jj(c))}convertReference(c){const a=this.convertDocumentKey(c,this.firestore._databaseId);return Fo.forKey(a,this.firestore,null)}}class nd{constructor(c,a){this._firestore=c,this._delegate=a,this._userDataWriter=new Al(c)}get(c){const a=cn(c);return this._delegate.get(a).then(g=>new A(this._firestore,new an.xU(this._firestore._delegate,this._userDataWriter,g._key,g._document,g.metadata,a.converter)))}set(c,a,g){const T=cn(c);return g?(Ja("Transaction.set",g),this._delegate.set(T,a,g)):this._delegate.set(T,a),this}update(c,a,g,...T){const B=cn(c);return 2===arguments.length?this._delegate.update(B,a):this._delegate.update(B,a,g,...T),this}delete(c){const a=cn(c);return this._delegate.delete(a),this}}class Sl{constructor(c){this._delegate=c}set(c,a,g){const T=cn(c);return g?(Ja("WriteBatch.set",g),this._delegate.set(T,a,g)):this._delegate.set(T,a),this}update(c,a,g,...T){const B=cn(c);return 2===arguments.length?this._delegate.update(B,a):this._delegate.update(B,a,g,...T),this}delete(c){const a=cn(c);return this._delegate.delete(a),this}commit(){return this._delegate.commit()}}class ha{constructor(c,a,g){this._firestore=c,this._userDataWriter=a,this._delegate=g}fromFirestore(c,a){const g=new an.$q(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,null);return this._delegate.fromFirestore(new Y(this._firestore,g),null!=a?a:{})}toFirestore(c,a){return a?this._delegate.toFirestore(c,a):this._delegate.toFirestore(c)}static getInstance(c,a){const g=ha.INSTANCES;let T=g.get(c);T||(T=new WeakMap,g.set(c,T));let B=T.get(a);return B||(B=new ha(c,new Al(c),a),T.set(a,B)),B}}ha.INSTANCES=new WeakMap;class Fo{constructor(c,a){this.firestore=c,this._delegate=a,this._userDataWriter=new Al(c)}static forPath(c,a,g){if(c.length%2!=0)throw new an.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${c.canonicalString()} has ${c.length}`);return new Fo(a,new an.my(a._delegate,g,new an.Ky(c)))}static forKey(c,a,g){return new Fo(a,new an.my(a._delegate,g,c))}get id(){return this._delegate.id}get parent(){return new un(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(c){try{return new un(this.firestore,(0,an.hJ)(this._delegate,c))}catch(a){throw C(a,"collection()","DocumentReference.collection()")}}isEqual(c){return(c=(0,Ia.m9)(c))instanceof an.my&&(0,an.Eo)(this._delegate,c)}set(c,a){a=Ja("DocumentReference.set",a);try{return a?(0,an.pl)(this._delegate,c,a):(0,an.pl)(this._delegate,c)}catch(g){throw C(g,"setDoc()","DocumentReference.set()")}}update(c,a,...g){try{return 1===arguments.length?(0,an.r7)(this._delegate,c):(0,an.r7)(this._delegate,c,a,...g)}catch(T){throw C(T,"updateDoc()","DocumentReference.update()")}}delete(){return(0,an.oe)(this._delegate)}onSnapshot(...c){const a=y(c),g=v(c,T=>new A(this.firestore,new an.xU(this.firestore._delegate,this._userDataWriter,T._key,T._document,T.metadata,this._delegate.converter)));return(0,an.cf)(this._delegate,a,g)}get(c){let a;return a="cache"===(null==c?void 0:c.source)?(0,an.kl)(this._delegate):"server"===(null==c?void 0:c.source)?(0,an.Xk)(this._delegate):(0,an.QT)(this._delegate),a.then(g=>new A(this.firestore,new an.xU(this.firestore._delegate,this._userDataWriter,g._key,g._document,g.metadata,this._delegate.converter)))}withConverter(c){return new Fo(this.firestore,this._delegate.withConverter(c?ha.getInstance(this.firestore,c):null))}}function C(E,c,a){return E.message=E.message.replace(c,a),E}function y(E){for(const c of E)if("object"==typeof c&&!Pu(c))return c;return{}}function v(E,c){var a,g;let T;return T=Pu(E[0])?E[0]:Pu(E[1])?E[1]:"function"==typeof E[0]?{next:E[0],error:E[1],complete:E[2]}:{next:E[1],error:E[2],complete:E[3]},{next:B=>{T.next&&T.next(c(B))},error:null===(a=T.error)||void 0===a?void 0:a.bind(T),complete:null===(g=T.complete)||void 0===g?void 0:g.bind(T)}}class A{constructor(c,a){this._firestore=c,this._delegate=a}get ref(){return new Fo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(c){return this._delegate.data(c)}get(c,a){return this._delegate.get(c,a)}isEqual(c){return(0,an.qK)(this._delegate,c._delegate)}}class Y extends A{data(c){const a=this._delegate.data(c);return(0,an.K9)(void 0!==a,"Document in a QueryDocumentSnapshot should exist"),a}}class de{constructor(c,a){this.firestore=c,this._delegate=a,this._userDataWriter=new Al(c)}where(c,a,g){try{return new de(this.firestore,(0,an.IO)(this._delegate,(0,an.ar)(c,a,g)))}catch(T){throw C(T,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(c,a){try{return new de(this.firestore,(0,an.IO)(this._delegate,(0,an.Xo)(c,a)))}catch(g){throw C(g,/(orderBy|where)\(\)/,"Query.$1()")}}limit(c){try{return new de(this.firestore,(0,an.IO)(this._delegate,(0,an.b9)(c)))}catch(a){throw C(a,"limit()","Query.limit()")}}limitToLast(c){try{return new de(this.firestore,(0,an.IO)(this._delegate,(0,an.vh)(c)))}catch(a){throw C(a,"limitToLast()","Query.limitToLast()")}}startAt(...c){try{return new de(this.firestore,(0,an.IO)(this._delegate,(0,an.e0)(...c)))}catch(a){throw C(a,"startAt()","Query.startAt()")}}startAfter(...c){try{return new de(this.firestore,(0,an.IO)(this._delegate,(0,an.TQ)(...c)))}catch(a){throw C(a,"startAfter()","Query.startAfter()")}}endBefore(...c){try{return new de(this.firestore,(0,an.IO)(this._delegate,(0,an.Lx)(...c)))}catch(a){throw C(a,"endBefore()","Query.endBefore()")}}endAt(...c){try{return new de(this.firestore,(0,an.IO)(this._delegate,(0,an.Wu)(...c)))}catch(a){throw C(a,"endAt()","Query.endAt()")}}isEqual(c){return(0,an.iE)(this._delegate,c._delegate)}get(c){let a;return a="cache"===(null==c?void 0:c.source)?(0,an.UQ)(this._delegate):"server"===(null==c?void 0:c.source)?(0,an.zN)(this._delegate):(0,an.PL)(this._delegate),a.then(g=>new Yt(this.firestore,new an.W(this.firestore._delegate,this._userDataWriter,this._delegate,g._snapshot)))}onSnapshot(...c){const a=y(c),g=v(c,T=>new Yt(this.firestore,new an.W(this.firestore._delegate,this._userDataWriter,this._delegate,T._snapshot)));return(0,an.cf)(this._delegate,a,g)}withConverter(c){return new de(this.firestore,this._delegate.withConverter(c?ha.getInstance(this.firestore,c):null))}}class dt{constructor(c,a){this._firestore=c,this._delegate=a}get type(){return this._delegate.type}get doc(){return new Y(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Yt{constructor(c,a){this._firestore=c,this._delegate=a}get query(){return new de(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(c=>new Y(this._firestore,c))}docChanges(c){return this._delegate.docChanges(c).map(a=>new dt(this._firestore,a))}forEach(c,a){this._delegate.forEach(g=>{c.call(a,new Y(this._firestore,g))})}isEqual(c){return(0,an.qK)(this._delegate,c._delegate)}}class un extends de{constructor(c,a){super(c,a),this.firestore=c,this._delegate=a}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const c=this._delegate.parent;return c?new Fo(this.firestore,c):null}doc(c){try{return new Fo(this.firestore,void 0===c?(0,an.JU)(this._delegate):(0,an.JU)(this._delegate,c))}catch(a){throw C(a,"doc()","CollectionReference.doc()")}}add(c){return(0,an.ET)(this._delegate,c).then(a=>new Fo(this.firestore,a))}isEqual(c){return(0,an.Eo)(this._delegate,c._delegate)}withConverter(c){return new un(this.firestore,this._delegate.withConverter(c?ha.getInstance(this.firestore,c):null))}}function cn(E){return(0,an.Cf)(E,an.my)}class hi{constructor(...c){this._delegate=new an.Lz(...c)}static documentId(){return new hi(an.Xb.keyField().canonicalString())}isEqual(c){return(c=(0,Ia.m9)(c))instanceof an.Lz&&this._delegate._internalPath.isEqual(c._internalPath)}}class sr{constructor(c){this._delegate=c}static serverTimestamp(){const c=(0,an.Bt)();return c._methodName="FieldValue.serverTimestamp",new sr(c)}static delete(){const c=(0,an.AK)();return c._methodName="FieldValue.delete",new sr(c)}static arrayUnion(...c){const a=(0,an.vr)(...c);return a._methodName="FieldValue.arrayUnion",new sr(a)}static arrayRemove(...c){const a=(0,an.Ab)(...c);return a._methodName="FieldValue.arrayRemove",new sr(a)}static increment(c){const a=(0,an.nP)(c);return a._methodName="FieldValue.increment",new sr(a)}isEqual(c){return this._delegate.isEqual(c._delegate)}}const Gs={Firestore:gu,GeoPoint:an.F8,Timestamp:an.EK,Blob:Xa,Transaction:nd,WriteBatch:Sl,DocumentReference:Fo,DocumentSnapshot:A,Query:de,QueryDocumentSnapshot:Y,QuerySnapshot:Yt,CollectionReference:un,FieldPath:hi,FieldValue:sr,setLogLevel:function Pc(E){(0,an.Ub)(E)},CACHE_SIZE_UNLIMITED:an.IX};!function Fs(E){(function el(E,c){E.INTERNAL.registerComponent(new Aa.wA("firestore-compat",a=>{const g=a.getProvider("app-compat").getImmediate(),T=a.getProvider("firestore").getImmediate();return c(g,T)},"PUBLIC").setServiceProps(Object.assign({},Gs)))})(E,(c,a)=>new gu(c,a,new Lr)),E.registerVersion("@firebase/firestore-compat","0.2.3")}(Mc.Z);var tc=x(440),xl=x(127);function Vo(E,c){return function nc(E,c=Tl.z){return new Dl.y(a=>{let g;return null!=c?c.schedule(()=>{g=E.onSnapshot({includeMetadataChanges:!0},a)}):g=E.onSnapshot({includeMetadataChanges:!0},a),()=>{null!=g&&g()}})}(E,c)}function tl(E,c){return Vo(E,c).pipe((0,ko.U)(a=>({payload:a,type:"query"})))}function Ml(E,c){return tl(E,c).pipe((0,Il.O)(void 0),hu(),(0,ko.U)(([a,g])=>{const T=g.payload.docChanges(),B=T.map(se=>({type:se.type,payload:se}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(g.payload.metadata)&&g.payload.docs.forEach((se,Te)=>{const Xe=T.find(Xt=>Xt.doc.ref.isEqual(se.ref)),Ct=null==a?void 0:a.payload.docs.find(Xt=>Xt.ref.isEqual(se.ref));Xe&&JSON.stringify(Xe.doc.metadata)===JSON.stringify(se.metadata)||!Xe&&Ct&&JSON.stringify(Ct.metadata)===JSON.stringify(se.metadata)||B.push({type:"modified",payload:{oldIndex:Te,newIndex:Te,type:"modified",doc:se}})}),B}))}function Ru(E,c,a){return Ml(E,a).pipe((0,fu.R)((g,T)=>function Fn(E,c,a){return c.forEach(g=>{a.indexOf(g.type)>-1&&(E=function Zl(E,c){switch(c.type){case"added":if(!E[c.newIndex]||!E[c.newIndex].doc.ref.isEqual(c.doc.ref))return Nu(E,c.newIndex,0,c);break;case"modified":if(null==E[c.oldIndex]||E[c.oldIndex].doc.ref.isEqual(c.doc.ref)){if(c.oldIndex!==c.newIndex){const a=E.slice();return a.splice(c.oldIndex,1),a.splice(c.newIndex,0,c),a}return Nu(E,c.newIndex,1,c)}break;case"removed":if(E[c.oldIndex]&&E[c.oldIndex].doc.ref.isEqual(c.doc.ref))return Nu(E,c.oldIndex,1)}return E}(E,g))}),E}(g,T.map(B=>B.payload),c),[]),(0,da.x)(),(0,ko.U)(g=>g.map(T=>({type:T.type,payload:T}))))}function Nu(E,c,a,...g){const T=E.slice();return T.splice(c,a,...g),T}function fl(E){return(!E||0===E.length)&&(E=["added","removed","modified"]),E}class mu{constructor(c,a,g){this.ref=c,this.query=a,this.afs=g}stateChanges(c){let a=Ml(this.query,this.afs.schedulers.outsideAngular);return c&&c.length>0&&(a=a.pipe((0,ko.U)(g=>g.filter(T=>c.indexOf(T.type)>-1)))),a.pipe((0,Il.O)(void 0),hu(),(0,Oc.h)(([g,T])=>T.length>0||!g),(0,ko.U)(([g,T])=>T),no.iC)}auditTrail(c){return this.stateChanges(c).pipe((0,fu.R)((a,g)=>[...a,...g],[]))}snapshotChanges(c){const a=fl(c);return Ru(this.query,a,this.afs.schedulers.outsideAngular).pipe(no.iC)}valueChanges(c={}){return tl(this.query,this.afs.schedulers.outsideAngular).pipe((0,ko.U)(a=>a.payload.docs.map(g=>c.idField?Object.assign(Object.assign({},g.data()),{[c.idField]:g.id}):g.data())),no.iC)}get(c){return(0,Wl.D)(this.query.get(c)).pipe(no.iC)}add(c){return this.ref.add(c)}doc(c){return new ic(this.ref.doc(c),this.afs)}}class ic{constructor(c,a){this.ref=c,this.afs=a}set(c,a){return this.ref.set(c,a)}update(c){return this.ref.update(c)}delete(){return this.ref.delete()}collection(c,a){const g=this.ref.collection(c),{ref:T,query:B}=Xd(g,a);return new mu(T,B,this.afs)}snapshotChanges(){return function Ol(E,c){return Vo(E,c).pipe((0,Il.O)(void 0),hu(),(0,ko.U)(([a,g])=>g.exists?(null==a?void 0:a.exists)?{payload:g,type:"modified"}:{payload:g,type:"added"}:{payload:g,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(no.iC)}valueChanges(c={}){return this.snapshotChanges().pipe((0,ko.U)(({payload:a})=>c.idField?Object.assign(Object.assign({},a.data()),{[c.idField]:a.id}):a.data()))}get(c){return(0,Wl.D)(this.ref.get(c)).pipe(no.iC)}}class Jd{constructor(c,a){this.query=c,this.afs=a}stateChanges(c){return c&&0!==c.length?Ml(this.query,this.afs.schedulers.outsideAngular).pipe((0,ko.U)(a=>a.filter(g=>c.indexOf(g.type)>-1)),(0,Oc.h)(a=>a.length>0),no.iC):Ml(this.query,this.afs.schedulers.outsideAngular).pipe(no.iC)}auditTrail(c){return this.stateChanges(c).pipe((0,fu.R)((a,g)=>[...a,...g],[]))}snapshotChanges(c){const a=fl(c);return Ru(this.query,a,this.afs.schedulers.outsideAngular).pipe(no.iC)}valueChanges(c={}){return tl(this.query,this.afs.schedulers.outsideAngular).pipe((0,ko.U)(g=>g.payload.docs.map(T=>c.idField?Object.assign({[c.idField]:T.id},T.data()):T.data())),no.iC)}get(c){return(0,Wl.D)(this.query.get(c)).pipe(no.iC)}}const id=new h.OlP("angularfire2.enableFirestorePersistence"),rd=new h.OlP("angularfire2.firestore.persistenceSettings"),Qh=new h.OlP("angularfire2.firestore.settings"),Jh=new h.OlP("angularfire2.firestore.use-emulator");function Xd(E,c=(a=>a)){return{query:c(E),ref:E}}let rc=(()=>{class E{constructor(a,g,T,B,se,Te,Xe,Ct,Xt,Tn,Wn,fi,qn,pi,cr,cs,Jr){this.schedulers=Xe;const ys=(0,ms.on)(a,Te,g),vs=Xt;Tn&&(0,to.nw)(ys,Te,Wn,qn,pi,cr,fi,cs),[this.firestore,this.persistenceEnabled$]=(0,ms.cc)(`${ys.name}.firestore`,"AngularFirestore",ys.name,()=>{const fa=Te.runOutsideAngular(()=>ys.firestore());if(B&&fa.settings(B),vs&&fa.useEmulator(...vs),T&&!(0,ut.PM)(se)){const Sa=()=>{try{return(0,Wl.D)(fa.enablePersistence(Ct||void 0).then(()=>!0,()=>!1))}catch(io){return"undefined"!=typeof console&&console.warn(io),(0,Mu.of)(!1)}};return[fa,Te.runOutsideAngular(Sa)]}return[fa,(0,Mu.of)(!1)]},[B,vs,T])}collection(a,g){let T;T="string"==typeof a?this.firestore.collection(a):a;const{ref:B,query:se}=Xd(T,g),Te=this.schedulers.ngZone.run(()=>B);return new mu(Te,se,this)}collectionGroup(a,g){const T=g||(se=>se),B=this.firestore.collectionGroup(a);return new Jd(T(B),this)}doc(a){let g;g="string"==typeof a?this.firestore.doc(a):a;const T=this.schedulers.ngZone.run(()=>g);return new ic(T,this)}createId(){return this.firestore.collection("_").doc().id}}return E.\u0275fac=function(a){return new(a||E)(h.LFG(ms.Dh),h.LFG(ms.xv,8),h.LFG(id,8),h.LFG(Qh,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(no.HU),h.LFG(rd,8),h.LFG(Jh,8),h.LFG(to.zQ,8),h.LFG(to.Qv,8),h.LFG(to.L6,8),h.LFG(to._Q,8),h.LFG(to.rT,8),h.LFG(to.lh,8),h.LFG(to.f7,8),h.LFG(tc.nm,8))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac,providedIn:"any"}),E})(),Uo=(()=>{class E{constructor(){xl.Z.registerVersion("angularfire",no.q4.full,"fst-compat")}static enablePersistence(a){return{ngModule:E,providers:[{provide:id,useValue:!0},{provide:rd,useValue:a}]}}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275mod=h.oAB({type:E}),E.\u0275inj=h.cJS({providers:[rc]}),E})(),sd=(()=>{class E{}return E.\u0275fac=function(a){return new(a||E)},E.\u0275mod=h.oAB({type:E,bootstrap:[na]}),E.\u0275inj=h.cJS({providers:[{provide:_r.TP,useClass:wo,multi:!0},{provide:_r.TP,useClass:zl,multi:!0}],imports:[[Bs,Be.UX,Be.u5,Uo,to.ww,ms.hO.initializeApp({apiKey:"AIzaSyBspMnWz9iq5Evt11YwGkcEPqghHyIGwuo",authDomain:"joinapp-515e6.firebaseapp.com",databaseURL:"https://joinapp-515e6.firebaseio.com",projectId:"joinapp-515e6",storageBucket:"joinapp-515e6.appspot.com",messagingSenderId:"794053292456",appId:"1:794053292456:web:36878b6a9a02cff3"}),gt.Xt.forRoot(),ct.fx.forRoot(),ut.ez,Gl.Rh.forRoot(),f.b2,_r.JF,Q,ze.mr.forRoot(),Ce.aw.forRoot({defaultLanguage:"en",loader:{provide:Ce.Zw,useFactory:Lu,deps:[_r.eN]}}),Ou]]}),E})();function Lu(E){return new ls.w(E,"./assets/i18n/",".json")}(0,h.G48)(),f.q6().bootstrapModule(sd).catch(E=>console.error(E))},5867:(Qt,We,x)=>{x.d(We,{C6:()=>f.getApps,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=x(9681);(0,f.registerVersion)("firebase","9.14.0","app")},127:(Qt,We,x)=>{x.d(We,{Z:()=>f.Z});var f=x(3942);f.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(Qt,We,x)=>{x.r(We);var f=x(5861),h=x(3942),G=x(8247),Ce=x(2090),Ee=(x(9681),x(1877),x(4859));function ce(){return window}function le(){return(le=(0,f.Z)(function*(ye,X,$){var ee;const{BuildInfo:ne}=ce();(0,G.ap)(X.sessionId,"AuthEvent did not contain a session ID");const xe=yield ct(X.sessionId),tt={};return(0,G.aq)()?tt.ibi=ne.packageName:(0,G.ar)()?tt.apn=ne.packageName:(0,G.as)(ye,"operation-not-supported-in-this-environment"),ne.displayName&&(tt.appDisplayName=ne.displayName),tt.sessionId=xe,(0,G.at)(ye,$,X.type,void 0,null!==(ee=X.eventId)&&void 0!==ee?ee:void 0,tt)})).apply(this,arguments)}function lt(){return(lt=(0,f.Z)(function*(ye){const{BuildInfo:X}=ce(),$={};(0,G.aq)()?$.iosBundleId=X.packageName:(0,G.ar)()?$.androidPackageName=X.packageName:(0,G.as)(ye,"operation-not-supported-in-this-environment"),yield(0,G.au)(ye,$)})).apply(this,arguments)}function ut(){return(ut=(0,f.Z)(function*(ye,X,$){const{cordova:ee}=ce();let ne=()=>{};try{yield new Promise((xe,tt)=>{let kt=null;function Vt(){var Cn;xe();const _i=null===(Cn=ee.plugins.browsertab)||void 0===Cn?void 0:Cn.close;"function"==typeof _i&&_i(),"function"==typeof(null==$?void 0:$.close)&&$.close()}function bn(){kt||(kt=window.setTimeout(()=>{tt((0,G.aw)(ye,"redirect-cancelled-by-user"))},2e3))}function vn(){"visible"===(null==document?void 0:document.visibilityState)&&bn()}X.addPassiveListener(Vt),document.addEventListener("resume",bn,!1),(0,G.ar)()&&document.addEventListener("visibilitychange",vn,!1),ne=()=>{X.removePassiveListener(Vt),document.removeEventListener("resume",bn,!1),document.removeEventListener("visibilitychange",vn,!1),kt&&window.clearTimeout(kt)}})}finally{ne()}})).apply(this,arguments)}function ct(ye){return Be.apply(this,arguments)}function Be(){return(Be=(0,f.Z)(function*(ye){const X=gt(ye),$=yield crypto.subtle.digest("SHA-256",X);return Array.from(new Uint8Array($)).map(ne=>ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gt(ye){if((0,G.ap)(/[0-9a-zA-Z]+/.test(ye),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ye);const X=new ArrayBuffer(ye.length),$=new Uint8Array(X);for(let ee=0;ee<ye.length;ee++)$[ee]=ye.charCodeAt(ee);return $}class be extends G.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(X=>{this.resolveInialized=X})}addPassiveListener(X){this.passiveListeners.add(X)}removePassiveListener(X){this.passiveListeners.delete(X)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(X){return this.resolveInialized(),this.passiveListeners.forEach($=>$(X)),super.onEvent(X)}initialized(){var X=this;return(0,f.Z)(function*(){yield X.initPromise})()}}function K(ye){return Je.apply(this,arguments)}function Je(){return(Je=(0,f.Z)(function*(ye){const X=yield Ue()._get(et(ye));return X&&(yield Ue()._remove(et(ye))),X})).apply(this,arguments)}function ke(){const ye=[],X="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let $=0;$<20;$++){const ee=Math.floor(Math.random()*X.length);ye.push(X.charAt(ee))}return ye.join("")}function Ue(){return(0,G.az)(G.b)}function et(ye){return(0,G.aA)("authEvent",ye.config.apiKey,ye.name)}function xt(ye){if(!(null==ye?void 0:ye.includes("?")))return{};const[X,...$]=ye.split("?");return(0,Ce.zd)($.join("?"))}function q(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,G.aw)("no-auth-event")}}function nn(){var ye;return(null===(ye=null==self?void 0:self.location)||void 0===ye?void 0:ye.protocol)||null}function xn(ye=(0,Ce.z$)()){return!("file:"!==nn()&&"ionic:"!==nn()&&"capacitor:"!==nn()||!ye.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qn(){try{const ye=self.localStorage,X=G.aI();if(ye)return ye.setItem(X,"1"),ye.removeItem(X),!function li(ye=(0,Ce.z$)()){return function Xn(){return(0,Ce.w1)()&&11===(null==document?void 0:document.documentMode)}()||function jn(ye=(0,Ce.z$)()){return/Edge\/\d+/.test(ye)}(ye)}()||(0,Ce.hl)()}catch(ye){return Si()&&(0,Ce.hl)()}return!1}function Si(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function On(){return(function yn(){return"http:"===nn()||"https:"===nn()}()||(0,Ce.ru)()||xn())&&!function Vn(){return(0,Ce.b$)()||(0,Ce.UG)()}()&&Qn()&&!Si()}function wi(){return xn()&&"undefined"!=typeof document}function ki(){return(ki=(0,f.Z)(function*(){return!!wi()&&new Promise(ye=>{const X=setTimeout(()=>{ye(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(X),ye(!0)})})})).apply(this,arguments)}const rn={LOCAL:"local",NONE:"none",SESSION:"session"},Ui=G.ax,vi="persistence";function Fe(ye){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,f.Z)(function*(ye){yield ye._initializationPromise;const X=It(),$=G.aA(vi,ye.config.apiKey,ye.name);X&&X.setItem($,ye._getPersistence())})).apply(this,arguments)}function It(){var ye;try{return(null===(ye=function ni(){return"undefined"!=typeof window?window:null}())||void 0===ye?void 0:ye.sessionStorage)||null}catch(X){return null}}const Nt=G.ax;class Zt{constructor(){this.browserResolver=G.az(G.k),this.cordovaResolver=G.az(class ft{constructor(){this._redirectPersistence=G.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=G.aB,this._overrideRedirectResult=G.aC}_initialize(X){var $=this;return(0,f.Z)(function*(){const ee=X._key();let ne=$.eventManagers.get(ee);return ne||(ne=new be(X),$.eventManagers.set(ee,ne),$.attachCallbackListeners(X,ne)),ne})()}_openPopup(X){(0,G.as)(X,"operation-not-supported-in-this-environment")}_openRedirect(X,$,ee,ne){var xe=this;return(0,f.Z)(function*(){!function ze(ye){var X,$,ee,ne,xe,tt,kt,Vt,bn,vn;const Cn=ce();(0,G.ax)("function"==typeof(null===(X=null==Cn?void 0:Cn.universalLinks)||void 0===X?void 0:X.subscribe),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,G.ax)(void 0!==(null===($=null==Cn?void 0:Cn.BuildInfo)||void 0===$?void 0:$.packageName),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,G.ax)("function"==typeof(null===(xe=null===(ne=null===(ee=null==Cn?void 0:Cn.cordova)||void 0===ee?void 0:ee.plugins)||void 0===ne?void 0:ne.browsertab)||void 0===xe?void 0:xe.openUrl),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.ax)("function"==typeof(null===(Vt=null===(kt=null===(tt=null==Cn?void 0:Cn.cordova)||void 0===tt?void 0:tt.plugins)||void 0===kt?void 0:kt.browsertab)||void 0===Vt?void 0:Vt.isAvailable),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.ax)("function"==typeof(null===(vn=null===(bn=null==Cn?void 0:Cn.cordova)||void 0===bn?void 0:bn.InAppBrowser)||void 0===vn?void 0:vn.open),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(X);const tt=yield xe._initialize(X);yield tt.initialized(),tt.resetRedirect(),(0,G.aD)(),yield xe._originValidation(X);const kt=function Qe(ye,X,$=null){return{type:X,eventId:$,urlResponse:null,sessionId:ke(),postBody:null,tenantId:ye.tenantId,error:(0,G.aw)(ye,"no-auth-event")}}(X,ee,ne);yield function bt(ye,X){return Ue()._set(et(ye),X)}(X,kt);const Vt=yield function J(ye,X,$){return le.apply(this,arguments)}(X,kt,$),bn=yield function Ve(ye){const{cordova:X}=ce();return new Promise($=>{X.plugins.browsertab.isAvailable(ee=>{let ne=null;ee?X.plugins.browsertab.openUrl(ye):ne=X.InAppBrowser.open(ye,(0,G.av)()?"_blank":"_system","location=yes"),$(ne)})})}(Vt);return function at(ye,X,$){return ut.apply(this,arguments)}(X,tt,bn)})()}_isIframeWebStorageSupported(X,$){throw new Error("Method not implemented.")}_originValidation(X){const $=X._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function De(ye){return lt.apply(this,arguments)}(X)),this.originValidationPromises[$]}attachCallbackListeners(X,$){const{universalLinks:ee,handleOpenURL:ne,BuildInfo:xe}=ce(),tt=setTimeout((0,f.Z)(function*(){yield K(X),$.onEvent(q())}),500),kt=function(){var vn=(0,f.Z)(function*(Cn){clearTimeout(tt);const _i=yield K(X);let Ti=null;_i&&(null==Cn?void 0:Cn.url)&&(Ti=function nt(ye,X){var $,ee;const ne=function st(ye){const X=xt(ye),$=X.link?decodeURIComponent(X.link):void 0,ee=xt($).link,ne=X.deep_link_id?decodeURIComponent(X.deep_link_id):void 0;return xt(ne).link||ne||ee||$||ye}(X);if(ne.includes("/__/auth/callback")){const xe=xt(ne),tt=xe.firebaseError?function it(ye){try{return JSON.parse(ye)}catch(X){return null}}(decodeURIComponent(xe.firebaseError)):null,kt=null===(ee=null===($=null==tt?void 0:tt.code)||void 0===$?void 0:$.split("auth/"))||void 0===ee?void 0:ee[1],Vt=kt?(0,G.aw)(kt):null;return Vt?{type:ye.type,eventId:ye.eventId,tenantId:ye.tenantId,error:Vt,urlResponse:null,sessionId:null,postBody:null}:{type:ye.type,eventId:ye.eventId,tenantId:ye.tenantId,sessionId:ye.sessionId,urlResponse:ne,postBody:null}}return null}(_i,Cn.url)),$.onEvent(Ti||q())});return function(_i){return vn.apply(this,arguments)}}();void 0!==ee&&"function"==typeof ee.subscribe&&ee.subscribe(null,kt);const Vt=ne,bn=`${xe.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var vn=(0,f.Z)(function*(Cn){if(Cn.toLowerCase().startsWith(bn)&&kt({url:Cn}),"function"==typeof Vt)try{Vt(Cn)}catch(_i){console.error(_i)}});return function(Cn){return vn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=G.a,this._completeRedirectFn=G.aB,this._overrideRedirectResult=G.aC}_initialize(X){var $=this;return(0,f.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(X)})()}_openPopup(X,$,ee,ne){var xe=this;return(0,f.Z)(function*(){return yield xe.selectUnderlyingResolver(),xe.assertedUnderlyingResolver._openPopup(X,$,ee,ne)})()}_openRedirect(X,$,ee,ne){var xe=this;return(0,f.Z)(function*(){return yield xe.selectUnderlyingResolver(),xe.assertedUnderlyingResolver._openRedirect(X,$,ee,ne)})()}_isIframeWebStorageSupported(X,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(X,$)}_originValidation(X){return this.assertedUnderlyingResolver._originValidation(X)}get _shouldInitProactively(){return wi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var X=this;return(0,f.Z)(function*(){if(X.underlyingResolver)return;const $=yield function on(){return ki.apply(this,arguments)}();X.underlyingResolver=$?X.cordovaResolver:X.browserResolver})()}}function Re(ye){return ye.unwrap()}function we(ye){return wt(ye)}function wt(ye){const{_tokenResponse:X}=ye instanceof Ce.ZR?ye.customData:ye;if(!X)return null;if(!(ye instanceof Ce.ZR)&&"temporaryProof"in X&&"phoneNumber"in X)return G.P.credentialFromResult(ye);const $=X.providerId;if(!$||$===G.o.PASSWORD)return null;let ee;switch($){case G.o.GOOGLE:ee=G.Q;break;case G.o.FACEBOOK:ee=G.N;break;case G.o.GITHUB:ee=G.T;break;case G.o.TWITTER:ee=G.W;break;default:const{oauthIdToken:ne,oauthAccessToken:xe,oauthTokenSecret:tt,pendingToken:kt,nonce:Vt}=X;return xe||tt||ne||kt?kt?$.startsWith("saml.")?G.aL._create($,kt):G.J._fromParams({providerId:$,signInMethod:$,pendingToken:kt,idToken:ne,accessToken:xe}):new G.U($).credential({idToken:ne,accessToken:xe,rawNonce:Vt}):null}return ye instanceof Ce.ZR?ee.credentialFromError(ye):ee.credentialFromResult(ye)}function Mt(ye,X){return X.catch($=>{throw $ instanceof Ce.ZR&&function Ke(ye,X){var $,ee;const ne=null===($=X.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ee=X)||void 0===ee?void 0:ee.code))X.resolver=new fn(ye,G.an(ye,X));else if(ne){const xe=wt(X),tt=X;xe&&(tt.credential=xe,tt.tenantId=ne.tenantId||void 0,tt.email=ne.email||void 0,tt.phoneNumber=ne.phoneNumber||void 0)}}(ye,$),$}).then($=>{const ne=$.user;return{operationType:$.operationType,credential:we($),additionalUserInfo:G.al($),user:pn.getOrCreate(ne)}})}function Tt(ye,X){return _n.apply(this,arguments)}function _n(){return(_n=(0,f.Z)(function*(ye,X){const $=yield X;return{verificationId:$.verificationId,confirm:ee=>Mt(ye,$.confirm(ee))}})).apply(this,arguments)}class fn{constructor(X,$){this.resolver=$,this.auth=function Oe(ye){return ye.wrapped()}(X)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(X){return Mt(Re(this.auth),this.resolver.resolveSignIn(X))}}class pn{constructor(X){this._delegate=X,this.multiFactor=G.ao(X)}static getOrCreate(X){return pn.USER_MAP.has(X)||pn.USER_MAP.set(X,new pn(X)),pn.USER_MAP.get(X)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(X){return this._delegate.getIdTokenResult(X)}getIdToken(X){return this._delegate.getIdToken(X)}linkAndRetrieveDataWithCredential(X){return this.linkWithCredential(X)}linkWithCredential(X){var $=this;return(0,f.Z)(function*(){return Mt($.auth,G.Z($._delegate,X))})()}linkWithPhoneNumber(X,$){var ee=this;return(0,f.Z)(function*(){return Tt(ee.auth,G.l(ee._delegate,X,$))})()}linkWithPopup(X){var $=this;return(0,f.Z)(function*(){return Mt($.auth,G.d($._delegate,X,Zt))})()}linkWithRedirect(X){var $=this;return(0,f.Z)(function*(){return yield Fe(G.aE($.auth)),G.g($._delegate,X,Zt)})()}reauthenticateAndRetrieveDataWithCredential(X){return this.reauthenticateWithCredential(X)}reauthenticateWithCredential(X){var $=this;return(0,f.Z)(function*(){return Mt($.auth,G._($._delegate,X))})()}reauthenticateWithPhoneNumber(X,$){return Tt(this.auth,G.r(this._delegate,X,$))}reauthenticateWithPopup(X){return Mt(this.auth,G.e(this._delegate,X,Zt))}reauthenticateWithRedirect(X){var $=this;return(0,f.Z)(function*(){return yield Fe(G.aE($.auth)),G.h($._delegate,X,Zt)})()}sendEmailVerification(X){return G.ab(this._delegate,X)}unlink(X){var $=this;return(0,f.Z)(function*(){return yield G.ak($._delegate,X),$})()}updateEmail(X){return G.ag(this._delegate,X)}updatePassword(X){return G.ah(this._delegate,X)}updatePhoneNumber(X){return G.u(this._delegate,X)}updateProfile(X){return G.af(this._delegate,X)}verifyBeforeUpdateEmail(X,$){return G.ac(this._delegate,X,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pn.USER_MAP=new WeakMap;const W=G.ax;let he=(()=>{class ye{constructor($,ee){if(this.app=$,ee.isInitialized())return this._delegate=ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ne}=$.options;W(ne,"invalid-api-key",{appName:$.name}),W(ne,"invalid-api-key",{appName:$.name});const xe="undefined"!=typeof window?Zt:void 0;this._delegate=ee.initialize({options:{persistence:Le(ne,$.name),popupRedirectResolver:xe}}),this._delegate._updateErrorMap(G.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,ee){G.G(this._delegate,$,ee)}applyActionCode($){return G.a2(this._delegate,$)}checkActionCode($){return G.a3(this._delegate,$)}confirmPasswordReset($,ee){return G.a1(this._delegate,$,ee)}createUserWithEmailAndPassword($,ee){var ne=this;return(0,f.Z)(function*(){return Mt(ne._delegate,G.a5(ne._delegate,$,ee))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return G.aa(this._delegate,$)}isSignInWithEmailLink($){return G.a8(this._delegate,$)}getRedirectResult(){var $=this;return(0,f.Z)(function*(){W(On(),$._delegate,"operation-not-supported-in-this-environment");const ee=yield G.j($._delegate,Zt);return ee?Mt($._delegate,Promise.resolve(ee)):{credential:null,user:null}})()}addFrameworkForLogging($){!function Se(ye,X){(0,G.aE)(ye)._logFramework(X)}(this._delegate,$)}onAuthStateChanged($,ee,ne){const{next:xe,error:tt,complete:kt}=_e($,ee,ne);return this._delegate.onAuthStateChanged(xe,tt,kt)}onIdTokenChanged($,ee,ne){const{next:xe,error:tt,complete:kt}=_e($,ee,ne);return this._delegate.onIdTokenChanged(xe,tt,kt)}sendSignInLinkToEmail($,ee){return G.a7(this._delegate,$,ee)}sendPasswordResetEmail($,ee){return G.a0(this._delegate,$,ee||void 0)}setPersistence($){var ee=this;return(0,f.Z)(function*(){let ne;switch(function Ot(ye,X){Ui(Object.values(rn).includes(X),ye,"invalid-persistence-type"),(0,Ce.b$)()?Ui(X!==rn.SESSION,ye,"unsupported-persistence-type"):(0,Ce.UG)()?Ui(X===rn.NONE,ye,"unsupported-persistence-type"):Si()?Ui(X===rn.NONE||X===rn.LOCAL&&(0,Ce.hl)(),ye,"unsupported-persistence-type"):Ui(X===rn.NONE||Qn(),ye,"unsupported-persistence-type")}(ee._delegate,$),$){case rn.SESSION:ne=G.a;break;case rn.LOCAL:ne=(yield G.az(G.i)._isAvailable())?G.i:G.b;break;case rn.NONE:ne=G.L;break;default:return G.as("argument-error",{appName:ee._delegate.name})}return ee._delegate.setPersistence(ne)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return Mt(this._delegate,G.X(this._delegate))}signInWithCredential($){return Mt(this._delegate,G.Y(this._delegate,$))}signInWithCustomToken($){return Mt(this._delegate,G.$(this._delegate,$))}signInWithEmailAndPassword($,ee){return Mt(this._delegate,G.a6(this._delegate,$,ee))}signInWithEmailLink($,ee){return Mt(this._delegate,G.a9(this._delegate,$,ee))}signInWithPhoneNumber($,ee){return Tt(this._delegate,G.s(this._delegate,$,ee))}signInWithPopup($){var ee=this;return(0,f.Z)(function*(){return W(On(),ee._delegate,"operation-not-supported-in-this-environment"),Mt(ee._delegate,G.c(ee._delegate,$,Zt))})()}signInWithRedirect($){var ee=this;return(0,f.Z)(function*(){return W(On(),ee._delegate,"operation-not-supported-in-this-environment"),yield Fe(ee._delegate),G.f(ee._delegate,$,Zt)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return G.a4(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ye.Persistence=rn,ye})();function _e(ye,X,$){let ee=ye;"function"!=typeof ye&&({next:ee,error:X,complete:$}=ye);const ne=ee;return{next:tt=>ne(tt&&pn.getOrCreate(tt)),error:X,complete:$}}function Le(ye,X){const $=function Ut(ye,X){const $=It();if(!$)return[];const ee=G.aA(vi,ye,X);switch($.getItem(ee)){case rn.NONE:return[G.L];case rn.LOCAL:return[G.i,G.a];case rn.SESSION:return[G.a];default:return[]}}(ye,X);if("undefined"!=typeof self&&!$.includes(G.i)&&$.push(G.i),"undefined"!=typeof window)for(const ee of[G.b,G.a])$.includes(ee)||$.push(ee);return $.includes(G.L)||$.push(G.L),$}class vt{constructor(){this.providerId="phone",this._delegate=new G.P(Re(h.Z.auth()))}static credential(X,$){return G.P.credential(X,$)}verifyPhoneNumber(X,$){return this._delegate.verifyPhoneNumber(X,$)}unwrap(){return this._delegate}}vt.PHONE_SIGN_IN_METHOD=G.P.PHONE_SIGN_IN_METHOD,vt.PROVIDER_ID=G.P.PROVIDER_ID;const Ft=G.ax;class fe{constructor(X,$,ee=h.Z.app()){var ne;Ft(null===(ne=ee.options)||void 0===ne?void 0:ne.apiKey,"invalid-api-key",{appName:ee.name}),this._delegate=new G.R(X,$,ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Me(ye){ye.INTERNAL.registerComponent(new Ee.wA("auth-compat",X=>{const $=X.getProvider("app-compat").getImmediate(),ee=X.getProvider("auth");return new he($,ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G.A.EMAIL_SIGNIN,PASSWORD_RESET:G.A.PASSWORD_RESET,RECOVER_EMAIL:G.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G.A.VERIFY_EMAIL}},EmailAuthProvider:G.M,FacebookAuthProvider:G.N,GithubAuthProvider:G.T,GoogleAuthProvider:G.Q,OAuthProvider:G.U,SAMLAuthProvider:G.V,PhoneAuthProvider:vt,PhoneMultiFactorGenerator:G.m,RecaptchaVerifier:fe,TwitterAuthProvider:G.W,Auth:he,AuthCredential:G.H,Error:Ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ye.registerVersion("@firebase/auth-compat","0.2.24")}(h.Z)},8968:(Qt,We,x)=>{function ve(Re,Oe,we,Ke){var Tt,wt=arguments.length,Mt=wt<3?Oe:null===Ke?Ke=Object.getOwnPropertyDescriptor(Oe,we):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Mt=Reflect.decorate(Re,Oe,we,Ke);else for(var _n=Re.length-1;_n>=0;_n--)(Tt=Re[_n])&&(Mt=(wt<3?Tt(Mt):wt>3?Tt(Oe,we,Mt):Tt(Oe,we))||Mt);return wt>3&&Mt&&Object.defineProperty(Oe,we,Mt),Mt}function Ne(Re,Oe){return function(we,Ke){Oe(we,Ke,Re)}}function Ee(Re,Oe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Re,Oe)}x.d(We,{Rh:()=>Fe,_W:()=>rn});var K=x(5e3),Je=x(1777),nt=x(7579),ke=x(2313),Ue=x(9808);const et=["toast-component",""];function it(Re,Oe){if(1&Re){const we=K.EpF();K.TgZ(0,"button",5),K.NdJ("click",function(){return K.CHM(we),K.oxw().remove()}),K.TgZ(1,"span",6),K._uU(2,"\xd7"),K.qZA()()}}function st(Re,Oe){if(1&Re&&(K.ynx(0),K._uU(1),K.BQk()),2&Re){const we=K.oxw(2);K.xp6(1),K.hij("[",we.duplicatesCount+1,"]")}}function xt(Re,Oe){if(1&Re&&(K.TgZ(0,"div"),K._uU(1),K.YNc(2,st,2,1,"ng-container",4),K.qZA()),2&Re){const we=K.oxw();K.Tol(we.options.titleClass),K.uIk("aria-label",we.title),K.xp6(1),K.hij(" ",we.title," "),K.xp6(1),K.Q6J("ngIf",we.duplicatesCount)}}function tn(Re,Oe){if(1&Re&&K._UZ(0,"div",7),2&Re){const we=K.oxw();K.Tol(we.options.messageClass),K.Q6J("innerHTML",we.message,K.oJD)}}function ft(Re,Oe){if(1&Re&&(K.TgZ(0,"div",8),K._uU(1),K.qZA()),2&Re){const we=K.oxw();K.Tol(we.options.messageClass),K.uIk("aria-label",we.message),K.xp6(1),K.hij(" ",we.message," ")}}function mt(Re,Oe){if(1&Re&&(K.TgZ(0,"div"),K._UZ(1,"div",9),K.qZA()),2&Re){const we=K.oxw();K.xp6(1),K.Udp("width",we.width+"%")}}function q(Re,Oe){if(1&Re){const we=K.EpF();K.TgZ(0,"button",5),K.NdJ("click",function(){return K.CHM(we),K.oxw().remove()}),K.TgZ(1,"span",6),K._uU(2,"\xd7"),K.qZA()()}}function Se(Re,Oe){if(1&Re&&(K.ynx(0),K._uU(1),K.BQk()),2&Re){const we=K.oxw(2);K.xp6(1),K.hij("[",we.duplicatesCount+1,"]")}}function qe(Re,Oe){if(1&Re&&(K.TgZ(0,"div"),K._uU(1),K.YNc(2,Se,2,1,"ng-container",4),K.qZA()),2&Re){const we=K.oxw();K.Tol(we.options.titleClass),K.uIk("aria-label",we.title),K.xp6(1),K.hij(" ",we.title," "),K.xp6(1),K.Q6J("ngIf",we.duplicatesCount)}}function Rt(Re,Oe){if(1&Re&&K._UZ(0,"div",7),2&Re){const we=K.oxw();K.Tol(we.options.messageClass),K.Q6J("innerHTML",we.message,K.oJD)}}function Ht(Re,Oe){if(1&Re&&(K.TgZ(0,"div",8),K._uU(1),K.qZA()),2&Re){const we=K.oxw();K.Tol(we.options.messageClass),K.uIk("aria-label",we.message),K.xp6(1),K.hij(" ",we.message," ")}}function nn(Re,Oe){if(1&Re&&(K.TgZ(0,"div"),K._UZ(1,"div",9),K.qZA()),2&Re){const we=K.oxw();K.xp6(1),K.Udp("width",we.width+"%")}}class Vn{constructor(Oe,we,Ke,wt,Mt,Tt){this.toastId=Oe,this.config=we,this.message=Ke,this.title=wt,this.toastType=Mt,this.toastRef=Tt,this._onTap=new nt.x,this._onAction=new nt.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Oe){this._onAction.next(Oe)}onAction(){return this._onAction.asObservable()}}const Xn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},jn=new K.OlP("ToastConfig");class li{constructor(Oe,we){this.component=Oe,this.injector=we}attach(Oe,we){return this._attachedHost=Oe,Oe.attach(this,we)}detach(){const Oe=this._attachedHost;if(Oe)return this._attachedHost=void 0,Oe.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Oe){this._attachedHost=Oe}}class Si extends class Qn{attach(Oe,we){return this._attachedPortal=Oe,this.attachComponentPortal(Oe,we)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Oe){this._disposeFn=Oe}}{constructor(Oe,we,Ke){super(),this._hostDomElement=Oe,this._componentFactoryResolver=we,this._appRef=Ke}attachComponentPortal(Oe,we){const Ke=this._componentFactoryResolver.resolveComponentFactory(Oe.component);let wt;return wt=Ke.create(Oe.injector),this._appRef.attachView(wt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(wt.hostView),wt.destroy()}),we?this._hostDomElement.insertBefore(this._getComponentRootNode(wt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(wt)),wt}_getComponentRootNode(Oe){return Oe.hostView.rootNodes[0]}}let On=class{constructor(Oe){this._document=Oe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Oe=this._document.createElement("div");Oe.classList.add("overlay-container"),this._document.body.appendChild(Oe),this._containerElement=Oe}};On.\u0275fac=function(Oe){return new(Oe||On)(K.LFG(Ue.K0))},On.\u0275prov=K.Yz7({token:On,factory:function(Re){return On.\u0275fac(Re)},providedIn:"root"}),On.ngInjectableDef=(0,K.Yz7)({factory:function(){return new On((0,K.LFG)(Ue.K0))},token:On,providedIn:"root"}),On=ve([Ne(0,(0,K.tBr)(Ue.K0)),Ee("design:paramtypes",[Object])],On);class wi{constructor(Oe){this._portalHost=Oe}attach(Oe,we=!0){return this._portalHost.attach(Oe,we)}detach(){return this._portalHost.detach()}}let on=class{constructor(Oe,we,Ke,wt){this._overlayContainer=Oe,this._componentFactoryResolver=we,this._appRef=Ke,this._document=wt,this._paneElements=new Map}create(Oe,we){return this._createOverlayRef(this.getPaneElement(Oe,we))}getPaneElement(Oe="",we){return this._paneElements.get(we)||this._paneElements.set(we,{}),this._paneElements.get(we)[Oe]||(this._paneElements.get(we)[Oe]=this._createPaneElement(Oe,we)),this._paneElements.get(we)[Oe]}_createPaneElement(Oe,we){const Ke=this._document.createElement("div");return Ke.id="toast-container",Ke.classList.add(Oe),Ke.classList.add("toast-container"),we?we.getContainerElement().appendChild(Ke):this._overlayContainer.getContainerElement().appendChild(Ke),Ke}_createPortalHost(Oe){return new Si(Oe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Oe){return new wi(this._createPortalHost(Oe))}};on.\u0275fac=function(Oe){return new(Oe||on)(K.LFG(On),K.LFG(K._Vd),K.LFG(K.z2F),K.LFG(Ue.K0))},on.\u0275prov=K.Yz7({token:on,factory:function(Re){return on.\u0275fac(Re)},providedIn:"root"}),on.ngInjectableDef=(0,K.Yz7)({factory:function(){return new on((0,K.LFG)(On),(0,K.LFG)(K._Vd),(0,K.LFG)(K.z2F),(0,K.LFG)(Ue.K0))},token:on,providedIn:"root"}),on=ve([Ne(3,(0,K.tBr)(Ue.K0)),Ee("design:paramtypes",[On,K._Vd,K.z2F,Object])],on);class ki{constructor(Oe){this._overlayRef=Oe,this.duplicatesCount=0,this._afterClosed=new nt.x,this._activate=new nt.x,this._manualClose=new nt.x,this._resetTimeout=new nt.x,this._countDuplicate=new nt.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Oe,we){Oe&&this._resetTimeout.next(),we&&this._countDuplicate.next(++this.duplicatesCount)}}class ni{constructor(Oe,we){this._toastPackage=Oe,this._parentInjector=we}get(Oe,we,Ke){return Oe===Vn?this._toastPackage:this._parentInjector.get(Oe,we,Ke)}}let rn=class{constructor(Oe,we,Ke,wt,Mt){this.overlay=we,this._injector=Ke,this.sanitizer=wt,this.ngZone=Mt,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign({},Oe.default,Oe.config),Oe.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign({},Oe.default.iconClasses,Oe.config.iconClasses))}show(Oe,we,Ke={},wt=""){return this._preBuildNotification(wt,Oe,we,this.applyConfig(Ke))}success(Oe,we,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Oe,we,this.applyConfig(Ke))}error(Oe,we,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Oe,we,this.applyConfig(Ke))}info(Oe,we,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Oe,we,this.applyConfig(Ke))}warning(Oe,we,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Oe,we,this.applyConfig(Ke))}clear(Oe){for(const we of this.toasts)if(void 0!==Oe){if(we.toastId===Oe)return void we.toastRef.manualClose()}else we.toastRef.manualClose()}remove(Oe){const we=this._findToast(Oe);if(!we||(we.activeToast.toastRef.close(),this.toasts.splice(we.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ke=this.toasts[this.currentlyActive].toastRef;Ke.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ke.activate())}return!0}findDuplicate(Oe,we,Ke){for(const wt of this.toasts)if(wt.message===Oe)return wt.toastRef.onDuplicate(we,Ke),wt;return null}applyConfig(Oe={}){return Object.assign({},this.toastrConfig,Oe)}_findToast(Oe){for(let we=0;we<this.toasts.length;we++)if(this.toasts[we].toastId===Oe)return{index:we,activeToast:this.toasts[we]};return null}_preBuildNotification(Oe,we,Ke,wt){return wt.onActivateTick?this.ngZone.run(()=>this._buildNotification(Oe,we,Ke,wt)):this._buildNotification(Oe,we,Ke,wt)}_buildNotification(Oe,we,Ke,wt){if(!wt.toastComponent)throw new Error("toastComponent required");const Mt=this.findDuplicate(we,this.toastrConfig.resetTimeoutOnDuplicate&&wt.timeOut>0,this.toastrConfig.countDuplicates);if(we&&this.toastrConfig.preventDuplicates&&null!==Mt)return Mt;this.previousToastMessage=we;let Tt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Tt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _n=this.overlay.create(wt.positionClass,this.overlayContainer);this.index=this.index+1;let fn=we;we&&wt.enableHtml&&(fn=this.sanitizer.sanitize(K.q3G.HTML,we));const pn=new ki(_n),W=new Vn(this.index,wt,fn,Ke,Oe,pn),he=new ni(W,this._injector),_e=new li(wt.toastComponent,he),Le=_n.attach(_e,this.toastrConfig.newestOnTop);pn.componentInstance=Le._component;const vt={toastId:this.index,message:we||"",toastRef:pn,onShown:pn.afterActivate(),onHidden:pn.afterClosed(),onTap:W.onTap(),onAction:W.onAction(),portal:Le};return Tt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{vt.toastRef.activate()})),this.toasts.push(vt),vt}};rn.\u0275fac=function(Oe){return new(Oe||rn)(K.LFG(jn),K.LFG(on),K.LFG(K.zs3),K.LFG(ke.H7),K.LFG(K.R0b))},rn.\u0275prov=K.Yz7({token:rn,factory:function(Re){return rn.\u0275fac(Re)},providedIn:"root"}),rn.ngInjectableDef=(0,K.Yz7)({factory:function(){return new rn((0,K.LFG)(jn),(0,K.LFG)(on),(0,K.LFG)(K.gxx),(0,K.LFG)(ke.H7),(0,K.LFG)(K.R0b))},token:rn,providedIn:"root"}),rn=ve([Ne(0,(0,K.tBr)(jn)),Ee("design:paramtypes",[Object,on,K.zs3,ke.H7,K.R0b])],rn);let Ui=(()=>{let Re=class{constructor(we,Ke,wt){this.toastrService=we,this.toastPackage=Ke,this.ngZone=wt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ke.message,this.title=Ke.title,this.options=Ke.config,this.originalTimeout=Ke.config.timeOut,this.toastClasses=`${Ke.toastType} ${Ke.config.toastClass}`,this.sub=Ke.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ke.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ke.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ke.toastRef.countDuplicate().subscribe(Mt=>{this.duplicatesCount=Mt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign({},this.state,{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const we=(new Date).getTime();this.width=(this.hideTime-we)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign({},this.state,{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign({},this.state,{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(we,Ke){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(we),Ke)):this.timeout=setTimeout(()=>we(),Ke)}outsideInterval(we,Ke){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(we),Ke)):this.intervalId=setInterval(()=>we(),Ke)}runInsideAngular(we){this.ngZone?this.ngZone.run(()=>we()):we()}};return Re.\u0275fac=function(we){return new(we||Re)(K.Y36(rn),K.Y36(Vn),K.Y36(K.R0b))},Re.\u0275cmp=K.Xpm({type:Re,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(we,Ke){1&we&&K.NdJ("click",function(){return Ke.tapToast()})("mouseenter",function(){return Ke.stickAround()})("mouseleave",function(){return Ke.delayedHideToast()}),2&we&&(K.d8E("@flyInOut",Ke.state),K.Tol(Ke.toastClasses),K.Udp("display",Ke.displayStyle))},attrs:et,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(we,Ke){1&we&&(K.YNc(0,it,3,0,"button",0),K.YNc(1,xt,3,5,"div",1),K.YNc(2,tn,1,3,"div",2),K.YNc(3,ft,2,4,"div",3),K.YNc(4,mt,2,2,"div",4)),2&we&&(K.Q6J("ngIf",Ke.options.closeButton),K.xp6(1),K.Q6J("ngIf",Ke.title),K.xp6(1),K.Q6J("ngIf",Ke.message&&Ke.options.enableHtml),K.xp6(1),K.Q6J("ngIf",Ke.message&&!Ke.options.enableHtml),K.xp6(1),K.Q6J("ngIf",Ke.options.progressBar))},directives:[Ue.O5],encapsulation:2,data:{animation:[(0,Je.X$)("flyInOut",[(0,Je.SB)("inactive",(0,Je.oB)({opacity:0})),(0,Je.SB)("active",(0,Je.oB)({opacity:1})),(0,Je.SB)("removed",(0,Je.oB)({opacity:0})),(0,Je.eR)("inactive => active",(0,Je.jt)("{{ easeTime }}ms {{ easing }}")),(0,Je.eR)("active => removed",(0,Je.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),ve([(0,K.pfw)("class"),Ee("design:type",Object)],Re.prototype,"toastClasses",void 0),ve([(0,K.pfw)("@flyInOut"),Ee("design:type",Object)],Re.prototype,"state",void 0),ve([(0,K.pfw)("style.display"),Ee("design:type",Object),Ee("design:paramtypes",[])],Re.prototype,"displayStyle",null),ve([(0,K.L6J)("click"),Ee("design:type",Function),Ee("design:paramtypes",[]),Ee("design:returntype",void 0)],Re.prototype,"tapToast",null),ve([(0,K.L6J)("mouseenter"),Ee("design:type",Function),Ee("design:paramtypes",[]),Ee("design:returntype",void 0)],Re.prototype,"stickAround",null),ve([(0,K.L6J)("mouseleave"),Ee("design:type",Function),Ee("design:paramtypes",[]),Ee("design:returntype",void 0)],Re.prototype,"delayedHideToast",null),Re=ve([Ee("design:paramtypes",[rn,Vn,K.R0b])],Re),Re})();var vi;const Ot=Object.assign({},Xn,{toastComponent:Ui});let Fe=vi=class{static forRoot(Oe={}){return{ngModule:vi,providers:[{provide:jn,useValue:{default:Ot,config:Oe}}]}}};var Ut;Fe.\u0275fac=function(Oe){return new(Oe||Fe)},Fe.\u0275mod=K.oAB({type:Fe}),Fe.\u0275inj=K.cJS({imports:[[Ue.ez]]});const Nt=Object.assign({},Xn,{toastComponent:(()=>{let Re=class{constructor(we,Ke,wt){this.toastrService=we,this.toastPackage=Ke,this.appRef=wt,this.width=-1,this.toastClasses="",this.state="inactive",this.message=Ke.message,this.title=Ke.title,this.options=Ke.config,this.originalTimeout=Ke.config.timeOut,this.toastClasses=`${Ke.toastType} ${Ke.config.toastClass}`,this.sub=Ke.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ke.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ke.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ke.toastRef.countDuplicate().subscribe(Mt=>{this.duplicatesCount=Mt})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const we=(new Date).getTime();this.width=(this.hideTime-we)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}};return Re.\u0275fac=function(we){return new(we||Re)(K.Y36(rn),K.Y36(Vn),K.Y36(K.z2F))},Re.\u0275cmp=K.Xpm({type:Re,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(we,Ke){1&we&&K.NdJ("click",function(){return Ke.tapToast()})("mouseenter",function(){return Ke.stickAround()})("mouseleave",function(){return Ke.delayedHideToast()}),2&we&&(K.Tol(Ke.toastClasses),K.Udp("display",Ke.displayStyle))},attrs:et,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(we,Ke){1&we&&(K.YNc(0,q,3,0,"button",0),K.YNc(1,qe,3,5,"div",1),K.YNc(2,Rt,1,3,"div",2),K.YNc(3,Ht,2,4,"div",3),K.YNc(4,nn,2,2,"div",4)),2&we&&(K.Q6J("ngIf",Ke.options.closeButton),K.xp6(1),K.Q6J("ngIf",Ke.title),K.xp6(1),K.Q6J("ngIf",Ke.message&&Ke.options.enableHtml),K.xp6(1),K.Q6J("ngIf",Ke.message&&!Ke.options.enableHtml),K.xp6(1),K.Q6J("ngIf",Ke.options.progressBar))},directives:[Ue.O5],encapsulation:2}),ve([(0,K.pfw)("class"),Ee("design:type",Object)],Re.prototype,"toastClasses",void 0),ve([(0,K.pfw)("style.display"),Ee("design:type",Object),Ee("design:paramtypes",[])],Re.prototype,"displayStyle",null),ve([(0,K.L6J)("click"),Ee("design:type",Function),Ee("design:paramtypes",[]),Ee("design:returntype",void 0)],Re.prototype,"tapToast",null),ve([(0,K.L6J)("mouseenter"),Ee("design:type",Function),Ee("design:paramtypes",[]),Ee("design:returntype",void 0)],Re.prototype,"stickAround",null),ve([(0,K.L6J)("mouseleave"),Ee("design:type",Function),Ee("design:paramtypes",[]),Ee("design:returntype",void 0)],Re.prototype,"delayedHideToast",null),Re=ve([Ee("design:paramtypes",[rn,Vn,K.z2F])],Re),Re})()});let Zt=Ut=class{static forRoot(Oe={}){return{ngModule:Ut,providers:[{provide:jn,useValue:{default:Nt,config:Oe}}]}}};Zt.\u0275fac=function(Oe){return new(Oe||Zt)},Zt.\u0275mod=K.oAB({type:Zt}),Zt.\u0275inj=K.cJS({imports:[[Ue.ez]]})},1135:(Qt,We,x)=>{x.d(We,{X:()=>h});var f=x(7579);class h extends f.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const ve=super._subscribe(Ce);return!ve.closed&&Ce.next(this._value),ve}getValue(){const{hasError:Ce,thrownError:ve,_value:Ne}=this;if(Ce)throw ve;return this._throwIfClosed(),Ne}next(Ce){super.next(this._value=Ce)}}},8306:(Qt,We,x)=>{x.d(We,{y:()=>J});var f=x(930),h=x(727),G=x(8822),Ce=x(4671);var Ee=x(2416),ce=x(576),Q=x(2806);let J=(()=>{class Ve{constructor(ut){ut&&(this._subscribe=ut)}lift(ut){const ze=new Ve;return ze.source=this,ze.operator=ut,ze}subscribe(ut,ze,ct){const Be=function lt(Ve){return Ve&&Ve instanceof f.Lv||function De(Ve){return Ve&&(0,ce.m)(Ve.next)&&(0,ce.m)(Ve.error)&&(0,ce.m)(Ve.complete)}(Ve)&&(0,h.Nn)(Ve)}(ut)?ut:new f.Hp(ut,ze,ct);return(0,Q.x)(()=>{const{operator:gt,source:ge}=this;Be.add(gt?gt.call(Be,ge):ge?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(ut){try{return this._subscribe(ut)}catch(ze){ut.error(ze)}}forEach(ut,ze){return new(ze=le(ze))((ct,Be)=>{const gt=new f.Hp({next:ge=>{try{ut(ge)}catch(be){Be(be),gt.unsubscribe()}},error:Be,complete:ct});this.subscribe(gt)})}_subscribe(ut){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(ut)}[G.L](){return this}pipe(...ut){return function Ne(Ve){return 0===Ve.length?Ce.y:1===Ve.length?Ve[0]:function(ut){return Ve.reduce((ze,ct)=>ct(ze),ut)}}(ut)(this)}toPromise(ut){return new(ut=le(ut))((ze,ct)=>{let Be;this.subscribe(gt=>Be=gt,gt=>ct(gt),()=>ze(Be))})}}return Ve.create=at=>new Ve(at),Ve})();function le(Ve){var at;return null!==(at=null!=Ve?Ve:Ee.v.Promise)&&void 0!==at?at:Promise}},7579:(Qt,We,x)=>{x.d(We,{x:()=>Ee});var f=x(8306),h=x(727);const Ce=(0,x(3888).d)(Q=>function(){Q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=x(8737),Ne=x(2806);let Ee=(()=>{class Q extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const De=new ce(this,this);return De.operator=le,De}_throwIfClosed(){if(this.closed)throw new Ce}next(le){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(le)}})}error(le){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:De}=this;for(;De.length;)De.shift().error(le)}})}complete(){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:De,isStopped:lt,observers:Ve}=this;return De||lt?h.Lc:(this.currentObservers=null,Ve.push(le),new h.w0(()=>{this.currentObservers=null,(0,ve.P)(Ve,le)}))}_checkFinalizedStatuses(le){const{hasError:De,thrownError:lt,isStopped:Ve}=this;De?le.error(lt):Ve&&le.complete()}asObservable(){const le=new f.y;return le.source=this,le}}return Q.create=(J,le)=>new ce(J,le),Q})();class ce extends Ee{constructor(J,le){super(),this.destination=J,this.source=le}next(J){var le,De;null===(De=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===De||De.call(le,J)}error(J){var le,De;null===(De=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===De||De.call(le,J)}complete(){var J,le;null===(le=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===le||le.call(J)}_subscribe(J){var le,De;return null!==(De=null===(le=this.source)||void 0===le?void 0:le.subscribe(J))&&void 0!==De?De:h.Lc}}},930:(Qt,We,x)=>{x.d(We,{Hp:()=>ut,Lv:()=>De});var f=x(576),h=x(727),G=x(2416),Ce=x(7849),ve=x(5032);const Ne=Q("C",void 0,void 0);function Q(ge,be,Qe){return{kind:ge,value:be,error:Qe}}var J=x(3410),le=x(2806);class De extends h.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,h.Nn)(be)&&be.add(this)):this.destination=gt}static create(be,Qe,bt){return new ut(be,Qe,bt)}next(be){this.isStopped?Be(function ce(ge){return Q("N",ge,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Be(function Ee(ge){return Q("E",void 0,ge)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Be(Ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const lt=Function.prototype.bind;function Ve(ge,be){return lt.call(ge,be)}class at{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(be)}catch(bt){ze(bt)}}error(be){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(be)}catch(bt){ze(bt)}else ze(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Qe){ze(Qe)}}}class ut extends De{constructor(be,Qe,bt){let K;if(super(),(0,f.m)(be)||!be)K={next:null!=be?be:void 0,error:null!=Qe?Qe:void 0,complete:null!=bt?bt:void 0};else{let Je;this&&G.v.useDeprecatedNextContext?(Je=Object.create(be),Je.unsubscribe=()=>this.unsubscribe(),K={next:be.next&&Ve(be.next,Je),error:be.error&&Ve(be.error,Je),complete:be.complete&&Ve(be.complete,Je)}):K=be}this.destination=new at(K)}}function ze(ge){G.v.useDeprecatedSynchronousErrorHandling?(0,le.O)(ge):(0,Ce.h)(ge)}function Be(ge,be){const{onStoppedNotification:Qe}=G.v;Qe&&J.z.setTimeout(()=>Qe(ge,be))}const gt={closed:!0,next:ve.Z,error:function ct(ge){throw ge},complete:ve.Z}},727:(Qt,We,x)=>{x.d(We,{Lc:()=>Ne,w0:()=>ve,Nn:()=>Ee});var f=x(576);const G=(0,x(3888).d)(Q=>function(le){Q(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((De,lt)=>`${lt+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var Ce=x(8737);class ve{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Ve of le)Ve.remove(this);else le.remove(this);const{initialTeardown:De}=this;if((0,f.m)(De))try{De()}catch(Ve){J=Ve instanceof G?Ve.errors:[Ve]}const{_finalizers:lt}=this;if(lt){this._finalizers=null;for(const Ve of lt)try{ce(Ve)}catch(at){J=null!=J?J:[],at instanceof G?J=[...J,...at.errors]:J.push(at)}}if(J)throw new G(J)}}add(J){var le;if(J&&J!==this)if(this.closed)ce(J);else{if(J instanceof ve){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(J)}}_hasParent(J){const{_parentage:le}=this;return le===J||Array.isArray(le)&&le.includes(J)}_addParent(J){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(J),le):le?[le,J]:J}_removeParent(J){const{_parentage:le}=this;le===J?this._parentage=null:Array.isArray(le)&&(0,Ce.P)(le,J)}remove(J){const{_finalizers:le}=this;le&&(0,Ce.P)(le,J),J instanceof ve&&J._removeParent(this)}}ve.EMPTY=(()=>{const Q=new ve;return Q.closed=!0,Q})();const Ne=ve.EMPTY;function Ee(Q){return Q instanceof ve||Q&&"closed"in Q&&(0,f.m)(Q.remove)&&(0,f.m)(Q.add)&&(0,f.m)(Q.unsubscribe)}function ce(Q){(0,f.m)(Q)?Q():Q.unsubscribe()}},2416:(Qt,We,x)=>{x.d(We,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Qt,We,x)=>{x.d(We,{a:()=>J});var f=x(8306),h=x(4742),G=x(8996),Ce=x(4671),ve=x(3268),Ne=x(3269),Ee=x(1810),ce=x(5403),Q=x(9672);function J(...lt){const Ve=(0,Ne.yG)(lt),at=(0,Ne.jO)(lt),{args:ut,keys:ze}=(0,h.D)(lt);if(0===ut.length)return(0,G.D)([],Ve);const ct=new f.y(function le(lt,Ve,at=Ce.y){return ut=>{De(Ve,()=>{const{length:ze}=lt,ct=new Array(ze);let Be=ze,gt=ze;for(let ge=0;ge<ze;ge++)De(Ve,()=>{const be=(0,G.D)(lt[ge],Ve);let Qe=!1;be.subscribe((0,ce.x)(ut,bt=>{ct[ge]=bt,Qe||(Qe=!0,gt--),gt||ut.next(at(ct.slice()))},()=>{--Be||ut.complete()}))},ut)},ut)}}(ut,Ve,ze?Be=>(0,Ee.n)(ze,Be):Ce.y));return at?ct.pipe((0,ve.Z)(at)):ct}function De(lt,Ve,at){lt?(0,Q.f)(at,lt,Ve):Ve()}},7272:(Qt,We,x)=>{x.d(We,{z:()=>ve});var f=x(8189),G=x(3269),Ce=x(8996);function ve(...Ne){return function h(){return(0,f.J)(1)}()((0,Ce.D)(Ne,(0,G.yG)(Ne)))}},9770:(Qt,We,x)=>{x.d(We,{P:()=>G});var f=x(8306),h=x(8421);function G(Ce){return new f.y(ve=>{(0,h.Xf)(Ce()).subscribe(ve)})}},515:(Qt,We,x)=>{x.d(We,{E:()=>h});const h=new(x(8306).y)(ve=>ve.complete())},4128:(Qt,We,x)=>{x.d(We,{D:()=>ce});var f=x(8306),h=x(4742),G=x(8421),Ce=x(3269),ve=x(5403),Ne=x(3268),Ee=x(1810);function ce(...Q){const J=(0,Ce.jO)(Q),{args:le,keys:De}=(0,h.D)(Q),lt=new f.y(Ve=>{const{length:at}=le;if(!at)return void Ve.complete();const ut=new Array(at);let ze=at,ct=at;for(let Be=0;Be<at;Be++){let gt=!1;(0,G.Xf)(le[Be]).subscribe((0,ve.x)(Ve,ge=>{gt||(gt=!0,ct--),ut[Be]=ge},()=>ze--,void 0,()=>{(!ze||!gt)&&(ct||Ve.next(De?(0,Ee.n)(De,ut):ut),Ve.complete())}))}});return J?lt.pipe((0,Ne.Z)(J)):lt}},8996:(Qt,We,x)=>{x.d(We,{D:()=>be});var f=x(8421),h=x(5363),G=x(9468),Ne=x(8306),ce=x(2202),Q=x(576),J=x(9672);function De(Qe,bt){if(!Qe)throw new Error("Iterable cannot be null");return new Ne.y(K=>{(0,J.f)(K,bt,()=>{const Je=Qe[Symbol.asyncIterator]();(0,J.f)(K,bt,()=>{Je.next().then(nt=>{nt.done?K.complete():K.next(nt.value)})},0,!0)})})}var lt=x(3670),Ve=x(8239),at=x(1144),ut=x(6495),ze=x(2206),ct=x(4532),Be=x(3260);function be(Qe,bt){return bt?function ge(Qe,bt){if(null!=Qe){if((0,lt.c)(Qe))return function Ce(Qe,bt){return(0,f.Xf)(Qe).pipe((0,G.R)(bt),(0,h.Q)(bt))}(Qe,bt);if((0,at.z)(Qe))return function Ee(Qe,bt){return new Ne.y(K=>{let Je=0;return bt.schedule(function(){Je===Qe.length?K.complete():(K.next(Qe[Je++]),K.closed||this.schedule())})})}(Qe,bt);if((0,Ve.t)(Qe))return function ve(Qe,bt){return(0,f.Xf)(Qe).pipe((0,G.R)(bt),(0,h.Q)(bt))}(Qe,bt);if((0,ze.D)(Qe))return De(Qe,bt);if((0,ut.T)(Qe))return function le(Qe,bt){return new Ne.y(K=>{let Je;return(0,J.f)(K,bt,()=>{Je=Qe[ce.h](),(0,J.f)(K,bt,()=>{let nt,ke;try{({value:nt,done:ke}=Je.next())}catch(Ue){return void K.error(Ue)}ke?K.complete():K.next(nt)},0,!0)}),()=>(0,Q.m)(null==Je?void 0:Je.return)&&Je.return()})}(Qe,bt);if((0,Be.L)(Qe))return function gt(Qe,bt){return De((0,Be.Q)(Qe),bt)}(Qe,bt)}throw(0,ct.z)(Qe)}(Qe,bt):(0,f.Xf)(Qe)}},8421:(Qt,We,x)=>{x.d(We,{Xf:()=>lt});var f=x(655),h=x(1144),G=x(8239),Ce=x(8306),ve=x(3670),Ne=x(2206),Ee=x(4532),ce=x(6495),Q=x(3260),J=x(576),le=x(7849),De=x(8822);function lt(ge){if(ge instanceof Ce.y)return ge;if(null!=ge){if((0,ve.c)(ge))return function Ve(ge){return new Ce.y(be=>{const Qe=ge[De.L]();if((0,J.m)(Qe.subscribe))return Qe.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,h.z)(ge))return function at(ge){return new Ce.y(be=>{for(let Qe=0;Qe<ge.length&&!be.closed;Qe++)be.next(ge[Qe]);be.complete()})}(ge);if((0,G.t)(ge))return function ut(ge){return new Ce.y(be=>{ge.then(Qe=>{be.closed||(be.next(Qe),be.complete())},Qe=>be.error(Qe)).then(null,le.h)})}(ge);if((0,Ne.D)(ge))return ct(ge);if((0,ce.T)(ge))return function ze(ge){return new Ce.y(be=>{for(const Qe of ge)if(be.next(Qe),be.closed)return;be.complete()})}(ge);if((0,Q.L)(ge))return function Be(ge){return ct((0,Q.Q)(ge))}(ge)}throw(0,Ee.z)(ge)}function ct(ge){return new Ce.y(be=>{(function gt(ge,be){var Qe,bt,K,Je;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,f.KL)(ge);!(bt=yield Qe.next()).done;)if(be.next(bt.value),be.closed)return}catch(nt){K={error:nt}}finally{try{bt&&!bt.done&&(Je=Qe.return)&&(yield Je.call(Qe))}finally{if(K)throw K.error}}be.complete()})})(ge,be).catch(Qe=>be.error(Qe))})}},6451:(Qt,We,x)=>{x.d(We,{T:()=>Ne});var f=x(8189),h=x(8421),G=x(515),Ce=x(3269),ve=x(8996);function Ne(...Ee){const ce=(0,Ce.yG)(Ee),Q=(0,Ce._6)(Ee,1/0),J=Ee;return J.length?1===J.length?(0,h.Xf)(J[0]):(0,f.J)(Q)((0,ve.D)(J,ce)):G.E}},9646:(Qt,We,x)=>{x.d(We,{of:()=>G});var f=x(3269),h=x(8996);function G(...Ce){const ve=(0,f.yG)(Ce);return(0,h.D)(Ce,ve)}},5403:(Qt,We,x)=>{x.d(We,{x:()=>h});var f=x(930);function h(Ce,ve,Ne,Ee,ce){return new G(Ce,ve,Ne,Ee,ce)}class G extends f.Lv{constructor(ve,Ne,Ee,ce,Q,J){super(ve),this.onFinalize=Q,this.shouldUnsubscribe=J,this._next=Ne?function(le){try{Ne(le)}catch(De){ve.error(De)}}:super._next,this._error=ce?function(le){try{ce(le)}catch(De){ve.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(le){ve.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ne}=this;super.unsubscribe(),!Ne&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},4351:(Qt,We,x)=>{x.d(We,{b:()=>G});var f=x(5577),h=x(576);function G(Ce,ve){return(0,h.m)(ve)?(0,f.z)(Ce,ve,1):(0,f.z)(Ce,1)}},6590:(Qt,We,x)=>{x.d(We,{d:()=>G});var f=x(4482),h=x(5403);function G(Ce){return(0,f.e)((ve,Ne)=>{let Ee=!1;ve.subscribe((0,h.x)(Ne,ce=>{Ee=!0,Ne.next(ce)},()=>{Ee||Ne.next(Ce),Ne.complete()}))})}},1884:(Qt,We,x)=>{x.d(We,{x:()=>Ce});var f=x(4671),h=x(4482),G=x(5403);function Ce(Ne,Ee=f.y){return Ne=null!=Ne?Ne:ve,(0,h.e)((ce,Q)=>{let J,le=!0;ce.subscribe((0,G.x)(Q,De=>{const lt=Ee(De);(le||!Ne(J,lt))&&(le=!1,J=lt,Q.next(De))}))})}function ve(Ne,Ee){return Ne===Ee}},9300:(Qt,We,x)=>{x.d(We,{h:()=>G});var f=x(4482),h=x(5403);function G(Ce,ve){return(0,f.e)((Ne,Ee)=>{let ce=0;Ne.subscribe((0,h.x)(Ee,Q=>Ce.call(ve,Q,ce++)&&Ee.next(Q)))})}},590:(Qt,We,x)=>{x.d(We,{P:()=>Ee});var f=x(6805),h=x(9300),G=x(5698),Ce=x(6590),ve=x(8068),Ne=x(4671);function Ee(ce,Q){const J=arguments.length>=2;return le=>le.pipe(ce?(0,h.h)((De,lt)=>ce(De,lt,le)):Ne.y,(0,G.q)(1),J?(0,Ce.d)(Q):(0,ve.T)(()=>new f.K))}},4004:(Qt,We,x)=>{x.d(We,{U:()=>G});var f=x(4482),h=x(5403);function G(Ce,ve){return(0,f.e)((Ne,Ee)=>{let ce=0;Ne.subscribe((0,h.x)(Ee,Q=>{Ee.next(Ce.call(ve,Q,ce++))}))})}},8189:(Qt,We,x)=>{x.d(We,{J:()=>G});var f=x(5577),h=x(4671);function G(Ce=1/0){return(0,f.z)(h.y,Ce)}},5577:(Qt,We,x)=>{x.d(We,{z:()=>ce});var f=x(4004),h=x(8421),G=x(4482),Ce=x(9672),ve=x(5403),Ee=x(576);function ce(Q,J,le=1/0){return(0,Ee.m)(J)?ce((De,lt)=>(0,f.U)((Ve,at)=>J(De,Ve,lt,at))((0,h.Xf)(Q(De,lt))),le):("number"==typeof J&&(le=J),(0,G.e)((De,lt)=>function Ne(Q,J,le,De,lt,Ve,at,ut){const ze=[];let ct=0,Be=0,gt=!1;const ge=()=>{gt&&!ze.length&&!ct&&J.complete()},be=bt=>ct<De?Qe(bt):ze.push(bt),Qe=bt=>{Ve&&J.next(bt),ct++;let K=!1;(0,h.Xf)(le(bt,Be++)).subscribe((0,ve.x)(J,Je=>{null==lt||lt(Je),Ve?be(Je):J.next(Je)},()=>{K=!0},void 0,()=>{if(K)try{for(ct--;ze.length&&ct<De;){const Je=ze.shift();at?(0,Ce.f)(J,at,()=>Qe(Je)):Qe(Je)}ge()}catch(Je){J.error(Je)}}))};return Q.subscribe((0,ve.x)(J,be,()=>{gt=!0,ge()})),()=>{null==ut||ut()}}(De,lt,Q,le)))}},5363:(Qt,We,x)=>{x.d(We,{Q:()=>Ce});var f=x(9672),h=x(4482),G=x(5403);function Ce(ve,Ne=0){return(0,h.e)((Ee,ce)=>{Ee.subscribe((0,G.x)(ce,Q=>(0,f.f)(ce,ve,()=>ce.next(Q),Ne),()=>(0,f.f)(ce,ve,()=>ce.complete(),Ne),Q=>(0,f.f)(ce,ve,()=>ce.error(Q),Ne)))})}},5026:(Qt,We,x)=>{x.d(We,{R:()=>Ce});var f=x(4482),h=x(5403);function G(ve,Ne,Ee,ce,Q){return(J,le)=>{let De=Ee,lt=Ne,Ve=0;J.subscribe((0,h.x)(le,at=>{const ut=Ve++;lt=De?ve(lt,at,ut):(De=!0,at),ce&&le.next(lt)},Q&&(()=>{De&&le.next(lt),le.complete()})))}}function Ce(ve,Ne){return(0,f.e)(G(ve,Ne,arguments.length>=2,!0))}},3099:(Qt,We,x)=>{x.d(We,{B:()=>ve});var f=x(8421),h=x(7579),G=x(930),Ce=x(4482);function ve(Ee={}){const{connector:ce=(()=>new h.x),resetOnError:Q=!0,resetOnComplete:J=!0,resetOnRefCountZero:le=!0}=Ee;return De=>{let lt,Ve,at,ut=0,ze=!1,ct=!1;const Be=()=>{null==Ve||Ve.unsubscribe(),Ve=void 0},gt=()=>{Be(),lt=at=void 0,ze=ct=!1},ge=()=>{const be=lt;gt(),null==be||be.unsubscribe()};return(0,Ce.e)((be,Qe)=>{ut++,!ct&&!ze&&Be();const bt=at=null!=at?at:ce();Qe.add(()=>{ut--,0===ut&&!ct&&!ze&&(Ve=Ne(ge,le))}),bt.subscribe(Qe),!lt&&ut>0&&(lt=new G.Hp({next:K=>bt.next(K),error:K=>{ct=!0,Be(),Ve=Ne(gt,Q,K),bt.error(K)},complete:()=>{ze=!0,Be(),Ve=Ne(gt,J),bt.complete()}}),(0,f.Xf)(be).subscribe(lt))})(De)}}function Ne(Ee,ce,...Q){if(!0===ce)return void Ee();if(!1===ce)return;const J=new G.Hp({next:()=>{J.unsubscribe(),Ee()}});return ce(...Q).subscribe(J)}},3151:(Qt,We,x)=>{x.d(We,{d:()=>ve});var f=x(7579),h=x(6063);class G extends f.x{constructor(Ee=1/0,ce=1/0,Q=h.l){super(),this._bufferSize=Ee,this._windowTime=ce,this._timestampProvider=Q,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ce===1/0,this._bufferSize=Math.max(1,Ee),this._windowTime=Math.max(1,ce)}next(Ee){const{isStopped:ce,_buffer:Q,_infiniteTimeWindow:J,_timestampProvider:le,_windowTime:De}=this;ce||(Q.push(Ee),!J&&Q.push(le.now()+De)),this._trimBuffer(),super.next(Ee)}_subscribe(Ee){this._throwIfClosed(),this._trimBuffer();const ce=this._innerSubscribe(Ee),{_infiniteTimeWindow:Q,_buffer:J}=this,le=J.slice();for(let De=0;De<le.length&&!Ee.closed;De+=Q?1:2)Ee.next(le[De]);return this._checkFinalizedStatuses(Ee),ce}_trimBuffer(){const{_bufferSize:Ee,_timestampProvider:ce,_buffer:Q,_infiniteTimeWindow:J}=this,le=(J?1:2)*Ee;if(Ee<1/0&&le<Q.length&&Q.splice(0,Q.length-le),!J){const De=ce.now();let lt=0;for(let Ve=1;Ve<Q.length&&Q[Ve]<=De;Ve+=2)lt=Ve;lt&&Q.splice(0,lt+1)}}}var Ce=x(3099);function ve(Ne,Ee,ce){let Q,J=!1;return Ne&&"object"==typeof Ne?({bufferSize:Q=1/0,windowTime:Ee=1/0,refCount:J=!1,scheduler:ce}=Ne):Q=null!=Ne?Ne:1/0,(0,Ce.B)({connector:()=>new G(Q,Ee,ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:J})}},8675:(Qt,We,x)=>{x.d(We,{O:()=>Ce});var f=x(7272),h=x(3269),G=x(4482);function Ce(...ve){const Ne=(0,h.yG)(ve);return(0,G.e)((Ee,ce)=>{(Ne?(0,f.z)(ve,Ee,Ne):(0,f.z)(ve,Ee)).subscribe(ce)})}},9468:(Qt,We,x)=>{x.d(We,{R:()=>h});var f=x(4482);function h(G,Ce=0){return(0,f.e)((ve,Ne)=>{Ne.add(G.schedule(()=>ve.subscribe(Ne),Ce))})}},3900:(Qt,We,x)=>{x.d(We,{w:()=>Ce});var f=x(8421),h=x(4482),G=x(5403);function Ce(ve,Ne){return(0,h.e)((Ee,ce)=>{let Q=null,J=0,le=!1;const De=()=>le&&!Q&&ce.complete();Ee.subscribe((0,G.x)(ce,lt=>{null==Q||Q.unsubscribe();let Ve=0;const at=J++;(0,f.Xf)(ve(lt,at)).subscribe(Q=(0,G.x)(ce,ut=>ce.next(Ne?Ne(lt,ut,at,Ve++):ut),()=>{Q=null,De()}))},()=>{le=!0,De()}))})}},5698:(Qt,We,x)=>{x.d(We,{q:()=>Ce});var f=x(515),h=x(4482),G=x(5403);function Ce(ve){return ve<=0?()=>f.E:(0,h.e)((Ne,Ee)=>{let ce=0;Ne.subscribe((0,G.x)(Ee,Q=>{++ce<=ve&&(Ee.next(Q),ve<=ce&&Ee.complete())}))})}},8505:(Qt,We,x)=>{x.d(We,{b:()=>ve});var f=x(576),h=x(4482),G=x(5403),Ce=x(4671);function ve(Ne,Ee,ce){const Q=(0,f.m)(Ne)||Ee||ce?{next:Ne,error:Ee,complete:ce}:Ne;return Q?(0,h.e)((J,le)=>{var De;null===(De=Q.subscribe)||void 0===De||De.call(Q);let lt=!0;J.subscribe((0,G.x)(le,Ve=>{var at;null===(at=Q.next)||void 0===at||at.call(Q,Ve),le.next(Ve)},()=>{var Ve;lt=!1,null===(Ve=Q.complete)||void 0===Ve||Ve.call(Q),le.complete()},Ve=>{var at;lt=!1,null===(at=Q.error)||void 0===at||at.call(Q,Ve),le.error(Ve)},()=>{var Ve,at;lt&&(null===(Ve=Q.unsubscribe)||void 0===Ve||Ve.call(Q)),null===(at=Q.finalize)||void 0===at||at.call(Q)}))}):Ce.y}},8068:(Qt,We,x)=>{x.d(We,{T:()=>Ce});var f=x(6805),h=x(4482),G=x(5403);function Ce(Ne=ve){return(0,h.e)((Ee,ce)=>{let Q=!1;Ee.subscribe((0,G.x)(ce,J=>{Q=!0,ce.next(J)},()=>Q?ce.complete():ce.error(Ne())))})}function ve(){return new f.K}},4408:(Qt,We,x)=>{x.d(We,{o:()=>ve});var f=x(727);class h extends f.w0{constructor(Ee,ce){super()}schedule(Ee,ce=0){return this}}const G={setInterval(Ne,Ee,...ce){const{delegate:Q}=G;return(null==Q?void 0:Q.setInterval)?Q.setInterval(Ne,Ee,...ce):setInterval(Ne,Ee,...ce)},clearInterval(Ne){const{delegate:Ee}=G;return((null==Ee?void 0:Ee.clearInterval)||clearInterval)(Ne)},delegate:void 0};var Ce=x(8737);class ve extends h{constructor(Ee,ce){super(Ee,ce),this.scheduler=Ee,this.work=ce,this.pending=!1}schedule(Ee,ce=0){var Q;if(this.closed)return this;this.state=Ee;const J=this.id,le=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(le,J,ce)),this.pending=!0,this.delay=ce,this.id=null!==(Q=this.id)&&void 0!==Q?Q:this.requestAsyncId(le,this.id,ce),this}requestAsyncId(Ee,ce,Q=0){return G.setInterval(Ee.flush.bind(Ee,this),Q)}recycleAsyncId(Ee,ce,Q=0){if(null!=Q&&this.delay===Q&&!1===this.pending)return ce;null!=ce&&G.clearInterval(ce)}execute(Ee,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Q=this._execute(Ee,ce);if(Q)return Q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,ce){let J,Q=!1;try{this.work(Ee)}catch(le){Q=!0,J=le||new Error("Scheduled action threw falsy error")}if(Q)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:ce}=this,{actions:Q}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(Q,this),null!=Ee&&(this.id=this.recycleAsyncId(ce,Ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(Qt,We,x)=>{x.d(We,{v:()=>G});var f=x(6063);class h{constructor(ve,Ne=h.now){this.schedulerActionCtor=ve,this.now=Ne}schedule(ve,Ne=0,Ee){return new this.schedulerActionCtor(this,ve).schedule(Ee,Ne)}}h.now=f.l.now;class G extends h{constructor(ve,Ne=h.now){super(ve,Ne),this.actions=[],this._active=!1}flush(ve){const{actions:Ne}=this;if(this._active)return void Ne.push(ve);let Ee;this._active=!0;do{if(Ee=ve.execute(ve.state,ve.delay))break}while(ve=Ne.shift());if(this._active=!1,Ee){for(;ve=Ne.shift();)ve.unsubscribe();throw Ee}}}},4986:(Qt,We,x)=>{x.d(We,{P:()=>Ce,z:()=>G});var f=x(4408);const G=new(x(7565).v)(f.o),Ce=G},6063:(Qt,We,x)=>{x.d(We,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},233:(Qt,We,x)=>{x.d(We,{N:()=>ve});var f=x(4408),G=x(7565);const ve=new class Ce extends G.v{}(class h extends f.o{constructor(ce,Q){super(ce,Q),this.scheduler=ce,this.work=Q}schedule(ce,Q=0){return Q>0?super.schedule(ce,Q):(this.delay=Q,this.state=ce,this.scheduler.flush(this),this)}execute(ce,Q){return Q>0||this.closed?super.execute(ce,Q):this._execute(ce,Q)}requestAsyncId(ce,Q,J=0){return null!=J&&J>0||null==J&&this.delay>0?super.requestAsyncId(ce,Q,J):(ce.flush(this),0)}})},3410:(Qt,We,x)=>{x.d(We,{z:()=>f});const f={setTimeout(h,G,...Ce){const{delegate:ve}=f;return(null==ve?void 0:ve.setTimeout)?ve.setTimeout(h,G,...Ce):setTimeout(h,G,...Ce)},clearTimeout(h){const{delegate:G}=f;return((null==G?void 0:G.clearTimeout)||clearTimeout)(h)},delegate:void 0}},2202:(Qt,We,x)=>{x.d(We,{h:()=>h});const h=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Qt,We,x)=>{x.d(We,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Qt,We,x)=>{x.d(We,{K:()=>h});const h=(0,x(3888).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Qt,We,x)=>{x.d(We,{_6:()=>Ne,jO:()=>Ce,yG:()=>ve});var f=x(576),h=x(3532);function G(Ee){return Ee[Ee.length-1]}function Ce(Ee){return(0,f.m)(G(Ee))?Ee.pop():void 0}function ve(Ee){return(0,h.K)(G(Ee))?Ee.pop():void 0}function Ne(Ee,ce){return"number"==typeof G(Ee)?Ee.pop():ce}},4742:(Qt,We,x)=>{x.d(We,{D:()=>ve});const{isArray:f}=Array,{getPrototypeOf:h,prototype:G,keys:Ce}=Object;function ve(Ee){if(1===Ee.length){const ce=Ee[0];if(f(ce))return{args:ce,keys:null};if(function Ne(Ee){return Ee&&"object"==typeof Ee&&h(Ee)===G}(ce)){const Q=Ce(ce);return{args:Q.map(J=>ce[J]),keys:Q}}}return{args:Ee,keys:null}}},8737:(Qt,We,x)=>{function f(h,G){if(h){const Ce=h.indexOf(G);0<=Ce&&h.splice(Ce,1)}}x.d(We,{P:()=>f})},3888:(Qt,We,x)=>{function f(h){const Ce=h(ve=>{Error.call(ve),ve.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}x.d(We,{d:()=>f})},1810:(Qt,We,x)=>{function f(h,G){return h.reduce((Ce,ve,Ne)=>(Ce[ve]=G[Ne],Ce),{})}x.d(We,{n:()=>f})},2806:(Qt,We,x)=>{x.d(We,{O:()=>Ce,x:()=>G});var f=x(2416);let h=null;function G(ve){if(f.v.useDeprecatedSynchronousErrorHandling){const Ne=!h;if(Ne&&(h={errorThrown:!1,error:null}),ve(),Ne){const{errorThrown:Ee,error:ce}=h;if(h=null,Ee)throw ce}}else ve()}function Ce(ve){f.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=ve)}},9672:(Qt,We,x)=>{function f(h,G,Ce,ve=0,Ne=!1){const Ee=G.schedule(function(){Ce(),Ne?h.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(h.add(Ee),!Ne)return Ee}x.d(We,{f:()=>f})},4671:(Qt,We,x)=>{function f(h){return h}x.d(We,{y:()=>f})},1144:(Qt,We,x)=>{x.d(We,{z:()=>f});const f=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(Qt,We,x)=>{x.d(We,{D:()=>h});var f=x(576);function h(G){return Symbol.asyncIterator&&(0,f.m)(null==G?void 0:G[Symbol.asyncIterator])}},576:(Qt,We,x)=>{function f(h){return"function"==typeof h}x.d(We,{m:()=>f})},3670:(Qt,We,x)=>{x.d(We,{c:()=>G});var f=x(8822),h=x(576);function G(Ce){return(0,h.m)(Ce[f.L])}},6495:(Qt,We,x)=>{x.d(We,{T:()=>G});var f=x(2202),h=x(576);function G(Ce){return(0,h.m)(null==Ce?void 0:Ce[f.h])}},8239:(Qt,We,x)=>{x.d(We,{t:()=>h});var f=x(576);function h(G){return(0,f.m)(null==G?void 0:G.then)}},3260:(Qt,We,x)=>{x.d(We,{L:()=>Ce,Q:()=>G});var f=x(655),h=x(576);function G(ve){return(0,f.FC)(this,arguments,function*(){const Ee=ve.getReader();try{for(;;){const{value:ce,done:Q}=yield(0,f.qq)(Ee.read());if(Q)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ce)}}finally{Ee.releaseLock()}})}function Ce(ve){return(0,h.m)(null==ve?void 0:ve.getReader)}},3532:(Qt,We,x)=>{x.d(We,{K:()=>h});var f=x(576);function h(G){return G&&(0,f.m)(G.schedule)}},4482:(Qt,We,x)=>{x.d(We,{A:()=>h,e:()=>G});var f=x(576);function h(Ce){return(0,f.m)(null==Ce?void 0:Ce.lift)}function G(Ce){return ve=>{if(h(ve))return ve.lift(function(Ne){try{return Ce(Ne,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Qt,We,x)=>{x.d(We,{Z:()=>Ce});var f=x(4004);const{isArray:h}=Array;function Ce(ve){return(0,f.U)(Ne=>function G(ve,Ne){return h(Ne)?ve(...Ne):ve(Ne)}(ve,Ne))}},5032:(Qt,We,x)=>{function f(){}x.d(We,{Z:()=>f})},7849:(Qt,We,x)=>{x.d(We,{h:()=>G});var f=x(2416),h=x(3410);function G(Ce){h.z.setTimeout(()=>{const{onUnhandledError:ve}=f.v;if(!ve)throw Ce;ve(Ce)})}},4532:(Qt,We,x)=>{function f(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(We,{z:()=>f})},655:(Qt,We,x)=>{function Ce(ke,Ue){var et={};for(var it in ke)Object.prototype.hasOwnProperty.call(ke,it)&&Ue.indexOf(it)<0&&(et[it]=ke[it]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var st=0;for(it=Object.getOwnPropertySymbols(ke);st<it.length;st++)Ue.indexOf(it[st])<0&&Object.prototype.propertyIsEnumerable.call(ke,it[st])&&(et[it[st]]=ke[it[st]])}return et}function ve(ke,Ue,et,it){var tn,st=arguments.length,xt=st<3?Ue:null===it?it=Object.getOwnPropertyDescriptor(Ue,et):it;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)xt=Reflect.decorate(ke,Ue,et,it);else for(var ft=ke.length-1;ft>=0;ft--)(tn=ke[ft])&&(xt=(st<3?tn(xt):st>3?tn(Ue,et,xt):tn(Ue,et))||xt);return st>3&&xt&&Object.defineProperty(Ue,et,xt),xt}function Ee(ke,Ue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ke,Ue)}function ce(ke,Ue,et,it){return new(et||(et=Promise))(function(xt,tn){function ft(Se){try{q(it.next(Se))}catch(qe){tn(qe)}}function mt(Se){try{q(it.throw(Se))}catch(qe){tn(qe)}}function q(Se){Se.done?xt(Se.value):function st(xt){return xt instanceof et?xt:new et(function(tn){tn(xt)})}(Se.value).then(ft,mt)}q((it=it.apply(ke,Ue||[])).next())})}function ze(ke){return this instanceof ze?(this.v=ke,this):new ze(ke)}function ct(ke,Ue,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,it=et.apply(ke,Ue||[]),xt=[];return st={},tn("next"),tn("throw"),tn("return"),st[Symbol.asyncIterator]=function(){return this},st;function tn(Rt){it[Rt]&&(st[Rt]=function(Ht){return new Promise(function(nn,yn){xt.push([Rt,Ht,nn,yn])>1||ft(Rt,Ht)})})}function ft(Rt,Ht){try{!function mt(Rt){Rt.value instanceof ze?Promise.resolve(Rt.value.v).then(q,Se):qe(xt[0][2],Rt)}(it[Rt](Ht))}catch(nn){qe(xt[0][3],nn)}}function q(Rt){ft("next",Rt)}function Se(Rt){ft("throw",Rt)}function qe(Rt,Ht){Rt(Ht),xt.shift(),xt.length&&ft(xt[0][0],xt[0][1])}}function gt(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Ue=ke[Symbol.asyncIterator];return Ue?Ue.call(ke):(ke=function De(ke){var Ue="function"==typeof Symbol&&Symbol.iterator,et=Ue&&ke[Ue],it=0;if(et)return et.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&it>=ke.length&&(ke=void 0),{value:ke&&ke[it++],done:!ke}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),et={},it("next"),it("throw"),it("return"),et[Symbol.asyncIterator]=function(){return this},et);function it(xt){et[xt]=ke[xt]&&function(tn){return new Promise(function(ft,mt){!function st(xt,tn,ft,mt){Promise.resolve(mt).then(function(q){xt({value:q,done:ft})},tn)}(ft,mt,(tn=ke[xt](tn)).done,tn.value)})}}}x.d(We,{FC:()=>ct,KL:()=>gt,_T:()=>Ce,gn:()=>ve,mG:()=>ce,qq:()=>ze,w6:()=>Ee})},1777:(Qt,We,x)=>{x.d(We,{LC:()=>h,SB:()=>Q,X$:()=>Ce,ZE:()=>Be,ZN:()=>ct,_j:()=>f,eR:()=>le,jt:()=>ve,k1:()=>gt,l3:()=>G,oB:()=>ce,vP:()=>Ee});class f{}class h{}const G="*";function Ce(ge,be){return{type:7,name:ge,definitions:be,options:{}}}function ve(ge,be=null){return{type:4,styles:be,timings:ge}}function Ee(ge,be=null){return{type:2,steps:ge,options:be}}function ce(ge){return{type:6,styles:ge,offset:null}}function Q(ge,be,Qe){return{type:0,name:ge,styles:be,options:Qe}}function le(ge,be,Qe=null){return{type:1,expr:ge,animation:be,options:Qe}}function ze(ge){Promise.resolve(null).then(ge)}class ct{constructor(be=0,Qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=be+Qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}onStart(be){this._onStartFns.push(be)}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ze(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(be=>be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(be){this._position=this.totalTime?be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(be){const Qe="start"==be?this._onStartFns:this._onDoneFns;Qe.forEach(bt=>bt()),Qe.length=0}}class Be{constructor(be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=be;let Qe=0,bt=0,K=0;const Je=this.players.length;0==Je?ze(()=>this._onFinish()):this.players.forEach(nt=>{nt.onDone(()=>{++Qe==Je&&this._onFinish()}),nt.onDestroy(()=>{++bt==Je&&this._onDestroy()}),nt.onStart(()=>{++K==Je&&this._onStart()})}),this.totalTime=this.players.reduce((nt,ke)=>Math.max(nt,ke.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this.players.forEach(be=>be.init())}onStart(be){this._onStartFns.push(be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(be=>be()),this._onStartFns=[])}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(be=>be.play())}pause(){this.players.forEach(be=>be.pause())}restart(){this.players.forEach(be=>be.restart())}finish(){this._onFinish(),this.players.forEach(be=>be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(be=>be.destroy()),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this.players.forEach(be=>be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(be){const Qe=be*this.totalTime;this.players.forEach(bt=>{const K=bt.totalTime?Math.min(1,Qe/bt.totalTime):1;bt.setPosition(K)})}getPosition(){const be=this.players.reduce((Qe,bt)=>null===Qe||bt.totalTime>Qe.totalTime?bt:Qe,null);return null!=be?be.getPosition():0}beforeDestroy(){this.players.forEach(be=>{be.beforeDestroy&&be.beforeDestroy()})}triggerCallback(be){const Qe="start"==be?this._onStartFns:this._onDoneFns;Qe.forEach(bt=>bt()),Qe.length=0}}const gt="!"},9808:(Qt,We,x)=>{x.d(We,{Do:()=>ge,ED:()=>Gr,EM:()=>_r,HT:()=>ve,JF:()=>Fi,K0:()=>Ee,Mx:()=>Oi,NF:()=>Ni,O5:()=>Dr,Ov:()=>Bt,PC:()=>_s,PM:()=>Or,RF:()=>Xi,S$:()=>ze,V_:()=>J,Ye:()=>be,b0:()=>gt,bD:()=>ta,ez:()=>Xr,gd:()=>qi,lw:()=>ce,mk:()=>Bi,mr:()=>Be,n9:()=>Ir,q:()=>G,rS:()=>$n,sg:()=>At,tP:()=>ds,uU:()=>as,w_:()=>Ne});var f=x(5e3);let h=null;function G(){return h}function ve(V){h||(h=V)}class Ne{}const Ee=new f.OlP("DocumentToken");let ce=(()=>{class V{historyGo(F){throw new Error("Not implemented")}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275prov=f.Yz7({token:V,factory:function(){return function Q(){return(0,f.LFG)(le)}()},providedIn:"platform"}),V})();const J=new f.OlP("Location Initialized");let le=(()=>{class V extends ce{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(F){const ue=G().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("popstate",F,!1),()=>ue.removeEventListener("popstate",F)}onHashChange(F){const ue=G().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("hashchange",F,!1),()=>ue.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,ue,$e){De()?this._history.pushState(F,ue,$e):this.location.hash=$e}replaceState(F,ue,$e){De()?this._history.replaceState(F,ue,$e):this.location.hash=$e}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return V.\u0275fac=function(F){return new(F||V)(f.LFG(Ee))},V.\u0275prov=f.Yz7({token:V,factory:function(){return function lt(){return new le((0,f.LFG)(Ee))}()},providedIn:"platform"}),V})();function De(){return!!window.history.pushState}function Ve(V,ie){if(0==V.length)return ie;if(0==ie.length)return V;let F=0;return V.endsWith("/")&&F++,ie.startsWith("/")&&F++,2==F?V+ie.substring(1):1==F?V+ie:V+"/"+ie}function at(V){const ie=V.match(/#|\?|$/),F=ie&&ie.index||V.length;return V.slice(0,F-("/"===V[F-1]?1:0))+V.slice(F)}function ut(V){return V&&"?"!==V[0]?"?"+V:V}let ze=(()=>{class V{historyGo(F){throw new Error("Not implemented")}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275prov=f.Yz7({token:V,factory:function(){return function ct(V){const ie=(0,f.LFG)(Ee).location;return new gt((0,f.LFG)(ce),ie&&ie.origin||"")}()},providedIn:"root"}),V})();const Be=new f.OlP("appBaseHref");let gt=(()=>{class V extends ze{constructor(F,ue){if(super(),this._platformLocation=F,this._removeListenerFns=[],null==ue&&(ue=this._platformLocation.getBaseHrefFromDOM()),null==ue)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ue}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return Ve(this._baseHref,F)}path(F=!1){const ue=this._platformLocation.pathname+ut(this._platformLocation.search),$e=this._platformLocation.hash;return $e&&F?`${ue}${$e}`:ue}pushState(F,ue,$e,St){const $t=this.prepareExternalUrl($e+ut(St));this._platformLocation.pushState(F,ue,$t)}replaceState(F,ue,$e,St){const $t=this.prepareExternalUrl($e+ut(St));this._platformLocation.replaceState(F,ue,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var ue,$e;null===($e=(ue=this._platformLocation).historyGo)||void 0===$e||$e.call(ue,F)}}return V.\u0275fac=function(F){return new(F||V)(f.LFG(ce),f.LFG(Be,8))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac}),V})(),ge=(()=>{class V extends ze{constructor(F,ue){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=ue&&(this._baseHref=ue)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let ue=this._platformLocation.hash;return null==ue&&(ue="#"),ue.length>0?ue.substring(1):ue}prepareExternalUrl(F){const ue=Ve(this._baseHref,F);return ue.length>0?"#"+ue:ue}pushState(F,ue,$e,St){let $t=this.prepareExternalUrl($e+ut(St));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.pushState(F,ue,$t)}replaceState(F,ue,$e,St){let $t=this.prepareExternalUrl($e+ut(St));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.replaceState(F,ue,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var ue,$e;null===($e=(ue=this._platformLocation).historyGo)||void 0===$e||$e.call(ue,F)}}return V.\u0275fac=function(F){return new(F||V)(f.LFG(ce),f.LFG(Be,8))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac}),V})(),be=(()=>{class V{constructor(F,ue){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=F;const $e=this._platformStrategy.getBaseHref();this._platformLocation=ue,this._baseHref=at(K($e)),this._platformStrategy.onPopState(St=>{this._subject.emit({url:this.path(!0),pop:!0,state:St.state,type:St.type})})}path(F=!1){return this.normalize(this._platformStrategy.path(F))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(F,ue=""){return this.path()==this.normalize(F+ut(ue))}normalize(F){return V.stripTrailingSlash(function bt(V,ie){return V&&ie.startsWith(V)?ie.substring(V.length):ie}(this._baseHref,K(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._platformStrategy.prepareExternalUrl(F)}go(F,ue="",$e=null){this._platformStrategy.pushState($e,"",F,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+ut(ue)),$e)}replaceState(F,ue="",$e=null){this._platformStrategy.replaceState($e,"",F,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+ut(ue)),$e)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(F=0){var ue,$e;null===($e=(ue=this._platformStrategy).historyGo)||void 0===$e||$e.call(ue,F)}onUrlChange(F){this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ue=>{this._notifyUrlChangeListeners(ue.url,ue.state)}))}_notifyUrlChangeListeners(F="",ue){this._urlChangeListeners.forEach($e=>$e(F,ue))}subscribe(F,ue,$e){return this._subject.subscribe({next:F,error:ue,complete:$e})}}return V.normalizeQueryParams=ut,V.joinWithSlash=Ve,V.stripTrailingSlash=at,V.\u0275fac=function(F){return new(F||V)(f.LFG(ze),f.LFG(ce))},V.\u0275prov=f.Yz7({token:V,factory:function(){return function Qe(){return new be((0,f.LFG)(ze),(0,f.LFG)(ce))}()},providedIn:"root"}),V})();function K(V){return V.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Format=0]="Format",Ue[Ue.Standalone=1]="Standalone",Ue))(),et=(()=>((et=et||{})[et.Narrow=0]="Narrow",et[et.Abbreviated=1]="Abbreviated",et[et.Wide=2]="Wide",et[et.Short=3]="Short",et))(),it=(()=>((it=it||{})[it.Short=0]="Short",it[it.Medium=1]="Medium",it[it.Long=2]="Long",it[it.Full=3]="Full",it))(),st=(()=>((st=st||{})[st.Decimal=0]="Decimal",st[st.Group=1]="Group",st[st.List=2]="List",st[st.PercentSign=3]="PercentSign",st[st.PlusSign=4]="PlusSign",st[st.MinusSign=5]="MinusSign",st[st.Exponential=6]="Exponential",st[st.SuperscriptingExponent=7]="SuperscriptingExponent",st[st.PerMille=8]="PerMille",st[st.Infinity=9]="Infinity",st[st.NaN=10]="NaN",st[st.TimeSeparator=11]="TimeSeparator",st[st.CurrencyDecimal=12]="CurrencyDecimal",st[st.CurrencyGroup=13]="CurrencyGroup",st))();function Ht(V,ie){return ni((0,f.cg1)(V)[f.wAp.DateFormat],ie)}function nn(V,ie){return ni((0,f.cg1)(V)[f.wAp.TimeFormat],ie)}function yn(V,ie){return ni((0,f.cg1)(V)[f.wAp.DateTimeFormat],ie)}function xn(V,ie){const F=(0,f.cg1)(V),ue=F[f.wAp.NumberSymbols][ie];if(void 0===ue){if(ie===st.CurrencyDecimal)return F[f.wAp.NumberSymbols][st.Decimal];if(ie===st.CurrencyGroup)return F[f.wAp.NumberSymbols][st.Group]}return ue}function On(V){if(!V[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${V[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ni(V,ie){for(let F=ie;F>-1;F--)if(void 0!==V[F])return V[F];throw new Error("Locale data API: locale data undefined")}function rn(V){const[ie,F]=V.split(":");return{hours:+ie,minutes:+F}}const Fe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ge={},Ut=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var It=(()=>((It=It||{})[It.Short=0]="Short",It[It.ShortGMT=1]="ShortGMT",It[It.Long=2]="Long",It[It.Extended=3]="Extended",It))(),Nt=(()=>((Nt=Nt||{})[Nt.FullYear=0]="FullYear",Nt[Nt.Month=1]="Month",Nt[Nt.Date=2]="Date",Nt[Nt.Hours=3]="Hours",Nt[Nt.Minutes=4]="Minutes",Nt[Nt.Seconds=5]="Seconds",Nt[Nt.FractionalSeconds=6]="FractionalSeconds",Nt[Nt.Day=7]="Day",Nt))(),Zt=(()=>((Zt=Zt||{})[Zt.DayPeriods=0]="DayPeriods",Zt[Zt.Days=1]="Days",Zt[Zt.Months=2]="Months",Zt[Zt.Eras=3]="Eras",Zt))();function Re(V,ie,F,ue){let $e=function ee(V){if(xe(V))return V;if("number"==typeof V&&!isNaN(V))return new Date(V);if("string"==typeof V){if(V=V.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(V)){const[$e,St=1,$t=1]=V.split("-").map(Mn=>+Mn);return Oe($e,St-1,$t)}const F=parseFloat(V);if(!isNaN(V-F))return new Date(F);let ue;if(ue=V.match(Fe))return function ne(V){const ie=new Date(0);let F=0,ue=0;const $e=V[8]?ie.setUTCFullYear:ie.setFullYear,St=V[8]?ie.setUTCHours:ie.setHours;V[9]&&(F=Number(V[9]+V[10]),ue=Number(V[9]+V[11])),$e.call(ie,Number(V[1]),Number(V[2])-1,Number(V[3]));const $t=Number(V[4]||0)-F,Mn=Number(V[5]||0)-ue,Gn=Number(V[6]||0),yi=Math.floor(1e3*parseFloat("0."+(V[7]||0)));return St.call(ie,$t,Mn,Gn,yi),ie}(ue)}const ie=new Date(V);if(!xe(ie))throw new Error(`Unable to convert "${V}" into a date`);return ie}(V);ie=we(F,ie)||ie;let Mn,$t=[];for(;ie;){if(Mn=Ut.exec(ie),!Mn){$t.push(ie);break}{$t=$t.concat(Mn.slice(1));const ti=$t.pop();if(!ti)break;ie=ti}}let Gn=$e.getTimezoneOffset();ue&&(Gn=ye(ue,Gn),$e=function $(V,ie,F){const ue=F?-1:1,$e=V.getTimezoneOffset();return function X(V,ie){return(V=new Date(V.getTime())).setMinutes(V.getMinutes()+ie),V}(V,ue*(ye(ie,$e)-$e))}($e,ue,!0));let yi="";return $t.forEach(ti=>{const di=function Me(V){if(pe[V])return pe[V];let ie;switch(V){case"G":case"GG":case"GGG":ie=fn(Zt.Eras,et.Abbreviated);break;case"GGGG":ie=fn(Zt.Eras,et.Wide);break;case"GGGGG":ie=fn(Zt.Eras,et.Narrow);break;case"y":ie=Tt(Nt.FullYear,1,0,!1,!0);break;case"yy":ie=Tt(Nt.FullYear,2,0,!0,!0);break;case"yyy":ie=Tt(Nt.FullYear,3,0,!1,!0);break;case"yyyy":ie=Tt(Nt.FullYear,4,0,!1,!0);break;case"Y":ie=fe(1);break;case"YY":ie=fe(2,!0);break;case"YYY":ie=fe(3);break;case"YYYY":ie=fe(4);break;case"M":case"L":ie=Tt(Nt.Month,1,1);break;case"MM":case"LL":ie=Tt(Nt.Month,2,1);break;case"MMM":ie=fn(Zt.Months,et.Abbreviated);break;case"MMMM":ie=fn(Zt.Months,et.Wide);break;case"MMMMM":ie=fn(Zt.Months,et.Narrow);break;case"LLL":ie=fn(Zt.Months,et.Abbreviated,Ue.Standalone);break;case"LLLL":ie=fn(Zt.Months,et.Wide,Ue.Standalone);break;case"LLLLL":ie=fn(Zt.Months,et.Narrow,Ue.Standalone);break;case"w":ie=Ft(1);break;case"ww":ie=Ft(2);break;case"W":ie=Ft(1,!0);break;case"d":ie=Tt(Nt.Date,1);break;case"dd":ie=Tt(Nt.Date,2);break;case"c":case"cc":ie=Tt(Nt.Day,1);break;case"ccc":ie=fn(Zt.Days,et.Abbreviated,Ue.Standalone);break;case"cccc":ie=fn(Zt.Days,et.Wide,Ue.Standalone);break;case"ccccc":ie=fn(Zt.Days,et.Narrow,Ue.Standalone);break;case"cccccc":ie=fn(Zt.Days,et.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":ie=fn(Zt.Days,et.Abbreviated);break;case"EEEE":ie=fn(Zt.Days,et.Wide);break;case"EEEEE":ie=fn(Zt.Days,et.Narrow);break;case"EEEEEE":ie=fn(Zt.Days,et.Short);break;case"a":case"aa":case"aaa":ie=fn(Zt.DayPeriods,et.Abbreviated);break;case"aaaa":ie=fn(Zt.DayPeriods,et.Wide);break;case"aaaaa":ie=fn(Zt.DayPeriods,et.Narrow);break;case"b":case"bb":case"bbb":ie=fn(Zt.DayPeriods,et.Abbreviated,Ue.Standalone,!0);break;case"bbbb":ie=fn(Zt.DayPeriods,et.Wide,Ue.Standalone,!0);break;case"bbbbb":ie=fn(Zt.DayPeriods,et.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":ie=fn(Zt.DayPeriods,et.Abbreviated,Ue.Format,!0);break;case"BBBB":ie=fn(Zt.DayPeriods,et.Wide,Ue.Format,!0);break;case"BBBBB":ie=fn(Zt.DayPeriods,et.Narrow,Ue.Format,!0);break;case"h":ie=Tt(Nt.Hours,1,-12);break;case"hh":ie=Tt(Nt.Hours,2,-12);break;case"H":ie=Tt(Nt.Hours,1);break;case"HH":ie=Tt(Nt.Hours,2);break;case"m":ie=Tt(Nt.Minutes,1);break;case"mm":ie=Tt(Nt.Minutes,2);break;case"s":ie=Tt(Nt.Seconds,1);break;case"ss":ie=Tt(Nt.Seconds,2);break;case"S":ie=Tt(Nt.FractionalSeconds,1);break;case"SS":ie=Tt(Nt.FractionalSeconds,2);break;case"SSS":ie=Tt(Nt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ie=W(It.Short);break;case"ZZZZZ":ie=W(It.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ie=W(It.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ie=W(It.Long);break;default:return null}return pe[V]=ie,ie}(ti);yi+=di?di($e,F,Gn):"''"===ti?"'":ti.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),yi}function Oe(V,ie,F){const ue=new Date(0);return ue.setFullYear(V,ie,F),ue.setHours(0,0,0),ue}function we(V,ie){const F=function tn(V){return(0,f.cg1)(V)[f.wAp.LocaleId]}(V);if(Ge[F]=Ge[F]||{},Ge[F][ie])return Ge[F][ie];let ue="";switch(ie){case"shortDate":ue=Ht(V,it.Short);break;case"mediumDate":ue=Ht(V,it.Medium);break;case"longDate":ue=Ht(V,it.Long);break;case"fullDate":ue=Ht(V,it.Full);break;case"shortTime":ue=nn(V,it.Short);break;case"mediumTime":ue=nn(V,it.Medium);break;case"longTime":ue=nn(V,it.Long);break;case"fullTime":ue=nn(V,it.Full);break;case"short":const $e=we(V,"shortTime"),St=we(V,"shortDate");ue=Ke(yn(V,it.Short),[$e,St]);break;case"medium":const $t=we(V,"mediumTime"),Mn=we(V,"mediumDate");ue=Ke(yn(V,it.Medium),[$t,Mn]);break;case"long":const Gn=we(V,"longTime"),yi=we(V,"longDate");ue=Ke(yn(V,it.Long),[Gn,yi]);break;case"full":const ti=we(V,"fullTime"),di=we(V,"fullDate");ue=Ke(yn(V,it.Full),[ti,di])}return ue&&(Ge[F][ie]=ue),ue}function Ke(V,ie){return ie&&(V=V.replace(/\{([^}]+)}/g,function(F,ue){return null!=ie&&ue in ie?ie[ue]:F})),V}function wt(V,ie,F="-",ue,$e){let St="";(V<0||$e&&V<=0)&&($e?V=1-V:(V=-V,St=F));let $t=String(V);for(;$t.length<ie;)$t="0"+$t;return ue&&($t=$t.substr($t.length-ie)),St+$t}function Tt(V,ie,F=0,ue=!1,$e=!1){return function(St,$t){let Mn=function _n(V,ie){switch(V){case Nt.FullYear:return ie.getFullYear();case Nt.Month:return ie.getMonth();case Nt.Date:return ie.getDate();case Nt.Hours:return ie.getHours();case Nt.Minutes:return ie.getMinutes();case Nt.Seconds:return ie.getSeconds();case Nt.FractionalSeconds:return ie.getMilliseconds();case Nt.Day:return ie.getDay();default:throw new Error(`Unknown DateType value "${V}".`)}}(V,St);if((F>0||Mn>-F)&&(Mn+=F),V===Nt.Hours)0===Mn&&-12===F&&(Mn=12);else if(V===Nt.FractionalSeconds)return function Mt(V,ie){return wt(V,3).substr(0,ie)}(Mn,ie);const Gn=xn($t,st.MinusSign);return wt(Mn,ie,Gn,ue,$e)}}function fn(V,ie,F=Ue.Format,ue=!1){return function($e,St){return function pn(V,ie,F,ue,$e,St){switch(F){case Zt.Months:return function q(V,ie,F){const ue=(0,f.cg1)(V),St=ni([ue[f.wAp.MonthsFormat],ue[f.wAp.MonthsStandalone]],ie);return ni(St,F)}(ie,$e,ue)[V.getMonth()];case Zt.Days:return function mt(V,ie,F){const ue=(0,f.cg1)(V),St=ni([ue[f.wAp.DaysFormat],ue[f.wAp.DaysStandalone]],ie);return ni(St,F)}(ie,$e,ue)[V.getDay()];case Zt.DayPeriods:const $t=V.getHours(),Mn=V.getMinutes();if(St){const yi=function wi(V){const ie=(0,f.cg1)(V);return On(ie),(ie[f.wAp.ExtraData][2]||[]).map(ue=>"string"==typeof ue?rn(ue):[rn(ue[0]),rn(ue[1])])}(ie),ti=function on(V,ie,F){const ue=(0,f.cg1)(V);On(ue);const St=ni([ue[f.wAp.ExtraData][0],ue[f.wAp.ExtraData][1]],ie)||[];return ni(St,F)||[]}(ie,$e,ue),di=yi.findIndex(tr=>{if(Array.isArray(tr)){const[Hi,Vi]=tr,H=$t>=Hi.hours&&Mn>=Hi.minutes,N=$t<Vi.hours||$t===Vi.hours&&Mn<Vi.minutes;if(Hi.hours<Vi.hours){if(H&&N)return!0}else if(H||N)return!0}else if(tr.hours===$t&&tr.minutes===Mn)return!0;return!1});if(-1!==di)return ti[di]}return function ft(V,ie,F){const ue=(0,f.cg1)(V),St=ni([ue[f.wAp.DayPeriodsFormat],ue[f.wAp.DayPeriodsStandalone]],ie);return ni(St,F)}(ie,$e,ue)[$t<12?0:1];case Zt.Eras:return function Se(V,ie){return ni((0,f.cg1)(V)[f.wAp.Eras],ie)}(ie,ue)[V.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${F}`)}}($e,St,V,ie,F,ue)}}function W(V){return function(ie,F,ue){const $e=-1*ue,St=xn(F,st.MinusSign),$t=$e>0?Math.floor($e/60):Math.ceil($e/60);switch(V){case It.Short:return($e>=0?"+":"")+wt($t,2,St)+wt(Math.abs($e%60),2,St);case It.ShortGMT:return"GMT"+($e>=0?"+":"")+wt($t,1,St);case It.Long:return"GMT"+($e>=0?"+":"")+wt($t,2,St)+":"+wt(Math.abs($e%60),2,St);case It.Extended:return 0===ue?"Z":($e>=0?"+":"")+wt($t,2,St)+":"+wt(Math.abs($e%60),2,St);default:throw new Error(`Unknown zone width "${V}"`)}}}function vt(V){return Oe(V.getFullYear(),V.getMonth(),V.getDate()+(4-V.getDay()))}function Ft(V,ie=!1){return function(F,ue){let $e;if(ie){const St=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,$t=F.getDate();$e=1+Math.floor(($t+St)/7)}else{const St=vt(F),$t=function Le(V){const ie=Oe(V,0,1).getDay();return Oe(V,0,1+(ie<=4?4:11)-ie)}(St.getFullYear()),Mn=St.getTime()-$t.getTime();$e=1+Math.round(Mn/6048e5)}return wt($e,V,xn(ue,st.MinusSign))}}function fe(V,ie=!1){return function(F,ue){return wt(vt(F).getFullYear(),V,xn(ue,st.MinusSign),ie)}}const pe={};function ye(V,ie){V=V.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+V)/6e4;return isNaN(F)?ie:F}function xe(V){return V instanceof Date&&!isNaN(V.valueOf())}function Oi(V,ie){ie=encodeURIComponent(ie);for(const F of V.split(";")){const ue=F.indexOf("="),[$e,St]=-1==ue?[F,""]:[F.slice(0,ue),F.slice(ue+1)];if($e.trim()===ie)return decodeURIComponent(St)}return null}let Bi=(()=>{class V{constructor(F,ue,$e,St){this._iterableDiffers=F,this._keyValueDiffers=ue,this._ngEl=$e,this._renderer=St,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(F){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof F?F.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(F){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof F?F.split(/\s+/):F,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const F=this._iterableDiffer.diff(this._rawClass);F&&this._applyIterableChanges(F)}else if(this._keyValueDiffer){const F=this._keyValueDiffer.diff(this._rawClass);F&&this._applyKeyValueChanges(F)}}_applyKeyValueChanges(F){F.forEachAddedItem(ue=>this._toggleClass(ue.key,ue.currentValue)),F.forEachChangedItem(ue=>this._toggleClass(ue.key,ue.currentValue)),F.forEachRemovedItem(ue=>{ue.previousValue&&this._toggleClass(ue.key,!1)})}_applyIterableChanges(F){F.forEachAddedItem(ue=>{if("string"!=typeof ue.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(ue.item)}`);this._toggleClass(ue.item,!0)}),F.forEachRemovedItem(ue=>this._toggleClass(ue.item,!1))}_applyClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(ue=>this._toggleClass(ue,!0)):Object.keys(F).forEach(ue=>this._toggleClass(ue,!!F[ue])))}_removeClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(ue=>this._toggleClass(ue,!1)):Object.keys(F).forEach(ue=>this._toggleClass(ue,!1)))}_toggleClass(F,ue){(F=F.trim())&&F.split(/\s+/g).forEach($e=>{ue?this._renderer.addClass(this._ngEl.nativeElement,$e):this._renderer.removeClass(this._ngEl.nativeElement,$e)})}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),V})();class rr{constructor(ie,F,ue,$e){this.$implicit=ie,this.ngForOf=F,this.index=ue,this.count=$e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let At=(()=>{class V{constructor(F,ue,$e){this._viewContainer=F,this._template=ue,this._differs=$e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const ue=this._viewContainer;F.forEachOperation(($e,St,$t)=>{if(null==$e.previousIndex)ue.createEmbeddedView(this._template,new rr($e.item,this._ngForOf,-1,-1),null===$t?void 0:$t);else if(null==$t)ue.remove(null===St?void 0:St);else if(null!==St){const Mn=ue.get(St);ue.move(Mn,$t),ar(Mn,$e)}});for(let $e=0,St=ue.length;$e<St;$e++){const Mn=ue.get($e).context;Mn.index=$e,Mn.count=St,Mn.ngForOf=this._ngForOf}F.forEachIdentityChange($e=>{ar(ue.get($e.currentIndex),$e)})}static ngTemplateContextGuard(F,ue){return!0}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),V})();function ar(V,ie){V.context.$implicit=ie.item}let Dr=(()=>{class V{constructor(F,ue){this._viewContainer=F,this._context=new Ei,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ue}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){$r("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){$r("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,ue){return!0}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.s_b),f.Y36(f.Rgc))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V})();class Ei{constructor(){this.$implicit=null,this.ngIf=null}}function $r(V,ie){if(ie&&!ie.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,f.AaK)(ie)}'.`)}class Vr{constructor(ie,F){this._viewContainerRef=ie,this._templateRef=F,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ie){ie&&!this._created?this.create():!ie&&this._created&&this.destroy()}}let Xi=(()=>{class V{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(F){this._ngSwitch=F,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(F){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(F)}_matchCase(F){const ue=F==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ue,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ue}_updateDefaultCases(F){if(this._defaultViews&&F!==this._defaultUsed){this._defaultUsed=F;for(let ue=0;ue<this._defaultViews.length;ue++)this._defaultViews[ue].enforceState(F)}}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275dir=f.lG2({type:V,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),V})(),Ir=(()=>{class V{constructor(F,ue,$e){this.ngSwitch=$e,$e._addCase(),this._view=new Vr(F,ue)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Xi,9))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),V})(),Gr=(()=>{class V{constructor(F,ue,$e){$e._addDefault(new Vr(F,ue))}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Xi,9))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngSwitchDefault",""]]}),V})(),_s=(()=>{class V{constructor(F,ue,$e){this._ngEl=F,this._differs=ue,this._renderer=$e,this._ngStyle=null,this._differ=null}set ngStyle(F){this._ngStyle=F,!this._differ&&F&&(this._differ=this._differs.find(F).create())}ngDoCheck(){if(this._differ){const F=this._differ.diff(this._ngStyle);F&&this._applyChanges(F)}}_setStyle(F,ue){const[$e,St]=F.split(".");null!=(ue=null!=ue&&St?`${ue}${St}`:ue)?this._renderer.setStyle(this._ngEl.nativeElement,$e,ue):this._renderer.removeStyle(this._ngEl.nativeElement,$e)}_applyChanges(F){F.forEachRemovedItem(ue=>this._setStyle(ue.key,null)),F.forEachAddedItem(ue=>this._setStyle(ue.key,ue.currentValue)),F.forEachChangedItem(ue=>this._setStyle(ue.key,ue.currentValue))}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),V})(),ds=(()=>{class V{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(F){if(F.ngTemplateOutlet){const ue=this._viewContainerRef;this._viewRef&&ue.remove(ue.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ue.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.s_b))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[f.TTD]}),V})();function er(V,ie){return new f.vHH(2100,"")}class bo{createSubscription(ie,F){return ie.subscribe({next:F,error:ue=>{throw ue}})}dispose(ie){ie.unsubscribe()}onDestroy(ie){ie.unsubscribe()}}class ot{createSubscription(ie,F){return ie.then(F,ue=>{throw ue})}dispose(ie){}onDestroy(ie){}}const Ye=new ot,pt=new bo;let Bt=(()=>{class V{constructor(F){this._ref=F,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,ue=>this._updateLatestValue(F,ue))}_selectStrategy(F){if((0,f.QGY)(F))return Ye;if((0,f.F4k)(F))return pt;throw er()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,ue){F===this._obj&&(this._latestValue=ue,this._ref.markForCheck())}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.sBO,16))},V.\u0275pipe=f.Yjl({name:"async",type:V,pure:!1}),V})();const En=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let $n=(()=>{class V{transform(F){if(null==F)return null;if("string"!=typeof F)throw er();return F.replace(En,ue=>ue[0].toUpperCase()+ue.substr(1).toLowerCase())}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275pipe=f.Yjl({name:"titlecase",type:V,pure:!0}),V})(),qi=(()=>{class V{transform(F){if(null==F)return null;if("string"!=typeof F)throw er();return F.toUpperCase()}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275pipe=f.Yjl({name:"uppercase",type:V,pure:!0}),V})();const Ri=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let as=(()=>{class V{constructor(F,ue){this.locale=F,this.defaultTimezone=ue}transform(F,ue="mediumDate",$e,St){var $t;if(null==F||""===F||F!=F)return null;try{return Re(F,ue,St||this.locale,null!==($t=null!=$e?$e:this.defaultTimezone)&&void 0!==$t?$t:void 0)}catch(Mn){throw er()}}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.soG,16),f.Y36(Ri,24))},V.\u0275pipe=f.Yjl({name:"date",type:V,pure:!0}),V})(),Xr=(()=>{class V{}return V.\u0275fac=function(F){return new(F||V)},V.\u0275mod=f.oAB({type:V}),V.\u0275inj=f.cJS({}),V})();const ta="browser";function Ni(V){return V===ta}function Or(V){return"server"===V}let _r=(()=>{class V{}return V.\u0275prov=(0,f.Yz7)({token:V,providedIn:"root",factory:()=>new wo((0,f.LFG)(Ee),window)}),V})();class wo{constructor(ie,F){this.document=ie,this.window=F,this.offset=()=>[0,0]}setOffset(ie){this.offset=Array.isArray(ie)?()=>ie:ie}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ie){this.supportsScrolling()&&this.window.scrollTo(ie[0],ie[1])}scrollToAnchor(ie){if(!this.supportsScrolling())return;const F=function Zn(V,ie){const F=V.getElementById(ie)||V.getElementsByName(ie)[0];if(F)return F;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const ue=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let $e=ue.currentNode;for(;$e;){const St=$e.shadowRoot;if(St){const $t=St.getElementById(ie)||St.querySelector(`[name="${ie}"]`);if($t)return $t}$e=ue.nextNode()}}return null}(this.document,ie);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(ie){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=ie)}}scrollToElement(ie){const F=ie.getBoundingClientRect(),ue=F.left+this.window.pageXOffset,$e=F.top+this.window.pageYOffset,St=this.offset();this.window.scrollTo(ue-St[0],$e-St[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ie=Ai(this.window.history)||Ai(Object.getPrototypeOf(this.window.history));return!(!ie||!ie.writable&&!ie.set)}catch(ie){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ie){return!1}}}function Ai(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class Fi{}},520:(Qt,We,x)=>{x.d(We,{JF:()=>rn,TP:()=>tn,eN:()=>st});var f=x(9808),h=x(5e3),G=x(9646),Ce=x(8306),ve=x(4351),Ne=x(9300),Ee=x(4004);class ce{}class Q{}class J{constructor(Fe){this.normalizedNames=new Map,this.lazyUpdate=null,Fe?this.lazyInit="string"==typeof Fe?()=>{this.headers=new Map,Fe.split("\n").forEach(Ge=>{const Ut=Ge.indexOf(":");if(Ut>0){const It=Ge.slice(0,Ut),Nt=It.toLowerCase(),Zt=Ge.slice(Ut+1).trim();this.maybeSetNormalizedName(It,Nt),this.headers.has(Nt)?this.headers.get(Nt).push(Zt):this.headers.set(Nt,[Zt])}})}:()=>{this.headers=new Map,Object.keys(Fe).forEach(Ge=>{let Ut=Fe[Ge];const It=Ge.toLowerCase();"string"==typeof Ut&&(Ut=[Ut]),Ut.length>0&&(this.headers.set(It,Ut),this.maybeSetNormalizedName(Ge,It))})}:this.headers=new Map}has(Fe){return this.init(),this.headers.has(Fe.toLowerCase())}get(Fe){this.init();const Ge=this.headers.get(Fe.toLowerCase());return Ge&&Ge.length>0?Ge[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Fe){return this.init(),this.headers.get(Fe.toLowerCase())||null}append(Fe,Ge){return this.clone({name:Fe,value:Ge,op:"a"})}set(Fe,Ge){return this.clone({name:Fe,value:Ge,op:"s"})}delete(Fe,Ge){return this.clone({name:Fe,value:Ge,op:"d"})}maybeSetNormalizedName(Fe,Ge){this.normalizedNames.has(Ge)||this.normalizedNames.set(Ge,Fe)}init(){this.lazyInit&&(this.lazyInit instanceof J?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Fe=>this.applyUpdate(Fe)),this.lazyUpdate=null))}copyFrom(Fe){Fe.init(),Array.from(Fe.headers.keys()).forEach(Ge=>{this.headers.set(Ge,Fe.headers.get(Ge)),this.normalizedNames.set(Ge,Fe.normalizedNames.get(Ge))})}clone(Fe){const Ge=new J;return Ge.lazyInit=this.lazyInit&&this.lazyInit instanceof J?this.lazyInit:this,Ge.lazyUpdate=(this.lazyUpdate||[]).concat([Fe]),Ge}applyUpdate(Fe){const Ge=Fe.name.toLowerCase();switch(Fe.op){case"a":case"s":let Ut=Fe.value;if("string"==typeof Ut&&(Ut=[Ut]),0===Ut.length)return;this.maybeSetNormalizedName(Fe.name,Ge);const It=("a"===Fe.op?this.headers.get(Ge):void 0)||[];It.push(...Ut),this.headers.set(Ge,It);break;case"d":const Nt=Fe.value;if(Nt){let Zt=this.headers.get(Ge);if(!Zt)return;Zt=Zt.filter(Re=>-1===Nt.indexOf(Re)),0===Zt.length?(this.headers.delete(Ge),this.normalizedNames.delete(Ge)):this.headers.set(Ge,Zt)}else this.headers.delete(Ge),this.normalizedNames.delete(Ge)}}forEach(Fe){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ge=>Fe(this.normalizedNames.get(Ge),this.headers.get(Ge)))}}class le{encodeKey(Fe){return at(Fe)}encodeValue(Fe){return at(Fe)}decodeKey(Fe){return decodeURIComponent(Fe)}decodeValue(Fe){return decodeURIComponent(Fe)}}const lt=/%(\d[a-f0-9])/gi,Ve={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function at(Ot){return encodeURIComponent(Ot).replace(lt,(Fe,Ge)=>{var Ut;return null!==(Ut=Ve[Ge])&&void 0!==Ut?Ut:Fe})}function ut(Ot){return`${Ot}`}class ze{constructor(Fe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Fe.encoder||new le,Fe.fromString){if(Fe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function De(Ot,Fe){const Ge=new Map;return Ot.length>0&&Ot.replace(/^\?/,"").split("&").forEach(It=>{const Nt=It.indexOf("="),[Zt,Re]=-1==Nt?[Fe.decodeKey(It),""]:[Fe.decodeKey(It.slice(0,Nt)),Fe.decodeValue(It.slice(Nt+1))],Oe=Ge.get(Zt)||[];Oe.push(Re),Ge.set(Zt,Oe)}),Ge}(Fe.fromString,this.encoder)}else Fe.fromObject?(this.map=new Map,Object.keys(Fe.fromObject).forEach(Ge=>{const Ut=Fe.fromObject[Ge];this.map.set(Ge,Array.isArray(Ut)?Ut:[Ut])})):this.map=null}has(Fe){return this.init(),this.map.has(Fe)}get(Fe){this.init();const Ge=this.map.get(Fe);return Ge?Ge[0]:null}getAll(Fe){return this.init(),this.map.get(Fe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Fe,Ge){return this.clone({param:Fe,value:Ge,op:"a"})}appendAll(Fe){const Ge=[];return Object.keys(Fe).forEach(Ut=>{const It=Fe[Ut];Array.isArray(It)?It.forEach(Nt=>{Ge.push({param:Ut,value:Nt,op:"a"})}):Ge.push({param:Ut,value:It,op:"a"})}),this.clone(Ge)}set(Fe,Ge){return this.clone({param:Fe,value:Ge,op:"s"})}delete(Fe,Ge){return this.clone({param:Fe,value:Ge,op:"d"})}toString(){return this.init(),this.keys().map(Fe=>{const Ge=this.encoder.encodeKey(Fe);return this.map.get(Fe).map(Ut=>Ge+"="+this.encoder.encodeValue(Ut)).join("&")}).filter(Fe=>""!==Fe).join("&")}clone(Fe){const Ge=new ze({encoder:this.encoder});return Ge.cloneFrom=this.cloneFrom||this,Ge.updates=(this.updates||[]).concat(Fe),Ge}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Fe=>this.map.set(Fe,this.cloneFrom.map.get(Fe))),this.updates.forEach(Fe=>{switch(Fe.op){case"a":case"s":const Ge=("a"===Fe.op?this.map.get(Fe.param):void 0)||[];Ge.push(ut(Fe.value)),this.map.set(Fe.param,Ge);break;case"d":if(void 0===Fe.value){this.map.delete(Fe.param);break}{let Ut=this.map.get(Fe.param)||[];const It=Ut.indexOf(ut(Fe.value));-1!==It&&Ut.splice(It,1),Ut.length>0?this.map.set(Fe.param,Ut):this.map.delete(Fe.param)}}}),this.cloneFrom=this.updates=null)}}class Be{constructor(){this.map=new Map}set(Fe,Ge){return this.map.set(Fe,Ge),this}get(Fe){return this.map.has(Fe)||this.map.set(Fe,Fe.defaultValue()),this.map.get(Fe)}delete(Fe){return this.map.delete(Fe),this}has(Fe){return this.map.has(Fe)}keys(){return this.map.keys()}}function ge(Ot){return"undefined"!=typeof ArrayBuffer&&Ot instanceof ArrayBuffer}function be(Ot){return"undefined"!=typeof Blob&&Ot instanceof Blob}function Qe(Ot){return"undefined"!=typeof FormData&&Ot instanceof FormData}class K{constructor(Fe,Ge,Ut,It){let Nt;if(this.url=Ge,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Fe.toUpperCase(),function gt(Ot){switch(Ot){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||It?(this.body=void 0!==Ut?Ut:null,Nt=It):Nt=Ut,Nt&&(this.reportProgress=!!Nt.reportProgress,this.withCredentials=!!Nt.withCredentials,Nt.responseType&&(this.responseType=Nt.responseType),Nt.headers&&(this.headers=Nt.headers),Nt.context&&(this.context=Nt.context),Nt.params&&(this.params=Nt.params)),this.headers||(this.headers=new J),this.context||(this.context=new Be),this.params){const Zt=this.params.toString();if(0===Zt.length)this.urlWithParams=Ge;else{const Re=Ge.indexOf("?");this.urlWithParams=Ge+(-1===Re?"?":Re<Ge.length-1?"&":"")+Zt}}else this.params=new ze,this.urlWithParams=Ge}serializeBody(){return null===this.body?null:ge(this.body)||be(this.body)||Qe(this.body)||function bt(Ot){return"undefined"!=typeof URLSearchParams&&Ot instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qe(this.body)?null:be(this.body)?this.body.type||null:ge(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Fe={}){var Ge;const Ut=Fe.method||this.method,It=Fe.url||this.url,Nt=Fe.responseType||this.responseType,Zt=void 0!==Fe.body?Fe.body:this.body,Re=void 0!==Fe.withCredentials?Fe.withCredentials:this.withCredentials,Oe=void 0!==Fe.reportProgress?Fe.reportProgress:this.reportProgress;let we=Fe.headers||this.headers,Ke=Fe.params||this.params;const wt=null!==(Ge=Fe.context)&&void 0!==Ge?Ge:this.context;return void 0!==Fe.setHeaders&&(we=Object.keys(Fe.setHeaders).reduce((Mt,Tt)=>Mt.set(Tt,Fe.setHeaders[Tt]),we)),Fe.setParams&&(Ke=Object.keys(Fe.setParams).reduce((Mt,Tt)=>Mt.set(Tt,Fe.setParams[Tt]),Ke)),new K(Ut,It,Zt,{params:Ke,headers:we,context:wt,reportProgress:Oe,responseType:Nt,withCredentials:Re})}}var Je=(()=>((Je=Je||{})[Je.Sent=0]="Sent",Je[Je.UploadProgress=1]="UploadProgress",Je[Je.ResponseHeader=2]="ResponseHeader",Je[Je.DownloadProgress=3]="DownloadProgress",Je[Je.Response=4]="Response",Je[Je.User=5]="User",Je))();class nt{constructor(Fe,Ge=200,Ut="OK"){this.headers=Fe.headers||new J,this.status=void 0!==Fe.status?Fe.status:Ge,this.statusText=Fe.statusText||Ut,this.url=Fe.url||null,this.ok=this.status>=200&&this.status<300}}class ke extends nt{constructor(Fe={}){super(Fe),this.type=Je.ResponseHeader}clone(Fe={}){return new ke({headers:Fe.headers||this.headers,status:void 0!==Fe.status?Fe.status:this.status,statusText:Fe.statusText||this.statusText,url:Fe.url||this.url||void 0})}}class Ue extends nt{constructor(Fe={}){super(Fe),this.type=Je.Response,this.body=void 0!==Fe.body?Fe.body:null}clone(Fe={}){return new Ue({body:void 0!==Fe.body?Fe.body:this.body,headers:Fe.headers||this.headers,status:void 0!==Fe.status?Fe.status:this.status,statusText:Fe.statusText||this.statusText,url:Fe.url||this.url||void 0})}}class et extends nt{constructor(Fe){super(Fe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Fe.url||"(unknown url)"}`:`Http failure response for ${Fe.url||"(unknown url)"}: ${Fe.status} ${Fe.statusText}`,this.error=Fe.error||null}}function it(Ot,Fe){return{body:Fe,headers:Ot.headers,context:Ot.context,observe:Ot.observe,params:Ot.params,reportProgress:Ot.reportProgress,responseType:Ot.responseType,withCredentials:Ot.withCredentials}}let st=(()=>{class Ot{constructor(Ge){this.handler=Ge}request(Ge,Ut,It={}){let Nt;if(Ge instanceof K)Nt=Ge;else{let Oe,we;Oe=It.headers instanceof J?It.headers:new J(It.headers),It.params&&(we=It.params instanceof ze?It.params:new ze({fromObject:It.params})),Nt=new K(Ge,Ut,void 0!==It.body?It.body:null,{headers:Oe,context:It.context,params:we,reportProgress:It.reportProgress,responseType:It.responseType||"json",withCredentials:It.withCredentials})}const Zt=(0,G.of)(Nt).pipe((0,ve.b)(Oe=>this.handler.handle(Oe)));if(Ge instanceof K||"events"===It.observe)return Zt;const Re=Zt.pipe((0,Ne.h)(Oe=>Oe instanceof Ue));switch(It.observe||"body"){case"body":switch(Nt.responseType){case"arraybuffer":return Re.pipe((0,Ee.U)(Oe=>{if(null!==Oe.body&&!(Oe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Oe.body}));case"blob":return Re.pipe((0,Ee.U)(Oe=>{if(null!==Oe.body&&!(Oe.body instanceof Blob))throw new Error("Response is not a Blob.");return Oe.body}));case"text":return Re.pipe((0,Ee.U)(Oe=>{if(null!==Oe.body&&"string"!=typeof Oe.body)throw new Error("Response is not a string.");return Oe.body}));default:return Re.pipe((0,Ee.U)(Oe=>Oe.body))}case"response":return Re;default:throw new Error(`Unreachable: unhandled observe type ${It.observe}}`)}}delete(Ge,Ut={}){return this.request("DELETE",Ge,Ut)}get(Ge,Ut={}){return this.request("GET",Ge,Ut)}head(Ge,Ut={}){return this.request("HEAD",Ge,Ut)}jsonp(Ge,Ut){return this.request("JSONP",Ge,{params:(new ze).append(Ut,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ge,Ut={}){return this.request("OPTIONS",Ge,Ut)}patch(Ge,Ut,It={}){return this.request("PATCH",Ge,it(It,Ut))}post(Ge,Ut,It={}){return this.request("POST",Ge,it(It,Ut))}put(Ge,Ut,It={}){return this.request("PUT",Ge,it(It,Ut))}}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)(h.LFG(ce))},Ot.\u0275prov=h.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();class xt{constructor(Fe,Ge){this.next=Fe,this.interceptor=Ge}handle(Fe){return this.interceptor.intercept(Fe,this.next)}}const tn=new h.OlP("HTTP_INTERCEPTORS");let ft=(()=>{class Ot{intercept(Ge,Ut){return Ut.handle(Ge)}}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)},Ot.\u0275prov=h.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const xn=/^\)\]\}',?\n/;let Xn=(()=>{class Ot{constructor(Ge){this.xhrFactory=Ge}handle(Ge){if("JSONP"===Ge.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ce.y(Ut=>{const It=this.xhrFactory.build();if(It.open(Ge.method,Ge.urlWithParams),Ge.withCredentials&&(It.withCredentials=!0),Ge.headers.forEach((Tt,_n)=>It.setRequestHeader(Tt,_n.join(","))),Ge.headers.has("Accept")||It.setRequestHeader("Accept","application/json, text/plain, */*"),!Ge.headers.has("Content-Type")){const Tt=Ge.detectContentTypeHeader();null!==Tt&&It.setRequestHeader("Content-Type",Tt)}if(Ge.responseType){const Tt=Ge.responseType.toLowerCase();It.responseType="json"!==Tt?Tt:"text"}const Nt=Ge.serializeBody();let Zt=null;const Re=()=>{if(null!==Zt)return Zt;const Tt=It.statusText||"OK",_n=new J(It.getAllResponseHeaders()),fn=function Vn(Ot){return"responseURL"in Ot&&Ot.responseURL?Ot.responseURL:/^X-Request-URL:/m.test(Ot.getAllResponseHeaders())?Ot.getResponseHeader("X-Request-URL"):null}(It)||Ge.url;return Zt=new ke({headers:_n,status:It.status,statusText:Tt,url:fn}),Zt},Oe=()=>{let{headers:Tt,status:_n,statusText:fn,url:pn}=Re(),W=null;204!==_n&&(W=void 0===It.response?It.responseText:It.response),0===_n&&(_n=W?200:0);let he=_n>=200&&_n<300;if("json"===Ge.responseType&&"string"==typeof W){const _e=W;W=W.replace(xn,"");try{W=""!==W?JSON.parse(W):null}catch(Le){W=_e,he&&(he=!1,W={error:Le,text:W})}}he?(Ut.next(new Ue({body:W,headers:Tt,status:_n,statusText:fn,url:pn||void 0})),Ut.complete()):Ut.error(new et({error:W,headers:Tt,status:_n,statusText:fn,url:pn||void 0}))},we=Tt=>{const{url:_n}=Re(),fn=new et({error:Tt,status:It.status||0,statusText:It.statusText||"Unknown Error",url:_n||void 0});Ut.error(fn)};let Ke=!1;const wt=Tt=>{Ke||(Ut.next(Re()),Ke=!0);let _n={type:Je.DownloadProgress,loaded:Tt.loaded};Tt.lengthComputable&&(_n.total=Tt.total),"text"===Ge.responseType&&!!It.responseText&&(_n.partialText=It.responseText),Ut.next(_n)},Mt=Tt=>{let _n={type:Je.UploadProgress,loaded:Tt.loaded};Tt.lengthComputable&&(_n.total=Tt.total),Ut.next(_n)};return It.addEventListener("load",Oe),It.addEventListener("error",we),It.addEventListener("timeout",we),It.addEventListener("abort",we),Ge.reportProgress&&(It.addEventListener("progress",wt),null!==Nt&&It.upload&&It.upload.addEventListener("progress",Mt)),It.send(Nt),Ut.next({type:Je.Sent}),()=>{It.removeEventListener("error",we),It.removeEventListener("abort",we),It.removeEventListener("load",Oe),It.removeEventListener("timeout",we),Ge.reportProgress&&(It.removeEventListener("progress",wt),null!==Nt&&It.upload&&It.upload.removeEventListener("progress",Mt)),It.readyState!==It.DONE&&It.abort()}})}}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)(h.LFG(f.JF))},Ot.\u0275prov=h.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const jn=new h.OlP("XSRF_COOKIE_NAME"),li=new h.OlP("XSRF_HEADER_NAME");class Qn{}let Si=(()=>{class Ot{constructor(Ge,Ut,It){this.doc=Ge,this.platform=Ut,this.cookieName=It,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ge=this.doc.cookie||"";return Ge!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(Ge,this.cookieName),this.lastCookieString=Ge),this.lastToken}}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)(h.LFG(f.K0),h.LFG(h.Lbi),h.LFG(jn))},Ot.\u0275prov=h.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),On=(()=>{class Ot{constructor(Ge,Ut){this.tokenService=Ge,this.headerName=Ut}intercept(Ge,Ut){const It=Ge.url.toLowerCase();if("GET"===Ge.method||"HEAD"===Ge.method||It.startsWith("http://")||It.startsWith("https://"))return Ut.handle(Ge);const Nt=this.tokenService.getToken();return null!==Nt&&!Ge.headers.has(this.headerName)&&(Ge=Ge.clone({headers:Ge.headers.set(this.headerName,Nt)})),Ut.handle(Ge)}}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)(h.LFG(Qn),h.LFG(li))},Ot.\u0275prov=h.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),wi=(()=>{class Ot{constructor(Ge,Ut){this.backend=Ge,this.injector=Ut,this.chain=null}handle(Ge){if(null===this.chain){const Ut=this.injector.get(tn,[]);this.chain=Ut.reduceRight((It,Nt)=>new xt(It,Nt),this.backend)}return this.chain.handle(Ge)}}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)(h.LFG(Q),h.LFG(h.zs3))},Ot.\u0275prov=h.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),ni=(()=>{class Ot{static disable(){return{ngModule:Ot,providers:[{provide:On,useClass:ft}]}}static withOptions(Ge={}){return{ngModule:Ot,providers:[Ge.cookieName?{provide:jn,useValue:Ge.cookieName}:[],Ge.headerName?{provide:li,useValue:Ge.headerName}:[]]}}}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)},Ot.\u0275mod=h.oAB({type:Ot}),Ot.\u0275inj=h.cJS({providers:[On,{provide:tn,useExisting:On,multi:!0},{provide:Qn,useClass:Si},{provide:jn,useValue:"XSRF-TOKEN"},{provide:li,useValue:"X-XSRF-TOKEN"}]}),Ot})(),rn=(()=>{class Ot{}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)},Ot.\u0275mod=h.oAB({type:Ot}),Ot.\u0275inj=h.cJS({providers:[st,{provide:ce,useClass:wi},Xn,{provide:Q,useExisting:Xn}],imports:[[ni.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ot})()},5e3:(Qt,We,x)=>{x.d(We,{$8M:()=>Mo,$Z:()=>yp,AFp:()=>R0,ALo:()=>e0,AaK:()=>ce,Akn:()=>jo,AsE:()=>au,BQk:()=>Tc,CHM:()=>ml,CRH:()=>d0,CZH:()=>gv,CqO:()=>Ep,DdM:()=>z_,EJc:()=>yw,EiD:()=>tl,EpF:()=>Wu,F$t:()=>wp,F4k:()=>qc,FYo:()=>k_,FiY:()=>ks,G48:()=>Bw,Gf:()=>u0,GfV:()=>F_,GkF:()=>_p,Gpc:()=>le,Gre:()=>Gy,Hsn:()=>Cp,JOm:()=>so,JVY:()=>Ja,Jf7:()=>ro,L6J:()=>fw,L6k:()=>Xu,LAX:()=>Xa,LFG:()=>dn,LSH:()=>fl,Lbi:()=>pw,MAs:()=>jg,NdJ:()=>Vd,O4$:()=>_a,OlP:()=>Er,Oqu:()=>Lp,PXZ:()=>Pw,Q6J:()=>ru,QGY:()=>Kc,Qsj:()=>fb,R0b:()=>Au,RDi:()=>Ai,Rgc:()=>zp,SBq:()=>Hp,Sil:()=>_w,Suo:()=>c0,TTD:()=>xs,TgZ:()=>ou,Tol:()=>Xc,Udp:()=>Jc,VKq:()=>W_,VLi:()=>xw,W1O:()=>g0,WLB:()=>Z_,X6Q:()=>Uw,XFs:()=>on,Xpm:()=>vt,Y36:()=>kd,YKP:()=>H_,YNc:()=>Hg,Yjl:()=>ne,Yz7:()=>Ht,ZZ4:()=>xv,_Bn:()=>R_,_UZ:()=>vp,_Vd:()=>Tm,_c5:()=>nC,_uU:()=>$y,aQg:()=>Ov,c2e:()=>gw,cJS:()=>yn,cg1:()=>Wy,d8E:()=>zy,dDg:()=>U0,deG:()=>ja,dqk:()=>we,eBb:()=>pu,eFA:()=>j0,ekj:()=>Pp,g9A:()=>L0,gxx:()=>$c,h0i:()=>Kh,hGG:()=>iC,hYB:()=>Tp,hij:()=>Wd,iGM:()=>l0,ifc:()=>It,ip1:()=>P0,kEZ:()=>K_,kL8:()=>o_,kYT:()=>X,kcU:()=>ji,lG2:()=>ee,lcZ:()=>t0,lnq:()=>kp,mCW:()=>ha,n5z:()=>qs,oAB:()=>ye,oJD:()=>Nu,oxw:()=>bp,pB0:()=>Pu,pfw:()=>hw,q3G:()=>Fn,q4F:()=>V_,qLn:()=>Jr,qOj:()=>np,qZA:()=>Cc,qzn:()=>mo,s9C:()=>Bd,sBO:()=>Hw,sIi:()=>Od,s_b:()=>Am,soG:()=>yv,tBr:()=>Jo,tb:()=>k0,tp0:()=>Ta,uIk:()=>Ki,vHH:()=>at,vpe:()=>Zu,wAp:()=>ci,xp6:()=>gf,yhl:()=>Ju,ynx:()=>Fd,z2F:()=>Cv,z3N:()=>Aa,zSh:()=>Td,zs3:()=>tu});var f=x(7579),h=x(727),G=x(8306),Ce=x(6451),ve=x(3099);function Ne(n){for(let i in n)if(n[i]===Ne)return i;throw Error("Could not find renamed property on target object.")}function Ee(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Q(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const J=Ne({__forward_ref__:Ne});function le(n){return n.__forward_ref__=le,n.toString=function(){return ce(this())},n}function De(n){return lt(n)?n():n}function lt(n){return"function"==typeof n&&n.hasOwnProperty(J)&&n.__forward_ref__===le}class at extends Error{constructor(i,s){super(function ut(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function ze(n){return"string"==typeof n?n:null==n?"":String(n)}function ct(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ze(n)}function be(n,i){const s=i?` in ${i}`:"";throw new at(-201,`No provider for ${ct(n)} found${s}`)}function mt(n,i){null==n&&function q(n,i,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function Ht(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function yn(n){return{providers:n.providers||[],imports:n.imports||[]}}function xn(n){return Vn(n,Qn)||Vn(n,On)}function Vn(n,i){return n.hasOwnProperty(i)?n[i]:null}function li(n){return n&&(n.hasOwnProperty(Si)||n.hasOwnProperty(wi))?n[Si]:null}const Qn=Ne({\u0275prov:Ne}),Si=Ne({\u0275inj:Ne}),On=Ne({ngInjectableDef:Ne}),wi=Ne({ngInjectorDef:Ne});var on=(()=>((on=on||{})[on.Default=0]="Default",on[on.Host=1]="Host",on[on.Self=2]="Self",on[on.SkipSelf=4]="SkipSelf",on[on.Optional=8]="Optional",on))();let ki;function rn(n){const i=ki;return ki=n,i}function Ui(n,i,s){const l=xn(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&on.Optional?null:void 0!==i?i:void be(ce(n),"Injector")}function Ot(n){return{toString:n}.toString()}var Fe=(()=>((Fe=Fe||{})[Fe.OnPush=0]="OnPush",Fe[Fe.Default=1]="Default",Fe))(),It=(()=>{return(n=It||(It={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",It;var n})();const Nt="undefined"!=typeof globalThis&&globalThis,Zt="undefined"!=typeof window&&window,Re="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,we=Nt||"undefined"!=typeof global&&global||Zt||Re,Mt={},Tt=[],_n=Ne({\u0275cmp:Ne}),fn=Ne({\u0275dir:Ne}),pn=Ne({\u0275pipe:Ne}),W=Ne({\u0275mod:Ne}),he=Ne({\u0275fac:Ne}),_e=Ne({__NG_ELEMENT_ID__:Ne});let Le=0;function vt(n){return Ot(()=>{const s={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Fe.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Tt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||It.Emulated,id:"c",styles:n.styles||Tt,_:null,setInput:null,schemas:n.schemas||null,tView:null},d=n.directives,m=n.features,b=n.pipes;return l.id+=Le++,l.inputs=$(n.inputs,s),l.outputs=$(n.outputs),m&&m.forEach(I=>I(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(fe):null,l.pipeDefs=b?()=>("function"==typeof b?b():b).map(pe):null,l})}function fe(n){return xe(n)||function tt(n){return n[fn]||null}(n)}function pe(n){return function kt(n){return n[pn]||null}(n)}const Me={};function ye(n){return Ot(()=>{const i={type:n.type,bootstrap:n.bootstrap||Tt,declarations:n.declarations||Tt,imports:n.imports||Tt,exports:n.exports||Tt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Me[n.id]=n.type),i})}function X(n,i){return Ot(()=>{const s=Vt(n,!0);s.declarations=i.declarations||Tt,s.imports=i.imports||Tt,s.exports=i.exports||Tt})}function $(n,i){if(null==n)return Mt;const s={};for(const l in n)if(n.hasOwnProperty(l)){let d=n[l],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),s[d]=l,i&&(i[d]=m)}return s}const ee=vt;function ne(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function xe(n){return n[_n]||null}function Vt(n,i){const s=n[W]||null;if(!s&&!0===i)throw new Error(`Type ${ce(n)} does not have '\u0275mod' property.`);return s}function Xi(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ir(n){return Array.isArray(n)&&!0===n[1]}function Gr(n){return 0!=(8&n.flags)}function zr(n){return 2==(2&n.flags)}function os(n){return 1==(1&n.flags)}function Wr(n){return null!==n.template}function _s(n){return 0!=(512&n[2])}function Jn(n,i){return n.hasOwnProperty(he)?n[he]:null}class Es{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function xs(){return hs}function hs(n){return n.type.prototype.ngOnChanges&&(n.setInput=zo),Ma}function Ma(){const n=ta(this),i=null==n?void 0:n.current;if(i){const s=n.previous;if(s===Mt)n.previous=i;else for(let l in i)s[l]=i[l];n.current=null,this.ngOnChanges(i)}}function zo(n,i,s,l){const d=ta(n)||function Kr(n,i){return n[Xr]=i}(n,{previous:Mt,current:null}),m=d.current||(d.current={}),b=d.previous,I=this.declaredInputs[s],P=b[I];m[I]=new Es(P&&P.currentValue,i,b===Mt),n[l]=i}xs.ngInherit=!0;const Xr="__ngSimpleChanges__";function ta(n){return n[Xr]||null}let wo;function Ai(n){wo=n}function Zn(){return void 0!==wo?wo:"undefined"!=typeof document?document:void 0}function Fi(n){return!!n.listen}const V={createRenderer:(n,i)=>Zn()};function F(n){for(;Array.isArray(n);)n=n[0];return n}function St(n,i){return F(i[n])}function $t(n,i){return F(i[n.index])}function Gn(n,i){return n.data[i]}function yi(n,i){return n[i]}function ti(n,i){const s=i[n];return Xi(s)?s:s[0]}function di(n){return 4==(4&n[2])}function tr(n){return 128==(128&n[2])}function Vi(n,i){return null==i?null:n[i]}function H(n){n[18]=0}function N(n,i){n[5]+=i;let s=n,l=n[3];for(;null!==l&&(1===i&&1===s[5]||-1===i&&0===s[5]);)l[5]+=i,s=l,l=l[3]}const M={lFrame:ra(null),bindingsEnabled:!0};function us(){return M.bindingsEnabled}function Gt(){return M.lFrame.lView}function bi(){return M.lFrame.tView}function ml(n){return M.lFrame.contextLView=n,n[8]}function lr(){let n=ya();for(;null!==n&&64===n.type;)n=n.parent;return n}function ya(){return M.lFrame.currentTNode}function Hs(n,i){const s=M.lFrame;s.currentTNode=n,s.isParent=i}function Pa(){return M.lFrame.isParent}function va(){M.lFrame.isParent=!1}function Mr(){const n=M.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Os(){return M.lFrame.bindingIndex}function Ar(){return M.lFrame.bindingIndex++}function Cs(n){const i=M.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function Na(n,i){const s=M.lFrame;s.bindingIndex=s.bindingRootIndex=n,vl(i)}function vl(n){M.lFrame.currentDirectiveIndex=n}function Ko(n){const i=M.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Do(){return M.lFrame.currentQueryIndex}function La(n){M.lFrame.currentQueryIndex=n}function Io(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function ts(n,i,s){if(s&on.SkipSelf){let d=i,m=n;for(;!(d=d.parent,null!==d||s&on.Host||(d=Io(m),null===d||(m=m[15],10&d.type))););if(null===d)return!1;i=d,n=m}const l=M.lFrame=So();return l.currentTNode=i,l.lView=n,!0}function Ao(n){const i=So(),s=n[1];M.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function So(){const n=M.lFrame,i=null===n?null:n.child;return null===i?ra(n):i}function ra(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function _l(){const n=M.lFrame;return M.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const sa=_l;function xo(){const n=_l();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ns(){return M.lFrame.selectedIndex}function co(n){M.lFrame.selectedIndex=n}function Ji(){const n=M.lFrame;return Gn(n.tView,n.selectedIndex)}function _a(){M.lFrame.currentNamespace="svg"}function ji(){!function Ds(){M.lFrame.currentNamespace=null}()}function Ms(n,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const m=n.data[s].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:I,ngAfterViewInit:P,ngAfterViewChecked:z,ngOnDestroy:te}=m;b&&(n.contentHooks||(n.contentHooks=[])).push(-s,b),I&&((n.contentHooks||(n.contentHooks=[])).push(s,I),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,I)),P&&(n.viewHooks||(n.viewHooks=[])).push(-s,P),z&&((n.viewHooks||(n.viewHooks=[])).push(s,z),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,z)),null!=te&&(n.destroyHooks||(n.destroyHooks=[])).push(s,te)}}function Kt(n,i,s){oa(n,i,3,s)}function nr(n,i,s,l){(3&n[2])===s&&oa(n,i,s,l)}function $i(n,i){let s=n[2];(3&s)===i&&(s&=2047,s+=1,n[2]=s)}function oa(n,i,s,l){const m=null!=l?l:-1,b=i.length-1;let I=0;for(let P=void 0!==l?65535&n[18]:0;P<b;P++)if("number"==typeof i[P+1]){if(I=i[P],null!=l&&I>=l)break}else i[P]<0&&(n[18]+=65536),(I<m||-1==m)&&(Pn(n,s,i,P),n[18]=(4294901760&n[18])+P+2),P++}function Pn(n,i,s,l){const d=s[l]<0,m=s[l+1],I=n[d?-s[l]:s[l]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{m.call(I)}finally{}}}else try{m.call(I)}finally{}}class Is{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function bl(n,i,s){const l=Fi(n);let d=0;for(;d<s.length;){const m=s[d];if("number"==typeof m){if(0!==m)break;d++;const b=s[d++],I=s[d++],P=s[d++];l?n.setAttribute(i,I,P,b):i.setAttributeNS(b,I,P)}else{const b=m,I=s[++d];Fa(b)?l&&n.setProperty(i,b,I):l?n.setAttribute(i,b,I):i.setAttribute(b,I),d++}}return d}function al(n){return 3===n||4===n||6===n}function Fa(n){return 64===n.charCodeAt(0)}function is(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const d=i[l];"number"==typeof d?s=d:0===s||Ea(n,s,d,null,-1===s||2===s?i[++l]:null)}}return n}function Ea(n,i,s,l,d){let m=0,b=n.length;if(-1===i)b=-1;else for(;m<n.length;){const I=n[m++];if("number"==typeof I){if(I===i){b=-1;break}if(I>i){b=m-1;break}}}for(;m<n.length;){const I=n[m];if("number"==typeof I)break;if(I===s){if(null===l)return void(null!==d&&(n[m+1]=d));if(l===n[m+1])return void(n[m+2]=d)}m++,null!==l&&m++,null!==d&&m++}-1!==b&&(n.splice(b,0,i),m=b+1),n.splice(m++,0,s),null!==l&&n.splice(m++,0,l),null!==d&&n.splice(m++,0,d)}function Va(n){return-1!==n}function Gi(n){return 32767&n}function ps(n,i){let s=function ii(n){return n>>16}(n),l=i;for(;s>0;)l=l[15],s--;return l}let ba=!0;function Zi(n){const i=ba;return ba=n,i}let w=0;function k(n,i){const s=Pe(n,i);if(-1!==s)return s;const l=i[1];l.firstCreatePass&&(n.injectorIndex=i.length,ae(l.data,n),ae(i,null),ae(l.blueprint,null));const d=je(n,i),m=n.injectorIndex;if(Va(d)){const b=Gi(d),I=ps(d,i),P=I[1].data;for(let z=0;z<8;z++)i[m+z]=I[b+z]|P[b+z]}return i[m+8]=d,m}function ae(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Pe(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function je(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,d=i;for(;null!==d;){const m=d[1],b=m.type;if(l=2===b?m.declTNode:1===b?d[6]:null,null===l)return-1;if(s++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function Lt(n,i,s){!function L(n,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(_e)&&(l=s[_e]),null==l&&(l=s[_e]=w++);const d=255&l;i.data[n+(d>>5)]|=1<<d}(n,i,s)}function ui(n,i,s){if(s&on.Optional)return n;be(i,"NodeInjector")}function Rn(n,i,s,l){if(s&on.Optional&&void 0===l&&(l=null),0==(s&(on.Self|on.Host))){const d=n[9],m=rn(void 0);try{return d?d.get(i,l,s&on.Optional):Ui(i,l,s&on.Optional)}finally{rn(m)}}return ui(l,i,s)}function Mi(n,i,s,l=on.Default,d){if(null!==n){const m=function qr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(_e)?n[_e]:void 0;return"number"==typeof i?i>=0?255&i:gr:i}(s);if("function"==typeof m){if(!ts(i,n,l))return l&on.Host?ui(d,s,l):Rn(i,s,l,d);try{const b=m(l);if(null!=b||l&on.Optional)return b;be(s)}finally{sa()}}else if("number"==typeof m){let b=null,I=Pe(n,i),P=-1,z=l&on.Host?i[16][6]:null;for((-1===I||l&on.SkipSelf)&&(P=-1===I?je(n,i):i[I+8],-1!==P&&_t(l,!1)?(b=i[1],I=Gi(P),i=ps(P,i)):I=-1);-1!==I;){const te=i[1];if(qo(m,I,te.data)){const Ae=po(I,i,s,b,l,z);if(Ae!==Pi)return Ae}P=i[I+8],-1!==P&&_t(l,i[1].data[I+8]===z)&&qo(m,I,i)?(b=te,I=Gi(P),i=ps(P,i)):I=-1}}}return Rn(i,s,l,d)}const Pi={};function gr(){return new Pr(lr(),Gt())}function po(n,i,s,l,d,m){const b=i[1],I=b.data[n+8],te=Oo(I,b,s,null==l?zr(I)&&ba:l!=b&&0!=(3&I.type),d&on.Host&&m===I);return null!==te?go(i,b,te,I):Pi}function Oo(n,i,s,l,d){const m=n.providerIndexes,b=i.data,I=1048575&m,P=n.directiveStart,te=m>>20,Ze=d?I+te:n.directiveEnd;for(let ht=l?I:I+te;ht<Ze;ht++){const Wt=b[ht];if(ht<P&&s===Wt||ht>=P&&Wt.type===s)return ht}if(d){const ht=b[P];if(ht&&Wr(ht)&&ht.type===s)return P}return null}function go(n,i,s,l){let d=n[s];const m=i.data;if(function hn(n){return n instanceof Is}(d)){const b=d;b.resolving&&function Be(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new at(-200,`Circular dependency in DI detected for ${n}${s}`)}(ct(m[s]));const I=Zi(b.canSeeViewProviders);b.resolving=!0;const P=b.injectImpl?rn(b.injectImpl):null;ts(n,l,on.Default);try{d=n[s]=b.factory(void 0,m,n,l),i.firstCreatePass&&s>=l.directiveStart&&function fo(n,i,s){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:m}=i.type.prototype;if(l){const b=hs(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,b),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,b)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,d),m&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m))}(s,m[s],i)}finally{null!==P&&rn(P),Zi(I),b.resolving=!1,sa()}}return d}function qo(n,i,s){return!!(s[i+(n>>5)]&1<<n)}function _t(n,i){return!(n&on.Self||n&on.Host&&i)}class Pr{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return Mi(this._tNode,this._lView,i,l,s)}}function qs(n){return Ot(()=>{const i=n.prototype.constructor,s=i[he]||wl(i),l=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==l;){const m=d[he]||wl(d);if(m&&m!==s)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function wl(n){return lt(n)?()=>{const i=wl(De(n));return i&&i()}:Jn(n)}function Mo(n){return function wn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const l=s.length;let d=0;for(;d<l;){const m=s[d];if(al(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<l&&"string"==typeof s[d];)d++;else{if(m===i)return s[d+1];d+=2}}}return null}(lr(),n)}const Ua="__parameters__",mr="__prop__metadata__";function Ba(n){return function(...s){if(n){const l=n(...s);for(const d in l)this[d]=l[d]}}}function wa(n,i,s){return Ot(()=>{const l=Ba(i);function d(...m){if(this instanceof d)return l.apply(this,m),this;const b=new d(...m);return I.annotation=b,I;function I(P,z,te){const Ae=P.hasOwnProperty(Ua)?P[Ua]:Object.defineProperty(P,Ua,{value:[]})[Ua];for(;Ae.length<=te;)Ae.push(null);return(Ae[te]=Ae[te]||[]).push(b),P}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}function Ha(n,i,s,l){return Ot(()=>{const d=Ba(i);function m(...b){if(this instanceof m)return d.apply(this,b),this;const I=new m(...b);return function P(z,te){const Ae=z.constructor,Ze=Ae.hasOwnProperty(mr)?Ae[mr]:Object.defineProperty(Ae,mr,{value:{}})[mr];Ze[te]=Ze.hasOwnProperty(te)&&Ze[te]||[],Ze[te].unshift(I),l&&l(z,te,...b)}}return s&&(m.prototype=Object.create(s.prototype)),m.prototype.ngMetadataName=n,m.annotationCls=m,m})}class Er{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ht({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ja=new Er("AnalyzeForEntryComponents");function Ur(n,i){void 0===i&&(i=n);for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?(i===n&&(i=n.slice(0,s)),Ur(l,i)):i!==n&&i.push(l)}return i}function Rs(n,i){n.forEach(s=>Array.isArray(s)?Rs(s,i):i(s))}function uu(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function Yo(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Ca(n,i){const s=[];for(let l=0;l<n;l++)s.push(i);return s}function Yr(n,i,s){let l=Qr(n,i);return l>=0?n[1|l]=s:(l=~l,function za(n,i,s,l){let d=n.length;if(d==i)n.push(s,l);else if(1===d)n.push(l,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>i;)n[d]=n[d-2],d--;n[i]=s,n[i+1]=l}}(n,l,i,s)),l}function Ro(n,i){const s=Qr(n,i);if(s>=0)return n[1|s]}function Qr(n,i){return function Wa(n,i,s){let l=0,d=n.length>>s;for(;d!==l;){const m=l+(d-l>>1),b=n[m<<s];if(i===b)return m<<s;b>i?d=m:l=m+1}return~(d<<s)}(n,i,1)}const Qo={},cl="__NG_DI_FLAG__",Ls="ngTempTokenPath",R=/\n/gm,oe="__source",Ie=Ne({provide:String,useValue:Ne});let rt;function Et(n){const i=rt;return rt=n,i}function Jt(n,i=on.Default){if(void 0===rt)throw new at(203,"");return null===rt?Ui(n,void 0,i):rt.get(n,i&on.Optional?null:void 0,i)}function dn(n,i=on.Default){return(function ni(){return ki}()||Jt)(De(n),i)}const ai=dn;function ri(n){const i=[];for(let s=0;s<n.length;s++){const l=De(n[s]);if(Array.isArray(l)){if(0===l.length)throw new at(900,"");let d,m=on.Default;for(let b=0;b<l.length;b++){const I=l[b],P=rs(I);"number"==typeof P?-1===P?d=I.token:m|=P:d=I}i.push(dn(d,m))}else i.push(dn(l))}return i}function zn(n,i){return n[cl]=i,n.prototype[cl]=i,n}function rs(n){return n[cl]}const Jo=zn(wa("Inject",n=>({token:n})),-1),ks=zn(wa("Optional"),8),Ta=zn(wa("SkipSelf"),4);let to,Il;function Dl(n){var i;return(null===(i=function Tl(){if(void 0===to&&(to=null,we.trustedTypes))try{to=we.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return to}())||void 0===i?void 0:i.createHTML(n))||n}function Qu(n){var i;return(null===(i=function Yu(){if(void 0===Il&&(Il=null,we.trustedTypes))try{Il=we.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Il}())||void 0===i?void 0:i.createHTML(n))||n}class da{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Oc extends da{getTypeName(){return"HTML"}}class Qd extends da{getTypeName(){return"Style"}}class Mc extends da{getTypeName(){return"Script"}}class an extends da{getTypeName(){return"URL"}}class Ia extends da{getTypeName(){return"ResourceURL"}}function Aa(n){return n instanceof da?n.changingThisBreaksApplicationSecurity:n}function mo(n,i){const s=Ju(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function Ju(n){return n instanceof da&&n.getTypeName()||null}function Ja(n){return new Oc(n)}function Xu(n){return new Qd(n)}function pu(n){return new Mc(n)}function Xa(n){return new an(n)}function Pu(n){return new Ia(n)}class Lr{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Dl(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class gu{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const l=this.inertDocument.createElement("body");s.appendChild(l)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Dl(i),s;const l=this.inertDocument.createElement("body");return l.innerHTML=Dl(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const s=i.attributes;for(let d=s.length-1;0<d;d--){const b=s.item(d).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&i.removeAttribute(b)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Pc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ha(n){return(n=String(n)).match(Pc)||n.match(Sl)?n:"unsafe:"+n}function C(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function y(...n){const i={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const v=C("area,br,col,hr,img,wbr"),A=C("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Y=C("rp,rt"),un=y(v,y(A,C("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),y(Y,C("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),y(Y,A)),cn=C("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hi=C("srcset"),el=y(cn,hi,C("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),C("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fs=C("script,style,template");class tc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!un.hasOwnProperty(s))return this.sanitizedSomething=!0,!Fs.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let d=0;d<l.length;d++){const m=l.item(d),b=m.name,I=b.toLowerCase();if(!el.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let P=m.value;cn[I]&&(P=ha(P)),hi[I]&&(n=P,P=(n=String(n)).split(",").map(i=>ha(i.trim())).join(", ")),this.buf.push(" ",b,'="',Vo(P),'"')}var n;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();un.hasOwnProperty(s)&&!v.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Vo(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const xl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nc=/([^\#-~ |!])/g;function Vo(n){return n.replace(/&/g,"&amp;").replace(xl,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(nc,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ol;function tl(n,i){let s=null;try{Ol=Ol||function ec(n){const i=new gu(n);return function Al(){try{return!!(new window.DOMParser).parseFromString(Dl(""),"text/html")}catch(n){return!1}}()?new Lr(i):i}(n);let l=i?String(i):"";s=Ol.getInertBodyElement(l);let d=5,m=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=m,m=s.innerHTML,s=Ol.getInertBodyElement(l)}while(l!==m);return Dl((new tc).sanitizeChildren(Ml(s)||s))}finally{if(s){const l=Ml(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Ml(n){return"content"in n&&function Ru(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function Nu(n){const i=rc();return i?Qu(i.sanitize(Fn.HTML,n)||""):mo(n,"HTML")?Qu(Aa(n)):tl(Zn(),ze(n))}function fl(n){const i=rc();return i?i.sanitize(Fn.URL,n)||"":mo(n,"URL")?Aa(n):ha(ze(n))}function rc(){const n=Gt();return n&&n[12]}const eh="__ngContext__";function E(n,i){n[eh]=i}function a(n){const i=function c(n){return n[eh]||null}(n);return i?Array.isArray(i)?i:i.lView:null}function pi(n){return n.ngOriginalError}function cs(n,...i){n.error(...i)}class Jr{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),l=function cr(n){return n&&n.ngErrorLogger||cs}(i);l(this._console,"ERROR",i),s&&l(this._console,"ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&pi(i);for(;s&&pi(s);)s=pi(s);return s||null}}const Kl=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(we))();function ro(n){return n.ownerDocument.defaultView}function Kn(n){return n instanceof Function?n():n}var so=(()=>((so=so||{})[so.Important=1]="Important",so[so.DashCase=2]="DashCase",so))();function Rc(n,i){return undefined(n,i)}function il(n){const i=n[3];return Ir(i)?i[3]:i}function oc(n){return Zp(n[13])}function ef(n){return Zp(n[4])}function Zp(n){for(;null!==n&&!Ir(n);)n=n[4];return n}function Nc(n,i,s,l,d){if(null!=l){let m,b=!1;Ir(l)?m=l:Xi(l)&&(b=!0,l=l[0]);const I=F(l);0===n&&null!==s?null==d?of(i,s,I):Nl(i,s,I,d||null,!0):1===n&&null!==s?Nl(i,s,I,d||null,!0):2===n?function Xp(n,i,s){const l=od(n,i);l&&function af(n,i,s,l){Fi(n)?n.removeChild(i,s,l):i.removeChild(s)}(n,l,i,s)}(i,I,b):3===n&&i.destroyNode(I),null!=m&&function eg(n,i,s,l,d){const m=s[7];m!==F(s)&&Nc(i,n,l,m,d);for(let I=10;I<s.length;I++){const P=s[I];vu(P[1],P,n,i,l,m)}}(i,n,m,s,d)}}function rh(n,i,s){if(Fi(n))return n.createElement(i,s);{const l=null!==s?function _r(n){const i=n.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(s):null;return null===l?n.createElement(i):n.createElementNS(l,i)}}function yu(n,i){const s=n[9],l=s.indexOf(i),d=i[3];1024&i[2]&&(i[2]&=-1025,N(d,-1)),s.splice(l,1)}function sh(n,i){if(n.length<=10)return;const s=10+i,l=n[s];if(l){const d=l[17];null!==d&&d!==n&&yu(d,l),i>0&&(n[s-1][4]=l[4]);const m=Yo(n,10+i);!function Rm(n,i){vu(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const b=m[19];null!==b&&b.detachView(m[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Yp(n,i){if(!(256&i[2])){const s=i[11];Fi(s)&&s.destroyNode&&vu(n,i,s,3,null,null),function nf(n){let i=n[13];if(!i)return oh(n[1],n);for(;i;){let s=null;if(Xi(i))s=i[13];else{const l=i[10];l&&(s=l)}if(!s){for(;i&&!i[4]&&i!==n;)Xi(i)&&oh(i[1],i),i=i[3];null===i&&(i=n),Xi(i)&&oh(i[1],i),s=i&&i[4]}i=s}}(i)}}function oh(n,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function ac(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const d=i[s[l]];if(!(d instanceof Is)){const m=s[l+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const I=d[m[b]],P=m[b+1];try{P.call(I)}finally{}}else try{m.call(d)}finally{}}}}(n,i),function ah(n,i){const s=n.cleanup,l=i[7];let d=-1;if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const b=s[m+1],I="function"==typeof b?b(i):F(i[b]),P=l[d=s[m+2]],z=s[m+3];"boolean"==typeof z?I.removeEventListener(s[m],P,z):z>=0?l[d=z]():l[d=-z].unsubscribe(),m+=2}else{const b=l[d=s[m+1]];s[m].call(b)}if(null!==l){for(let m=d+1;m<l.length;m++)l[m]();i[7]=null}}(n,i),1===i[1].type&&Fi(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&Ir(i[3])){s!==i[3]&&yu(s,i);const l=i[19];null!==l&&l.detachView(n)}}}function ku(n,i,s){return function Fu(n,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[0];if(2&l.flags){const d=n.data[l.directiveStart].encapsulation;if(d===It.None||d===It.Emulated)return null}return $t(l,s)}(n,i.parent,s)}function Nl(n,i,s,l,d){Fi(n)?n.insertBefore(i,s,l,d):i.insertBefore(s,l,d)}function of(n,i,s){Fi(n)?n.appendChild(i,s):i.appendChild(s)}function lh(n,i,s,l,d){null!==l?Nl(n,i,s,l,d):of(n,i,s)}function od(n,i){return Fi(n)?n.parentNode(i):i.parentNode}function Jp(n,i,s){return uf(n,i,s)}let uf=function lf(n,i,s){return 40&n.type?$t(n,s):null};function Yl(n,i,s,l){const d=ku(n,l,i),m=i[11],I=Jp(l.parent||i[6],l,i);if(null!=d)if(Array.isArray(s))for(let P=0;P<s.length;P++)lh(m,d,s[P],I,!1);else lh(m,d,s,I,!1)}function uh(n,i){if(null!==i){const s=i.type;if(3&s)return $t(i,n);if(4&s)return df(-1,n[i.index]);if(8&s){const l=i.child;if(null!==l)return uh(n,l);{const d=n[i.index];return Ir(d)?df(-1,d):F(d)}}if(32&s)return Rc(i,n)()||F(n[i.index]);{const l=cf(n,i);return null!==l?Array.isArray(l)?l[0]:uh(il(n[16]),l):uh(n,i.next)}}return null}function cf(n,i){return null!==i?n[16][6].projection[i.projection]:null}function df(n,i){const s=10+n+1;if(s<i.length){const l=i[s],d=l[1].firstChild;if(null!==d)return uh(l,d)}return i[7]}function hf(n,i,s,l,d,m,b){for(;null!=s;){const I=l[s.index],P=s.type;if(b&&0===i&&(I&&E(F(I),l),s.flags|=4),64!=(64&s.flags))if(8&P)hf(n,i,s.child,l,d,m,!1),Nc(i,n,d,I,m);else if(32&P){const z=Rc(s,l);let te;for(;te=z();)Nc(i,n,d,te,m);Nc(i,n,d,I,m)}else 16&P?Vu(n,i,l,s,d,m):Nc(i,n,d,I,m);s=b?s.projectionNext:s.next}}function vu(n,i,s,l,d,m){hf(s,l,n.firstChild,i,d,m,!1)}function Vu(n,i,s,l,d,m){const b=s[16],P=b[6].projection[l.projection];if(Array.isArray(P))for(let z=0;z<P.length;z++)Nc(i,n,d,P[z],m);else hf(n,i,P,b[3],d,m,!0)}function tg(n,i,s){Fi(n)?n.setAttribute(i,"style",s):i.style.cssText=s}function ad(n,i,s){Fi(n)?""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s):i.className=s}function ld(n,i,s){let l=n.length;for(;;){const d=n.indexOf(i,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const m=i.length;if(d+m===l||n.charCodeAt(d+m)<=32)return d}s=d+1}}const ff="ng-template";function ud(n,i,s){let l=0;for(;l<n.length;){let d=n[l++];if(s&&"class"===d){if(d=n[l],-1!==ld(d.toLowerCase(),i,0))return!0}else if(1===d){for(;l<n.length&&"string"==typeof(d=n[l++]);)if(d.toLowerCase()===i)return!0;return!1}}return!1}function cd(n){return 4===n.type&&n.value!==ff}function dd(n,i,s){return i===(4!==n.type||s?n.value:ff)}function ng(n,i,s){let l=4;const d=n.attrs||[],m=function dh(n){for(let i=0;i<n.length;i++)if(al(n[i]))return i;return n.length}(d);let b=!1;for(let I=0;I<i.length;I++){const P=i[I];if("number"!=typeof P){if(!b)if(4&l){if(l=2|1&l,""!==P&&!dd(n,P,s)||""===P&&1===i.length){if(pl(l))return!1;b=!0}}else{const z=8&l?P:i[++I];if(8&l&&null!==n.attrs){if(!ud(n.attrs,z,s)){if(pl(l))return!1;b=!0}continue}const Ae=Oa(8&l?"class":P,d,cd(n),s);if(-1===Ae){if(pl(l))return!1;b=!0;continue}if(""!==z){let Ze;Ze=Ae>m?"":d[Ae+1].toLowerCase();const ht=8&l?Ze:null;if(ht&&-1!==ld(ht,z,0)||2&l&&z!==Ze){if(pl(l))return!1;b=!0}}}}else{if(!b&&!pl(l)&&!pl(P))return!1;if(b&&pl(P))continue;b=!1,l=P|1&l}}return pl(l)||b}function pl(n){return 0==(1&n)}function Oa(n,i,s,l){if(null===i)return-1;let d=0;if(l||!s){let m=!1;for(;d<i.length;){const b=i[d];if(b===n)return d;if(3===b||6===b)m=!0;else{if(1===b||2===b){let I=i[++d];for(;"string"==typeof I;)I=i[++d];continue}if(4===b)break;if(0===b){d+=4;continue}}d+=m?1:2}return-1}return function ig(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,n)}function pf(n,i,s=!1){for(let l=0;l<i.length;l++)if(ng(n,i[l],s))return!0;return!1}function Uu(n,i){e:for(let s=0;s<i.length;s++){const l=i[s];if(n.length===l.length){for(let d=0;d<n.length;d++)if(n[d]!==l[d])continue e;return!0}}return!1}function uc(n,i){return n?":not("+i.trim()+")":i}function rg(n){let i=n[0],s=1,l=2,d="",m=!1;for(;s<n.length;){let b=n[s];if("string"==typeof b)if(2&l){const I=n[++s];d+="["+b+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?d+="."+b:4&l&&(d+=" "+b);else""!==d&&!pl(b)&&(i+=uc(m,d),d=""),l=b,m=m||!pl(l);s++}return""!==d&&(i+=uc(m,d)),i}const gi={};function gf(n){_u(bi(),Gt(),ns()+n,!1)}function _u(n,i,s,l){if(!l)if(3==(3&i[2])){const m=n.preOrderCheckHooks;null!==m&&Kt(i,m,s)}else{const m=n.preOrderHooks;null!==m&&nr(i,m,0,s)}co(s)}function hh(n,i){return n<<17|i<<2}function Ll(n){return n>>17&32767}function Fc(n){return 2|n}function Ql(n){return(131068&n)>>2}function yf(n,i){return-131069&n|i<<2}function _f(n){return 1|n}function vh(n,i){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const d=s[l],m=s[l+1];if(-1!==m){const b=n.data[m];La(d),b.contentQueries(2,i[m],m)}}}function Vc(n,i,s,l,d,m,b,I,P,z){const te=i.blueprint.slice();return te[0]=d,te[2]=140|l,H(te),te[3]=te[15]=n,te[8]=s,te[10]=b||n&&n[10],te[11]=I||n&&n[11],te[12]=P||n&&n[12]||null,te[9]=z||n&&n[9]||null,te[6]=m,te[16]=2==i.type?n[16]:te,te}function hc(n,i,s,l,d){let m=n.data[i];if(null===m)m=function md(n,i,s,l,d){const m=ya(),b=Pa(),P=n.data[i]=function Pf(n,i,s,l,d,m){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,s,i,l,d);return null===n.firstChild&&(n.firstChild=P),null!==m&&(b?null==m.child&&null!==P.parent&&(m.child=P):null===m.next&&(m.next=P)),P}(n,i,s,l,d),function ia(){return M.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=s,m.value=l,m.attrs=d;const b=function Co(){const n=M.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return Hs(m,!0),m}function Eu(n,i,s,l){if(0===s)return-1;const d=i.length;for(let m=0;m<s;m++)i.push(l),n.blueprint.push(l),n.data.push(null);return d}function bu(n,i,s){Ao(i);try{const l=n.viewQuery;null!==l&&Cd(1,l,s);const d=n.template;null!==d&&_h(n,i,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&vh(n,i),n.staticViewQueries&&Cd(2,n.viewQuery,s);const m=n.components;null!==m&&function Sf(n,i){for(let s=0;s<i.length;s++)Eg(n,i[s])}(i,m)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[2]&=-5,xo()}}function wu(n,i,s,l){const d=i[2];if(256!=(256&d)){Ao(i);try{H(i),function uo(n){return M.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&_h(n,i,s,2,l);const b=3==(3&d);if(b){const z=n.preOrderCheckHooks;null!==z&&Kt(i,z,null)}else{const z=n.preOrderHooks;null!==z&&nr(i,z,0,null),$i(i,0)}if(function Xm(n){for(let i=oc(n);null!==i;i=ef(i)){if(!i[2])continue;const s=i[9];for(let l=0;l<s.length;l++){const d=s[l],m=d[3];0==(1024&d[2])&&N(m,1),d[2]|=1024}}}(i),function Uf(n){for(let i=oc(n);null!==i;i=ef(i))for(let s=10;s<i.length;s++){const l=i[s],d=l[1];tr(l)&&wu(d,l,d.template,l[8])}}(i),null!==n.contentQueries&&vh(n,i),b){const z=n.contentCheckHooks;null!==z&&Kt(i,z)}else{const z=n.contentHooks;null!==z&&nr(i,z,1),$i(i,1)}!function Gm(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const d=s[l];if(d<0)co(~d);else{const m=d,b=s[++l],I=s[++l];Na(b,m),I(2,i[m])}}}finally{co(-1)}}(n,i);const I=n.components;null!==I&&function zm(n,i){for(let s=0;s<i.length;s++)ey(n,i[s])}(i,I);const P=n.viewQuery;if(null!==P&&Cd(2,P,l),b){const z=n.viewCheckHooks;null!==z&&Kt(i,z)}else{const z=n.viewHooks;null!==z&&nr(i,z,2),$i(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-73,1024&i[2]&&(i[2]&=-1025,N(i[3],-1))}finally{xo()}}}function xf(n,i,s,l){const d=i[10],b=di(i);try{!b&&d.begin&&d.begin(),b&&bu(n,i,l),wu(n,i,s,l)}finally{!b&&d.end&&d.end()}}function _h(n,i,s,l,d){const m=ns(),b=2&l;try{co(-1),b&&i.length>20&&_u(n,i,20,!1),s(l,d)}finally{co(m)}}function Eh(n,i,s){if(Gr(i)){const d=i.directiveEnd;for(let m=i.directiveStart;m<d;m++){const b=n.data[m];b.contentQueries&&b.contentQueries(1,s[m],m)}}}function bh(n,i,s){!us()||(function Lf(n,i,s,l){const d=s.directiveStart,m=s.directiveEnd;n.firstCreatePass||k(s,i),E(l,i);const b=s.initialInputs;for(let I=d;I<m;I++){const P=n.data[I],z=Wr(P);z&&Ff(i,s,P);const te=go(i,n,I,s);E(te,i),null!==b&&Dh(0,I-d,te,P,0,b),z&&(ti(s.index,i)[8]=te)}}(n,i,s,$t(s,i)),128==(128&s.flags)&&function yg(n,i,s){const l=s.directiveStart,d=s.directiveEnd,b=s.index,I=function Ts(){return M.lFrame.currentDirectiveIndex}();try{co(b);for(let P=l;P<d;P++){const z=n.data[P],te=i[P];vl(P),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&Ch(z,te)}}finally{co(-1),vl(I)}}(n,i,s))}function Of(n,i,s=$t){const l=i.localNames;if(null!==l){let d=i.index+1;for(let m=0;m<l.length;m+=2){const b=l[m+1],I=-1===b?s(i,n):n[b];n[d++]=I}}}function Mf(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=wh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function wh(n,i,s,l,d,m,b,I,P,z){const te=20+l,Ae=te+d,Ze=function Wm(n,i){const s=[];for(let l=0;l<i;l++)s.push(l<n?null:gi);return s}(te,Ae),ht="function"==typeof z?z():z;return Ze[1]={type:n,blueprint:Ze,template:s,queries:null,viewQuery:I,declTNode:i,data:Ze.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:Ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:P,consts:ht,incompleteFirstPass:!1}}function Uc(n,i,s,l){const d=pc(i);null===s?d.push(l):(d.push(s),n.firstCreatePass&&Cu(n).push(l,d.length-1))}function Rf(n,i,s){for(let l in n)if(n.hasOwnProperty(l)){const d=n[l];(s=null===s?{}:s).hasOwnProperty(l)?s[l].push(i,d):s[l]=[i,d]}return s}function rl(n,i,s,l,d,m,b,I){const P=$t(i,s);let te,z=i.inputs;!I&&null!=z&&(te=z[l])?(mc(n,s,te,l,d),zr(i)&&function Ym(n,i){const s=ti(i,n);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(l=function qm(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),d=null!=b?b(d,i.value||"",l):d,Fi(m)?m.setProperty(P,l,d):Fa(l)||(P.setProperty?P.setProperty(l,d):P[l]=d))}function vd(n,i,s,l){let d=!1;if(us()){const m=function kf(n,i,s){const l=n.directiveRegistry;let d=null;if(l)for(let m=0;m<l.length;m++){const b=l[m];pf(s,b.selectors,!1)&&(d||(d=[]),Lt(k(s,i),n,b.type),Wr(b)?(Jl(n,s),d.unshift(b)):d.push(b))}return d}(n,i,s),b=null===l?null:{"":-1};if(null!==m){d=!0,Th(s,n.data.length,m.length);for(let te=0;te<m.length;te++){const Ae=m[te];Ae.providersResolver&&Ae.providersResolver(Ae)}let I=!1,P=!1,z=Eu(n,i,m.length,null);for(let te=0;te<m.length;te++){const Ae=m[te];s.mergedAttrs=is(s.mergedAttrs,Ae.hostAttrs),_g(n,s,i,z,Ae),Qm(z,Ae,b),null!==Ae.contentQueries&&(s.flags|=8),(null!==Ae.hostBindings||null!==Ae.hostAttrs||0!==Ae.hostVars)&&(s.flags|=128);const Ze=Ae.type.prototype;!I&&(Ze.ngOnChanges||Ze.ngOnInit||Ze.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),I=!0),!P&&(Ze.ngOnChanges||Ze.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),P=!0),z++}!function Km(n,i){const l=i.directiveEnd,d=n.data,m=i.attrs,b=[];let I=null,P=null;for(let z=i.directiveStart;z<l;z++){const te=d[z],Ae=te.inputs,Ze=null===m||cd(i)?null:Vf(Ae,m);b.push(Ze),I=Rf(Ae,z,I),P=Rf(te.outputs,z,P)}null!==I&&(I.hasOwnProperty("class")&&(i.flags|=16),I.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=b,i.inputs=I,i.outputs=P}(n,s)}b&&function vg(n,i,s){if(i){const l=n.localNames=[];for(let d=0;d<i.length;d+=2){const m=s[i[d+1]];if(null==m)throw new at(-301,!1);l.push(i[d],m)}}}(s,l,b)}return s.mergedAttrs=is(s.mergedAttrs,s.attrs),d}function _d(n,i,s,l,d,m){const b=m.hostBindings;if(b){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const P=~i.index;(function Ed(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(I)!=P&&I.push(P),I.push(l,d,b)}}function Ch(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Jl(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function Qm(n,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=n;Wr(i)&&(s[""]=n)}}function Th(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}function _g(n,i,s,l,d){n.data[l]=d;const m=d.factory||(d.factory=Jn(d.type)),b=new Is(m,Wr(d),null);n.blueprint[l]=b,s[l]=b,_d(n,i,0,l,Eu(n,s,d.hostVars,gi),d)}function Ff(n,i,s){const l=$t(i,n),d=Mf(s),m=n[10],b=jc(n,Vc(n,d,null,s.onPush?64:16,l,i,m,m.createRenderer(l,s),null,null));n[i.index]=b}function Xl(n,i,s,l,d,m){const b=$t(n,i);!function bd(n,i,s,l,d,m,b){if(null==m)Fi(n)?n.removeAttribute(i,d,s):i.removeAttribute(d);else{const I=null==b?ze(m):b(m,l||"",d);Fi(n)?n.setAttribute(i,d,I,s):s?i.setAttributeNS(s,d,I):i.setAttribute(d,I)}}(i[11],b,m,n.value,s,l,d)}function Dh(n,i,s,l,d,m){const b=m[i];if(null!==b){const I=l.setInput;for(let P=0;P<b.length;){const z=b[P++],te=b[P++],Ae=b[P++];null!==I?l.setInput(s,Ae,z,te):s[te]=Ae}}}function Vf(n,i){let s=null,l=0;for(;l<i.length;){const d=i[l];if(0!==d)if(5!==d){if("number"==typeof d)break;n.hasOwnProperty(d)&&(null===s&&(s=[]),s.push(d,n[d],i[l+1])),l+=2}else l+=2;else l+=4}return s}function fc(n,i,s,l){return new Array(n,!0,!1,i,null,0,l,s,null,null)}function ey(n,i){const s=ti(i,n);if(tr(s)){const l=s[1];80&s[2]?wu(l,s,l.template,s[8]):s[5]>0&&Ih(s)}}function Ih(n){for(let l=oc(n);null!==l;l=ef(l))for(let d=10;d<l.length;d++){const m=l[d];if(1024&m[2]){const b=m[1];wu(b,m,b.template,m[8])}else m[5]>0&&Ih(m)}const s=n[1].components;if(null!==s)for(let l=0;l<s.length;l++){const d=ti(s[l],n);tr(d)&&d[5]>0&&Ih(d)}}function Eg(n,i){const s=ti(i,n),l=s[1];(function ty(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(l,s),bu(l,s,s[8])}function jc(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Bf(n){for(;n;){n[2]|=64;const i=il(n);if(_s(n)&&!i)return n;n=i}return null}function bg(n){!function jf(n){for(let i=0;i<n.components.length;i++){const s=n.components[i],l=a(s),d=l[1];xf(d,l,d.template,s)}}(n[8])}function Cd(n,i,s){La(0),i(n,s)}const $f=(()=>Promise.resolve(null))();function pc(n){return n[7]||(n[7]=[])}function Cu(n){return n.cleanup||(n.cleanup=[])}function gc(n,i){const s=n[9],l=s?s.get(Jr,null):null;l&&l.handleError(i)}function mc(n,i,s,l,d){for(let m=0;m<s.length;){const b=s[m++],I=s[m++],P=i[b],z=n.data[b];null!==z.setInput?z.setInput(P,d,l,I):P[I]=d}}function eu(n,i,s){const l=St(i,n);!function Kp(n,i,s){Fi(n)?n.setValue(i,s):i.textContent=s}(n[11],l,s)}function Tu(n,i,s){let l=s?n.styles:null,d=s?n.classes:null,m=0;if(null!==i)for(let b=0;b<i.length;b++){const I=i[b];"number"==typeof I?m=I:1==m?d=Q(d,I):2==m&&(l=Q(l,I+": "+i[++b]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=d:n.classesWithoutHost=d}const $c=new Er("INJECTOR",-1);class Sh{get(i,s=Qo){if(s===Qo){const l=new Error(`NullInjectorError: No provider for ${ce(i)}!`);throw l.name="NullInjectorError",l}return s}}const Td=new Er("Set Injector scope."),Dd={},sy={};let Id;function xh(){return void 0===Id&&(Id=new Sh),Id}function Dg(n,i=null,s=null,l){const d=Gf(n,i,s,l);return d._resolveInjectorDefTypes(),d}function Gf(n,i=null,s=null,l){return new oy(n,s,i||xh(),l)}class oy{constructor(i,s,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];s&&Rs(s,I=>this.processProvider(I,i,s)),Rs([i],I=>this.processInjectorType(I,[],m)),this.records.set($c,Gc(void 0,this));const b=this.records.get(Td);this.scope=null!=b?b.value:null,this.source=d||("object"==typeof i?null:ce(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=Qo,l=on.Default){this.assertNotDestroyed();const d=Et(this),m=rn(void 0);try{if(!(l&on.SkipSelf)){let I=this.records.get(i);if(void 0===I){const P=function Kf(n){return"function"==typeof n||"object"==typeof n&&n instanceof Er}(i)&&xn(i);I=P&&this.injectableDefInScope(P)?Gc(Oh(i),Dd):null,this.records.set(i,I)}if(null!=I)return this.hydrate(i,I)}return(l&on.Self?xh():this.parent).get(i,s=l&on.Optional&&s===Qo?null:s)}catch(b){if("NullInjectorError"===b.name){if((b[Ls]=b[Ls]||[]).unshift(ce(i)),d)throw b;return function Yi(n,i,s,l){const d=n[Ls];throw i[oe]&&d.unshift(i[oe]),n.message=function dl(n,i,s,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let d=ce(i);if(Array.isArray(i))d=i.map(ce).join(" -> ");else if("object"==typeof i){let m=[];for(let b in i)if(i.hasOwnProperty(b)){let I=i[b];m.push(b+":"+("string"==typeof I?JSON.stringify(I):ce(I)))}d=`{${m.join(", ")}}`}return`${s}${l?"("+l+")":""}[${d}]: ${n.replace(R,"\n  ")}`}("\n"+n.message,d,s,l),n.ngTokenPath=d,n[Ls]=null,n}(b,i,"R3InjectorError",this.source)}throw b}finally{rn(m),Et(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,d)=>i.push(ce(d))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new at(205,!1)}processInjectorType(i,s,l){if(!(i=De(i)))return!1;let d=li(i);const m=null==d&&i.ngModule||void 0,b=void 0===m?i:m,I=-1!==l.indexOf(b);if(void 0!==m&&(d=li(m)),null==d)return!1;if(null!=d.imports&&!I){let te;l.push(b);try{Rs(d.imports,Ae=>{this.processInjectorType(Ae,s,l)&&(void 0===te&&(te=[]),te.push(Ae))})}finally{}if(void 0!==te)for(let Ae=0;Ae<te.length;Ae++){const{ngModule:Ze,providers:ht}=te[Ae];Rs(ht,Wt=>this.processProvider(Wt,Ze,ht||Tt))}}this.injectorDefTypes.add(b);const P=Jn(b)||(()=>new b);this.records.set(b,Gc(P,Dd));const z=d.providers;if(null!=z&&!I){const te=i;Rs(z,Ae=>this.processProvider(Ae,te,z))}return void 0!==m&&void 0!==i.providers}processProvider(i,s,l){let d=$u(i=De(i))?i:De(i&&i.provide);const m=function Ag(n,i,s){return Sg(n)?Gc(void 0,n.useValue):Gc(zf(n),Dd)}(i);if($u(i)||!0!==i.multi)this.records.get(d);else{let b=this.records.get(d);b||(b=Gc(void 0,Dd,!0),b.factory=()=>ri(b.multi),this.records.set(d,b)),d=i,b.multi.push(i)}this.records.set(d,m)}hydrate(i,s){return s.value===Dd&&(s.value=sy,s.value=s.factory()),"object"==typeof s.value&&s.value&&function uy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=De(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Oh(n){const i=xn(n),s=null!==i?i.factory:Jn(n);if(null!==s)return s;if(n instanceof Er)throw new at(204,!1);if(n instanceof Function)return function Ig(n){const i=n.length;if(i>0)throw Ca(i,"?"),new at(204,!1);const s=function Xn(n){const i=n&&(n[Qn]||n[On]);if(i){const s=function jn(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new at(204,!1)}function zf(n,i,s){let l;if($u(n)){const d=De(n);return Jn(d)||Oh(d)}if(Sg(n))l=()=>De(n.useValue);else if(function ly(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...ri(n.deps||[]));else if(function ay(n){return!(!n||!n.useExisting)}(n))l=()=>dn(De(n.useExisting));else{const d=De(n&&(n.useClass||n.provide));if(!function Zf(n){return!!n.deps}(n))return Jn(d)||Oh(d);l=()=>new d(...ri(n.deps))}return l}function Gc(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function Sg(n){return null!==n&&"object"==typeof n&&Ie in n}function $u(n){return"function"==typeof n}let tu=(()=>{class n{static create(s,l){var d;if(Array.isArray(s))return Dg({name:""},l,s,"");{const m=null!==(d=s.name)&&void 0!==d?d:"";return Dg({name:m},s.parent,s.providers,m)}}}return n.THROW_IF_NOT_FOUND=Qo,n.NULL=new Sh,n.\u0275prov=Ht({token:n,providedIn:"any",factory:()=>dn($c)}),n.__NG_ELEMENT_ID__=-1,n})();function tp(n,i){Ms(a(n)[1],lr())}function np(n){let i=function kh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;i;){let d;if(Wr(n))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new at(903,"");d=i.\u0275dir}if(d){if(s){l.push(d);const b=n;b.inputs=Fh(n.inputs),b.declaredInputs=Fh(n.declaredInputs),b.outputs=Fh(n.outputs);const I=d.hostBindings;I&&py(n,I);const P=d.viewQuery,z=d.contentQueries;if(P&&rp(n,P),z&&Ng(n,z),Ee(n.inputs,d.inputs),Ee(n.declaredInputs,d.declaredInputs),Ee(n.outputs,d.outputs),Wr(d)&&d.data.animation){const te=n.data;te.animation=(te.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let b=0;b<m.length;b++){const I=m[b];I&&I.ngInherit&&I(n),I===np&&(s=!1)}}i=Object.getPrototypeOf(i)}!function ip(n){let i=0,s=null;for(let l=n.length-1;l>=0;l--){const d=n[l];d.hostVars=i+=d.hostVars,d.hostAttrs=is(d.hostAttrs,s=is(s,d.hostAttrs))}}(l)}function Fh(n){return n===Mt?{}:n===Tt?[]:n}function rp(n,i){const s=n.viewQuery;n.viewQuery=s?(l,d)=>{i(l,d),s(l,d)}:i}function Ng(n,i){const s=n.contentQueries;n.contentQueries=s?(l,d,m)=>{i(l,d,m),s(l,d,m)}:i}function py(n,i){const s=n.hostBindings;n.hostBindings=s?(l,d)=>{i(l,d),s(l,d)}:i}let zc=null;function Gu(){if(!zc){const n=we.Symbol;if(n&&n.iterator)zc=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const l=i[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(zc=l)}}}return zc}function Od(n){return!!ap(n)&&(Array.isArray(n)||!(n instanceof Map)&&Gu()in n)}function ap(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function gl(n,i,s){return n[i]=s}function Ho(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function zu(n,i,s,l){const d=Ho(n,i,s);return Ho(n,i+1,l)||d}function Md(n,i,s,l,d){const m=zu(n,i,s,l);return Ho(n,i+2,d)||m}function Ki(n,i,s,l){const d=Gt();return Ho(d,Ar(),i)&&(bi(),Xl(Ji(),d,n,i,s,l)),Ki}function _c(n,i,s,l){return Ho(n,Ar(),s)?i+ze(s)+l:gi}function Ec(n,i,s,l,d,m){const I=zu(n,Os(),s,d);return Cs(2),I?i+ze(s)+l+ze(d)+m:gi}function Hg(n,i,s,l,d,m,b,I){const P=Gt(),z=bi(),te=n+20,Ae=z.firstCreatePass?function vy(n,i,s,l,d,m,b,I,P){const z=i.consts,te=hc(i,n,4,b||null,Vi(z,I));vd(i,s,te,Vi(z,P)),Ms(i,te);const Ae=te.tViews=wh(2,te,l,d,m,i.directiveRegistry,i.pipeRegistry,null,i.schemas,z);return null!==i.queries&&(i.queries.template(i,te),Ae.queries=i.queries.embeddedTView(te)),te}(te,z,P,i,s,l,d,m,b):z.data[te];Hs(Ae,!1);const Ze=P[11].createComment("");Yl(z,P,Ze,Ae),E(Ze,P),jc(P,P[te]=fc(Ze,P,Ze,Ae)),os(Ae)&&bh(z,P,Ae),null!=b&&Of(P,Ae,I)}function jg(n){return yi(function Ra(){return M.lFrame.contextLView}(),20+n)}function kd(n,i=on.Default){const s=Gt();return null===s?dn(n,i):Mi(lr(),s,De(n),i)}function yp(){throw new Error("invalid")}function ru(n,i,s){const l=Gt();return Ho(l,Ar(),i)&&rl(bi(),Ji(),l,n,i,l[11],s,!1),ru}function su(n,i,s,l,d){const b=d?"class":"style";mc(n,s,i.inputs[b],b,l)}function ou(n,i,s,l){const d=Gt(),m=bi(),b=20+n,I=d[11],P=d[b]=rh(I,i,function ho(){return M.lFrame.currentNamespace}()),z=m.firstCreatePass?function i_(n,i,s,l,d,m,b){const I=i.consts,z=hc(i,n,2,d,Vi(I,m));return vd(i,s,z,Vi(I,b)),null!==z.attrs&&Tu(z,z.attrs,!1),null!==z.mergedAttrs&&Tu(z,z.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,z),z}(b,m,d,0,i,s,l):m.data[b];Hs(z,!0);const te=z.mergedAttrs;null!==te&&bl(I,P,te);const Ae=z.classes;null!==Ae&&ad(I,P,Ae);const Ze=z.styles;return null!==Ze&&tg(I,P,Ze),64!=(64&z.flags)&&Yl(m,d,P,z),0===function Sn(){return M.lFrame.elementDepthCount}()&&E(P,d),function Li(){M.lFrame.elementDepthCount++}(),os(z)&&(bh(m,d,z),Eh(m,z,d)),null!==l&&Of(d,z),ou}function Cc(){let n=lr();Pa()?va():(n=n.parent,Hs(n,!1));const i=n;!function ws(){M.lFrame.elementDepthCount--}();const s=bi();return s.firstCreatePass&&(Ms(s,n),Gr(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function ka(n){return 0!=(16&n.flags)}(i)&&su(s,i,Gt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ol(n){return 0!=(32&n.flags)}(i)&&su(s,i,Gt(),i.stylesWithoutHost,!1),Cc}function vp(n,i,s,l){return ou(n,i,s,l),Cc(),vp}function Fd(n,i,s){const l=Gt(),d=bi(),m=n+20,b=d.firstCreatePass?function Xg(n,i,s,l,d){const m=i.consts,b=Vi(m,l),I=hc(i,n,8,"ng-container",b);return null!==b&&Tu(I,b,!0),vd(i,s,I,Vi(m,d)),null!==i.queries&&i.queries.elementStart(i,I),I}(m,d,l,i,s):d.data[m];Hs(b,!0);const I=l[m]=l[11].createComment("");return Yl(d,l,I,b),E(I,l),os(b)&&(bh(d,l,b),Eh(d,b,l)),null!=s&&Of(l,b),Fd}function Tc(){let n=lr();const i=bi();return Pa()?va():(n=n.parent,Hs(n,!1)),i.firstCreatePass&&(Ms(i,n),Gr(n)&&i.queries.elementEnd(n)),Tc}function _p(n,i,s){return Fd(n,i,s),Tc(),_p}function Wu(){return Gt()}function Kc(n){return!!n&&"function"==typeof n.then}function qc(n){return!!n&&"function"==typeof n.subscribe}const Ep=qc;function Vd(n,i,s,l){const d=Gt(),m=bi(),b=lr();return function tm(n,i,s,l,d,m,b,I){const P=os(l),te=n.firstCreatePass&&Cu(n),Ae=i[8],Ze=pc(i);let ht=!0;if(3&l.type||I){const Dn=$t(l,i),Hn=I?I(Dn):Dn,sn=Ze.length,si=I?ir=>I(F(ir[l.index])):l.index;if(Fi(s)){let ir=null;if(!I&&P&&(ir=function Sy(n,i,s,l){const d=n.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const b=d[m];if(b===s&&d[m+1]===l){const I=i[7],P=d[m+2];return I.length>P?I[P]:null}"string"==typeof b&&(m+=2)}return null}(n,i,d,l.index)),null!==ir)(ir.__ngLastListenerFn__||ir).__ngNextListenerFn__=m,ir.__ngLastListenerFn__=m,ht=!1;else{m=Ud(l,i,Ae,m,!1);const Fr=s.listen(Hn,d,m);Ze.push(m,Fr),te&&te.push(d,si,sn,sn+1)}}else m=Ud(l,i,Ae,m,!0),Hn.addEventListener(d,m,b),Ze.push(m),te&&te.push(d,si,sn,b)}else m=Ud(l,i,Ae,m,!1);const Wt=l.outputs;let mn;if(ht&&null!==Wt&&(mn=Wt[d])){const Dn=mn.length;if(Dn)for(let Hn=0;Hn<Dn;Hn+=2){const Bl=i[mn[Hn]][mn[Hn+1]].subscribe(m),Yd=Ze.length;Ze.push(m,Bl),te&&te.push(d,l.index,Yd,-(Yd+1))}}}(m,d,d[11],b,n,i,!!s,l),Vd}function $h(n,i,s,l){try{return!1!==s(l)}catch(d){return gc(n,d),!1}}function Ud(n,i,s,l,d){return function m(b){if(b===Function)return l;const I=2&n.flags?ti(n.index,i):i;0==(32&i[2])&&Bf(I);let P=$h(i,0,l,b),z=m.__ngNextListenerFn__;for(;z;)P=$h(i,0,z,b)&&P,z=z.__ngNextListenerFn__;return d&&!1===P&&(b.preventDefault(),b.returnValue=!1),P}}function bp(n=1){return function Hl(n){return(M.lFrame.contextLView=function El(n,i){for(;n>0;)i=i[15],n--;return i}(n,M.lFrame.contextLView))[8]}(n)}function Dc(n,i){let s=null;const l=function ch(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(0==(1&s))return i[s+1]}return null}(n);for(let d=0;d<i.length;d++){const m=i[d];if("*"!==m){if(null===l?pf(n,m,!0):Uu(l,m))return d}else s=d}return s}function wp(n){const i=Gt()[16][6];if(!i.projection){const l=i.projection=Ca(n?n.length:1,null),d=l.slice();let m=i.child;for(;null!==m;){const b=n?Dc(m,n):0;null!==b&&(d[b]?d[b].projectionNext=m:l[b]=m,d[b]=m),m=m.next}}}function Cp(n,i=0,s){const l=Gt(),d=bi(),m=hc(d,20+n,16,null,s||null);null===m.projection&&(m.projection=i),va(),64!=(64&m.flags)&&function lc(n,i,s){Vu(i[11],0,i,s,ku(n,s,i),Jp(s.parent||i[6],s,i))}(d,l,m)}function Bd(n,i,s){return Hd(n,"",i,"",s),Bd}function Hd(n,i,s,l,d){const m=Gt(),b=_c(m,i,s,l);return b!==gi&&rl(bi(),Ji(),m,n,b,m[11],d,!1),Hd}function Tp(n,i,s,l,d,m,b){const I=Gt(),P=Ec(I,i,s,l,d,m);return P!==gi&&rl(bi(),Ji(),I,n,P,I[11],b,!1),Tp}function im(n,i,s,l,d){const m=n[s+1],b=null===i;let I=l?Ll(m):Ql(m),P=!1;for(;0!==I&&(!1===P||b);){const te=n[I+1];My(n[I],i)&&(P=!0,n[I+1]=l?_f(te):Fc(te)),I=l?Ll(te):Ql(te)}P&&(n[s+1]=l?Fc(m):_f(m))}function My(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Qr(n,i)>=0}const oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ap(n){return n.substring(oo.key,oo.keyEnd)}function Py(n){return n.substring(oo.value,oo.valueEnd)}function Sp(n,i){const s=oo.textEnd;return s===i?-1:(i=oo.keyEnd=function Ly(n,i,s){for(;i<s&&n.charCodeAt(i)>32;)i++;return i}(n,oo.key=i,s),Qc(n,i,s))}function rm(n,i){const s=oo.textEnd;let l=oo.key=Qc(n,i,s);return s===l?-1:(l=oo.keyEnd=function sm(n,i,s){let l;for(;i<s&&(45===(l=n.charCodeAt(i))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)i++;return i}(n,l,s),l=Op(n,l,s),l=oo.value=Qc(n,l,s),l=oo.valueEnd=function om(n,i,s){let l=-1,d=-1,m=-1,b=i,I=b;for(;b<s;){const P=n.charCodeAt(b++);if(59===P)return I;34===P||39===P?I=b=Mp(n,P,b,s):i===b-4&&85===m&&82===d&&76===l&&40===P?I=b=Mp(n,41,b,s):P>32&&(I=b),m=d,d=l,l=-33&P}return I}(n,l,s),Op(n,l,s))}function xp(n){oo.key=0,oo.keyEnd=0,oo.value=0,oo.valueEnd=0,oo.textEnd=n.length}function Qc(n,i,s){for(;i<s&&n.charCodeAt(i)<=32;)i++;return i}function Op(n,i,s,l){return(i=Qc(n,i,s))<s&&i++,i}function Mp(n,i,s,l){let d=-1,m=s;for(;m<l;){const b=n.charCodeAt(m++);if(b==i&&92!==d)return m;d=92==b&&92===d?0:b}throw new Error}function Jc(n,i,s){return Vl(n,i,s,!1),Jc}function Pp(n,i){return Vl(n,i,null,!0),Pp}function jo(n){Ul(um,Ic,n,!1)}function Ic(n,i){for(let s=function Ny(n){return xp(n),rm(n,Qc(n,0,oo.textEnd))}(i);s>=0;s=rm(i,s))um(n,Ap(i),Py(i))}function Xc(n){Ul(Yr,ea,n,!0)}function ea(n,i){for(let s=function Ry(n){return xp(n),Sp(n,Qc(n,0,oo.textEnd))}(i);s>=0;s=Sp(i,s))Yr(n,Ap(i),!0)}function Vl(n,i,s,l){const d=Gt(),m=bi(),b=Cs(2);m.firstUpdatePass&&Du(m,n,b,l),i!==gi&&Ho(d,b,i)&&cm(m,m.data[ns()],d,d[11],n,d[b+1]=function Np(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ce(Aa(n)))),n}(i,s),l,b)}function Ul(n,i,s,l){const d=bi(),m=Cs(2);d.firstUpdatePass&&Du(d,null,m,l);const b=Gt();if(s!==gi&&Ho(b,m,s)){const I=d.data[ns()];if(jy(I,l)&&!lm(d,m)){let P=l?I.classesWithoutHost:I.stylesWithoutHost;null!==P&&(s=Q(P,s||"")),su(d,I,b,s,l)}else!function Hy(n,i,s,l,d,m,b,I){d===gi&&(d=Tt);let P=0,z=0,te=0<d.length?d[0]:null,Ae=0<m.length?m[0]:null;for(;null!==te||null!==Ae;){const Ze=P<d.length?d[P+1]:void 0,ht=z<m.length?m[z+1]:void 0;let mn,Wt=null;te===Ae?(P+=2,z+=2,Ze!==ht&&(Wt=Ae,mn=ht)):null===Ae||null!==te&&te<Ae?(P+=2,Wt=te):(z+=2,Wt=Ae,mn=ht),null!==Wt&&cm(n,i,s,l,Wt,mn,b,I),te=P<d.length?d[P]:null,Ae=z<m.length?m[z]:null}}(d,I,b,b[11],b[m+1],b[m+1]=function By(n,i,s){if(null==s||""===s)return Tt;const l=[],d=Aa(s);if(Array.isArray(d))for(let m=0;m<d.length;m++)n(l,d[m],!0);else if("object"==typeof d)for(const m in d)d.hasOwnProperty(m)&&n(l,m,d[m]);else"string"==typeof d&&i(l,d);return l}(n,i,s),l,m)}}function lm(n,i){return i>=n.expandoStartIndex}function Du(n,i,s,l){const d=n.data;if(null===d[s+1]){const m=d[ns()],b=lm(n,s);jy(m,l)&&null===i&&!b&&(i=!1),i=function ky(n,i,s,l){const d=Ko(n);let m=l?i.residualClasses:i.residualStyles;if(null===d)0===(l?i.classBindings:i.styleBindings)&&(s=zd(s=Rp(null,n,i,s,l),i.attrs,l),m=null);else{const b=i.directiveStylingLast;if(-1===b||n[b]!==d)if(s=Rp(d,n,i,s,l),null===m){let P=function Fy(n,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==Ql(l))return n[Ll(l)]}(n,i,l);void 0!==P&&Array.isArray(P)&&(P=Rp(null,n,i,P[1],l),P=zd(P,i.attrs,l),function Vy(n,i,s,l){n[Ll(s?i.classBindings:i.styleBindings)]=l}(n,i,l,P))}else m=function Uy(n,i,s){let l;const d=i.directiveEnd;for(let m=1+i.directiveStylingLast;m<d;m++)l=zd(l,n[m].hostAttrs,s);return zd(l,i.attrs,s)}(n,i,l)}return void 0!==m&&(l?i.residualClasses=m:i.residualStyles=m),s}(d,m,i,l),function xy(n,i,s,l,d,m){let b=m?i.classBindings:i.styleBindings,I=Ll(b),P=Ql(b);n[l]=s;let te,z=!1;if(Array.isArray(s)){const Ae=s;te=Ae[1],(null===te||Qr(Ae,te)>0)&&(z=!0)}else te=s;if(d)if(0!==P){const Ze=Ll(n[I+1]);n[l+1]=hh(Ze,I),0!==Ze&&(n[Ze+1]=yf(n[Ze+1],l)),n[I+1]=function km(n,i){return 131071&n|i<<17}(n[I+1],l)}else n[l+1]=hh(I,0),0!==I&&(n[I+1]=yf(n[I+1],l)),I=l;else n[l+1]=hh(P,0),0===I?I=l:n[P+1]=yf(n[P+1],l),P=l;z&&(n[l+1]=Fc(n[l+1])),im(n,te,l,!0),im(n,te,l,!1),function Oy(n,i,s,l,d){const m=d?n.residualClasses:n.residualStyles;null!=m&&"string"==typeof i&&Qr(m,i)>=0&&(s[l+1]=_f(s[l+1]))}(i,te,n,l,m),b=hh(I,P),m?i.classBindings=b:i.styleBindings=b}(d,m,i,s,b,l)}}function Rp(n,i,s,l,d){let m=null;const b=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<b&&(m=i[I],l=zd(l,m.hostAttrs,d),m!==n);)I++;return null!==n&&(s.directiveStylingLast=I),l}function zd(n,i,s){const l=s?1:2;let d=-1;if(null!==i)for(let m=0;m<i.length;m++){const b=i[m];"number"==typeof b?d=b:d===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Yr(n,b,!!s||i[++m]))}return void 0===n?null:n}function um(n,i,s){Yr(n,i,Aa(s))}function cm(n,i,s,l,d,m,b,I){if(!(3&i.type))return;const P=n.data,z=P[I+1];Iu(function vf(n){return 1==(1&n)}(z)?dm(P,i,s,d,Ql(z),b):void 0)||(Iu(m)||function sg(n){return 2==(2&n)}(z)&&(m=dm(P,null,s,d,I,b)),function Nm(n,i,s,l,d){const m=Fi(n);if(i)d?m?n.addClass(s,l):s.classList.add(l):m?n.removeClass(s,l):s.classList.remove(l);else{let b=-1===l.indexOf("-")?void 0:so.DashCase;if(null==d)m?n.removeStyle(s,l,b):s.style.removeProperty(l);else{const I="string"==typeof d&&d.endsWith("!important");I&&(d=d.slice(0,-10),b|=so.Important),m?n.setStyle(s,l,d,b):s.style.setProperty(l,d,I?"important":"")}}}(l,b,St(ns(),s),d,m))}function dm(n,i,s,l,d,m){const b=null===i;let I;for(;d>0;){const P=n[d],z=Array.isArray(P),te=z?P[1]:P,Ae=null===te;let Ze=s[d+1];Ze===gi&&(Ze=Ae?Tt:void 0);let ht=Ae?Ro(Ze,l):te===l?Ze:void 0;if(z&&!Iu(ht)&&(ht=Ro(P,l)),Iu(ht)&&(I=ht,b))return I;const Wt=n[d+1];d=b?Ll(Wt):Ql(Wt)}if(null!==i){let P=m?i.residualClasses:i.residualStyles;null!=P&&(I=Ro(P,l))}return I}function Iu(n){return void 0!==n}function jy(n,i){return 0!=(n.flags&(i?16:32))}function $y(n,i=""){const s=Gt(),l=bi(),d=n+20,m=l.firstCreatePass?hc(l,d,1,i,null):l.data[d],b=s[d]=function ih(n,i){return Fi(n)?n.createText(i):n.createTextNode(i)}(s[11],i);Yl(l,s,b,m),Hs(m,!1)}function Lp(n){return Wd("",n,""),Lp}function Wd(n,i,s){const l=Gt(),d=_c(l,n,i,s);return d!==gi&&eu(l,ns(),d),Wd}function au(n,i,s,l,d){const m=Gt(),b=Ec(m,n,i,s,l,d);return b!==gi&&eu(m,ns(),b),au}function kp(n,i,s,l,d,m,b){const I=Gt(),P=function iu(n,i,s,l,d,m,b,I){const z=Md(n,Os(),s,d,b);return Cs(3),z?i+ze(s)+l+ze(d)+m+ze(b)+I:gi}(I,n,i,s,l,d,m,b);return P!==gi&&eu(I,ns(),P),kp}function Gy(n,i,s){Ul(Yr,ea,_c(Gt(),n,i,s),!0)}function zy(n,i,s){const l=Gt();if(Ho(l,Ar(),i)){const m=bi(),b=Ji();rl(m,b,l,n,i,function Ah(n,i,s){return(null===n||Wr(n))&&(s=function ue(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[i.index])),s[11]}(Ko(m.data),b,l),s,!0)}return zy}const Zd=void 0;var lE=["en",[["a","p"],["AM","PM"],Zd],[["AM","PM"],Zd,Zd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zd,"{1} 'at' {0}",Zd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aE(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let zh={};function Wy(n){const i=function uE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=a_(i);if(s)return s;const l=i.split("-")[0];if(s=a_(l),s)return s;if("en"===l)return lE;throw new Error(`Missing locale data for the locale "${n}".`)}function o_(n){return Wy(n)[ci.PluralCase]}function a_(n){return n in zh||(zh[n]=we.ng&&we.ng.common&&we.ng.common.locales&&we.ng.common.locales[n]),zh[n]}var ci=(()=>((ci=ci||{})[ci.LocaleId=0]="LocaleId",ci[ci.DayPeriodsFormat=1]="DayPeriodsFormat",ci[ci.DayPeriodsStandalone=2]="DayPeriodsStandalone",ci[ci.DaysFormat=3]="DaysFormat",ci[ci.DaysStandalone=4]="DaysStandalone",ci[ci.MonthsFormat=5]="MonthsFormat",ci[ci.MonthsStandalone=6]="MonthsStandalone",ci[ci.Eras=7]="Eras",ci[ci.FirstDayOfWeek=8]="FirstDayOfWeek",ci[ci.WeekendRange=9]="WeekendRange",ci[ci.DateFormat=10]="DateFormat",ci[ci.TimeFormat=11]="TimeFormat",ci[ci.DateTimeFormat=12]="DateTimeFormat",ci[ci.NumberSymbols=13]="NumberSymbols",ci[ci.NumberFormats=14]="NumberFormats",ci[ci.CurrencyCode=15]="CurrencyCode",ci[ci.CurrencySymbol=16]="CurrencySymbol",ci[ci.CurrencyName=17]="CurrencyName",ci[ci.Currencies=18]="Currencies",ci[ci.Directionality=19]="Directionality",ci[ci.PluralCase=20]="PluralCase",ci[ci.ExtraData=21]="ExtraData",ci))();const _m="en-US";let l_=_m;function qy(n,i,s,l,d){if(n=De(n),Array.isArray(n))for(let m=0;m<n.length;m++)qy(n[m],i,s,l,d);else{const m=bi(),b=Gt();let I=$u(n)?n:De(n.provide),P=zf(n);const z=lr(),te=1048575&z.providerIndexes,Ae=z.directiveStart,Ze=z.providerIndexes>>20;if($u(n)||!n.multi){const ht=new Is(P,d,kd),Wt=Qy(I,i,d?te:te+Ze,Ae);-1===Wt?(Lt(k(z,b),m,I),Yy(m,n,i.length),i.push(I),z.directiveStart++,z.directiveEnd++,d&&(z.providerIndexes+=1048576),s.push(ht),b.push(ht)):(s[Wt]=ht,b[Wt]=ht)}else{const ht=Qy(I,i,te+Ze,Ae),Wt=Qy(I,i,te,te+Ze),mn=ht>=0&&s[ht],Dn=Wt>=0&&s[Wt];if(d&&!Dn||!d&&!mn){Lt(k(z,b),m,I);const Hn=function ab(n,i,s,l,d){const m=new Is(n,s,kd);return m.multi=[],m.index=i,m.componentProviders=0,P_(m,d,l&&!s),m}(d?ob:sb,s.length,d,l,P);!d&&Dn&&(s[Wt].providerFactory=Hn),Yy(m,n,i.length,0),i.push(I),z.directiveStart++,z.directiveEnd++,d&&(z.providerIndexes+=1048576),s.push(Hn),b.push(Hn)}else Yy(m,n,ht>-1?ht:Wt,P_(s[d?Wt:ht],P,!d&&l));!d&&l&&Dn&&s[Wt].componentProviders++}}}function Yy(n,i,s,l){const d=$u(i),m=function Wf(n){return!!n.useClass}(i);if(d||m){const P=(m?De(i.useClass):i).prototype.ngOnDestroy;if(P){const z=n.destroyHooks||(n.destroyHooks=[]);if(!d&&i.multi){const te=z.indexOf(s);-1===te?z.push(s,[l,P]):z[te+1].push(l,P)}else z.push(s,P)}}}function P_(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function Qy(n,i,s,l){for(let d=s;d<l;d++)if(i[d]===n)return d;return-1}function sb(n,i,s,l){return Jy(this.multi,[])}function ob(n,i,s,l){const d=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,I=go(s,s[1],this.providerFactory.index,l);m=I.slice(0,b),Jy(d,m);for(let P=b;P<I.length;P++)m.push(I[P])}else m=[],Jy(d,m);return m}function Jy(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function R_(n,i=[]){return s=>{s.providersResolver=(l,d)=>function rb(n,i,s){const l=bi();if(l.firstCreatePass){const d=Wr(n);qy(s,l.data,l.blueprint,d,!0),qy(i,l.data,l.blueprint,d,!1)}}(l,d?d(n):n,i)}}class N_{}class cb{resolveComponentFactory(i){throw function ub(n){const i=Error(`No component factory found for ${ce(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Tm=(()=>{class n{}return n.NULL=new cb,n})();function db(){return Zh(lr(),Gt())}function Zh(n,i){return new Hp($t(n,i))}let Hp=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=db,n})();function hb(n){return n instanceof Hp?n.nativeElement:n}class k_{}let fb=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function gb(){const n=Gt(),s=ti(lr().index,n);return function pb(n){return n[11]}(Xi(s)?s:n)}(),n})(),mb=(()=>{class n{}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:()=>null}),n})();class F_{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const V_=new F_("13.3.11"),Xy={};function Dm(n,i,s,l,d=!1){for(;null!==s;){const m=i[s.index];if(null!==m&&l.push(F(m)),Ir(m))for(let I=10;I<m.length;I++){const P=m[I],z=P[1].firstChild;null!==z&&Dm(P[1],P,z,l)}const b=s.type;if(8&b)Dm(n,i,s.child,l);else if(32&b){const I=Rc(s,i);let P;for(;P=I();)l.push(P)}else if(16&b){const I=cf(i,s);if(Array.isArray(I))l.push(...I);else{const P=il(i[16]);Dm(P[1],P,I,l,!0)}}s=d?s.projectionNext:s.next}return l}class jp{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return Dm(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Ir(i)){const s=i[8],l=s?s.indexOf(this):-1;l>-1&&(sh(i,l),Yo(s,l))}this._attachedToViewContainer=!1}Yp(this._lView[1],this._lView)}onDestroy(i){Uc(this._lView[1],this._lView,null,i)}markForCheck(){Bf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function wd(n,i,s){const l=i[10];l.begin&&l.begin();try{wu(n,i,n.template,s)}catch(d){throw gc(i,d),d}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new at(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vo(n,i){vu(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new at(902,"");this._appRef=i}}class yb extends jp{constructor(i){super(i),this._view=i}detectChanges(){bg(this._view)}checkNoChanges(){}get context(){return null}}class U_ extends Tm{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=xe(i);return new ev(s,this.ngModule)}}function B_(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class ev extends N_{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function cc(n){return n.map(rg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return B_(this.componentDef.inputs)}get outputs(){return B_(this.componentDef.outputs)}create(i,s,l,d){const m=(d=d||this.ngModule)?function _b(n,i){return{get:(s,l,d)=>{const m=n.get(s,Xy,d);return m!==Xy||l===Xy?m:i.get(s,l,d)}}}(i,d.injector):i,b=m.get(k_,V),I=m.get(mb,null),P=b.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",te=l?function yd(n,i,s){if(Fi(n))return n.selectRootElement(i,s===It.ShadowDom);let l="string"==typeof i?n.querySelector(i):i;return l.textContent="",l}(P,l,this.componentDef.encapsulation):rh(b.createRenderer(null,this.componentDef),z,function vb(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(z)),Ae=this.componentDef.onPush?576:528,Ze=function Rg(n,i){return{components:[],scheduler:n||Kl,clean:$f,playerHandler:i||null,flags:0}}(),ht=wh(0,null,null,1,0,null,null,null,null,null),Wt=Vc(null,ht,Ze,Ae,null,null,b,P,I,m);let mn,Dn;Ao(Wt);try{const Hn=function Pg(n,i,s,l,d,m){const b=s[1];s[20]=n;const P=hc(b,20,2,"#host",null),z=P.mergedAttrs=i.hostAttrs;null!==z&&(Tu(P,z,!0),null!==n&&(bl(d,n,z),null!==P.classes&&ad(d,n,P.classes),null!==P.styles&&tg(d,n,P.styles)));const te=l.createRenderer(n,i),Ae=Vc(s,Mf(i),null,i.onPush?64:16,s[20],P,l,te,m||null,null);return b.firstCreatePass&&(Lt(k(P,s),b,i.type),Jl(b,P),Th(P,s.length,1)),jc(s,Ae),s[20]=Ae}(te,this.componentDef,Wt,b,P);if(te)if(l)bl(P,te,["ng-version",V_.full]);else{const{attrs:sn,classes:si}=function Lm(n){const i=[],s=[];let l=1,d=2;for(;l<n.length;){let m=n[l];if("string"==typeof m)2===d?""!==m&&i.push(m,n[++l]):8===d&&s.push(m);else{if(!pl(d))break;d=m}l++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);sn&&bl(P,te,sn),si&&si.length>0&&ad(P,te,si.join(" "))}if(Dn=Gn(ht,20),void 0!==s){const sn=Dn.projection=[];for(let si=0;si<this.ngContentSelectors.length;si++){const ir=s[si];sn.push(null!=ir?Array.from(ir):null)}}mn=function Lh(n,i,s,l,d){const m=s[1],b=function Hc(n,i,s){const l=lr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),_g(n,l,i,Eu(n,i,1,null),s));const d=go(i,n,l.directiveStart,l);E(d,i);const m=$t(l,i);return m&&E(m,i),d}(m,s,i);if(l.components.push(b),n[8]=b,d&&d.forEach(P=>P(b,i)),i.contentQueries){const P=lr();i.contentQueries(1,b,P.directiveStart)}const I=lr();return!m.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(co(I.index),_d(s[1],I,0,I.directiveStart,I.directiveEnd,i),Ch(i,b)),b}(Hn,this.componentDef,Wt,Ze,[tp]),bu(ht,Wt,null)}finally{xo()}return new bb(this.componentType,mn,Zh(Dn,Wt),Wt,Dn)}}class bb extends class lb{}{constructor(i,s,l,d,m){super(),this.location=l,this._rootLView=d,this._tNode=m,this.instance=s,this.hostView=this.changeDetectorRef=new yb(d),this.componentType=i}get injector(){return new Pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Kh{}class H_{}const qh=new Map;class G_ extends Kh{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new U_(this);const l=Vt(i);this._bootstrapComponents=Kn(l.bootstrap),this._r3Injector=Gf(i,s,[{provide:Kh,useValue:this},{provide:Tm,useValue:this.componentFactoryResolver}],ce(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=tu.THROW_IF_NOT_FOUND,l=on.Default){return i===tu||i===Kh||i===$c?this:this._r3Injector.get(i,s,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class tv extends H_{constructor(i){super(),this.moduleType=i,null!==Vt(i)&&function Cb(n){const i=new Set;!function s(l){const d=Vt(l,!0),m=d.id;null!==m&&(function j_(n,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${n} - ${ce(i)} vs ${ce(i.name)}`)}(m,qh.get(m),l),qh.set(m,l));const b=Kn(d.imports);for(const I of b)i.has(I)||(i.add(I),s(I))}(n)}(i)}create(i){return new G_(this.moduleType,i)}}function z_(n,i,s){const l=Mr()+n,d=Gt();return d[l]===gi?gl(d,l,s?i.call(s):i()):function yc(n,i){return n[i]}(d,l)}function W_(n,i,s,l){return q_(Gt(),Mr(),n,i,s,l)}function Z_(n,i,s,l,d){return function Y_(n,i,s,l,d,m,b){const I=i+s;return zu(n,I,d,m)?gl(n,I+2,b?l.call(b,d,m):l(d,m)):$p(n,I+2)}(Gt(),Mr(),n,i,s,l,d)}function K_(n,i,s,l,d,m){return function Q_(n,i,s,l,d,m,b,I){const P=i+s;return Md(n,P,d,m,b)?gl(n,P+3,I?l.call(I,d,m,b):l(d,m,b)):$p(n,P+3)}(Gt(),Mr(),n,i,s,l,d,m)}function $p(n,i){const s=n[i];return s===gi?void 0:s}function q_(n,i,s,l,d,m){const b=i+s;return Ho(n,b,d)?gl(n,b+1,m?l.call(m,d):l(d)):$p(n,b+1)}function e0(n,i){const s=bi();let l;const d=n+20;s.firstCreatePass?(l=function Ob(n,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(n===l.name)return l}}(i,s.pipeRegistry),s.data[d]=l,l.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(d,l.onDestroy)):l=s.data[d];const m=l.factory||(l.factory=Jn(l.type)),b=rn(kd);try{const I=Zi(!1),P=m();return Zi(I),function _y(n,i,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=l}(s,Gt(),d,P),P}finally{rn(b)}}function t0(n,i,s){const l=n+20,d=Gt(),m=yi(d,l);return function Gp(n,i){return n[1].data[i].pure}(d,l)?q_(d,Mr(),i,m.transform,s,m):m.transform(s)}function nv(n){return i=>{setTimeout(n,void 0,i)}}const Zu=class Lb extends f.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){var d,m,b;let I=i,P=s||(()=>null),z=l;if(i&&"object"==typeof i){const Ae=i;I=null===(d=Ae.next)||void 0===d?void 0:d.bind(Ae),P=null===(m=Ae.error)||void 0===m?void 0:m.bind(Ae),z=null===(b=Ae.complete)||void 0===b?void 0:b.bind(Ae)}this.__isAsync&&(P=nv(P),I&&(I=nv(I)),z&&(z=nv(z)));const te=super.subscribe({next:I,error:P,complete:z});return i instanceof h.w0&&i.add(te),te}};function kb(){return this._results[Gu()]()}class iv{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Gu(),l=iv.prototype;l[s]||(l[s]=kb)}get changes(){return this._changes||(this._changes=new Zu)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const d=Ur(i);(this._changesDetected=!function br(n,i,s){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let d=n[l],m=i[l];if(s&&(d=s(d),m=s(m)),m!==d)return!1}return!0}(l._results,d,s))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let zp=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ub,n})();const Fb=zp,Vb=class extends Fb{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(i){const s=this._declarationTContainer.tViews,l=Vc(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(l[19]=m.createEmbeddedView(s)),bu(s,l,i),new jp(l)}};function Ub(){return Im(lr(),Gt())}function Im(n,i){return 4&n.type?new Vb(i,n,Zh(n,i)):null}let Am=(()=>{class n{}return n.__NG_ELEMENT_ID__=Bb,n})();function Bb(){return s0(lr(),Gt())}const Hb=Am,n0=class extends Hb{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return Zh(this._hostTNode,this._hostLView)}get injector(){return new Pr(this._hostTNode,this._hostLView)}get parentInjector(){const i=je(this._hostTNode,this._hostLView);if(Va(i)){const s=ps(i,this._hostLView),l=Gi(i);return new Pr(s[1].data[l+8],s)}return new Pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=r0(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,l){const d=i.createEmbeddedView(s||{});return this.insert(d,l),d}createComponent(i,s,l,d,m){const b=i&&!function $a(n){return"function"==typeof n}(i);let I;if(b)I=s;else{const Ae=s||{};I=Ae.index,l=Ae.injector,d=Ae.projectableNodes,m=Ae.ngModuleRef}const P=b?i:new ev(xe(i)),z=l||this.parentInjector;if(!m&&null==P.ngModule){const Ze=(b?z:this.parentInjector).get(Kh,null);Ze&&(m=Ze)}const te=P.create(z,d,void 0,m);return this.insert(te.hostView,I),te}insert(i,s){const l=i._lView,d=l[1];if(function Hi(n){return Ir(n[3])}(l)){const te=this.indexOf(i);if(-1!==te)this.detach(te);else{const Ae=l[3],Ze=new n0(Ae,Ae[6],Ae[3]);Ze.detach(Ze.indexOf(i))}}const m=this._adjustIndex(s),b=this._lContainer;!function rf(n,i,s,l){const d=10+l,m=s.length;l>0&&(s[d-1][4]=i),l<m-10?(i[4]=s[d],uu(s,10+l,i)):(s.push(i),i[4]=null),i[3]=s;const b=i[17];null!==b&&s!==b&&function sf(n,i){const s=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===s?n[9]=[i]:s.push(i)}(b,i);const I=i[19];null!==I&&I.insertView(n),i[2]|=128}(d,l,b,m);const I=df(m,b),P=l[11],z=od(P,b[7]);return null!==z&&function tf(n,i,s,l,d,m){l[0]=d,l[6]=i,vu(n,l,s,1,d,m)}(d,b[6],P,l,z,I),i.attachToViewContainerRef(),uu(rv(b),m,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=r0(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=sh(this._lContainer,s);l&&(Yo(rv(this._lContainer),s),Yp(l[1],l))}detach(i){const s=this._adjustIndex(i,-1),l=sh(this._lContainer,s);return l&&null!=Yo(rv(this._lContainer),s)?new jp(l):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function r0(n){return n[8]}function rv(n){return n[8]||(n[8]=[])}function s0(n,i){let s;const l=i[n.index];if(Ir(l))s=l;else{let d;if(8&n.type)d=F(l);else{const m=i[11];d=m.createComment("");const b=$t(n,i);Nl(m,od(m,b),d,function Qp(n,i){return Fi(n)?n.nextSibling(i):i.nextSibling}(m,b),!1)}i[n.index]=s=fc(l,i,d,n),jc(i,s)}return new n0(s,n,i)}class sv{constructor(i){this.queryList=i,this.matches=null}clone(){return new sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class ov{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,d=[];for(let m=0;m<l;m++){const b=s.getByIndex(m);d.push(this.queries[b.indexInDeclarationView].clone())}return new ov(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==p0(i,s).matches&&this.queries[s].setDirty()}}class o0{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class av{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const d=null!==s?s.length:0,m=this.getByIndex(l).embeddedTView(i,d);m&&(m.indexInDeclarationView=l,null!==s?s.push(m):s=[m])}return null!==s?new av(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class lv{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new lv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const m=l[d];this.matchTNodeWithReadOption(i,s,Gb(s,m)),this.matchTNodeWithReadOption(i,s,Oo(s,i,m,!1,!1))}else l===zp?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Oo(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Hp||d===Am||d===zp&&4&s.type)this.addMatch(s.index,-2);else{const m=Oo(s,i,d,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function Gb(n,i){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function Wb(n,i,s,l){return-1===s?function zb(n,i){return 11&n.type?Zh(n,i):4&n.type?Im(n,i):null}(i,n):-2===s?function Zb(n,i,s){return s===Hp?Zh(i,n):s===zp?Im(i,n):s===Am?s0(i,n):void 0}(n,i,l):go(n,n[1],s,i)}function a0(n,i,s,l){const d=i[19].queries[l];if(null===d.matches){const m=n.data,b=s.matches,I=[];for(let P=0;P<b.length;P+=2){const z=b[P];I.push(z<0?null:Wb(i,m[z],b[P+1],s.metadata.read))}d.matches=I}return d.matches}function uv(n,i,s,l){const d=n.queries.getByIndex(s),m=d.matches;if(null!==m){const b=a0(n,i,d,s);for(let I=0;I<m.length;I+=2){const P=m[I];if(P>0)l.push(b[I/2]);else{const z=m[I+1],te=i[-P];for(let Ae=10;Ae<te.length;Ae++){const Ze=te[Ae];Ze[17]===Ze[3]&&uv(Ze[1],Ze,z,l)}if(null!==te[9]){const Ae=te[9];for(let Ze=0;Ze<Ae.length;Ze++){const ht=Ae[Ze];uv(ht[1],ht,z,l)}}}}}return l}function l0(n){const i=Gt(),s=bi(),l=Do();La(l+1);const d=p0(s,l);if(n.dirty&&di(i)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const m=d.crossesNgTemplate?uv(s,i,l,[]):a0(s,i,d,l);n.reset(m,hb),n.notifyOnChanges()}return!0}return!1}function u0(n,i,s){const l=bi();l.firstCreatePass&&(f0(l,new o0(n,i,s),-1),2==(2&i)&&(l.staticViewQueries=!0)),h0(l,Gt(),i)}function c0(n,i,s,l){const d=bi();if(d.firstCreatePass){const m=lr();f0(d,new o0(i,s,l),m.index),function qb(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}h0(d,Gt(),s)}function d0(){return function Kb(n,i){return n[19].queries[i].queryList}(Gt(),Do())}function h0(n,i,s){const l=new iv(4==(4&s));Uc(n,i,l,l.destroy),null===i[19]&&(i[19]=new ov),i[19].queries.push(new sv(l))}function f0(n,i,s){null===n.queries&&(n.queries=new av),n.queries.track(new lv(i,s))}function p0(n,i){return n.queries.getByIndex(i)}function g0(n,i){return Im(n,i)}const hw=Ha("HostBinding",n=>({hostPropertyName:n})),fw=Ha("HostListener",(n,i)=>({eventName:n,args:i}));function Om(...n){}const P0=new Er("Application Initializer");let gv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Om,this.reject=Om,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const m=this.appInits[d]();if(Kc(m))s.push(m);else if(Ep(m)){const b=new Promise((I,P)=>{m.subscribe({complete:I,error:P})});s.push(b)}}Promise.all(s).then(()=>{l()}).catch(d=>{this.reject(d)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(dn(P0,8))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const R0=new Er("AppId",{providedIn:"root",factory:function N0(){return`${mv()}${mv()}${mv()}`}});function mv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const L0=new Er("Platform Initializer"),pw=new Er("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),k0=new Er("appBootstrapListener");let gw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const yv=new Er("LocaleId",{providedIn:"root",factory:()=>ai(yv,on.Optional|on.SkipSelf)||function mw(){return"undefined"!=typeof $localize&&$localize.locale||_m}()}),yw=new Er("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vw{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let _w=(()=>{class n{compileModuleSync(s){return new tv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),m=Kn(Vt(s).declarations).reduce((b,I)=>{const P=xe(I);return P&&b.push(new ev(P)),b},[]);return new vw(l,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bw=(()=>Promise.resolve(0))();function vv(n){"undefined"==typeof Zone?bw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Au{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zu(!1),this.onMicrotaskEmpty=new Zu(!1),this.onStable=new Zu(!1),this.onError=new Zu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&s,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function ww(){let n=we.requestAnimationFrame,i=we.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Dw(n){const i=()=>{!function Tw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(we,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ev(n),n.isCheckStableRunning=!0,_v(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ev(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,d,m,b,I)=>{try{return F0(n),s.invokeTask(d,m,b,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||n.shouldCoalesceRunChangeDetection)&&i(),V0(n)}},onInvoke:(s,l,d,m,b,I,P)=>{try{return F0(n),s.invoke(d,m,b,I,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),V0(n)}},onHasTask:(s,l,d,m)=>{s.hasTask(d,m),l===d&&("microTask"==m.change?(n._hasPendingMicrotasks=m.microTask,Ev(n),_v(n)):"macroTask"==m.change&&(n.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,l,d,m)=>(s.handleError(d,m),n.runOutsideAngular(()=>n.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Au.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Au.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,d){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+d,i,Cw,Om,Om);try{return m.runTask(b,s,l)}finally{m.cancelTask(b)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const Cw={};function _v(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ev(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function F0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function V0(n){n._nesting--,_v(n)}class Iw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zu,this.onMicrotaskEmpty=new Zu,this.onStable=new Zu,this.onError=new Zu}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,d){return i.apply(s,l)}}let U0=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Au.assertNotInAngularZone(),vv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,d){let m=-1;l&&l>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:d})}whenStable(s,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,l,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(dn(Au))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac}),n})(),Aw=(()=>{class n{constructor(){this._applications=new Map,bv.addToWindow(this)}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return bv.findTestabilityInTree(this,s,l)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class Sw{addToWindow(i){}findTestabilityInTree(i,s,l){return null}}function xw(n){bv=n}let bv=new Sw,Kd=null;const B0=new Er("AllowMultipleToken"),H0=new Er("PlatformOnDestroy");class Pw{constructor(i,s){this.name=i,this.token=s}}function j0(n,i,s=[]){const l=`Platform: ${i}`,d=new Er(l);return(m=[])=>{let b=wv();if(!b||b.injector.get(B0,!1)){const I=[...s,...m,{provide:d,useValue:!0}];n?n(I):function Rw(n){if(Kd&&!Kd.get(B0,!1))throw new at(400,"");Kd=n;const i=n.get($0),s=n.get(L0,null);s&&s.forEach(l=>l())}(function Lw(n=[],i){return tu.create({name:i,providers:[{provide:Td,useValue:"platform"},{provide:H0,useValue:()=>Kd=null},...n]})}(I,l))}return function Nw(n){const i=wv();if(!i)throw new at(401,"");return i}()}}function wv(){var n;return null!==(n=null==Kd?void 0:Kd.get($0))&&void 0!==n?n:null}let $0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const I=function kw(n,i){let s;return s="noop"===n?new Iw:("zone.js"===n?void 0:n)||new Au({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),P=[{provide:Au,useValue:I}];return I.run(()=>{const z=tu.create({providers:P,parent:this.injector,name:s.moduleType.name}),te=s.create(z),Ae=te.injector.get(Jr,null);if(!Ae)throw new at(402,"");return I.runOutsideAngular(()=>{const Ze=I.onError.subscribe({next:ht=>{Ae.handleError(ht)}});te.onDestroy(()=>{Tv(this._modules,te),Ze.unsubscribe()})}),function Fw(n,i,s){try{const l=s();return Kc(l)?l.catch(d=>{throw i.runOutsideAngular(()=>n.handleError(d)),d}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(Ae,I,()=>{const Ze=te.injector.get(gv);return Ze.runInitializers(),Ze.donePromise.then(()=>(function fE(n){mt(n,"Expected localeId to be defined"),"string"==typeof n&&(l_=n.toLowerCase().replace(/_/g,"-"))}(te.injector.get(yv,_m)||_m),this._moduleDoBootstrap(te),te))})})}bootstrapModule(s,l=[]){const d=G0({},l);return function Ow(n,i,s){const l=new tv(s);return Promise.resolve(l)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(s){const l=s.injector.get(Cv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new at(403,"");s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new at(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(H0,null);null==s||s(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(dn(tu))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function G0(n,i){return Array.isArray(i)?i.reduce(G0,n):Object.assign(Object.assign({},n),i)}let Cv=(()=>{class n{constructor(s,l,d,m){this._zone=s,this._injector=l,this._exceptionHandler=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new G.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),I=new G.y(P=>{let z;this._zone.runOutsideAngular(()=>{z=this._zone.onStable.subscribe(()=>{Au.assertNotInAngularZone(),vv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const te=this._zone.onUnstable.subscribe(()=>{Au.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{z.unsubscribe(),te.unsubscribe()}});this.isStable=(0,Ce.T)(b,I.pipe((0,ve.B)()))}bootstrap(s,l){if(!this._initStatus.done)throw new at(405,"");let d;d=s instanceof N_?s:this._injector.get(Tm).resolveComponentFactory(s),this.componentTypes.push(d.componentType);const m=function Mw(n){return n.isBoundToModule}(d)?void 0:this._injector.get(Kh),I=d.create(tu.NULL,[],l||d.selector,m),P=I.location.nativeElement,z=I.injector.get(U0,null),te=z&&I.injector.get(Aw);return z&&te&&te.registerApplication(P,z),I.onDestroy(()=>{this.detachView(I.hostView),Tv(this.components,I),te&&te.unregisterApplication(P)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new at(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Tv(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(k0,[]).concat(this._bootstrapListeners).forEach(d=>d(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(dn(Au),dn(tu),dn(Jr),dn(gv))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tv(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}let W0=!0,Z0=!1;function Uw(){return Z0=!0,W0}function Bw(){if(Z0)throw new Error("Cannot enable prod mode after platform setup.");W0=!1}let Hw=(()=>{class n{}return n.__NG_ELEMENT_ID__=jw,n})();function jw(n){return function $w(n,i,s){if(zr(n)&&!s){const l=ti(n.index,i);return new jp(l,l)}return 47&n.type?new jp(i[16],i):null}(lr(),Gt(),16==(16&n))}class Q0{constructor(){}supports(i){return Od(i)}create(i){return new qw(i)}}const Kw=(n,i)=>i;class qw{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Kw}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,d=0,m=null;for(;s||l;){const b=!l||s&&s.currentIndex<X0(l,d,m)?s:l,I=X0(b,d,m),P=b.currentIndex;if(b===l)d--,l=l._nextRemoved;else if(s=s._next,null==b.previousIndex)d++;else{m||(m=[]);const z=I-d,te=P-d;if(z!=te){for(let Ze=0;Ze<z;Ze++){const ht=Ze<m.length?m[Ze]:m[Ze]=0,Wt=ht+Ze;te<=Wt&&Wt<z&&(m[Ze]=ht+1)}m[b.previousIndex]=te-z}}I!==P&&i(b,I,P)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Od(i))throw new at(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,m,b,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let I=0;I<this.length;I++)m=i[I],b=this._trackByFn(I,m),null!==s&&Object.is(s.trackById,b)?(l&&(s=this._verifyReinsertion(s,m,b,I)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,b,I),l=!0),s=s._next}else d=0,function kg(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Gu()]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,I=>{b=this._trackByFn(d,I),null!==s&&Object.is(s.trackById,b)?(l&&(s=this._verifyReinsertion(s,I,b,d)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,b,d),l=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,d){let m;return null===i?m=this._itTail:(m=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,m,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,m,d)):i=this._addAfter(new Yw(s,l),m,d),i}_verifyReinsertion(i,s,l,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==m?i=this._reinsertAfter(m,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,m=i._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const d=null===s?this._itHead:s._next;return i._next=d,i._prev=s,null===d?this._itTail=i:d._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new J0),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new J0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Yw{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class J0{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new Qw,this.map.set(s,l)),l.add(i)}get(i,s){const d=this.map.get(i);return d?d.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function X0(n,i,s){const l=n.previousIndex;if(null===l)return l;let d=0;return s&&l<s.length&&(d=s[l]),l+i+d}class eE{constructor(){}supports(i){return i instanceof Map||ap(i)}create(){return new Jw}}class Jw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||ap(i)))throw new at(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(d,l);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,s);const m=d._prev,b=d._next;return m&&(m._next=b),b&&(b._prev=m),d._next=null,d._prev=null,d}const l=new Xw(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class Xw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tE(){return new xv([new Q0])}let xv=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const d=l.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||tE()),deps:[[n,new Ta,new ks]]}}find(s){const l=this.factories.find(d=>d.supports(s));if(null!=l)return l;throw new at(901,"")}}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:tE}),n})();function nE(){return new Ov([new eE])}let Ov=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const d=l.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||nE()),deps:[[n,new Ta,new ks]]}}find(s){const l=this.factories.find(m=>m.supports(s));if(l)return l;throw new at(901,"")}}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:nE}),n})();const nC=j0(null,"core",[]);let iC=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(dn(Cv))},n.\u0275mod=ye({type:n}),n.\u0275inj=yn({}),n})()},3075:(Qt,We,x)=>{x.d(We,{Cf:()=>ze,EJ:()=>Jn,Fj:()=>Ve,JJ:()=>on,JL:()=>ki,JU:()=>ce,Kr:()=>ta,NI:()=>Ln,On:()=>zr,UX:()=>di,Wl:()=>J,YN:()=>Es,_:()=>ot,_Y:()=>os,a5:()=>li,cw:()=>Oi,kI:()=>gt,oH:()=>En,qu:()=>Hi,sg:()=>qi,u:()=>fr,u5:()=>ti});var f=x(5e3),h=x(9808),G=x(8996),Ce=x(4128),ve=x(4004);let Ne=(()=>{class H{constructor(M,re){this._renderer=M,this._elementRef=re,this.onChange=Pt=>{},this.onTouched=()=>{}}setProperty(M,re){this._renderer.setProperty(this._elementRef.nativeElement,M,re)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return H.\u0275fac=function(M){return new(M||H)(f.Y36(f.Qsj),f.Y36(f.SBq))},H.\u0275dir=f.lG2({type:H}),H})(),Ee=(()=>{class H extends Ne{}return H.\u0275fac=function(){let N;return function(re){return(N||(N=f.n5z(H)))(re||H)}}(),H.\u0275dir=f.lG2({type:H,features:[f.qOj]}),H})();const ce=new f.OlP("NgValueAccessor"),Q={provide:ce,useExisting:(0,f.Gpc)(()=>J),multi:!0};let J=(()=>{class H extends Ee{writeValue(M){this.setProperty("checked",M)}}return H.\u0275fac=function(){let N;return function(re){return(N||(N=f.n5z(H)))(re||H)}}(),H.\u0275dir=f.lG2({type:H,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(M,re){1&M&&f.NdJ("change",function(Sn){return re.onChange(Sn.target.checked)})("blur",function(){return re.onTouched()})},features:[f._Bn([Q]),f.qOj]}),H})();const le={provide:ce,useExisting:(0,f.Gpc)(()=>Ve),multi:!0},lt=new f.OlP("CompositionEventMode");let Ve=(()=>{class H extends Ne{constructor(M,re,Pt){super(M,re),this._compositionMode=Pt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function De(){const H=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(M){this.setProperty("value",null==M?"":M)}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return H.\u0275fac=function(M){return new(M||H)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(lt,8))},H.\u0275dir=f.lG2({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,re){1&M&&f.NdJ("input",function(Sn){return re._handleInput(Sn.target.value)})("blur",function(){return re.onTouched()})("compositionstart",function(){return re._compositionStart()})("compositionend",function(Sn){return re._compositionEnd(Sn.target.value)})},features:[f._Bn([le]),f.qOj]}),H})();function at(H){return null==H||0===H.length}function ut(H){return null!=H&&"number"==typeof H.length}const ze=new f.OlP("NgValidators"),ct=new f.OlP("NgAsyncValidators"),Be=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gt{static min(N){return function ge(H){return N=>{if(at(N.value)||at(H))return null;const M=parseFloat(N.value);return!isNaN(M)&&M<H?{min:{min:H,actual:N.value}}:null}}(N)}static max(N){return function be(H){return N=>{if(at(N.value)||at(H))return null;const M=parseFloat(N.value);return!isNaN(M)&&M>H?{max:{max:H,actual:N.value}}:null}}(N)}static required(N){return function Qe(H){return at(H.value)?{required:!0}:null}(N)}static requiredTrue(N){return function bt(H){return!0===H.value?null:{required:!0}}(N)}static email(N){return function K(H){return at(H.value)||Be.test(H.value)?null:{email:!0}}(N)}static minLength(N){return function Je(H){return N=>at(N.value)||!ut(N.value)?null:N.value.length<H?{minlength:{requiredLength:H,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function nt(H){return N=>ut(N.value)&&N.value.length>H?{maxlength:{requiredLength:H,actualLength:N.value.length}}:null}(N)}static pattern(N){return function ke(H){if(!H)return Ue;let N,M;return"string"==typeof H?(M="","^"!==H.charAt(0)&&(M+="^"),M+=H,"$"!==H.charAt(H.length-1)&&(M+="$"),N=new RegExp(M)):(M=H.toString(),N=H),re=>{if(at(re.value))return null;const Pt=re.value;return N.test(Pt)?null:{pattern:{requiredPattern:M,actualValue:Pt}}}}(N)}static nullValidator(N){return null}static compose(N){return mt(N)}static composeAsync(N){return Se(N)}}function Ue(H){return null}function et(H){return null!=H}function it(H){const N=(0,f.QGY)(H)?(0,G.D)(H):H;return(0,f.CqO)(N),N}function st(H){let N={};return H.forEach(M=>{N=null!=M?Object.assign(Object.assign({},N),M):N}),0===Object.keys(N).length?null:N}function xt(H,N){return N.map(M=>M(H))}function ft(H){return H.map(N=>function tn(H){return!H.validate}(N)?N:M=>N.validate(M))}function mt(H){if(!H)return null;const N=H.filter(et);return 0==N.length?null:function(M){return st(xt(M,N))}}function q(H){return null!=H?mt(ft(H)):null}function Se(H){if(!H)return null;const N=H.filter(et);return 0==N.length?null:function(M){const re=xt(M,N).map(it);return(0,Ce.D)(re).pipe((0,ve.U)(st))}}function qe(H){return null!=H?Se(ft(H)):null}function Rt(H,N){return null===H?[N]:Array.isArray(H)?[...H,N]:[H,N]}function Ht(H){return H._rawValidators}function nn(H){return H._rawAsyncValidators}function yn(H){return H?Array.isArray(H)?H:[H]:[]}function xn(H,N){return Array.isArray(H)?H.includes(N):H===N}function Vn(H,N){const M=yn(N);return yn(H).forEach(Pt=>{xn(M,Pt)||M.push(Pt)}),M}function Xn(H,N){return yn(N).filter(M=>!xn(H,M))}class jn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=q(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,M){return!!this.control&&this.control.hasError(N,M)}getError(N,M){return this.control?this.control.getError(N,M):null}}class li extends jn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qn extends jn{get formDirective(){return null}get path(){return null}}class Si{constructor(N){this._cd=N}is(N){var M,re,Pt;return"submitted"===N?!!(null===(M=this._cd)||void 0===M?void 0:M.submitted):!!(null===(Pt=null===(re=this._cd)||void 0===re?void 0:re.control)||void 0===Pt?void 0:Pt[N])}}let on=(()=>{class H extends Si{constructor(M){super(M)}}return H.\u0275fac=function(M){return new(M||H)(f.Y36(li,2))},H.\u0275dir=f.lG2({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,re){2&M&&f.ekj("ng-untouched",re.is("untouched"))("ng-touched",re.is("touched"))("ng-pristine",re.is("pristine"))("ng-dirty",re.is("dirty"))("ng-valid",re.is("valid"))("ng-invalid",re.is("invalid"))("ng-pending",re.is("pending"))},features:[f.qOj]}),H})(),ki=(()=>{class H extends Si{constructor(M){super(M)}}return H.\u0275fac=function(M){return new(M||H)(f.Y36(Qn,10))},H.\u0275dir=f.lG2({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,re){2&M&&f.ekj("ng-untouched",re.is("untouched"))("ng-touched",re.is("touched"))("ng-pristine",re.is("pristine"))("ng-dirty",re.is("dirty"))("ng-valid",re.is("valid"))("ng-invalid",re.is("invalid"))("ng-pending",re.is("pending"))("ng-submitted",re.is("submitted"))},features:[f.qOj]}),H})();function Mt(H,N){return[...N.path,H]}function Tt(H,N){W(H,N),N.valueAccessor.writeValue(H.value),function _e(H,N){N.valueAccessor.registerOnChange(M=>{H._pendingValue=M,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&vt(H,N)})}(H,N),function Ft(H,N){const M=(re,Pt)=>{N.valueAccessor.writeValue(re),Pt&&N.viewToModelUpdate(re)};H.registerOnChange(M),N._registerOnDestroy(()=>{H._unregisterOnChange(M)})}(H,N),function Le(H,N){N.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&vt(H,N),"submit"!==H.updateOn&&H.markAsTouched()})}(H,N),function pn(H,N){if(N.valueAccessor.setDisabledState){const M=re=>{N.valueAccessor.setDisabledState(re)};H.registerOnDisabledChange(M),N._registerOnDestroy(()=>{H._unregisterOnDisabledChange(M)})}}(H,N)}function _n(H,N,M=!0){const re=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(re),N.valueAccessor.registerOnTouched(re)),he(H,N),H&&(N._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function fn(H,N){H.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(N)})}function W(H,N){const M=Ht(H);null!==N.validator?H.setValidators(Rt(M,N.validator)):"function"==typeof M&&H.setValidators([M]);const re=nn(H);null!==N.asyncValidator?H.setAsyncValidators(Rt(re,N.asyncValidator)):"function"==typeof re&&H.setAsyncValidators([re]);const Pt=()=>H.updateValueAndValidity();fn(N._rawValidators,Pt),fn(N._rawAsyncValidators,Pt)}function he(H,N){let M=!1;if(null!==H){if(null!==N.validator){const Pt=Ht(H);if(Array.isArray(Pt)&&Pt.length>0){const Sn=Pt.filter(Li=>Li!==N.validator);Sn.length!==Pt.length&&(M=!0,H.setValidators(Sn))}}if(null!==N.asyncValidator){const Pt=nn(H);if(Array.isArray(Pt)&&Pt.length>0){const Sn=Pt.filter(Li=>Li!==N.asyncValidator);Sn.length!==Pt.length&&(M=!0,H.setAsyncValidators(Sn))}}}const re=()=>{};return fn(N._rawValidators,re),fn(N._rawAsyncValidators,re),M}function vt(H,N){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function ee(H,N){if(!H.hasOwnProperty("model"))return!1;const M=H.model;return!!M.isFirstChange()||!Object.is(N,M.currentValue)}function tt(H,N){if(!N)return null;let M,re,Pt;return Array.isArray(N),N.forEach(Sn=>{Sn.constructor===Ve?M=Sn:function ne(H){return Object.getPrototypeOf(H.constructor)===Ee}(Sn)?re=Sn:Pt=Sn}),Pt||re||M||null}function kt(H,N){const M=H.indexOf(N);M>-1&&H.splice(M,1)}const vn="VALID",Cn="INVALID",_i="PENDING",Ti="DISABLED";function Cr(H){return(mi(H)?H.validators:H)||null}function xi(H){return Array.isArray(H)?q(H):H||null}function qt(H,N){return(mi(N)?N.asyncValidators:H)||null}function Yn(H){return Array.isArray(H)?qe(H):H||null}function mi(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}const zi=H=>H instanceof Ln,vr=H=>H instanceof Oi,Wi=H=>H instanceof Bi;function or(H){return zi(H)?H.value:H.getRawValue()}function oi(H,N){const M=vr(H),re=H.controls;if(!(M?Object.keys(re):re).length)throw new f.vHH(1e3,"");if(!re[N])throw new f.vHH(1001,"")}function Tr(H,N){vr(H),H._forEachChild((re,Pt)=>{if(void 0===N[Pt])throw new f.vHH(1002,"")})}class Ii{constructor(N,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=N,this._rawAsyncValidators=M,this._composedValidatorFn=xi(this._rawValidators),this._composedAsyncValidatorFn=Yn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===vn}get invalid(){return this.status===Cn}get pending(){return this.status==_i}get disabled(){return this.status===Ti}get enabled(){return this.status!==Ti}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._rawValidators=N,this._composedValidatorFn=xi(N)}setAsyncValidators(N){this._rawAsyncValidators=N,this._composedAsyncValidatorFn=Yn(N)}addValidators(N){this.setValidators(Vn(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(Vn(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(Xn(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(Xn(N,this._rawAsyncValidators))}hasValidator(N){return xn(this._rawValidators,N)}hasAsyncValidator(N){return xn(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=_i,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const M=this._parentMarkedDirty(N.onlySelf);this.status=Ti,this.errors=null,this._forEachChild(re=>{re.disable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:M})),this._onDisabledChange.forEach(re=>re(!0))}enable(N={}){const M=this._parentMarkedDirty(N.onlySelf);this.status=vn,this._forEachChild(re=>{re.enable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:M})),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vn||this.status===_i)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ti:vn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=_i,this._hasOwnPendingAsyncValidator=!0;const M=it(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(re,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,M={}){this.errors=N,this._updateControlsErrors(!1!==M.emitEvent)}get(N){return function Di(H,N,M){if(null==N||(Array.isArray(N)||(N=N.split(M)),Array.isArray(N)&&0===N.length))return null;let re=H;return N.forEach(Pt=>{re=vr(re)?re.controls.hasOwnProperty(Pt)?re.controls[Pt]:null:Wi(re)&&re.at(Pt)||null}),re}(this,N,".")}getError(N,M){const re=M?this.get(M):this;return re&&re.errors?re.errors[N]:null}hasError(N,M){return!!this.getError(N,M)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Ti:this.errors?Cn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_i)?_i:this._anyControlsHaveStatus(Cn)?Cn:vn}_anyControlsHaveStatus(N){return this._anyControls(M=>M.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_isBoxedValue(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){mi(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ln extends Ii{constructor(N=null,M,re){super(Cr(M),qt(re,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mi(M)&&M.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(N)?N.value:N)}setValue(N,M={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(N,M={}){this.setValue(N,M)}reset(N=this.defaultValue,M={}){this._applyFormState(N),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){kt(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){kt(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){this._isBoxedValue(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}}class Oi extends Ii{constructor(N,M,re){super(Cr(M),qt(re,M)),this.controls=N,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,M){return this.controls[N]?this.controls[N]:(this.controls[N]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(N,M,re={}){this.registerControl(N,M),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(N,M={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(N,M,re={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],M&&this.registerControl(N,M),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,M={}){Tr(this,N),Object.keys(N).forEach(re=>{oi(this,re),this.controls[re].setValue(N[re],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(N,M={}){null!=N&&(Object.keys(N).forEach(re=>{this.controls[re]&&this.controls[re].patchValue(N[re],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(N={},M={}){this._forEachChild((re,Pt)=>{re.reset(N[Pt],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(N,M,re)=>(N[re]=or(M),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(M,re)=>!!re._syncPendingControls()||M);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(M=>{const re=this.controls[M];re&&N(re,M)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const M of Object.keys(this.controls)){const re=this.controls[M];if(this.contains(M)&&N(re))return!0}return!1}_reduceValue(){return this._reduceChildren({},(N,M,re)=>((M.enabled||this.disabled)&&(N[re]=M.value),N))}_reduceChildren(N,M){let re=N;return this._forEachChild((Pt,Sn)=>{re=M(re,Pt,Sn)}),re}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Bi extends Ii{constructor(N,M,re){super(Cr(M),qt(re,M)),this.controls=N,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[N]}push(N,M={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(N,M,re={}){this.controls.splice(N,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:re.emitEvent})}removeAt(N,M={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(N,M,re={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),M&&(this.controls.splice(N,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,M={}){Tr(this,N),N.forEach((re,Pt)=>{oi(this,Pt),this.at(Pt).setValue(re,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(N,M={}){null!=N&&(N.forEach((re,Pt)=>{this.at(Pt)&&this.at(Pt).patchValue(re,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(N=[],M={}){this._forEachChild((re,Pt)=>{re.reset(N[Pt],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(N=>or(N))}clear(N={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_syncPendingControls(){let N=this.controls.reduce((M,re)=>!!re._syncPendingControls()||M,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){this.controls.forEach((M,re)=>{N(M,re)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(M=>M.enabled&&N(M))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}}const Ir={provide:li,useExisting:(0,f.Gpc)(()=>zr)},Gr=(()=>Promise.resolve(null))();let zr=(()=>{class H extends li{constructor(M,re,Pt,Sn,Li){super(),this._changeDetectorRef=Li,this.control=new Ln,this._registered=!1,this.update=new f.vpe,this._parent=M,this._setValidators(re),this._setAsyncValidators(Pt),this.valueAccessor=tt(0,Sn)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const re=M.name.previousValue;this.formDirective.removeControl({name:re,path:this._getPath(re)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),ee(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){Gr.then(()=>{var re;this.control.setValue(M,{emitViewToModelChange:!1}),null===(re=this._changeDetectorRef)||void 0===re||re.markForCheck()})}_updateDisabled(M){const re=M.isDisabled.currentValue,Pt=""===re||re&&"false"!==re;Gr.then(()=>{var Sn;Pt&&!this.control.disabled?this.control.disable():!Pt&&this.control.disabled&&this.control.enable(),null===(Sn=this._changeDetectorRef)||void 0===Sn||Sn.markForCheck()})}_getPath(M){return this._parent?Mt(M,this._parent):[M]}}return H.\u0275fac=function(M){return new(M||H)(f.Y36(Qn,9),f.Y36(ze,10),f.Y36(ct,10),f.Y36(ce,10),f.Y36(f.sBO,8))},H.\u0275dir=f.lG2({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([Ir]),f.qOj,f.TTD]}),H})(),os=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275dir=f.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),H})();const ds={provide:ce,useExisting:(0,f.Gpc)(()=>ot),multi:!0};let er=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=f.oAB({type:H}),H.\u0275inj=f.cJS({}),H})(),bo=(()=>{class H{constructor(){this._accessors=[]}add(M,re){this._accessors.push([M,re])}remove(M){for(let re=this._accessors.length-1;re>=0;--re)if(this._accessors[re][1]===M)return void this._accessors.splice(re,1)}select(M){this._accessors.forEach(re=>{this._isSameGroup(re,M)&&re[1]!==M&&re[1].fireUncheck(M.value)})}_isSameGroup(M,re){return!!M[0].control&&M[0]._parent===re._control._parent&&M[1].name===re.name}}return H.\u0275fac=function(M){return new(M||H)},H.\u0275prov=f.Yz7({token:H,factory:H.\u0275fac,providedIn:er}),H})(),ot=(()=>{class H extends Ee{constructor(M,re,Pt,Sn){super(M,re),this._registry=Pt,this._injector=Sn,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(li),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(M){this._state=M===this.value,this.setProperty("checked",this._state)}registerOnChange(M){this._fn=M,this.onChange=()=>{M(this.value),this._registry.select(this)}}fireUncheck(M){this.writeValue(M)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return H.\u0275fac=function(M){return new(M||H)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(bo),f.Y36(f.zs3))},H.\u0275dir=f.lG2({type:H,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(M,re){1&M&&f.NdJ("change",function(){return re.onChange()})("blur",function(){return re.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[f._Bn([ds]),f.qOj]}),H})();const Bt=new f.OlP("NgModelWithFormControlWarning"),ln={provide:li,useExisting:(0,f.Gpc)(()=>En)};let En=(()=>{class H extends li{constructor(M,re,Pt,Sn){super(),this._ngModelWarningConfig=Sn,this.update=new f.vpe,this._ngModelWarningSent=!1,this._setValidators(M),this._setAsyncValidators(re),this.valueAccessor=tt(0,Pt)}set isDisabled(M){}ngOnChanges(M){if(this._isControlChanged(M)){const re=M.form.previousValue;re&&_n(re,this,!1),Tt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}ee(M,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&_n(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_isControlChanged(M){return M.hasOwnProperty("form")}}return H._ngModelWarningSentOnce=!1,H.\u0275fac=function(M){return new(M||H)(f.Y36(ze,10),f.Y36(ct,10),f.Y36(ce,10),f.Y36(Bt,8))},H.\u0275dir=f.lG2({type:H,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[f._Bn([ln]),f.qOj,f.TTD]}),H})();const $n={provide:Qn,useExisting:(0,f.Gpc)(()=>qi)};let qi=(()=>{class H extends Qn{constructor(M,re){super(),this.validators=M,this.asyncValidators=re,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(M),this._setAsyncValidators(re)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(he(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const re=this.form.get(M.path);return Tt(re,M),re.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),re}getControl(M){return this.form.get(M.path)}removeControl(M){_n(M.control||null,M,!1),kt(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,re){this.form.get(M.path).setValue(re)}onSubmit(M){return this.submitted=!0,function xe(H,N){H._syncPendingControls(),N.forEach(M=>{const re=M.control;"submit"===re.updateOn&&re._pendingChange&&(M.viewToModelUpdate(re._pendingValue),re._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const re=M.control,Pt=this.form.get(M.path);re!==Pt&&(_n(re||null,M),zi(Pt)&&(Tt(Pt,M),M.control=Pt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const re=this.form.get(M.path);(function fe(H,N){W(H,N)})(re,M),re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const re=this.form.get(M.path);re&&function pe(H,N){return he(H,N)}(re,M)&&re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){W(this.form,this),this._oldForm&&he(this._oldForm,this)}_checkFormPresent(){}}return H.\u0275fac=function(M){return new(M||H)(f.Y36(ze,10),f.Y36(ct,10))},H.\u0275dir=f.lG2({type:H,selectors:[["","formGroup",""]],hostBindings:function(M,re){1&M&&f.NdJ("submit",function(Sn){return re.onSubmit(Sn)})("reset",function(){return re.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([$n]),f.qOj,f.TTD]}),H})();const Zr={provide:li,useExisting:(0,f.Gpc)(()=>fr)};let fr=(()=>{class H extends li{constructor(M,re,Pt,Sn,Li){super(),this._ngModelWarningConfig=Li,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(re),this._setAsyncValidators(Pt),this.valueAccessor=tt(0,Sn)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),ee(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return Mt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return H._ngModelWarningSentOnce=!1,H.\u0275fac=function(M){return new(M||H)(f.Y36(Qn,13),f.Y36(ze,10),f.Y36(ct,10),f.Y36(ce,10),f.Y36(Bt,8))},H.\u0275dir=f.lG2({type:H,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([Zr]),f.qOj,f.TTD]}),H})();const Go={provide:ce,useExisting:(0,f.Gpc)(()=>Jn),multi:!0};function xr(H,N){return null==H?`${N}`:(N&&"object"==typeof N&&(N="Object"),`${H}: ${N}`.slice(0,50))}let Jn=(()=>{class H extends Ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){this.value=M;const Pt=xr(this._getOptionId(M),M);this.setProperty("value",Pt)}registerOnChange(M){this.onChange=re=>{this.value=this._getOptionValue(re),M(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(M){for(const re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(re),M))return re;return null}_getOptionValue(M){const re=function Ss(H){return H.split(":")[0]}(M);return this._optionMap.has(re)?this._optionMap.get(re):M}}return H.\u0275fac=function(){let N;return function(re){return(N||(N=f.n5z(H)))(re||H)}}(),H.\u0275dir=f.lG2({type:H,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(M,re){1&M&&f.NdJ("change",function(Sn){return re.onChange(Sn.target.value)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Go]),f.qOj]}),H})(),Es=(()=>{class H{constructor(M,re,Pt){this._element=M,this._renderer=re,this._select=Pt,this._select&&(this.id=this._select._registerOption())}set ngValue(M){null!=this._select&&(this._select._optionMap.set(this.id,M),this._setElementValue(xr(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._setElementValue(M),this._select&&this._select.writeValue(this._select.value)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return H.\u0275fac=function(M){return new(M||H)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Jn,9))},H.\u0275dir=f.lG2({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),H})();const xs={provide:ce,useExisting:(0,f.Gpc)(()=>Xr),multi:!0};function hs(H,N){return null==H?`${N}`:("string"==typeof N&&(N=`'${N}'`),N&&"object"==typeof N&&(N="Object"),`${H}: ${N}`.slice(0,50))}let Xr=(()=>{class H extends Ee{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){let re;if(this.value=M,Array.isArray(M)){const Pt=M.map(Sn=>this._getOptionId(Sn));re=(Sn,Li)=>{Sn._setSelected(Pt.indexOf(Li.toString())>-1)}}else re=(Pt,Sn)=>{Pt._setSelected(!1)};this._optionMap.forEach(re)}registerOnChange(M){this.onChange=re=>{const Pt=[],Sn=re.selectedOptions;if(void 0!==Sn){const Li=Sn;for(let ws=0;ws<Li.length;ws++){const Zo=this._getOptionValue(Li[ws].value);Pt.push(Zo)}}else{const Li=re.options;for(let ws=0;ws<Li.length;ws++){const us=Li[ws];if(us.selected){const Zo=this._getOptionValue(us.value);Pt.push(Zo)}}}this.value=Pt,M(Pt)}}_registerOption(M){const re=(this._idCounter++).toString();return this._optionMap.set(re,M),re}_getOptionId(M){for(const re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(re)._value,M))return re;return null}_getOptionValue(M){const re=function Ma(H){return H.split(":")[0]}(M);return this._optionMap.has(re)?this._optionMap.get(re)._value:M}}return H.\u0275fac=function(){let N;return function(re){return(N||(N=f.n5z(H)))(re||H)}}(),H.\u0275dir=f.lG2({type:H,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(M,re){1&M&&f.NdJ("change",function(Sn){return re.onChange(Sn.target)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([xs]),f.qOj]}),H})(),ta=(()=>{class H{constructor(M,re,Pt){this._element=M,this._renderer=re,this._select=Pt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(M){null!=this._select&&(this._value=M,this._setElementValue(hs(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._select?(this._value=M,this._setElementValue(hs(this.id,M)),this._select.writeValue(this._select.value)):this._setElementValue(M)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}_setSelected(M){this._renderer.setProperty(this._element.nativeElement,"selected",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return H.\u0275fac=function(M){return new(M||H)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Xr,9))},H.\u0275dir=f.lG2({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),H})(),yi=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=f.oAB({type:H}),H.\u0275inj=f.cJS({imports:[[er]]}),H})(),ti=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=f.oAB({type:H}),H.\u0275inj=f.cJS({imports:[yi]}),H})(),di=(()=>{class H{static withConfig(M){return{ngModule:H,providers:[{provide:Bt,useValue:M.warnOnNgModelWithFormControl}]}}}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=f.oAB({type:H}),H.\u0275inj=f.cJS({imports:[yi]}),H})(),Hi=(()=>{class H{group(M,re=null){const Pt=this._reduceControls(M);let ws,Sn=null,Li=null;return null!=re&&(function tr(H){return void 0!==H.asyncValidators||void 0!==H.validators||void 0!==H.updateOn}(re)?(Sn=null!=re.validators?re.validators:null,Li=null!=re.asyncValidators?re.asyncValidators:null,ws=null!=re.updateOn?re.updateOn:void 0):(Sn=null!=re.validator?re.validator:null,Li=null!=re.asyncValidator?re.asyncValidator:null)),new Oi(Pt,{asyncValidators:Li,updateOn:ws,validators:Sn})}control(M,re,Pt){return new Ln(M,re,Pt)}array(M,re,Pt){const Sn=M.map(Li=>this._createControl(Li));return new Bi(Sn,re,Pt)}_reduceControls(M){const re={};return Object.keys(M).forEach(Pt=>{re[Pt]=this._createControl(M[Pt])}),re}_createControl(M){return zi(M)||vr(M)||Wi(M)?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return H.\u0275fac=function(M){return new(M||H)},H.\u0275prov=f.Yz7({token:H,factory:H.\u0275fac,providedIn:di}),H})()},2313:(Qt,We,x)=>{x.d(We,{H7:()=>pe,b2:()=>On,q6:()=>Qn,se:()=>it});var f=x(9808),h=x(5e3);class G extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends G{static makeCurrent(){(0,f.HT)(new Ce)}onAndCancel(ee,ne,xe){return ee.addEventListener(ne,xe,!1),()=>{ee.removeEventListener(ne,xe,!1)}}dispatchEvent(ee,ne){ee.dispatchEvent(ne)}remove(ee){ee.parentNode&&ee.parentNode.removeChild(ee)}createElement(ee,ne){return(ne=ne||this.getDefaultDocument()).createElement(ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ee){return ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(ee){return ee instanceof DocumentFragment}getGlobalEventTarget(ee,ne){return"window"===ne?window:"document"===ne?ee:"body"===ne?ee.body:null}getBaseHref(ee){const ne=function Ne(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==ne?null:function ce($){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",$);const ee=Ee.pathname;return"/"===ee.charAt(0)?ee:`/${ee}`}(ne)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(ee){return(0,f.Mx)(document.cookie,ee)}}let Ee,ve=null;const Q=new h.OlP("TRANSITION_ID"),le=[{provide:h.ip1,useFactory:function J($,ee,ne){return()=>{ne.get(h.CZH).donePromise.then(()=>{const xe=(0,f.q)(),tt=ee.querySelectorAll(`style[ng-transition="${$}"]`);for(let kt=0;kt<tt.length;kt++)xe.remove(tt[kt])})}},deps:[Q,f.K0,h.zs3],multi:!0}];class De{static init(){(0,h.VLi)(new De)}addToWindow(ee){h.dqk.getAngularTestability=(xe,tt=!0)=>{const kt=ee.findTestabilityInTree(xe,tt);if(null==kt)throw new Error("Could not find testability for element.");return kt},h.dqk.getAllAngularTestabilities=()=>ee.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>ee.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(xe=>{const tt=h.dqk.getAllAngularTestabilities();let kt=tt.length,Vt=!1;const bn=function(vn){Vt=Vt||vn,kt--,0==kt&&xe(Vt)};tt.forEach(function(vn){vn.whenStable(bn)})})}findTestabilityInTree(ee,ne,xe){if(null==ne)return null;const tt=ee.getTestability(ne);return null!=tt?tt:xe?(0,f.q)().isShadowRoot(ne)?this.findTestabilityInTree(ee,ne.host,!0):this.findTestabilityInTree(ee,ne.parentElement,!0):null}}let lt=(()=>{class ${build(){return new XMLHttpRequest}}return $.\u0275fac=function(ne){return new(ne||$)},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();const Ve=new h.OlP("EventManagerPlugins");let at=(()=>{class ${constructor(ne,xe){this._zone=xe,this._eventNameToPlugin=new Map,ne.forEach(tt=>tt.manager=this),this._plugins=ne.slice().reverse()}addEventListener(ne,xe,tt){return this._findPluginFor(xe).addEventListener(ne,xe,tt)}addGlobalEventListener(ne,xe,tt){return this._findPluginFor(xe).addGlobalEventListener(ne,xe,tt)}getZone(){return this._zone}_findPluginFor(ne){const xe=this._eventNameToPlugin.get(ne);if(xe)return xe;const tt=this._plugins;for(let kt=0;kt<tt.length;kt++){const Vt=tt[kt];if(Vt.supports(ne))return this._eventNameToPlugin.set(ne,Vt),Vt}throw new Error(`No event manager plugin found for event ${ne}`)}}return $.\u0275fac=function(ne){return new(ne||$)(h.LFG(Ve),h.LFG(h.R0b))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();class ut{constructor(ee){this._doc=ee}addGlobalEventListener(ee,ne,xe){const tt=(0,f.q)().getGlobalEventTarget(this._doc,ee);if(!tt)throw new Error(`Unsupported event target ${tt} for event ${ne}`);return this.addEventListener(tt,ne,xe)}}let ze=(()=>{class ${constructor(){this._stylesSet=new Set}addStyles(ne){const xe=new Set;ne.forEach(tt=>{this._stylesSet.has(tt)||(this._stylesSet.add(tt),xe.add(tt))}),this.onStylesAdded(xe)}onStylesAdded(ne){}getAllStyles(){return Array.from(this._stylesSet)}}return $.\u0275fac=function(ne){return new(ne||$)},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})(),ct=(()=>{class $ extends ze{constructor(ne){super(),this._doc=ne,this._hostNodes=new Map,this._hostNodes.set(ne.head,[])}_addStylesToHost(ne,xe,tt){ne.forEach(kt=>{const Vt=this._doc.createElement("style");Vt.textContent=kt,tt.push(xe.appendChild(Vt))})}addHost(ne){const xe=[];this._addStylesToHost(this._stylesSet,ne,xe),this._hostNodes.set(ne,xe)}removeHost(ne){const xe=this._hostNodes.get(ne);xe&&xe.forEach(Be),this._hostNodes.delete(ne)}onStylesAdded(ne){this._hostNodes.forEach((xe,tt)=>{this._addStylesToHost(ne,tt,xe)})}ngOnDestroy(){this._hostNodes.forEach(ne=>ne.forEach(Be))}}return $.\u0275fac=function(ne){return new(ne||$)(h.LFG(f.K0))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();function Be($){(0,f.q)().remove($)}const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ge=/%COMP%/g;function ke($,ee,ne){for(let xe=0;xe<ee.length;xe++){let tt=ee[xe];Array.isArray(tt)?ke($,tt,ne):(tt=tt.replace(ge,$),ne.push(tt))}return ne}function Ue($){return ee=>{if("__ngUnwrap__"===ee)return $;!1===$(ee)&&(ee.preventDefault(),ee.returnValue=!1)}}let it=(()=>{class ${constructor(ne,xe,tt){this.eventManager=ne,this.sharedStylesHost=xe,this.appId=tt,this.rendererByCompId=new Map,this.defaultRenderer=new st(ne)}createRenderer(ne,xe){if(!ne||!xe)return this.defaultRenderer;switch(xe.encapsulation){case h.ifc.Emulated:{let tt=this.rendererByCompId.get(xe.id);return tt||(tt=new ft(this.eventManager,this.sharedStylesHost,xe,this.appId),this.rendererByCompId.set(xe.id,tt)),tt.applyToHost(ne),tt}case 1:case h.ifc.ShadowDom:return new mt(this.eventManager,this.sharedStylesHost,ne,xe);default:if(!this.rendererByCompId.has(xe.id)){const tt=ke(xe.id,xe.styles,[]);this.sharedStylesHost.addStyles(tt),this.rendererByCompId.set(xe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return $.\u0275fac=function(ne){return new(ne||$)(h.LFG(at),h.LFG(ct),h.LFG(h.AFp))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();class st{constructor(ee){this.eventManager=ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ee,ne){return ne?document.createElementNS(gt[ne]||ne,ee):document.createElement(ee)}createComment(ee){return document.createComment(ee)}createText(ee){return document.createTextNode(ee)}appendChild(ee,ne){ee.appendChild(ne)}insertBefore(ee,ne,xe){ee&&ee.insertBefore(ne,xe)}removeChild(ee,ne){ee&&ee.removeChild(ne)}selectRootElement(ee,ne){let xe="string"==typeof ee?document.querySelector(ee):ee;if(!xe)throw new Error(`The selector "${ee}" did not match any elements`);return ne||(xe.textContent=""),xe}parentNode(ee){return ee.parentNode}nextSibling(ee){return ee.nextSibling}setAttribute(ee,ne,xe,tt){if(tt){ne=tt+":"+ne;const kt=gt[tt];kt?ee.setAttributeNS(kt,ne,xe):ee.setAttribute(ne,xe)}else ee.setAttribute(ne,xe)}removeAttribute(ee,ne,xe){if(xe){const tt=gt[xe];tt?ee.removeAttributeNS(tt,ne):ee.removeAttribute(`${xe}:${ne}`)}else ee.removeAttribute(ne)}addClass(ee,ne){ee.classList.add(ne)}removeClass(ee,ne){ee.classList.remove(ne)}setStyle(ee,ne,xe,tt){tt&(h.JOm.DashCase|h.JOm.Important)?ee.style.setProperty(ne,xe,tt&h.JOm.Important?"important":""):ee.style[ne]=xe}removeStyle(ee,ne,xe){xe&h.JOm.DashCase?ee.style.removeProperty(ne):ee.style[ne]=""}setProperty(ee,ne,xe){ee[ne]=xe}setValue(ee,ne){ee.nodeValue=ne}listen(ee,ne,xe){return"string"==typeof ee?this.eventManager.addGlobalEventListener(ee,ne,Ue(xe)):this.eventManager.addEventListener(ee,ne,Ue(xe))}}class ft extends st{constructor(ee,ne,xe,tt){super(ee),this.component=xe;const kt=ke(tt+"-"+xe.id,xe.styles,[]);ne.addStyles(kt),this.contentAttr=function Je($){return"_ngcontent-%COMP%".replace(ge,$)}(tt+"-"+xe.id),this.hostAttr=function nt($){return"_nghost-%COMP%".replace(ge,$)}(tt+"-"+xe.id)}applyToHost(ee){super.setAttribute(ee,this.hostAttr,"")}createElement(ee,ne){const xe=super.createElement(ee,ne);return super.setAttribute(xe,this.contentAttr,""),xe}}class mt extends st{constructor(ee,ne,xe,tt){super(ee),this.sharedStylesHost=ne,this.hostEl=xe,this.shadowRoot=xe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kt=ke(tt.id,tt.styles,[]);for(let Vt=0;Vt<kt.length;Vt++){const bn=document.createElement("style");bn.textContent=kt[Vt],this.shadowRoot.appendChild(bn)}}nodeOrShadowRoot(ee){return ee===this.hostEl?this.shadowRoot:ee}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ee,ne){return super.appendChild(this.nodeOrShadowRoot(ee),ne)}insertBefore(ee,ne,xe){return super.insertBefore(this.nodeOrShadowRoot(ee),ne,xe)}removeChild(ee,ne){return super.removeChild(this.nodeOrShadowRoot(ee),ne)}parentNode(ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ee)))}}let q=(()=>{class $ extends ut{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,xe,tt){return ne.addEventListener(xe,tt,!1),()=>this.removeEventListener(ne,xe,tt)}removeEventListener(ne,xe,tt){return ne.removeEventListener(xe,tt)}}return $.\u0275fac=function(ne){return new(ne||$)(h.LFG(f.K0))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();const Se=["alt","control","meta","shift"],Rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ht={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},nn={alt:$=>$.altKey,control:$=>$.ctrlKey,meta:$=>$.metaKey,shift:$=>$.shiftKey};let yn=(()=>{class $ extends ut{constructor(ne){super(ne)}supports(ne){return null!=$.parseEventName(ne)}addEventListener(ne,xe,tt){const kt=$.parseEventName(xe),Vt=$.eventCallback(kt.fullKey,tt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(ne,kt.domEventName,Vt))}static parseEventName(ne){const xe=ne.toLowerCase().split("."),tt=xe.shift();if(0===xe.length||"keydown"!==tt&&"keyup"!==tt)return null;const kt=$._normalizeKey(xe.pop());let Vt="";if(Se.forEach(vn=>{const Cn=xe.indexOf(vn);Cn>-1&&(xe.splice(Cn,1),Vt+=vn+".")}),Vt+=kt,0!=xe.length||0===kt.length)return null;const bn={};return bn.domEventName=tt,bn.fullKey=Vt,bn}static getEventFullKey(ne){let xe="",tt=function xn($){let ee=$.key;if(null==ee){if(ee=$.keyIdentifier,null==ee)return"Unidentified";ee.startsWith("U+")&&(ee=String.fromCharCode(parseInt(ee.substring(2),16)),3===$.location&&Ht.hasOwnProperty(ee)&&(ee=Ht[ee]))}return Rt[ee]||ee}(ne);return tt=tt.toLowerCase()," "===tt?tt="space":"."===tt&&(tt="dot"),Se.forEach(kt=>{kt!=tt&&nn[kt](ne)&&(xe+=kt+".")}),xe+=tt,xe}static eventCallback(ne,xe,tt){return kt=>{$.getEventFullKey(kt)===ne&&tt.runGuarded(()=>xe(kt))}}static _normalizeKey(ne){return"esc"===ne?"escape":ne}}return $.\u0275fac=function(ne){return new(ne||$)(h.LFG(f.K0))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();const Qn=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:f.bD},{provide:h.g9A,useValue:function Vn(){Ce.makeCurrent(),De.init()},multi:!0},{provide:f.K0,useFactory:function jn(){return(0,h.RDi)(document),document},deps:[]}]),Si=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Xn(){return new h.qLn},deps:[]},{provide:Ve,useClass:q,multi:!0,deps:[f.K0,h.R0b,h.Lbi]},{provide:Ve,useClass:yn,multi:!0,deps:[f.K0]},{provide:it,useClass:it,deps:[at,ct,h.AFp]},{provide:h.FYo,useExisting:it},{provide:ze,useExisting:ct},{provide:ct,useClass:ct,deps:[f.K0]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:at,useClass:at,deps:[Ve,h.R0b]},{provide:f.JF,useClass:lt,deps:[]}];let On=(()=>{class ${constructor(ne){if(ne)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ne){return{ngModule:$,providers:[{provide:h.AFp,useValue:ne.appId},{provide:Q,useExisting:h.AFp},le]}}}return $.\u0275fac=function(ne){return new(ne||$)(h.LFG($,12))},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({providers:Si,imports:[f.ez,h.hGG]}),$})();"undefined"!=typeof window&&window;let pe=(()=>{class ${}return $.\u0275fac=function(ne){return new(ne||$)},$.\u0275prov=h.Yz7({token:$,factory:function(ne){let xe=null;return xe=ne?new(ne||$):h.LFG(ye),xe},providedIn:"root"}),$})(),ye=(()=>{class $ extends pe{constructor(ne){super(),this._doc=ne}sanitize(ne,xe){if(null==xe)return null;switch(ne){case h.q3G.NONE:return xe;case h.q3G.HTML:return(0,h.qzn)(xe,"HTML")?(0,h.z3N)(xe):(0,h.EiD)(this._doc,String(xe)).toString();case h.q3G.STYLE:return(0,h.qzn)(xe,"Style")?(0,h.z3N)(xe):xe;case h.q3G.SCRIPT:if((0,h.qzn)(xe,"Script"))return(0,h.z3N)(xe);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.yhl)(xe),(0,h.qzn)(xe,"URL")?(0,h.z3N)(xe):(0,h.mCW)(String(xe));case h.q3G.RESOURCE_URL:if((0,h.qzn)(xe,"ResourceURL"))return(0,h.z3N)(xe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ne} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ne){return(0,h.JVY)(ne)}bypassSecurityTrustStyle(ne){return(0,h.L6k)(ne)}bypassSecurityTrustScript(ne){return(0,h.eBb)(ne)}bypassSecurityTrustUrl(ne){return(0,h.LAX)(ne)}bypassSecurityTrustResourceUrl(ne){return(0,h.pB0)(ne)}}return $.\u0275fac=function(ne){return new(ne||$)(h.LFG(f.K0))},$.\u0275prov=h.Yz7({token:$,factory:function(ne){let xe=null;return xe=ne?new ne:function Me($){return new ye($.get(f.K0))}(h.LFG(h.zs3)),xe},providedIn:"root"}),$})()},2094:(Qt,We,x)=>{x.d(We,{gz:()=>rr,F0:()=>ji,Od:()=>nr,yS:()=>Ms,Bz:()=>Ku,lC:()=>es});var f=x(5e3),h=x(8306),G=x(576);function Ce(O,D){const w=(0,G.m)(O)?O:()=>O,L=k=>k.error(w());return new h.y(D?k=>D.schedule(L,0,k):L)}var ve=x(727),Ne=x(4482),Ee=x(5403);function ce(){return(0,Ne.e)((O,D)=>{let w=null;O._refCount++;const L=(0,Ee.x)(D,void 0,void 0,void 0,()=>{if(!O||O._refCount<=0||0<--O._refCount)return void(w=null);const k=O._connection,ae=w;w=null,k&&(!ae||k===ae)&&k.unsubscribe(),D.unsubscribe()});O.subscribe(L),L.closed||(w=O.connect())})}class Q extends h.y{constructor(D,w){super(),this.source=D,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ne.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new ve.w0;const w=this.getSubject();D.add(this.source.subscribe((0,Ee.x)(w,void 0,()=>{this._teardown(),w.complete()},L=>{this._teardown(),w.error(L)},()=>this._teardown()))),D.closed&&(this._connection=null,D=ve.w0.EMPTY)}return D}refCount(){return ce()(this)}}var J=x(8996),le=x(9646),De=x(1135),lt=x(9841),Ve=x(6805),at=x(7272),ut=x(9770),ze=x(515),ct=x(7579),Be=x(8421);function gt(O){return(0,Ne.e)((D,w)=>{let ae,L=null,k=!1;L=D.subscribe((0,Ee.x)(w,void 0,void 0,Pe=>{ae=(0,Be.Xf)(O(Pe,gt(O)(D))),L?(L.unsubscribe(),L=null,ae.subscribe(w)):k=!0})),k&&(L.unsubscribe(),L=null,ae.subscribe(w))})}var ge=x(9300);function be(O){return O<=0?()=>ze.E:(0,Ne.e)((D,w)=>{let L=[];D.subscribe((0,Ee.x)(w,k=>{L.push(k),O<L.length&&L.shift()},()=>{for(const k of L)w.next(k);w.complete()},void 0,()=>{L=null}))})}var Qe=x(8068),bt=x(6590),K=x(4671),ke=x(4004),Ue=x(3900),et=x(5698),it=x(8675),st=x(5026),xt=x(4351),tn=x(590),ft=x(5577),mt=x(8505),q=x(8189),Se=x(9808);class qe{constructor(D,w){this.id=D,this.url=w}}class Rt extends qe{constructor(D,w,L="imperative",k=null){super(D,w),this.navigationTrigger=L,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ht extends qe{constructor(D,w,L){super(D,w),this.urlAfterRedirects=L}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nn extends qe{constructor(D,w,L){super(D,w),this.reason=L}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yn extends qe{constructor(D,w,L){super(D,w),this.error=L}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xn extends qe{constructor(D,w,L,k){super(D,w),this.urlAfterRedirects=L,this.state=k}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vn extends qe{constructor(D,w,L,k){super(D,w),this.urlAfterRedirects=L,this.state=k}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xn extends qe{constructor(D,w,L,k,ae){super(D,w),this.urlAfterRedirects=L,this.state=k,this.shouldActivate=ae}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jn extends qe{constructor(D,w,L,k){super(D,w),this.urlAfterRedirects=L,this.state=k}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class li extends qe{constructor(D,w,L,k){super(D,w),this.urlAfterRedirects=L,this.state=k}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qn{constructor(D){this.route=D}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Si{constructor(D){this.route=D}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class On{constructor(D){this.snapshot=D}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wi{constructor(D){this.snapshot=D}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class on{constructor(D){this.snapshot=D}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ki{constructor(D){this.snapshot=D}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ni{constructor(D,w,L){this.routerEvent=D,this.position=w,this.anchor=L}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rn="primary";class Ui{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const w=this.params[D];return Array.isArray(w)?w[0]:w}return null}getAll(D){if(this.has(D)){const w=this.params[D];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function vi(O){return new Ui(O)}const Ot="ngNavigationCancelingError";function Fe(O){const D=Error("NavigationCancelingError: "+O);return D[Ot]=!0,D}function Ut(O,D,w){const L=w.path.split("/");if(L.length>O.length||"full"===w.pathMatch&&(D.hasChildren()||L.length<O.length))return null;const k={};for(let ae=0;ae<L.length;ae++){const Pe=L[ae],je=O[ae];if(Pe.startsWith(":"))k[Pe.substring(1)]=je;else if(Pe!==je.path)return null}return{consumed:O.slice(0,L.length),posParams:k}}function Nt(O,D){const w=O?Object.keys(O):void 0,L=D?Object.keys(D):void 0;if(!w||!L||w.length!=L.length)return!1;let k;for(let ae=0;ae<w.length;ae++)if(k=w[ae],!Zt(O[k],D[k]))return!1;return!0}function Zt(O,D){if(Array.isArray(O)&&Array.isArray(D)){if(O.length!==D.length)return!1;const w=[...O].sort(),L=[...D].sort();return w.every((k,ae)=>L[ae]===k)}return O===D}function Re(O){return Array.prototype.concat.apply([],O)}function Oe(O){return O.length>0?O[O.length-1]:null}function Ke(O,D){for(const w in O)O.hasOwnProperty(w)&&D(O[w],w)}function wt(O){return(0,f.CqO)(O)?O:(0,f.QGY)(O)?(0,J.D)(Promise.resolve(O)):(0,le.of)(O)}const Tt={exact:function W(O,D,w){if(!ye(O.segments,D.segments)||!vt(O.segments,D.segments,w)||O.numberOfChildren!==D.numberOfChildren)return!1;for(const L in D.children)if(!O.children[L]||!W(O.children[L],D.children[L],w))return!1;return!0},subset:_e},_n={exact:function pn(O,D){return Nt(O,D)},subset:function he(O,D){return Object.keys(D).length<=Object.keys(O).length&&Object.keys(D).every(w=>Zt(O[w],D[w]))},ignored:()=>!0};function fn(O,D,w){return Tt[w.paths](O.root,D.root,w.matrixParams)&&_n[w.queryParams](O.queryParams,D.queryParams)&&!("exact"===w.fragment&&O.fragment!==D.fragment)}function _e(O,D,w){return Le(O,D,D.segments,w)}function Le(O,D,w,L){if(O.segments.length>w.length){const k=O.segments.slice(0,w.length);return!(!ye(k,w)||D.hasChildren()||!vt(k,w,L))}if(O.segments.length===w.length){if(!ye(O.segments,w)||!vt(O.segments,w,L))return!1;for(const k in D.children)if(!O.children[k]||!_e(O.children[k],D.children[k],L))return!1;return!0}{const k=w.slice(0,O.segments.length),ae=w.slice(O.segments.length);return!!(ye(O.segments,k)&&vt(O.segments,k,L)&&O.children[rn])&&Le(O.children[rn],D,ae,L)}}function vt(O,D,w){return D.every((L,k)=>_n[w](O[k].parameters,L.parameters))}class Ft{constructor(D,w,L){this.root=D,this.queryParams=w,this.fragment=L}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vi(this.queryParams)),this._queryParamMap}toString(){return ne.serialize(this)}}class fe{constructor(D,w){this.segments=D,this.children=w,this.parent=null,Ke(w,(L,k)=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xe(this)}}class pe{constructor(D,w){this.path=D,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=vi(this.parameters)),this._parameterMap}toString(){return Ti(this)}}function ye(O,D){return O.length===D.length&&O.every((w,L)=>w.path===D[L].path)}class ${}class ee{parse(D){const w=new Wi(D);return new Ft(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(D){const w=`/${tt(D.root,!0)}`,L=function Cr(O){const D=Object.keys(O).map(w=>{const L=O[w];return Array.isArray(L)?L.map(k=>`${Vt(w)}=${Vt(k)}`).join("&"):`${Vt(w)}=${Vt(L)}`}).filter(w=>!!w);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${w}${L}${"string"==typeof D.fragment?`#${function bn(O){return encodeURI(O)}(D.fragment)}`:""}`}}const ne=new ee;function xe(O){return O.segments.map(D=>Ti(D)).join("/")}function tt(O,D){if(!O.hasChildren())return xe(O);if(D){const w=O.children[rn]?tt(O.children[rn],!1):"",L=[];return Ke(O.children,(k,ae)=>{ae!==rn&&L.push(`${ae}:${tt(k,!1)}`)}),L.length>0?`${w}(${L.join("//")})`:w}{const w=function X(O,D){let w=[];return Ke(O.children,(L,k)=>{k===rn&&(w=w.concat(D(L,k)))}),Ke(O.children,(L,k)=>{k!==rn&&(w=w.concat(D(L,k)))}),w}(O,(L,k)=>k===rn?[tt(O.children[rn],!1)]:[`${k}:${tt(L,!1)}`]);return 1===Object.keys(O.children).length&&null!=O.children[rn]?`${xe(O)}/${w[0]}`:`${xe(O)}/(${w.join("//")})`}}function kt(O){return encodeURIComponent(O).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vt(O){return kt(O).replace(/%3B/gi,";")}function vn(O){return kt(O).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cn(O){return decodeURIComponent(O)}function _i(O){return Cn(O.replace(/\+/g,"%20"))}function Ti(O){return`${vn(O.path)}${function Di(O){return Object.keys(O).map(D=>`;${vn(D)}=${vn(O[D])}`).join("")}(O.parameters)}`}const xi=/^[^\/()?;=#]+/;function qt(O){const D=O.match(xi);return D?D[0]:""}const Yn=/^[^=?&#]+/,zi=/^[^&#]+/;class Wi{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(D.length>0||Object.keys(w).length>0)&&(L[rn]=new fe(D,w)),L}parseSegment(){const D=qt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(D),new pe(Cn(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const w=qt(this.remaining);if(!w)return;this.capture(w);let L="";if(this.consumeOptional("=")){const k=qt(this.remaining);k&&(L=k,this.capture(L))}D[Cn(w)]=Cn(L)}parseQueryParam(D){const w=function mi(O){const D=O.match(Yn);return D?D[0]:""}(this.remaining);if(!w)return;this.capture(w);let L="";if(this.consumeOptional("=")){const Pe=function vr(O){const D=O.match(zi);return D?D[0]:""}(this.remaining);Pe&&(L=Pe,this.capture(L))}const k=_i(w),ae=_i(L);if(D.hasOwnProperty(k)){let Pe=D[k];Array.isArray(Pe)||(Pe=[Pe],D[k]=Pe),Pe.push(ae)}else D[k]=ae}parseParens(D){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=qt(this.remaining),k=this.remaining[L.length];if("/"!==k&&")"!==k&&";"!==k)throw new Error(`Cannot parse url '${this.url}'`);let ae;L.indexOf(":")>-1?(ae=L.substr(0,L.indexOf(":")),this.capture(ae),this.capture(":")):D&&(ae=rn);const Pe=this.parseChildren();w[ae]=1===Object.keys(Pe).length?Pe[rn]:new fe([],Pe),this.consumeOptional("//")}return w}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new Error(`Expected "${D}".`)}}class or{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const w=this.pathFromRoot(D);return w.length>1?w[w.length-2]:null}children(D){const w=oi(D,this._root);return w?w.children.map(L=>L.value):[]}firstChild(D){const w=oi(D,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(D){const w=Tr(D,this._root);return w.length<2?[]:w[w.length-2].children.map(k=>k.value).filter(k=>k!==D)}pathFromRoot(D){return Tr(D,this._root).map(w=>w.value)}}function oi(O,D){if(O===D.value)return D;for(const w of D.children){const L=oi(O,w);if(L)return L}return null}function Tr(O,D){if(O===D.value)return[D];for(const w of D.children){const L=Tr(O,w);if(L.length)return L.unshift(D),L}return[]}class Ii{constructor(D,w){this.value=D,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ln(O){const D={};return O&&O.children.forEach(w=>D[w.value.outlet]=w),D}class Oi extends or{constructor(D,w){super(D),this.snapshot=w,Ei(this,D)}toString(){return this.snapshot.toString()}}function Bi(O,D){const w=function gn(O,D){const Pe=new Ci([],{},{},"",{},rn,D,null,O.root,-1,{});return new Dr("",new Ii(Pe,[]))}(O,D),L=new De.X([new pe("",{})]),k=new De.X({}),ae=new De.X({}),Pe=new De.X({}),je=new De.X(""),Lt=new rr(L,k,Pe,je,ae,rn,D,w.root);return Lt.snapshot=w.root,new Oi(new Ii(Lt,[]),w)}class rr{constructor(D,w,L,k,ae,Pe,je,Lt){this.url=D,this.params=w,this.queryParams=L,this.fragment=k,this.data=ae,this.outlet=Pe,this.component=je,this._futureSnapshot=Lt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ke.U)(D=>vi(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ke.U)(D=>vi(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function At(O,D="emptyOnly"){const w=O.pathFromRoot;let L=0;if("always"!==D)for(L=w.length-1;L>=1;){const k=w[L],ae=w[L-1];if(k.routeConfig&&""===k.routeConfig.path)L--;else{if(ae.component)break;L--}}return function ar(O){return O.reduce((D,w)=>({params:Object.assign(Object.assign({},D.params),w.params),data:Object.assign(Object.assign({},D.data),w.data),resolve:Object.assign(Object.assign({},D.resolve),w._resolvedData)}),{params:{},data:{},resolve:{}})}(w.slice(L))}class Ci{constructor(D,w,L,k,ae,Pe,je,Lt,wn,ui,Rn){this.url=D,this.params=w,this.queryParams=L,this.fragment=k,this.data=ae,this.outlet=Pe,this.component=je,this.routeConfig=Lt,this._urlSegment=wn,this._lastPathIndex=ui,this._resolve=Rn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dr extends or{constructor(D,w){super(w),this.url=D,Ei(this,w)}toString(){return $r(this._root)}}function Ei(O,D){D.value._routerState=O,D.children.forEach(w=>Ei(O,w))}function $r(O){const D=O.children.length>0?` { ${O.children.map($r).join(", ")} } `:"";return`${O.value}${D}`}function Vr(O){if(O.snapshot){const D=O.snapshot,w=O._futureSnapshot;O.snapshot=w,Nt(D.queryParams,w.queryParams)||O.queryParams.next(w.queryParams),D.fragment!==w.fragment&&O.fragment.next(w.fragment),Nt(D.params,w.params)||O.params.next(w.params),function It(O,D){if(O.length!==D.length)return!1;for(let w=0;w<O.length;++w)if(!Nt(O[w],D[w]))return!1;return!0}(D.url,w.url)||O.url.next(w.url),Nt(D.data,w.data)||O.data.next(w.data)}else O.snapshot=O._futureSnapshot,O.data.next(O._futureSnapshot.data)}function Xi(O,D){const w=Nt(O.params,D.params)&&function Me(O,D){return ye(O,D)&&O.every((w,L)=>Nt(w.parameters,D[L].parameters))}(O.url,D.url);return w&&!(!O.parent!=!D.parent)&&(!O.parent||Xi(O.parent,D.parent))}function Gr(O,D,w){if(w&&O.shouldReuseRoute(D.value,w.value.snapshot)){const L=w.value;L._futureSnapshot=D.value;const k=function zr(O,D,w){return D.children.map(L=>{for(const k of w.children)if(O.shouldReuseRoute(L.value,k.value.snapshot))return Gr(O,L,k);return Gr(O,L)})}(O,D,w);return new Ii(L,k)}{if(O.shouldAttach(D.value)){const ae=O.retrieve(D.value);if(null!==ae){const Pe=ae.route;return Pe.value._futureSnapshot=D.value,Pe.children=D.children.map(je=>Gr(O,je)),Pe}}const L=function os(O){return new rr(new De.X(O.url),new De.X(O.params),new De.X(O.queryParams),new De.X(O.fragment),new De.X(O.data),O.outlet,O.component,O)}(D.value),k=D.children.map(ae=>Gr(O,ae));return new Ii(L,k)}}function _s(O){return"object"==typeof O&&null!=O&&!O.outlets&&!O.segmentPath}function ds(O){return"object"==typeof O&&null!=O&&O.outlets}function Bs(O,D,w,L,k){let ae={};if(L&&Ke(L,(je,Lt)=>{ae[Lt]=Array.isArray(je)?je.map(wn=>`${wn}`):`${je}`}),O===D)return new Ft(w,ae,k);const Pe=er(O,D,w);return new Ft(Pe,ae,k)}function er(O,D,w){const L={};return Ke(O.children,(k,ae)=>{L[ae]=k===D?w:er(k,D,w)}),new fe(O.segments,L)}class bo{constructor(D,w,L){if(this.isAbsolute=D,this.numberOfDoubleDots=w,this.commands=L,D&&L.length>0&&_s(L[0]))throw new Error("Root segment cannot have matrix parameters");const k=L.find(ds);if(k&&k!==Oe(L))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ye{constructor(D,w,L){this.segmentGroup=D,this.processChildren=w,this.index=L}}function En(O,D,w){if(O||(O=new fe([],{})),0===O.segments.length&&O.hasChildren())return $n(O,D,w);const L=function qi(O,D,w){let L=0,k=D;const ae={match:!1,pathIndex:0,commandIndex:0};for(;k<O.segments.length;){if(L>=w.length)return ae;const Pe=O.segments[k],je=w[L];if(ds(je))break;const Lt=`${je}`,wn=L<w.length-1?w[L+1]:null;if(k>0&&void 0===Lt)break;if(Lt&&wn&&"object"==typeof wn&&void 0===wn.outlets){if(!hr(Lt,wn,Pe))return ae;L+=2}else{if(!hr(Lt,{},Pe))return ae;L++}k++}return{match:!0,pathIndex:k,commandIndex:L}}(O,D,w),k=w.slice(L.commandIndex);if(L.match&&L.pathIndex<O.segments.length){const ae=new fe(O.segments.slice(0,L.pathIndex),{});return ae.children[rn]=new fe(O.segments.slice(L.pathIndex),O.children),$n(ae,0,k)}return L.match&&0===k.length?new fe(O.segments,{}):L.match&&!O.hasChildren()?Ri(O,D,w):L.match?$n(O,0,k):Ri(O,D,w)}function $n(O,D,w){if(0===w.length)return new fe(O.segments,{});{const L=function ln(O){return ds(O[0])?O[0].outlets:{[rn]:O}}(w),k={};return Ke(L,(ae,Pe)=>{"string"==typeof ae&&(ae=[ae]),null!==ae&&(k[Pe]=En(O.children[Pe],D,ae))}),Ke(O.children,(ae,Pe)=>{void 0===L[Pe]&&(k[Pe]=ae)}),new fe(O.segments,k)}}function Ri(O,D,w){const L=O.segments.slice(0,D);let k=0;for(;k<w.length;){const ae=w[k];if(ds(ae)){const Lt=as(ae.outlets);return new fe(L,Lt)}if(0===k&&_s(w[0])){L.push(new pe(O.segments[D].path,As(w[0]))),k++;continue}const Pe=ds(ae)?ae.outlets[rn]:`${ae}`,je=k<w.length-1?w[k+1]:null;Pe&&je&&_s(je)?(L.push(new pe(Pe,As(je))),k+=2):(L.push(new pe(Pe,{})),k++)}return new fe(L,{})}function as(O){const D={};return Ke(O,(w,L)=>{"string"==typeof w&&(w=[w]),null!==w&&(D[L]=Ri(new fe([],{}),0,w))}),D}function As(O){const D={};return Ke(O,(w,L)=>D[L]=`${w}`),D}function hr(O,D,w){return O==w.path&&Nt(D,w.parameters)}class Zr{constructor(D,w,L,k){this.routeReuseStrategy=D,this.futureState=w,this.currState=L,this.forwardEvent=k}activate(D){const w=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,L,D),Vr(this.futureState.root),this.activateChildRoutes(w,L,D)}deactivateChildRoutes(D,w,L){const k=Ln(w);D.children.forEach(ae=>{const Pe=ae.value.outlet;this.deactivateRoutes(ae,k[Pe],L),delete k[Pe]}),Ke(k,(ae,Pe)=>{this.deactivateRouteAndItsChildren(ae,L)})}deactivateRoutes(D,w,L){const k=D.value,ae=w?w.value:null;if(k===ae)if(k.component){const Pe=L.getContext(k.outlet);Pe&&this.deactivateChildRoutes(D,w,Pe.children)}else this.deactivateChildRoutes(D,w,L);else ae&&this.deactivateRouteAndItsChildren(w,L)}deactivateRouteAndItsChildren(D,w){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,w):this.deactivateRouteAndOutlet(D,w)}detachAndStoreRouteSubtree(D,w){const L=w.getContext(D.value.outlet),k=L&&D.value.component?L.children:w,ae=Ln(D);for(const Pe of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Pe],k);if(L&&L.outlet){const Pe=L.outlet.detach(),je=L.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:Pe,route:D,contexts:je})}}deactivateRouteAndOutlet(D,w){const L=w.getContext(D.value.outlet),k=L&&D.value.component?L.children:w,ae=Ln(D);for(const Pe of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Pe],k);L&&L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated(),L.attachRef=null,L.resolver=null,L.route=null)}activateChildRoutes(D,w,L){const k=Ln(w);D.children.forEach(ae=>{this.activateRoutes(ae,k[ae.value.outlet],L),this.forwardEvent(new ki(ae.value.snapshot))}),D.children.length&&this.forwardEvent(new wi(D.value.snapshot))}activateRoutes(D,w,L){const k=D.value,ae=w?w.value:null;if(Vr(k),k===ae)if(k.component){const Pe=L.getOrCreateContext(k.outlet);this.activateChildRoutes(D,w,Pe.children)}else this.activateChildRoutes(D,w,L);else if(k.component){const Pe=L.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const je=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),Pe.children.onOutletReAttached(je.contexts),Pe.attachRef=je.componentRef,Pe.route=je.route.value,Pe.outlet&&Pe.outlet.attach(je.componentRef,je.route.value),Vr(je.route.value),this.activateChildRoutes(D,null,Pe.children)}else{const je=function fr(O){for(let D=O.parent;D;D=D.parent){const w=D.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig;if(w&&w.component)return null}return null}(k.snapshot),Lt=je?je.module.componentFactoryResolver:null;Pe.attachRef=null,Pe.route=k,Pe.resolver=Lt,Pe.outlet&&Pe.outlet.activateWith(k,Lt),this.activateChildRoutes(D,null,Pe.children)}}else this.activateChildRoutes(D,null,L)}}class Go{constructor(D,w){this.routes=D,this.module=w}}function xr(O){return"function"==typeof O}function Jn(O){return O instanceof Ft}const zo=Symbol("INITIAL_VALUE");function Xr(){return(0,Ue.w)(O=>(0,lt.a)(O.map(D=>D.pipe((0,et.q)(1),(0,it.O)(zo)))).pipe((0,st.R)((D,w)=>{let L=!1;return w.reduce((k,ae,Pe)=>k!==zo?k:(ae===zo&&(L=!0),L||!1!==ae&&Pe!==w.length-1&&!Jn(ae)?k:ae),D)},zo),(0,ge.h)(D=>D!==zo),(0,ke.U)(D=>Jn(D)?D:!0===D),(0,et.q)(1)))}class ta{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Kr,this.attachRef=null}}class Kr{constructor(){this.contexts=new Map}onChildOutletCreated(D,w){const L=this.getOrCreateContext(D);L.outlet=w,this.contexts.set(D,L)}onChildOutletDestroyed(D){const w=this.getContext(D);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let w=this.getContext(D);return w||(w=new ta,this.contexts.set(D,w)),w}getContext(D){return this.contexts.get(D)||null}}let es=(()=>{class O{constructor(w,L,k,ae,Pe){this.parentContexts=w,this.location=L,this.resolver=k,this.changeDetector=Pe,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=ae||rn,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,L){this.activated=w,this._activatedRoute=L,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,L){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;const Pe=(L=L||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),je=this.parentContexts.getOrCreateContext(this.name).children,Lt=new Zs(w,je,this.location.injector);this.activated=this.location.createComponent(Pe,this.location.length,Lt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return O.\u0275fac=function(w){return new(w||O)(f.Y36(Kr),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},O.\u0275dir=f.lG2({type:O,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),O})();class Zs{constructor(D,w,L){this.route=D,this.childContexts=w,this.parent=L}get(D,w){return D===rr?this.route:D===Kr?this.childContexts:this.parent.get(D,w)}}let Ni=(()=>{class O{}return O.\u0275fac=function(w){return new(w||O)},O.\u0275cmp=f.Xpm({type:O,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,L){1&w&&f._UZ(0,"router-outlet")},directives:[es],encapsulation:2}),O})();function Or(O,D=""){for(let w=0;w<O.length;w++){const L=O[w];Wo(L,na(D,L))}}function Wo(O,D){O.children&&Or(O.children,D)}function na(O,D){return D?O||D.path?O&&!D.path?`${O}/`:!O&&D.path?D.path:`${O}/${D.path}`:"":O}function ls(O){const D=O.children&&O.children.map(ls),w=D?Object.assign(Object.assign({},O),{children:D}):Object.assign({},O);return!w.component&&(D||w.loadChildren)&&w.outlet&&w.outlet!==rn&&(w.component=Ni),w}function _r(O){return O.outlet||rn}function wo(O,D){const w=O.filter(L=>_r(L)===D);return w.push(...O.filter(L=>_r(L)!==D)),w}const Ai={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zn(O,D,w){var L;if(""===D.path)return"full"===D.pathMatch&&(O.hasChildren()||w.length>0)?Object.assign({},Ai):{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const ae=(D.matcher||Ut)(w,O,D);if(!ae)return Object.assign({},Ai);const Pe={};Ke(ae.posParams,(Lt,wn)=>{Pe[wn]=Lt.path});const je=ae.consumed.length>0?Object.assign(Object.assign({},Pe),ae.consumed[ae.consumed.length-1].parameters):Pe;return{matched:!0,consumedSegments:ae.consumed,remainingSegments:w.slice(ae.consumed.length),parameters:je,positionalParamSegments:null!==(L=ae.posParams)&&void 0!==L?L:{}}}function bs(O,D,w,L,k="corrected"){if(w.length>0&&function ie(O,D,w){return w.some(L=>ue(O,D,L)&&_r(L)!==rn)}(O,w,L)){const Pe=new fe(D,function V(O,D,w,L){const k={};k[rn]=L,L._sourceSegment=O,L._segmentIndexShift=D.length;for(const ae of w)if(""===ae.path&&_r(ae)!==rn){const Pe=new fe([],{});Pe._sourceSegment=O,Pe._segmentIndexShift=D.length,k[_r(ae)]=Pe}return k}(O,D,L,new fe(w,O.children)));return Pe._sourceSegment=O,Pe._segmentIndexShift=D.length,{segmentGroup:Pe,slicedSegments:[]}}if(0===w.length&&function F(O,D,w){return w.some(L=>ue(O,D,L))}(O,w,L)){const Pe=new fe(O.segments,function Fi(O,D,w,L,k,ae){const Pe={};for(const je of L)if(ue(O,w,je)&&!k[_r(je)]){const Lt=new fe([],{});Lt._sourceSegment=O,Lt._segmentIndexShift="legacy"===ae?O.segments.length:D.length,Pe[_r(je)]=Lt}return Object.assign(Object.assign({},k),Pe)}(O,D,w,L,O.children,k));return Pe._sourceSegment=O,Pe._segmentIndexShift=D.length,{segmentGroup:Pe,slicedSegments:w}}const ae=new fe(O.segments,O.children);return ae._sourceSegment=O,ae._segmentIndexShift=D.length,{segmentGroup:ae,slicedSegments:w}}function ue(O,D,w){return(!(O.hasChildren()||D.length>0)||"full"!==w.pathMatch)&&""===w.path}function $e(O,D,w,L){return!!(_r(O)===L||L!==rn&&ue(D,w,O))&&("**"===O.path||Zn(D,O,w).matched)}function St(O,D,w){return 0===D.length&&!O.children[w]}class $t{constructor(D){this.segmentGroup=D||null}}class Mn{constructor(D){this.urlTree=D}}function Gn(O){return Ce(new $t(O))}function yi(O){return Ce(new Mn(O))}class Hi{constructor(D,w,L,k,ae){this.configLoader=w,this.urlSerializer=L,this.urlTree=k,this.config=ae,this.allowRedirects=!0,this.ngModule=D.get(f.h0i)}apply(){const D=bs(this.urlTree.root,[],[],this.config).segmentGroup,w=new fe(D.segments,D.children);return this.expandSegmentGroup(this.ngModule,this.config,w,rn).pipe((0,ke.U)(ae=>this.createUrlTree(H(ae),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gt(ae=>{if(ae instanceof Mn)return this.allowRedirects=!1,this.match(ae.urlTree);throw ae instanceof $t?this.noMatchError(ae):ae}))}match(D){return this.expandSegmentGroup(this.ngModule,this.config,D.root,rn).pipe((0,ke.U)(k=>this.createUrlTree(H(k),D.queryParams,D.fragment))).pipe(gt(k=>{throw k instanceof $t?this.noMatchError(k):k}))}noMatchError(D){return new Error(`Cannot match any routes. URL Segment: '${D.segmentGroup}'`)}createUrlTree(D,w,L){const k=D.segments.length>0?new fe([],{[rn]:D}):D;return new Ft(k,w,L)}expandSegmentGroup(D,w,L,k){return 0===L.segments.length&&L.hasChildren()?this.expandChildren(D,w,L).pipe((0,ke.U)(ae=>new fe([],ae))):this.expandSegment(D,L,w,L.segments,k,!0)}expandChildren(D,w,L){const k=[];for(const ae of Object.keys(L.children))"primary"===ae?k.unshift(ae):k.push(ae);return(0,J.D)(k).pipe((0,xt.b)(ae=>{const Pe=L.children[ae],je=wo(w,ae);return this.expandSegmentGroup(D,je,Pe,ae).pipe((0,ke.U)(Lt=>({segment:Lt,outlet:ae})))}),(0,st.R)((ae,Pe)=>(ae[Pe.outlet]=Pe.segment,ae),{}),function Je(O,D){const w=arguments.length>=2;return L=>L.pipe(O?(0,ge.h)((k,ae)=>O(k,ae,L)):K.y,be(1),w?(0,bt.d)(D):(0,Qe.T)(()=>new Ve.K))}())}expandSegment(D,w,L,k,ae,Pe){return(0,J.D)(L).pipe((0,xt.b)(je=>this.expandSegmentAgainstRoute(D,w,L,je,k,ae,Pe).pipe(gt(wn=>{if(wn instanceof $t)return(0,le.of)(null);throw wn}))),(0,tn.P)(je=>!!je),gt((je,Lt)=>{if(je instanceof Ve.K||"EmptyError"===je.name)return St(w,k,ae)?(0,le.of)(new fe([],{})):Gn(w);throw je}))}expandSegmentAgainstRoute(D,w,L,k,ae,Pe,je){return $e(k,w,ae,Pe)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(D,w,k,ae,Pe):je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,w,L,k,ae,Pe):Gn(w):Gn(w)}expandSegmentAgainstRouteUsingRedirect(D,w,L,k,ae,Pe){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,L,k,Pe):this.expandRegularSegmentAgainstRouteUsingRedirect(D,w,L,k,ae,Pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,w,L,k){const ae=this.applyRedirectCommands([],L.redirectTo,{});return L.redirectTo.startsWith("/")?yi(ae):this.lineralizeSegments(L,ae).pipe((0,ft.z)(Pe=>{const je=new fe(Pe,{});return this.expandSegment(D,je,w,Pe,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,w,L,k,ae,Pe){const{matched:je,consumedSegments:Lt,remainingSegments:wn,positionalParamSegments:ui}=Zn(w,k,ae);if(!je)return Gn(w);const Rn=this.applyRedirectCommands(Lt,k.redirectTo,ui);return k.redirectTo.startsWith("/")?yi(Rn):this.lineralizeSegments(k,Rn).pipe((0,ft.z)(Mi=>this.expandSegment(D,w,L,Mi.concat(wn),Pe,!1)))}matchSegmentAgainstRoute(D,w,L,k,ae){if("**"===L.path)return L.loadChildren?(L._loadedConfig?(0,le.of)(L._loadedConfig):this.configLoader.load(D.injector,L)).pipe((0,ke.U)(Rn=>(L._loadedConfig=Rn,new fe(k,{})))):(0,le.of)(new fe(k,{}));const{matched:Pe,consumedSegments:je,remainingSegments:Lt}=Zn(w,L,k);return Pe?this.getChildConfig(D,L,k).pipe((0,ft.z)(ui=>{const Rn=ui.module,Mi=ui.routes,{segmentGroup:Pi,slicedSegments:gr}=bs(w,je,Lt,Mi),po=new fe(Pi.segments,Pi.children);if(0===gr.length&&po.hasChildren())return this.expandChildren(Rn,Mi,po).pipe((0,ke.U)(qo=>new fe(je,qo)));if(0===Mi.length&&0===gr.length)return(0,le.of)(new fe(je,{}));const Oo=_r(L)===ae;return this.expandSegment(Rn,po,Mi,gr,Oo?rn:ae,!0).pipe((0,ke.U)(qr=>new fe(je.concat(qr.segments),qr.children)))})):Gn(w)}getChildConfig(D,w,L){return w.children?(0,le.of)(new Go(w.children,D)):w.loadChildren?void 0!==w._loadedConfig?(0,le.of)(w._loadedConfig):this.runCanLoadGuards(D.injector,w,L).pipe((0,ft.z)(k=>k?this.configLoader.load(D.injector,w).pipe((0,ke.U)(ae=>(w._loadedConfig=ae,ae))):function di(O){return Ce(Fe(`Cannot load children because the guard of the route "path: '${O.path}'" returned false`))}(w))):(0,le.of)(new Go([],D))}runCanLoadGuards(D,w,L){const k=w.canLoad;if(!k||0===k.length)return(0,le.of)(!0);const ae=k.map(Pe=>{const je=D.get(Pe);let Lt;if(function Es(O){return O&&xr(O.canLoad)}(je))Lt=je.canLoad(w,L);else{if(!xr(je))throw new Error("Invalid CanLoad guard");Lt=je(w,L)}return wt(Lt)});return(0,le.of)(ae).pipe(Xr(),(0,mt.b)(Pe=>{if(!Jn(Pe))return;const je=Fe(`Redirecting to "${this.urlSerializer.serialize(Pe)}"`);throw je.url=Pe,je}),(0,ke.U)(Pe=>!0===Pe))}lineralizeSegments(D,w){let L=[],k=w.root;for(;;){if(L=L.concat(k.segments),0===k.numberOfChildren)return(0,le.of)(L);if(k.numberOfChildren>1||!k.children[rn])return Ce(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D.redirectTo}'`));k=k.children[rn]}}applyRedirectCommands(D,w,L){return this.applyRedirectCreatreUrlTree(w,this.urlSerializer.parse(w),D,L)}applyRedirectCreatreUrlTree(D,w,L,k){const ae=this.createSegmentGroup(D,w.root,L,k);return new Ft(ae,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(D,w){const L={};return Ke(D,(k,ae)=>{if("string"==typeof k&&k.startsWith(":")){const je=k.substring(1);L[ae]=w[je]}else L[ae]=k}),L}createSegmentGroup(D,w,L,k){const ae=this.createSegments(D,w.segments,L,k);let Pe={};return Ke(w.children,(je,Lt)=>{Pe[Lt]=this.createSegmentGroup(D,je,L,k)}),new fe(ae,Pe)}createSegments(D,w,L,k){return w.map(ae=>ae.path.startsWith(":")?this.findPosParam(D,ae,k):this.findOrReturn(ae,L))}findPosParam(D,w,L){const k=L[w.path.substring(1)];if(!k)throw new Error(`Cannot redirect to '${D}'. Cannot find '${w.path}'.`);return k}findOrReturn(D,w){let L=0;for(const k of w){if(k.path===D.path)return w.splice(L),k;L++}return D}}function H(O){const D={};for(const L of Object.keys(O.children)){const ae=H(O.children[L]);(ae.segments.length>0||ae.hasChildren())&&(D[L]=ae)}return function Vi(O){if(1===O.numberOfChildren&&O.children[rn]){const D=O.children[rn];return new fe(O.segments.concat(D.segments),D.children)}return O}(new fe(O.segments,D))}class M{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class re{constructor(D,w){this.component=D,this.route=w}}function Pt(O,D,w){const L=O._root;return us(L,D?D._root:null,w,[L.value])}function Li(O,D,w){const L=function ws(O){if(!O)return null;for(let D=O.parent;D;D=D.parent){const w=D.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig}return null}(D);return(L?L.module.injector:w).get(O)}function us(O,D,w,L,k={canDeactivateChecks:[],canActivateChecks:[]}){const ae=Ln(D);return O.children.forEach(Pe=>{(function Zo(O,D,w,L,k={canDeactivateChecks:[],canActivateChecks:[]}){const ae=O.value,Pe=D?D.value:null,je=w?w.getContext(O.value.outlet):null;if(Pe&&ae.routeConfig===Pe.routeConfig){const Lt=function ma(O,D,w){if("function"==typeof w)return w(O,D);switch(w){case"pathParamsChange":return!ye(O.url,D.url);case"pathParamsOrQueryParamsChange":return!ye(O.url,D.url)||!Nt(O.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xi(O,D)||!Nt(O.queryParams,D.queryParams);default:return!Xi(O,D)}}(Pe,ae,ae.routeConfig.runGuardsAndResolvers);Lt?k.canActivateChecks.push(new M(L)):(ae.data=Pe.data,ae._resolvedData=Pe._resolvedData),us(O,D,ae.component?je?je.children:null:w,L,k),Lt&&je&&je.outlet&&je.outlet.isActivated&&k.canDeactivateChecks.push(new re(je.outlet.component,Pe))}else Pe&&Gt(D,je,k),k.canActivateChecks.push(new M(L)),us(O,null,ae.component?je?je.children:null:w,L,k)})(Pe,ae[Pe.value.outlet],w,L.concat([Pe.value]),k),delete ae[Pe.value.outlet]}),Ke(ae,(Pe,je)=>Gt(Pe,w.getContext(je),k)),k}function Gt(O,D,w){const L=Ln(O),k=O.value;Ke(L,(ae,Pe)=>{Gt(ae,k.component?D?D.children.getContext(Pe):null:D,w)}),w.canDeactivateChecks.push(new re(k.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,k))}class yl{}function Ra(O){return new h.y(D=>D.error(O))}class Ks{constructor(D,w,L,k,ae,Pe){this.rootComponentType=D,this.config=w,this.urlTree=L,this.url=k,this.paramsInheritanceStrategy=ae,this.relativeLinkResolution=Pe}recognize(){const D=bs(this.urlTree.root,[],[],this.config.filter(Pe=>void 0===Pe.redirectTo),this.relativeLinkResolution).segmentGroup,w=this.processSegmentGroup(this.config,D,rn);if(null===w)return null;const L=new Ci([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),k=new Ii(L,w),ae=new Dr(this.url,k);return this.inheritParamsAndData(ae._root),ae}inheritParamsAndData(D){const w=D.value,L=At(w,this.paramsInheritanceStrategy);w.params=Object.freeze(L.params),w.data=Object.freeze(L.data),D.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(D,w,L){return 0===w.segments.length&&w.hasChildren()?this.processChildren(D,w):this.processSegment(D,w,w.segments,L)}processChildren(D,w){const L=[];for(const ae of Object.keys(w.children)){const Pe=w.children[ae],je=wo(D,ae),Lt=this.processSegmentGroup(je,Pe,ae);if(null===Lt)return null;L.push(...Lt)}const k=Ar(L);return function Mr(O){O.sort((D,w)=>D.value.outlet===rn?-1:w.value.outlet===rn?1:D.value.outlet.localeCompare(w.value.outlet))}(k),k}processSegment(D,w,L,k){for(const ae of D){const Pe=this.processSegmentAgainstRoute(ae,w,L,k);if(null!==Pe)return Pe}return St(w,L,k)?[]:null}processSegmentAgainstRoute(D,w,L,k){if(D.redirectTo||!$e(D,w,L,k))return null;let ae,Pe=[],je=[];if("**"===D.path){const Pi=L.length>0?Oe(L).parameters:{};ae=new Ci(L,Pi,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Na(D),_r(D),D.component,D,ia(w),To(w)+L.length,Ts(D))}else{const Pi=Zn(w,D,L);if(!Pi.matched)return null;Pe=Pi.consumedSegments,je=Pi.remainingSegments,ae=new Ci(Pe,Pi.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Na(D),_r(D),D.component,D,ia(w),To(w)+Pe.length,Ts(D))}const Lt=function Os(O){return O.children?O.children:O.loadChildren?O._loadedConfig.routes:[]}(D),{segmentGroup:wn,slicedSegments:ui}=bs(w,Pe,je,Lt.filter(Pi=>void 0===Pi.redirectTo),this.relativeLinkResolution);if(0===ui.length&&wn.hasChildren()){const Pi=this.processChildren(Lt,wn);return null===Pi?null:[new Ii(ae,Pi)]}if(0===Lt.length&&0===ui.length)return[new Ii(ae,[])];const Rn=_r(D)===k,Mi=this.processSegment(Lt,wn,ui,Rn?rn:k);return null===Mi?null:[new Ii(ae,Mi)]}}function uo(O){const D=O.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function Ar(O){const D=[],w=new Set;for(const L of O){if(!uo(L)){D.push(L);continue}const k=D.find(ae=>L.value.routeConfig===ae.value.routeConfig);void 0!==k?(k.children.push(...L.children),w.add(k)):D.push(L)}for(const L of w){const k=Ar(L.children);D.push(new Ii(L.value,k))}return D.filter(L=>!w.has(L))}function ia(O){let D=O;for(;D._sourceSegment;)D=D._sourceSegment;return D}function To(O){let D=O,w=D._segmentIndexShift?D._segmentIndexShift:0;for(;D._sourceSegment;)D=D._sourceSegment,w+=D._segmentIndexShift?D._segmentIndexShift:0;return w-1}function Na(O){return O.data||{}}function Ts(O){return O.resolve||{}}function Io(O){return[...Object.keys(O),...Object.getOwnPropertySymbols(O)]}function Ao(O){return(0,Ue.w)(D=>{const w=O(D);return w?(0,J.D)(w).pipe((0,ke.U)(()=>D)):(0,le.of)(D)})}class _l extends class ra{shouldDetach(D){return!1}store(D,w){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,w){return D.routeConfig===w.routeConfig}}{}const sa=new f.OlP("ROUTES");class xo{constructor(D,w,L,k){this.injector=D,this.compiler=w,this.onLoadStartListener=L,this.onLoadEndListener=k}load(D,w){if(w._loader$)return w._loader$;this.onLoadStartListener&&this.onLoadStartListener(w);const k=this.loadModuleFactory(w.loadChildren).pipe((0,ke.U)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(w);const Pe=ae.create(D);return new Go(Re(Pe.injector.get(sa,void 0,f.XFs.Self|f.XFs.Optional)).map(ls),Pe)}),gt(ae=>{throw w._loader$=void 0,ae}));return w._loader$=new Q(k,()=>new ct.x).pipe(ce()),w._loader$}loadModuleFactory(D){return wt(D()).pipe((0,ft.z)(w=>w instanceof f.YKP?(0,le.of)(w):(0,J.D)(this.compiler.compileModuleAsync(w))))}}class El{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,w){return D}}function ns(O){throw O}function co(O,D,w){return D.parse("/")}function Ji(O,D){return(0,le.of)(null)}const _a={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ji=(()=>{class O{constructor(w,L,k,ae,Pe,je,Lt){this.rootComponentType=w,this.urlSerializer=L,this.rootContexts=k,this.location=ae,this.config=Lt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ct.x,this.errorHandler=ns,this.malformedUriErrorHandler=co,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ji,afterPreactivation:Ji},this.urlHandlingStrategy=new El,this.routeReuseStrategy=new _l,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Pe.get(f.h0i),this.console=Pe.get(f.c2e);const Rn=Pe.get(f.R0b);this.isNgZoneEnabled=Rn instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(Lt),this.currentUrlTree=function Mt(){return new Ft(new fe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xo(Pe,je,Mi=>this.triggerEvent(new Qn(Mi)),Mi=>this.triggerEvent(new Si(Mi))),this.routerState=Bi(this.currentUrlTree,this.rootComponentType),this.transitions=new De.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}setupNavigations(w){const L=this.events;return w.pipe((0,ge.h)(k=>0!==k.id),(0,ke.U)(k=>Object.assign(Object.assign({},k),{extractedUrl:this.urlHandlingStrategy.extract(k.rawUrl)})),(0,Ue.w)(k=>{let ae=!1,Pe=!1;return(0,le.of)(k).pipe((0,mt.b)(je=>{this.currentNavigation={id:je.id,initialUrl:je.currentRawUrl,extractedUrl:je.extractedUrl,trigger:je.source,extras:je.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ue.w)(je=>{const Lt=this.browserUrlTree.toString(),wn=!this.navigated||je.extractedUrl.toString()!==Lt||Lt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||wn)&&this.urlHandlingStrategy.shouldProcessUrl(je.rawUrl))return ho(je.source)&&(this.browserUrlTree=je.extractedUrl),(0,le.of)(je).pipe((0,Ue.w)(Rn=>{const Mi=this.transitions.getValue();return L.next(new Rt(Rn.id,this.serializeUrl(Rn.extractedUrl),Rn.source,Rn.restoredState)),Mi!==this.transitions.getValue()?ze.E:Promise.resolve(Rn)}),function N(O,D,w,L){return(0,Ue.w)(k=>function tr(O,D,w,L,k){return new Hi(O,D,w,L,k).apply()}(O,D,w,k.extractedUrl,L).pipe((0,ke.U)(ae=>Object.assign(Object.assign({},k),{urlAfterRedirects:ae}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,mt.b)(Rn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Rn.urlAfterRedirects})}),function vl(O,D,w,L,k){return(0,ft.z)(ae=>function lo(O,D,w,L,k="emptyOnly",ae="legacy"){try{const Pe=new Ks(O,D,w,L,k,ae).recognize();return null===Pe?Ra(new yl):(0,le.of)(Pe)}catch(Pe){return Ra(Pe)}}(O,D,ae.urlAfterRedirects,w(ae.urlAfterRedirects),L,k).pipe((0,ke.U)(Pe=>Object.assign(Object.assign({},ae),{targetSnapshot:Pe}))))}(this.rootComponentType,this.config,Rn=>this.serializeUrl(Rn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,mt.b)(Rn=>{if("eager"===this.urlUpdateStrategy){if(!Rn.extras.skipLocationChange){const Pi=this.urlHandlingStrategy.merge(Rn.urlAfterRedirects,Rn.rawUrl);this.setBrowserUrl(Pi,Rn)}this.browserUrlTree=Rn.urlAfterRedirects}const Mi=new xn(Rn.id,this.serializeUrl(Rn.extractedUrl),this.serializeUrl(Rn.urlAfterRedirects),Rn.targetSnapshot);L.next(Mi)}));if(wn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Mi,extractedUrl:Pi,source:gr,restoredState:po,extras:Oo}=je,go=new Rt(Mi,this.serializeUrl(Pi),gr,po);L.next(go);const qr=Bi(Pi,this.rootComponentType).snapshot;return(0,le.of)(Object.assign(Object.assign({},je),{targetSnapshot:qr,urlAfterRedirects:Pi,extras:Object.assign(Object.assign({},Oo),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=je.rawUrl,je.resolve(null),ze.E}),Ao(je=>{const{targetSnapshot:Lt,id:wn,extractedUrl:ui,rawUrl:Rn,extras:{skipLocationChange:Mi,replaceUrl:Pi}}=je;return this.hooks.beforePreactivation(Lt,{navigationId:wn,appliedUrlTree:ui,rawUrlTree:Rn,skipLocationChange:!!Mi,replaceUrl:!!Pi})}),(0,mt.b)(je=>{const Lt=new Vn(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(Lt)}),(0,ke.U)(je=>Object.assign(Object.assign({},je),{guards:Pt(je.targetSnapshot,je.currentSnapshot,this.rootContexts)})),function bi(O,D){return(0,ft.z)(w=>{const{targetSnapshot:L,currentSnapshot:k,guards:{canActivateChecks:ae,canDeactivateChecks:Pe}}=w;return 0===Pe.length&&0===ae.length?(0,le.of)(Object.assign(Object.assign({},w),{guardsResult:!0})):function ml(O,D,w,L){return(0,J.D)(O).pipe((0,ft.z)(k=>function va(O,D,w,L,k){const ae=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,le.of)(!0);const Pe=ae.map(je=>{const Lt=Li(je,D,k);let wn;if(function Ma(O){return O&&xr(O.canDeactivate)}(Lt))wn=wt(Lt.canDeactivate(O,D,w,L));else{if(!xr(Lt))throw new Error("Invalid CanDeactivate guard");wn=wt(Lt(O,D,w,L))}return wn.pipe((0,tn.P)())});return(0,le.of)(Pe).pipe(Xr())}(k.component,k.route,w,D,L)),(0,tn.P)(k=>!0!==k,!0))}(Pe,L,k,O).pipe((0,ft.z)(je=>je&&function Ss(O){return"boolean"==typeof O}(je)?function lr(O,D,w,L){return(0,J.D)(D).pipe((0,xt.b)(k=>(0,at.z)(function Co(O,D){return null!==O&&D&&D(new On(O)),(0,le.of)(!0)}(k.route.parent,L),function ya(O,D){return null!==O&&D&&D(new on(O)),(0,le.of)(!0)}(k.route,L),function Pa(O,D,w){const L=D[D.length-1],ae=D.slice(0,D.length-1).reverse().map(Pe=>function Sn(O){const D=O.routeConfig?O.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:O,guards:D}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>(0,ut.P)(()=>{const je=Pe.guards.map(Lt=>{const wn=Li(Lt,Pe.node,w);let ui;if(function hs(O){return O&&xr(O.canActivateChild)}(wn))ui=wt(wn.canActivateChild(L,O));else{if(!xr(wn))throw new Error("Invalid CanActivateChild guard");ui=wt(wn(L,O))}return ui.pipe((0,tn.P)())});return(0,le.of)(je).pipe(Xr())}));return(0,le.of)(ae).pipe(Xr())}(O,k.path,w),function Hs(O,D,w){const L=D.routeConfig?D.routeConfig.canActivate:null;if(!L||0===L.length)return(0,le.of)(!0);const k=L.map(ae=>(0,ut.P)(()=>{const Pe=Li(ae,D,w);let je;if(function xs(O){return O&&xr(O.canActivate)}(Pe))je=wt(Pe.canActivate(D,O));else{if(!xr(Pe))throw new Error("Invalid CanActivate guard");je=wt(Pe(D,O))}return je.pipe((0,tn.P)())}));return(0,le.of)(k).pipe(Xr())}(O,k.route,w))),(0,tn.P)(k=>!0!==k,!0))}(L,ae,O,D):(0,le.of)(je)),(0,ke.U)(je=>Object.assign(Object.assign({},w),{guardsResult:je})))})}(this.ngModule.injector,je=>this.triggerEvent(je)),(0,mt.b)(je=>{if(Jn(je.guardsResult)){const wn=Fe(`Redirecting to "${this.serializeUrl(je.guardsResult)}"`);throw wn.url=je.guardsResult,wn}const Lt=new Xn(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot,!!je.guardsResult);this.triggerEvent(Lt)}),(0,ge.h)(je=>!!je.guardsResult||(this.restoreHistory(je),this.cancelNavigationTransition(je,""),!1)),Ao(je=>{if(je.guards.canActivateChecks.length)return(0,le.of)(je).pipe((0,mt.b)(Lt=>{const wn=new jn(Lt.id,this.serializeUrl(Lt.extractedUrl),this.serializeUrl(Lt.urlAfterRedirects),Lt.targetSnapshot);this.triggerEvent(wn)}),(0,Ue.w)(Lt=>{let wn=!1;return(0,le.of)(Lt).pipe(function Ko(O,D){return(0,ft.z)(w=>{const{targetSnapshot:L,guards:{canActivateChecks:k}}=w;if(!k.length)return(0,le.of)(w);let ae=0;return(0,J.D)(k).pipe((0,xt.b)(Pe=>function Do(O,D,w,L){return function La(O,D,w,L){const k=Io(O);if(0===k.length)return(0,le.of)({});const ae={};return(0,J.D)(k).pipe((0,ft.z)(Pe=>function ts(O,D,w,L){const k=Li(O,D,L);return wt(k.resolve?k.resolve(D,w):k(D,w))}(O[Pe],D,w,L).pipe((0,mt.b)(je=>{ae[Pe]=je}))),be(1),(0,ft.z)(()=>Io(ae).length===k.length?(0,le.of)(ae):ze.E))}(O._resolve,O,D,L).pipe((0,ke.U)(ae=>(O._resolvedData=ae,O.data=Object.assign(Object.assign({},O.data),At(O,w).resolve),null)))}(Pe.route,L,O,D)),(0,mt.b)(()=>ae++),be(1),(0,ft.z)(Pe=>ae===k.length?(0,le.of)(w):ze.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,mt.b)({next:()=>wn=!0,complete:()=>{wn||(this.restoreHistory(Lt),this.cancelNavigationTransition(Lt,"At least one route resolver didn't emit any value."))}}))}),(0,mt.b)(Lt=>{const wn=new li(Lt.id,this.serializeUrl(Lt.extractedUrl),this.serializeUrl(Lt.urlAfterRedirects),Lt.targetSnapshot);this.triggerEvent(wn)}))}),Ao(je=>{const{targetSnapshot:Lt,id:wn,extractedUrl:ui,rawUrl:Rn,extras:{skipLocationChange:Mi,replaceUrl:Pi}}=je;return this.hooks.afterPreactivation(Lt,{navigationId:wn,appliedUrlTree:ui,rawUrlTree:Rn,skipLocationChange:!!Mi,replaceUrl:!!Pi})}),(0,ke.U)(je=>{const Lt=function Ir(O,D,w){const L=Gr(O,D._root,w?w._root:void 0);return new Oi(L,D)}(this.routeReuseStrategy,je.targetSnapshot,je.currentRouterState);return Object.assign(Object.assign({},je),{targetRouterState:Lt})}),(0,mt.b)(je=>{this.currentUrlTree=je.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(je.urlAfterRedirects,je.rawUrl),this.routerState=je.targetRouterState,"deferred"===this.urlUpdateStrategy&&(je.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,je),this.browserUrlTree=je.urlAfterRedirects)}),((O,D,w)=>(0,ke.U)(L=>(new Zr(D,L.targetRouterState,L.currentRouterState,w).activate(O),L)))(this.rootContexts,this.routeReuseStrategy,je=>this.triggerEvent(je)),(0,mt.b)({next(){ae=!0},complete(){ae=!0}}),function nt(O){return(0,Ne.e)((D,w)=>{try{D.subscribe(w)}finally{w.add(O)}})}(()=>{var je;ae||Pe||this.cancelNavigationTransition(k,`Navigation ID ${k.id} is not equal to the current navigation id ${this.navigationId}`),(null===(je=this.currentNavigation)||void 0===je?void 0:je.id)===k.id&&(this.currentNavigation=null)}),gt(je=>{if(Pe=!0,function Ge(O){return O&&O[Ot]}(je)){const Lt=Jn(je.url);Lt||(this.navigated=!0,this.restoreHistory(k,!0));const wn=new nn(k.id,this.serializeUrl(k.extractedUrl),je.message);L.next(wn),Lt?setTimeout(()=>{const ui=this.urlHandlingStrategy.merge(je.url,this.rawUrlTree),Rn={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ho(k.source)};this.scheduleNavigation(ui,"imperative",null,Rn,{resolve:k.resolve,reject:k.reject,promise:k.promise})},0):k.resolve(!1)}else{this.restoreHistory(k,!0);const Lt=new yn(k.id,this.serializeUrl(k.extractedUrl),je);L.next(Lt);try{k.resolve(this.errorHandler(je))}catch(wn){k.reject(wn)}}return ze.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}setTransition(w){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),w))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const L="popstate"===w.type?"popstate":"hashchange";"popstate"===L&&setTimeout(()=>{var k;const ae={replaceUrl:!0},Pe=(null===(k=w.state)||void 0===k?void 0:k.navigationId)?w.state:null;if(Pe){const Lt=Object.assign({},Pe);delete Lt.navigationId,delete Lt.\u0275routerPageId,0!==Object.keys(Lt).length&&(ae.state=Lt)}const je=this.parseUrl(w.url);this.scheduleNavigation(je,L,Pe,ae)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){Or(w),this.config=w.map(ls),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,L={}){const{relativeTo:k,queryParams:ae,fragment:Pe,queryParamsHandling:je,preserveFragment:Lt}=L,wn=k||this.routerState.root,ui=Lt?this.currentUrlTree.fragment:Pe;let Rn=null;switch(je){case"merge":Rn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ae);break;case"preserve":Rn=this.currentUrlTree.queryParams;break;default:Rn=ae||null}return null!==Rn&&(Rn=this.removeEmptyProps(Rn)),function Wr(O,D,w,L,k){if(0===w.length)return Bs(D.root,D.root,D.root,L,k);const ae=function ot(O){if("string"==typeof O[0]&&1===O.length&&"/"===O[0])return new bo(!0,0,O);let D=0,w=!1;const L=O.reduce((k,ae,Pe)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const je={};return Ke(ae.outlets,(Lt,wn)=>{je[wn]="string"==typeof Lt?Lt.split("/"):Lt}),[...k,{outlets:je}]}if(ae.segmentPath)return[...k,ae.segmentPath]}return"string"!=typeof ae?[...k,ae]:0===Pe?(ae.split("/").forEach((je,Lt)=>{0==Lt&&"."===je||(0==Lt&&""===je?w=!0:".."===je?D++:""!=je&&k.push(je))}),k):[...k,ae]},[]);return new bo(w,D,L)}(w);if(ae.toRoot())return Bs(D.root,D.root,new fe([],{}),L,k);const Pe=function pt(O,D,w){if(O.isAbsolute)return new Ye(D.root,!0,0);if(-1===w.snapshot._lastPathIndex){const ae=w.snapshot._urlSegment;return new Ye(ae,ae===D.root,0)}const L=_s(O.commands[0])?0:1;return function Bt(O,D,w){let L=O,k=D,ae=w;for(;ae>k;){if(ae-=k,L=L.parent,!L)throw new Error("Invalid number of '../'");k=L.segments.length}return new Ye(L,!1,k-ae)}(w.snapshot._urlSegment,w.snapshot._lastPathIndex+L,O.numberOfDoubleDots)}(ae,D,O),je=Pe.processChildren?$n(Pe.segmentGroup,Pe.index,ae.commands):En(Pe.segmentGroup,Pe.index,ae.commands);return Bs(D.root,Pe.segmentGroup,je,L,k)}(wn,this.currentUrlTree,w,Rn,null!=ui?ui:null)}navigateByUrl(w,L={skipLocationChange:!1}){const k=Jn(w)?w:this.parseUrl(w),ae=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(ae,"imperative",null,L)}navigate(w,L={skipLocationChange:!1}){return function Ds(O){for(let D=0;D<O.length;D++){const w=O[D];if(null==w)throw new Error(`The requested path contains ${w} segment at index ${D}`)}}(w),this.navigateByUrl(this.createUrlTree(w,L),L)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let L;try{L=this.urlSerializer.parse(w)}catch(k){L=this.malformedUriErrorHandler(k,this.urlSerializer,w)}return L}isActive(w,L){let k;if(k=!0===L?Object.assign({},_a):!1===L?Object.assign({},lu):L,Jn(w))return fn(this.currentUrlTree,w,k);const ae=this.parseUrl(w);return fn(this.currentUrlTree,ae,k)}removeEmptyProps(w){return Object.keys(w).reduce((L,k)=>{const ae=w[k];return null!=ae&&(L[k]=ae),L},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new Ht(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,L,k,ae,Pe){var je,Lt;if(this.disposed)return Promise.resolve(!1);let wn,ui,Rn;Pe?(wn=Pe.resolve,ui=Pe.reject,Rn=Pe.promise):Rn=new Promise((gr,po)=>{wn=gr,ui=po});const Mi=++this.navigationId;let Pi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(k=this.location.getState()),Pi=k&&k.\u0275routerPageId?k.\u0275routerPageId:ae.replaceUrl||ae.skipLocationChange?null!==(je=this.browserPageId)&&void 0!==je?je:0:(null!==(Lt=this.browserPageId)&&void 0!==Lt?Lt:0)+1):Pi=0,this.setTransition({id:Mi,targetPageId:Pi,source:L,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:ae,resolve:wn,reject:ui,promise:Rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rn.catch(gr=>Promise.reject(gr))}setBrowserUrl(w,L){const k=this.urlSerializer.serialize(w),ae=Object.assign(Object.assign({},L.extras.state),this.generateNgRouterState(L.id,L.targetPageId));this.location.isCurrentPathEqualTo(k)||L.extras.replaceUrl?this.location.replaceState(k,"",ae):this.location.go(k,"",ae)}restoreHistory(w,L=!1){var k,ae;if("computed"===this.canceledNavigationResolution){const Pe=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(k=this.currentNavigation)||void 0===k?void 0:k.finalUrl)||0===Pe?this.currentUrlTree===(null===(ae=this.currentNavigation)||void 0===ae?void 0:ae.finalUrl)&&0===Pe&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Pe)}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,L){const k=new nn(w.id,this.serializeUrl(w.extractedUrl),L);this.triggerEvent(k),w.resolve(!1)}generateNgRouterState(w,L){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:L}:{navigationId:w}}}return O.\u0275fac=function(w){f.$Z()},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac}),O})();function ho(O){return"imperative"!==O}let fo=(()=>{class O{constructor(w,L,k,ae,Pe){this.router=w,this.route=L,this.tabIndexAttribute=k,this.renderer=ae,this.el=Pe,this.commands=null,this.onChanges=new ct.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){if(null!=this.tabIndexAttribute)return;const L=this.renderer,k=this.el.nativeElement;null!==w?L.setAttribute(k,"tabindex",w):L.removeAttribute(k,"tabindex")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const w={skipLocationChange:Kt(this.skipLocationChange),replaceUrl:Kt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Kt(this.preserveFragment)})}}return O.\u0275fac=function(w){return new(w||O)(f.Y36(ji),f.Y36(rr),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},O.\u0275dir=f.lG2({type:O,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,L){1&w&&f.NdJ("click",function(){return L.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),O})(),Ms=(()=>{class O{constructor(w,L,k){this.router=w,this.route=L,this.locationStrategy=k,this.commands=null,this.href=null,this.onChanges=new ct.x,this.subscription=w.events.subscribe(ae=>{ae instanceof Ht&&this.updateTargetUrlAndHref()})}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:null}ngOnChanges(w){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(w,L,k,ae,Pe){if(0!==w||L||k||ae||Pe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const je={skipLocationChange:Kt(this.skipLocationChange),replaceUrl:Kt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,je),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Kt(this.preserveFragment)})}}return O.\u0275fac=function(w){return new(w||O)(f.Y36(ji),f.Y36(rr),f.Y36(Se.S$))},O.\u0275dir=f.lG2({type:O,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(w,L){1&w&&f.NdJ("click",function(ae){return L.onClick(ae.button,ae.ctrlKey,ae.shiftKey,ae.altKey,ae.metaKey)}),2&w&&f.uIk("target",L.target)("href",L.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),O})();function Kt(O){return""===O||!!O}let nr=(()=>{class O{constructor(w,L,k,ae,Pe,je){this.router=w,this.element=L,this.renderer=k,this.cdr=ae,this.link=Pe,this.linkWithHref=je,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=w.events.subscribe(Lt=>{Lt instanceof Ht&&this.update()})}ngAfterContentInit(){(0,le.of)(this.links.changes,this.linksWithHrefs.changes,(0,le.of)(null)).pipe((0,q.J)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var w;null===(w=this.linkInputChangesSubscription)||void 0===w||w.unsubscribe();const L=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(k=>!!k).map(k=>k.onChanges);this.linkInputChangesSubscription=(0,J.D)(L).pipe((0,q.J)()).subscribe(k=>{this.isActive!==this.isLinkActive(this.router)(k)&&this.update()})}set routerLinkActive(w){const L=Array.isArray(w)?w:w.split(" ");this.classes=L.filter(k=>!!k)}ngOnChanges(w){this.update()}ngOnDestroy(){var w;this.routerEventsSubscription.unsubscribe(),null===(w=this.linkInputChangesSubscription)||void 0===w||w.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const w=this.hasActiveLinks();this.isActive!==w&&(this.isActive=w,this.cdr.markForCheck(),this.classes.forEach(L=>{w?this.renderer.addClass(this.element.nativeElement,L):this.renderer.removeClass(this.element.nativeElement,L)}),this.isActiveChange.emit(w))})}isLinkActive(w){const L=function $i(O){return!!O.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return k=>!!k.urlTree&&w.isActive(k.urlTree,L)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.linkWithHref&&w(this.linkWithHref)||this.links.some(w)||this.linksWithHrefs.some(w)}}return O.\u0275fac=function(w){return new(w||O)(f.Y36(ji),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(fo,8),f.Y36(Ms,8))},O.\u0275dir=f.lG2({type:O,selectors:[["","routerLinkActive",""]],contentQueries:function(w,L,k){if(1&w&&(f.Suo(k,fo,5),f.Suo(k,Ms,5)),2&w){let ae;f.iGM(ae=f.CRH())&&(L.links=ae),f.iGM(ae=f.CRH())&&(L.linksWithHrefs=ae)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[f.TTD]}),O})();class oa{}class In{preload(D,w){return(0,le.of)(null)}}let Is=(()=>{class O{constructor(w,L,k,ae){this.router=w,this.injector=k,this.preloadingStrategy=ae,this.loader=new xo(k,L,Lt=>w.triggerEvent(new Qn(Lt)),Lt=>w.triggerEvent(new Si(Lt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ge.h)(w=>w instanceof Ht),(0,xt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const w=this.injector.get(f.h0i);return this.processRoutes(w,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,L){const k=[];for(const ae of L)if(ae.loadChildren&&!ae.canLoad&&ae._loadedConfig){const Pe=ae._loadedConfig;k.push(this.processRoutes(Pe.module,Pe.routes))}else ae.loadChildren&&!ae.canLoad?k.push(this.preloadConfig(w,ae)):ae.children&&k.push(this.processRoutes(w,ae.children));return(0,J.D)(k).pipe((0,q.J)(),(0,ke.U)(ae=>{}))}preloadConfig(w,L){return this.preloadingStrategy.preload(L,()=>(L._loadedConfig?(0,le.of)(L._loadedConfig):this.loader.load(w.injector,L)).pipe((0,ft.z)(ae=>(L._loadedConfig=ae,this.processRoutes(ae.module,ae.routes)))))}}return O.\u0275fac=function(w){return new(w||O)(f.LFG(ji),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(oa))},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac}),O})(),hn=(()=>{class O{constructor(w,L,k={}){this.router=w,this.viewportScroller=L,this.options=k,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},k.scrollPositionRestoration=k.scrollPositionRestoration||"disabled",k.anchorScrolling=k.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Rt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Ht&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof ni&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,L){this.router.triggerEvent(new ni(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return O.\u0275fac=function(w){f.$Z()},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac}),O})();const zt=new f.OlP("ROUTER_CONFIGURATION"),pr=new f.OlP("ROUTER_FORROOT_GUARD"),ka=[Se.Ye,{provide:$,useClass:ee},{provide:ji,useFactory:function is(O,D,w,L,k,ae,Pe={},je,Lt){const wn=new ji(null,O,D,w,L,k,Re(ae));return je&&(wn.urlHandlingStrategy=je),Lt&&(wn.routeReuseStrategy=Lt),function Ea(O,D){O.errorHandler&&(D.errorHandler=O.errorHandler),O.malformedUriErrorHandler&&(D.malformedUriErrorHandler=O.malformedUriErrorHandler),O.onSameUrlNavigation&&(D.onSameUrlNavigation=O.onSameUrlNavigation),O.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=O.paramsInheritanceStrategy),O.relativeLinkResolution&&(D.relativeLinkResolution=O.relativeLinkResolution),O.urlUpdateStrategy&&(D.urlUpdateStrategy=O.urlUpdateStrategy),O.canceledNavigationResolution&&(D.canceledNavigationResolution=O.canceledNavigationResolution)}(Pe,wn),Pe.enableTracing&&wn.events.subscribe(ui=>{var Rn,Mi;null===(Rn=console.group)||void 0===Rn||Rn.call(console,`Router Event: ${ui.constructor.name}`),console.log(ui.toString()),console.log(ui),null===(Mi=console.groupEnd)||void 0===Mi||Mi.call(console)}),wn},deps:[$,Kr,Se.Ye,f.zs3,f.Sil,sa,zt,[class Hl{},new f.FiY],[class So{},new f.FiY]]},Kr,{provide:rr,useFactory:function Va(O){return O.routerState.root},deps:[ji]},Is,In,class Pn{preload(D,w){return w().pipe(gt(()=>(0,le.of)(null)))}},{provide:zt,useValue:{enableTracing:!1}}];function ol(){return new f.PXZ("Router",ji)}let Ku=(()=>{class O{constructor(w,L){}static forRoot(w,L){return{ngModule:O,providers:[ka,Fa(w),{provide:pr,useFactory:al,deps:[[ji,new f.FiY,new f.tp0]]},{provide:zt,useValue:L||{}},{provide:Se.S$,useFactory:bl,deps:[Se.lw,[new f.tBr(Se.mr),new f.FiY],zt]},{provide:hn,useFactory:fs,deps:[ji,Se.EM,zt]},{provide:oa,useExisting:L&&L.preloadingStrategy?L.preloadingStrategy:In},{provide:f.PXZ,multi:!0,useFactory:ol},[Gi,{provide:f.ip1,multi:!0,useFactory:ii,deps:[Gi]},{provide:ba,useFactory:ps,deps:[Gi]},{provide:f.tb,multi:!0,useExisting:ba}]]}}static forChild(w){return{ngModule:O,providers:[Fa(w)]}}}return O.\u0275fac=function(w){return new(w||O)(f.LFG(pr,8),f.LFG(ji,8))},O.\u0275mod=f.oAB({type:O}),O.\u0275inj=f.cJS({}),O})();function fs(O,D,w){return w.scrollOffset&&D.setOffset(w.scrollOffset),new hn(O,D,w)}function bl(O,D,w={}){return w.useHash?new Se.Do(O,D):new Se.b0(O,D)}function al(O){return"guarded"}function Fa(O){return[{provide:f.deG,multi:!0,useValue:O},{provide:sa,multi:!0,useValue:O}]}let Gi=(()=>{class O{constructor(w){this.injector=w,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ct.x}appInitializer(){return this.injector.get(Se.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let L=null;const k=new Promise(je=>L=je),ae=this.injector.get(ji),Pe=this.injector.get(zt);return"disabled"===Pe.initialNavigation?(ae.setUpLocationChangeListener(),L(!0)):"enabled"===Pe.initialNavigation||"enabledBlocking"===Pe.initialNavigation?(ae.hooks.afterPreactivation=()=>this.initNavigation?(0,le.of)(null):(this.initNavigation=!0,L(!0),this.resultOfPreactivationDone),ae.initialNavigation()):L(!0),k})}bootstrapListener(w){const L=this.injector.get(zt),k=this.injector.get(Is),ae=this.injector.get(hn),Pe=this.injector.get(ji),je=this.injector.get(f.z2F);w===je.components[0]&&(("enabledNonBlocking"===L.initialNavigation||void 0===L.initialNavigation)&&Pe.initialNavigation(),k.setUpPreloading(),ae.init(),Pe.resetRootComponentType(je.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return O.\u0275fac=function(w){return new(w||O)(f.LFG(f.zs3))},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac}),O})();function ii(O){return O.appInitializer.bind(O)}function ps(O){return O.bootstrapListener.bind(O)}const ba=new f.OlP("Router Initializer")},3942:(Qt,We,x)=>{x.d(We,{Z:()=>at});var f=x(2090),h=x(4859),G=x(9681),Ce=x(1877);class ve{constructor(ze,ct){this._delegate=ze,this.firebase=ct,(0,G._addComponent)(ze,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this._delegate.automaticDataCollectionEnabled=ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ze=>{this._delegate.checkDestroyed(),ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(ze,ct=G._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const gt=this._delegate.container.getProvider(ze);return!gt.isInitialized()&&"EXPLICIT"===(null===(Be=gt.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&gt.initialize(),gt.getImmediate({identifier:ct})}_removeServiceInstance(ze,ct=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ze).clearInstance(ct)}_addComponent(ze){(0,G._addComponent)(this._delegate,ze)}_addOrOverwriteComponent(ze){(0,G._addOrOverwriteComponent)(this._delegate,ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function Q(){const ut=function ce(ut){const ze={},ct={__esModule:!0,initializeApp:function ge(K,Je={}){const nt=G.initializeApp(K,Je);if((0,f.r3)(ze,nt.name))return ze[nt.name];const ke=new ut(nt,ct);return ze[nt.name]=ke,ke},app:gt,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function Qe(K){const Je=K.name,nt=Je.replace("-compat","");if(G._registerComponent(K)&&"PUBLIC"===K.type){const ke=(Ue=gt())=>{if("function"!=typeof Ue[nt])throw Ee.create("invalid-app-argument",{appName:Je});return Ue[nt]()};void 0!==K.serviceProps&&(0,f.ZB)(ke,K.serviceProps),ct[nt]=ke,ut.prototype[nt]=function(...Ue){return this._getService.bind(this,Je).apply(this,K.multipleInstances?Ue:[])}}return"PUBLIC"===K.type?ct[nt]:null},removeApp:function Be(K){delete ze[K]},useAsService:function bt(K,Je){return"serverAuth"===Je?null:Je},modularAPIs:G}};function gt(K){if(!(0,f.r3)(ze,K=K||G._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:K});return ze[K]}return ct.default=ct,Object.defineProperty(ct,"apps",{get:function be(){return Object.keys(ze).map(K=>ze[K])}}),gt.App=ut,ct}(ve);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function ze(ct){(0,f.ZB)(ut,ct)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),ut}(),le=new Ce.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const at=J;!function Ve(ut){(0,G.registerVersion)("@firebase/app-compat","0.1.39",ut)}()},9681:(Qt,We,x)=>{x.r(We),x.d(We,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>Qn,_DEFAULT_ENTRY_NAME:()=>mt,_addComponent:()=>Rt,_addOrOverwriteComponent:()=>Ht,_apps:()=>Se,_clearComponents:()=>Vn,_components:()=>qe,_getProvider:()=>yn,_registerComponent:()=>nn,_removeServiceInstance:()=>xn,deleteApp:()=>on,getApp:()=>On,getApps:()=>wi,initializeApp:()=>Si,onLog:()=>rn,registerVersion:()=>ni,setLogLevel:()=>Ui});var f=x(5861),h=x(4859),G=x(1877),Ce=x(2090),ve=x(8766);class Ne{constructor(he){this.container=he}getPlatformInfoString(){return this.container.getProviders().map(_e=>{if(function Ee(W){const he=W.getComponent();return"VERSION"===(null==he?void 0:he.type)}(_e)){const Le=_e.getImmediate();return`${Le.library}/${Le.version}`}return null}).filter(_e=>_e).join(" ")}}const ce="@firebase/app",Q="0.8.4",J=new G.Yd("@firebase/app"),mt="[DEFAULT]",q={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Se=new Map,qe=new Map;function Rt(W,he){try{W.container.addComponent(he)}catch(_e){J.debug(`Component ${he.name} failed to register with FirebaseApp ${W.name}`,_e)}}function Ht(W,he){W.container.addOrOverwriteComponent(he)}function nn(W){const he=W.name;if(qe.has(he))return J.debug(`There were multiple attempts to register component ${he}.`),!1;qe.set(he,W);for(const _e of Se.values())Rt(_e,W);return!0}function yn(W,he){const _e=W.container.getProvider("heartbeat").getImmediate({optional:!0});return _e&&_e.triggerHeartbeat(),W.container.getProvider(he)}function xn(W,he,_e=mt){yn(W,he).clearInstance(_e)}function Vn(){qe.clear()}const jn=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class li{constructor(he,_e,Le){this._isDeleted=!1,this._options=Object.assign({},he),this._config=Object.assign({},_e),this._name=_e.name,this._automaticDataCollectionEnabled=_e.automaticDataCollectionEnabled,this._container=Le,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this.checkDestroyed(),this._automaticDataCollectionEnabled=he}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(he){this._isDeleted=he}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const Qn="9.14.0";function Si(W,he={}){let _e=W;"object"!=typeof he&&(he={name:he});const Le=Object.assign({name:mt,automaticDataCollectionEnabled:!1},he),vt=Le.name;if("string"!=typeof vt||!vt)throw jn.create("bad-app-name",{appName:String(vt)});if(_e||(_e=(0,Ce.aH)()),!_e)throw jn.create("no-options");const Ft=Se.get(vt);if(Ft){if((0,Ce.vZ)(_e,Ft.options)&&(0,Ce.vZ)(Le,Ft.config))return Ft;throw jn.create("duplicate-app",{appName:vt})}const fe=new h.H0(vt);for(const Me of qe.values())fe.addComponent(Me);const pe=new li(_e,Le,fe);return Se.set(vt,pe),pe}function On(W=mt){const he=Se.get(W);if(!he&&W===mt)return Si();if(!he)throw jn.create("no-app",{appName:W});return he}function wi(){return Array.from(Se.values())}function on(W){return ki.apply(this,arguments)}function ki(){return(ki=(0,f.Z)(function*(W){const he=W.name;Se.has(he)&&(Se.delete(he),yield Promise.all(W.container.getProviders().map(_e=>_e.delete())),W.isDeleted=!0)})).apply(this,arguments)}function ni(W,he,_e){var Le;let vt=null!==(Le=q[W])&&void 0!==Le?Le:W;_e&&(vt+=`-${_e}`);const Ft=vt.match(/\s|\//),fe=he.match(/\s|\//);if(Ft||fe){const pe=[`Unable to register library "${vt}" with version "${he}":`];return Ft&&pe.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),Ft&&fe&&pe.push("and"),fe&&pe.push(`version name "${he}" contains illegal characters (whitespace or "/")`),void J.warn(pe.join(" "))}nn(new h.wA(`${vt}-version`,()=>({library:vt,version:he}),"VERSION"))}function rn(W,he){if(null!==W&&"function"!=typeof W)throw jn.create("invalid-log-argument");(0,G.Am)(W,he)}function Ui(W){(0,G.Ub)(W)}const Fe="firebase-heartbeat-store";let Ge=null;function Ut(){return Ge||(Ge=(0,ve.X3)("firebase-heartbeat-database",1,{upgrade:(W,he)=>{0===he&&W.createObjectStore(Fe)}}).catch(W=>{throw jn.create("idb-open",{originalErrorMessage:W.message})})),Ge}function Nt(){return(Nt=(0,f.Z)(function*(W){var he;try{return(yield Ut()).transaction(Fe).objectStore(Fe).get(Oe(W))}catch(_e){if(_e instanceof Ce.ZR)J.warn(_e.message);else{const Le=jn.create("idb-get",{originalErrorMessage:null===(he=_e)||void 0===he?void 0:he.message});J.warn(Le.message)}}})).apply(this,arguments)}function Zt(W,he){return Re.apply(this,arguments)}function Re(){return(Re=(0,f.Z)(function*(W,he){var _e;try{const vt=(yield Ut()).transaction(Fe,"readwrite");return yield vt.objectStore(Fe).put(he,Oe(W)),vt.done}catch(Le){if(Le instanceof Ce.ZR)J.warn(Le.message);else{const vt=jn.create("idb-set",{originalErrorMessage:null===(_e=Le)||void 0===_e?void 0:_e.message});J.warn(vt.message)}}})).apply(this,arguments)}function Oe(W){return`${W.name}!${W.options.appId}`}class wt{constructor(he){this.container=he,this._heartbeatsCache=null;const _e=this.container.getProvider("app").getImmediate();this._storage=new _n(_e),this._heartbeatsCachePromise=this._storage.read().then(Le=>(this._heartbeatsCache=Le,Le))}triggerHeartbeat(){var he=this;return(0,f.Z)(function*(){const Le=he.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=Mt();if(null===he._heartbeatsCache&&(he._heartbeatsCache=yield he._heartbeatsCachePromise),he._heartbeatsCache.lastSentHeartbeatDate!==vt&&!he._heartbeatsCache.heartbeats.some(Ft=>Ft.date===vt))return he._heartbeatsCache.heartbeats.push({date:vt,agent:Le}),he._heartbeatsCache.heartbeats=he._heartbeatsCache.heartbeats.filter(Ft=>{const fe=new Date(Ft.date).valueOf();return Date.now()-fe<=2592e6}),he._storage.overwrite(he._heartbeatsCache)})()}getHeartbeatsHeader(){var he=this;return(0,f.Z)(function*(){if(null===he._heartbeatsCache&&(yield he._heartbeatsCachePromise),null===he._heartbeatsCache||0===he._heartbeatsCache.heartbeats.length)return"";const _e=Mt(),{heartbeatsToSend:Le,unsentEntries:vt}=function Tt(W,he=1024){const _e=[];let Le=W.slice();for(const vt of W){const Ft=_e.find(fe=>fe.agent===vt.agent);if(Ft){if(Ft.dates.push(vt.date),fn(_e)>he){Ft.dates.pop();break}}else if(_e.push({agent:vt.agent,dates:[vt.date]}),fn(_e)>he){_e.pop();break}Le=Le.slice(1)}return{heartbeatsToSend:_e,unsentEntries:Le}}(he._heartbeatsCache.heartbeats),Ft=(0,Ce.L)(JSON.stringify({version:2,heartbeats:Le}));return he._heartbeatsCache.lastSentHeartbeatDate=_e,vt.length>0?(he._heartbeatsCache.heartbeats=vt,yield he._storage.overwrite(he._heartbeatsCache)):(he._heartbeatsCache.heartbeats=[],he._storage.overwrite(he._heartbeatsCache)),Ft})()}}function Mt(){return(new Date).toISOString().substring(0,10)}class _n{constructor(he){this.app=he,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var he=this;return(0,f.Z)(function*(){return(yield he._canUseIndexedDBPromise)&&(yield function It(W){return Nt.apply(this,arguments)}(he.app))||{heartbeats:[]}})()}overwrite(he){var _e=this;return(0,f.Z)(function*(){var Le;if(yield _e._canUseIndexedDBPromise){const Ft=yield _e.read();return Zt(_e.app,{lastSentHeartbeatDate:null!==(Le=he.lastSentHeartbeatDate)&&void 0!==Le?Le:Ft.lastSentHeartbeatDate,heartbeats:he.heartbeats})}})()}add(he){var _e=this;return(0,f.Z)(function*(){var Le;if(yield _e._canUseIndexedDBPromise){const Ft=yield _e.read();return Zt(_e.app,{lastSentHeartbeatDate:null!==(Le=he.lastSentHeartbeatDate)&&void 0!==Le?Le:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...he.heartbeats]})}})()}}function fn(W){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:W})).length}!function pn(W){nn(new h.wA("platform-logger",he=>new Ne(he),"PRIVATE")),nn(new h.wA("heartbeat",he=>new wt(he),"PRIVATE")),ni(ce,Q,W),ni(ce,Q,"esm2017"),ni("fire-js","")}("")},4859:(Qt,We,x)=>{x.d(We,{H0:()=>ce,wA:()=>G});var f=x(5861),h=x(2090);class G{constructor(J,le,De){this.name=J,this.instanceFactory=le,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const Ce="[DEFAULT]";class ve{constructor(J,le){this.name=J,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const le=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(le)){const De=new h.BH;if(this.instancesDeferred.set(le,De),this.isInitialized(le)||this.shouldAutoInitialize())try{const lt=this.getOrInitializeService({instanceIdentifier:le});lt&&De.resolve(lt)}catch(lt){}}return this.instancesDeferred.get(le).promise}getImmediate(J){var le;const De=this.normalizeInstanceIdentifier(null==J?void 0:J.identifier),lt=null!==(le=null==J?void 0:J.optional)&&void 0!==le&&le;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(lt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(Ve){if(lt)return null;throw Ve}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Ee(Q){return"EAGER"===Q.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch(le){}for(const[le,De]of this.instancesDeferred.entries()){const lt=this.normalizeInstanceIdentifier(le);try{const Ve=this.getOrInitializeService({instanceIdentifier:lt});De.resolve(Ve)}catch(Ve){}}}}clearInstance(J=Ce){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,f.Z)(function*(){const le=Array.from(J.instances.values());yield Promise.all([...le.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...le.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=Ce){return this.instances.has(J)}getOptions(J=Ce){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:le={}}=J,De=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const lt=this.getOrInitializeService({instanceIdentifier:De,options:le});for(const[Ve,at]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(Ve)&&at.resolve(lt);return lt}onInit(J,le){var De;const lt=this.normalizeInstanceIdentifier(le),Ve=null!==(De=this.onInitCallbacks.get(lt))&&void 0!==De?De:new Set;Ve.add(J),this.onInitCallbacks.set(lt,Ve);const at=this.instances.get(lt);return at&&J(at,lt),()=>{Ve.delete(J)}}invokeOnInitCallbacks(J,le){const De=this.onInitCallbacks.get(le);if(De)for(const lt of De)try{lt(J,le)}catch(Ve){}}getOrInitializeService({instanceIdentifier:J,options:le={}}){let De=this.instances.get(J);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=J,Q===Ce?void 0:Q),options:le}),this.instances.set(J,De),this.instancesOptions.set(J,le),this.invokeOnInitCallbacks(De,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,De)}catch(lt){}var Q;return De||null}normalizeInstanceIdentifier(J=Ce){return this.component?this.component.multipleInstances?J:Ce:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const le=this.getProvider(J.name);if(le.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);le.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const le=new ve(J,this);return this.providers.set(J,le),le}getProviders(){return Array.from(this.providers.values())}}},1877:(Qt,We,x)=>{x.d(We,{Am:()=>Q,Ub:()=>ce,Yd:()=>Ee,in:()=>h});const f=[];var h=(()=>{return(J=h||(h={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",h;var J})();const G={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},Ce=h.INFO,ve={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},Ne=(J,le,...De)=>{if(le<J.logLevel)return;const lt=(new Date).toISOString(),Ve=ve[le];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Ve](`[${lt}]  ${J.name}:`,...De)};class Ee{constructor(le){this.name=le,this._logLevel=Ce,this._logHandler=Ne,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in h))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?G[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...le),this._logHandler(this,h.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...le),this._logHandler(this,h.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,h.INFO,...le),this._logHandler(this,h.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,h.WARN,...le),this._logHandler(this,h.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...le),this._logHandler(this,h.ERROR,...le)}}function ce(J){f.forEach(le=>{le.setLogLevel(J)})}function Q(J,le){for(const De of f){let lt=null;le&&le.level&&(lt=G[le.level]),De.userLogHandler=null===J?null:(Ve,at,...ut)=>{const ze=ut.map(ct=>{if(null==ct)return null;if("string"==typeof ct)return ct;if("number"==typeof ct||"boolean"==typeof ct)return ct.toString();if(ct instanceof Error)return ct.message;try{return JSON.stringify(ct)}catch(Be){return null}}).filter(ct=>ct).join(" ");at>=(null!=lt?lt:Ve.logLevel)&&J({level:h[at].toLowerCase(),message:ze,args:ut,type:Ve.name})}}}},8995:(Qt,We,x)=>{x.d(We,{Zw:()=>Ve,aw:()=>tn,X$:()=>xt,sK:()=>it});var f=x(5e3),h=x(8306),G=x(576);function Ce(ft){return!!ft&&(ft instanceof h.y||(0,G.m)(ft.lift)&&(0,G.m)(ft.subscribe))}var ve=x(9646),Ne=x(4128),Ee=x(7272),ce=x(9770),Q=x(5698),J=x(3151),le=x(4004),De=x(4351),lt=x(3900);class Ve{}let at=(()=>{class ft extends Ve{getTranslation(q){return(0,ve.of)({})}}return ft.\u0275fac=function(){let mt;return function(Se){return(mt||(mt=f.n5z(ft)))(Se||ft)}}(),ft.\u0275prov=f.Yz7({token:ft,factory:ft.\u0275fac}),ft})();class ut{}let ze=(()=>{class ft{handle(q){return q.key}}return ft.\u0275fac=function(q){return new(q||ft)},ft.\u0275prov=f.Yz7({token:ft,factory:ft.\u0275fac}),ft})();function ct(ft,mt){if(ft===mt)return!0;if(null===ft||null===mt)return!1;if(ft!=ft&&mt!=mt)return!0;let qe,Rt,Ht,q=typeof ft;if(q==typeof mt&&"object"==q){if(!Array.isArray(ft)){if(Array.isArray(mt))return!1;for(Rt in Ht=Object.create(null),ft){if(!ct(ft[Rt],mt[Rt]))return!1;Ht[Rt]=!0}for(Rt in mt)if(!(Rt in Ht)&&void 0!==mt[Rt])return!1;return!0}if(!Array.isArray(mt))return!1;if((qe=ft.length)==mt.length){for(Rt=0;Rt<qe;Rt++)if(!ct(ft[Rt],mt[Rt]))return!1;return!0}}return!1}function Be(ft){return null!=ft}function gt(ft){return ft&&"object"==typeof ft&&!Array.isArray(ft)}function ge(ft,mt){let q=Object.assign({},ft);return gt(ft)&&gt(mt)&&Object.keys(mt).forEach(Se=>{gt(mt[Se])?Se in ft?q[Se]=ge(ft[Se],mt[Se]):Object.assign(q,{[Se]:mt[Se]}):Object.assign(q,{[Se]:mt[Se]})}),q}class be{}let Qe=(()=>{class ft extends be{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(q,Se){let qe;return qe="string"==typeof q?this.interpolateString(q,Se):"function"==typeof q?this.interpolateFunction(q,Se):q,qe}getValue(q,Se){let qe="string"==typeof Se?Se.split("."):[Se];Se="";do{Se+=qe.shift(),!Be(q)||!Be(q[Se])||"object"!=typeof q[Se]&&qe.length?qe.length?Se+=".":q=void 0:(q=q[Se],Se="")}while(qe.length);return q}interpolateFunction(q,Se){return q(Se)}interpolateString(q,Se){return Se?q.replace(this.templateMatcher,(qe,Rt)=>{let Ht=this.getValue(Se,Rt);return Be(Ht)?Ht:qe}):q}}return ft.\u0275fac=function(){let mt;return function(Se){return(mt||(mt=f.n5z(ft)))(Se||ft)}}(),ft.\u0275prov=f.Yz7({token:ft,factory:ft.\u0275fac}),ft})();class bt{}let K=(()=>{class ft extends bt{compile(q,Se){return q}compileTranslations(q,Se){return q}}return ft.\u0275fac=function(){let mt;return function(Se){return(mt||(mt=f.n5z(ft)))(Se||ft)}}(),ft.\u0275prov=f.Yz7({token:ft,factory:ft.\u0275fac}),ft})();class Je{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new f.vpe,this.onLangChange=new f.vpe,this.onDefaultLangChange=new f.vpe}}const nt=new f.OlP("USE_STORE"),ke=new f.OlP("USE_DEFAULT_LANG"),Ue=new f.OlP("DEFAULT_LANGUAGE"),et=new f.OlP("USE_EXTEND");let it=(()=>{class ft{constructor(q,Se,qe,Rt,Ht,nn=!0,yn=!1,xn=!1,Vn){this.store=q,this.currentLoader=Se,this.compiler=qe,this.parser=Rt,this.missingTranslationHandler=Ht,this.useDefaultLang=nn,this.isolate=yn,this.extend=xn,this.pending=!1,this._onTranslationChange=new f.vpe,this._onLangChange=new f.vpe,this._onDefaultLangChange=new f.vpe,this._langs=[],this._translations={},this._translationRequests={},Vn&&this.setDefaultLang(Vn)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(q){this.isolate?this._defaultLang=q:this.store.defaultLang=q}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(q){this.isolate?this._currentLang=q:this.store.currentLang=q}get langs(){return this.isolate?this._langs:this.store.langs}set langs(q){this.isolate?this._langs=q:this.store.langs=q}get translations(){return this.isolate?this._translations:this.store.translations}set translations(q){this.isolate?this._translations=q:this.store.translations=q}setDefaultLang(q){if(q===this.defaultLang)return;let Se=this.retrieveTranslations(q);void 0!==Se?(null==this.defaultLang&&(this.defaultLang=q),Se.pipe((0,Q.q)(1)).subscribe(qe=>{this.changeDefaultLang(q)})):this.changeDefaultLang(q)}getDefaultLang(){return this.defaultLang}use(q){if(q===this.currentLang)return(0,ve.of)(this.translations[q]);let Se=this.retrieveTranslations(q);return void 0!==Se?(this.currentLang||(this.currentLang=q),Se.pipe((0,Q.q)(1)).subscribe(qe=>{this.changeLang(q)}),Se):(this.changeLang(q),(0,ve.of)(this.translations[q]))}retrieveTranslations(q){let Se;return(void 0===this.translations[q]||this.extend)&&(this._translationRequests[q]=this._translationRequests[q]||this.getTranslation(q),Se=this._translationRequests[q]),Se}getTranslation(q){this.pending=!0;const Se=this.currentLoader.getTranslation(q).pipe((0,J.d)(1),(0,Q.q)(1));return this.loadingTranslations=Se.pipe((0,le.U)(qe=>this.compiler.compileTranslations(qe,q)),(0,J.d)(1),(0,Q.q)(1)),this.loadingTranslations.subscribe({next:qe=>{this.translations[q]=this.extend&&this.translations[q]?Object.assign(Object.assign({},qe),this.translations[q]):qe,this.updateLangs(),this.pending=!1},error:qe=>{this.pending=!1}}),Se}setTranslation(q,Se,qe=!1){Se=this.compiler.compileTranslations(Se,q),this.translations[q]=(qe||this.extend)&&this.translations[q]?ge(this.translations[q],Se):Se,this.updateLangs(),this.onTranslationChange.emit({lang:q,translations:this.translations[q]})}getLangs(){return this.langs}addLangs(q){q.forEach(Se=>{-1===this.langs.indexOf(Se)&&this.langs.push(Se)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(q,Se,qe){let Rt;if(Se instanceof Array){let Ht={},nn=!1;for(let yn of Se)Ht[yn]=this.getParsedResult(q,yn,qe),Ce(Ht[yn])&&(nn=!0);if(nn){const yn=Se.map(xn=>Ce(Ht[xn])?Ht[xn]:(0,ve.of)(Ht[xn]));return(0,Ne.D)(yn).pipe((0,le.U)(xn=>{let Vn={};return xn.forEach((Xn,jn)=>{Vn[Se[jn]]=Xn}),Vn}))}return Ht}if(q&&(Rt=this.parser.interpolate(this.parser.getValue(q,Se),qe)),void 0===Rt&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Rt=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],Se),qe)),void 0===Rt){let Ht={key:Se,translateService:this};void 0!==qe&&(Ht.interpolateParams=qe),Rt=this.missingTranslationHandler.handle(Ht)}return void 0!==Rt?Rt:Se}get(q,Se){if(!Be(q)||!q.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,De.b)(qe=>Ce(qe=this.getParsedResult(qe,q,Se))?qe:(0,ve.of)(qe)));{let qe=this.getParsedResult(this.translations[this.currentLang],q,Se);return Ce(qe)?qe:(0,ve.of)(qe)}}getStreamOnTranslationChange(q,Se){if(!Be(q)||!q.length)throw new Error('Parameter "key" required');return(0,Ee.z)((0,ce.P)(()=>this.get(q,Se)),this.onTranslationChange.pipe((0,lt.w)(qe=>{const Rt=this.getParsedResult(qe.translations,q,Se);return"function"==typeof Rt.subscribe?Rt:(0,ve.of)(Rt)})))}stream(q,Se){if(!Be(q)||!q.length)throw new Error('Parameter "key" required');return(0,Ee.z)((0,ce.P)(()=>this.get(q,Se)),this.onLangChange.pipe((0,lt.w)(qe=>{const Rt=this.getParsedResult(qe.translations,q,Se);return Ce(Rt)?Rt:(0,ve.of)(Rt)})))}instant(q,Se){if(!Be(q)||!q.length)throw new Error('Parameter "key" required');let qe=this.getParsedResult(this.translations[this.currentLang],q,Se);if(Ce(qe)){if(q instanceof Array){let Rt={};return q.forEach((Ht,nn)=>{Rt[q[nn]]=q[nn]}),Rt}return q}return qe}set(q,Se,qe=this.currentLang){this.translations[qe][q]=this.compiler.compile(Se,qe),this.updateLangs(),this.onTranslationChange.emit({lang:qe,translations:this.translations[qe]})}changeLang(q){this.currentLang=q,this.onLangChange.emit({lang:q,translations:this.translations[q]}),null==this.defaultLang&&this.changeDefaultLang(q)}changeDefaultLang(q){this.defaultLang=q,this.onDefaultLangChange.emit({lang:q,translations:this.translations[q]})}reloadLang(q){return this.resetLang(q),this.getTranslation(q)}resetLang(q){this._translationRequests[q]=void 0,this.translations[q]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let q=window.navigator.languages?window.navigator.languages[0]:null;return q=q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==q?(-1!==q.indexOf("-")&&(q=q.split("-")[0]),-1!==q.indexOf("_")&&(q=q.split("_")[0]),q):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let q=window.navigator.languages?window.navigator.languages[0]:null;return q=q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,q}}return ft.\u0275fac=function(q){return new(q||ft)(f.LFG(Je),f.LFG(Ve),f.LFG(bt),f.LFG(be),f.LFG(ut),f.LFG(ke),f.LFG(nt),f.LFG(et),f.LFG(Ue))},ft.\u0275prov=f.Yz7({token:ft,factory:ft.\u0275fac}),ft})(),xt=(()=>{class ft{constructor(q,Se){this.translate=q,this._ref=Se,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(q,Se,qe){let Rt=Ht=>{this.value=void 0!==Ht?Ht:q,this.lastKey=q,this._ref.markForCheck()};if(qe){let Ht=this.translate.getParsedResult(qe,q,Se);Ce(Ht.subscribe)?Ht.subscribe(Rt):Rt(Ht)}this.translate.get(q,Se).subscribe(Rt)}transform(q,...Se){if(!q||!q.length)return q;if(ct(q,this.lastKey)&&ct(Se,this.lastParams))return this.value;let qe;if(Be(Se[0])&&Se.length)if("string"==typeof Se[0]&&Se[0].length){let Rt=Se[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{qe=JSON.parse(Rt)}catch(Ht){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${Se[0]}`)}}else"object"==typeof Se[0]&&!Array.isArray(Se[0])&&(qe=Se[0]);return this.lastKey=q,this.lastParams=Se,this.updateValue(q,qe),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Rt=>{this.lastKey&&Rt.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(q,qe,Rt.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Rt=>{this.lastKey&&(this.lastKey=null,this.updateValue(q,qe,Rt.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(q,qe))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return ft.\u0275fac=function(q){return new(q||ft)(f.Y36(it,16),f.Y36(f.sBO,16))},ft.\u0275pipe=f.Yjl({name:"translate",type:ft,pure:!1}),ft.\u0275prov=f.Yz7({token:ft,factory:ft.\u0275fac}),ft})(),tn=(()=>{class ft{static forRoot(q={}){return{ngModule:ft,providers:[q.loader||{provide:Ve,useClass:at},q.compiler||{provide:bt,useClass:K},q.parser||{provide:be,useClass:Qe},q.missingTranslationHandler||{provide:ut,useClass:ze},Je,{provide:nt,useValue:q.isolate},{provide:ke,useValue:q.useDefaultLang},{provide:et,useValue:q.extend},{provide:Ue,useValue:q.defaultLanguage},it]}}static forChild(q={}){return{ngModule:ft,providers:[q.loader||{provide:Ve,useClass:at},q.compiler||{provide:bt,useClass:K},q.parser||{provide:be,useClass:Qe},q.missingTranslationHandler||{provide:ut,useClass:ze},{provide:nt,useValue:q.isolate},{provide:ke,useValue:q.useDefaultLang},{provide:et,useValue:q.extend},{provide:Ue,useValue:q.defaultLanguage},it]}}}return ft.\u0275fac=function(q){return new(q||ft)},ft.\u0275mod=f.oAB({type:ft}),ft.\u0275inj=f.cJS({}),ft})()},40:(Qt,We,x)=>{x.d(We,{w:()=>f});class f{constructor(G,Ce="/assets/i18n/",ve=".json"){this.http=G,this.prefix=Ce,this.suffix=ve}getTranslation(G){return this.http.get(`${this.prefix}${G}${this.suffix}`)}}},8766:(Qt,We,x)=>{x.d(We,{Lj:()=>ge,X3:()=>gt});var f=x(5861);let G,Ce;const Ee=new WeakMap,ce=new WeakMap,Q=new WeakMap,J=new WeakMap,le=new WeakMap;let Ve={get(Je,nt,ke){if(Je instanceof IDBTransaction){if("done"===nt)return ce.get(Je);if("objectStoreNames"===nt)return Je.objectStoreNames||Q.get(Je);if("store"===nt)return ke.objectStoreNames[1]?void 0:ke.objectStore(ke.objectStoreNames[0])}return ct(Je[nt])},set:(Je,nt,ke)=>(Je[nt]=ke,!0),has:(Je,nt)=>Je instanceof IDBTransaction&&("done"===nt||"store"===nt)||nt in Je};function ze(Je){return"function"==typeof Je?function ut(Je){return Je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Je)?function(...nt){return Je.apply(Be(this),nt),ct(Ee.get(this))}:function(...nt){return ct(Je.apply(Be(this),nt))}:function(nt,...ke){const Ue=Je.call(Be(this),nt,...ke);return Q.set(Ue,nt.sort?nt.sort():[nt]),ct(Ue)}}(Je):(Je instanceof IDBTransaction&&function lt(Je){if(ce.has(Je))return;const nt=new Promise((ke,Ue)=>{const et=()=>{Je.removeEventListener("complete",it),Je.removeEventListener("error",st),Je.removeEventListener("abort",st)},it=()=>{ke(),et()},st=()=>{Ue(Je.error||new DOMException("AbortError","AbortError")),et()};Je.addEventListener("complete",it),Je.addEventListener("error",st),Je.addEventListener("abort",st)});ce.set(Je,nt)}(Je),((Je,nt)=>nt.some(ke=>Je instanceof ke))(Je,function ve(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Je,Ve):Je)}function ct(Je){if(Je instanceof IDBRequest)return function De(Je){const nt=new Promise((ke,Ue)=>{const et=()=>{Je.removeEventListener("success",it),Je.removeEventListener("error",st)},it=()=>{ke(ct(Je.result)),et()},st=()=>{Ue(Je.error),et()};Je.addEventListener("success",it),Je.addEventListener("error",st)});return nt.then(ke=>{ke instanceof IDBCursor&&Ee.set(ke,Je)}).catch(()=>{}),le.set(nt,Je),nt}(Je);if(J.has(Je))return J.get(Je);const nt=ze(Je);return nt!==Je&&(J.set(Je,nt),le.set(nt,Je)),nt}const Be=Je=>le.get(Je);function gt(Je,nt,{blocked:ke,upgrade:Ue,blocking:et,terminated:it}={}){const st=indexedDB.open(Je,nt),xt=ct(st);return Ue&&st.addEventListener("upgradeneeded",tn=>{Ue(ct(st.result),tn.oldVersion,tn.newVersion,ct(st.transaction))}),ke&&st.addEventListener("blocked",()=>ke()),xt.then(tn=>{it&&tn.addEventListener("close",()=>it()),et&&tn.addEventListener("versionchange",()=>et())}).catch(()=>{}),xt}function ge(Je,{blocked:nt}={}){const ke=indexedDB.deleteDatabase(Je);return nt&&ke.addEventListener("blocked",()=>nt()),ct(ke).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],Qe=["put","add","delete","clear"],bt=new Map;function K(Je,nt){if(!(Je instanceof IDBDatabase)||nt in Je||"string"!=typeof nt)return;if(bt.get(nt))return bt.get(nt);const ke=nt.replace(/FromIndex$/,""),Ue=nt!==ke,et=Qe.includes(ke);if(!(ke in(Ue?IDBIndex:IDBObjectStore).prototype)||!et&&!be.includes(ke))return;const it=function(){var st=(0,f.Z)(function*(xt,...tn){const ft=this.transaction(xt,et?"readwrite":"readonly");let mt=ft.store;return Ue&&(mt=mt.index(tn.shift())),(yield Promise.all([mt[ke](...tn),et&&ft.done]))[0]});return function(tn){return st.apply(this,arguments)}}();return bt.set(nt,it),it}!function at(Je){Ve=Je(Ve)}(Je=>oE(sE({},Je),{get:(nt,ke,Ue)=>K(nt,ke)||Je.get(nt,ke,Ue),has:(nt,ke)=>!!K(nt,ke)||Je.has(nt,ke)}))},5351:(Qt,We,x)=>{x.d(We,{Zf:()=>ut,fx:()=>ct,U_:()=>ze});var f=x(5e3),h=x(7691),G=x(9808),Ce=x(1777);const ve="400ms cubic-bezier(0.4,0.0,0.2,1)",Ne=[(0,Ce.oB)({height:0,visibility:"hidden"}),(0,Ce.jt)(ve,(0,Ce.oB)({height:"*",visibility:"visible"}))],Ee=[(0,Ce.oB)({height:"*",visibility:"visible"}),(0,Ce.jt)(ve,(0,Ce.oB)({height:0,visibility:"hidden"}))];let ce=(()=>{class Be{constructor(ge,be,Qe){this._el=ge,this._renderer=be,this.collapsed=new f.vpe,this.collapses=new f.vpe,this.expanded=new f.vpe,this.expands=new f.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=Qe.build(Ee),this._factoryExpandAnimation=Qe.build(Ne)}set display(ge){this._display=ge,"none"!==ge?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(ge){this.collapseNewValue=ge,(!this._player||this._isAnimationDone)&&(this.isExpanded=ge,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(ge,be){if(!ge||!this._stylesLoaded)return bt=>bt();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const Qe=be===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.destroy(),this._player=Qe.create(this._el.nativeElement),this._player.play(),bt=>{var K;return null===(K=this._player)||void 0===K?void 0:K.onDone(bt)}}}return Be.\u0275fac=function(ge){return new(ge||Be)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Ce._j))},Be.\u0275dir=f.lG2({type:Be,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(ge,be){2&ge&&(f.uIk("aria-hidden",be.isCollapsed),f.ekj("collapse",be.isCollapse)("in",be.isExpanded)("show",be.isExpanded)("collapsing",be.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),Be})(),Q=(()=>{class Be{static forRoot(){return{ngModule:Be,providers:[]}}}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275mod=f.oAB({type:Be}),Be.\u0275inj=f.cJS({}),Be})();const J=["*"],le=function(Be){return{"text-muted":Be}};function De(Be,gt){if(1&Be&&(f.TgZ(0,"button",7),f._uU(1),f.qZA()),2&Be){const ge=f.oxw();f.Q6J("ngClass",f.VKq(2,le,ge.isDisabled)),f.xp6(1),f.hij(" ",ge.heading," ")}}const lt=[[["","accordion-heading",""]],"*"],Ve=["[accordion-heading]","*"];let at=(()=>{class Be{constructor(){this.closeOthers=!1,this.isAnimated=!1}}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),ut=(()=>{class Be{constructor(ge){this.isAnimated=!1,this.closeOthers=!1,this.groups=[],Object.assign(this,ge)}closeOtherPanels(ge){!this.closeOthers||this.groups.forEach(be=>{be!==ge&&(be.isOpen=!1)})}addGroup(ge){ge.isAnimated=this.isAnimated,this.groups.push(ge)}removeGroup(ge){const be=this.groups.indexOf(ge);-1!==be&&this.groups.splice(be,1)}}return Be.\u0275fac=function(ge){return new(ge||Be)(f.Y36(at))},Be.\u0275cmp=f.Xpm({type:Be,selectors:[["accordion"]],hostAttrs:["role","tablist",1,"panel-group",2,"display","block"],hostVars:1,hostBindings:function(ge,be){2&ge&&f.uIk("aria-multiselectable",be.closeOthers)},inputs:{isAnimated:"isAnimated",closeOthers:"closeOthers"},ngContentSelectors:J,decls:1,vars:0,template:function(ge,be){1&ge&&(f.F$t(),f.Hsn(0))},encapsulation:2}),Be})(),ze=(()=>{class Be{constructor(ge){this.isAnimated=!1,this.panelClass="panel-default",this.isDisabled=!1,this.isOpenChange=new f.vpe,this._isOpen=!1,this.accordion=ge}get isOpen(){return this._isOpen}set isOpen(ge){ge!==this.isOpen&&(ge&&this.accordion.closeOtherPanels(this),this._isOpen=ge,Promise.resolve(null).then(()=>{this.isOpenChange.emit(ge)}))}get isBs3(){return(0,h.XA)()}ngOnInit(){this.accordion.addGroup(this)}ngOnDestroy(){this.accordion.removeGroup(this)}toggleOpen(){this.isDisabled||(this.isOpen=!this.isOpen)}}return Be.\u0275fac=function(ge){return new(ge||Be)(f.Y36(ut))},Be.\u0275cmp=f.Xpm({type:Be,selectors:[["accordion-group"],["accordion-panel"]],hostAttrs:[1,"panel",2,"display","block"],hostVars:2,hostBindings:function(ge,be){2&ge&&f.ekj("panel-open",be.isOpen)},inputs:{heading:"heading",panelClass:"panelClass",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},ngContentSelectors:Ve,decls:9,vars:6,consts:[[1,"panel","card",3,"ngClass"],["role","tab",1,"panel-heading","card-header",3,"ngClass","click"],[1,"panel-title"],["role","button",1,"accordion-toggle"],["class","btn btn-link","type","button",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"panel-collapse","collapse",3,"collapse","isAnimated"],[1,"panel-body","card-block","card-body"],["type","button",1,"btn","btn-link",3,"ngClass"]],template:function(ge,be){1&ge&&(f.F$t(lt),f.TgZ(0,"div",0)(1,"div",1),f.NdJ("click",function(){return be.toggleOpen()}),f.TgZ(2,"div",2)(3,"div",3),f.YNc(4,De,2,4,"button",4),f.Hsn(5),f.qZA()()(),f.TgZ(6,"div",5)(7,"div",6),f.Hsn(8,1),f.qZA()()()),2&ge&&(f.Q6J("ngClass",be.panelClass),f.xp6(1),f.Q6J("ngClass",be.isDisabled?"panel-disabled":"panel-enabled"),f.xp6(2),f.uIk("aria-expanded",be.isOpen),f.xp6(1),f.Q6J("ngIf",be.heading),f.xp6(2),f.Q6J("collapse",!be.isOpen)("isAnimated",be.isAnimated))},directives:[G.mk,G.O5,ce],styles:["[_nghost-%COMP%]   .card-header.panel-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .card-header.panel-disabled[_ngcontent-%COMP%]   .btn.btn-link[_ngcontent-%COMP%]{cursor:default;text-decoration:none}"]}),Be})(),ct=(()=>{class Be{static forRoot(){return{ngModule:Be,providers:[]}}}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275mod=f.oAB({type:Be}),Be.\u0275inj=f.cJS({imports:[[G.ez,Q]]}),Be})()},9062:(Qt,We,x)=>{x.d(We,{oj:()=>Ee});var f=x(5e3),h=x(7691),G=x(5197);class ve{constructor(Q,J,le){this.nodes=Q,this.viewRef=J,this.componentRef=le}}class Ne{constructor(Q,J,le,De,lt,Ve,at,ut){this._viewContainerRef=Q,this._renderer=J,this._elementRef=le,this._injector=De,this._componentFactoryResolver=lt,this._ngZone=Ve,this._applicationRef=at,this._posService=ut,this.onBeforeShow=new f.vpe,this.onShown=new f.vpe,this.onBeforeHide=new f.vpe,this.onHidden=new f.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(Q){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(Q),this}to(Q){return this.container=Q||this.container,this}position(Q){return Q?(this.attachment=Q.attachment||this.attachment,this._elementRef=Q.target||this._elementRef,this):this}provide(Q){return this._providers.push(Q),this}show(Q={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(Q.content,Q.context,Q.initialState);const J=f.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(J,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,Q),this.container instanceof f.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const le=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!le)return;le.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(Q.id?{id:Q.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(Q){var J,le,De,lt,Ve,at;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const ut=this._componentRef.location.nativeElement;return null===(J=ut.parentNode)||void 0===J||J.removeChild(ut),null===(De=null===(le=this._contentRef)||void 0===le?void 0:le.componentRef)||void 0===De||De.destroy(),this._viewContainerRef&&(null===(lt=this._contentRef)||void 0===lt?void 0:lt.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(at=null===(Ve=this._contentRef)||void 0===Ve?void 0:Ve.viewRef)||void 0===at||at.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(Q?{id:Q}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(Q){var J;this.triggers=Q.triggers||this.triggers,this._listenOpts.outsideClick=Q.outsideClick,this._listenOpts.outsideEsc=Q.outsideEsc,Q.target=Q.target||(null===(J=this._elementRef)||void 0===J?void 0:J.nativeElement);const le=this._listenOpts.hide=()=>Q.hide?Q.hide():void this.hide(),De=this._listenOpts.show=Ve=>{Q.show?Q.show(Ve):this.show(Ve),Ve()};return this._renderer&&(this._unregisterListenersFn=(0,h.wo)(this._renderer,{target:Q.target,triggers:Q.triggers,show:De,hide:le,toggle:Ve=>{this.isShown?le():De(Ve)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(Q,J){return Q&&J&&(this._inlineViewRef=Q.createEmbeddedView(J)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const Q=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,h.Rg)(this._renderer,{targets:[Q,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,h.C)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var Q;this._posService.position({element:null===(Q=this._componentRef)||void 0===Q?void 0:Q.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(Q,J,le){if(!Q)return new ve([]);if(Q instanceof f.Rgc){if(this._viewContainerRef){const Ve=this._viewContainerRef.createEmbeddedView(Q,J);return Ve.markForCheck(),new ve([Ve.rootNodes],Ve)}const lt=Q.createEmbeddedView({});return this._applicationRef.attachView(lt),new ve([lt.rootNodes],lt)}if("function"==typeof Q){const lt=this._componentFactoryResolver.resolveComponentFactory(Q),Ve=f.zs3.create({providers:this._providers,parent:this._injector}),at=lt.create(Ve);return Object.assign(at.instance,le),this._applicationRef.attachView(at.hostView),new ve([[at.location.nativeElement]],at.hostView,at)}const De=this._renderer?[this._renderer.createText(`${Q}`)]:[];return new ve([De])}}let Ee=(()=>{class ce{constructor(J,le,De,lt,Ve){this._componentFactoryResolver=J,this._ngZone=le,this._injector=De,this._posService=lt,this._applicationRef=Ve}createLoader(J,le,De){return new Ne(le,De,J,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return ce.\u0275fac=function(J){return new(J||ce)(f.LFG(f._Vd),f.LFG(f.R0b),f.LFG(f.zs3),f.LFG(G.sA),f.LFG(f.z2F))},ce.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},8274:(Qt,We,x)=>{x.d(We,{Hz:()=>ut,Mq:()=>ze,TO:()=>at,mr:()=>ct});var f=x(5e3),h=x(9300),G=x(7691),Ce=x(1777),ve=x(9808),Ne=x(9062),Ee=x(5197);const ce=function(Be){return{dropdown:Be}},Q=["*"],le=[(0,Ce.oB)({height:0,overflow:"hidden"}),(0,Ce.jt)("220ms cubic-bezier(0, 0, 0.2, 1)",(0,Ce.oB)({height:"*",overflow:"hidden"}))];let De=(()=>{class Be{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new f.vpe,this.isDisabledChange=new f.vpe,this.toggleClick=new f.vpe,this.counts=0,this.dropdownMenu=new Promise(ge=>{this.resolveDropdownMenu=ge})}}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"platform"}),Be})(),lt=(()=>{class Be{constructor(ge,be,Qe,bt,K){this._state=ge,this.cd=be,this._renderer=Qe,this._element=bt,this.isOpen=!1,this._factoryDropDownAnimation=K.build(le),this._subscription=ge.isOpenChange.subscribe(Je=>{this.isOpen=Je;const nt=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),nt&&!(0,G.XA)()&&(this._renderer.addClass(nt,"show"),(nt.classList.contains("dropdown-menu-right")||nt.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(nt,"left","auto"),this._renderer.setStyle(nt,"right","0")),"up"===this.direction&&(this._renderer.setStyle(nt,"top","auto"),this._renderer.setStyle(nt,"transform","translateY(-101%)"))),nt&&this._state.isAnimated&&this._factoryDropDownAnimation.create(nt).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(ge){return this._element.nativeElement.contains(ge)}ngOnDestroy(){this._subscription.unsubscribe()}}return Be.\u0275fac=function(ge){return new(ge||Be)(f.Y36(De),f.Y36(f.sBO),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Ce._j))},Be.\u0275cmp=f.Xpm({type:Be,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:Q,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(ge,be){1&ge&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA()),2&ge&&(f.ekj("dropup","up"===be.direction)("show",be.isOpen)("open",be.isOpen),f.Q6J("ngClass",f.VKq(7,ce,"down"===be.direction)))},directives:[ve.mk],encapsulation:2,changeDetection:0}),Be})(),Ve=(()=>{class Be{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),at=(()=>{class Be{constructor(ge,be,Qe,bt,K,Je,nt){this._elementRef=ge,this._renderer=be,this._viewContainerRef=Qe,this._cis=bt,this._state=K,this._config=Je,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=nt.build(le),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:De,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(ge){this._state.autoClose=ge}get autoClose(){return this._state.autoClose}set isAnimated(ge){this._state.isAnimated=ge}get isAnimated(){return this._state.isAnimated}set insideClick(ge){this._state.insideClick=ge}get insideClick(){return this._state.insideClick}set isDisabled(ge){this._isDisabled=ge,this._state.isDisabledChange.emit(ge),ge&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(ge){ge?this.show():this.hide()}get isBs4(){return!(0,G.XA)()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(ge=>this.toggle(ge))),this._subscriptions.push(this._state.isDisabledChange.pipe((0,h.h)(ge=>ge)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(ge=>{this._dropdown.attachInline(ge.viewContainer,ge.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(ge=>{const be=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=be?"up":"down";const Qe=this.placement||(be?"top start":"bottom start");this._dropdown.attach(lt).to(this.container).position({attachment:Qe}).show({content:ge.templateRef,placement:Qe}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(ge){return this.isOpen||!ge?this.hide():this.show()}_contains(ge){return this._elementRef.nativeElement.contains(ge.target)||this._dropdown.instance&&this._dropdown.instance._contains(ge.target)}navigationClick(ge){const be=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!be)return;const Qe=this._elementRef.nativeElement.ownerDocument.activeElement,bt=be.querySelectorAll(".dropdown-item");switch(ge.keyCode){case 38:this._state.counts>0&&bt[--this._state.counts].focus();break;case 40:this._state.counts+1<bt.length&&(Qe.classList!==bt[this._state.counts].classList?bt[this._state.counts].focus():bt[++this._state.counts].focus())}ge.preventDefault()}ngOnDestroy(){for(const ge of this._subscriptions)ge.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){(0,G.XA)()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const ge=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",ge?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",ge?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return Be.\u0275fac=function(ge){return new(ge||Be)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.s_b),f.Y36(Ne.oj),f.Y36(De),f.Y36(Ve),f.Y36(Ce._j))},Be.\u0275dir=f.lG2({type:Be,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(ge,be){1&ge&&f.NdJ("keydown.arrowDown",function(bt){return be.navigationClick(bt)})("keydown.arrowUp",function(bt){return be.navigationClick(bt)}),2&ge&&f.ekj("dropup",be.dropup)("open",be.isOpen)("show",be.isOpen&&be.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[f._Bn([De])]}),Be})(),ut=(()=>{class Be{constructor(ge,be,Qe){ge.resolveDropdownMenu({templateRef:Qe,viewContainer:be})}}return Be.\u0275fac=function(ge){return new(ge||Be)(f.Y36(De),f.Y36(f.s_b),f.Y36(f.Rgc))},Be.\u0275dir=f.lG2({type:Be,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),Be})(),ze=(()=>{class Be{constructor(ge,be,Qe,bt,K){this._changeDetectorRef=ge,this._dropdown=be,this._element=Qe,this._renderer=bt,this._state=K,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(Je=>{this.isOpen=Je,Je?(this._documentClickListener=this._renderer.listen("document","click",nt=>{this._state.autoClose&&2!==nt.button&&!this._element.nativeElement.contains(nt.target)&&(!this._state.insideClick||!this._dropdown._contains(nt))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(Je=>this.isDisabled=Je||void 0))}onClick(ge){this._state.stopOnClickPropagation&&ge.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const ge of this._subscriptions)ge.unsubscribe()}}return Be.\u0275fac=function(ge){return new(ge||Be)(f.Y36(f.sBO),f.Y36(at),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(De))},Be.\u0275dir=f.lG2({type:Be,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(ge,be){1&ge&&f.NdJ("click",function(bt){return be.onClick(bt)}),2&ge&&f.uIk("aria-haspopup",!0)("disabled",be.isDisabled)("aria-expanded",be.isOpen)},exportAs:["bs-dropdown-toggle"]}),Be})(),ct=(()=>{class Be{static forRoot(){return{ngModule:Be,providers:[Ne.oj,Ee.sA,De]}}}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275mod=f.oAB({type:Be}),Be.\u0275inj=f.cJS({imports:[[ve.ez]]}),Be})()},5197:(Qt,We,x)=>{x.d(We,{Bz:()=>et,sA:()=>fn});var f=x(7691),h=x(5e3),G=x(9808),Ce=x(8421),ve=x(8306),Ne=x(5577),Ee=x(1144),ce=x(576),Q=x(3268);const J=["addListener","removeListener"],le=["addEventListener","removeEventListener"],De=["on","off"];function lt(W,he,_e,Le){if((0,ce.m)(_e)&&(Le=_e,_e=void 0),Le)return lt(W,he,_e).pipe((0,Q.Z)(Le));const[vt,Ft]=function ze(W){return(0,ce.m)(W.addEventListener)&&(0,ce.m)(W.removeEventListener)}(W)?le.map(fe=>pe=>W[fe](he,pe,_e)):function at(W){return(0,ce.m)(W.addListener)&&(0,ce.m)(W.removeListener)}(W)?J.map(Ve(W,he)):function ut(W){return(0,ce.m)(W.on)&&(0,ce.m)(W.off)}(W)?De.map(Ve(W,he)):[];if(!vt&&(0,Ee.z)(W))return(0,Ne.z)(fe=>lt(fe,he,_e))((0,Ce.Xf)(W));if(!vt)throw new TypeError("Invalid event target");return new ve.y(fe=>{const pe=(...Me)=>fe.next(1<Me.length?Me:Me[0]);return vt(pe),()=>Ft(pe)})}function Ve(W,he){return _e=>Le=>W[_e](he,Le)}var ct=x(4408),Be=x(727);const gt={schedule(W){let he=requestAnimationFrame,_e=cancelAnimationFrame;const{delegate:Le}=gt;Le&&(he=Le.requestAnimationFrame,_e=Le.cancelAnimationFrame);const vt=he(Ft=>{_e=void 0,W(Ft)});return new Be.w0(()=>null==_e?void 0:_e(vt))},requestAnimationFrame(...W){const{delegate:he}=gt;return((null==he?void 0:he.requestAnimationFrame)||requestAnimationFrame)(...W)},cancelAnimationFrame(...W){const{delegate:he}=gt;return((null==he?void 0:he.cancelAnimationFrame)||cancelAnimationFrame)(...W)},delegate:void 0};var be=x(7565);const bt=new class Qe extends be.v{flush(he){this._active=!0;const _e=this._scheduled;this._scheduled=void 0;const{actions:Le}=this;let vt;he=he||Le.shift();do{if(vt=he.execute(he.state,he.delay))break}while((he=Le[0])&&he.id===_e&&Le.shift());if(this._active=!1,vt){for(;(he=Le[0])&&he.id===_e&&Le.shift();)he.unsubscribe();throw vt}}}(class ge extends ct.o{constructor(he,_e){super(he,_e),this.scheduler=he,this.work=_e}requestAsyncId(he,_e,Le=0){return null!==Le&&Le>0?super.requestAsyncId(he,_e,Le):(he.actions.push(this),he._scheduled||(he._scheduled=gt.requestAnimationFrame(()=>he.flush(void 0))))}recycleAsyncId(he,_e,Le=0){var vt;if(null!=Le?Le>0:this.delay>0)return super.recycleAsyncId(he,_e,Le);const{actions:Ft}=he;null!=_e&&(null===(vt=Ft[Ft.length-1])||void 0===vt?void 0:vt.id)!==_e&&(gt.cancelAnimationFrame(_e),he._scheduled=void 0)}});var Je=x(7579),nt=x(6451),ke=x(9646),Ue=(()=>{return(W=Ue||(Ue={})).top="top",W.bottom="bottom",W.left="left",W.right="right",W.auto="auto",W.end="right",W.start="left",W["top left"]="top left",W["top right"]="top right",W["right top"]="right top",W["right bottom"]="right bottom",W["bottom right"]="bottom right",W["bottom left"]="bottom left",W["left bottom"]="left bottom",W["left top"]="left top",W["top start"]="top left",W["top end"]="top right",W["end top"]="right top",W["end bottom"]="right bottom",W["bottom end"]="bottom right",W["bottom start"]="bottom left",W["start bottom"]="start bottom",W["start top"]="left top",Ue;var W})(),et=(()=>{return(W=et||(et={})).top="top",W.bottom="bottom",W.left="start",W.right="end",W.auto="auto",W.end="end",W.start="start",W["top left"]="top start",W["top right"]="top end",W["right top"]="end top",W["right bottom"]="end bottom",W["bottom right"]="bottom end",W["bottom left"]="bottom start",W["left bottom"]="start bottom",W["left top"]="start top",W["top start"]="top start",W["top end"]="top end",W["end top"]="end top",W["end bottom"]="end bottom",W["bottom end"]="bottom end",W["bottom start"]="bottom start",W["start bottom"]="start bottom",W["start top"]="start top",et;var W})();function it(W,he){if(1!==W.nodeType)return[];const _e=W.ownerDocument.defaultView,Le=null==_e?void 0:_e.getComputedStyle(W,null);return he?Le&&Le[he]:Le}function st(W){if(!W)return document.documentElement;let Le,_e=null==W?void 0:W.offsetParent;for(;null===_e&&W.nextElementSibling&&Le!==W.nextElementSibling;)Le=W.nextElementSibling,_e=Le.offsetParent;const vt=_e&&_e.nodeName;return vt&&"BODY"!==vt&&"HTML"!==vt?_e&&-1!==["TH","TD","TABLE"].indexOf(_e.nodeName)&&"static"===it(_e,"position")?st(_e):_e:Le?Le.ownerDocument.documentElement:document.documentElement}function tn(W){return null!==W.parentNode?tn(W.parentNode):W}function ft(W,he){if(!(W&&W.nodeType&&he&&he.nodeType))return document.documentElement;const _e=W.compareDocumentPosition(he)&Node.DOCUMENT_POSITION_FOLLOWING,Le=_e?W:he,vt=_e?he:W,Ft=document.createRange();Ft.setStart(Le,0),Ft.setEnd(vt,0);const fe=Ft.commonAncestorContainer;if(W!==fe&&he!==fe||Le.contains(vt))return function xt(W){const{nodeName:he}=W;return"BODY"!==he&&("HTML"===he||st(W.firstElementChild)===W)}(fe)?fe:st(fe);const pe=tn(W);return pe.host?ft(pe.host,he):ft(W,tn(he).host)}function mt(W){if(!W||!W.parentElement)return document.documentElement;let he=W.parentElement;for(;(null==he?void 0:he.parentElement)&&"none"===it(he,"transform");)he=he.parentElement;return he||document.documentElement}function q(W,he){const _e="x"===he?"Left":"Top",Le="Left"===_e?"Right":"Bottom";return parseFloat(W[`border${_e}Width`])+parseFloat(W[`border${Le}Width`])}function Se(W,he,_e,Le){return Math.max(he[`offset${W}`],he[`scroll${W}`],_e[`client${W}`],_e[`offset${W}`],_e[`scroll${W}`],0)}function qe(W){const he=W.body,_e=W.documentElement;return{height:Se("Height",he,_e),width:Se("Width",he,_e)}}function Rt(W){return Object.assign(Object.assign({},W),{right:(W.left||0)+W.width,bottom:(W.top||0)+W.height})}function nn(W){return"number"==typeof W||"[object Number]"===Object.prototype.toString.call(W)}function yn(W){const he=W.getBoundingClientRect();if(!(he&&nn(he.top)&&nn(he.left)&&nn(he.bottom)&&nn(he.right)))return he;const _e={left:he.left,top:he.top,width:he.right-he.left,height:he.bottom-he.top},Le="HTML"===W.nodeName?qe(W.ownerDocument):void 0,vt=(null==Le?void 0:Le.width)||W.clientWidth||nn(he.right)&&nn(_e.left)&&he.right-_e.left||0,Ft=(null==Le?void 0:Le.height)||W.clientHeight||nn(he.bottom)&&nn(_e.top)&&he.bottom-_e.top||0;let fe=W.offsetWidth-vt,pe=W.offsetHeight-Ft;if(fe||pe){const Me=it(W);fe-=q(Me,"x"),pe-=q(Me,"y"),_e.width-=fe,_e.height-=pe}return Rt(_e)}function xn(W){return"HTML"===W.nodeName?W:W.parentNode||W.host}function Vn(W){if(!W)return document.body;switch(W.nodeName){case"HTML":case"BODY":return W.ownerDocument.body;case"#document":return W.body}const{overflow:he,overflowX:_e,overflowY:Le}=it(W);return/(auto|scroll|overlay)/.test(String(he)+String(Le)+String(_e))?W:Vn(xn(W))}function Xn(W,he,_e=!1){var Le,vt,Ft,fe,pe,Me;const ye="HTML"===he.nodeName,X=yn(W),$=yn(he),ne=(Vn(W),it(he)),xe=parseFloat(ne.borderTopWidth),tt=parseFloat(ne.borderLeftWidth);_e&&ye&&($.top=Math.max(null!==(Le=$.top)&&void 0!==Le?Le:0,0),$.left=Math.max(null!==(vt=$.left)&&void 0!==vt?vt:0,0));const kt=Rt({top:(null!==(Ft=X.top)&&void 0!==Ft?Ft:0)-(null!==(fe=$.top)&&void 0!==fe?fe:0)-xe,left:(null!==(pe=X.left)&&void 0!==pe?pe:0)-(null!==(Me=$.left)&&void 0!==Me?Me:0)-tt,width:X.width,height:X.height});if(kt.marginTop=0,kt.marginLeft=0,ye){const Vt=parseFloat(ne.marginTop),bn=parseFloat(ne.marginLeft);nn(kt.top)&&(kt.top-=xe-Vt),nn(kt.bottom)&&(kt.bottom-=xe-Vt),nn(kt.left)&&(kt.left-=tt-bn),nn(kt.right)&&(kt.right-=tt-bn),kt.marginTop=Vt,kt.marginLeft=bn}return kt}function jn(W,he="top"){const _e="top"===he?"scrollTop":"scrollLeft",Le=W.nodeName;if("BODY"===Le||"HTML"===Le){const vt=W.ownerDocument.documentElement;return(W.ownerDocument.scrollingElement||vt)[_e]}return W[_e]}function Qn(W){const he=W.nodeName;return"BODY"!==he&&"HTML"!==he&&("fixed"===it(W,"position")||Qn(xn(W)))}function Si(W,he,_e=0,Le,vt=!1){let Ft={top:0,left:0};const fe=vt?mt(W):ft(W,he);if("viewport"===Le)Ft=function li(W,he=!1){const _e=W.ownerDocument.documentElement,Le=Xn(W,_e),vt=Math.max(_e.clientWidth,window.innerWidth||0),Ft=Math.max(_e.clientHeight,window.innerHeight||0),fe=he?0:jn(_e),pe=he?0:jn(_e,"left");return Rt({top:fe-Number(null==Le?void 0:Le.top)+Number(null==Le?void 0:Le.marginTop),left:pe-Number(null==Le?void 0:Le.left)+Number(null==Le?void 0:Le.marginLeft),width:vt,height:Ft})}(fe,vt);else{let pe;"scrollParent"===Le?(pe=Vn(xn(he)),"BODY"===pe.nodeName&&(pe=W.ownerDocument.documentElement)):pe="window"===Le?W.ownerDocument.documentElement:Le;const Me=Xn(pe,fe,vt);if(Me&&"HTML"===pe.nodeName&&!Qn(fe)){const{height:ye,width:X}=qe(W.ownerDocument);nn(Ft.top)&&nn(Me.top)&&nn(Me.marginTop)&&(Ft.top+=Me.top-Me.marginTop),nn(Ft.top)&&(Ft.bottom=Number(ye)+Number(Me.top)),nn(Ft.left)&&nn(Me.left)&&nn(Me.marginLeft)&&(Ft.left+=Me.left-Me.marginLeft),nn(Ft.top)&&(Ft.right=Number(X)+Number(Me.left))}else Me&&(Ft=Me)}return nn(Ft.left)&&(Ft.left+=_e),nn(Ft.top)&&(Ft.top+=_e),nn(Ft.right)&&(Ft.right-=_e),nn(Ft.bottom)&&(Ft.bottom-=_e),Ft}function On({width:W,height:he}){return W*he}function wi(W,he,_e,Le,vt=["top","bottom","right","left"],Ft="viewport",fe=0){var pe,Me,ye,X,$,ee,ne,xe,tt,kt,Vt,bn;if(-1===W.indexOf("auto"))return W;const vn=Si(_e,Le,fe,Ft),Cn={top:{width:null!==(pe=null==vn?void 0:vn.width)&&void 0!==pe?pe:0,height:(null!==(Me=null==he?void 0:he.top)&&void 0!==Me?Me:0)-(null!==(ye=null==vn?void 0:vn.top)&&void 0!==ye?ye:0)},right:{width:(null!==(X=null==vn?void 0:vn.right)&&void 0!==X?X:0)-(null!==($=null==he?void 0:he.right)&&void 0!==$?$:0),height:null!==(ee=null==vn?void 0:vn.height)&&void 0!==ee?ee:0},bottom:{width:null!==(ne=null==vn?void 0:vn.width)&&void 0!==ne?ne:0,height:(null!==(xe=null==vn?void 0:vn.bottom)&&void 0!==xe?xe:0)-(null!==(tt=null==he?void 0:he.bottom)&&void 0!==tt?tt:0)},left:{width:(null!==(kt=he.left)&&void 0!==kt?kt:0)-(null!==(Vt=null==vn?void 0:vn.left)&&void 0!==Vt?Vt:0),height:null!==(bn=null==vn?void 0:vn.height)&&void 0!==bn?bn:0}},_i=Object.keys(Cn).map(xi=>Object.assign(Object.assign({position:xi},Cn[xi]),{area:On(Cn[xi])})).sort((xi,qt)=>qt.area-xi.area);let Ti=_i.filter(({width:xi,height:qt})=>xi>=_e.clientWidth&&qt>=_e.clientHeight);Ti=Ti.filter(({position:xi})=>vt.some(qt=>qt===xi));const Di=Ti.length>0?Ti[0].position:_i[0].position,Cr=W.split(" ")[1];return _e.className=_e.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,f.Wl)().isBs5?et[Di]:Di}`),Di+(Cr?`-${Cr}`:"")}const rn=(W,he=0)=>W?parseFloat(W):he;function Ui(W){const he=W.ownerDocument.defaultView,_e=null==he?void 0:he.getComputedStyle(W),Le=rn(null==_e?void 0:_e.marginTop)+rn(null==_e?void 0:_e.marginBottom),vt=rn(null==_e?void 0:_e.marginLeft)+rn(null==_e?void 0:_e.marginRight);return{width:Number(W.offsetWidth)+vt,height:Number(W.offsetHeight)+Le}}function vi(W,he,_e){return Xn(he,_e?mt(W):ft(W,he),_e)}function Ot(W,he,_e){var Le,vt,Ft;const fe=_e.split(" ")[0],pe=Ui(W),Me={width:pe.width,height:pe.height},ye=-1!==["right","left"].indexOf(fe),X=ye?"top":"left",$=ye?"left":"top",ee=ye?"height":"width",ne=ye?"width":"height";return Me[X]=(null!==(Le=he[X])&&void 0!==Le?Le:0)+he[ee]/2-pe[ee]/2,Me[$]=fe===$?(null!==(vt=he[$])&&void 0!==vt?vt:0)-pe[ne]:null!==(Ft=he[function ki(W){const he={left:"right",right:"left",bottom:"top",top:"bottom"};return W.replace(/left|right|bottom|top/g,_e=>he[_e])}($)])&&void 0!==Ft?Ft:0,Me}function Fe(W,he){var _e;return!!(null===(_e=W.modifiers[he])||void 0===_e?void 0:_e.enabled)}const Ge={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Ut(W,he){return!!(0,f.Wl)().isBs5&&Ge[he].includes(W)}function Zt(W,he,_e){!W||!he||Object.keys(he).forEach(Le=>{let vt="";-1!==["width","height","top","right","bottom","left"].indexOf(Le)&&function Ht(W){return""!==W&&!isNaN(parseFloat(W))&&isFinite(Number(W))}(he[Le])&&(vt="px"),_e?_e.setStyle(W,Le,`${String(he[Le])}${vt}`):W.style[Le]=String(he[Le])+vt})}function Re(W){var he,_e,Le,vt,Ft,fe;let pe=W.offsets.target;const Me=W.instance.target.querySelector(".arrow");if(!Me)return W;const ye=-1!==["left","right"].indexOf(W.placement.split(" ")[0]),X=ye?"height":"width",$=ye?"Top":"Left",ee=$.toLowerCase(),ne=ye?"left":"top",xe=ye?"bottom":"right",tt=Ui(Me)[X],kt=W.placement.split(" ")[1];(null!==(he=W.offsets.host[xe])&&void 0!==he?he:0)-tt<(null!==(_e=pe[ee])&&void 0!==_e?_e:0)&&(pe[ee]-=(null!==(Le=pe[ee])&&void 0!==Le?Le:0)-((null!==(vt=W.offsets.host[xe])&&void 0!==vt?vt:0)-tt)),Number(W.offsets.host[ee])+Number(tt)>(null!==(Ft=pe[xe])&&void 0!==Ft?Ft:0)&&(pe[ee]+=Number(W.offsets.host[ee])+Number(tt)-Number(pe[xe])),pe=Rt(pe);const Vt=it(W.instance.target),bn=parseFloat(Vt[`margin${$}`])||0,vn=parseFloat(Vt[`border${$}Width`])||0;let Cn;if(kt){const Ti=parseFloat(Vt.borderRadius)||0,Di=Number(bn+vn+Ti);Cn=ee===kt?Number(W.offsets.host[ee])+Di:Number(W.offsets.host[ee])+Number(W.offsets.host[X]-Di)}else Cn=Number(W.offsets.host[ee])+Number(W.offsets.host[X]/2-tt/2);let _i=Cn-(null!==(fe=pe[ee])&&void 0!==fe?fe:0)-bn-vn;return _i=Math.max(Math.min(pe[X]-(tt+5),_i),0),W.offsets.arrow={[ee]:Math.round(_i),[ne]:""},W.instance.arrow=Me,W}function Oe(W){if(W.offsets.target=Rt(W.offsets.target),!Fe(W.options,"flip"))return W.offsets.target=Object.assign(Object.assign({},W.offsets.target),Ot(W.instance.target,W.offsets.host,W.placement)),W;const he=Si(W.instance.target,W.instance.host,0,"viewport",!1);let _e=W.placement.split(" ")[0],Le=W.placement.split(" ")[1]||"";const pe=wi("auto",W.offsets.host,W.instance.target,W.instance.host,W.options.allowedPositions),Me=[_e,pe];return Me.forEach((ye,X)=>{var $,ee,ne,xe,tt,kt,Vt,bn,vn,Cn,_i,Ti,Di,Cr,xi,qt;if(_e!==ye||Me.length===X+1)return;_e=W.placement.split(" ")[0];const Yn="left"===_e&&Math.floor(null!==($=W.offsets.target.right)&&void 0!==$?$:0)>Math.floor(null!==(ee=W.offsets.host.left)&&void 0!==ee?ee:0)||"right"===_e&&Math.floor(null!==(ne=W.offsets.target.left)&&void 0!==ne?ne:0)<Math.floor(null!==(xe=W.offsets.host.right)&&void 0!==xe?xe:0)||"top"===_e&&Math.floor(null!==(tt=W.offsets.target.bottom)&&void 0!==tt?tt:0)>Math.floor(null!==(kt=W.offsets.host.top)&&void 0!==kt?kt:0)||"bottom"===_e&&Math.floor(null!==(Vt=W.offsets.target.top)&&void 0!==Vt?Vt:0)<Math.floor(null!==(bn=W.offsets.host.bottom)&&void 0!==bn?bn:0),mi=Math.floor(null!==(vn=W.offsets.target.left)&&void 0!==vn?vn:0)<Math.floor(null!==(Cn=he.left)&&void 0!==Cn?Cn:0),zi=Math.floor(null!==(_i=W.offsets.target.right)&&void 0!==_i?_i:0)>Math.floor(null!==(Ti=he.right)&&void 0!==Ti?Ti:0),vr=Math.floor(null!==(Di=W.offsets.target.top)&&void 0!==Di?Di:0)<Math.floor(null!==(Cr=he.top)&&void 0!==Cr?Cr:0),Wi=Math.floor(null!==(xi=W.offsets.target.bottom)&&void 0!==xi?xi:0)>Math.floor(null!==(qt=he.bottom)&&void 0!==qt?qt:0),or="left"===_e&&mi||"right"===_e&&zi||"top"===_e&&vr||"bottom"===_e&&Wi,oi=-1!==["top","bottom"].indexOf(_e),Tr=oi&&"left"===Le&&mi||oi&&"right"===Le&&zi||!oi&&"left"===Le&&vr||!oi&&"right"===Le&&Wi;(Yn||or||Tr)&&((Yn||or)&&(_e=Me[X+1]),Tr&&(Le=function ni(W){return"right"===W?"left":"left"===W?"right":W}(Le)),W.placement=_e+(Le?` ${Le}`:""),W.offsets.target=Object.assign(Object.assign({},W.offsets.target),Ot(W.instance.target,W.offsets.host,W.placement)))}),W}function Ke(W){var he;if(!Fe(W.options,"preventOverflow"))return W;const _e="transform",Le=W.instance.target.style,{top:vt,left:Ft,[_e]:fe}=Le;Le.top="",Le.left="",Le[_e]="";const pe=Si(W.instance.target,W.instance.host,0,(null===(he=W.options.modifiers.preventOverflow)||void 0===he?void 0:he.boundariesElement)||"scrollParent",!1);Le.top=vt,Le.left=Ft,Le[_e]=fe;const ye={primary(X){var $,ee,ne,xe;let tt=W.offsets.target[X];return(null!==($=W.offsets.target[X])&&void 0!==$?$:0)<(null!==(ee=pe[X])&&void 0!==ee?ee:0)&&(tt=Math.max(null!==(ne=W.offsets.target[X])&&void 0!==ne?ne:0,null!==(xe=pe[X])&&void 0!==xe?xe:0)),{[X]:tt}},secondary(X){var $,ee,ne,xe;const tt="right"===X,kt=tt?"left":"top";let bn=W.offsets.target[kt];return(null!==($=W.offsets.target[X])&&void 0!==$?$:0)>(null!==(ee=pe[X])&&void 0!==ee?ee:0)&&(bn=Math.min(null!==(ne=W.offsets.target[kt])&&void 0!==ne?ne:0,(null!==(xe=pe[X])&&void 0!==xe?xe:0)-W.offsets.target[tt?"width":"height"])),{[kt]:bn}}};return["left","right","top","bottom"].forEach(X=>{const $=-1!==["left","top","start"].indexOf(X)?ye.primary:ye.secondary;W.offsets.target=Object.assign(Object.assign({},W.offsets.target),$(X))}),W}function wt(W){var he;const _e=W.placement,Le=_e.split(" ")[0],vt=_e.split(" ")[1];if(vt){const{host:Ft,target:fe}=W.offsets,pe=-1!==["bottom","top"].indexOf(Le),Me=pe?"left":"top",ye=pe?"width":"height",X={start:{[Me]:Ft[Me]},end:{[Me]:(null!==(he=Ft[Me])&&void 0!==he?he:0)+Ft[ye]-fe[ye]}};W.offsets.target=Object.assign(Object.assign({},fe),{[Me]:Me===vt?X.start[Me]:X.end[Me]})}return W}const Tt=new class Mt{position(he,_e){return this.offset(he,_e)}offset(he,_e){return vi(_e,he)}positionElements(he,_e,Le,vt,Ft){const fe=[Oe,wt,Ke,Re],Me=function we(W,he,_e,Le){if(!W||!he)return;const vt=vi(W,he);!_e.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!_e.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(_e="auto");const Ft=!!_e.match(/auto/g);let fe=_e.match(/auto\s(left|right|top|bottom|start|end)/)?_e.split(" ")[1]||"auto":_e;const pe=fe.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return pe&&(fe=pe[1]+(pe[2]?` ${pe[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(fe)&&(fe="auto"),fe=wi(fe,vt,W,he,Le?Le.allowedPositions:void 0),{options:Le||{modifiers:{}},instance:{target:W,host:he,arrow:void 0},offsets:{target:Ot(W,vt,fe),host:vt,arrow:void 0},positionFixed:!1,placement:fe,placementAuto:Ft}}(_e,he,Ue[Le],Ft);if(Me)return fe.reduce((ye,X)=>X(ye),Me)}};function _n(W,he,_e,Le,vt,Ft){const fe=Tt.positionElements(W,he,_e,Le,vt);if(!fe)return;const pe=function on(W){var he,_e,Le,vt;return{width:W.offsets.target.width,height:W.offsets.target.height,left:Math.floor(null!==(he=W.offsets.target.left)&&void 0!==he?he:0),top:Math.round(null!==(_e=W.offsets.target.top)&&void 0!==_e?_e:0),bottom:Math.round(null!==(Le=W.offsets.target.bottom)&&void 0!==Le?Le:0),right:Math.floor(null!==(vt=W.offsets.target.right)&&void 0!==vt?vt:0)}}(fe);Zt(he,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${pe.left}px, ${pe.top}px, 0px)`},Ft),fe.instance.arrow&&Zt(fe.instance.arrow,fe.offsets.arrow,Ft),function Nt(W,he){const _e=W.instance.target;let Le=_e.className;const vt=(0,f.Wl)().isBs5?et[W.placement]:W.placement;W.placementAuto&&(Le=Le.replace(/bs-popover-auto/g,`bs-popover-${vt}`),Le=Le.replace(/ms-2|me-2|mb-2|mt-2/g,""),Le=Le.replace(/bs-tooltip-auto/g,`bs-tooltip-${vt}`),Le=Le.replace(/\sauto/g,` ${vt}`),-1!==Le.indexOf("popover")&&(Le=Le+" "+function It(W){return(0,f.Wl)().isBs5?Ut(W,"end")?"ms-2":Ut(W,"start")?"me-2":Ut(W,"top")?"mb-2":Ut(W,"bottom")?"mt-2":"":""}(vt)),-1!==Le.indexOf("popover")&&-1===Le.indexOf("popover-auto")&&(Le+=" popover-auto"),-1!==Le.indexOf("tooltip")&&-1===Le.indexOf("tooltip-auto")&&(Le+=" tooltip-auto")),Le=Le.replace(/left|right|top|bottom|end|start/g,`${vt.split(" ")[0]}`),he?he.setAttribute(_e,"class",Le):_e.className=Le}(fe,Ft)}let fn=(()=>{class W{constructor(_e,Le,vt){this.update$$=new Je.x,this.positionElements=new Map,this.isDisabled=!1,(0,G.NF)(vt)&&_e.runOutsideAngular(()=>{this.triggerEvent$=(0,nt.T)(lt(window,"scroll",{passive:!0}),lt(window,"resize",{passive:!0}),(0,ke.of)(0,bt),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(Ft=>{_n(pn(Ft.target),pn(Ft.element),Ft.attachment,Ft.appendToBody,this.options,Le.createRenderer(null,null))})})})}position(_e){this.addPositionElement(_e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(_e){this.positionElements.set(pn(_e.element),_e)}calcPosition(){this.update$$.next(null)}deletePositionElement(_e){this.positionElements.delete(pn(_e))}setOptions(_e){this.options=_e}}return W.\u0275fac=function(_e){return new(_e||W)(h.LFG(h.R0b),h.LFG(h.FYo),h.LFG(h.Lbi))},W.\u0275prov=h.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function pn(W){return"string"==typeof W?document.querySelector(W):W instanceof h.SBq?W.nativeElement:null!=W?W:null}},4941:(Qt,We,x)=>{x.d(We,{AT:()=>J,Xt:()=>le});var f=x(5e3),h=x(3075),G=x(9808);function Ce(De,lt){1&De&&f._uU(0),2&De&&f.Oqu(lt.index<lt.value?"\u2605":"\u2606")}function ve(De,lt){}const Ne=function(De,lt){return{index:De,value:lt}};function Ee(De,lt){if(1&De){const Ve=f.EpF();f.TgZ(0,"span",3),f._uU(1),f.qZA(),f.TgZ(2,"span",4),f.NdJ("mouseenter",function(){const ze=f.CHM(Ve).index;return f.oxw().enter(ze+1)})("click",function(){const ze=f.CHM(Ve).index;return f.oxw().rate(ze+1)}),f.YNc(3,ve,0,0,"ng-template",5),f.qZA()}if(2&De){const Ve=lt.$implicit,at=lt.index,ut=f.oxw(),ze=f.MAs(2);f.xp6(1),f.hij("(",at<ut.value?"*":" ",")"),f.xp6(1),f.Udp("cursor",ut.readonly?"default":"pointer"),f.ekj("active",at<ut.value),f.Q6J("title",Ve.title),f.xp6(1),f.Q6J("ngTemplateOutlet",ut.customTemplate||ze)("ngTemplateOutletContext",f.WLB(8,Ne,at,ut.value))}}let ce=(()=>{class De{constructor(){this.ariaLabel="rating"}}return De.\u0275fac=function(Ve){return new(Ve||De)},De.\u0275prov=f.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();const Q={provide:h.JU,useExisting:(0,f.Gpc)(()=>J),multi:!0};let J=(()=>{class De{constructor(Ve,at){this.changeDetection=Ve,this.max=5,this.readonly=!1,this.titles=[],this.onHover=new f.vpe,this.onLeave=new f.vpe,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.ariaLabel="rating",this.range=[],this.value=0,Object.assign(this,at)}onKeydown(Ve){-1!==[37,38,39,40].indexOf(Ve.which)&&(Ve.preventDefault(),Ve.stopPropagation(),this.rate(this.value+(38===Ve.which||39===Ve.which?1:-1)))}ngOnInit(){this.max=this.max||5,this.titles=void 0!==this.titles&&this.titles.length>0?this.titles:[],this.range=this.buildTemplateObjects(this.max)}writeValue(Ve){if(Ve%1!==Ve)return this.value=Math.round(Ve),this.preValue=Ve,void this.changeDetection.markForCheck();this.preValue=Ve,this.value=Ve,this.changeDetection.markForCheck()}enter(Ve){this.readonly||(this.value=Ve,this.changeDetection.markForCheck(),this.onHover.emit(Ve))}reset(){"number"==typeof this.preValue&&(this.value=Math.round(this.preValue),this.changeDetection.markForCheck(),this.onLeave.emit(this.value))}registerOnChange(Ve){this.onChange=Ve}registerOnTouched(Ve){this.onTouched=Ve}rate(Ve){!this.readonly&&this.range&&Ve>=0&&Ve<=this.range.length&&(this.writeValue(Ve),this.onChange(Ve))}buildTemplateObjects(Ve){const at=[];for(let ut=0;ut<Ve;ut++)at.push({index:ut,title:this.titles[ut]||ut+1});return at}}return De.\u0275fac=function(Ve){return new(Ve||De)(f.Y36(f.sBO),f.Y36(ce))},De.\u0275cmp=f.Xpm({type:De,selectors:[["rating"]],hostBindings:function(Ve,at){1&Ve&&f.NdJ("keydown",function(ze){return at.onKeydown(ze)})},inputs:{max:"max",readonly:"readonly",titles:"titles",customTemplate:"customTemplate"},outputs:{onHover:"onHover",onLeave:"onLeave"},features:[f._Bn([Q])],decls:4,vars:4,consts:[["tabindex","0","role","slider","aria-valuemin","0",3,"mouseleave","keydown"],["star",""],["ngFor","",3,"ngForOf"],[1,"sr-only","visually-hidden"],[1,"bs-rating-star",3,"title","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(Ve,at){1&Ve&&(f.TgZ(0,"span",0),f.NdJ("mouseleave",function(){return at.reset()})("keydown",function(ze){return at.onKeydown(ze)}),f.YNc(1,Ce,1,1,"ng-template",null,1,f.W1O),f.YNc(3,Ee,4,11,"ng-template",2),f.qZA()),2&Ve&&(f.uIk("aria-label",at.ariaLabel)("aria-valuemax",at.range.length)("aria-valuenow",at.value),f.xp6(3),f.Q6J("ngForOf",at.range))},directives:[G.sg,G.tP],encapsulation:2,changeDetection:0}),De})(),le=(()=>{class De{static forRoot(){return{ngModule:De,providers:[]}}}return De.\u0275fac=function(Ve){return new(Ve||De)},De.\u0275mod=f.oAB({type:De}),De.\u0275inj=f.cJS({imports:[[G.ez]]}),De})()},7691:(Qt,We,x)=>{x.d(We,{AL:()=>Ce,C:()=>ce,Dc:()=>bt,GU:()=>it,O4:()=>ft,Rg:()=>Ee,Wl:()=>ke,XA:()=>K,wo:()=>Ne});var f=x(5e3);class h{constructor(q,Se){this.open=q,this.close=Se||q}isManual(){return"manual"===this.open||"manual"===this.close}}const G={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function Ce(mt,q=G){const Se=(mt||"").trim();if(0===Se.length)return[];const qe=Se.split(/\s+/).map(Ht=>Ht.split(":")).map(Ht=>{const nn=q[Ht[0]]||Ht;return new h(nn[0],nn[1])}),Rt=qe.filter(Ht=>Ht.isManual());if(Rt.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Rt.length&&qe.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return qe}function Ne(mt,q){const Se=Ce(q.triggers),qe=q.target;if(1===Se.length&&Se[0].isManual())return Function.prototype;const Rt=[],Ht=[],nn=()=>{Ht.forEach(yn=>Rt.push(yn())),Ht.length=0};return Se.forEach(yn=>{const xn=yn.open===yn.close,Vn=xn?q.toggle:q.show;if(!xn&&yn.close&&q.hide){const Xn=mt.listen(qe,yn.close,q.hide);Ht.push(()=>Xn)}Vn&&Rt.push(mt.listen(qe,yn.open,()=>Vn(nn)))}),()=>{Rt.forEach(yn=>yn())}}function Ee(mt,q){return q.outsideClick?mt.listen("document","click",Se=>{q.target&&q.target.contains(Se.target)||q.targets&&q.targets.some(qe=>qe.contains(Se.target))||q.hide&&q.hide()}):Function.prototype}function ce(mt,q){return q.outsideEsc?mt.listen("document","keyup.esc",Se=>{q.target&&q.target.contains(Se.target)||q.targets&&q.targets.some(qe=>qe.contains(Se.target))||q.hide&&q.hide()}):Function.prototype}const Q="undefined"!=typeof window&&window||{};let be;function Qe(){if(void 0===Q.document)return"bs4";const mt=Q.document.createElement("span");mt.innerText="testing bs version",mt.classList.add("d-none"),mt.classList.add("pl-1"),Q.document.head.appendChild(mt);const q=mt.getBoundingClientRect(),Se=Q.getComputedStyle(mt).paddingLeft;return!q||q&&0!==q.top?(Q.document.head.removeChild(mt),"bs3"):Se&&parseFloat(Se)?(Q.document.head.removeChild(mt),"bs4"):(Q.document.head.removeChild(mt),"bs5")}function bt(mt){be=mt}function K(){return void 0===Q||(void 0===Q.__theme?(be||(be=Qe()),"bs3"===be):"bs3"===Q.__theme)}function Je(){return!K()&&(be||(be=Qe()),"bs4"===be)}function ke(){return{isBs3:K(),isBs4:Je(),isBs5:!K()&&!Je()&&(be||(be=Qe()),"bs5"===be)}}function it(){return function(Se,qe){const Rt=` __${qe}Value`;Object.defineProperty(Se,qe,{get(){return this[Rt]},set(Ht){const nn=this[Rt];this[Rt]=Ht,nn!==Ht&&this[qe+"Change"]&&this[qe+"Change"].emit(Ht)}})}}const xt={},tn="undefined"==typeof console||!("warn"in console);function ft(mt){!(0,f.X6Q)()||tn||mt in xt||(xt[mt]=!0,console.warn(mt))}},5861:(Qt,We,x)=>{function f(G,Ce,ve,Ne,Ee,ce,Q){try{var J=G[ce](Q),le=J.value}catch(De){return void ve(De)}J.done?Ce(le):Promise.resolve(le).then(Ne,Ee)}function h(G){return function(){var Ce=this,ve=arguments;return new Promise(function(Ne,Ee){var ce=G.apply(Ce,ve);function Q(le){f(ce,Ne,Ee,Q,J,"next",le)}function J(le){f(ce,Ne,Ee,Q,J,"throw",le)}Q(void 0)})}}x.d(We,{Z:()=>h})}},Qt=>{Qt(Qt.s=326)}]);