"use strict";var sC=Object.defineProperty,oC=Object.defineProperties,aC=Object.getOwnPropertyDescriptors,ib=Object.getOwnPropertySymbols,lC=Object.prototype.hasOwnProperty,uC=Object.prototype.propertyIsEnumerable,rb=(Jt,Ze,x)=>Ze in Jt?sC(Jt,Ze,{enumerable:!0,configurable:!0,writable:!0,value:x}):Jt[Ze]=x,sb=(Jt,Ze)=>{for(var x in Ze||(Ze={}))lC.call(Ze,x)&&rb(Jt,x,Ze[x]);if(ib)for(var x of ib(Ze))uC.call(Ze,x)&&rb(Jt,x,Ze[x]);return Jt},ob=(Jt,Ze)=>oC(Jt,aC(Ze));(self.webpackChunkjoin=self.webpackChunkjoin||[]).push([[179],{440:(Jt,Ze,x)=>{x.d(Ze,{nm:()=>$r});var p=x(6351);x(5e3),x(5867);var ge=x(5861),we=x(9681),et=x(4859),wt=x(2090),q=x(1877);const qe=new Map,tt={activated:!1,tokenObservers:[]},Le={initialized:!1,enabled:!1};function Ue(st){return qe.get(st)||Object.assign({},tt)}function nt(){return Le}class Ae{constructor(Ke,ht,Ht,on,bn){if(this.operation=Ke,this.retryPolicy=ht,this.getWaitDuration=Ht,this.lowerBound=on,this.upperBound=bn,this.pending=null,this.nextErrorWaitInterval=on,on>bn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ke){var ht=this;return(0,ge.Z)(function*(){ht.stop();try{ht.pending=new wt.BH,yield function Ge(st){return new Promise(Ke=>{setTimeout(Ke,st)})}(ht.getNextRun(Ke)),ht.pending.resolve(),yield ht.pending.promise,ht.pending=new wt.BH,yield ht.operation(),ht.pending.resolve(),yield ht.pending.promise,ht.process(!0).catch(()=>{})}catch(Ht){ht.retryPolicy(Ht)?ht.process(!1).catch(()=>{}):ht.stop()}})()}getNextRun(Ke){if(Ke)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ht=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ht}}}const Nt=new wt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gn(st){if(!Ue(st).activated)throw Nt.create("use-before-activation",{appName:st.name})}function Xn(st,Ke){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,ge.Z)(function*({url:st,body:Ke},ht){var Ht,on;const bn={"Content-Type":"application/json"},jn=ht.getImmediate({optional:!0});if(jn){const Gr=yield jn.getHeartbeatsHeader();Gr&&(bn["X-Firebase-Client"]=Gr)}const Zi={method:"POST",body:JSON.stringify(Ke),headers:bn};let Ri,us;try{Ri=yield fetch(st,Zi)}catch(Gr){throw Nt.create("fetch-network-error",{originalErrorMessage:null===(Ht=Gr)||void 0===Ht?void 0:Ht.message})}if(200!==Ri.status)throw Nt.create("fetch-status-error",{httpStatus:Ri.status});try{us=yield Ri.json()}catch(Gr){throw Nt.create("fetch-parse-error",{originalErrorMessage:null===(on=Gr)||void 0===on?void 0:on.message})}const Os=us.ttl.match(/^([\d.]+)(s)$/);if(!Os||!Os[2]||isNaN(Number(Os[1])))throw Nt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${us.ttl}`});const cs=1e3*Number(Os[1]),Ro=Date.now();return{token:us.token,expireTimeMillis:Ro+cs,issuedAtTimeMillis:Ro}})).apply(this,arguments)}function xi(st,Ke){const{projectId:ht,appId:Ht,apiKey:on}=st.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${ht}/apps/${Ht}:exchangeDebugToken?key=${on}`,body:{debug_token:Ke}}}const un="firebase-app-check-store";let qn=null;function nn(){return qn||(qn=new Promise((st,Ke)=>{var ht;try{const Ht=indexedDB.open("firebase-app-check-database",1);Ht.onsuccess=on=>{st(on.target.result)},Ht.onerror=on=>{var bn;Ke(Nt.create("storage-open",{originalErrorMessage:null===(bn=on.target.error)||void 0===bn?void 0:bn.message}))},Ht.onupgradeneeded=on=>{0===on.oldVersion&&on.target.result.createObjectStore(un,{keyPath:"compositeKey"})}}catch(Ht){Ke(Nt.create("storage-open",{originalErrorMessage:null===(ht=Ht)||void 0===ht?void 0:ht.message}))}}),qn)}function Ut(){return(Ut=(0,ge.Z)(function*(st,Ke){const Ht=(yield nn()).transaction(un,"readwrite"),bn=Ht.objectStore(un).put({compositeKey:st,value:Ke});return new Promise((jn,Zi)=>{bn.onsuccess=Ri=>{jn()},Ht.onerror=Ri=>{var us;Zi(Nt.create("storage-set",{originalErrorMessage:null===(us=Ri.target.error)||void 0===us?void 0:us.message}))}})})).apply(this,arguments)}const Re=new q.Yd("@firebase/app-check");function We(st,Ke){return(0,wt.hl)()?function _i(st,Ke){return function $e(st,Ke){return Ut.apply(this,arguments)}(function Kt(st){return`${st.options.appId}-${st.name}`}(st),Ke)}(st,Ke).catch(ht=>{Re.warn(`Failed to write token to IndexedDB. Error: ${ht}`)}):Promise.resolve()}function Tt(){return nt().enabled}function vn(){return wn.apply(this,arguments)}function wn(){return(wn=(0,ge.Z)(function*(){const st=nt();if(st.enabled&&st.token)return st.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const z={error:"UNKNOWN_ERROR"};function he(st){return wt.US.encodeString(JSON.stringify(st),!1)}function _e(st){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,ge.Z)(function*(st,Ke=!1){const ht=st.app;gn(ht);const Ht=Ue(ht);let bn,on=Ht.token;if(on&&!ye(on)&&(Ht.token=void 0,on=void 0),!on){const Ri=yield Ht.cachedTokenPromise;Ri&&(ye(Ri)?on=Ri:yield We(ht,void 0))}if(!Ke&&on&&ye(on))return{token:on.token};let Zi,jn=!1;if(Tt()){Ht.exchangeTokenPromise||(Ht.exchangeTokenPromise=Xn(xi(ht,yield vn()),st.heartbeatServiceProvider).finally(()=>{Ht.exchangeTokenPromise=void 0}),jn=!0);const Ri=yield Ht.exchangeTokenPromise;return yield We(ht,Ri),Ht.token=Ri,{token:Ri.token}}try{Ht.exchangeTokenPromise||(Ht.exchangeTokenPromise=Ht.provider.getToken().finally(()=>{Ht.exchangeTokenPromise=void 0}),jn=!0),on=yield Ue(ht).exchangeTokenPromise}catch(Ri){"appCheck/throttled"===Ri.code?Re.warn(Ri.message):Re.error(Ri),bn=Ri}return on?bn?Zi=ye(on)?{token:on.token,internalError:bn}:J(bn):(Zi={token:on.token},Ht.token=on,yield We(ht,on)):Zi=J(bn),jn&&Oe(ht,Zi),Zi})).apply(this,arguments)}function Ot(st,Ke){const ht=Ue(st),Ht=ht.tokenObservers.filter(on=>on.next!==Ke);0===Ht.length&&ht.tokenRefresher&&ht.tokenRefresher.isRunning()&&ht.tokenRefresher.stop(),ht.tokenObservers=Ht}function de(st){const{app:Ke}=st,ht=Ue(Ke);let Ht=ht.tokenRefresher;Ht||(Ht=function fe(st){const{app:Ke}=st;return new Ae((0,ge.Z)(function*(){let Ht;if(Ht=Ue(Ke).token?yield _e(st,!0):yield _e(st),Ht.error)throw Ht.error;if(Ht.internalError)throw Ht.internalError}),()=>!0,()=>{const ht=Ue(Ke);if(ht.token){let Ht=ht.token.issuedAtTimeMillis+.5*(ht.token.expireTimeMillis-ht.token.issuedAtTimeMillis)+3e5;return Ht=Math.min(Ht,ht.token.expireTimeMillis-3e5),Math.max(0,Ht-Date.now())}return 0},3e4,96e4)}(st),ht.tokenRefresher=Ht),!Ht.isRunning()&&ht.isTokenAutoRefreshEnabled&&Ht.start()}function Oe(st,Ke){const ht=Ue(st).tokenObservers;for(const Ht of ht)try{"EXTERNAL"===Ht.type&&null!=Ke.error?Ht.error(Ke.error):Ht.next(Ke)}catch(on){}}function ye(st){return st.expireTimeMillis-Date.now()>0}function J(st){return{token:he(z),error:st}}class ${constructor(Ke,ht){this.app=Ke,this.heartbeatServiceProvider=ht}_delete(){const{tokenObservers:Ke}=Ue(this.app);for(const ht of Ke)Ot(this.app,ht.next);return Promise.resolve()}}const ws="app-check-internal";!function nr(){(0,we._registerComponent)(new et.wA("app-check",st=>function X(st,Ke){return new $(st,Ke)}(st.getProvider("app").getImmediate(),st.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((st,Ke,ht)=>{st.getProvider(ws).initialize()})),(0,we._registerComponent)(new et.wA(ws,st=>function ie(st){return{getToken:Ke=>_e(st,Ke),addTokenListener:Ke=>function vt(st,Ke,ht,Ht){const{app:on}=st,bn=Ue(on);if(bn.tokenObservers=[...bn.tokenObservers,{next:ht,error:Ht,type:Ke}],bn.token&&ye(bn.token)){const Zi=bn.token;Promise.resolve().then(()=>{ht({token:Zi.token}),de(st)}).catch(()=>{})}bn.cachedTokenPromise.then(()=>de(st))}(st,"INTERNAL",Ke),removeTokenListener:Ke=>Ot(st.app,Ke)}}(st.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)("@firebase/app-check","0.5.17")}();class $r{constructor(){return(0,p.vb)("app-check")}}"undefined"!=typeof window&&window},3385:(Jt,Ze,x)=>{x.d(Ze,{zQ:()=>Ue,ww:()=>Xe,rT:()=>q,f7:()=>tt,L6:()=>et,_Q:()=>wt,lh:()=>qe,Qv:()=>we,nw:()=>Le});var p=x(5e3),d=x(7579),W=x(9646),Ce=x(8306),ve=x(8996),ke=x(6451),be=x(3900),ce=x(576);function Q(nt,ot){return(0,ce.m)(ot)?(0,be.w)(()=>nt,ot):(0,be.w)(()=>nt)}var ee=x(5363),ue=x(4004),Ne=x(3151),ct=x(590),it=x(9468),ft=x(9300),ut=x(6351),Ye=x(2011),lt=x(9808),Be=x(440),yt=x(127);const we=new p.OlP("angularfire2.auth.use-emulator"),et=new p.OlP("angularfire2.auth.settings"),wt=new p.OlP("angularfire2.auth.tenant-id"),q=new p.OlP("angularfire2.auth.langugage-code"),qe=new p.OlP("angularfire2.auth.use-device-language"),tt=new p.OlP("angularfire.auth.persistence"),Le=(nt,ot,xt,sn,gt,pt,K,Ae)=>(0,Ye.cc)(`${nt.name}.auth`,"AngularFireAuth",nt.name,()=>{const Ge=ot.runOutsideAngular(()=>nt.auth());if(xt&&Ge.useEmulator(...xt),sn&&(Ge.tenantId=sn),Ge.languageCode=gt,pt&&Ge.useDeviceLanguage(),K)for(const[Rt,Nt]of Object.entries(K))Ge.settings[Rt]=Nt;return Ae&&Ge.setPersistence(Ae),Ge},[xt,sn,gt,pt,K,Ae]);let Ue=(()=>{class nt{constructor(xt,sn,gt,pt,K,Ae,Ge,Rt,Nt,tn,gn,An){const zn=new d.x,Xn=(0,W.of)(void 0).pipe((0,ee.Q)(K.outsideAngular),(0,be.w)(()=>pt.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,5881)))),(0,ue.U)(()=>(0,Ye.on)(xt,pt,sn)),(0,ue.U)(Hn=>Le(Hn,pt,Ae,Rt,Nt,tn,Ge,gn)),(0,Ne.d)({bufferSize:1,refCount:!1}));if((0,lt.PM)(gt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{Xn.pipe((0,ct.P)()).subscribe();const vi=Xn.pipe((0,be.w)(Mn=>Mn.getRedirectResult().then(ci=>ci,()=>null)),ut.iC,(0,Ne.d)({bufferSize:1,refCount:!1})),Kn=Xn.pipe((0,be.w)(Mn=>new Ce.y(ci=>({unsubscribe:pt.runOutsideAngular(()=>Mn.onAuthStateChanged(un=>ci.next(un),un=>ci.error(un),()=>ci.complete()))})))),xi=Xn.pipe((0,be.w)(Mn=>new Ce.y(ci=>({unsubscribe:pt.runOutsideAngular(()=>Mn.onIdTokenChanged(un=>ci.next(un),un=>ci.error(un),()=>ci.complete()))}))));this.authState=vi.pipe(Q(Kn),(0,it.R)(K.outsideAngular),(0,ee.Q)(K.insideAngular)),this.user=vi.pipe(Q(xi),(0,it.R)(K.outsideAngular),(0,ee.Q)(K.insideAngular)),this.idToken=this.user.pipe((0,be.w)(Mn=>Mn?(0,ve.D)(Mn.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,be.w)(Mn=>Mn?(0,ve.D)(Mn.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,ke.T)(vi,zn,this.authState.pipe((0,ft.h)(Mn=>!Mn))).pipe((0,ue.U)(Mn=>(null==Mn?void 0:Mn.user)?Mn:null),(0,it.R)(K.outsideAngular),(0,ee.Q)(K.insideAngular))}return(0,Ye.pX)(this,Xn,pt,{spy:{apply:(Hn,vi,Kn)=>{(Hn.startsWith("signIn")||Hn.startsWith("createUser"))&&Kn.then(xi=>zn.next(xi))}}})}}return nt.\u0275fac=function(xt){return new(xt||nt)(p.LFG(Ye.Dh),p.LFG(Ye.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(ut.HU),p.LFG(we,8),p.LFG(et,8),p.LFG(wt,8),p.LFG(q,8),p.LFG(qe,8),p.LFG(tt,8),p.LFG(Be.nm,8))},nt.\u0275prov=p.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"any"}),nt})(),Xe=(()=>{class nt{constructor(){yt.Z.registerVersion("angularfire",ut.q4.full,"auth-compat")}}return nt.\u0275fac=function(xt){return new(xt||nt)},nt.\u0275mod=p.oAB({type:nt}),nt.\u0275inj=p.cJS({providers:[Ue]}),nt})()},2011:(Jt,Ze,x)=>{x.d(Ze,{Dh:()=>ce,GT:()=>ke,cc:()=>it,hO:()=>ct,on:()=>ee,pX:()=>ve,xv:()=>Q});var p=x(5e3),d=x(127),W=x(6351);Jt=x.hmd(Jt);const Ce=["ngOnDestroy"],ve=(lt,Be,yt,ge={})=>new Proxy(lt,{get:(we,et)=>yt.runOutsideAngular(()=>{var wt;if(lt[et])return(null===(wt=null==ge?void 0:ge.spy)||void 0===wt?void 0:wt.get)&&ge.spy.get(et,lt[et]),lt[et];if(Ce.indexOf(et)>-1)return()=>{};const q=Be.toPromise().then(qe=>{const tt=qe&&qe[et];return"function"==typeof tt?tt.bind(qe):tt&&tt.then?tt.then(Le=>yt.run(()=>Le)):yt.run(()=>tt)});return new Proxy(()=>{},{get:(qe,tt)=>q[tt],apply:(qe,tt,Le)=>q.then(Ue=>{var Xe;const nt=Ue&&Ue(...Le);return(null===(Xe=null==ge?void 0:ge.spy)||void 0===Xe?void 0:Xe.apply)&&ge.spy.apply(et,Le,nt),nt})})})}),ke=(lt,Be)=>{Be.forEach(yt=>{Object.getOwnPropertyNames(yt.prototype||yt).forEach(ge=>{Object.defineProperty(lt.prototype,ge,Object.getOwnPropertyDescriptor(yt.prototype||yt,ge))})})};class be{constructor(Be){return Be}}const ce=new p.OlP("angularfire2.app.options"),Q=new p.OlP("angularfire2.app.name");function ee(lt,Be,yt){const we="object"==typeof yt&&yt||{};we.name=we.name||"string"==typeof yt&&yt||"[DEFAULT]";const wt=d.Z.apps.filter(q=>q&&q.name===we.name)[0]||Be.runOutsideAngular(()=>d.Z.initializeApp(lt,we));try{JSON.stringify(lt)!==JSON.stringify(wt.options)&&ue("error",`${wt.name} Firebase App already initialized with different options${Jt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(q){}return new be(wt)}const ue=(lt,...Be)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[lt](...Be)},Ne={provide:be,useFactory:ee,deps:[ce,p.R0b,[new p.FiY,Q]]};let ct=(()=>{class lt{constructor(yt){d.Z.registerVersion("angularfire",W.q4.full,"core"),d.Z.registerVersion("angularfire",W.q4.full,"app-compat"),d.Z.registerVersion("angular",p.q4F.full,yt.toString())}static initializeApp(yt,ge){return{ngModule:lt,providers:[{provide:ce,useValue:yt},{provide:Q,useValue:ge}]}}}return lt.\u0275fac=function(yt){return new(yt||lt)(p.LFG(p.Lbi))},lt.\u0275mod=p.oAB({type:lt}),lt.\u0275inj=p.cJS({providers:[Ne]}),lt})();function it(lt,Be,yt,ge,we){const[,et,wt]=globalThis.\u0275AngularfireInstanceCache.find(q=>q[0]===lt)||[];if(et)return function ft(lt,Be){try{return lt.toString()===Be.toString()}catch(yt){return lt===Be}}(we,wt)||(Ye("error",`${Be} was already initialized on the ${yt} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:we,was:wt})),et;{const q=ge();return globalThis.\u0275AngularfireInstanceCache.push([lt,q,we]),q}}const ut=!!Jt.hot,Ye=(lt,...Be)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[lt](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Jt,Ze,x)=>{x.d(Ze,{q4:()=>Zo,iC:()=>ha,HU:()=>_l,vb:()=>fu,JM:()=>ca});var p=x(5e3),d=x(5867),W=x(5861),Ce=x(9681),ve=x(2090),ke=x(4859),be=x(1877),ce=x(8766);const Q="@firebase/installations",ee="0.5.16",Ne=`w:${ee}`,ct="FIS_v2",Be=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function yt(R){return R instanceof ve.ZR&&R.code.includes("request-failed")}function ge({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function we(R){return{token:R.token,requestStatus:2,expiresIn:Ue(R.expiresIn),creationTime:Date.now()}}function et(R,U){return wt.apply(this,arguments)}function wt(){return(wt=(0,W.Z)(function*(R,U){const De=(yield U.json()).error;return Be.create("request-failed",{requestName:R,serverCode:De.code,serverMessage:De.message,serverStatus:De.status})})).apply(this,arguments)}function q({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function qe(R,{refreshToken:U}){const ae=q(R);return ae.append("Authorization",function Xe(R){return`${ct} ${R}`}(U)),ae}function tt(R){return Le.apply(this,arguments)}function Le(){return(Le=(0,W.Z)(function*(R){const U=yield R();return U.status>=500&&U.status<600?R():U})).apply(this,arguments)}function Ue(R){return Number(R.replace("s","000"))}function nt(R,U){return ot.apply(this,arguments)}function ot(){return(ot=(0,W.Z)(function*({appConfig:R,heartbeatServiceProvider:U},{fid:ae}){const De=ge(R),rt=q(R),mt=U.getImmediate({optional:!0});if(mt){const ri=yield mt.getHeartbeatsHeader();ri&&rt.append("x-firebase-client",ri)}const an={method:"POST",headers:rt,body:JSON.stringify({fid:ae,authVersion:ct,appId:R.appId,sdkVersion:Ne})},Gn=yield tt(()=>fetch(De,an));if(Gn.ok){const ri=yield Gn.json();return{fid:ri.fid||ae,registrationStatus:2,refreshToken:ri.refreshToken,authToken:we(ri.authToken)}}throw yield et("Create Installation",Gn)})).apply(this,arguments)}function xt(R){return new Promise(U=>{setTimeout(U,R)})}const gt=/^[cdef][\w-]{21}$/;function K(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const ae=function Ae(R){return function sn(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return gt.test(ae)?ae:""}catch(R){return""}}function Ge(R){return`${R.appName}!${R.appId}`}const Rt=new Map;function Nt(R,U){const ae=Ge(R);An(ae,U),function zn(R,U){const ae=function Hn(){return!Xn&&"BroadcastChannel"in self&&(Xn=new BroadcastChannel("[Firebase] FID Change"),Xn.onmessage=R=>{An(R.data.key,R.data.fid)}),Xn}();ae&&ae.postMessage({key:R,fid:U}),function vi(){0===Rt.size&&Xn&&(Xn.close(),Xn=null)}()}(ae,U)}function An(R,U){const ae=Rt.get(R);if(ae)for(const De of ae)De(U)}let Xn=null;const Mn="firebase-installations-store";let ci=null;function un(){return ci||(ci=(0,ce.X3)("firebase-installations-database",1,{upgrade:(R,U)=>{0===U&&R.createObjectStore(Mn)}})),ci}function Pi(R,U){return qn.apply(this,arguments)}function qn(){return(qn=(0,W.Z)(function*(R,U){const ae=Ge(R),rt=(yield un()).transaction(Mn,"readwrite"),mt=rt.objectStore(Mn),qt=yield mt.get(ae);return yield mt.put(U,ae),yield rt.done,(!qt||qt.fid!==U.fid)&&Nt(R,U.fid),U})).apply(this,arguments)}function nn(R){return Li.apply(this,arguments)}function Li(){return(Li=(0,W.Z)(function*(R){const U=Ge(R),De=(yield un()).transaction(Mn,"readwrite");yield De.objectStore(Mn).delete(U),yield De.done})).apply(this,arguments)}function _i(R,U){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,W.Z)(function*(R,U){const ae=Ge(R),rt=(yield un()).transaction(Mn,"readwrite"),mt=rt.objectStore(Mn),qt=yield mt.get(ae),an=U(qt);return void 0===an?yield mt.delete(ae):yield mt.put(an,ae),yield rt.done,an&&(!qt||qt.fid!==an.fid)&&Nt(R,an.fid),an})).apply(this,arguments)}function Fe(R){return $e.apply(this,arguments)}function $e(){return($e=(0,W.Z)(function*(R){let U;const ae=yield _i(R.appConfig,De=>{const rt=Ut(De),mt=It(R,rt);return U=mt.registrationPromise,mt.installationEntry});return""===ae.fid?{installationEntry:yield U}:{installationEntry:ae,registrationPromise:U}})).apply(this,arguments)}function Ut(R){return We(R||{fid:K(),registrationStatus:0})}function It(R,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(Be.create("app-offline"))};const ae={fid:U.fid,registrationStatus:1,registrationTime:Date.now()},De=function Bt(R,U){return Kt.apply(this,arguments)}(R,ae);return{installationEntry:ae,registrationPromise:De}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:Re(R)}:{installationEntry:U}}function Kt(){return(Kt=(0,W.Z)(function*(R,U){try{const ae=yield nt(R,U);return Pi(R.appConfig,ae)}catch(ae){throw yt(ae)&&409===ae.customData.serverCode?yield nn(R.appConfig):yield Pi(R.appConfig,{fid:U.fid,registrationStatus:0}),ae}})).apply(this,arguments)}function Re(R){return xe.apply(this,arguments)}function xe(){return(xe=(0,W.Z)(function*(R){let U=yield Ee(R.appConfig);for(;1===U.registrationStatus;)yield xt(100),U=yield Ee(R.appConfig);if(0===U.registrationStatus){const{installationEntry:ae,registrationPromise:De}=yield Fe(R);return De||ae}return U})).apply(this,arguments)}function Ee(R){return _i(R,U=>{if(!U)throw Be.create("installation-not-found");return We(U)})}function We(R){return function bt(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function St(R,U){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,W.Z)(function*({appConfig:R,heartbeatServiceProvider:U},ae){const De=vn(R,ae),rt=qe(R,ae),mt=U.getImmediate({optional:!0});if(mt){const ri=yield mt.getHeartbeatsHeader();ri&&rt.append("x-firebase-client",ri)}const an={method:"POST",headers:rt,body:JSON.stringify({installation:{sdkVersion:Ne,appId:R.appId}})},Gn=yield tt(()=>fetch(De,an));if(Gn.ok)return we(yield Gn.json());throw yield et("Generate Auth Token",Gn)})).apply(this,arguments)}function vn(R,{fid:U}){return`${ge(R)}/${U}/authTokens:generate`}function wn(R){return pn.apply(this,arguments)}function pn(){return(pn=(0,W.Z)(function*(R,U=!1){let ae;const De=yield _i(R.appConfig,mt=>{if(!Ot(mt))throw Be.create("not-registered");const qt=mt.authToken;if(!U&&de(qt))return mt;if(1===qt.requestStatus)return ae=z(R,U),mt;{if(!navigator.onLine)throw Be.create("app-offline");const an=Oe(mt);return ae=Ve(R,an),an}});return ae?yield ae:De.authToken})).apply(this,arguments)}function z(R,U){return he.apply(this,arguments)}function he(){return(he=(0,W.Z)(function*(R,U){let ae=yield _e(R.appConfig);for(;1===ae.authToken.requestStatus;)yield xt(100),ae=yield _e(R.appConfig);const De=ae.authToken;return 0===De.requestStatus?wn(R,U):De})).apply(this,arguments)}function _e(R){return _i(R,U=>{if(!Ot(U))throw Be.create("not-registered");return function ye(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function Ve(R,U){return vt.apply(this,arguments)}function vt(){return(vt=(0,W.Z)(function*(R,U){try{const ae=yield St(R,U),De=Object.assign(Object.assign({},U),{authToken:ae});return yield Pi(R.appConfig,De),ae}catch(ae){if(!yt(ae)||401!==ae.customData.serverCode&&404!==ae.customData.serverCode){const De=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield Pi(R.appConfig,De)}else yield nn(R.appConfig);throw ae}})).apply(this,arguments)}function Ot(R){return void 0!==R&&2===R.registrationStatus}function de(R){return 2===R.requestStatus&&!function fe(R){const U=Date.now();return U<R.creationTime||R.creationTime+R.expiresIn<U+36e5}(R)}function Oe(R){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:U})}function $(){return($=(0,W.Z)(function*(R){const U=R,{installationEntry:ae,registrationPromise:De}=yield Fe(U);return De?De.catch(console.error):wn(U).catch(console.error),ae.fid})).apply(this,arguments)}function ie(){return(ie=(0,W.Z)(function*(R,U=!1){const ae=R;return yield Se(ae),(yield wn(ae,U)).token})).apply(this,arguments)}function Se(R){return Je.apply(this,arguments)}function Je(){return(Je=(0,W.Z)(function*(R){const{registrationPromise:U}=yield Fe(R);U&&(yield U)})).apply(this,arguments)}function wr(R){return Be.create("missing-app-config-values",{valueName:R})}const Mi="installations",Zn=R=>{const U=R.getProvider("app").getImmediate(),ae=function Di(R){if(!R||!R.options)throw wr("App Configuration");if(!R.name)throw wr("App Name");const U=["projectId","apiKey","appId"];for(const ae of U)if(!R.options[ae])throw wr(ae);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(U);return{app:U,appConfig:ae,heartbeatServiceProvider:(0,Ce._getProvider)(U,"heartbeat"),_delete:()=>Promise.resolve()}},mi=R=>{const U=R.getProvider("app").getImmediate(),ae=(0,Ce._getProvider)(U,Mi).getImmediate();return{getId:()=>function J(R){return $.apply(this,arguments)}(ae),getToken:rt=>function X(R){return ie.apply(this,arguments)}(ae,rt)}};(function Hi(){(0,Ce._registerComponent)(new ke.wA(Mi,Zn,"PUBLIC")),(0,Ce._registerComponent)(new ke.wA("installations-internal",mi,"PRIVATE"))})(),(0,Ce.registerVersion)(Q,ee),(0,Ce.registerVersion)(Q,ee,"esm2017");const vr="@firebase/remote-config",Ii=new ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ar{constructor(U,ae,De,rt){this.client=U,this.storage=ae,this.storageCache=De,this.logger=rt}isCachedDataFresh(U,ae){if(!ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const De=Date.now()-ae,rt=De<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${De}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${rt}.`),rt}fetch(U){var ae=this;return(0,W.Z)(function*(){const[De,rt]=yield Promise.all([ae.storage.getLastSuccessfulFetchTimestampMillis(),ae.storage.getLastSuccessfulFetchResponse()]);if(rt&&ae.isCachedDataFresh(U.cacheMaxAgeMillis,De))return rt;U.eTag=rt&&rt.eTag;const mt=yield ae.client.fetch(U),qt=[ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===mt.status&&qt.push(ae.storage.setLastSuccessfulFetchResponse(mt)),yield Promise.all(qt),mt})()}}function Ls(R=navigator){return R.languages&&R.languages[0]||R.language}class Yi{constructor(U,ae,De,rt,mt,qt){this.firebaseInstallations=U,this.sdkVersion=ae,this.namespace=De,this.projectId=rt,this.apiKey=mt,this.appId=qt}fetch(U){var ae=this;return(0,W.Z)(function*(){var De,rt,mt;const[qt,an]=yield Promise.all([ae.firebaseInstallations.getId(),ae.firebaseInstallations.getToken()]),ri=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ae.projectId}/namespaces/${ae.namespace}:fetch?key=${ae.apiKey}`,si={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},Bn={sdk_version:ae.sdkVersion,app_instance_id:qt,app_instance_id_token:an,app_id:ae.appId,language_code:Ls()},Rr={method:"POST",headers:si,body:JSON.stringify(Bn)},Ki=fetch(ri,Rr),rl=new Promise((fa,La)=>{U.signal.addEventListener(()=>{const Gs=new Error("The operation was aborted.");Gs.name="AbortError",La(Gs)})});let Io;try{yield Promise.race([Ki,rl]),Io=yield Ki}catch(fa){let La="fetch-client-network";throw"AbortError"===(null===(De=fa)||void 0===De?void 0:De.name)&&(La="fetch-timeout"),Ii.create(La,{originalErrorMessage:null===(rt=fa)||void 0===rt?void 0:rt.message})}let ho=Io.status;const Gl=Io.headers.get("ETag")||void 0;let ka,sl;if(200===Io.status){let fa;try{fa=yield Io.json()}catch(La){throw Ii.create("fetch-client-parse",{originalErrorMessage:null===(mt=La)||void 0===mt?void 0:mt.message})}ka=fa.entries,sl=fa.state}if("INSTANCE_STATE_UNSPECIFIED"===sl?ho=500:"NO_CHANGE"===sl?ho=304:("NO_TEMPLATE"===sl||"EMPTY_CONFIG"===sl)&&(ka={}),304!==ho&&200!==ho)throw Ii.create("fetch-status",{httpStatus:ho});return{status:ho,eTag:Gl,config:ka}})()}}class Ke{constructor(U,ae){this.client=U,this.storage=ae}fetch(U){var ae=this;return(0,W.Z)(function*(){const De=(yield ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ae.attemptFetch(U,De)})()}attemptFetch(U,{throttleEndTimeMillis:ae,backoffCount:De}){var rt=this;return(0,W.Z)(function*(){yield function Fs(R,U){return new Promise((ae,De)=>{const rt=Math.max(U-Date.now(),0),mt=setTimeout(ae,rt);R.addEventListener(()=>{clearTimeout(mt),De(Ii.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,ae);try{const mt=yield rt.client.fetch(U);return yield rt.storage.deleteThrottleMetadata(),mt}catch(mt){if(!function st(R){if(!(R instanceof ve.ZR&&R.customData))return!1;const U=Number(R.customData.httpStatus);return 429===U||500===U||503===U||504===U}(mt))throw mt;const qt={throttleEndTimeMillis:Date.now()+(0,ve.$s)(De),backoffCount:De+1};return yield rt.storage.setThrottleMetadata(qt),rt.attemptFetch(U,qt)}})()}}class on{constructor(U,ae,De,rt,mt){this.app=U,this._client=ae,this._storageCache=De,this._storage=rt,this._logger=mt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function bn(R,U){var ae;const De=R.target.error||void 0;return Ii.create(U,{originalErrorMessage:De&&(null===(ae=De)||void 0===ae?void 0:ae.message)})}const jn="app_namespace_store";class Os{constructor(U,ae,De,rt=function us(){return new Promise((R,U)=>{var ae;try{const De=indexedDB.open("firebase_remote_config",1);De.onerror=rt=>{U(bn(rt,"storage-open"))},De.onsuccess=rt=>{R(rt.target.result)},De.onupgradeneeded=rt=>{0===rt.oldVersion&&rt.target.result.createObjectStore(jn,{keyPath:"compositeKey"})}}catch(De){U(Ii.create("storage-open",{originalErrorMessage:null===(ae=De)||void 0===ae?void 0:ae.message}))}})}()){this.appId=U,this.appName=ae,this.namespace=De,this.openDbPromise=rt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var ae=this;return(0,W.Z)(function*(){const De=yield ae.openDbPromise;return new Promise((rt,mt)=>{var qt;const Gn=De.transaction([jn],"readonly").objectStore(jn),ri=ae.createCompositeKey(U);try{const si=Gn.get(ri);si.onerror=Bn=>{mt(bn(Bn,"storage-get"))},si.onsuccess=Bn=>{const Rr=Bn.target.result;rt(Rr?Rr.value:void 0)}}catch(si){mt(Ii.create("storage-get",{originalErrorMessage:null===(qt=si)||void 0===qt?void 0:qt.message}))}})})()}set(U,ae){var De=this;return(0,W.Z)(function*(){const rt=yield De.openDbPromise;return new Promise((mt,qt)=>{var an;const ri=rt.transaction([jn],"readwrite").objectStore(jn),si=De.createCompositeKey(U);try{const Bn=ri.put({compositeKey:si,value:ae});Bn.onerror=Rr=>{qt(bn(Rr,"storage-set"))},Bn.onsuccess=()=>{mt()}}catch(Bn){qt(Ii.create("storage-set",{originalErrorMessage:null===(an=Bn)||void 0===an?void 0:an.message}))}})})()}delete(U){var ae=this;return(0,W.Z)(function*(){const De=yield ae.openDbPromise;return new Promise((rt,mt)=>{var qt;const Gn=De.transaction([jn],"readwrite").objectStore(jn),ri=ae.createCompositeKey(U);try{const si=Gn.delete(ri);si.onerror=Bn=>{mt(bn(Bn,"storage-delete"))},si.onsuccess=()=>{rt()}}catch(si){mt(Ii.create("storage-delete",{originalErrorMessage:null===(qt=si)||void 0===qt?void 0:qt.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class cs{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,W.Z)(function*(){const ae=U.storage.getLastFetchStatus(),De=U.storage.getLastSuccessfulFetchTimestampMillis(),rt=U.storage.getActiveConfig(),mt=yield ae;mt&&(U.lastFetchStatus=mt);const qt=yield De;qt&&(U.lastSuccessfulFetchTimestampMillis=qt);const an=yield rt;an&&(U.activeConfig=an)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function No(){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,W.Z)(function*(){if(!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch(R){return!1}})).apply(this,arguments)}!function Ro(){(0,Ce._registerComponent)(new ke.wA("remote-config",function R(U,{instanceIdentifier:ae}){const De=U.getProvider("app").getImmediate(),rt=U.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ii.create("registration-window");if(!(0,ve.hl)())throw Ii.create("indexed-db-unavailable");const{projectId:mt,apiKey:qt,appId:an}=De.options;if(!mt)throw Ii.create("registration-project-id");if(!qt)throw Ii.create("registration-api-key");if(!an)throw Ii.create("registration-app-id");const Gn=new Os(an,De.name,ae=ae||"firebase"),ri=new cs(Gn),si=new be.Yd(vr);si.logLevel=be.in.ERROR;const Bn=new Yi(rt,Ce.SDK_VERSION,ae,mt,qt,an),Rr=new Ke(Bn,Gn),Ki=new Ar(Rr,Gn,ri,si),rl=new on(De,Ki,ri,Gn,si);return function di(R){const U=(0,ve.m9)(R);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(rl),rl},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(vr,"0.3.15"),(0,Ce.registerVersion)(vr,"0.3.15","esm2017")}();const Ms="/firebase-messaging-sw.js",Un="/firebase-cloud-messaging-push-scope",Cs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ts="google.c.a.c_id",Ha="google.c.a.c_l",ko="google.c.a.ts",Xr="google.c.a.e";var zr=(()=>{return(R=zr||(zr={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",zr;var R})();function es(R){const U=new Uint8Array(R);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vs(R){const ae=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),De=atob(ae),rt=new Uint8Array(De.length);for(let mt=0;mt<De.length;++mt)rt[mt]=De.charCodeAt(mt);return rt}const Ni="fcm_token_details_db",Lo="fcm_token_object_Store";function ia(R){return ds.apply(this,arguments)}function ds(){return ds=(0,W.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(mt=>mt.name).includes(Ni))return null;let U=null;return(yield(0,ce.X3)(Ni,5,{upgrade:(De=(0,W.Z)(function*(rt,mt,qt,an){var Gn;if(mt<2||!rt.objectStoreNames.contains(Lo))return;const ri=an.objectStore(Lo),si=yield ri.index("fcmSenderId").get(R);if(yield ri.clear(),si)if(2===mt){const Bn=si;if(!Bn.auth||!Bn.p256dh||!Bn.endpoint)return;U={token:Bn.fcmToken,createTime:null!==(Gn=Bn.createTime)&&void 0!==Gn?Gn:Date.now(),subscriptionOptions:{auth:Bn.auth,p256dh:Bn.p256dh,endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:"string"==typeof Bn.vapidKey?Bn.vapidKey:es(Bn.vapidKey)}}}else if(3===mt){const Bn=si;U={token:Bn.fcmToken,createTime:Bn.createTime,subscriptionOptions:{auth:es(Bn.auth),p256dh:es(Bn.p256dh),endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:es(Bn.vapidKey)}}}else if(4===mt){const Bn=si;U={token:Bn.fcmToken,createTime:Bn.createTime,subscriptionOptions:{auth:es(Bn.auth),p256dh:es(Bn.p256dh),endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:es(Bn.vapidKey)}}}}),function(mt,qt,an,Gn){return De.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Ni),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),Fr(U)?U:null;var De}),ds.apply(this,arguments)}function Fr(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:U}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}const ts="firebase-messaging-store";let Ks=null;function Ui(){return Ks||(Ks=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(R,U)=>{0===U&&R.createObjectStore(ts)}})),Ks}function V(R){return ne.apply(this,arguments)}function ne(){return(ne=(0,W.Z)(function*(R){const U=zt(R),De=yield(yield Ui()).transaction(ts).objectStore(ts).get(U);if(De)return De;{const rt=yield ia(R.appConfig.senderId);if(rt)return yield F(R,rt),rt}})).apply(this,arguments)}function F(R,U){return se.apply(this,arguments)}function se(){return(se=(0,W.Z)(function*(R,U){const ae=zt(R),rt=(yield Ui()).transaction(ts,"readwrite");return yield rt.objectStore(ts).put(U,ae),yield rt.done,U})).apply(this,arguments)}function Pe(R){return At.apply(this,arguments)}function At(){return(At=(0,W.Z)(function*(R){const U=zt(R),De=(yield Ui()).transaction(ts,"readwrite");yield De.objectStore(ts).delete(U),yield De.done})).apply(this,arguments)}function zt({appConfig:R}){return R.appId}const $n=new ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function yi(R,U){return ei.apply(this,arguments)}function ei(){return(ei=(0,W.Z)(function*(R,U){var ae;const De=yield N(R),rt=re(U),mt={method:"POST",headers:De,body:JSON.stringify(rt)};let qt;try{qt=yield(yield fetch(H(R.appConfig),mt)).json()}catch(an){throw $n.create("token-subscribe-failed",{errorInfo:null===(ae=an)||void 0===ae?void 0:ae.toString()})}if(qt.error)throw $n.create("token-subscribe-failed",{errorInfo:qt.error.message});if(!qt.token)throw $n.create("token-subscribe-no-token");return qt.token})).apply(this,arguments)}function hi(R,U){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,W.Z)(function*(R,U){var ae;const De=yield N(R),rt=re(U.subscriptionOptions),mt={method:"PATCH",headers:De,body:JSON.stringify(rt)};let qt;try{qt=yield(yield fetch(`${H(R.appConfig)}/${U.token}`,mt)).json()}catch(an){throw $n.create("token-update-failed",{errorInfo:null===(ae=an)||void 0===ae?void 0:ae.toString()})}if(qt.error)throw $n.create("token-update-failed",{errorInfo:qt.error.message});if(!qt.token)throw $n.create("token-update-no-token");return qt.token})).apply(this,arguments)}function Bi(R,U){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,W.Z)(function*(R,U){var ae;const rt={method:"DELETE",headers:yield N(R)};try{const qt=yield(yield fetch(`${H(R.appConfig)}/${U}`,rt)).json();if(qt.error)throw $n.create("token-unsubscribe-failed",{errorInfo:qt.error.message})}catch(mt){throw $n.create("token-unsubscribe-failed",{errorInfo:null===(ae=mt)||void 0===ae?void 0:ae.toString()})}})).apply(this,arguments)}function H({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function N(R){return M.apply(this,arguments)}function M(){return(M=(0,W.Z)(function*({appConfig:R,installations:U}){const ae=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${ae}`})})).apply(this,arguments)}function re({p256dh:R,auth:U,endpoint:ae,vapidKey:De}){const rt={web:{endpoint:ae,auth:U,p256dh:R}};return De!==Cs&&(rt.web.applicationPubKey=De),rt}const Pt=6048e5;function Sn(R){return ki.apply(this,arguments)}function ki(){return(ki=(0,W.Z)(function*(R){const U=yield hl(R.swRegistration,R.vapidKey),ae={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:U.endpoint,auth:es(U.getKey("auth")),p256dh:es(U.getKey("p256dh"))},De=yield V(R.firebaseDependencies);if(De){if(ba(De.subscriptionOptions,ae))return Date.now()>=De.createTime+Pt?Fo(R,{token:De.token,createTime:Date.now(),subscriptionOptions:ae}):De.token;try{yield Bi(R.firebaseDependencies,De.token)}catch(rt){console.warn(rt)}return Wt(R.firebaseDependencies,ae)}return Wt(R.firebaseDependencies,ae)})).apply(this,arguments)}function Ds(R){return hs.apply(this,arguments)}function hs(){return(hs=(0,W.Z)(function*(R){const U=yield V(R.firebaseDependencies);U&&(yield Bi(R.firebaseDependencies,U.token),yield Pe(R.firebaseDependencies));const ae=yield R.swRegistration.pushManager.getSubscription();return!ae||ae.unsubscribe()})).apply(this,arguments)}function Fo(R,U){return _a.apply(this,arguments)}function _a(){return(_a=(0,W.Z)(function*(R,U){try{const ae=yield hi(R.firebaseDependencies,U),De=Object.assign(Object.assign({},U),{token:ae,createTime:Date.now()});return yield F(R.firebaseDependencies,De),ae}catch(ae){throw yield Ds(R),ae}})).apply(this,arguments)}function Wt(R,U){return bi.apply(this,arguments)}function bi(){return(bi=(0,W.Z)(function*(R,U){const De={token:yield yi(R,U),createTime:Date.now(),subscriptionOptions:U};return yield F(R,De),De.token})).apply(this,arguments)}function hl(R,U){return lr.apply(this,arguments)}function lr(){return(lr=(0,W.Z)(function*(R,U){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vs(U)})})).apply(this,arguments)}function ba(R,U){return U.vapidKey===R.vapidKey&&U.endpoint===R.endpoint&&U.auth===R.auth&&U.p256dh===R.p256dh}function _o(R){const U={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function Us(R,U){if(!U.notification)return;R.notification={};const ae=U.notification.title;ae&&(R.notification.title=ae);const De=U.notification.body;De&&(R.notification.body=De);const rt=U.notification.image;rt&&(R.notification.image=rt);const mt=U.notification.icon;mt&&(R.notification.icon=mt)}(U,R),function Ea(R,U){!U.data||(R.data=U.data)}(U,R),function wa(R,U){var ae,De,rt,mt,qt;if(!U.fcmOptions&&!(null===(ae=U.notification)||void 0===ae?void 0:ae.click_action))return;R.fcmOptions={};const an=null!==(rt=null===(De=U.fcmOptions)||void 0===De?void 0:De.link)&&void 0!==rt?rt:null===(mt=U.notification)||void 0===mt?void 0:mt.click_action;an&&(R.fcmOptions.link=an);const Gn=null===(qt=U.fcmOptions)||void 0===qt?void 0:qt.analytics_label;Gn&&(R.fcmOptions.analyticsLabel=Gn)}(U,R),U}function fl(R){return"object"==typeof R&&!!R&&Ts in R}function pl(R,U){const ae=[];for(let De=0;De<R.length;De++)ae.push(R.charAt(De)),De<U.length&&ae.push(U.charAt(De));return ae.join("")}function no(R){return $n.create("missing-app-config-values",{valueName:R})}pl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wr{constructor(U,ae,De){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const rt=function gl(R){if(!R||!R.options)throw no("App Configuration Object");if(!R.name)throw no("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:ae}=R;for(const De of U)if(!ae[De])throw no(De);return{appName:R.name,projectId:ae.projectId,apiKey:ae.apiKey,appId:ae.appId,senderId:ae.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:rt,installations:ae,analyticsProvider:De}}_delete(){return Promise.resolve()}}function io(R){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,W.Z)(function*(R){var U;try{R.swRegistration=yield navigator.serviceWorker.register(Ms,{scope:Un}),R.swRegistration.update().catch(()=>{})}catch(ae){throw $n.create("failed-service-worker-registration",{browserErrorMessage:null===(U=ae)||void 0===U?void 0:U.message})}})).apply(this,arguments)}function bo(R,U){return ys.apply(this,arguments)}function ys(){return(ys=(0,W.Z)(function*(R,U){if(!U&&!R.swRegistration&&(yield io(R)),U||!R.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw $n.create("invalid-sw-registration");R.swRegistration=U}})).apply(this,arguments)}function Bs(R,U){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,W.Z)(function*(R,U){U?R.vapidKey=U:R.vapidKey||(R.vapidKey=Cs)})).apply(this,arguments)}function Is(){return(Is=(0,W.Z)(function*(R,U){if(!navigator)throw $n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $n.create("permission-blocked");return yield Bs(R,null==U?void 0:U.vapidKey),yield bo(R,null==U?void 0:U.serviceWorkerRegistration),Sn(R)})).apply(this,arguments)}function Ta(R,U,ae){return Or.apply(this,arguments)}function Or(){return(Or=(0,W.Z)(function*(R,U,ae){const De=tl(U);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(De,{message_id:ae[Ts],message_name:ae[Ha],message_time:ae[ko],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tl(R){switch(R){case zr.NOTIFICATION_CLICKED:return"notification_open";case zr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function wo(){return(wo=(0,W.Z)(function*(R,U){const ae=U.data;if(!ae.isFirebaseMessaging)return;R.onMessageHandler&&ae.messageType===zr.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(_o(ae)):R.onMessageHandler.next(_o(ae)));const De=ae.data;fl(De)&&"1"===De[Xr]&&(yield Ta(R,ae.messageType,De))})).apply(this,arguments)}const Zr="@firebase/messaging",ra=R=>{const U=new Wr(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ae=>function Da(R,U){return wo.apply(this,arguments)}(U,ae)),U},Uo=R=>{const U=R.getProvider("messaging").getImmediate();return{getToken:De=>function Ca(R,U){return Is.apply(this,arguments)}(U,De)}};function Ia(){return so.apply(this,arguments)}function so(){return(so=(0,W.Z)(function*(){try{yield(0,ve.eu)()}catch(R){return!1}return"undefined"!=typeof window&&(0,ve.hl)()&&(0,ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bo(){(0,Ce._registerComponent)(new ke.wA("messaging",ra,"PUBLIC")),(0,Ce._registerComponent)(new ke.wA("messaging-internal",Uo,"PRIVATE")),(0,Ce.registerVersion)(Zr,"0.11.0"),(0,Ce.registerVersion)(Zr,"0.11.0","esm2017")}();const Ho="analytics",oo="firebase_id",Qt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ji="https://www.googletagmanager.com/gtag/js",Xi=new be.Yd("@firebase/analytics");function Hs(R){return Promise.all(R.map(U=>U.catch(ae=>ae)))}function xn(R,U){const ae=document.createElement("script");ae.src=`${Ji}?l=${R}&id=${U}`,ae.async=!0,document.head.appendChild(ae)}function jo(R,U,ae,De,rt,mt){return hn.apply(this,arguments)}function hn(){return(hn=(0,W.Z)(function*(R,U,ae,De,rt,mt){const qt=De[rt];try{if(qt)yield U[qt];else{const Gn=(yield Hs(ae)).find(ri=>ri.measurementId===rt);Gn&&(yield U[Gn.appId])}}catch(an){Xi.error(an)}R("config",rt,mt)})).apply(this,arguments)}function Dt(R,U,ae,De,rt){return $t.apply(this,arguments)}function $t(){return($t=(0,W.Z)(function*(R,U,ae,De,rt){try{let mt=[];if(rt&&rt.send_to){let qt=rt.send_to;Array.isArray(qt)||(qt=[qt]);const an=yield Hs(ae);for(const Gn of qt){const ri=an.find(Bn=>Bn.measurementId===Gn),si=ri&&U[ri.appId];if(!si){mt=[];break}mt.push(si)}}0===mt.length&&(mt=Object.values(U)),yield Promise.all(mt),R("event",De,rt||{})}catch(mt){Xi.error(mt)}})).apply(this,arguments)}function lo(R){const U=window.document.getElementsByTagName("script");for(const ae of Object.values(U))if(ae.src&&ae.src.includes(Ji)&&ae.src.includes(R))return ae;return null}const ns=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),$o=new class xa{constructor(U={},ae=1e3){this.throttleMetadata=U,this.intervalMillis=ae}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,ae){this.throttleMetadata[U]=ae}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function Go(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function Fl(R){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,W.Z)(function*(R){var U;const{appId:ae,apiKey:De}=R,rt={method:"GET",headers:Go(De)},mt=Qt.replace("{app-id}",ae),qt=yield fetch(mt,rt);if(200!==qt.status&&304!==qt.status){let an="";try{const Gn=yield qt.json();(null===(U=Gn.error)||void 0===U?void 0:U.message)&&(an=Gn.error.message)}catch(Gn){}throw ns.create("config-fetch-failed",{httpStatus:qt.status,responseMessage:an})}return qt.json()})).apply(this,arguments)}function ti(R){return vs.apply(this,arguments)}function vs(){return(vs=(0,W.Z)(function*(R,U=$o,ae){const{appId:De,apiKey:rt,measurementId:mt}=R.options;if(!De)throw ns.create("no-app-id");if(!rt){if(mt)return{measurementId:mt,appId:De};throw ns.create("no-api-key")}const qt=U.getThrottleMetadata(De)||{backoffCount:0,throttleEndTimeMillis:Date.now()},an=new D;return setTimeout((0,W.Z)(function*(){an.abort()}),void 0!==ae?ae:6e4),Oa({appId:De,apiKey:rt,measurementId:mt},qt,an,U)})).apply(this,arguments)}function Oa(R,U,ae){return ai.apply(this,arguments)}function ai(){return(ai=(0,W.Z)(function*(R,{throttleEndTimeMillis:U,backoffCount:ae},De,rt=$o){var mt,qt;const{appId:an,measurementId:Gn}=R;try{yield Yn(De,U)}catch(ri){if(Gn)return Xi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gn} provided in the "measurementId" field in the local Firebase config. [${null===(mt=ri)||void 0===mt?void 0:mt.message}]`),{appId:an,measurementId:Gn};throw ri}try{const ri=yield Fl(R);return rt.deleteThrottleMetadata(an),ri}catch(ri){const si=ri;if(!O(si)){if(rt.deleteThrottleMetadata(an),Gn)return Xi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gn} provided in the "measurementId" field in the local Firebase config. [${null==si?void 0:si.message}]`),{appId:an,measurementId:Gn};throw ri}const Bn=503===Number(null===(qt=null==si?void 0:si.customData)||void 0===qt?void 0:qt.httpStatus)?(0,ve.$s)(ae,rt.intervalMillis,30):(0,ve.$s)(ae,rt.intervalMillis),Rr={throttleEndTimeMillis:Date.now()+Bn,backoffCount:ae+1};return rt.setThrottleMetadata(an,Rr),Xi.debug(`Calling attemptFetch again in ${Bn} millis`),Oa(R,Rr,De,rt)}})).apply(this,arguments)}function Yn(R,U){return new Promise((ae,De)=>{const rt=Math.max(U-Date.now(),0),mt=setTimeout(ae,rt);R.addEventListener(()=>{clearTimeout(mt),De(ns.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}function O(R){if(!(R instanceof ve.ZR&&R.customData))return!1;const U=Number(R.customData.httpStatus);return 429===U||500===U||503===U||504===U}class D{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}let w,Oi;function L(){return(L=(0,W.Z)(function*(R,U,ae,De,rt){if(rt&&rt.global)R("event",ae,De);else{const mt=yield U;R("event",ae,Object.assign(Object.assign({},De),{send_to:mt}))}})).apply(this,arguments)}function ur(R){Oi=R}function uo(R){w=R}function zo(){return qs.apply(this,arguments)}function qs(){return(qs=(0,W.Z)(function*(){var R;if(!(0,ve.hl)())return Xi.warn(ns.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(U){return Xi.warn(ns.create("indexeddb-unavailable",{errorInfo:null===(R=U)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function Ma(){return(Ma=(0,W.Z)(function*(R,U,ae,De,rt,mt,qt){var an;const Gn=ti(R);Gn.then(Ki=>{ae[Ki.measurementId]=Ki.appId,R.options.measurementId&&Ki.measurementId!==R.options.measurementId&&Xi.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Ki.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ki=>Xi.error(Ki)),U.push(Gn);const ri=zo().then(Ki=>{if(Ki)return De.getId()}),[si,Bn]=yield Promise.all([Gn,ri]);lo(mt)||xn(mt,si.measurementId),Oi&&(rt("consent","default",Oi),ur(void 0)),rt("js",new Date);const Rr=null!==(an=null==qt?void 0:qt.config)&&void 0!==an?an:{};return Rr.origin="firebase",Rr.update=!0,null!=Bn&&(Rr[oo]=Bn),rt("config",si.measurementId,Rr),w&&(rt("set",w),uo(void 0)),si.measurementId})).apply(this,arguments)}class Et{constructor(U){this.app=U}_delete(){return delete is[this.app.options.appId],Promise.resolve()}}let is={},Ys=[];const Pa={};let sa,mr,Co="dataLayer",Ra=!1;function Ul(R,U,ae){!function il(){const R=[];if((0,ve.ru)()&&R.push("This is a browser extension environment."),(0,ve.zI)()||R.push("Cookies are not available."),R.length>0){const U=R.map((De,rt)=>`(${rt+1}) ${De}`).join(" "),ae=ns.create("invalid-analytics-context",{errorInfo:U});Xi.warn(ae.message)}}();const De=R.options.appId;if(!De)throw ns.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw ns.create("no-api-key");Xi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=is[De])throw ns.create("already-exists",{id:De});if(!Ra){!function Nn(R){let U=[];Array.isArray(window[R])?U=window[R]:window[R]=U}(Co);const{wrappedGtag:mt,gtagCore:qt}=function ml(R,U,ae,De,rt){let mt=function(...qt){window[De].push(arguments)};return window[rt]&&"function"==typeof window[rt]&&(mt=window[rt]),window[rt]=function gr(R,U,ae,De){function mt(){return(mt=(0,W.Z)(function*(qt,an,Gn){try{"event"===qt?yield Dt(R,U,ae,an,Gn):"config"===qt?yield jo(R,U,ae,De,an,Gn):"consent"===qt?R("consent","update",Gn):R("set",an)}catch(ri){Xi.error(ri)}})).apply(this,arguments)}return function rt(qt,an,Gn){return mt.apply(this,arguments)}}(mt,R,U,ae),{gtagCore:mt,wrappedGtag:window[rt]}}(is,Ys,Pa,Co,"gtag");mr=mt,sa=qt,Ra=!0}return is[De]=function js(R,U,ae,De,rt,mt,qt){return Ma.apply(this,arguments)}(R,Ys,Pa,U,sa,Co,ae),new Et(R)}function oa(){return hu.apply(this,arguments)}function hu(){return(hu=(0,W.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch(R){return!1}})).apply(this,arguments)}const _r="@firebase/analytics";!function Ga(){(0,Ce._registerComponent)(new ke.wA(Ho,(U,{options:ae})=>Ul(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),ae),"PUBLIC")),(0,Ce._registerComponent)(new ke.wA("analytics-internal",function R(U){try{const ae=U.getProvider(Ho).getImmediate();return{logEvent:(De,rt,mt)=>function co(R,U,ae,De){R=(0,ve.m9)(R),function k(R,U,ae,De,rt){return L.apply(this,arguments)}(mr,is[R.app.options.appId],U,ae,De).catch(rt=>Xi.error(rt))}(ae,De,rt,mt)}}catch(ae){throw ns.create("interop-component-reg-failed",{reason:ae})}},"PRIVATE")),(0,Ce.registerVersion)(_r,"0.8.4"),(0,Ce.registerVersion)(_r,"0.8.4","esm2017")}();var za=x(233),br=x(4986),Mr=x(8505),As=x(9468),Bl=x(5363);const Zo=new p.GfV("7.5.0"),Wa="__angularfire_symbol__analyticsIsSupportedValue",_s="__angularfire_symbol__analyticsIsSupported",aa="__angularfire_symbol__remoteConfigIsSupportedValue",Za="__angularfire_symbol__remoteConfigIsSupported",Hl="__angularfire_symbol__messagingIsSupportedValue",la="__angularfire_symbol__messagingIsSupported";function ca(R,U,ae){if(U){if(1===U.length)return U[0];const mt=U.filter(qt=>qt.app===ae);if(1===mt.length)return mt[0]}return ae.container.getProvider(R).getImmediate({optional:!0})}globalThis[_s]||(globalThis[_s]=oa().then(R=>globalThis[Wa]=R).catch(()=>globalThis[Wa]=!1)),globalThis[la]||(globalThis[la]=Ia().then(R=>globalThis[Hl]=R).catch(()=>globalThis[Hl]=!1)),globalThis[Za]||(globalThis[Za]=No().then(R=>globalThis[aa]=R).catch(()=>globalThis[aa]=!1));const fu=(R,U)=>{const ae=U?[U]:(0,d.C6)(),De=[];return ae.forEach(rt=>{rt.container.getProvider(R).instances.forEach(qt=>{De.includes(qt)||De.push(qt)})}),De};function Js(){}class jl{constructor(U,ae=za.N){this.zone=U,this.delegate=ae}now(){return this.delegate.now()}schedule(U,ae,De){const rt=this.zone;return this.delegate.schedule(function(qt){rt.runGuarded(()=>{U.apply(this,[qt])})},ae,De)}}class Ko{constructor(U){this.zone=U,this.task=null}call(U,ae){const De=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js)),ae.pipe((0,Mr.b)({next:De,complete:De,error:De})).subscribe(U).add(De)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _l=(()=>{class R{constructor(ae){this.ngZone=ae,this.outsideAngular=ae.runOutsideAngular(()=>new jl(Zone.current)),this.insideAngular=ae.run(()=>new jl(Zone.current,br.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(ae){return new(ae||R)(p.LFG(p.R0b))},R.\u0275prov=p.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Pr(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function ha(R){return Pr(),function Ka(R){return function(ae){return(ae=ae.lift(new Ko(R.ngZone))).pipe((0,As.R)(R.outsideAngular),(0,Bl.Q)(R.insideAngular))}}(Pr())(R)}},8247:(Jt,Ze,x)=>{x.d(Ze,{$:()=>H,A:()=>ue,B:()=>it,G:()=>mi,H:()=>ii,J:()=>Ke,L:()=>de,M:()=>Sr,N:()=>Ps,P:()=>Wa,Q:()=>Ts,R:()=>cr,T:()=>Ha,U:()=>Cs,V:()=>zr,W:()=>es,X:()=>ia,Y:()=>On,Z:()=>yi,_:()=>hi,a:()=>Sa,a0:()=>Sn,a1:()=>Ds,a2:()=>Fo,a3:()=>Wt,a4:()=>hl,a5:()=>ba,a6:()=>Us,a7:()=>Ea,a8:()=>fl,a9:()=>pl,aA:()=>fe,aB:()=>Ki,aC:()=>ku,aD:()=>$l,aE:()=>Yt,aI:()=>Go,aL:()=>Xr,aa:()=>io,ab:()=>bo,ac:()=>Bs,af:()=>Ta,ag:()=>tl,ah:()=>Da,ak:()=>ts,al:()=>nl,an:()=>Ji,ao:()=>hn,ap:()=>tt,aq:()=>Vt,ar:()=>Se,as:()=>yt,at:()=>ga,au:()=>Gs,av:()=>En,aw:()=>ge,ax:()=>q,ay:()=>ka,az:()=>Ue,b:()=>ns,c:()=>Do,d:()=>jl,e:()=>fu,f:()=>ae,g:()=>Gn,h:()=>mt,i:()=>qs,j:()=>Bn,k:()=>Kl,l:()=>Vr,m:()=>ql,o:()=>ce,r:()=>za,s:()=>Wo,u:()=>Bl});var p=x(5861),d=x(2090),W=x(9681),Ce=x(1877),ve=x(655),ke=x(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ue={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const it=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ft=function ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new d.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lt=new Ce.Yd("@firebase/auth");function Be(T,...y){lt.logLevel<=Ce.in.ERROR&&lt.error(`Auth (${W.SDK_VERSION}): ${T}`,...y)}function yt(T,...y){throw wt(T,...y)}function ge(T,...y){return wt(T,...y)}function we(T,y,v){const A=Object.assign(Object.assign({},ft()),{[y]:v});return new d.LL("auth","Firebase",A).create(y,{appName:T.name})}function et(T,y,v){if(!(y instanceof v))throw v.name!==y.constructor.name&&yt(T,"argument-error"),we(T,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wt(T,...y){if("string"!=typeof T){const v=y[0],A=[...y.slice(1)];return A[0]&&(A[0].appName=T.name),T._errorFactory.create(v,...A)}return ut.create(T,...y)}function q(T,y,...v){if(!T)throw wt(y,...v)}function qe(T){const y="INTERNAL ASSERTION FAILED: "+T;throw Be(y),new Error(y)}function tt(T,y){T||qe(y)}const Le=new Map;function Ue(T){tt(T instanceof Function,"Expected a class definition");let y=Le.get(T);return y?(tt(y instanceof T,"Instance stored in cache mismatched with class"),y):(y=new T,Le.set(T,y),y)}function ot(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function xt(){return"http:"===sn()||"https:"===sn()}function sn(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class K{constructor(y,v){this.shortDelay=y,this.longDelay=v,tt(v>y,"Short delay should be less than long delay!"),this.isMobile=(0,d.uI)()||(0,d.b$)()}get(){return function gt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,d.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ae(T,y){tt(T.emulator,"Emulator should always be set here");const{url:v}=T.emulator;return y?`${v}${y.startsWith("/")?y.slice(1):y}`:v}class Ge{static initialize(y,v,A){this.fetchImpl=y,v&&(this.headersImpl=v),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Nt=new K(3e4,6e4);function tn(T,y){return T.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:T.tenantId}):y}function gn(T,y,v,A){return An.apply(this,arguments)}function An(){return(An=(0,p.Z)(function*(T,y,v,A,Y={}){return zn(T,Y,(0,p.Z)(function*(){let pe={},at={};A&&("GET"===y?at=A:pe={body:JSON.stringify(A)});const jt=(0,d.xO)(Object.assign({key:T.config.apiKey},at)).slice(1),cn=yield T._getAdditionalHeaders();return cn["Content-Type"]="application/json",T.languageCode&&(cn["X-Firebase-Locale"]=T.languageCode),Ge.fetch()(Kn(T,T.config.apiHost,v,jt),Object.assign({method:y,headers:cn,referrerPolicy:"no-referrer"},pe))}))})).apply(this,arguments)}function zn(T,y,v){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,p.Z)(function*(T,y,v){T._canInitEmulator=!1;const A=Object.assign(Object.assign({},Rt),y);try{const Y=new xi(T),pe=yield Promise.race([v(),Y.promise]);Y.clearNetworkTimeout();const at=yield pe.json();if("needConfirmation"in at)throw Mn(T,"account-exists-with-different-credential",at);if(pe.ok&&!("errorMessage"in at))return at;{const jt=pe.ok?at.errorMessage:at.error.message,[cn,dn]=jt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===cn)throw Mn(T,"credential-already-in-use",at);if("EMAIL_EXISTS"===cn)throw Mn(T,"email-already-in-use",at);if("USER_DISABLED"===cn)throw Mn(T,"user-disabled",at);const li=A[cn]||cn.toLowerCase().replace(/[_\s]+/g,"-");if(dn)throw we(T,li,dn);yt(T,li)}}catch(Y){if(Y instanceof d.ZR)throw Y;yt(T,"network-request-failed")}})).apply(this,arguments)}function Hn(T,y,v,A){return vi.apply(this,arguments)}function vi(){return(vi=(0,p.Z)(function*(T,y,v,A,Y={}){const pe=yield gn(T,y,v,A,Y);return"mfaPendingCredential"in pe&&yt(T,"multi-factor-auth-required",{_serverResponse:pe}),pe})).apply(this,arguments)}function Kn(T,y,v,A){const Y=`${y}${v}?${A}`;return T.config.emulator?Ae(T.config,Y):`${T.config.apiScheme}://${Y}`}class xi{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((v,A)=>{this.timer=setTimeout(()=>A(ge(this.auth,"network-request-failed")),Nt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(T,y,v){const A={appName:T.name};v.email&&(A.email=v.email),v.phoneNumber&&(A.phoneNumber=v.phoneNumber);const Y=ge(T,y,A);return Y.customData._tokenResponse=v,Y}function un(){return(un=(0,p.Z)(function*(T,y){return gn(T,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Pi(T,y){return qn.apply(this,arguments)}function qn(){return(qn=(0,p.Z)(function*(T,y){return gn(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function nn(T,y){return Li.apply(this,arguments)}function Li(){return(Li=(0,p.Z)(function*(T,y){return gn(T,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function _i(T){if(T)try{const y=new Date(Number(T));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function $e(){return($e=(0,p.Z)(function*(T,y=!1){const v=(0,d.m9)(T),A=yield v.getIdToken(y),Y=It(A);q(Y&&Y.exp&&Y.auth_time&&Y.iat,v.auth,"internal-error");const pe="object"==typeof Y.firebase?Y.firebase:void 0,at=null==pe?void 0:pe.sign_in_provider;return{claims:Y,token:A,authTime:_i(Ut(Y.auth_time)),issuedAtTime:_i(Ut(Y.iat)),expirationTime:_i(Ut(Y.exp)),signInProvider:at||null,signInSecondFactor:(null==pe?void 0:pe.sign_in_second_factor)||null}})).apply(this,arguments)}function Ut(T){return 1e3*Number(T)}function It(T){var y;const[v,A,Y]=T.split(".");if(void 0===v||void 0===A||void 0===Y)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const pe=(0,d.tV)(A);return pe?JSON.parse(pe):(Be("Failed to decode base64 JWT payload"),null)}catch(pe){return Be("Caught error parsing JWT payload as JSON",null===(y=pe)||void 0===y?void 0:y.toString()),null}}function Kt(T,y){return Re.apply(this,arguments)}function Re(){return(Re=(0,p.Z)(function*(T,y,v=!1){if(v)return y;try{return yield y}catch(A){throw A instanceof d.ZR&&xe(A)&&T.auth.currentUser===T&&(yield T.auth.signOut()),A}})).apply(this,arguments)}function xe({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}class Ee{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var v;if(y){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const Y=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(y=!1){var v=this;if(!this.isRunning)return;const A=this.getInterval(y);this.timerId=setTimeout((0,p.Z)(function*(){yield v.iteration()}),A)}iteration(){var y=this;return(0,p.Z)(function*(){var v;try{yield y.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null===(v=A)||void 0===v?void 0:v.code)&&y.schedule(!0))}y.schedule()})()}}class We{constructor(y,v){this.createdAt=y,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=_i(this.lastLoginAt),this.creationTime=_i(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function bt(T){return St.apply(this,arguments)}function St(){return(St=(0,p.Z)(function*(T){var y;const v=T.auth,A=yield T.getIdToken(),Y=yield Kt(T,nn(v,{idToken:A}));q(null==Y?void 0:Y.users.length,v,"internal-error");const pe=Y.users[0];T._notifyReloadListener(pe);const at=(null===(y=pe.providerUserInfo)||void 0===y?void 0:y.length)?pn(pe.providerUserInfo):[],jt=wn(T.providerData,at),li=!!T.isAnonymous&&!(T.email&&pe.passwordHash||(null==jt?void 0:jt.length)),dr={uid:pe.localId,displayName:pe.displayName||null,photoURL:pe.photoUrl||null,email:pe.email||null,emailVerified:pe.emailVerified||!1,phoneNumber:pe.phoneNumber||null,tenantId:pe.tenantId||null,providerData:jt,metadata:new We(pe.createdAt,pe.lastLoginAt),isAnonymous:li};Object.assign(T,dr)})).apply(this,arguments)}function vn(){return(vn=(0,p.Z)(function*(T){const y=(0,d.m9)(T);yield bt(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function wn(T,y){return[...T.filter(A=>!y.some(Y=>Y.providerId===A.providerId)),...y]}function pn(T){return T.map(y=>{var{providerId:v}=y,A=(0,ve._T)(y,["providerId"]);return{providerId:v,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function he(){return(he=(0,p.Z)(function*(T,y){const v=yield zn(T,{},(0,p.Z)(function*(){const A=(0,d.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:Y,apiKey:pe}=T.config,at=Kn(T,Y,"/v1/token",`key=${pe}`),jt=yield T._getAdditionalHeaders();return jt["Content-Type"]="application/x-www-form-urlencoded",Ge.fetch()(at,{method:"POST",headers:jt,body:A})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class _e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){q(y.idToken,"internal-error"),q(void 0!==y.idToken,"internal-error"),q(void 0!==y.refreshToken,"internal-error");const v="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function Bt(T){const y=It(T);return q(y,"internal-error"),q(void 0!==y.exp,"internal-error"),q(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,v)}getToken(y,v=!1){var A=this;return(0,p.Z)(function*(){return q(!A.accessToken||A.refreshToken,y,"user-token-expired"),v||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(y,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,v){var A=this;return(0,p.Z)(function*(){const{accessToken:Y,refreshToken:pe,expiresIn:at}=yield function z(T,y){return he.apply(this,arguments)}(y,v);A.updateTokensAndExpiration(Y,pe,Number(at))})()}updateTokensAndExpiration(y,v,A){this.refreshToken=v||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(y,v){const{refreshToken:A,accessToken:Y,expirationTime:pe}=v,at=new _e;return A&&(q("string"==typeof A,"internal-error",{appName:y}),at.refreshToken=A),Y&&(q("string"==typeof Y,"internal-error",{appName:y}),at.accessToken=Y),pe&&(q("number"==typeof pe,"internal-error",{appName:y}),at.expirationTime=pe),at}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new _e,this.toJSON())}_performRefresh(){return qe("not implemented")}}function Ve(T,y){q("string"==typeof T||void 0===T,"internal-error",{appName:y})}class vt{constructor(y){var{uid:v,auth:A,stsTokenManager:Y}=y,pe=(0,ve._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=A,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=pe.displayName||null,this.email=pe.email||null,this.emailVerified=pe.emailVerified||!1,this.phoneNumber=pe.phoneNumber||null,this.photoURL=pe.photoURL||null,this.isAnonymous=pe.isAnonymous||!1,this.tenantId=pe.tenantId||null,this.providerData=pe.providerData?[...pe.providerData]:[],this.metadata=new We(pe.createdAt||void 0,pe.lastLoginAt||void 0)}getIdToken(y){var v=this;return(0,p.Z)(function*(){const A=yield Kt(v,v.stsTokenManager.getToken(v.auth,y));return q(A,v.auth,"internal-error"),v.accessToken!==A&&(v.accessToken=A,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),A})()}getIdTokenResult(y){return function Fe(T){return $e.apply(this,arguments)}(this,y)}reload(){return function Tt(T){return vn.apply(this,arguments)}(this)}_assign(y){this!==y&&(q(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(v=>Object.assign({},v)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new vt(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,v=!1){var A=this;return(0,p.Z)(function*(){let Y=!1;y.idToken&&y.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(y),Y=!0),v&&(yield bt(A)),yield A.auth._persistUserIfCurrent(A),Y&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var y=this;return(0,p.Z)(function*(){const v=yield y.getIdToken();return yield Kt(y,function ci(T,y){return un.apply(this,arguments)}(y.auth,{idToken:v})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,v){var A,Y,pe,at,jt,cn,dn,li;const dr=null!==(A=v.displayName)&&void 0!==A?A:void 0,rr=null!==(Y=v.email)&&void 0!==Y?Y:void 0,Ya=null!==(pe=v.phoneNumber)&&void 0!==pe?pe:void 0,bs=null!==(at=v.photoURL)&&void 0!==at?at:void 0,ll=null!==(jt=v.tenantId)&&void 0!==jt?jt:void 0,xo=null!==(cn=v._redirectEventId)&&void 0!==cn?cn:void 0,vu=null!==(dn=v.createdAt)&&void 0!==dn?dn:void 0,Ss=null!==(li=v.lastLoginAt)&&void 0!==li?li:void 0,{uid:Tl,emailVerified:Dl,isAnonymous:Hu,providerData:uc,stsTokenManager:Fn}=v;q(Tl&&Fn,y,"internal-error");const Uc=_e.fromJSON(this.name,Fn);q("string"==typeof Tl,y,"internal-error"),Ve(dr,y.name),Ve(rr,y.name),q("boolean"==typeof Dl,y,"internal-error"),q("boolean"==typeof Hu,y,"internal-error"),Ve(Ya,y.name),Ve(bs,y.name),Ve(ll,y.name),Ve(xo,y.name),Ve(vu,y.name),Ve(Ss,y.name);const Il=new vt({uid:Tl,auth:y,email:rr,emailVerified:Dl,displayName:dr,isAnonymous:Hu,photoURL:bs,phoneNumber:Ya,tenantId:ll,stsTokenManager:Uc,createdAt:vu,lastLoginAt:Ss});return uc&&Array.isArray(uc)&&(Il.providerData=uc.map(Al=>Object.assign({},Al))),xo&&(Il._redirectEventId=xo),Il}static _fromIdTokenResponse(y,v,A=!1){return(0,p.Z)(function*(){const Y=new _e;Y.updateFromServerResponse(v);const pe=new vt({uid:v.localId,auth:y,stsTokenManager:Y,isAnonymous:A});return yield bt(pe),pe})()}}const de=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(v,A){var Y=this;return(0,p.Z)(function*(){Y.storage[v]=A})()}_get(v){var A=this;return(0,p.Z)(function*(){const Y=A.storage[v];return void 0===Y?null:Y})()}_remove(v){var A=this;return(0,p.Z)(function*(){delete A.storage[v]})()}_addListener(v,A){}_removeListener(v,A){}}return T.type="NONE",T})();function fe(T,y,v){return`firebase:${T}:${y}:${v}`}class Oe{constructor(y,v,A){this.persistence=y,this.auth=v,this.userKey=A;const{config:Y,name:pe}=this.auth;this.fullUserKey=fe(this.userKey,Y.apiKey,pe),this.fullPersistenceKey=fe("persistence",Y.apiKey,pe),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,p.Z)(function*(){const v=yield y.persistence._get(y.fullUserKey);return v?vt._fromJSON(y.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var v=this;return(0,p.Z)(function*(){if(v.persistence===y)return;const A=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=y,A?v.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,v,A="authUser"){return(0,p.Z)(function*(){if(!v.length)return new Oe(Ue(de),y,A);const Y=(yield Promise.all(v.map(function(){var dn=(0,p.Z)(function*(li){if(yield li._isAvailable())return li});return function(li){return dn.apply(this,arguments)}}()))).filter(dn=>dn);let pe=Y[0]||Ue(de);const at=fe(A,y.config.apiKey,y.name);let jt=null;for(const dn of v)try{const li=yield dn._get(at);if(li){const dr=vt._fromJSON(y,li);dn!==pe&&(jt=dr),pe=dn;break}}catch(li){}const cn=Y.filter(dn=>dn._shouldAllowMigration);return pe._shouldAllowMigration&&cn.length?(pe=cn[0],jt&&(yield pe._set(at,jt.toJSON())),yield Promise.all(v.map(function(){var dn=(0,p.Z)(function*(li){if(li!==pe)try{yield li._remove(at)}catch(dr){}});return function(li){return dn.apply(this,arguments)}}())),new Oe(pe,y,A)):new Oe(pe,y,A)})()}}function ye(T){const y=T.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(ie(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(J(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Je(y))return"Blackberry";if(Lt(y))return"Webos";if($(y))return"Safari";if((y.includes("chrome/")||X(y))&&!y.includes("edge/"))return"Chrome";if(Se(y))return"Android";{const A=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function J(T=(0,d.z$)()){return/firefox\//i.test(T)}function $(T=(0,d.z$)()){const y=T.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function X(T=(0,d.z$)()){return/crios\//i.test(T)}function ie(T=(0,d.z$)()){return/iemobile/i.test(T)}function Se(T=(0,d.z$)()){return/android/i.test(T)}function Je(T=(0,d.z$)()){return/blackberry/i.test(T)}function Lt(T=(0,d.z$)()){return/webos/i.test(T)}function Vt(T=(0,d.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function En(T=(0,d.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function Ei(T=(0,d.z$)()){return Vt(T)||Se(T)||Lt(T)||Je(T)||/windows phone/i.test(T)||ie(T)}function Di(T,y=[]){let v;switch(T){case"Browser":v=ye((0,d.z$)());break;case"Worker":v=`${ye((0,d.z$)())}-${T}`;break;default:v=T}const A=y.length?y.join(","):"FirebaseCore-web";return`${v}/JsCore/${W.SDK_VERSION}/${A}`}class wr{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,v){const A=pe=>new Promise((at,jt)=>{try{at(y(pe))}catch(cn){jt(cn)}});A.onAbort=v,this.queue.push(A);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(y){var v=this;return(0,p.Z)(function*(){var A;if(v.auth.currentUser===y)return;const Y=[];try{for(const pe of v.queue)yield pe(y),pe.onAbort&&Y.push(pe.onAbort)}catch(pe){Y.reverse();for(const at of Y)try{at()}catch(jt){}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(A=pe)||void 0===A?void 0:A.message})}})()}}class Mi{constructor(y,v,A){this.app=y,this.heartbeatServiceProvider=v,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zn(this),this.idTokenSubscription=new Zn(this),this.beforeStateQueue=new wr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(y,v){var A=this;return v&&(this._popupRedirectResolver=Ue(v)),this._initializationPromise=this.queue((0,p.Z)(function*(){var Y,pe;if(!A._deleted&&(A.persistenceManager=yield Oe.create(A,y),!A._deleted)){if(null===(Y=A._popupRedirectResolver)||void 0===Y?void 0:Y._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(at){}yield A.initializeCurrentUser(v),A.lastNotifiedUid=(null===(pe=A.currentUser)||void 0===pe?void 0:pe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,p.Z)(function*(){if(y._deleted)return;const v=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||v){if(y.currentUser&&v&&y.currentUser.uid===v.uid)return y._currentUser._assign(v),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(v,!0)}})()}initializeCurrentUser(y){var v=this;return(0,p.Z)(function*(){var A;const Y=yield v.assertedPersistence.getCurrentUser();let pe=Y,at=!1;if(y&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const jt=null===(A=v.redirectUser)||void 0===A?void 0:A._redirectEventId,cn=null==pe?void 0:pe._redirectEventId,dn=yield v.tryRedirectSignIn(y);(!jt||jt===cn)&&(null==dn?void 0:dn.user)&&(pe=dn.user,at=!0)}if(!pe)return v.directlySetCurrentUser(null);if(!pe._redirectEventId){if(at)try{yield v.beforeStateQueue.runMiddleware(pe)}catch(jt){pe=Y,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(jt))}return pe?v.reloadAndSetCurrentUserOrClear(pe):v.directlySetCurrentUser(null)}return q(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===pe._redirectEventId?v.directlySetCurrentUser(pe):v.reloadAndSetCurrentUserOrClear(pe)})()}tryRedirectSignIn(y){var v=this;return(0,p.Z)(function*(){let A=null;try{A=yield v._popupRedirectResolver._completeRedirectFn(v,y,!0)}catch(Y){yield v._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(y){var v=this;return(0,p.Z)(function*(){var A;try{yield bt(y)}catch(Y){if("auth/network-request-failed"!==(null===(A=Y)||void 0===A?void 0:A.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function pt(){if("undefined"==typeof navigator)return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var y=this;return(0,p.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var v=this;return(0,p.Z)(function*(){const A=y?(0,d.m9)(y):null;return A&&q(A.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(A&&A._clone(v))})()}_updateCurrentUser(y,v=!1){var A=this;return(0,p.Z)(function*(){if(!A._deleted)return y&&q(A.tenantId===y.tenantId,A,"tenant-id-mismatch"),v||(yield A.beforeStateQueue.runMiddleware(y)),A.queue((0,p.Z)(function*(){yield A.directlySetCurrentUser(y),A.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,p.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var v=this;return this.queue((0,p.Z)(function*(){yield v.assertedPersistence.setPersistence(Ue(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new d.LL("auth","Firebase",y())}onAuthStateChanged(y,v,A){return this.registerStateListener(this.authStateSubscription,y,v,A)}beforeAuthStateChanged(y,v){return this.beforeStateQueue.pushCallback(y,v)}onIdTokenChanged(y,v,A){return this.registerStateListener(this.idTokenSubscription,y,v,A)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,v){var A=this;return(0,p.Z)(function*(){const Y=yield A.getOrInitRedirectPersistenceManager(v);return null===y?Y.removeCurrentUser():Y.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var v=this;return(0,p.Z)(function*(){if(!v.redirectPersistenceManager){const A=y&&Ue(y)||v._popupRedirectResolver;q(A,v,"argument-error"),v.redirectPersistenceManager=yield Oe.create(v,[Ue(A._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(y){var v=this;return(0,p.Z)(function*(){var A,Y;return v._isInitialized&&(yield v.queue((0,p.Z)(function*(){}))),(null===(A=v._currentUser)||void 0===A?void 0:A._redirectEventId)===y?v._currentUser:(null===(Y=v.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===y?v.redirectUser:null})()}_persistUserIfCurrent(y){var v=this;return(0,p.Z)(function*(){if(y===v.currentUser)return v.queue((0,p.Z)(function*(){return v.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(v=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,v,A,Y){if(this._deleted)return()=>{};const pe="function"==typeof v?v:v.next.bind(v),at=this._isInitialized?Promise.resolve():this._initializationPromise;return q(at,this,"internal-error"),at.then(()=>pe(this.currentUser)),"function"==typeof v?y.addObserver(v,A,Y):y.addObserver(v)}directlySetCurrentUser(y){var v=this;return(0,p.Z)(function*(){v.currentUser&&v.currentUser!==y&&v._currentUser._stopProactiveRefresh(),y&&v.isProactiveRefreshEnabled&&y._startProactiveRefresh(),v.currentUser=y,y?yield v.assertedPersistence.setCurrentUser(y):yield v.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Di(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,p.Z)(function*(){var v;const A={"X-Client-Version":y.clientVersion};y.app.options.appId&&(A["X-Firebase-gmpid"]=y.app.options.appId);const Y=yield null===(v=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return Y&&(A["X-Firebase-Client"]=Y),A})()}}function Yt(T){return(0,d.m9)(T)}class Zn{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,d.ne)(v=>this.observer=v)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mi(T,y,v){const A=Yt(T);q(A._canInitEmulator,A,"emulator-config-failed"),q(/^https?:\/\//.test(y),A,"invalid-emulator-scheme");const Y=!!(null==v?void 0:v.disableWarnings),pe=Hi(y),{host:at,port:jt}=function vr(T){const y=Hi(T),v=/(\/\/)?([^?#/]+)/.exec(T.substr(y.length));if(!v)return{host:"",port:null};const A=v[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(A);if(Y){const pe=Y[1];return{host:pe,port:ji(A.substr(pe.length+1))}}{const[pe,at]=A.split(":");return{host:pe,port:ji(at)}}}(y);A.config.emulator={url:`${pe}//${at}${null===jt?"":`:${jt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:at,port:jt,protocol:pe.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function or(){function T(){const y=document.createElement("p"),v=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function Hi(T){const y=T.indexOf(":");return y<0?"":T.substr(0,y+1)}function ji(T){if(!T)return null;const y=Number(T);return isNaN(y)?null:y}class ii{constructor(y,v){this.providerId=y,this.signInMethod=v}toJSON(){return qe("not implemented")}_getIdTokenResponse(y){return qe("not implemented")}_linkToIdToken(y,v){return qe("not implemented")}_getReauthenticationResolver(y){return qe("not implemented")}}function Cr(T,y){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,p.Z)(function*(T,y){return gn(T,"POST","/v1/accounts:resetPassword",tn(T,y))})).apply(this,arguments)}function Ln(T,y){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,p.Z)(function*(T,y){return gn(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Wi(T,y){return ws.apply(this,arguments)}function ws(){return(ws=(0,p.Z)(function*(T,y){return gn(T,"POST","/v1/accounts:update",tn(T,y))})).apply(this,arguments)}function Vi(){return(Vi=(0,p.Z)(function*(T,y){return Hn(T,"POST","/v1/accounts:signInWithPassword",tn(T,y))})).apply(this,arguments)}function jr(T,y){return $r.apply(this,arguments)}function $r(){return($r=(0,p.Z)(function*(T,y){return gn(T,"POST","/v1/accounts:sendOobCode",tn(T,y))})).apply(this,arguments)}function wi(T,y){return di.apply(this,arguments)}function di(){return(di=(0,p.Z)(function*(T,y){return jr(T,y)})).apply(this,arguments)}function mn(T,y){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,p.Z)(function*(T,y){return jr(T,y)})).apply(this,arguments)}function Ft(T,y){return qi.apply(this,arguments)}function qi(){return(qi=(0,p.Z)(function*(T,y){return jr(T,y)})).apply(this,arguments)}function Ai(T,y){return as.apply(this,arguments)}function as(){return(as=(0,p.Z)(function*(T,y){return jr(T,y)})).apply(this,arguments)}function ar(){return(ar=(0,p.Z)(function*(T,y){return Hn(T,"POST","/v1/accounts:signInWithEmailLink",tn(T,y))})).apply(this,arguments)}function Ar(){return(Ar=(0,p.Z)(function*(T,y){return Hn(T,"POST","/v1/accounts:signInWithEmailLink",tn(T,y))})).apply(this,arguments)}class Ls extends ii{constructor(y,v,A,Y=null){super("password",A),this._email=y,this._password=v,this._tenantId=Y}static _fromEmailAndPassword(y,v){return new Ls(y,v,"password")}static _fromEmailAndCode(y,v,A=null){return new Ls(y,v,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(y){var v=this;return(0,p.Z)(function*(){switch(v.signInMethod){case"password":return function nr(T,y){return Vi.apply(this,arguments)}(y,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function ls(T,y){return ar.apply(this,arguments)}(y,{email:v._email,oobCode:v._password});default:yt(y,"internal-error")}})()}_linkToIdToken(y,v){var A=this;return(0,p.Z)(function*(){switch(A.signInMethod){case"password":return Ln(y,{idToken:v,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function ms(T,y){return Ar.apply(this,arguments)}(y,{idToken:v,email:A._email,oobCode:A._password});default:yt(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Yi(T,y){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,p.Z)(function*(T,y){return Hn(T,"POST","/v1/accounts:signInWithIdp",tn(T,y))})).apply(this,arguments)}class Ke extends ii{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const v=new Ke(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(v.idToken=y.idToken),y.accessToken&&(v.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(v.nonce=y.nonce),y.pendingToken&&(v.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(v.accessToken=y.oauthToken,v.secret=y.oauthTokenSecret):yt("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:A,signInMethod:Y}=v,pe=(0,ve._T)(v,["providerId","signInMethod"]);if(!A||!Y)return null;const at=new Ke(A,Y);return at.idToken=pe.idToken||void 0,at.accessToken=pe.accessToken||void 0,at.secret=pe.secret,at.nonce=pe.nonce,at.pendingToken=pe.pendingToken||null,at}_getIdTokenResponse(y){return Yi(y,this.buildRequest())}_linkToIdToken(y,v){const A=this.buildRequest();return A.idToken=v,Yi(y,A)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,Yi(y,v)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),y.postBody=(0,d.xO)(v)}return y}}function ht(T,y){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,p.Z)(function*(T,y){return gn(T,"POST","/v1/accounts:sendVerificationCode",tn(T,y))})).apply(this,arguments)}function bn(){return(bn=(0,p.Z)(function*(T,y){return Hn(T,"POST","/v1/accounts:signInWithPhoneNumber",tn(T,y))})).apply(this,arguments)}function Zi(){return(Zi=(0,p.Z)(function*(T,y){const v=yield Hn(T,"POST","/v1/accounts:signInWithPhoneNumber",tn(T,y));if(v.temporaryProof)throw Mn(T,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Ri={USER_NOT_FOUND:"user-not-found"};function Os(){return(Os=(0,p.Z)(function*(T,y){return Hn(T,"POST","/v1/accounts:signInWithPhoneNumber",tn(T,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Ri)})).apply(this,arguments)}class cs extends ii{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,v){return new cs({verificationId:y,verificationCode:v})}static _fromTokenResponse(y,v){return new cs({phoneNumber:y,temporaryProof:v})}_getIdTokenResponse(y){return function on(T,y){return bn.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,v){return function jn(T,y){return Zi.apply(this,arguments)}(y,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function us(T,y){return Os.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:v,verificationId:A,verificationCode:Y}=this.params;return y&&v?{temporaryProof:y,phoneNumber:v}:{sessionInfo:A,code:Y}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:v,verificationCode:A,phoneNumber:Y,temporaryProof:pe}=y;return A||v||Y||pe?new cs({verificationId:v,verificationCode:A,phoneNumber:Y,temporaryProof:pe}):null}}class pr{constructor(y){var v,A,Y,pe,at,jt;const cn=(0,d.zd)((0,d.pd)(y)),dn=null!==(v=cn.apiKey)&&void 0!==v?v:null,li=null!==(A=cn.oobCode)&&void 0!==A?A:null,dr=function Ro(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=cn.mode)&&void 0!==Y?Y:null);q(dn&&li&&dr,"argument-error"),this.apiKey=dn,this.operation=dr,this.code=li,this.continueUrl=null!==(pe=cn.continueUrl)&&void 0!==pe?pe:null,this.languageCode=null!==(at=cn.languageCode)&&void 0!==at?at:null,this.tenantId=null!==(jt=cn.tenantId)&&void 0!==jt?jt:null}static parseLink(y){const v=function Gr(T){const y=(0,d.zd)((0,d.pd)(T)).link,v=y?(0,d.zd)((0,d.pd)(y)).deep_link_id:null,A=(0,d.zd)((0,d.pd)(T)).deep_link_id;return(A?(0,d.zd)((0,d.pd)(A)).link:null)||A||v||y||T}(y);try{return new pr(v)}catch(A){return null}}}let Sr=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(v,A){return Ls._fromEmailAndPassword(v,A)}static credentialWithLink(v,A){const Y=pr.parseLink(A);return q(Y,"argument-error"),Ls._fromEmailAndCode(v,Y.code,Y.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class Ms{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Un extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Cs extends Un{static credentialFromJSON(y){const v="string"==typeof y?JSON.parse(y):y;return q("providerId"in v&&"signInMethod"in v,"argument-error"),Ke._fromParams(v)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return q(y.idToken||y.accessToken,"argument-error"),Ke._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Cs.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Cs.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:v,oauthAccessToken:A,oauthTokenSecret:Y,pendingToken:pe,nonce:at,providerId:jt}=y;if(!A&&!Y&&!v&&!pe||!jt)return null;try{return new Cs(jt)._credential({idToken:v,accessToken:A,nonce:at,pendingToken:pe})}catch(cn){return null}}}let Ps=(()=>{class T extends Un{constructor(){super("facebook.com")}static credential(v){return Ke._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch(A){return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),Ts=(()=>{class T extends Un{constructor(){super("google.com"),this.addScope("profile")}static credential(v,A){return Ke._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:A})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:A,oauthAccessToken:Y}=v;if(!A&&!Y)return null;try{return T.credential(A,Y)}catch(pe){return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),Ha=(()=>{class T extends Un{constructor(){super("github.com")}static credential(v){return Ke._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return T.credential(v.oauthAccessToken)}catch(A){return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Xr extends ii{constructor(y,v){super(y,y),this.pendingToken=v}_getIdTokenResponse(y){return Yi(y,this.buildRequest())}_linkToIdToken(y,v){const A=this.buildRequest();return A.idToken=v,Yi(y,A)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,Yi(y,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:A,signInMethod:Y,pendingToken:pe}=v;return A&&Y&&pe&&A===Y?new Xr(A,pe):null}static _create(y,v){return new Xr(y,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zr extends Ms{constructor(y){q(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return zr.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return zr.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const v=Xr.fromJSON(y);return q(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:v,providerId:A}=y;if(!v||!A)return null;try{return Xr._create(A,v)}catch(Y){return null}}}let es=(()=>{class T extends Un{constructor(){super("twitter.com")}static credential(v,A){return Ke._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:A})}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:A,oauthTokenSecret:Y}=v;if(!A||!Y)return null;try{return T.credential(A,Y)}catch(pe){return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Vs(T,y){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,p.Z)(function*(T,y){return Hn(T,"POST","/v1/accounts:signUp",tn(T,y))})).apply(this,arguments)}class xr{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,v,A,Y=!1){return(0,p.Z)(function*(){const pe=yield vt._fromIdTokenResponse(y,A,Y),at=Lo(A);return new xr({user:pe,providerId:at,_tokenResponse:A,operationType:v})})()}static _forOperation(y,v,A){return(0,p.Z)(function*(){yield y._updateTokensIfNecessary(A,!0);const Y=Lo(A);return new xr({user:y,providerId:Y,_tokenResponse:A,operationType:v})})()}}function Lo(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function ia(T){return ds.apply(this,arguments)}function ds(){return(ds=(0,p.Z)(function*(T){var y;const v=Yt(T);if(yield v._initializationPromise,null===(y=v.currentUser)||void 0===y?void 0:y.isAnonymous)return new xr({user:v.currentUser,providerId:null,operationType:"signIn"});const A=yield Vs(v,{returnSecureToken:!0}),Y=yield xr._fromIdTokenResponse(v,"signIn",A,!0);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Fr extends d.ZR{constructor(y,v,A,Y){var pe;super(v.code,v.message),this.operationType=A,this.user=Y,Object.setPrototypeOf(this,Fr.prototype),this.customData={appName:y.name,tenantId:null!==(pe=y.tenantId)&&void 0!==pe?pe:void 0,_serverResponse:v.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(y,v,A,Y){return new Fr(y,v,A,Y)}}function vo(T,y,v,A){return("reauthenticate"===y?v._getReauthenticationResolver(T):v._getIdTokenResponse(T)).catch(pe=>{throw"auth/multi-factor-auth-required"===pe.code?Fr._fromErrorAndOperation(T,pe,y,A):pe})}function Zs(T){return new Set(T.map(({providerId:y})=>y).filter(y=>!!y))}function ts(T,y){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,p.Z)(function*(T,y){const v=(0,d.m9)(T);yield ne(!0,v,y);const{providerUserInfo:A}=yield Pi(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[y]}),Y=Zs(A||[]);return v.providerData=v.providerData.filter(pe=>Y.has(pe.providerId)),Y.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Ui(T,y){return V.apply(this,arguments)}function V(){return(V=(0,p.Z)(function*(T,y,v=!1){const A=yield Kt(T,y._linkToIdToken(T.auth,yield T.getIdToken()),v);return xr._forOperation(T,"link",A)})).apply(this,arguments)}function ne(T,y,v){return F.apply(this,arguments)}function F(){return(F=(0,p.Z)(function*(T,y,v){yield bt(y);const Y=!1===T?"provider-already-linked":"no-such-provider";q(Zs(y.providerData).has(v)===T,y.auth,Y)})).apply(this,arguments)}function se(T,y){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,p.Z)(function*(T,y,v=!1){var A;const{auth:Y}=T,pe="reauthenticate";try{const at=yield Kt(T,vo(Y,pe,y,T),v);q(at.idToken,Y,"internal-error");const jt=It(at.idToken);q(jt,Y,"internal-error");const{sub:cn}=jt;return q(T.uid===cn,Y,"user-mismatch"),xr._forOperation(T,pe,at)}catch(at){throw"auth/user-not-found"===(null===(A=at)||void 0===A?void 0:A.code)&&yt(Y,"user-mismatch"),at}})).apply(this,arguments)}function At(T,y){return zt.apply(this,arguments)}function zt(){return(zt=(0,p.Z)(function*(T,y,v=!1){const A="signIn",Y=yield vo(T,A,y),pe=yield xr._fromIdTokenResponse(T,A,Y);return v||(yield T._updateCurrentUser(pe.user)),pe})).apply(this,arguments)}function On(T,y){return $n.apply(this,arguments)}function $n(){return($n=(0,p.Z)(function*(T,y){return At(Yt(T),y)})).apply(this,arguments)}function yi(T,y){return ei.apply(this,arguments)}function ei(){return(ei=(0,p.Z)(function*(T,y){const v=(0,d.m9)(T);return yield ne(!1,v,y.providerId),Ui(v,y)})).apply(this,arguments)}function hi(T,y){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,p.Z)(function*(T,y){return se((0,d.m9)(T),y)})).apply(this,arguments)}function Bi(T,y){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,p.Z)(function*(T,y){return Hn(T,"POST","/v1/accounts:signInWithCustomToken",tn(T,y))})).apply(this,arguments)}function H(T,y){return N.apply(this,arguments)}function N(){return(N=(0,p.Z)(function*(T,y){const v=Yt(T),A=yield Bi(v,{token:y,returnSecureToken:!0}),Y=yield xr._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class M{constructor(y,v){this.factorId=y,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(y,v){return"phoneInfo"in v?re._fromServerResponse(y,v):yt(y,"internal-error")}}class re extends M{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,v){return new re(v)}}function Pt(T,y,v){var A;q((null===(A=v.url)||void 0===A?void 0:A.length)>0,T,"invalid-continue-uri"),q(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),y.continueUrl=v.url,y.dynamicLinkDomain=v.dynamicLinkDomain,y.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(q(v.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),y.iOSBundleId=v.iOS.bundleId),v.android&&(q(v.android.packageName.length>0,T,"missing-android-pkg-name"),y.androidInstallApp=v.android.installApp,y.androidMinimumVersionCode=v.android.minimumVersion,y.androidPackageName=v.android.packageName)}function Sn(T,y,v){return ki.apply(this,arguments)}function ki(){return(ki=(0,p.Z)(function*(T,y,v){const A=(0,d.m9)(T),Y={requestType:"PASSWORD_RESET",email:y};v&&Pt(A,Y,v),yield mn(A,Y)})).apply(this,arguments)}function Ds(T,y,v){return hs.apply(this,arguments)}function hs(){return(hs=(0,p.Z)(function*(T,y,v){yield Cr((0,d.m9)(T),{oobCode:y,newPassword:v})})).apply(this,arguments)}function Fo(T,y){return _a.apply(this,arguments)}function _a(){return(_a=(0,p.Z)(function*(T,y){yield Wi((0,d.m9)(T),{oobCode:y})})).apply(this,arguments)}function Wt(T,y){return bi.apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(T,y){const v=(0,d.m9)(T),A=yield Cr(v,{oobCode:y}),Y=A.requestType;switch(q(Y,v,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(A.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(A.mfaInfo,v,"internal-error");default:q(A.email,v,"internal-error")}let pe=null;return A.mfaInfo&&(pe=M._fromServerResponse(Yt(v),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:pe},operation:Y}})).apply(this,arguments)}function hl(T,y){return lr.apply(this,arguments)}function lr(){return(lr=(0,p.Z)(function*(T,y){const{data:v}=yield Wt((0,d.m9)(T),y);return v.email})).apply(this,arguments)}function ba(T,y,v){return _o.apply(this,arguments)}function _o(){return(_o=(0,p.Z)(function*(T,y,v){const A=Yt(T),Y=yield Vs(A,{returnSecureToken:!0,email:y,password:v}),pe=yield xr._fromIdTokenResponse(A,"signIn",Y);return yield A._updateCurrentUser(pe.user),pe})).apply(this,arguments)}function Us(T,y,v){return On((0,d.m9)(T),Sr.credential(y,v))}function Ea(T,y,v){return wa.apply(this,arguments)}function wa(){return(wa=(0,p.Z)(function*(T,y,v){const A=(0,d.m9)(T),Y={requestType:"EMAIL_SIGNIN",email:y};q(v.handleCodeInApp,A,"argument-error"),v&&Pt(A,Y,v),yield Ft(A,Y)})).apply(this,arguments)}function fl(T,y){const v=pr.parseLink(y);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function pl(T,y,v){return gl.apply(this,arguments)}function gl(){return(gl=(0,p.Z)(function*(T,y,v){const A=(0,d.m9)(T),Y=Sr.credentialWithLink(y,v||ot());return q(Y._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),On(A,Y)})).apply(this,arguments)}function no(T,y){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,p.Z)(function*(T,y){return gn(T,"POST","/v1/accounts:createAuthUri",tn(T,y))})).apply(this,arguments)}function io(T,y){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,p.Z)(function*(T,y){const A={identifier:y,continueUri:xt()?ot():"http://localhost"},{signinMethods:Y}=yield no((0,d.m9)(T),A);return Y||[]})).apply(this,arguments)}function bo(T,y){return ys.apply(this,arguments)}function ys(){return(ys=(0,p.Z)(function*(T,y){const v=(0,d.m9)(T),Y={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};y&&Pt(v.auth,Y,y);const{email:pe}=yield wi(v.auth,Y);pe!==T.email&&(yield T.reload())})).apply(this,arguments)}function Bs(T,y,v){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,p.Z)(function*(T,y,v){const A=(0,d.m9)(T),pe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:y};v&&Pt(A.auth,pe,v);const{email:at}=yield Ai(A.auth,pe);at!==T.email&&(yield T.reload())})).apply(this,arguments)}function Ca(T,y){return Is.apply(this,arguments)}function Is(){return(Is=(0,p.Z)(function*(T,y){return gn(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Ta(T,y){return Or.apply(this,arguments)}function Or(){return(Or=(0,p.Z)(function*(T,{displayName:y,photoURL:v}){if(void 0===y&&void 0===v)return;const A=(0,d.m9)(T),pe={idToken:yield A.getIdToken(),displayName:y,photoUrl:v,returnSecureToken:!0},at=yield Kt(A,Ca(A.auth,pe));A.displayName=at.displayName||null,A.photoURL=at.photoUrl||null;const jt=A.providerData.find(({providerId:cn})=>"password"===cn);jt&&(jt.displayName=A.displayName,jt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(at)})).apply(this,arguments)}function tl(T,y){return wo((0,d.m9)(T),y,null)}function Da(T,y){return wo((0,d.m9)(T),null,y)}function wo(T,y,v){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,p.Z)(function*(T,y,v){const{auth:A}=T,pe={idToken:yield T.getIdToken(),returnSecureToken:!0};y&&(pe.email=y),v&&(pe.password=v);const at=yield Kt(T,Ln(A,pe));yield T._updateTokensIfNecessary(at,!0)})).apply(this,arguments)}class ra{constructor(y,v,A={}){this.isNewUser=y,this.providerId=v,this.profile=A}}class Uo extends ra{constructor(y,v,A,Y){super(y,v,A),this.username=Y}}class Bo extends ra{constructor(y,v){super(y,"facebook.com",v)}}class Ia extends Uo{constructor(y,v){super(y,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class so extends ra{constructor(y,v){super(y,"google.com",v)}}class du extends Uo{constructor(y,v,A){super(y,"twitter.com",v,A)}}function nl(T){const{user:y,_tokenResponse:v}=T;return y.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function ro(T){var y,v;if(!T)return null;const{providerId:A}=T,Y=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},pe=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!A&&(null==T?void 0:T.idToken)){const at=null===(v=null===(y=It(T.idToken))||void 0===y?void 0:y.firebase)||void 0===v?void 0:v.sign_in_provider;if(at)return new ra(pe,"anonymous"!==at&&"custom"!==at?at:null)}if(!A)return null;switch(A){case"facebook.com":return new Bo(pe,Y);case"github.com":return new Ia(pe,Y);case"google.com":return new so(pe,Y);case"twitter.com":return new du(pe,Y,T.screenName||null);case"custom":case"anonymous":return new ra(pe,null);default:return new ra(pe,A,Y)}}(v)}class ps{constructor(y,v,A){this.type=y,this.credential=v,this.auth=A}static _fromIdtoken(y,v){return new ps("enroll",y,v)}static _fromMfaPendingCredential(y){return new ps("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var v,A;if(null==y?void 0:y.multiFactorSession){if(null===(v=y.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return ps._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(A=y.multiFactorSession)||void 0===A?void 0:A.idToken)return ps._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Qt{constructor(y,v,A){this.session=y,this.hints=v,this.signInResolver=A}static _fromError(y,v){const A=Yt(y),Y=v.customData._serverResponse,pe=(Y.mfaInfo||[]).map(jt=>M._fromServerResponse(A,jt));q(Y.mfaPendingCredential,A,"internal-error");const at=ps._fromMfaPendingCredential(Y.mfaPendingCredential);return new Qt(at,pe,function(){var jt=(0,p.Z)(function*(cn){const dn=yield cn._process(A,at);delete Y.mfaInfo,delete Y.mfaPendingCredential;const li=Object.assign(Object.assign({},Y),{idToken:dn.idToken,refreshToken:dn.refreshToken});switch(v.operationType){case"signIn":const dr=yield xr._fromIdTokenResponse(A,v.operationType,li);return yield A._updateCurrentUser(dr.user),dr;case"reauthenticate":return q(v.user,A,"internal-error"),xr._forOperation(v.user,v.operationType,li);default:yt(A,"internal-error")}});return function(cn){return jt.apply(this,arguments)}}())}resolveSignIn(y){var v=this;return(0,p.Z)(function*(){return v.signInResolver(y)})()}}function Ji(T,y){var v;const A=(0,d.m9)(T),Y=y;return q(y.customData.operationType,A,"argument-error"),q(null===(v=Y.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,A,"argument-error"),Qt._fromError(A,Y)}function Xi(T,y){return gn(T,"POST","/v2/accounts/mfaEnrollment:start",tn(T,y))}class Nn{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(A=>M._fromServerResponse(y.auth,A)))})}static _fromUser(y){return new Nn(y)}getSession(){var y=this;return(0,p.Z)(function*(){return ps._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,v){var A=this;return(0,p.Z)(function*(){const Y=y,pe=yield A.getSession(),at=yield Kt(A.user,Y._process(A.user.auth,pe,v));return yield A.user._updateTokensIfNecessary(at),A.user.reload()})()}unenroll(y){var v=this;return(0,p.Z)(function*(){var A;const Y="string"==typeof y?y:y.uid,pe=yield v.user.getIdToken(),at=yield Kt(v.user,function xn(T,y){return gn(T,"POST","/v2/accounts/mfaEnrollment:withdraw",tn(T,y))}(v.user.auth,{idToken:pe,mfaEnrollmentId:Y}));v.enrolledFactors=v.enrolledFactors.filter(({uid:jt})=>jt!==Y),yield v.user._updateTokensIfNecessary(at);try{yield v.user.reload()}catch(jt){if("auth/user-token-expired"!==(null===(A=jt)||void 0===A?void 0:A.code))throw jt}})()}}const jo=new WeakMap;function hn(T){const y=(0,d.m9)(T);return jo.has(y)||jo.set(y,Nn._fromUser(y)),jo.get(y)}const Dt="__sak";class $t{constructor(y,v){this.storageRetriever=y,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Dt,"1"),this.storage.removeItem(Dt),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,v){return this.storage.setItem(y,JSON.stringify(v)),Promise.resolve()}_get(y){const v=this.storage.getItem(y);return Promise.resolve(v?JSON.parse(v):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const ns=(()=>{class T extends $t{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,A)=>this.onStorageEvent(v,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gr(){const T=(0,d.z$)();return $(T)||Vt(T)}()&&function Ti(){try{return!(!window||window===window.top)}catch(T){return!1}}(),this.fallbackToPolling=Ei(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const A of Object.keys(this.listeners)){const Y=this.storage.getItem(A),pe=this.localCache[A];Y!==pe&&v(A,pe,Y)}}onStorageEvent(v,A=!1){if(!v.key)return void this.forAllChangedKeys((jt,cn,dn)=>{this.notifyListeners(jt,dn)});const Y=v.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const jt=this.storage.getItem(Y);if(v.newValue!==jt)null!==v.newValue?this.storage.setItem(Y,v.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===v.newValue&&!A)return}const pe=()=>{const jt=this.storage.getItem(Y);!A&&this.localCache[Y]===jt||this.notifyListeners(Y,jt)},at=this.storage.getItem(Y);!function Cn(){return(0,d.w1)()&&10===document.documentMode}()||at===v.newValue||v.newValue===v.oldValue?pe():setTimeout(pe,10)}notifyListeners(v,A){this.localCache[v]=A;const Y=this.listeners[v];if(Y)for(const pe of Array.from(Y))pe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,A,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:A,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,A){var Y=()=>super._set,pe=this;return(0,p.Z)(function*(){yield Y().call(pe,v,A),pe.localCache[v]=JSON.stringify(A)})()}_get(v){var A=()=>super._get,Y=this;return(0,p.Z)(function*(){const pe=yield A().call(Y,v);return Y.localCache[v]=JSON.stringify(pe),pe})()}_remove(v){var A=()=>super._remove,Y=this;return(0,p.Z)(function*(){yield A().call(Y,v),delete Y.localCache[v]})()}}return T.type="LOCAL",T})(),Sa=(()=>{class T extends $t{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,A){}_removeListener(v,A){}}return T.type="SESSION",T})();let $o=(()=>{class T{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const A=this.receivers.find(pe=>pe.isListeningto(v));if(A)return A;const Y=new T(v);return this.receivers.push(Y),Y}isListeningto(v){return this.eventTarget===v}handleEvent(v){var A=this;return(0,p.Z)(function*(){const Y=v,{eventId:pe,eventType:at,data:jt}=Y.data,cn=A.handlersMap[at];if(!(null==cn?void 0:cn.size))return;Y.ports[0].postMessage({status:"ack",eventId:pe,eventType:at});const dn=Array.from(cn).map(function(){var dr=(0,p.Z)(function*(rr){return rr(Y.origin,jt)});return function(rr){return dr.apply(this,arguments)}}()),li=yield function xa(T){return Promise.all(T.map(function(){var y=(0,p.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(A){return{fulfilled:!1,reason:A}}});return function(v){return y.apply(this,arguments)}}()))}(dn);Y.ports[0].postMessage({status:"done",eventId:pe,eventType:at,response:li})})()}_subscribe(v,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(A)}_unsubscribe(v,A){this.handlersMap[v]&&A&&this.handlersMap[v].delete(A),(!A||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Go(T="",y=10){let v="";for(let A=0;A<y;A++)v+=Math.floor(10*Math.random());return T+v}class Fl{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,v,A=50){var Y=this;return(0,p.Z)(function*(){const pe="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!pe)throw new Error("connection_unavailable");let at,jt;return new Promise((cn,dn)=>{const li=Go("",20);pe.port1.start();const dr=setTimeout(()=>{dn(new Error("unsupported_event"))},A);jt={messageChannel:pe,onMessage(rr){const Ya=rr;if(Ya.data.eventId===li)switch(Ya.data.status){case"ack":clearTimeout(dr),at=setTimeout(()=>{dn(new Error("timeout"))},3e3);break;case"done":clearTimeout(at),cn(Ya.data.response);break;default:clearTimeout(dr),clearTimeout(at),dn(new Error("invalid_response"))}}},Y.handlers.add(jt),pe.port1.addEventListener("message",jt.onMessage),Y.target.postMessage({eventType:y,eventId:li,data:v},[pe.port2])}).finally(()=>{jt&&Y.removeMessageHandler(jt)})})()}}function Gi(){return window}function vs(){return void 0!==Gi().WorkerGlobalScope&&"function"==typeof Gi().importScripts}function ai(){return(ai=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(T){return null}})).apply(this,arguments)}const D="firebaseLocalStorageDb",k="firebaseLocalStorage",L="fbase_key";class le{constructor(y){this.request=y}toPromise(){return new Promise((y,v)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Me(T,y){return T.transaction([k],y?"readwrite":"readonly").objectStore(k)}function kt(){const T=indexedDB.open(D,1);return new Promise((y,v)=>{T.addEventListener("error",()=>{v(T.error)}),T.addEventListener("upgradeneeded",()=>{const A=T.result;try{A.createObjectStore(k,{keyPath:L})}catch(Y){v(Y)}}),T.addEventListener("success",(0,p.Z)(function*(){const A=T.result;A.objectStoreNames.contains(k)?y(A):(A.close(),yield function He(){const T=indexedDB.deleteDatabase(D);return new le(T).toPromise()}(),y(yield kt()))}))})}function Tn(T,y,v){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.Z)(function*(T,y,v){const A=Me(T,!0).put({[L]:y,value:v});return new le(A).toPromise()})).apply(this,arguments)}function Ci(){return(Ci=(0,p.Z)(function*(T,y){const v=Me(T,!1).get(y),A=yield new le(v).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Oi(T,y){const v=Me(T,!0).delete(y);return new le(v).toPromise()}const qs=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,p.Z)(function*(){return v.db||(v.db=yield kt()),v.db})()}_withRetries(v){var A=this;return(0,p.Z)(function*(){let Y=0;for(;;)try{const pe=yield A._openDb();return yield v(pe)}catch(pe){if(Y++>3)throw pe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,p.Z)(function*(){return vs()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,p.Z)(function*(){v.receiver=$o._getInstance(function O(){return vs()?self:null}()),v.receiver._subscribe("keyChanged",function(){var A=(0,p.Z)(function*(Y,pe){return{keyProcessed:(yield v._poll()).includes(pe.key)}});return function(Y,pe){return A.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var A=(0,p.Z)(function*(Y,pe){return["keyChanged"]});return function(Y,pe){return A.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,p.Z)(function*(){var A,Y;if(v.activeServiceWorker=yield function Oa(){return ai.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Fl(v.activeServiceWorker);const pe=yield v.sender._send("ping",{},800);!pe||(null===(A=pe[0])||void 0===A?void 0:A.fulfilled)&&(null===(Y=pe[0])||void 0===Y?void 0:Y.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var A=this;return(0,p.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function Yn(){var T;return(null===(T=null==navigator?void 0:navigator.serviceWorker)||void 0===T?void 0:T.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:v},A.serviceWorkerReceiverAvailable?800:50)}catch(Y){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const v=yield kt();return yield Tn(v,Dt,"1"),yield Oi(v,Dt),!0}catch(v){}return!1})()}_withPendingWrite(v){var A=this;return(0,p.Z)(function*(){A.pendingWrites++;try{yield v()}finally{A.pendingWrites--}})()}_set(v,A){var Y=this;return(0,p.Z)(function*(){return Y._withPendingWrite((0,p.Z)(function*(){return yield Y._withRetries(pe=>Tn(pe,v,A)),Y.localCache[v]=A,Y.notifyServiceWorker(v)}))})()}_get(v){var A=this;return(0,p.Z)(function*(){const Y=yield A._withRetries(pe=>function Pn(T,y){return Ci.apply(this,arguments)}(pe,v));return A.localCache[v]=Y,Y})()}_remove(v){var A=this;return(0,p.Z)(function*(){return A._withPendingWrite((0,p.Z)(function*(){return yield A._withRetries(Y=>Oi(Y,v)),delete A.localCache[v],A.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,p.Z)(function*(){const A=yield v._withRetries(at=>{const jt=Me(at,!1).getAll();return new le(jt).toPromise()});if(!A)return[];if(0!==v.pendingWrites)return[];const Y=[],pe=new Set;for(const{fbase_key:at,value:jt}of A)pe.add(at),JSON.stringify(v.localCache[at])!==JSON.stringify(jt)&&(v.notifyListeners(at,jt),Y.push(at));for(const at of Object.keys(v.localCache))v.localCache[at]&&!pe.has(at)&&(v.notifyListeners(at,null),Y.push(at));return Y})()}notifyListeners(v,A){this.localCache[v]=A;const Y=this.listeners[v];if(Y)for(const pe of Array.from(Y))pe(A)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})();function js(T,y){return gn(T,"POST","/v2/accounts/mfaSignIn:start",tn(T,y))}function is(){return(is=(0,p.Z)(function*(T){return(yield gn(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pa(T){return new Promise((y,v)=>{const A=document.createElement("script");A.setAttribute("src",T),A.onload=y,A.onerror=Y=>{const pe=ge("internal-error");pe.customData=Y,v(pe)},A.type="text/javascript",A.charset="UTF-8",function Ys(){var T,y;return null!==(y=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==y?y:document}().appendChild(A)})}function Co(T){return`__${T}${Math.floor(1e6*Math.random())}`}const mr=1e12;class Ra{constructor(y){this.auth=y,this.counter=mr,this._widgets=new Map}render(y,v){const A=this.counter;return this._widgets.set(A,new Vl(y,this.auth.name,v||{})),this.counter++,A}reset(y){var v;const A=y||mr;null===(v=this._widgets.get(A))||void 0===v||v.delete(),this._widgets.delete(A)}getResponse(y){var v;return(null===(v=this._widgets.get(y||mr))||void 0===v?void 0:v.getResponse())||""}execute(y){var v=this;return(0,p.Z)(function*(){var A;return null===(A=v._widgets.get(y||mr))||void 0===A||A.execute(),""})()}}class Vl{constructor(y,v,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof y?document.getElementById(y):y;q(Y,"argument-error",{appName:v}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function il(T){const y=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<T;A++)y.push(v.charAt(Math.floor(Math.random()*v.length)));return y.join("")}(50);const{callback:y,"expired-callback":v}=this.params;if(y)try{y(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ul=Co("rcb"),Qs=new K(3e4,6e4);class oa{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(y=Gi().grecaptcha)||void 0===y?void 0:y.render)}load(y,v=""){return q(function hu(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(v),y,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Gi().grecaptcha):new Promise((A,Y)=>{const pe=Gi().setTimeout(()=>{Y(ge(y,"network-request-failed"))},Qs.get());Gi()[Ul]=()=>{Gi().clearTimeout(pe),delete Gi()[Ul];const jt=Gi().grecaptcha;if(!jt)return void Y(ge(y,"internal-error"));const cn=jt.render;jt.render=(dn,li)=>{const dr=cn(dn,li);return this.counter++,dr},this.hostLanguage=v,A(jt)},Pa(`https://www.google.com/recaptcha/api.js??${(0,d.xO)({onload:Ul,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(pe),Y(ge(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var v;return!!(null===(v=Gi().grecaptcha)||void 0===v?void 0:v.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Dr{load(y){return(0,p.Z)(function*(){return new Ra(y)})()}clearedOneInstance(){}}const vl="recaptcha",gs={theme:"light",type:"image"};class cr{constructor(y,v=Object.assign({},gs),A){this.parameters=v,this.type=vl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yt(A),this.isInvisible="invisible"===this.parameters.size,q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof y?document.getElementById(y):y;q(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Dr:new oa,this.validateStartingState()}verify(){var y=this;return(0,p.Z)(function*(){y.assertNotDestroyed();const v=yield y.render(),A=y.getAssertedRecaptcha();return A.getResponse(v)||new Promise(pe=>{const at=jt=>{!jt||(y.tokenChangeListeners.delete(at),pe(jt))};y.tokenChangeListeners.add(at),y.isInvisible&&A.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return v=>{if(this.tokenChangeListeners.forEach(A=>A(v)),"function"==typeof y)y(v);else if("string"==typeof y){const A=Gi()[y];"function"==typeof A&&A(v)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,p.Z)(function*(){if(yield y.init(),!y.widgetId){let v=y.container;if(!y.isInvisible){const A=document.createElement("div");v.appendChild(A),v=A}y.widgetId=y.getAssertedRecaptcha().render(v,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,p.Z)(function*(){q(xt()&&!vs(),y.auth,"internal-error"),yield function tc(){let T=null;return new Promise(y=>{"complete"!==document.readyState?(T=()=>y(),window.addEventListener("load",T)):y()}).catch(y=>{throw T&&window.removeEventListener("load",T),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const v=yield function Et(T){return is.apply(this,arguments)}(y.auth);q(v,y.auth,"internal-error"),y.parameters.sitekey=v})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class co{constructor(y,v){this.verificationId=y,this.onConfirmation=v}confirm(y){const v=cs._fromVerification(this.verificationId,y);return this.onConfirmation(v)}}function Wo(T,y,v){return _r.apply(this,arguments)}function _r(){return(_r=(0,p.Z)(function*(T,y,v){const A=Yt(T),Y=yield Mr(A,y,(0,d.m9)(v));return new co(Y,pe=>On(A,pe))})).apply(this,arguments)}function Vr(T,y,v){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,p.Z)(function*(T,y,v){const A=(0,d.m9)(T);yield ne(!1,A,"phone");const Y=yield Mr(A.auth,y,(0,d.m9)(v));return new co(Y,pe=>yi(A,pe))})).apply(this,arguments)}function za(T,y,v){return br.apply(this,arguments)}function br(){return(br=(0,p.Z)(function*(T,y,v){const A=(0,d.m9)(T),Y=yield Mr(A.auth,y,(0,d.m9)(v));return new co(Y,pe=>hi(A,pe))})).apply(this,arguments)}function Mr(T,y,v){return As.apply(this,arguments)}function As(){return(As=(0,p.Z)(function*(T,y,v){var A;const Y=yield v.verify();try{let pe;if(q("string"==typeof Y,T,"argument-error"),q(v.type===vl,T,"argument-error"),pe="string"==typeof y?{phoneNumber:y}:y,"session"in pe){const at=pe.session;if("phoneNumber"in pe)return q("enroll"===at.type,T,"internal-error"),(yield Xi(T,{idToken:at.credential,phoneEnrollmentInfo:{phoneNumber:pe.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{q("signin"===at.type,T,"internal-error");const jt=(null===(A=pe.multiFactorHint)||void 0===A?void 0:A.uid)||pe.multiFactorUid;return q(jt,T,"missing-multi-factor-info"),(yield js(T,{mfaPendingCredential:at.credential,mfaEnrollmentId:jt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:at}=yield ht(T,{phoneNumber:pe.phoneNumber,recaptchaToken:Y});return at}}finally{v._reset()}})).apply(this,arguments)}function Bl(T,y){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,p.Z)(function*(T,y){yield Ui((0,d.m9)(T),y)})).apply(this,arguments)}let Wa=(()=>{class T{constructor(v){this.providerId=T.PROVIDER_ID,this.auth=Yt(v)}verifyPhoneNumber(v,A){return Mr(this.auth,v,(0,d.m9)(A))}static credential(v,A){return cs._fromVerification(v,A)}static credentialFromResult(v){return T.credentialFromTaggedObject(v)}static credentialFromError(v){return T.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:A,temporaryProof:Y}=v;return A&&Y?cs._fromTokenResponse(A,Y):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function _s(T,y){return y?Ue(y):(q(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class aa extends ii{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Yi(y,this._buildIdpRequest())}_linkToIdToken(y,v){return Yi(y,this._buildIdpRequest(v))}_getReauthenticationResolver(y){return Yi(y,this._buildIdpRequest())}_buildIdpRequest(y){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(v.idToken=y),v}}function Za(T){return At(T.auth,new aa(T),T.bypassAuthState)}function Hl(T){const{auth:y,user:v}=T;return q(v,y,"internal-error"),se(v,new aa(T),T.bypassAuthState)}function la(T){return ua.apply(this,arguments)}function ua(){return(ua=(0,p.Z)(function*(T){const{auth:y,user:v}=T;return q(v,y,"internal-error"),Ui(v,new aa(T),T.bypassAuthState)})).apply(this,arguments)}class qr{constructor(y,v,A,Y,pe=!1){this.auth=y,this.resolver=A,this.user=Y,this.bypassAuthState=pe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var y=this;return new Promise(function(){var v=(0,p.Z)(function*(A,Y){y.pendingPromise={resolve:A,reject:Y};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(pe){y.reject(pe)}});return function(A,Y){return v.apply(this,arguments)}}())}onAuthEvent(y){var v=this;return(0,p.Z)(function*(){const{urlResponse:A,sessionId:Y,postBody:pe,tenantId:at,error:jt,type:cn}=y;if(jt)return void v.reject(jt);const dn={auth:v.auth,requestUri:A,sessionId:Y,tenantId:at||void 0,postBody:pe||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(cn)(dn))}catch(li){v.reject(li)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Za;case"linkViaPopup":case"linkViaRedirect":return la;case"reauthViaPopup":case"reauthViaRedirect":return Hl;default:yt(this.auth,"internal-error")}}resolve(y){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const To=new K(2e3,1e4);function Do(T,y,v){return ca.apply(this,arguments)}function ca(){return(ca=(0,p.Z)(function*(T,y,v){const A=Yt(T);et(T,y,Ms);const Y=_s(A,v);return new _l(A,"signInViaPopup",y,Y).executeNotNull()})).apply(this,arguments)}function fu(T,y,v){return Js.apply(this,arguments)}function Js(){return(Js=(0,p.Z)(function*(T,y,v){const A=(0,d.m9)(T);et(A.auth,y,Ms);const Y=_s(A.auth,v);return new _l(A.auth,"reauthViaPopup",y,Y,A).executeNotNull()})).apply(this,arguments)}function jl(T,y,v){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,p.Z)(function*(T,y,v){const A=(0,d.m9)(T);et(A.auth,y,Ms);const Y=_s(A.auth,v);return new _l(A.auth,"linkViaPopup",y,Y,A).executeNotNull()})).apply(this,arguments)}let _l=(()=>{class T extends qr{constructor(v,A,Y,pe,at){super(v,A,pe,at),this.provider=Y,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var v=this;return(0,p.Z)(function*(){const A=yield v.execute();return q(A,v.auth,"internal-error"),A})()}onExecution(){var v=this;return(0,p.Z)(function*(){tt(1===v.filter.length,"Popup operations only handle one event");const A=Go();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],A),v.authWindow.associatedEvent=A,v.resolver._originValidation(v.auth).catch(Y=>{v.reject(Y)}),v.resolver._isIframeWebStorageSupported(v.auth,Y=>{Y||v.reject(ge(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const v=()=>{var A,Y;this.pollId=(null===(Y=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===Y?void 0:Y.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,To.get())};v()}}return T.currentPopupAction=null,T})();const da=new Map;class $s extends qr{constructor(y,v,A=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,A),this.eventId=null}execute(){var y=()=>super.execute,v=this;return(0,p.Z)(function*(){let A=da.get(v.auth._key());if(!A){try{const pe=(yield function Na(T,y){return bl.apply(this,arguments)}(v.resolver,v.auth))?yield y().call(v):null;A=()=>Promise.resolve(pe)}catch(Y){A=()=>Promise.reject(Y)}da.set(v.auth._key(),A)}return v.bypassAuthState||da.set(v.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(y){var v=()=>super.onAuthEvent,A=this;return(0,p.Z)(function*(){if("signInViaRedirect"===y.type)return v().call(A,y);if("unknown"!==y.type){if(y.eventId){const Y=yield A.auth._redirectUserForId(y.eventId);if(Y)return A.user=Y,v().call(A,y);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function bl(){return(bl=(0,p.Z)(function*(T,y){const v=U(y),A=R(T);if(!(yield A._isAvailable()))return!1;const Y="true"===(yield A._get(v));return yield A._remove(v),Y})).apply(this,arguments)}function ha(T,y){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,p.Z)(function*(T,y){return R(T)._set(U(y),"true")})).apply(this,arguments)}function $l(){da.clear()}function ku(T,y){da.set(T._key(),y)}function R(T){return Ue(T._redirectPersistence)}function U(T){return fe("pendingRedirect",T.config.apiKey,T.name)}function ae(T,y,v){return function De(T,y,v){return rt.apply(this,arguments)}(T,y,v)}function rt(){return(rt=(0,p.Z)(function*(T,y,v){const A=Yt(T);et(T,y,Ms);const Y=_s(A,v);return yield ha(Y,A),Y._openRedirect(A,y,"signInViaRedirect")})).apply(this,arguments)}function mt(T,y,v){return function qt(T,y,v){return an.apply(this,arguments)}(T,y,v)}function an(){return(an=(0,p.Z)(function*(T,y,v){const A=(0,d.m9)(T);et(A.auth,y,Ms);const Y=_s(A.auth,v);yield ha(Y,A.auth);const pe=yield Io(A);return Y._openRedirect(A.auth,y,"reauthViaRedirect",pe)})).apply(this,arguments)}function Gn(T,y,v){return function ri(T,y,v){return si.apply(this,arguments)}(T,y,v)}function si(){return(si=(0,p.Z)(function*(T,y,v){const A=(0,d.m9)(T);et(A.auth,y,Ms);const Y=_s(A.auth,v);yield ne(!1,A,y.providerId),yield ha(Y,A.auth);const pe=yield Io(A);return Y._openRedirect(A.auth,y,"linkViaRedirect",pe)})).apply(this,arguments)}function Bn(T,y){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,p.Z)(function*(T,y){return yield Yt(T)._initializationPromise,Ki(T,y,!1)})).apply(this,arguments)}function Ki(T,y){return rl.apply(this,arguments)}function rl(){return(rl=(0,p.Z)(function*(T,y,v=!1){const A=Yt(T),Y=_s(A,y),at=yield new $s(A,Y,v).execute();return at&&!v&&(delete at.user._redirectEventId,yield A._persistUserIfCurrent(at.user),yield A._setRedirectUser(null,y)),at})).apply(this,arguments)}function Io(T){return ho.apply(this,arguments)}function ho(){return(ho=(0,p.Z)(function*(T){const y=Go(`${T.uid}:::`);return T._redirectEventId=y,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),y})).apply(this,arguments)}class ka{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let v=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(y,A)&&(v=!0,this.sendToConsumer(y,A),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function La(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fa(T);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=y,v=!0)),v}sendToConsumer(y,v){var A;if(y.error&&!fa(y)){const Y=(null===(A=y.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";v.onError(ge(this.auth,Y))}else v.onAuthEvent(y)}isEventForConsumer(y,v){const A=null===v.eventId||!!y.eventId&&y.eventId===v.eventId;return v.filter.includes(y.type)&&A}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sl(y))}saveEventToCache(y){this.cachedEventUids.add(sl(y)),this.lastProcessedEventTime=Date.now()}}function sl(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(y=>y).join("-")}function fa({type:T,error:y}){return"unknown"===T&&"auth/no-auth-event"===(null==y?void 0:y.code)}function Gs(T){return qo.apply(this,arguments)}function qo(){return(qo=(0,p.Z)(function*(T,y={}){return gn(T,"GET","/v1/projects",y)})).apply(this,arguments)}const Pc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rc=/^https?/;function Xs(){return(Xs=(0,p.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:y}=yield Gs(T);for(const v of y)try{if(Nc(v))return}catch(A){}yt(T,"unauthorized-domain")})).apply(this,arguments)}function Nc(T){const y=ot(),{protocol:v,hostname:A}=new URL(y);if(T.startsWith("chrome-extension://")){const at=new URL(T);return""===at.hostname&&""===A?"chrome-extension:"===v&&T.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===v&&at.hostname===A}if(!Rc.test(v))return!1;if(Pc.test(T))return A===T;const Y=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(A)}const pu=new K(3e4,6e4);function Lu(){const T=Gi().___jsl;if(null==T?void 0:T.H)for(const y of Object.keys(T.H))if(T.H[y].r=T.H[y].r||[],T.H[y].L=T.H[y].L||[],T.H[y].r=[...T.H[y].L],T.CP)for(let v=0;v<T.CP.length;v++)T.CP[v]=null}let gu=null;function Fu(T){return gu=gu||function nc(T){return new Promise((y,v)=>{var A,Y,pe;function at(){Lu(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Lu(),v(ge(T,"network-request-failed"))},timeout:pu.get()})}if(null===(Y=null===(A=Gi().gapi)||void 0===A?void 0:A.iframes)||void 0===Y?void 0:Y.Iframe)y(gapi.iframes.getContext());else{if(!(null===(pe=Gi().gapi)||void 0===pe?void 0:pe.load)){const jt=Co("iframefcb");return Gi()[jt]=()=>{gapi.load?at():v(ge(T,"network-request-failed"))},Pa(`https://apis.google.com/js/api.js?onload=${jt}`).catch(cn=>v(cn))}at()}}).catch(y=>{throw gu=null,y})}(T),gu}const El=new K(5e3,15e3),Cl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vu(T){const y=T.config;q(y.authDomain,T,"auth-domain-config-required");const v=y.emulator?Ae(y,"emulator/auth/iframe"):`https://${T.config.authDomain}/__/auth/iframe`,A={apiKey:y.apiKey,appName:T.name,v:W.SDK_VERSION},Y=zl.get(T.config.apiHost);Y&&(A.eid=Y);const pe=T._getFrameworks();return pe.length&&(A.fw=pe.join(",")),`${v}?${(0,d.xO)(A).slice(1)}`}function ic(){return ic=(0,p.Z)(function*(T){const y=yield Fu(T),v=Gi().gapi;return q(v,T,"internal-error"),y.open({where:document.body,url:Vu(T),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cl,dontclear:!0},A=>new Promise(function(){var Y=(0,p.Z)(function*(pe,at){yield A.restyle({setHideOnLeave:!1});const jt=ge(T,"network-request-failed"),cn=Gi().setTimeout(()=>{at(jt)},El.get());function dn(){Gi().clearTimeout(cn),pe(A)}A.ping(dn).then(dn,()=>{at(jt)})});return function(pe,at){return Y.apply(this,arguments)}}()))}),ic.apply(this,arguments)}const qa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yo{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function ga(T,y,v,A,Y,pe){q(T.config.authDomain,T,"auth-domain-config-required"),q(T.config.apiKey,T,"invalid-api-key");const at={apiKey:T.config.apiKey,appName:T.name,authType:v,redirectUrl:A,v:W.SDK_VERSION,eventId:Y};if(y instanceof Ms){y.setDefaultLanguage(T.languageCode),at.providerId=y.providerId||"",(0,d.xb)(y.getCustomParameters())||(at.customParameters=JSON.stringify(y.getCustomParameters()));for(const[cn,dn]of Object.entries(pe||{}))at[cn]=dn}if(y instanceof Un){const cn=y.getScopes().filter(dn=>""!==dn);cn.length>0&&(at.scopes=cn.join(","))}T.tenantId&&(at.tid=T.tenantId);const jt=at;for(const cn of Object.keys(jt))void 0===jt[cn]&&delete jt[cn];return`${function Qo({config:T}){return T.emulator?Ae(T,"emulator/auth/handler"):`https://${T.authDomain}/__/auth/handler`}(T)}?${(0,d.xO)(jt).slice(1)}`}const fo="webStorageSupport",Kl=class Uu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sa,this._completeRedirectFn=Ki,this._overrideRedirectResult=ku}_openPopup(y,v,A,Y){var pe=this;return(0,p.Z)(function*(){var at;tt(null===(at=pe.eventManagers[y._key()])||void 0===at?void 0:at.manager,"_initialize() not called before _openPopup()");const jt=ga(y,v,A,ot(),Y);return function So(T,y,v,A=500,Y=600){const pe=Math.max((window.screen.availHeight-Y)/2,0).toString(),at=Math.max((window.screen.availWidth-A)/2,0).toString();let jt="";const cn=Object.assign(Object.assign({},qa),{width:A.toString(),height:Y.toString(),top:pe,left:at}),dn=(0,d.z$)().toLowerCase();v&&(jt=X(dn)?"_blank":v),J(dn)&&(y=y||"http://localhost",cn.scrollbars="yes");const li=Object.entries(cn).reduce((rr,[Ya,bs])=>`${rr}${Ya}=${bs},`,"");if(function yn(T=(0,d.z$)()){var y;return Vt(T)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(dn)&&"_self"!==jt)return function oc(T,y){const v=document.createElement("a");v.href=T,v.target=y;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(A)}(y||"",jt),new Yo(null);const dr=window.open(y||"",jt,li);q(dr,T,"popup-blocked");try{dr.focus()}catch(rr){}return new Yo(dr)}(y,jt,Go())})()}_openRedirect(y,v,A,Y){var pe=this;return(0,p.Z)(function*(){return yield pe._originValidation(y),function ti(T){Gi().location.href=T}(ga(y,v,A,ot(),Y)),new Promise(()=>{})})()}_initialize(y){const v=y._key();if(this.eventManagers[v]){const{manager:Y,promise:pe}=this.eventManagers[v];return Y?Promise.resolve(Y):(tt(pe,"If manager is not set, promise should be"),pe)}const A=this.initAndGetManager(y);return this.eventManagers[v]={promise:A},A.catch(()=>{delete this.eventManagers[v]}),A}initAndGetManager(y){var v=this;return(0,p.Z)(function*(){const A=yield function Ao(T){return ic.apply(this,arguments)}(y),Y=new ka(y);return A.register("authEvent",pe=>(q(null==pe?void 0:pe.authEvent,y,"invalid-auth-event"),{status:Y.onEvent(pe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[y._key()]={manager:Y},v.iframes[y._key()]=A,Y})()}_isIframeWebStorageSupported(y,v){this.iframes[y._key()].send(fo,{type:fo},Y=>{var pe;const at=null===(pe=null==Y?void 0:Y[0])||void 0===pe?void 0:pe[fo];void 0!==at&&v(!!at),yt(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const v=y._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function ol(T){return Xs.apply(this,arguments)}(y)),this.originValidationPromises[v]}get _shouldInitProactively(){return Ei()||$()||Vt()}};class ln extends class Lc{constructor(y){this.factorId=y}_process(y,v,A){switch(v.type){case"enroll":return this._finalizeEnroll(y,v.credential,A);case"signin":return this._finalizeSignIn(y,v.credential);default:return qe("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new ln(y)}_finalizeEnroll(y,v,A){return function Hs(T,y){return gn(T,"POST","/v2/accounts/mfaEnrollment:finalize",tn(T,y))}(y,{idToken:v,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,v){return function Ma(T,y){return gn(T,"POST","/v2/accounts/mfaSignIn:finalize",tn(T,y))}(y,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ql=(()=>{class T{constructor(){}static assertion(v){return ln._fromCredential(v)}}return T.FACTOR_ID="phone",T})();var Fc="@firebase/auth",ac="0.20.11";class Nr{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var v=this;return(0,p.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const v=this.auth.onIdTokenChanged(A=>{var Y;y((null===(Y=A)||void 0===Y?void 0:Y.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,v),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const v=this.internalListeners.get(y);!v||(this.internalListeners.delete(y),v(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,d.Pz)("authIdTokenMaxAge"),function mu(T){(0,W._registerComponent)(new ke.wA("auth",(y,{options:v})=>{const A=y.getProvider("app").getImmediate(),Y=y.getProvider("heartbeat"),{apiKey:pe,authDomain:at}=A.options;return((jt,cn)=>{q(pe&&!pe.includes(":"),"invalid-api-key",{appName:jt.name}),q(!(null==at?void 0:at.includes(":")),"argument-error",{appName:jt.name});const dn={apiKey:pe,authDomain:at,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Di(T)},li=new Mi(jt,cn,dn);return function nt(T,y){const v=(null==y?void 0:y.persistence)||[],A=(Array.isArray(v)?v:[v]).map(Ue);(null==y?void 0:y.errorMap)&&T._updateErrorMap(y.errorMap),T._initializeWithPersistence(A,null==y?void 0:y.popupRedirectResolver)}(li,v),li})(A,Y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,v,A)=>{y.getProvider("auth-internal").initialize()})),(0,W._registerComponent)(new ke.wA("auth-internal",y=>{const v=Yt(y.getProvider("auth").getImmediate());return new Nr(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,W.registerVersion)(Fc,ac,function Yl(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(T)),(0,W.registerVersion)(Fc,ac,"esm2017")}("Browser")},5525:(Jt,Ze,x)=>{x.d(Ze,{u7:()=>lm,Jj:()=>au,IX:()=>Yg,my:()=>Br,xU:()=>Mc,Lz:()=>lu,WA:()=>$t,F8:()=>Sc,$q:()=>ld,W:()=>ta,EK:()=>ai,PU:()=>Xd,l7:()=>_s,Ky:()=>L,Xb:()=>k,Cf:()=>zi,K9:()=>jo,Me:()=>_r,yq:()=>Xi,Wi:()=>Mo,ET:()=>jy,Ab:()=>ym,vr:()=>mm,Fc:()=>Xg,hJ:()=>td,B$:()=>Vg,at:()=>Ic,oe:()=>cm,AK:()=>pm,TF:()=>bp,JU:()=>hp,ST:()=>Jg,fH:()=>Sy,Ix:()=>e_,Wu:()=>Ly,Lx:()=>od,qY:()=>ks,GL:()=>Pu,QT:()=>um,kl:()=>Fy,Xk:()=>Vy,PL:()=>Uy,UQ:()=>By,zN:()=>Fp,nP:()=>vm,b9:()=>Ry,vh:()=>Ny,Pb:()=>n_,L$:()=>$d,cf:()=>dm,sc:()=>hm,Xo:()=>eo,IO:()=>Oy,iE:()=>Gh,Eo:()=>Ug,i3:()=>fm,Bt:()=>gm,pl:()=>Jd,Ub:()=>ps,qK:()=>kl,TQ:()=>sm,e0:()=>ky,r7:()=>Hy,Mx:()=>_p,ar:()=>rm});var ce,p=x(5861),d=x(9681),W=x(4859),Ce=x(1877),ve=x(2090),ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},be={},Q=Q||{},ee=ke||self;function ue(){}function Ne(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function ct(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var ft="closure_uid_"+(1e9*Math.random()>>>0),ut=0;function Ye(r,e,t){return r.call.apply(r.bind,arguments)}function lt(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),r.apply(e,u)}}return function(){return r.apply(e,arguments)}}function Be(r,e,t){return(Be=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ye:lt).apply(null,arguments)}function yt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function ge(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(o,u,f){for(var _=Array(arguments.length-2),S=2;S<arguments.length;S++)_[S-2]=arguments[S];return e.prototype[u].apply(o,_)}}function we(){this.s=this.s,this.o=this.o}we.prototype.s=!1,we.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function it(r){Object.prototype.hasOwnProperty.call(r,ft)&&r[ft]||(r[ft]=++ut)}(this)},we.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function q(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function qe(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Ne(o)){const u=r.length||0,f=o.length||0;r.length=u+f;for(let _=0;_<f;_++)r[u+_]=o[_]}else r.push(o)}}function tt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ee.addEventListener("test",ue,e),ee.removeEventListener("test",ue,e)}catch(t){}return r}();function Ue(r){return/^[\s\xa0]*$/.test(r)}var Xe=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function nt(r,e){return r<e?-1:r>e?1:0}function ot(){var r=ee.navigator;return r&&(r=r.userAgent)?r:""}function xt(r){return-1!=ot().indexOf(r)}function sn(r){return sn[" "](r),r}sn[" "]=ue;var gn,r,pt=xt("Opera"),K=xt("Trident")||xt("MSIE"),Ae=xt("Edge"),Ge=Ae||K,Rt=xt("Gecko")&&!(-1!=ot().toLowerCase().indexOf("webkit")&&!xt("Edge"))&&!(xt("Trident")||xt("MSIE"))&&!xt("Edge"),Nt=-1!=ot().toLowerCase().indexOf("webkit")&&!xt("Edge");function tn(){var r=ee.document;return r?r.documentMode:void 0}e:{var An="",zn=(r=ot(),Rt?/rv:([^\);]+)(\)|;)/.exec(r):Ae?/Edge\/([\d\.]+)/.exec(r):K?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Nt?/WebKit\/(\S+)/.exec(r):pt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(zn&&(An=zn?zn[1]:""),K){var Xn=tn();if(null!=Xn&&Xn>parseFloat(An)){gn=String(Xn);break e}}gn=An}var Hn={};var Mn=ee.document&&K&&(tn()||parseInt(gn,10))||void 0;function ci(r,e){if(tt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Rt){e:{try{sn(e.nodeName);var u=!0;break e}catch(f){}u=!1}u||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:un[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&ci.X.h.call(this)}}ge(ci,tt);var un={2:"touch",3:"pen",4:"mouse"};ci.prototype.h=function(){ci.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Pi="closure_listenable_"+(1e6*Math.random()|0),qn=0;function nn(r,e,t,o,u){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++qn,this.ba=this.ea=!1}function Li(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function _i(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function Mt(r){const e={};for(const t in r)e[t]=r[t];return e}const Fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $e(r,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)r[t]=o[t];for(let f=0;f<Fe.length;f++)t=Fe[f],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function Ut(r){this.src=r,this.g={},this.h=0}function It(r,e){var t=e.type;if(t in r.g){var f,o=r.g[t],u=wt(o,e);(f=0<=u)&&Array.prototype.splice.call(o,u,1),f&&(Li(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Bt(r,e,t,o){for(var u=0;u<r.length;++u){var f=r[u];if(!f.ba&&f.listener==e&&f.capture==!!t&&f.ha==o)return u}return-1}Ut.prototype.add=function(r,e,t,o,u){var f=r.toString();(r=this.g[f])||(r=this.g[f]=[],this.h++);var _=Bt(r,e,o,u);return-1<_?(e=r[_],t||(e.ea=!1)):((e=new nn(e,this.src,f,!!o,u)).ea=t,r.push(e)),e};var Kt="closure_lm_"+(1e6*Math.random()|0),Re={};function xe(r,e,t,o,u){if(o&&o.once)return bt(r,e,t,o,u);if(Array.isArray(e)){for(var f=0;f<e.length;f++)xe(r,e[f],t,o,u);return null}return t=he(t),r&&r[Pi]?r.N(e,t,ct(o)?!!o.capture:!!o,u):Ee(r,e,t,!1,o,u)}function Ee(r,e,t,o,u,f){if(!e)throw Error("Invalid event type");var _=ct(u)?!!u.capture:!!u,S=pn(r);if(S||(r[Kt]=S=new Ut(r)),(t=S.add(e,t,o,_,f)).proxy)return t;if(o=function We(){const e=wn;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)Le||(u=_),void 0===u&&(u=!1),r.addEventListener(e.toString(),o,u);else if(r.attachEvent)r.attachEvent(vn(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function bt(r,e,t,o,u){if(Array.isArray(e)){for(var f=0;f<e.length;f++)bt(r,e[f],t,o,u);return null}return t=he(t),r&&r[Pi]?r.O(e,t,ct(o)?!!o.capture:!!o,u):Ee(r,e,t,!0,o,u)}function St(r,e,t,o,u){if(Array.isArray(e))for(var f=0;f<e.length;f++)St(r,e[f],t,o,u);else o=ct(o)?!!o.capture:!!o,t=he(t),r&&r[Pi]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Bt(f=r.g[e],t,o,u))&&(Li(f[t]),Array.prototype.splice.call(f,t,1),0==f.length&&(delete r.g[e],r.h--))):r&&(r=pn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Bt(e,t,o,u)),(t=-1<r?e[r]:null)&&Tt(t))}function Tt(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[Pi])It(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(vn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=pn(e))?(It(t,r),0==t.h&&(t.src=null,e[Kt]=null)):Li(r)}}}function vn(r){return r in Re?Re[r]:Re[r]="on"+r}function wn(r,e){if(r.ba)r=!0;else{e=new ci(e,this);var t=r.listener,o=r.ha||r.src;r.ea&&Tt(r),r=t.call(o,e)}return r}function pn(r){return(r=r[Kt])instanceof Ut?r:null}var z="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(r){return"function"==typeof r?r:(r[z]||(r[z]=function(e){return r.handleEvent(e)}),r[z])}function _e(){we.call(this),this.i=new Ut(this),this.P=this,this.I=null}function Ve(r,e){var t,o=r.I;if(o)for(t=[];o;o=o.I)t.push(o);if(r=r.P,o=e.type||e,"string"==typeof e)e=new tt(e,r);else if(e instanceof tt)e.target=e.target||r;else{var u=e;$e(e=new tt(o,r),u)}if(u=!0,t)for(var f=t.length-1;0<=f;f--){var _=e.g=t[f];u=vt(_,o,!0,e)&&u}if(u=vt(_=e.g=r,o,!0,e)&&u,u=vt(_,o,!1,e)&&u,t)for(f=0;f<t.length;f++)u=vt(_=e.g=t[f],o,!1,e)&&u}function vt(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,f=0;f<e.length;++f){var _=e[f];if(_&&!_.ba&&_.capture==t){var S=_.listener,j=_.ha||_.src;_.ea&&It(r.i,_),u=!1!==S.call(j,o)&&u}}return u&&!o.defaultPrevented}ge(_e,we),_e.prototype[Pi]=!0,_e.prototype.removeEventListener=function(r,e,t,o){St(this,r,e,t,o)},_e.prototype.M=function(){if(_e.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)Li(t[o]);delete r.g[e],r.h--}}this.I=null},_e.prototype.N=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},_e.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var Ot=ee.JSON.stringify;function de(){var r=Je;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var X,Oe=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new ye,r=>r.reset());class ye{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function J(r){ee.setTimeout(()=>{throw r},0)}function $(r,e){X||function ie(){var r=ee.Promise.resolve(void 0);X=function(){r.then(Lt)}}(),Se||(X(),Se=!0),Je.add(r,e)}var Se=!1,Je=new class fe{constructor(){this.h=this.g=null}add(e,t){const o=Oe.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Lt(){for(var r;r=de();){try{r.h.call(r.g)}catch(t){J(t)}var e=Oe;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Se=!1}function Vt(r,e){_e.call(this),this.h=r||1,this.g=e||ee,this.j=Be(this.lb,this),this.l=Date.now()}function En(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function yn(r,e,t){if("function"==typeof r)t&&(r=Be(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Be(r.handleEvent,r)}return 2147483647<Number(e)?-1:ee.setTimeout(r,e||0)}function Cn(r){r.g=yn(()=>{r.g=null,r.i&&(r.i=!1,Cn(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}ge(Vt,_e),(ce=Vt.prototype).ca=!1,ce.R=null,ce.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ve(this,"tick"),this.ca&&(En(this),this.start()))}},ce.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){Vt.X.M.call(this),En(this),delete this.g};class Ei extends we{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cn(this)}M(){super.M(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(r){we.call(this),this.h=r,this.g={}}ge(Ti,we);var Di=[];function wr(r,e,t,o){Array.isArray(t)||(t&&(Di[0]=t.toString()),t=Di);for(var u=0;u<t.length;u++){var f=xe(e,t[u],o||r.handleEvent,!1,r.h||r);if(!f)break;r.g[f.key]=f}}function Mi(r){_i(r.g,function(e,t){this.g.hasOwnProperty(t)&&Tt(e)},r),r.g={}}function Yt(){this.g=!0}function Hi(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ji(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var f=u[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var _=1;_<u.length;_++)u[_]=""}}}return Ot(t)}catch(S){return e}}(r,t)+(o?" "+o:"")})}Ti.prototype.M=function(){Ti.X.M.call(this),Mi(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yt.prototype.Aa=function(){this.g=!1},Yt.prototype.info=function(){};var or={},ii=null;function Cr(){return ii=ii||new _e}function Ii(r){tt.call(this,or.Pa,r)}function Ln(r){const e=Cr();Ve(e,new Ii(e))}function Qr(r,e){tt.call(this,or.STAT_EVENT,r),this.stat=e}function Wi(r){const e=Cr();Ve(e,new Qr(e,r))}function ws(r,e){tt.call(this,or.Qa,r),this.size=e}function nr(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){r()},e)}or.Pa="serverreachability",ge(Ii,tt),or.STAT_EVENT="statevent",ge(Qr,tt),or.Qa="timingevent",ge(ws,tt);var Vi={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},jr={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function $r(){}function di(){}$r.prototype.h=null;var qi,mn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Jr(){tt.call(this,"d")}function Ft(){tt.call(this,"c")}function Ai(){}function as(r,e,t,o){this.l=r,this.j=e,this.m=t,this.U=o||1,this.S=new Ti(this),this.O=ar,this.T=new Vt(r=Ge?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ls}function ls(){this.i=null,this.g="",this.h=!1}ge(Jr,tt),ge(Ft,tt),ge(Ai,$r),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},qi=new Ai;var ar=45e3,ms={},Ar={};function Ls(r,e,t){r.K=1,r.v=Cs(pr(e)),r.s=t,r.P=!0,Yi(r,null)}function Yi(r,e){r.F=Date.now(),ht(r),r.A=pr(r.v);var t=r.A,o=r.U;Array.isArray(o)||(o=[String(o)]),ia(t.i,"t",o),r.C=0,t=r.l.H,r.h=new ls,r.g=tl(r.l,t?e:null,!r.s),0<r.N&&(r.L=new Ei(Be(r.La,r,r.g),r.N)),wr(r.S,r.g,"readystatechange",r.ib),e=r.H?Mt(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),Ln(),function Zn(r,e,t,o,u,f){r.info(function(){if(r.g)if(f)for(var _="",S=f.split("&"),j=0;j<S.length;j++){var Z=S[j].split("=");if(1<Z.length){var me=Z[0];Z=Z[1];var je=me.split("_");_=2<=je.length&&"type"==je[1]?_+(me+"=")+Z+"&":_+(me+"=redacted&")}}else _=null;else _=f;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+_})}(r.j,r.u,r.A,r.m,r.U,r.s)}function Fs(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function st(r,e,t){let u,o=!0;for(;!r.I&&r.C<t.length;){if(u=Ke(r,t),u==Ar){4==e&&(r.o=4,Wi(14),o=!1),Hi(r.j,r.m,null,"[Incomplete Response]");break}if(u==ms){r.o=4,Wi(15),Hi(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}Hi(r.j,r.m,u,null),Zi(r,u)}Fs(r)&&u!=Ar&&u!=ms&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Wi(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),bo(e),e.K=!0,Wi(11))):(Hi(r.j,r.m,t,"[Invalid Chunked Response]"),jn(r),bn(r))}function Ke(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?Ar:(t=Number(e.substring(t,o)),isNaN(t)?ms:(o+=1)+t>e.length?Ar:(e=e.substr(o,t),r.C=o+t,e))}function ht(r){r.V=Date.now()+r.O,Ht(r,r.O)}function Ht(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=nr(Be(r.gb,r),e)}function on(r){r.B&&(ee.clearTimeout(r.B),r.B=null)}function bn(r){0==r.l.G||r.I||Eo(r.l,r)}function jn(r){on(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,En(r.T),Mi(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function Zi(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||V(t.h,r)))if(!r.J&&V(t.h,r)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch(Z){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(t.u)t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=nr(Be(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<r.F))break e;Bs(t),Ea(t)}Vo(t),Wi(18)}if(1>=Ui(t.h)&&t.ja){try{t.ja()}catch(Z){}t.ja=void 0}}else Is(t,11)}else if((r.J||t.g==r)&&Bs(t),!Ue(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let Z=u[e];if(t.T=Z[0],Z=Z[1],2==t.G)if("c"==Z[0]){t.I=Z[1],t.ka=Z[2];const me=Z[3];null!=me&&(t.ma=me,t.j.info("VER="+t.ma));const je=Z[4];null!=je&&(t.Ca=je,t.j.info("SVER="+t.Ca));const _t=Z[5];null!=_t&&"number"==typeof _t&&0<_t&&(t.J=o=1.5*_t,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Gt=r.g;if(Gt){const en=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(en){var f=o.h;f.g||-1==en.indexOf("spdy")&&-1==en.indexOf("quic")&&-1==en.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(ne(f,f.h),f.h=null))}if(o.D){const In=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;In&&(o.za=In,Un(o.F,o.D,In))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var _=r;if((o=t).sa=Or(o,o.H?o.ka:null,o.V),_.J){F(o.h,_);var S=_,j=o.J;j&&S.setTimeout(j),S.B&&(on(S),ht(S)),o.g=_}else io(o);0<t.i.length&&fl(t)}else"stop"!=Z[0]&&"close"!=Z[0]||Is(t,7);else 3==t.G&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?Is(t,7):Us(t):"noop"!=Z[0]&&t.l&&t.l.wa(Z),t.A=0)}Ln()}catch(Z){}}function Os(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Ne(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function us(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if("undefined"!=typeof Map&&r instanceof Map)return Array.from(r.keys());if(!("undefined"!=typeof Set&&r instanceof Set)){if(Ne(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function Ri(r){if(r.W&&"function"==typeof r.W)return r.W();if("undefined"!=typeof Map&&r instanceof Map||"undefined"!=typeof Set&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Ne(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),u=o.length,f=0;f<u;f++)e.call(void 0,o[f],t&&t[f],r)}(ce=as.prototype).setTimeout=function(r){this.O=r},ce.ib=function(r){r=r.target;const e=this.L;e&&3==Wt(r)?e.l():this.La(r)},ce.La=function(r){try{if(r==this.g)e:{const me=Wt(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>me)&&(3!=me||Ge||this.g&&(this.h.h||this.g.fa()||bi(this.g)))){this.I||4!=me||7==e||Ln(),on(this);var t=this.g.aa();this.Y=t;t:if(Fs(this)){var o=bi(this.g);r="";var u=o.length,f=4==Wt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){jn(this),bn(this);var _="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:f&&e==u-1});o.splice(0,u),this.h.g+=r,this.C=0,_=this.h.g}else _=this.g.fa();if(this.i=200==t,function mi(r,e,t,o,u,f,_){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+f+" "+_})}(this.j,this.u,this.A,this.m,this.U,me,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ue(S)){var Z=S;break t}}Z=null}if(!(t=Z)){this.i=!1,this.o=3,Wi(12),jn(this),bn(this);break e}Hi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zi(this,t)}this.P?(st(this,me,_),Ge&&this.i&&3==me&&(wr(this.S,this.T,"tick",this.hb),this.T.start())):(Hi(this.j,this.m,_,null),Zi(this,_)),4==me&&jn(this),this.i&&!this.I&&(4==me?Eo(this.l,this):(this.i=!1,ht(this)))}else 400==t&&0<_.indexOf("Unknown SID")?(this.o=3,Wi(12)):(this.o=0,Wi(13)),jn(this),bn(this)}}}catch(me){}},ce.hb=function(){if(this.g){var r=Wt(this.g),e=this.g.fa();this.C<e.length&&(on(this),st(this,r,e),this.i&&4!=r&&ht(this))}},ce.cancel=function(){this.I=!0,jn(this)},ce.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function vr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ln(),Wi(17)),jn(this),this.o=2,bn(this)):Ht(this,this.V-r)};var cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gr(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Gr){this.h=void 0!==e?e:r.h,No(this,r.j),this.s=r.s,this.g=r.g,Sr(this,r.m),this.l=r.l,e=r.i;var t=new Vs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ms(this,t),this.o=r.o}else r&&(t=String(r).match(cs))?(this.h=!!e,No(this,t[1]||"",!0),this.s=Ps(t[2]||""),this.g=Ps(t[3]||"",!0),Sr(this,t[4]),this.l=Ps(t[5]||"",!0),Ms(this,t[6]||"",!0),this.o=Ps(t[7]||"")):(this.h=!!e,this.i=new Vs(null,this.h))}function pr(r){return new Gr(r)}function No(r,e,t){r.j=t?Ps(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Sr(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Ms(r,e,t){e instanceof Vs?(r.i=e,function Fr(r,e){e&&!r.j&&(Ni(r),r.i=null,r.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(xr(this,o),ia(this,u,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Ts(e,zr)),r.i=new Vs(e,r.h))}function Un(r,e,t){r.i.set(e,t)}function Cs(r){return Un(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Ps(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ts(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Ha),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Ha(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Gr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Ts(e,ko,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Ts(e,ko,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Ts(t,"/"==t.charAt(0)?na:Xr,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Ts(t,es)),r.join("")};var ko=/[#\/\?@]/g,Xr=/[#\?:]/g,na=/[#\?]/g,zr=/[#\?@]/g,es=/#/g;function Vs(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Ni(r){r.g||(r.g=new Map,r.h=0,r.i&&function Ro(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),u=null;if(0<=o){var f=r[t].substring(0,o);u=r[t].substring(o+1)}else f=r[t];e(f,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function xr(r,e){Ni(r),e=ds(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Lo(r,e){return Ni(r),e=ds(r,e),r.g.has(e)}function ia(r,e,t){xr(r,e),0<t.length&&(r.i=null,r.g.set(ds(r,e),q(t)),r.h+=t.length)}function ds(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Zs(r){this.l=r||ts,r=ee.PerformanceNavigationTiming?0<(r=ee.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ee.g&&ee.g.Ga&&ee.g.Ga()&&ee.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=Vs.prototype).add=function(r,e){Ni(this),this.i=null,r=ds(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ce.forEach=function(r,e){Ni(this),this.g.forEach(function(t,o){t.forEach(function(u){r.call(e,u,o,this)},this)},this)},ce.oa=function(){Ni(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=r[o];for(let f=0;f<u.length;f++)t.push(e[o])}return t},ce.W=function(r){Ni(this);let e=[];if("string"==typeof r)Lo(this,r)&&(e=e.concat(this.g.get(ds(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ce.set=function(r,e){return Ni(this),this.i=null,Lo(this,r=ds(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ce.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const f=encodeURIComponent(String(o)),_=this.W(o);for(o=0;o<_.length;o++){var u=f;""!==_[o]&&(u+="="+encodeURIComponent(String(_[o]))),r.push(u)}}return this.i=r.join("&")};var ts=10;function Ks(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Ui(r){return r.h?1:r.g?r.g.size:0}function V(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function ne(r,e){r.g?r.g.add(e):r.h=e}function F(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function se(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return q(r.i)}function Pe(){}function At(){this.g=new Pe}function zt(r,e,t){const o=t||"";try{Os(r,function(u,f){let _=u;ct(u)&&(_=Ot(u)),e.push(o+f+"="+encodeURIComponent(_))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function $n(r,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(f){}}function yi(r){this.l=r.ac||null,this.j=r.jb||!1}function ei(r,e){_e.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=hi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zs.prototype.cancel=function(){if(this.i=se(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Pe.prototype.stringify=function(r){return ee.JSON.stringify(r,void 0)},Pe.prototype.parse=function(r){return ee.JSON.parse(r,void 0)},ge(yi,$r),yi.prototype.g=function(){return new ei(this.l,this.j)},yi.prototype.i=function(r){return function(){return r}}({}),ge(ei,_e);var hi=0;function Qi(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function Bi(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Fi(r)}function Fi(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ce=ei.prototype).open=function(r,e){if(this.readyState!=hi)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Fi(this)},ce.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||ee).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bi(this)),this.readyState=hi},ce.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==ee.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qi(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},ce.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Bi(this):Fi(this),3==this.readyState&&Qi(this)}},ce.Va=function(r){this.g&&(this.response=this.responseText=r,Bi(this))},ce.Ua=function(r){this.g&&(this.response=r,Bi(this))},ce.ga=function(){this.g&&Bi(this)},ce.setRequestHeader=function(r,e){this.v.append(r,e)},ce.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var H=ee.JSON.parse;function N(r){_e.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=M,this.K=this.L=!1}ge(N,_e);var M="",re=/^https?$/i,Pt=["POST","PUT"];function ki(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Ds(r),Fo(r)}function Ds(r){r.D||(r.D=!0,Ve(r,"complete"),Ve(r,"error"))}function hs(r){if(r.h&&void 0!==Q&&(!r.C[1]||4!=Wt(r)||2!=r.aa()))if(r.v&&4==Wt(r))yn(r.Ha,0,r);else if(Ve(r,"readystatechange"),4==Wt(r)){r.h=!1;try{const S=r.aa();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===S){var u=String(r.H).match(cs)[1]||null;if(!u&&ee.self&&ee.self.location){var f=ee.self.location.protocol;u=f.substr(0,f.length-1)}o=!re.test(u?u.toLowerCase():"")}t=o}if(t)Ve(r,"complete"),Ve(r,"success");else{r.m=6;try{var _=2<Wt(r)?r.g.statusText:""}catch(j){_=""}r.j=_+" ["+r.aa()+"]",Ds(r)}}finally{Fo(r)}}}function Fo(r,e){if(r.g){_a(r);const t=r.g,o=r.C[0]?ue:null;r.g=null,r.C=null,e||Ve(r,"ready");try{t.onreadystatechange=o}catch(u){}}}function _a(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(ee.clearTimeout(r.A),r.A=null)}function Wt(r){return r.g?r.g.readyState:0}function bi(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case M:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function hl(r){let e="";return _i(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function lr(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=hl(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Un(r,e,t))}function ba(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function _o(r){this.Ca=0,this.i=[],this.j=new Yt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ba("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ba("baseRetryDelayMs",5e3,r),this.bb=ba("retryDelaySeedMs",1e4,r),this.$a=ba("forwardChannelMaxRetries",2,r),this.ta=ba("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new Zs(r&&r.concurrentRequestLimit),this.Fa=new At,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Us(r){if(wa(r),3==r.G){var e=r.U++,t=pr(r.F);Un(t,"SID",r.I),Un(t,"RID",e),Un(t,"TYPE","terminate"),no(r,t),(e=new as(r,r.j,e,void 0)).K=2,e.v=Cs(pr(t)),t=!1,ee.navigator&&ee.navigator.sendBeacon&&(t=ee.navigator.sendBeacon(e.v.toString(),"")),!t&&ee.Image&&((new Image).src=e.v,t=!0),t||(e.g=tl(e.l,null),e.g.da(e.v)),e.F=Date.now(),ht(e)}Ta(r)}function Ea(r){r.g&&(bo(r),r.g.cancel(),r.g=null)}function wa(r){Ea(r),r.u&&(ee.clearTimeout(r.u),r.u=null),Bs(r),r.h.cancel(),r.m&&("number"==typeof r.m&&ee.clearTimeout(r.m),r.m=null)}function fl(r){Ks(r.h)||r.m||(r.m=!0,$(r.Ja,r),r.C=0)}function gl(r,e){var t;t=e?e.m:r.U++;const o=pr(r.F);Un(o,"SID",r.I),Un(o,"RID",t),Un(o,"AID",r.T),no(r,o),r.o&&r.s&&lr(o,r.o,r.s),t=new as(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=Wr(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),ne(r.h,t),Ls(t,o,e)}function no(r,e){r.ia&&_i(r.ia,function(t,o){Un(e,o,t)}),r.l&&Os({},function(t,o){Un(e,o,t)})}function Wr(r,e,t){t=Math.min(r.i.length,t);var o=r.l?Be(r.l.Ra,r.l,r):null;e:{var u=r.i;let f=-1;for(;;){const _=["count="+t];-1==f?0<t?(f=u[0].h,_.push("ofs="+f)):f=0:_.push("ofs="+f);let S=!0;for(let j=0;j<t;j++){let Z=u[j].h;const me=u[j].g;if(Z-=f,0>Z)f=Math.max(0,u[j].h-100),S=!1;else try{zt(me,_,"req"+Z+"_")}catch(je){o&&o(me)}}if(S){o=_.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,o}function io(r){r.g||r.u||(r.Z=1,$(r.Ia,r),r.A=0)}function Vo(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=nr(Be(r.Ia,r),Ca(r,r.A)),r.A++,0))}function bo(r){null!=r.B&&(ee.clearTimeout(r.B),r.B=null)}function ys(r){r.g=new as(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=pr(r.sa);Un(e,"RID","rpc"),Un(e,"SID",r.I),Un(e,"CI",r.L?"0":"1"),Un(e,"AID",r.T),Un(e,"TYPE","xmlhttp"),no(r,e),r.o&&r.s&&lr(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=Cs(pr(e)),t.s=null,t.P=!0,Yi(t,r)}function Bs(r){null!=r.v&&(ee.clearTimeout(r.v),r.v=null)}function Eo(r,e){var t=null;if(r.g==e){Bs(r),bo(r),r.g=null;var o=2}else{if(!V(r.h,e))return;t=e.D,F(r.h,e),o=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=r.C;Ve(o=Cr(),new ws(o,t)),fl(r)}else io(r);else if(3==(u=e.o)||0==u&&0<r.pa||!(1==o&&function pl(r,e){return!(Ui(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=nr(Be(r.Ja,r,e),Ca(r,r.C)),r.C++,0)))}(r,e)||2==o&&Vo(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),u){case 1:Is(r,5);break;case 4:Is(r,10);break;case 3:Is(r,6);break;default:Is(r,2)}}function Ca(r,e){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*e}function Is(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var o=Be(r.kb,r);t||(t=new Gr("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||No(t,"https"),Cs(t)),function On(r,e){const t=new Yt;if(ee.Image){const o=new Image;o.onload=yt($n,t,o,"TestLoadImage: loaded",!0,e),o.onerror=yt($n,t,o,"TestLoadImage: error",!1,e),o.onabort=yt($n,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=yt($n,t,o,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else Wi(2);r.G=0,r.l&&r.l.va(e),Ta(r),wa(r)}function Ta(r){if(r.G=0,r.la=[],r.l){const e=se(r.h);(0!=e.length||0!=r.i.length)&&(qe(r.la,e),qe(r.la,r.i),r.h.i.length=0,q(r.i),r.i.length=0),r.l.ua()}}function Or(r,e,t){var o=t instanceof Gr?pr(t):new Gr(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Sr(o,o.m);else{var u=ee.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var f=new Gr(null,void 0);o&&No(f,o),e&&(f.g=e),u&&Sr(f,u),t&&(f.l=t),o=f}return e=r.za,(t=r.D)&&e&&Un(o,t,e),Un(o,"VER",r.ma),no(r,o),o}function tl(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new N(t&&r.Da&&!r.ra?new yi({jb:!0}):r.ra)).Ka(r.H),e}function Da(){}function wo(){if(K&&!(10<=Number(Mn)))throw Error("Environmental error: no available transport.")}function Zr(r,e){_e.call(this),this.g=new _o(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Yb)&&!Ue(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ue(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Uo(this)}function ro(r){Jr.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function ra(){Ft.call(this),this.status=1}function Uo(r){this.g=r}(ce=N.prototype).Ka=function(r){this.L=r},ce.da=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qi.g(),this.C=function wi(r){return r.h||(r.h=r.i())}(this.u?this.u:qi),this.g.onreadystatechange=Be(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(f){return void ki(this,f)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const f of o.keys())t.set(f,o.get(f))}o=Array.from(t.keys()).find(f=>"content-type"==f.toLowerCase()),u=ee.FormData&&r instanceof ee.FormData,!(0<=wt(Pt,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,_]of t)this.g.setRequestHeader(f,_);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_a(this),0<this.B&&((this.K=function Sn(r){return K&&function vi(){return function gt(r){var e=Hn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=Xe(String(gn)).split("."),t=Xe("9").split("."),o=Math.max(e.length,t.length);for(let _=0;0==r&&_<o;_++){var u=e[_]||"",f=t[_]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==u[0].length&&0==f[0].length)break;r=nt(0==u[1].length?0:parseInt(u[1],10),0==f[1].length?0:parseInt(f[1],10))||nt(0==u[2].length,0==f[2].length)||nt(u[2],f[2]),u=u[3],f=f[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Be(this.qa,this)):this.A=yn(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(f){ki(this,f)}},ce.qa=function(){void 0!==Q&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ve(this,"timeout"),this.abort(8))},ce.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Ve(this,"complete"),Ve(this,"abort"),Fo(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fo(this,!0)),N.X.M.call(this)},ce.Ha=function(){this.s||(this.F||this.v||this.l?hs(this):this.fb())},ce.fb=function(){hs(this)},ce.aa=function(){try{return 2<Wt(this)?this.g.status:-1}catch(r){return-1}},ce.fa=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},ce.Sa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),H(e)}},ce.Ea=function(){return this.m},ce.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=_o.prototype).ma=8,ce.G=1,ce.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const u=new as(this,this.j,r,void 0);let f=this.s;if(this.S&&(f?(f=Mt(f),$e(f,this.S)):f=this.S),null!==this.o||this.N||(u.H=f,f=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Wr(this,u,e),Un(t=pr(this.F),"RID",r),Un(t,"CVER",22),this.D&&Un(t,"X-HTTP-Session-Id",this.D),no(this,t),f&&(this.N?e="headers="+encodeURIComponent(String(hl(f)))+"&"+e:this.o&&lr(t,this.o,f)),ne(this.h,u),this.Ya&&Un(t,"TYPE","init"),this.O?(Un(t,"$req",e),Un(t,"SID","null"),u.Z=!0,Ls(u,t,null)):Ls(u,t,e),this.G=2}}else 3==this.G&&(r?gl(this,r):0==this.i.length||Ks(this.h)||gl(this))},ce.Ia=function(){if(this.u=null,ys(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=nr(Be(this.eb,this),r)}},ce.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Wi(10),Ea(this),ys(this))},ce.cb=function(){null!=this.v&&(this.v=null,Ea(this),Vo(this),Wi(19))},ce.kb=function(r){r?(this.j.info("Successfully pinged google.com"),Wi(2)):(this.j.info("Failed to ping google.com"),Wi(1))},(ce=Da.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Ra=function(){},wo.prototype.g=function(r,e){return new Zr(r,e)},ge(Zr,_e),Zr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;Wi(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=Or(r,null,r.V),fl(r)},Zr.prototype.close=function(){Us(this.g)},Zr.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Ot(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.ab++,r)),3==e.G&&fl(e)},Zr.prototype.M=function(){this.g.l=null,delete this.j,Us(this.g),delete this.g,Zr.X.M.call(this)},ge(ro,Jr),ge(ra,Ft),ge(Uo,Da),Uo.prototype.xa=function(){Ve(this.g,"a")},Uo.prototype.wa=function(r){Ve(this.g,new ro(r))},Uo.prototype.va=function(r){Ve(this.g,new ra)},Uo.prototype.ua=function(){Ve(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Zr.prototype.send=Zr.prototype.u,Zr.prototype.open=Zr.prototype.m,Zr.prototype.close=Zr.prototype.close,Vi.NO_ERROR=0,Vi.TIMEOUT=8,Vi.HTTP_ERROR=6,jr.COMPLETE="complete",di.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",_e.prototype.listen=_e.prototype.N,N.prototype.listenOnce=N.prototype.O,N.prototype.getLastError=N.prototype.Oa,N.prototype.getLastErrorCode=N.prototype.Ea,N.prototype.getStatus=N.prototype.aa,N.prototype.getResponseJson=N.prototype.Sa,N.prototype.getResponseText=N.prototype.fa,N.prototype.send=N.prototype.da,N.prototype.setWithCredentials=N.prototype.Ka;var Bo=be.createWebChannelTransport=function(){return new wo},Ia=be.getStatEventTarget=function(){return Cr()},so=be.ErrorCode=Vi,du=be.EventType=jr,nl=be.Event=or,fs=be.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Aa=be.FetchXmlHttpFactory=yi,ir=be.WebChannel=di,ja=be.XhrIo=N;const Nu="@firebase/firestore";class $i{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");let Ho="9.14.0";const oo=new Ce.Yd("@firebase/firestore");function ao(){return oo.logLevel}function ps(r){oo.setLogLevel(r)}function Qt(r,...e){if(oo.logLevel<=Ce.in.DEBUG){const t=e.map(Hs);oo.debug(`Firestore (${Ho}): ${r}`,...t)}}function Ji(r,...e){if(oo.logLevel<=Ce.in.ERROR){const t=e.map(Hs);oo.error(`Firestore (${Ho}): ${r}`,...t)}}function Xi(r,...e){if(oo.logLevel<=Ce.in.WARN){const t=e.map(Hs);oo.warn(`Firestore (${Ho}): ${r}`,...t)}}function Hs(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function xn(r="Unexpected state"){const e=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: `+r;throw Ji(e),new Error(e)}function Nn(r,e){r||xn()}function jo(r,e){r||xn()}function hn(r,e){return r}const Dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $t extends ve.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ml{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($i.UNAUTHENTICATED))}shutdown(){}}class $a{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ns{constructor(e){this.t=e,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const f=Z=>this.i!==u?(u=this.i,t(Z)):Promise.resolve();let _=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new gr,e.enqueueRetryable(()=>f(this.currentUser))};const S=()=>{const Z=_;e.enqueueRetryable((0,p.Z)(function*(){yield Z.promise,yield f(o.currentUser)}))},j=Z=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(Z=>j(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?j(Z):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new gr)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Nn("string"==typeof o.accessToken),new ml(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nn(null===e||"string"==typeof e),new $i(e)}}class yl{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=$i.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Nn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Sa{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new yl(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t($i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $o{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=f=>{null!=f.error&&Qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const _=f.token!==this.A;return this.A=f.token,Qt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const u=f=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.T.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.T.getImmediate({optional:!0});f?u(f):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nn("string"==typeof t.token),this.A=t.token,new xa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Fl(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class Gi{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Fl(40);for(let f=0;f<u.length;++f)o.length<20&&u[f]<t&&(o+=e.charAt(u[f]%e.length))}return o}}function ti(r,e){return r<e?-1:r>e?1:0}function vs(r,e,t){return r.length===e.length&&r.every((o,u)=>t(o,e[u]))}function Oa(r){return r+"\0"}class ai{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $t(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $t(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $t(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $t(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ai.fromMillis(Date.now())}static fromDate(e){return ai.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new ai(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ti(this.nanoseconds,e.nanoseconds):ti(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yn(e)}static min(){return new Yn(new ai(0,0))}static max(){return new Yn(new ai(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class O{constructor(e,t,o){void 0===t?t=0:t>e.length&&xn(),void 0===o?o=e.length-t:o>e.length-t&&xn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===O.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof O?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const f=e.get(u),_=t.get(u);if(f<_)return-1;if(f>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class D extends O{construct(e,t,o){return new D(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new $t(Dt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new D(t)}static emptyPath(){return new D([])}}const w=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class k extends O{construct(e,t,o){return new k(e,t,o)}static isValidIdentifier(e){return w.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),k.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new k(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const f=()=>{if(0===o.length)throw new $t(Dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let _=!1;for(;u<e.length;){const S=e[u];if("\\"===S){if(u+1===e.length)throw new $t(Dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[u+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new $t(Dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=j,u+=2}else"`"===S?(_=!_,u++):"."!==S||_?(o+=S,u++):(f(),u++)}if(f(),_)throw new $t(Dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new k(t)}static emptyPath(){return new k([])}}class L{constructor(e){this.path=e}static fromPath(e){return new L(D.fromString(e))}static fromName(e){return new L(D.fromString(e).popFirst(5))}static empty(){return new L(D.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===D.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return D.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new D(e.slice()))}}class le{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function Me(r){return r.fields.find(e=>2===e.kind)}function He(r){return r.fields.filter(e=>2!==e.kind)}le.UNKNOWN_ID=-1;class Tn{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pn{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pn(0,ur.min())}}function Ci(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,u=Yn.fromTimestamp(1e9===o?new ai(t+1,0):new ai(t,o));return new ur(u,L.empty(),e)}function Oi(r){return new ur(r.readTime,r.key,-1)}class ur{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new ur(Yn.min(),L.empty(),-1)}static max(){return new ur(Yn.max(),L.empty(),-1)}}function uo(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=L.comparator(r.documentKey,e.documentKey),0!==t?t:ti(r.largestBatchId,e.largestBatchId))}const zo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function js(r){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,p.Z)(function*(r){if(r.code!==Dt.FAILED_PRECONDITION||r.message!==zo)throw r;Qt("LocalStore","Unexpectedly lost primary lease")}),Ma.apply(this,arguments)}class Et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Et((o,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,u)},this.catchCallback=f=>{this.wrapFailure(t,f).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Et?t:Et.resolve(t)}catch(t){return Et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Et.reject(t)}static resolve(e){return new Et((t,o)=>{t(e)})}static reject(e){return new Et((t,o)=>{o(e)})}static waitFor(e){return new Et((t,o)=>{let u=0,f=0,_=!1;e.forEach(S=>{++u,S.next(()=>{++f,_&&f===u&&t()},j=>o(j))}),_=!0,f===u&&t()})}static or(e){let t=Et.resolve(!1);for(const o of e)t=t.next(u=>u?Et.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,f)=>{o.push(t.call(this,u,f))}),this.waitFor(o)}static mapArray(e,t){return new Et((o,u)=>{const f=e.length,_=new Array(f);let S=0;for(let j=0;j<f;j++){const Z=j;t(e[Z]).next(me=>{_[Z]=me,++S,S===f&&o(_)},me=>u(me))}})}static doWhile(e,t){return new Et((o,u)=>{const f=()=>{!0===e()?t().next(()=>{f()},u):o()};f()})}}class is{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new gr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Co(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=Vl(o.target.error);this.P.reject(new Co(e,u))}}static open(e,t,o,u){try{return new is(t,e.transaction(u,o))}catch(f){throw new Co(t,f)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Qt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new sa(t)}}class Ys{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===Ys.D((0,ve.z$)())&&Ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qt("SimpleDb","Removing database:",e),mr(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ve.hl)())return!1;if(Ys.N())return!0;const e=(0,ve.z$)(),t=Ys.D(e),o=0<t&&t<10,u=Ys.k(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,p.Z)(function*(){return t.db||(Qt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const f=indexedDB.open(t.name,t.version);f.onsuccess=_=>{o(_.target.result)},f.onblocked=()=>{u(new Co(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=_=>{const S=_.target.error;u("VersionError"===S.name?new $t(Dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new $t(Dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new Co(e,S))},f.onupgradeneeded=_=>{Qt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',_.oldVersion),t.S.$(_.target.result,f.transaction,_.oldVersion,t.version).next(()=>{Qt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var f=this;return(0,p.Z)(function*(){const _="readonly"===t;let S=0;for(;;){++S;try{f.db=yield f.F(e);const j=is.open(f.db,e,_?"readonly":"readwrite",o),Z=u(j).next(me=>(j.V(),me)).catch(me=>(j.abort(me),Et.reject(me))).toPromise();return Z.catch(()=>{}),yield j.v,Z}catch(j){const Z=j,me="FirebaseError"!==Z.name&&S<3;if(Qt("SimpleDb","Transaction failed with error:",Z.message,"Retrying:",me),f.close(),!me)return Promise.reject(Z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Pa{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return mr(this.U.delete())}}class Co extends $t{constructor(e,t){super(Dt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Kr(r){return"IndexedDbTransactionError"===r.name}class sa{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Qt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Qt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),mr(o)}add(e){return Qt("SimpleDb","ADD",this.store.name,e,e),mr(this.store.add(e))}get(e){return mr(this.store.get(e)).next(t=>(void 0===t&&(t=null),Qt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Qt("SimpleDb","DELETE",this.store.name,e),mr(this.store.delete(e))}count(){return Qt("SimpleDb","COUNT",this.store.name),mr(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),f=[];return this.H(u,(_,S)=>{f.push(S)}).next(()=>f)}{const u=this.store.getAll(o.range);return new Et((f,_)=>{u.onerror=S=>{_(S.target.error)},u.onsuccess=S=>{f(S.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Et((u,f)=>{o.onerror=_=>{f(_.target.error)},o.onsuccess=_=>{u(_.target.result)}})}Y(e,t){Qt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const u=this.cursor(o);return this.H(u,(f,_,S)=>S.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.H(u,t)}tt(e){const t=this.cursor({});return new Et((o,u)=>{t.onerror=f=>{const _=Vl(f.target.error);u(_)},t.onsuccess=f=>{const _=f.target.result;_?e(_.primaryKey,_.value).next(S=>{S?_.continue():o()}):o()}})}H(e,t){const o=[];return new Et((u,f)=>{e.onerror=_=>{f(_.target.error)},e.onsuccess=_=>{const S=_.target.result;if(!S)return void u();const j=new Pa(S),Z=t(S.primaryKey,S.value,j);if(Z instanceof Et){const me=Z.catch(je=>(j.done(),Et.reject(je)));o.push(me)}j.isDone?u():null===j.G?S.continue():S.continue(j.G)}}).next(()=>Et.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mr(r){return new Et((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const u=Vl(o.target.error);t(u)}})}let Ra=!1;function Vl(r){const e=Ys.D((0,ve.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new $t("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ra||(Ra=!0,setTimeout(()=>{throw o},0)),o}}return r}class il{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Qt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,p.Z)(function*(){t.task=null;try{Qt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){Kr(o)?Qt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield js(o)}yield t.nt(6e4)}))}}class Ul{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,p.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let u=t,f=!0;return Et.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(_=>{if(null!==_&&!o.has(_))return Qt("IndexBackiller",`Processing collection: ${_}`),this.rt(e,_,u).next(S=>{u-=S,o.add(_)});f=!1})).next(()=>t-u)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(f=>{const _=f.changes;return this.localStore.indexManager.updateIndexEntries(e,_).next(()=>this.ot(u,f)).next(S=>(Qt("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,t,S))).next(()=>_.size)}))}ot(e,t){let o=e;return t.changes.forEach((u,f)=>{const _=Oi(f);uo(_,o)>0&&(o=_)}),new ur(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Qs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Tr(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function oa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function hu(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}Qs.at=-1;class Dr{constructor(e,t){this.comparator=e,this.root=t||gs.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gs.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vl(this.root,e,this.comparator,!1)}getReverseIterator(){return new vl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vl(this.root,e,this.comparator,!0)}}class vl{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=t?o(e.key,t):1,t&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gs{constructor(e,t,o,u,f){this.key=e,this.value=t,this.color=null!=o?o:gs.RED,this.left=null!=u?u:gs.EMPTY,this.right=null!=f?f:gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,f){return new gs(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const f=o(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===f?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return gs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return gs.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xn();const e=this.left.check();if(e!==this.right.check())throw xn();return e+(this.isRed()?0:1)}}gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1,gs.EMPTY=new class{constructor(){this.size=0}get key(){throw xn()}get value(){throw xn()}get color(){throw xn()}get left(){throw xn()}get right(){throw xn()}copy(r,e,t,o,u){return this}insert(r,e,t){return new gs(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cr{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tc(this.data.getIterator())}getIteratorFrom(e){return new tc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof cr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cr(this.comparator);return t.data=e,t}}class tc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function co(r){return r.hasNext()?r.getNext():void 0}class Wo{constructor(e){this.fields=e,e.sort(k.comparator)}static empty(){return new Wo([])}unionWith(e){let t=new cr(k.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Wo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,(t,o)=>t.isEqual(o))}}function _r(){return"undefined"!=typeof atob}class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Vr(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ti(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const Ga=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function za(r){if(Nn(!!r),"string"==typeof r){let e=0;const t=Ga.exec(r);if(Nn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:br(r.seconds),nanos:br(r.nanos)}}function br(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Mr(r){return"string"==typeof r?Vr.fromBase64String(r):Vr.fromUint8Array(r)}function As(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Bl(r){const e=r.mapValue.fields.__previous_value__;return As(e)?Bl(e):e}function Zo(r){const e=za(r.mapValue.fields.__local_write_time__.timestampValue);return new ai(e.seconds,e.nanos)}class Wa{constructor(e,t,o,u,f,_,S,j){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=f,this.forceLongPolling=_,this.autoDetectLongPolling=S,this.useFetchStreams=j}}class _s{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _s("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _s&&e.projectId===this.projectId&&e.database===this.database}}function aa(r){return null==r}function Za(r){return 0===r&&1/r==-1/0}function Hl(r){return"number"==typeof r&&Number.isInteger(r)&&!Za(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const la={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ua={nullValue:"NULL_VALUE"};function qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?As(r)?4:ha(r)?9007199254740991:10:xn()}function To(r,e){if(r===e)return!0;const t=qr(r);if(t!==qr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zo(r).isEqual(Zo(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=za(o.timestampValue),_=za(u.timestampValue);return f.seconds===_.seconds&&f.nanos===_.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return u=e,Mr(r.bytesValue).isEqual(Mr(u.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return br(o.geoPointValue.latitude)===br(u.geoPointValue.latitude)&&br(o.geoPointValue.longitude)===br(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return br(o.integerValue)===br(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=br(o.doubleValue),_=br(u.doubleValue);return f===_?Za(f)===Za(_):isNaN(f)&&isNaN(_)}return!1}(r,e);case 9:return vs(r.arrayValue.values||[],e.arrayValue.values||[],To);case 10:return function(o,u){const f=o.mapValue.fields||{},_=u.mapValue.fields||{};if(Tr(f)!==Tr(_))return!1;for(const S in f)if(f.hasOwnProperty(S)&&(void 0===_[S]||!To(f[S],_[S])))return!1;return!0}(r,e);default:return xn()}var u}function Do(r,e){return void 0!==(r.values||[]).find(t=>To(t,e))}function ca(r,e){if(r===e)return 0;const t=qr(r),o=qr(e);if(t!==o)return ti(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return ti(r.booleanValue,e.booleanValue);case 2:return function(u,f){const _=br(u.integerValue||u.doubleValue),S=br(f.integerValue||f.doubleValue);return _<S?-1:_>S?1:_===S?0:isNaN(_)?isNaN(S)?0:-1:1}(r,e);case 3:return fu(r.timestampValue,e.timestampValue);case 4:return fu(Zo(r),Zo(e));case 5:return ti(r.stringValue,e.stringValue);case 6:return function(u,f){const _=Mr(u),S=Mr(f);return _.compareTo(S)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const _=u.split("/"),S=f.split("/");for(let j=0;j<_.length&&j<S.length;j++){const Z=ti(_[j],S[j]);if(0!==Z)return Z}return ti(_.length,S.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const _=ti(br(u.latitude),br(f.latitude));return 0!==_?_:ti(br(u.longitude),br(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(u,f){const _=u.values||[],S=f.values||[];for(let j=0;j<_.length&&j<S.length;++j){const Z=ca(_[j],S[j]);if(Z)return Z}return ti(_.length,S.length)}(r.arrayValue,e.arrayValue);case 10:return function(u,f){if(u===la.mapValue&&f===la.mapValue)return 0;if(u===la.mapValue)return 1;if(f===la.mapValue)return-1;const _=u.fields||{},S=Object.keys(_),j=f.fields||{},Z=Object.keys(j);S.sort(),Z.sort();for(let me=0;me<S.length&&me<Z.length;++me){const je=ti(S[me],Z[me]);if(0!==je)return je;const _t=ca(_[S[me]],j[Z[me]]);if(0!==_t)return _t}return ti(S.length,Z.length)}(r.mapValue,e.mapValue);default:throw xn()}}function fu(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return ti(r,e);const t=za(r),o=za(e),u=ti(t.seconds,o.seconds);return 0!==u?u:ti(t.nanos,o.nanos)}function Js(r){return jl(r)}function jl(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const u=za(o);return`time(${u.seconds},${u.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Mr(r.bytesValue).toBase64():"referenceValue"in r?L.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let u="[",f=!0;for(const _ of o.values||[])f?f=!1:u+=",",u+=jl(_);return u+"]"}(r.arrayValue):"mapValue"in r?function(o){const u=Object.keys(o.fields||{}).sort();let f="{",_=!0;for(const S of u)_?_=!1:f+=",",f+=`${S}:${jl(o.fields[S])}`;return f+"}"}(r.mapValue):xn();var e}function Ko(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function _l(r){return!!r&&"integerValue"in r}function Pr(r){return!!r&&"arrayValue"in r}function da(r){return!!r&&"nullValue"in r}function $s(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Na(r){return!!r&&"mapValue"in r}function bl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return oa(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=bl(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function ha(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ka(r){return"nullValue"in r?ua:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Ko(_s.empty(),L.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:xn()}function $l(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Ko(_s.empty(),L.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?la:xn()}function ku(r,e){const t=ca(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function R(r,e){const t=ca(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class U{constructor(e){this.value=e}static empty(){return new U({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Na(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(t)}setAll(e){let t=k.emptyPath(),o={},u=[];e.forEach((_,S)=>{if(!t.isImmediateParentOf(S)){const j=this.getFieldsMap(t);this.applyChanges(j,o,u),o={},u=[],t=S.popLast()}_?o[S.lastSegment()]=bl(_):u.push(S.lastSegment())});const f=this.getFieldsMap(t);this.applyChanges(f,o,u)}delete(e){const t=this.field(e.popLast());Na(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return To(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Na(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){oa(t,(u,f)=>e[u]=f);for(const u of o)delete e[u]}clone(){return new U(bl(this.value))}}function ae(r){const e=[];return oa(r.fields,(t,o)=>{const u=new k([t]);if(Na(o)){const f=ae(o.mapValue).fields;if(0===f.length)e.push(u);else for(const _ of f)e.push(u.child(_))}else e.push(u)}),new Wo(e)}class De{constructor(e,t,o,u,f,_){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=f,this.documentState=_}static newInvalidDocument(e){return new De(e,0,Yn.min(),Yn.min(),U.empty(),0)}static newFoundDocument(e,t,o){return new De(e,1,t,Yn.min(),o,0)}static newNoDocument(e,t){return new De(e,2,t,Yn.min(),U.empty(),0)}static newUnknownDocument(e,t){return new De(e,3,t,Yn.min(),U.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=U.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=U.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof De&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new De(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rt{constructor(e,t=null,o=[],u=[],f=null,_=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=f,this.startAt=_,this.endAt=S,this.ht=null}}function mt(r,e=null,t=[],o=[],u=null,f=null,_=null){return new rt(r,e,t,o,u,f,_)}function qt(r){const e=hn(r);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+Js(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),aa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Js(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Js(o)).join(",")),e.ht=t}return e.ht}function Gn(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<r.orderBy.length;u++)if(!Pc(r.orderBy[u],e.orderBy[u]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let u=0;u<r.filters.length;u++)if((t=r.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!To(t.value,o.value))return!1;var t,o;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ol(r.startAt,e.startAt)&&ol(r.endAt,e.endAt)}function ri(r){return L.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function si(r,e){return r.filters.filter(t=>t instanceof Ki&&t.field.isEqual(e))}function Bn(r,e,t){let o=ua,u=!0;for(const f of si(r,e)){let _=ua,S=!0;switch(f.op){case"<":case"<=":_=Ka(f.value);break;case"==":case"in":case">=":_=f.value;break;case">":_=f.value,S=!1;break;case"!=":case"not-in":_=ua}ku({value:o,inclusive:u},{value:_,inclusive:S})<0&&(o=_,u=S)}if(null!==t)for(let f=0;f<r.orderBy.length;++f)if(r.orderBy[f].field.isEqual(e)){const _=t.position[f];ku({value:o,inclusive:u},{value:_,inclusive:t.inclusive})<0&&(o=_,u=t.inclusive);break}return{value:o,inclusive:u}}function Rr(r,e,t){let o=la,u=!0;for(const f of si(r,e)){let _=la,S=!0;switch(f.op){case">=":case">":_=$l(f.value),S=!1;break;case"==":case"in":case"<=":_=f.value;break;case"<":_=f.value,S=!1;break;case"!=":case"not-in":_=la}R({value:o,inclusive:u},{value:_,inclusive:S})>0&&(o=_,u=S)}if(null!==t)for(let f=0;f<r.orderBy.length;++f)if(r.orderBy[f].field.isEqual(e)){const _=t.position[f];R({value:o,inclusive:u},{value:_,inclusive:t.inclusive})>0&&(o=_,u=t.inclusive);break}return{value:o,inclusive:u}}class Ki extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new rl(e,t,o):"array-contains"===t?new ka(e,o):"in"===t?new sl(e,o):"not-in"===t?new fa(e,o):"array-contains-any"===t?new La(e,o):new Ki(e,t,o)}static lt(e,t,o){return"in"===t?new Io(e,o):new ho(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ca(t,this.value)):null!==t&&qr(this.value)===qr(t)&&this.ft(ca(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class rl extends Ki{constructor(e,t,o){super(e,t,o),this.key=L.fromName(o.referenceValue)}matches(e){const t=L.comparator(e.key,this.key);return this.ft(t)}}class Io extends Ki{constructor(e,t){super(e,"in",t),this.keys=Gl(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ho extends Ki{constructor(e,t){super(e,"not-in",t),this.keys=Gl(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Gl(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>L.fromName(o.referenceValue))}class ka extends Ki{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pr(t)&&Do(t.arrayValue,this.value)}}class sl extends Ki{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Do(this.value.arrayValue,t)}}class fa extends Ki{constructor(e,t){super(e,"not-in",t)}matches(e){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Do(this.value.arrayValue,t)}}class La extends Ki{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pr(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Do(this.value.arrayValue,o))}}class Gs{constructor(e,t){this.position=e,this.inclusive=t}}class qo{constructor(e,t="asc"){this.field=e,this.dir=t}}function Pc(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function Rc(r,e,t){let o=0;for(let u=0;u<r.position.length;u++){const f=e[u],_=r.position[u];if(o=f.field.isKeyField()?L.comparator(L.fromName(_.referenceValue),t.key):ca(_,t.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function ol(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!To(r.position[t],e.position[t]))return!1;return!0}class Xs{constructor(e,t=null,o=[],u=[],f=null,_="F",S=null,j=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=f,this.limitType=_,this.startAt=S,this.endAt=j,this._t=null,this.wt=null}}function Nc(r,e,t,o,u,f,_,S){return new Xs(r,e,t,o,u,f,_,S)}function pu(r){return new Xs(r)}function Lu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function nc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function gu(r){for(const e of r.filters)if(e.dt())return e.field;return null}function Fu(r){return null!==r.collectionGroup}function El(r){const e=hn(r);if(null===e._t){e._t=[];const t=gu(e),o=nc(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new qo(t)),e._t.push(new qo(k.keyField(),"asc"));else{let u=!1;for(const f of e.explicitOrderBy)e._t.push(f),f.field.isKeyField()&&(u=!0);if(!u){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new qo(k.keyField(),f))}}}return e._t}function zs(r){const e=hn(r);if(!e.wt)if("F"===e.limitType)e.wt=mt(e.path,e.collectionGroup,El(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const f of El(e))t.push(new qo(f.field,"desc"===f.dir?"asc":"desc"));const o=e.endAt?new Gs(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Gs(e.startAt.position,e.startAt.inclusive):null;e.wt=mt(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.wt}function wl(r,e,t){return new Xs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Cl(r,e){return Gn(zs(r),zs(e))&&r.limitType===e.limitType}function zl(r){return`${qt(zs(r))}|lt:${r.limitType}`}function Vu(r){return`Query(target=${function an(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Js(o.value)}`;var o}).join(", ")}]`),aa(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>Js(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>Js(t)).join(",")),`Target(${e})`}(zs(r))}; limitType=${r.limitType})`}function Ao(r,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):L.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(r,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(r,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(u,f,_){const S=Rc(u,f,_);return u.inclusive?S<=0:S<0}(t.startAt,El(t),o)||t.endAt&&!function(u,f,_){const S=Rc(u,f,_);return u.inclusive?S>=0:S>0}(t.endAt,El(t),o)));var t,o}function ic(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function qa(r){return(e,t)=>{let o=!1;for(const u of El(r)){const f=pa(u,e,t);if(0!==f)return f;o=o||u.field.isKeyField()}return 0}}function pa(r,e,t){const o=r.field.isKeyField()?L.comparator(e.key,t.key):function(u,f,_){const S=f.data.field(u),j=_.data.field(u);return null!==S&&null!==j?ca(S,j):xn()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return xn()}}function rc(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Za(e)?"-0":e}}function sc(r){return{integerValue:""+r}}function Wl(r,e){return Hl(e)?sc(e):rc(r,e)}class Yo{constructor(){this._=void 0}}function So(r,e,t){return r instanceof Zl?function(o,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(f.fields.__previous_value__=u),{mapValue:f}}(t,e):r instanceof ga?Qo(r,e):r instanceof fo?Uu(r,e):function(o,u){const f=kc(o,u),_=Lc(f)+Lc(o.yt);return _l(f)&&_l(o.yt)?sc(_):rc(o.It,_)}(r,e)}function oc(r,e,t){return r instanceof ga?Qo(r,e):r instanceof fo?Uu(r,e):t}function kc(r,e){return r instanceof Kl?_l(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Zl extends Yo{}class ga extends Yo{constructor(e){super(),this.elements=e}}function Qo(r,e){const t=ln(e);for(const o of r.elements)t.some(u=>To(u,o))||t.push(o);return{arrayValue:{values:t}}}class fo extends Yo{constructor(e){super(),this.elements=e}}function Uu(r,e){let t=ln(e);for(const o of r.elements)t=t.filter(u=>!To(u,o));return{arrayValue:{values:t}}}class Kl extends Yo{constructor(e,t){super(),this.It=e,this.yt=t}}function Lc(r){return br(r.integerValue||r.doubleValue)}function ln(r){return Pr(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ql{constructor(e,t){this.field=e,this.transform=t}}class ac{constructor(e,t){this.version=e,this.transformResults=t}}class Nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yl(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class mu{}function lc(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new pe(r.key,Nr.none()):new T(r.key,r.data,Nr.none());{const t=r.data,o=U.empty();let u=new cr(k.comparator);for(let f of e.fields)if(!u.has(f)){let _=t.field(f);null===_&&f.length>1&&(f=f.popLast(),_=t.field(f)),null===_?o.delete(f):o.set(f,_),u=u.add(f)}return new y(r.key,o,new Wo(u.toArray()),Nr.none())}}function Bu(r,e,t){r instanceof T?function(o,u,f){const _=o.value.clone(),S=A(o.fieldTransforms,u,f.transformResults);_.setAll(S),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()}(r,e,t):r instanceof y?function(o,u,f){if(!Yl(o.precondition,u))return void u.convertToUnknownDocument(f.version);const _=A(o.fieldTransforms,u,f.transformResults),S=u.data;S.setAll(v(o)),S.setAll(_),u.convertToFoundDocument(f.version,S).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function al(r,e,t,o){return r instanceof T?function(u,f,_,S){if(!Yl(u.precondition,f))return _;const j=u.value.clone(),Z=Y(u.fieldTransforms,S,f);return j.setAll(Z),f.convertToFoundDocument(f.version,j).setHasLocalMutations(),null}(r,e,t,o):r instanceof y?function(u,f,_,S){if(!Yl(u.precondition,f))return _;const j=Y(u.fieldTransforms,S,f),Z=f.data;return Z.setAll(v(u)),Z.setAll(j),f.convertToFoundDocument(f.version,Z).setHasLocalMutations(),null===_?null:_.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(me=>me.field))}(r,e,t,o):(_=t,Yl(r.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):_);var f,_}function yu(r,e){let t=null;for(const o of r.fieldTransforms){const u=e.data.field(o.field),f=kc(o.transform,u||null);null!=f&&(null===t&&(t=U.empty()),t.set(o.field,f))}return t||null}function Vc(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&vs(t,o,(u,f)=>function Fc(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof ga&&o instanceof ga||t instanceof fo&&o instanceof fo?vs(t.elements,o.elements,To):t instanceof Kl&&o instanceof Kl?To(t.yt,o.yt):t instanceof Zl&&o instanceof Zl);var t,o}(u,f))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class T extends mu{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class y extends mu{constructor(e,t,o,u,f=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function v(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function A(r,e,t){const o=new Map;Nn(r.length===t.length);for(let u=0;u<t.length;u++){const f=r[u],_=f.transform,S=e.data.field(f.field);o.set(f.field,oc(_,S,t[u]))}return o}function Y(r,e,t){const o=new Map;for(const u of r){const f=u.transform,_=t.data.field(u.field);o.set(u.field,So(f,_,e))}return o}class pe extends mu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class at extends mu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jt{constructor(e){this.count=e}}var cn,dn;function li(r){switch(r){default:return xn();case Dt.CANCELLED:case Dt.UNKNOWN:case Dt.DEADLINE_EXCEEDED:case Dt.RESOURCE_EXHAUSTED:case Dt.INTERNAL:case Dt.UNAVAILABLE:case Dt.UNAUTHENTICATED:return!1;case Dt.INVALID_ARGUMENT:case Dt.NOT_FOUND:case Dt.ALREADY_EXISTS:case Dt.PERMISSION_DENIED:case Dt.FAILED_PRECONDITION:case Dt.ABORTED:case Dt.OUT_OF_RANGE:case Dt.UNIMPLEMENTED:case Dt.DATA_LOSS:return!0}}function dr(r){if(void 0===r)return Ji("GRPC error has no .code"),Dt.UNKNOWN;switch(r){case cn.OK:return Dt.OK;case cn.CANCELLED:return Dt.CANCELLED;case cn.UNKNOWN:return Dt.UNKNOWN;case cn.DEADLINE_EXCEEDED:return Dt.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return Dt.RESOURCE_EXHAUSTED;case cn.INTERNAL:return Dt.INTERNAL;case cn.UNAVAILABLE:return Dt.UNAVAILABLE;case cn.UNAUTHENTICATED:return Dt.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return Dt.INVALID_ARGUMENT;case cn.NOT_FOUND:return Dt.NOT_FOUND;case cn.ALREADY_EXISTS:return Dt.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return Dt.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return Dt.FAILED_PRECONDITION;case cn.ABORTED:return Dt.ABORTED;case cn.OUT_OF_RANGE:return Dt.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return Dt.UNIMPLEMENTED;case cn.DATA_LOSS:return Dt.DATA_LOSS;default:return xn()}}(dn=cn||(cn={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class rr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,f]of o)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,(t,o)=>{for(const[u,f]of o)e(u,f)})}isEmpty(){return hu(this.inner)}size(){return this.innerSize}}const Ya=new Dr(L.comparator);function bs(){return Ya}const ll=new Dr(L.comparator);function xo(...r){let e=ll;for(const t of r)e=e.insert(t.key,t);return e}function vu(r){let e=ll;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ss(){return Dl()}function Tl(){return Dl()}function Dl(){return new rr(r=>r.toString(),(r,e)=>r.isEqual(e))}const Hu=new Dr(L.comparator),uc=new cr(L.comparator);function Fn(...r){let e=uc;for(const t of r)e=e.add(t);return e}const Uc=new cr(ti);function Il(){return Uc}class Al{constructor(e,t,o,u,f){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Al(Yn.min(),u,Il(),bs(),Fn())}}class Ql{constructor(e,t,o,u,f){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Ql(o,t,Fn(),Fn(),Fn())}}class _u{constructor(e,t,o,u){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=u}}class cd{constructor(e,t){this.targetId=e,this.At=t}}class rh{constructor(e,t,o=Vr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Bc{constructor(){this.Rt=0,this.bt=oh(),this.Pt=Vr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Fn(),t=Fn(),o=Fn();return this.bt.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:xn()}}),new Ql(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=oh()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class rf{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=bs(),this.qt=sh(),this.Kt=new cr(ti)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:xn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,u)=>{this.Ht(u)&&t(u)})}Yt(e){const t=e.targetId,o=e.At.count,u=this.Xt(t);if(u){const f=u.target;if(ri(f))if(0===o){const _=new L(f.path);this.jt(t,_,De.newNoDocument(_,Yn.min()))}else Nn(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((f,_)=>{const S=this.Xt(_);if(S){if(f.current&&ri(S.target)){const j=new L(S.target.path);null!==this.Ut.get(j)||this.ee(_,j)||this.jt(_,j,De.newNoDocument(j,e))}f.Dt&&(t.set(_,f.xt()),f.Nt())}});let o=Fn();this.qt.forEach((f,_)=>{let S=!0;_.forEachWhile(j=>{const Z=this.Xt(j);return!Z||2===Z.purpose||(S=!1,!1)}),S&&(o=o.add(f))}),this.Ut.forEach((f,_)=>_.setReadTime(e));const u=new Al(e,t,this.Kt,this.Ut,o);return this.Ut=bs(),this.qt=sh(),this.Kt=new cr(ti),u}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,t)?u.kt(t,1):u.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Bc,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new cr(ti),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Qt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Bc),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function sh(){return new Dr(L.comparator)}function oh(){return new Dr(L.comparator)}const ju={asc:"ASCENDING",desc:"DESCENDING"},Oo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Hc{constructor(e,t){this.databaseId=e,this.gt=t}}function bu(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dd(r,e){return r.gt?e.toBase64():e.toUint8Array()}function po(r,e){return bu(r,e.toTimestamp())}function rs(r){return Nn(!!r),Yn.fromTimestamp(function(e){const t=za(e);return new ai(t.seconds,t.nanos)}(r))}function cc(r,e){return(t=r,new D(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ah(r){const e=D.fromString(r);return Nn(ma(e)),e}function dc(r,e){return cc(r.databaseId,e.path)}function Qa(r,e){const t=ah(e);if(t.get(1)!==r.databaseId.projectId)throw new $t(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new $t(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new L(a(t))}function lh(r,e){return cc(r.databaseId,e)}function b(r){const e=ah(r);return 4===e.length?D.emptyPath():a(e)}function c(r){return new D(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function a(r){return Nn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function g(r,e,t){return{name:dc(r,e),fields:t.value.mapValue.fields}}function C(r,e,t){const o=Qa(r,e.name),u=rs(e.updateTime),f=new U({mapValue:{fields:e.fields}}),_=De.newFoundDocument(o,u,f);return t&&_.setHasCommittedMutations(),t?_.setHasCommittedMutations():_}function Te(r,e){let t;if(e instanceof T)t={update:g(r,e.key,e.value)};else if(e instanceof pe)t={delete:dc(r,e.key)};else if(e instanceof y)t={update:g(r,e.key,e.data),updateMask:Fa(e.fieldMask)};else{if(!(e instanceof at))return xn();t={verify:dc(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,f){const _=f.transform;if(_ instanceof Zl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof ga)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof fo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Kl)return{fieldPath:f.field.canonicalString(),increment:_.yt};throw xn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:po(r,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:xn()),t;var u}function Qe(r,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Nr.updateTime(rs(u.updateTime)):void 0!==u.exists?Nr.exists(u.exists):Nr.none():Nr.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(f,_){let S=null;"setToServerValue"in _?(Nn("REQUEST_TIME"===_.setToServerValue),S=new Zl):"appendMissingElements"in _?S=new ga(_.appendMissingElements.values||[]):"removeAllFromArray"in _?S=new fo(_.removeAllFromArray.values||[]):"increment"in _?S=new Kl(f,_.increment):xn();const j=k.fromServerFormat(_.fieldPath);return new ql(j,S)}(r,u)):[];var u;if(e.update){const u=Qa(r,e.update.name),f=new U({mapValue:{fields:e.update.fields}});if(e.updateMask){const _=new Wo((e.updateMask.fieldPaths||[]).map(Z=>k.fromServerFormat(Z)));return new y(u,f,_,t,o)}return new T(u,f,t,o)}if(e.delete){const u=Qa(r,e.delete);return new pe(u,t)}if(e.verify){const u=Qa(r,e.verify);return new at(u,t)}return xn()}function Xt(r,e){return{documents:[lh(r,e.path)]}}function _n(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=lh(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=lh(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(j){if(0===j.length)return;const Z=j.map(me=>function(je){if("=="===je.op){if($s(je.value))return{unaryFilter:{field:Ir(je.field),op:"IS_NAN"}};if(da(je.value))return{unaryFilter:{field:Ir(je.field),op:"IS_NULL"}}}else if("!="===je.op){if($s(je.value))return{unaryFilter:{field:Ir(je.field),op:"IS_NOT_NAN"}};if(da(je.value))return{unaryFilter:{field:Ir(je.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ir(je.field),op:hr(je.op),value:je.value}}}(me));return 1===Z.length?Z[0]:{compositeFilter:{op:"AND",filters:Z}}}(e.filters);u&&(t.structuredQuery.where=u);const f=function(j){if(0!==j.length)return j.map(Z=>{return{field:Ir((me=Z).field),direction:Si(me.dir)};var me})}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const _=(Z=e.limit,r.gt||aa(Z)?Z:{value:Z});var Z,S,j;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!(j=e.endAt).inclusive,values:j.position}),t}function Wn(r){let e=b(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){Nn(1===o);const me=t.from[0];me.allDescendants?u=me.collectionId:e=e.child(me.collectionId)}let f=[];t.where&&(f=Jn(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(me=>{return new qo(Yr((je=me).field),function(_t){switch(_t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(je.direction));var je}));let S=null;t.limit&&(S=function(me){let je;return je="object"==typeof me?me.value:me,aa(je)?null:je}(t.limit));let j=null;var me;t.startAt&&(j=new Gs((me=t.startAt).values||[],!!me.before));let Z=null;return t.endAt&&(Z=function(me){return new Gs(me.values||[],!me.before)}(t.endAt)),Nc(e,u,_,f,S,"F",j,Z)}function Jn(r){return r?void 0!==r.unaryFilter?[Es(r)]:void 0!==r.fieldFilter?[xs(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>Jn(e)).reduce((e,t)=>e.concat(t)):xn():[]}function Si(r){return ju[r]}function hr(r){return Oo[r]}function Ir(r){return{fieldPath:r.canonicalString()}}function Yr(r){return k.fromServerFormat(r.fieldPath)}function xs(r){return Ki.create(Yr(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xn()}}(r.fieldFilter.op),r.fieldFilter.value)}function Es(r){switch(r.unaryFilter.op){case"IS_NAN":const e=Yr(r.unaryFilter.field);return Ki.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Yr(r.unaryFilter.field);return Ki.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yr(r.unaryFilter.field);return Ki.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Yr(r.unaryFilter.field);return Ki.create(u,"!=",{nullValue:"NULL_VALUE"});default:return xn()}}function Fa(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ma(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function sr(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=ul(e)),e=Sl(r.get(t),e);return ul(e)}function Sl(r,e){let t=e;const o=r.length;for(let u=0;u<o;u++){const f=r.charAt(u);switch(f){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=f}}return t}function ul(r){return r+"\x01\x01"}function ss(r){const e=r.length;if(Nn(e>=2),2===e)return Nn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),D.emptyPath();const t=e-2,o=[];let u="";for(let f=0;f<e;){const _=r.indexOf("\x01",f);switch((_<0||_>t)&&xn(),r.charAt(_+1)){case"\x01":const S=r.substring(f,_);let j;0===u.length?j=S:(u+=S,j=u,u=""),o.push(j);break;case"\x10":u+=r.substring(f,_),u+="\0";break;case"\x11":u+=r.substring(f,_+1);break;default:xn()}f=_+2}return new D(o)}const Va=["userId","batchId"];function Eu(r,e){return[r,sr(e)]}function wu(r,e,t){return[r,sr(e),t]}const hd={},sf=["prefixPath","collectionGroup","readTime","documentId"],Rn=["prefixPath","collectionGroup","documentId"],Qn=["collectionGroup","readTime","prefixPath","documentId"],oi=["canonicalId","targetId"],er=["targetId","path"],Rs=["path","targetId"],Jo=["collectionId","parent"],Xo=["indexId","uid"],xl=["uid","sequenceNumber"],Ur=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jc=["indexId","uid","orderedDocumentKey"],uh=["userId","collectionPath","documentId"],ea=["userId","collectionPath","largestBatchId"],Ua=["userId","collectionGroup","largestBatchId"],Ja=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Jl=[...Ja,"documentOverlays"],$c=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ch=$c,Nm=[...ch,"indexConfiguration","indexState","indexEntries"];class of extends qs{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function go(r,e){const t=hn(r);return Ys.M(t.ie,e)}class af{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&Bu(f,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=al(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=al(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Tl();return this.mutations.forEach(u=>{const f=e.get(u.key),_=f.overlayedDocument;let S=this.applyToLocalView(_,f.mutatedFields);S=t.has(u.key)?null:S;const j=lc(_,S);null!==j&&o.set(u.key,j),_.isValidDocument()||_.convertToNoDocument(Yn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fn())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,(t,o)=>Vc(t,o))&&vs(this.baseMutations,e.baseMutations,(t,o)=>Vc(t,o))}}class lf{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){Nn(e.mutations.length===o.length);let u=Hu;const f=e.mutations;for(let _=0;_<f.length;_++)u=u.insert(f[_].key,o[_].version);return new lf(e,t,o,u)}}class uf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Cu{constructor(e,t,o,u,f=Yn.min(),_=Yn.min(),S=Vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=S}withSequenceNumber(e){return new Cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class dh{constructor(e){this.re=e}}function hh(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:fh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:dc(u=r.re,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:bu(u,f.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:hc(e.version)};else{if(!e.isUnknownDocument())return xn();o.unknownDocument={path:t.path.toArray(),version:hc(e.version)}}var u,f;return o}function fh(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function hc(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $u(r){const e=new ai(r.seconds,r.nanoseconds);return Yn.fromTimestamp(e)}function Gu(r,e){const t=(e.baseMutations||[]).map(f=>Qe(r.re,f));for(let f=0;f<e.mutations.length-1;++f){const _=e.mutations[f];f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(_.updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f)}const o=e.mutations.map(f=>Qe(r.re,f)),u=ai.fromMillis(e.localWriteTimeMs);return new af(e.batchId,u,t,o)}function Ol(r){const e=$u(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?$u(r.lastLimboFreeSnapshotVersion):Yn.min();let o;var u;return void 0!==r.query.documents?(Nn(1===(u=r.query).documents.length),o=zs(pu(b(u.documents[0])))):o=zs(Wn(r.query)),new Cu(o,r.targetId,0,r.lastListenSequenceNumber,e,t,Vr.fromBase64String(r.resumeToken))}function cf(r,e){const t=hc(e.snapshotVersion),o=hc(e.lastLimboFreeSnapshotVersion);let u;u=ri(e.target)?Xt(r.re,e.target):_n(r.re,e.target);const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qt(e.target),readTime:t,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function ph(r){const e=Wn({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?wl(e,e.limit,"L"):e}function df(r,e){return new uf(e.largestBatchId,Qe(r.re,e.overlayMutation))}function fd(r,e){const t=e.path.lastSegment();return[r,sr(e.path.popLast()),t]}function Jp(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:hc(o.readTime),documentKey:sr(o.documentKey.path),largestBatchId:o.largestBatchId}}class Xp{getBundleMetadata(e,t){return hf(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:$u(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return hf(e).put({bundleId:(o=t).id,createTime:hc(rs(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return ff(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:ph(u.bundledQuery),readTime:$u(u.readTime)};var u})}saveNamedQuery(e,t){return ff(e).put({name:(o=t).name,readTime:hc(rs(o.readTime)),bundledQuery:o.bundledQuery});var o}}function hf(r){return go(r,"bundles")}function ff(r){return go(r,"namedQueries")}class Gc{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Gc(e,t.uid||"")}getOverlay(e,t){return zc(e).get(fd(this.userId,t)).next(o=>o?df(this.It,o):null)}getOverlays(e,t){const o=Ss();return Et.forEach(t,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((f,_)=>{const S=new uf(t,_);u.push(this.ue(e,S))}),Et.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(_=>u.add(sr(_.getCollectionPath())));const f=[];return u.forEach(_=>{const S=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,o+1],!1,!0);f.push(zc(e).Y("collectionPathOverlayIndex",S))}),Et.waitFor(f)}getOverlaysForCollection(e,t,o){const u=Ss(),f=sr(t),_=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,Number.POSITIVE_INFINITY],!0);return zc(e).W("collectionPathOverlayIndex",_).next(S=>{for(const j of S){const Z=df(this.It,j);u.set(Z.getKey(),Z)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const f=Ss();let _;const S=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return zc(e).Z({index:"collectionGroupOverlayIndex",range:S},(j,Z,me)=>{const je=df(this.It,Z);f.size()<u||je.largestBatchId===_?(f.set(je.getKey(),je),_=je.largestBatchId):me.done()}).next(()=>f)}ue(e,t){return zc(e).put(function(o,u,f){const[_,S,j]=fd(u,f.mutation.key);return{userId:u,collectionPath:S,documentId:j,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:Te(o.re,f.mutation)}}(this.It,this.userId,t))}}function zc(r){return go(r,"documentOverlays")}class Xl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(br(e.integerValue));else if("doubleValue"in e){const o=br(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),Za(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Mr(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?ha(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):xn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const u of Object.keys(o))this._e(u,t),this.ae(o[u],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const u of o)this.ae(u,t)}ge(e,t){this.le(t,37),L.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function gh(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function pf(r){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const f=gh(255&t[u]);if(o+=f,8!==f)break}return o}(r);return Math.ceil(e/8)}Xl.Te=new Xl;class gf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=t.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=t.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const t=this.Ce(e),o=pf(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Ne(e){const t=this.Ce(e),o=pf(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(u){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,u,!1),new Uint8Array(f.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class eg{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class mf{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Tu{constructor(){this.Be=new gf,this.Le=new eg(this.Be),this.Ue=new mf(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class fc{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new fc(this.indexId,this.documentKey,this.arrayValue,o)}}function zu(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=tg(r.arrayValue,e.arrayValue),0!==t?t:(t=tg(r.directionalValue,e.directionalValue),0!==t?t:L.comparator(r.documentKey,e.documentKey)))}function tg(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class km{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=Me(e);if(void 0!==t&&!this.ze(t))return!1;const o=He(e);let u=0,f=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.je){const _=o[u];if(!this.He(this.je,_)||!this.Je(this.Ge[f++],_))return!1;++u}for(;u<o.length;++u){const _=o[u];if(f>=this.Ge.length||!this.Je(this.Ge[f++],_))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class ng{constructor(){this.Ye=new pd}addToCollectionParentIndex(e,t){return this.Ye.add(t),Et.resolve()}getCollectionParents(e,t){return Et.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return Et.resolve()}deleteFieldIndex(e,t){return Et.resolve()}getDocumentsMatchingTarget(e,t){return Et.resolve(null)}getIndexType(e,t){return Et.resolve(0)}getFieldIndexes(e,t){return Et.resolve([])}getNextCollectionGroupToUpdate(e){return Et.resolve(null)}getMinOffset(e,t){return Et.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,t){return Et.resolve(ur.min())}updateCollectionGroup(e,t,o){return Et.resolve()}updateIndexEntries(e,t){return Et.resolve()}}class pd{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new cr(D.comparator),f=!u.has(o);return this.index[t]=u.add(o),f}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new cr(D.comparator)).toArray()}}const gd=new Uint8Array(0);class Hv{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new pd,this.Ze=new rr(o=>qt(o),(o,u)=>Gn(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const f={collectionId:o,parent:sr(u)};return yf(e).put(f)}return Et.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[Oa(t),""],!1,!0);return yf(e).W(u).next(f=>{for(const _ of f){if(_.collectionId!==t)break;o.push(ss(_.parent))}return o})}addFieldIndex(e,t){const o=yd(e),u={indexId:(_=t).indexId,collectionGroup:_.collectionGroup,fields:_.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var _;delete u.indexId;const f=o.add(u);if(t.indexState){const _=vd(e);return f.next(S=>{_.put(Jp(S,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return f.next()}deleteFieldIndex(e,t){const o=yd(e),u=vd(e),f=md(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=md(e);let u=!0;const f=new Map;return Et.forEach(this.tn(t),_=>this.en(e,_).next(S=>{u&&(u=!!S),f.set(_,S)})).next(()=>{if(u){let _=Fn();const S=[];return Et.forEach(f,(j,Z)=>{var me;Qt("IndexedDbIndexManager",`Using index ${me=j,`id=${me.indexId}|cg=${me.collectionGroup}|f=${me.fields.map(Er=>`${Er.fieldPath}:${Er.kind}`).join(",")}`} to execute ${qt(t)}`);const je=function(Er,to){const kr=Me(to);if(void 0===kr)return null;for(const yr of si(Er,kr.fieldPath))switch(yr.op){case"array-contains-any":return yr.value.arrayValue.values||[];case"array-contains":return[yr.value]}return null}(Z,j),_t=function(Er,to){const kr=new Map;for(const yr of He(to))for(const yo of si(Er,yr.fieldPath))switch(yo.op){case"==":case"in":kr.set(yr.fieldPath.canonicalString(),yo.value);break;case"not-in":case"!=":return kr.set(yr.fieldPath.canonicalString(),yo.value),Array.from(kr.values())}return null}(Z,j),Gt=function(Er,to){const kr=[];let yr=!0;for(const yo of He(to)){const ud=0===yo.kind?Bn(Er,yo.fieldPath,Er.startAt):Rr(Er,yo.fieldPath,Er.startAt);kr.push(ud.value),yr&&(yr=ud.inclusive)}return new Gs(kr,yr)}(Z,j),en=function(Er,to){const kr=[];let yr=!0;for(const yo of He(to)){const ud=0===yo.kind?Rr(Er,yo.fieldPath,Er.endAt):Bn(Er,yo.fieldPath,Er.endAt);kr.push(ud.value),yr&&(yr=ud.inclusive)}return new Gs(kr,yr)}(Z,j),In=this.nn(j,Z,Gt),kn=this.nn(j,Z,en),fr=this.sn(j,Z,_t),Hr=this.rn(j.indexId,je,In,Gt.inclusive,kn,en.inclusive,fr);return Et.forEach(Hr,Er=>o.J(Er,t.limit).next(to=>{to.forEach(kr=>{const yr=L.fromSegments(kr.documentKey);_.has(yr)||(_=_.add(yr),S.push(yr))})}))}).next(()=>S)}return Et.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,u,f,_,S){const j=(null!=t?t.length:1)*Math.max(o.length,f.length),Z=j/(null!=t?t.length:1),me=[];for(let je=0;je<j;++je){const _t=t?this.on(t[je/Z]):gd,Gt=this.un(e,_t,o[je%Z],u),en=this.cn(e,_t,f[je%Z],_),In=S.map(kn=>this.un(e,_t,kn,!0));me.push(...this.createRange(Gt,en,In))}return me}un(e,t,o,u){const f=new fc(e,L.empty(),t,o);return u?f:f.Ke()}cn(e,t,o,u){const f=new fc(e,L.empty(),t,o);return u?f.Ke():f}en(e,t){const o=new km(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(f=>{let _=null;for(const S of f)o.We(S)&&(!_||S.fields.length>_.fields.length)&&(_=S);return _})}getIndexType(e,t){let o=2;return Et.forEach(this.tn(t),u=>this.en(e,u).next(f=>{f?0!==o&&f.fields.length<function(_){let S=new cr(k.comparator),j=!1;for(const Z of _.filters){const me=Z;me.field.isKeyField()||("array-contains"===me.op||"array-contains-any"===me.op?j=!0:S=S.add(me.field))}for(const Z of _.orderBy)Z.field.isKeyField()||(S=S.add(Z.field));return S.size+(j?1:0)}(u)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new Tu;for(const u of He(e)){const f=t.data.field(u.fieldPath);if(null==f)return null;const _=o.qe(u.kind);Xl.Te.ce(f,_)}return o.$e()}on(e){const t=new Tu;return Xl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new Tu;return Xl.Te.ce(Ko(this.databaseId,t),o.qe(function(u){const f=He(u);return 0===f.length?0:f[f.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let u=[];u.push(new Tu);let f=0;for(const _ of He(e)){const S=o[f++];for(const j of u)if(this.ln(t,_.fieldPath)&&Pr(S))u=this.fn(u,_,S);else{const Z=j.qe(_.kind);Xl.Te.ce(S,Z)}}return this.dn(u)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const u=[...e],f=[];for(const _ of o.arrayValue.values||[])for(const S of u){const j=new Tu;j.seed(S.$e()),Xl.Te.ce(_,j.qe(t.kind)),f.push(j)}return f}ln(e,t){return!!e.filters.find(o=>o instanceof Ki&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=yd(e),u=vd(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(f=>{const _=[];return Et.forEach(f,S=>u.get([S.indexId,this.uid]).next(j=>{_.push(function(Z,me){const je=me?new Pn(me.sequenceNumber,new ur($u(me.readTime),new L(ss(me.documentKey)),me.largestBatchId)):Pn.empty(),_t=Z.fields.map(([Gt,en])=>new Tn(k.fromServerFormat(Gt),en));return new le(Z.indexId,Z.collectionGroup,_t,je)}(S,j))})).next(()=>_)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const f=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:ti(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=yd(e),f=vd(e);return this._n(e).next(_=>u.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>Et.forEach(S,j=>f.put(Jp(j.indexId,this.user,_,o)))))}updateIndexEntries(e,t){const o=new Map;return Et.forEach(t,(u,f)=>{const _=o.get(u.collectionGroup);return(_?Et.resolve(_):this.getFieldIndexes(e,u.collectionGroup)).next(S=>(o.set(u.collectionGroup,S),Et.forEach(S,j=>this.wn(e,u,j).next(Z=>{const me=this.mn(f,j);return Z.isEqual(me)?Et.resolve():this.gn(e,f,j,Z,me)}))))})}yn(e,t,o,u){return md(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,u){return md(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const u=md(e);let f=new cr(zu);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(_,S)=>{f=f.add(new fc(o.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>f)}mn(e,t){let o=new cr(zu);const u=this.an(t,e);if(null==u)return o;const f=Me(t);if(null!=f){const _=e.data.field(f.fieldPath);if(Pr(_))for(const S of _.arrayValue.values||[])o=o.add(new fc(t.indexId,e.key,this.on(S),u))}else o=o.add(new fc(t.indexId,e.key,gd,u));return o}gn(e,t,o,u,f){Qt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const _=[];return function(S,j,Z,me,je){const _t=S.getIterator(),Gt=j.getIterator();let en=co(_t),In=co(Gt);for(;en||In;){let kn=!1,fr=!1;if(en&&In){const Hr=Z(en,In);Hr<0?fr=!0:Hr>0&&(kn=!0)}else null!=en?fr=!0:kn=!0;kn?(me(In),In=co(Gt)):fr?(je(en),en=co(_t)):(en=co(_t),In=co(Gt))}}(u,f,zu,S=>{_.push(this.yn(e,t,o,S))},S=>{_.push(this.pn(e,t,o,S))}),Et.waitFor(_)}_n(e){let t=1;return vd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,f)=>{f.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((_,S)=>zu(_,S)).filter((_,S,j)=>!S||0!==zu(_,j[S-1]));const u=[];u.push(e);for(const _ of o){const S=zu(_,e),j=zu(_,t);if(0===S)u[0]=e.Ke();else if(S>0&&j<0)u.push(_),u.push(_.Ke());else if(j>0)break}u.push(t);const f=[];for(let _=0;_<u.length;_+=2)f.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,gd,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,gd,[]]));return f}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ig)}getMinOffset(e,t){return Et.mapArray(this.tn(t),o=>this.en(e,o).next(u=>u||xn())).next(ig)}}function yf(r){return go(r,"collectionParents")}function md(r){return go(r,"indexEntries")}function yd(r){return go(r,"indexConfiguration")}function vd(r){return go(r,"indexState")}function ig(r){Nn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const u=r[o].indexState.offset;uo(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new ur(e.readTime,e.documentKey,t)}const cl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ba{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ba(e,Ba.DEFAULT_COLLECTION_PERCENTILE,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vf(r,e,t){const o=r.store("mutations"),u=r.store("documentMutations"),f=[],_=IDBKeyRange.only(t.batchId);let S=0;const j=o.Z({range:_},(me,je,_t)=>(S++,_t.delete()));f.push(j.next(()=>{Nn(1===S)}));const Z=[];for(const me of t.mutations){const je=wu(e,me.key.path,t.batchId);f.push(u.delete(je)),Z.push(me.key)}return Et.waitFor(f).next(()=>Z)}function mh(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw xn();e=r.noDocument}return JSON.stringify(e).length}Ba.DEFAULT_COLLECTION_PERCENTILE=10,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ba.DEFAULT=new Ba(41943040,Ba.DEFAULT_COLLECTION_PERCENTILE,Ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ba.DISABLED=new Ba(-1,0,0);class yh{constructor(e,t,o,u){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=u,this.In={}}static oe(e,t,o,u){Nn(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new yh(f,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wu(e).Z({index:"userMutationsIndex",range:o},(u,f,_)=>{t=!1,_.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const f=pc(e),_=Wu(e);return _.add({}).next(S=>{Nn("number"==typeof S);const j=new af(S,t,o,u),Z=function(_t,Gt,en){const In=en.baseMutations.map(fr=>Te(_t.re,fr)),kn=en.mutations.map(fr=>Te(_t.re,fr));return{userId:Gt,batchId:en.batchId,localWriteTimeMs:en.localWriteTime.toMillis(),baseMutations:In,mutations:kn}}(this.It,this.userId,j),me=[];let je=new cr((_t,Gt)=>ti(_t.canonicalString(),Gt.canonicalString()));for(const _t of u){const Gt=wu(this.userId,_t.key.path,S);je=je.add(_t.key.path.popLast()),me.push(_.put(Z)),me.push(f.put(Gt,hd))}return je.forEach(_t=>{me.push(this.indexManager.addToCollectionParentIndex(e,_t))}),e.addOnCommittedListener(()=>{this.In[S]=j.keys()}),Et.waitFor(me).next(()=>j)})}lookupMutationBatch(e,t){return Wu(e).get(t).next(o=>o?(Nn(o.userId===this.userId),Gu(this.It,o)):null)}Tn(e,t){return this.In[t]?Et.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.In[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return Wu(e).Z({index:"userMutationsIndex",range:u},(_,S,j)=>{S.userId===this.userId&&(Nn(S.batchId>=o),f=Gu(this.It,S)),j.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Wu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,f,_)=>{o=f.batchId,_.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wu(e).W("userMutationsIndex",t).next(o=>o.map(u=>Gu(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Eu(this.userId,t.path),u=IDBKeyRange.lowerBound(o),f=[];return pc(e).Z({range:u},(_,S,j)=>{const[Z,me,je]=_,_t=ss(me);if(Z===this.userId&&t.path.isEqual(_t))return Wu(e).get(je).next(Gt=>{if(!Gt)throw xn();Nn(Gt.userId===this.userId),f.push(Gu(this.It,Gt))});j.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new cr(ti);const u=[];return t.forEach(f=>{const _=Eu(this.userId,f.path),S=IDBKeyRange.lowerBound(_),j=pc(e).Z({range:S},(Z,me,je)=>{const[_t,Gt,en]=Z,In=ss(Gt);_t===this.userId&&f.path.isEqual(In)?o=o.add(en):je.done()});u.push(j)}),Et.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,f=Eu(this.userId,o),_=IDBKeyRange.lowerBound(f);let S=new cr(ti);return pc(e).Z({range:_},(j,Z,me)=>{const[je,_t,Gt]=j,en=ss(_t);je===this.userId&&o.isPrefixOf(en)?en.length===u&&(S=S.add(Gt)):me.done()}).next(()=>this.En(e,S))}En(e,t){const o=[],u=[];return t.forEach(f=>{u.push(Wu(e).get(f).next(_=>{if(null===_)throw xn();Nn(_.userId===this.userId),o.push(Gu(this.It,_))}))}),Et.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return vf(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Et.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Et.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return pc(e).Z({range:o},(f,_,S)=>{if(f[0]===this.userId){const j=ss(f[1]);u.push(j)}else S.done()}).next(()=>{Nn(0===u.length)})})}containsKey(e,t){return rg(e,this.userId,t)}Rn(e){return sg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rg(r,e,t){const o=Eu(e,t.path),u=o[1],f=IDBKeyRange.lowerBound(o);let _=!1;return pc(r).Z({range:f,X:!0},(S,j,Z)=>{const[me,je,_t]=S;me===e&&je===u&&(_=!0),Z.done()}).next(()=>_)}function Wu(r){return go(r,"mutations")}function pc(r){return go(r,"documentMutations")}function sg(r){return go(r,"mutationQueues")}class gc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new gc(0)}static vn(){return new gc(-1)}}class Lm{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new gc(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Yn.fromTimestamp(new ai(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Sn(e,u)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gi(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(Nn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let u=0;const f=[];return gi(e).Z((_,S)=>{const j=Ol(S);j.sequenceNumber<=t&&null===o.get(j.targetId)&&(u++,f.push(this.removeTargetData(e,j)))}).next(()=>Et.waitFor(f)).next(()=>u)}forEachTarget(e,t){return gi(e).Z((o,u)=>{const f=Ol(u);t(f)})}Vn(e){return _f(e).get("targetGlobalKey").next(t=>(Nn(null!==t),t))}Sn(e,t){return _f(e).put("targetGlobalKey",t)}Dn(e,t){return gi(e).put(cf(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=qt(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return gi(e).Z({range:u,index:"queryTargetsIndex"},(_,S,j)=>{const Z=Ol(S);Gn(t,Z.target)&&(f=Z,j.done())}).next(()=>f)}addMatchingKeys(e,t,o){const u=[],f=Du(e);return t.forEach(_=>{const S=sr(_.path);u.push(f.put({targetId:o,path:S})),u.push(this.referenceDelegate.addReference(e,o,_))}),Et.waitFor(u)}removeMatchingKeys(e,t,o){const u=Du(e);return Et.forEach(t,f=>{const _=sr(f.path);return Et.waitFor([u.delete([o,_]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,t){const o=Du(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=Du(e);let f=Fn();return u.Z({range:o,X:!0},(_,S,j)=>{const Z=ss(_[1]),me=new L(Z);f=f.add(me)}).next(()=>f)}containsKey(e,t){const o=sr(t.path),u=IDBKeyRange.bound([o],[Oa(o)],!1,!0);let f=0;return Du(e).Z({index:"documentTargetsIndex",X:!0,range:u},([_,S],j,Z)=>{0!==_&&(f++,Z.done())}).next(()=>f>0)}se(e,t){return gi(e).get(t).next(o=>o?Ol(o):null)}}function gi(r){return go(r,"targets")}function _f(r){return go(r,"targetGlobal")}function Du(r){return go(r,"targetDocuments")}function bf([r,e],[t,o]){const u=ti(r,t);return 0===u?ti(e,o):u}class vh{constructor(e){this.xn=e,this.buffer=new cr(bf),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();bf(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ml{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Qt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,p.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Kr(o)?Qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield js(o)}yield t.Fn(3e5)}))}}class og{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Et.resolve(Qs.at);const o=new vh(t);return this.$n.forEachTarget(e,u=>o.On(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.On(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector","Garbage collection skipped; disabled"),Et.resolve(cl)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cl):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,u,f,_,S,j,Z;const me=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(je=>(je>this.params.maximumSequenceNumbersToCollect?(Qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${je}`),u=this.params.maximumSequenceNumbersToCollect):u=je,_=Date.now(),this.nthSequenceNumber(e,u))).next(je=>(o=je,S=Date.now(),this.removeTargets(e,o,t))).next(je=>(f=je,j=Date.now(),this.removeOrphanedDocuments(e,o))).next(je=>(Z=Date.now(),ao()<=Ce.in.DEBUG&&Qt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-me}ms\n\tDetermined least recently used ${u} in `+(S-_)+`ms\n\tRemoved ${f} targets in `+(j-S)+`ms\n\tRemoved ${je} documents in `+(Z-j)+`ms\nTotal Duration: ${Z-me}ms`),Et.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:je})))}}class Fm{constructor(e,t){this.db=e,this.garbageCollector=new og(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,u)=>t(u))}addReference(e,t,o){return Wc(e,o)}removeReference(e,t,o){return Wc(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Wc(e,t)}Gn(e,t){return function(o,u){let f=!1;return sg(o).tt(_=>rg(o,_,u).next(S=>(S&&(f=!0),Et.resolve(!S)))).next(()=>f)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.Kn(e,(_,S)=>{if(S<=t){const j=this.Gn(e,_).next(Z=>{if(!Z)return f++,o.getEntry(e,_).next(()=>(o.removeEntry(_,Yn.min()),Du(e).delete([0,sr(_.path)])))});u.push(j)}}).next(()=>Et.waitFor(u)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Wc(e,t)}Kn(e,t){const o=Du(e);let u,f=Qs.at;return o.Z({index:"documentTargetsIndex"},([_,S],{path:j,sequenceNumber:Z})=>{0===_?(f!==Qs.at&&t(new L(ss(u)),f),f=Z,u=j):f=Qs.at}).next(()=>{f!==Qs.at&&t(new L(ss(u)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wc(r,e){return Du(r).put((o=r.currentSequenceNumber,{targetId:0,path:sr(e.path),sequenceNumber:o}));var o}class eu{constructor(){this.changes=new rr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,De.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Et.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ef{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Zu(e).put(o)}removeEntry(e,t,o){return Zu(e).delete(function(u,f){const _=u.path.toArray();return[_.slice(0,_.length-2),_[_.length-2],fh(f),_[_.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=De.newInvalidDocument(t);return Zu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_h(t))},(u,f)=>{o=this.jn(t,f)}).next(()=>o)}Wn(e,t){let o={size:0,document:De.newInvalidDocument(t)};return Zu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_h(t))},(u,f)=>{o={document:this.jn(t,f),size:mh(f)}}).next(()=>o)}getEntries(e,t){let o=bs();return this.zn(e,t,(u,f)=>{const _=this.jn(u,f);o=o.insert(u,_)}).next(()=>o)}Hn(e,t){let o=bs(),u=new Dr(L.comparator);return this.zn(e,t,(f,_)=>{const S=this.jn(f,_);o=o.insert(f,S),u=u.insert(f,mh(_))}).next(()=>({documents:o,Jn:u}))}zn(e,t,o){if(t.isEmpty())return Et.resolve();let u=new cr(bd);t.forEach(j=>u=u.add(j));const f=IDBKeyRange.bound(_h(u.first()),_h(u.last())),_=u.getIterator();let S=_.getNext();return Zu(e).Z({index:"documentKeyIndex",range:f},(j,Z,me)=>{const je=L.fromSegments([...Z.prefixPath,Z.collectionGroup,Z.documentId]);for(;S&&bd(S,je)<0;)o(S,null),S=_.getNext();S&&S.isEqual(je)&&(o(S,Z),S=_.hasNext()?_.getNext():null),S?me.j(_h(S)):me.done()}).next(()=>{for(;S;)o(S,null),S=_.hasNext()?_.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),fh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],f=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zu(e).W(IDBKeyRange.bound(u,f,!0)).next(_=>{let S=bs();for(const j of _){const Z=this.jn(L.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);S=S.insert(Z.key,Z)}return S})}getAllFromCollectionGroup(e,t,o,u){let f=bs();const _=_d(t,o),S=_d(t,ur.max());return Zu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,S,!0)},(j,Z,me)=>{const je=this.jn(L.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);f=f.insert(je.key,je),f.size===u&&me.done()}).next(()=>f)}newChangeBuffer(e){return new Cf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Vm(e).get("remoteDocumentGlobalKey").next(t=>(Nn(!!t),t))}Qn(e,t){return Vm(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function Qp(r,e){let t;if(e.document)t=C(r.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=L.fromSegments(e.noDocument.path),u=$u(e.noDocument.readTime);t=De.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return xn();{const o=L.fromSegments(e.unknownDocument.path),u=$u(e.unknownDocument.version);t=De.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new ai(o[0],o[1]);return Yn.fromTimestamp(u)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(Yn.min()))return o}return De.newInvalidDocument(e)}}function wf(r){return new Ef(r)}class Cf extends eu{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new rr(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new cr((f,_)=>ti(f.canonicalString(),_.canonicalString()));return this.changes.forEach((f,_)=>{const S=this.Xn.get(f);if(t.push(this.Yn.removeEntry(e,f,S.readTime)),_.isValidDocument()){const j=hh(this.Yn.It,_);u=u.add(f.path.popLast()),o+=mh(j)-S.size,t.push(this.Yn.addEntry(e,f,j))}else if(o-=S.size,this.trackRemovals){const j=hh(this.Yn.It,_.convertToNoDocument(Yn.min()));t.push(this.Yn.addEntry(e,f,j))}}),u.forEach(f=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,f))}),t.push(this.Yn.updateMetadata(e,o)),Et.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:u})=>(u.forEach((f,_)=>{this.Xn.set(f,{size:_,readTime:o.get(f).readTime})}),o))}}function Vm(r){return go(r,"remoteDocumentGlobal")}function Zu(r){return go(r,"remoteDocumentsV14")}function _h(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _d(r,e){const t=e.documentKey.path.toArray();return[r,fh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function bd(r,e){const t=r.path.toArray(),o=e.path.toArray();let u=0;for(let f=0;f<t.length-2&&f<o.length-2;++f)if(u=ti(t[f],o[f]),u)return u;return u=ti(t.length,o.length),u||(u=ti(t[t.length-2],o[o.length-2]),u||ti(t[t.length-1],o[o.length-1]))}class Tf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class bh{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.getBaseDocument(e,t,o))).next(u=>(null!==o&&al(o.mutation,u,Wo.empty(),ai.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Fn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Fn()){const u=Ss();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(f=>{let _=xo();return f.forEach((S,j)=>{_=_.insert(S,j.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const o=Ss();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Fn()))}populateOverlays(e,t,o){const u=[];return o.forEach(f=>{t.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((_,S)=>{t.set(_,S)})})}computeViews(e,t,o,u){let f=bs();const _=Dl(),S=Dl();return t.forEach((j,Z)=>{const me=o.get(Z.key);u.has(Z.key)&&(void 0===me||me.mutation instanceof y)?f=f.insert(Z.key,Z):void 0!==me&&(_.set(Z.key,me.mutation.getFieldMask()),al(me.mutation,Z,me.mutation.getFieldMask(),ai.now()))}),this.recalculateAndSaveOverlays(e,f).next(j=>(j.forEach((Z,me)=>_.set(Z,me)),t.forEach((Z,me)=>{var je;return S.set(Z,new Tf(me,null!==(je=_.get(Z))&&void 0!==je?je:null))}),S))}recalculateAndSaveOverlays(e,t){const o=Dl();let u=new Dr((_,S)=>_-S),f=Fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const S of _)S.keys().forEach(j=>{const Z=t.get(j);if(null===Z)return;let me=o.get(j)||Wo.empty();me=S.applyToLocalView(Z,me),o.set(j,me);const je=(u.get(S.batchId)||Fn()).add(j);u=u.insert(S.batchId,je)})}).next(()=>{const _=[],S=u.getReverseIterator();for(;S.hasNext();){const j=S.getNext(),Z=j.key,me=j.value,je=Tl();me.forEach(_t=>{if(!f.has(_t)){const Gt=lc(t.get(_t),o.get(_t));null!==Gt&&je.set(_t,Gt),f=f.add(_t)}}),_.push(this.documentOverlayCache.saveOverlays(e,Z,je))}return Et.waitFor(_)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return L.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Fu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(f=>{const _=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-f.size):Et.resolve(Ss());let S=-1,j=f;return _.next(Z=>Et.forEach(Z,(me,je)=>(S<je.largestBatchId&&(S=je.largestBatchId),f.get(me)?Et.resolve():this.getBaseDocument(e,me,je).next(_t=>{j=j.insert(me,_t)}))).next(()=>this.populateOverlays(e,Z,f)).next(()=>this.computeViews(e,j,Z,Fn())).next(me=>({batchId:S,changes:vu(me)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new L(t)).next(o=>{let u=xo();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let f=xo();return this.indexManager.getCollectionParents(e,u).next(_=>Et.forEach(_,S=>{const j=(Z=t,me=S.child(u),new Xs(me,null,Z.explicitOrderBy.slice(),Z.filters.slice(),Z.limit,Z.limitType,Z.startAt,Z.endAt));var Z,me;return this.getDocumentsMatchingCollectionQuery(e,j,o).next(Z=>{Z.forEach((me,je)=>{f=f.insert(me,je)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(f=>(u=f,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(f=>{f.forEach((S,j)=>{const Z=j.getKey();null===u.get(Z)&&(u=u.insert(Z,De.newInvalidDocument(Z)))});let _=xo();return u.forEach((S,j)=>{const Z=f.get(S);void 0!==Z&&al(Z.mutation,j,Wo.empty(),ai.now()),Ao(t,j)&&(_=_.insert(S,j))}),_})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):Et.resolve(De.newInvalidDocument(t))}}class Df{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Et.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:rs(o.createTime)}),Et.resolve()}getNamedQuery(e,t){return Et.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:ph(o.bundledQuery),readTime:rs(o.readTime)}),Et.resolve();var o}}class jv{constructor(){this.overlays=new Dr(L.comparator),this.es=new Map}getOverlay(e,t){return Et.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ss();return Et.forEach(t,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,f)=>{this.ue(e,t,f)}),Et.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.es.delete(o)),Et.resolve()}getOverlaysForCollection(e,t,o){const u=Ss(),f=t.length+1,_=new L(t.child("")),S=this.overlays.getIteratorFrom(_);for(;S.hasNext();){const j=S.getNext().value,Z=j.getKey();if(!t.isPrefixOf(Z.path))break;Z.path.length===f&&j.largestBatchId>o&&u.set(j.getKey(),j)}return Et.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let f=new Dr((Z,me)=>Z-me);const _=this.overlays.getIterator();for(;_.hasNext();){const Z=_.getNext().value;if(Z.getKey().getCollectionGroup()===t&&Z.largestBatchId>o){let me=f.get(Z.largestBatchId);null===me&&(me=Ss(),f=f.insert(Z.largestBatchId,me)),me.set(Z.getKey(),Z)}}const S=Ss(),j=f.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((Z,me)=>S.set(Z,me)),!(S.size()>=u)););return Et.resolve(S)}ue(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const _=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(o.key,new uf(t,o));let f=this.es.get(t);void 0===f&&(f=Fn(),this.es.set(t,f)),this.es.set(t,f.add(o.key))}}class If{constructor(){this.ns=new cr(mo.ss),this.rs=new cr(mo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new mo(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new mo(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new L(new D([])),o=new mo(t,e),u=new mo(t,e+1),f=[];return this.rs.forEachInRange([o,u],_=>{this.cs(_),f.push(_.key)}),f}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new L(new D([])),o=new mo(t,e),u=new mo(t,e+1);let f=Fn();return this.rs.forEachInRange([o,u],_=>{f=f.add(_.key)}),f}containsKey(e){const t=new mo(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class mo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return L.comparator(e.key,t.key)||ti(e._s,t._s)}static os(e,t){return ti(e._s,t._s)||L.comparator(e.key,t.key)}}class Um{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new cr(mo.ss)}checkEmpty(e){return Et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const f=this.ws;this.ws++;const _=new af(f,t,o,u);this.mutationQueue.push(_);for(const S of u)this.gs=this.gs.add(new mo(S.key,f)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return Et.resolve(_)}lookupMutationBatch(e,t){return Et.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),f=u<0?0:u;return Et.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Et.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new mo(t,0),u=new mo(t,Number.POSITIVE_INFINITY),f=[];return this.gs.forEachInRange([o,u],_=>{const S=this.ys(_._s);f.push(S)}),Et.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new cr(ti);return t.forEach(u=>{const f=new mo(u,0),_=new mo(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([f,_],S=>{o=o.add(S._s)})}),Et.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let f=o;L.isDocumentKey(f)||(f=f.child(""));const _=new mo(new L(f),0);let S=new cr(ti);return this.gs.forEachWhile(j=>{const Z=j.key.path;return!!o.isPrefixOf(Z)&&(Z.length===u&&(S=S.add(j._s)),!0)},_),Et.resolve(this.Is(S))}Is(e){const t=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){Nn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return Et.forEach(t.mutations,u=>{const f=new mo(u.key,t.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new mo(t,0),u=this.gs.firstAfterOrEqual(o);return Et.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return Et.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Bm{constructor(e){this.Es=e,this.docs=new Dr(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),f=u?u.size:0,_=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:_}),this.size+=_-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Et.resolve(o?o.document.mutableCopy():De.newInvalidDocument(t))}getEntries(e,t){let o=bs();return t.forEach(u=>{const f=this.docs.get(u);o=o.insert(u,f?f.document.mutableCopy():De.newInvalidDocument(u))}),Et.resolve(o)}getAllFromCollection(e,t,o){let u=bs();const f=new L(t.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:S,value:{document:j}}=_.getNext();if(!t.isPrefixOf(S.path))break;S.path.length>t.length+1||uo(Oi(j),o)<=0||(u=u.insert(j.key,j.mutableCopy()))}return Et.resolve(u)}getAllFromCollectionGroup(e,t,o,u){xn()}As(e,t){return Et.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new ag(this)}getSize(e){return Et.resolve(this.size)}}class ag extends eu{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),Et.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class $v{constructor(e){this.persistence=e,this.Rs=new rr(t=>qt(t),Gn),this.lastRemoteSnapshotVersion=Yn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new If,this.targetCount=0,this.vs=gc.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,u)=>t(u)),Et.resolve()}getLastRemoteSnapshotVersion(e){return Et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Et.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),Et.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new gc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Et.resolve()}updateTargetData(e,t){return this.Dn(t),Et.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Et.resolve()}removeTargets(e,t,o){let u=0;const f=[];return this.Rs.forEach((_,S)=>{S.sequenceNumber<=t&&null===o.get(S.targetId)&&(this.Rs.delete(_),f.push(this.removeMatchingKeysForTargetId(e,S.targetId)),u++)}),Et.waitFor(f).next(()=>u)}getTargetCount(e){return Et.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return Et.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),Et.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const u=this.persistence.referenceDelegate,f=[];return u&&t.forEach(_=>{f.push(u.markPotentiallyOrphaned(e,_))}),Et.waitFor(f)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Et.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return Et.resolve(o)}containsKey(e,t){return Et.resolve(this.Ps.containsKey(t))}}class lg{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Qs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new $v(this),this.indexManager=new ng,this.remoteDocumentCache=new Bm(o=>this.referenceDelegate.xs(o)),this.It=new dh(t),this.Ns=new Df(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Um(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Qt("MemoryPersistence","Starting transaction:",e);const u=new Gv(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(f=>this.referenceDelegate.Os(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Ms(e,t){return Et.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Gv extends qs{constructor(e){super(),this.currentSequenceNumber=e}}class Ed{constructor(e){this.persistence=e,this.Fs=new If,this.$s=null}static Bs(e){return new Ed(e)}get Ls(){if(this.$s)return this.$s;throw xn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),Et.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),Et.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Et.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(f=>this.Ls.add(f.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Et.forEach(this.Ls,o=>{const u=L.fromPath(o);return this.Us(e,u).next(f=>{f||t.removeEntry(u,Yn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return Et.or([()=>Et.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class ug{constructor(e){this.It=e}$(e,t,o,u){const f=new is("createOrUpgrade",t);var S;o<1&&u>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Va,{unique:!0}),S.createObjectStore("documentMutations"),cg(e),function(S){S.createObjectStore("remoteDocuments")}(e));let _=Et.resolve();return o<3&&u>=3&&(0!==o&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),cg(e)),_=_.next(()=>function(S){const j=S.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Yn.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",Z)}(f))),o<4&&u>=4&&(0!==o&&(_=_.next(()=>function(S,j){return j.store("mutations").W().next(Z=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Va,{unique:!0});const me=j.store("mutations"),je=Z.map(_t=>me.put(_t));return Et.waitFor(je)})}(e,f))),_=_.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(_=_.next(()=>this.qs(f))),o<6&&u>=6&&(_=_.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(f)))),o<7&&u>=7&&(_=_.next(()=>this.Gs(f))),o<8&&u>=8&&(_=_.next(()=>this.Qs(e,f))),o<9&&u>=9&&(_=_.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(_=_.next(()=>this.js(f))),o<11&&u>=11&&(_=_.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(_=_.next(()=>{!function(S){const j=S.createObjectStore("documentOverlays",{keyPath:uh});j.createIndex("collectionPathOverlayIndex",ea,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",Ua,{unique:!1})}(e)})),o<13&&u>=13&&(_=_.next(()=>function(S){const j=S.createObjectStore("remoteDocumentsV14",{keyPath:sf});j.createIndex("documentKeyIndex",Rn),j.createIndex("collectionGroupIndex",Qn)}(e)).next(()=>this.Ws(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(_=_.next(()=>this.zs(e,f))),o<15&&u>=15&&(_=_.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:Xo}).createIndex("sequenceNumberIndex",xl,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:Ur}).createIndex("documentKeyIndex",jc,{unique:!1})}(e))),_}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,u)=>{t+=mh(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(u=>Et.forEach(u,f=>{const _=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",_).next(S=>Et.forEach(S,j=>{Nn(j.userId===f.userId);const Z=Gu(this.It,j);return vf(e,f.userId,Z).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return o.Z((_,S)=>{const j=new D(_),Z=[0,sr(j)];f.push(t.get(Z).next(me=>me?Et.resolve():t.put({targetId:0,path:sr(j),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Et.waitFor(f))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Jo});const o=t.store("collectionParents"),u=new pd,f=_=>{if(u.add(_)){const S=_.lastSegment(),j=_.popLast();return o.put({collectionId:S,parent:sr(j)})}};return t.store("remoteDocuments").Z({X:!0},(_,S)=>{const j=new D(_);return f(j.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([_,S,j],Z)=>{const me=ss(S);return f(me.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,u)=>{const f=Ol(u),_=cf(this.It,f);return t.put(_)})}Ws(e,t){const o=t.store("remoteDocuments"),u=[];return o.Z((f,_)=>{const S=t.store("remoteDocumentsV14"),j=(Z=_,Z.document?new L(D.fromString(Z.document.name).popFirst(5)):Z.noDocument?L.fromSegments(Z.noDocument.path):Z.unknownDocument?L.fromSegments(Z.unknownDocument.path):xn()).path.toArray();var Z;const me={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};u.push(S.put(me))}).next(()=>Et.waitFor(u))}zs(e,t){const o=t.store("mutations"),u=wf(this.It),f=new lg(Ed.Bs,this.It.re);return o.W().next(_=>{const S=new Map;return _.forEach(j=>{var Z;let me=null!==(Z=S.get(j.userId))&&void 0!==Z?Z:Fn();Gu(this.It,j).keys().forEach(je=>me=me.add(je)),S.set(j.userId,me)}),Et.forEach(S,(j,Z)=>{const me=new $i(Z),je=Gc.oe(this.It,me),_t=f.getIndexManager(me),Gt=yh.oe(me,this.It,_t,f.referenceDelegate);return new bh(u,Gt,je,_t).recalculateAndSaveOverlaysForDocumentKeys(new of(t,Qs.at),j).next()})})}}function cg(r){r.createObjectStore("targetDocuments",{keyPath:er}).createIndex("documentTargetsIndex",Rs,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",oi,{unique:!0}),r.createObjectStore("targetGlobal")}const wd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dg{constructor(e,t,o,u,f,_,S,j,Z,me,je=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=f,this.window=_,this.document=S,this.Js=Z,this.Ys=me,this.Xs=je,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=_t=>Promise.resolve(),!dg.C())throw new $t(Dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fm(this,u),this.ii=t+"main",this.It=new dh(j),this.ri=new Ys(this.ii,this.Xs,new ug(this.It)),this.Cs=new Lm(this.referenceDelegate,this.It),this.remoteDocumentCache=wf(this.It),this.Ns=new Xp,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===me&&Ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $t(Dt.FAILED_PRECONDITION,wd);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Qs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,p.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,p.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,p.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Af(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Kr(e))return Qt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Eh(e).get("owner").next(t=>Et.resolve(this.mi(t)))}gi(e){return Af(e).delete(this.clientId)}yi(){var e=this;return(0,p.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=go(o,"clientMetadata");return u.W().next(f=>{const _=e.Ii(f,18e5),S=f.filter(j=>-1===_.indexOf(j));return Et.forEach(S,j=>u.delete(j.clientId)).next(()=>S)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Et.resolve(!0):Eh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new $t(Dt.FAILED_PRECONDITION,wd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Af(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>{if(this.clientId!==u.clientId){const _=!this.inForeground&&u.inForeground,S=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||_&&S)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Qt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,p.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new of(t,Qs.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Af(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return yh.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Hv(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Gc.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Qt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",f=15===(_=this.Xs)?Nm:14===_?ch:13===_?$c:12===_?Jl:11===_?Ja:void xn();var _;let S;return this.ri.runTransaction(e,u,f,j=>(S=new of(j,this.Ss?this.Ss.next():Qs.at),"readwrite-primary"===t?this.fi(S).next(Z=>!!Z||this.di(S)).next(Z=>{if(!Z)throw Ji(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new $t(Dt.FAILED_PRECONDITION,zo);return o(S)}).next(Z=>this.wi(S).next(()=>Z)):this.Vi(S).next(()=>o(S)))).then(j=>(S.raiseOnCommittedEvent(),j))}Vi(e){return Eh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new $t(Dt.FAILED_PRECONDITION,wd)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Eh(e).put("owner",t)}static C(){return Ys.C()}_i(e){const t=Eh(e);return t.get("owner").next(o=>this.mi(o)?(Qt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Et.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Ji(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ve.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Qt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ji("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ji("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Eh(r){return go(r,"owner")}function Af(r){return go(r,"clientMetadata")}function hg(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class fg{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=u}static Ci(e,t){let o=Fn(),u=Fn();for(const f of t.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new fg(e,t.fromCache,o,u)}}class Hm{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.ki(e,t).next(f=>f||this.Oi(e,t,u,o)).next(f=>f||this.Mi(e,t))}ki(e,t){if(Lu(t))return Et.resolve(null);let o=zs(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=wl(t,null,"F"),o=zs(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(f=>{const _=Fn(...f);return this.Ni.getDocuments(e,_).next(S=>this.indexManager.getMinOffset(e,o).next(j=>{const Z=this.Fi(t,S);return this.$i(t,Z,_,j.readTime)?this.ki(e,wl(t,null,"F")):this.Bi(e,Z,t,j)}))})))}Oi(e,t,o,u){return Lu(t)||u.isEqual(Yn.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(f=>{const _=this.Fi(t,f);return this.$i(t,_,o,u)?this.Mi(e,t):(ao()<=Ce.in.DEBUG&&Qt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Vu(t)),this.Bi(e,_,t,Ci(u,-1)))})}Fi(e,t){let o=new cr(qa(e));return t.forEach((u,f)=>{Ao(e,f)&&(o=o.add(f))}),o}$i(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const f="F"===e.limitType?t.last():t.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Mi(e,t){return ao()<=Ce.in.DEBUG&&Qt("QueryEngine","Using full collection scan to execute query:",Vu(t)),this.Ni.getDocumentsMatchingQuery(e,t,ur.min())}Bi(e,t,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(f=>(t.forEach(_=>{f=f.insert(_.key,_)}),f))}}class zv{constructor(e,t,o,u){this.persistence=e,this.Li=t,this.It=u,this.Ui=new Dr(ti),this.qi=new rr(f=>qt(f),Gn),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bh(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function jm(r,e,t,o){return new zv(r,e,t,o)}function $m(r,e){return pg.apply(this,arguments)}function pg(){return pg=(0,p.Z)(function*(r,e){const t=hn(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(f=>(u=f,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(f=>{const _=[],S=[];let j=Fn();for(const Z of u){_.push(Z.batchId);for(const me of Z.mutations)j=j.add(me.key)}for(const Z of f){S.push(Z.batchId);for(const me of Z.mutations)j=j.add(me.key)}return t.localDocuments.getDocuments(o,j).next(Z=>({ji:Z,removedBatchIds:_,addedBatchIds:S}))})})}),pg.apply(this,arguments)}function Ku(r,e){const t=hn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),f=t.Gi.newChangeBuffer({trackRemovals:!0});return function(_,S,j,Z){const me=j.batch,je=me.keys();let _t=Et.resolve();return je.forEach(Gt=>{_t=_t.next(()=>Z.getEntry(S,Gt)).next(en=>{const In=j.docVersions.get(Gt);Nn(null!==In),en.version.compareTo(In)<0&&(me.applyToRemoteDocument(en,j),en.isValidDocument()&&(en.setReadTime(j.commitVersion),Z.addEntry(en)))})}),_t.next(()=>_.mutationQueue.removeMutationBatch(S,me))}(t,o,e,f).next(()=>f.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(_){let S=Fn();for(let j=0;j<_.mutationResults.length;++j)_.mutationResults[j].transformResults.length>0&&(S=S.add(_.batch.mutations[j].key));return S}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function wh(r){const e=hn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Gm(r,e){const t=hn(r),o=e.snapshotVersion;let u=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const _=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.Ui;const S=[];e.targetChanges.forEach((me,je)=>{const _t=u.get(je);if(!_t)return;S.push(t.Cs.removeMatchingKeys(f,me.removedDocuments,je).next(()=>t.Cs.addMatchingKeys(f,me.addedDocuments,je)));let Gt=_t.withSequenceNumber(f.currentSequenceNumber);var en,In,kn;e.targetMismatches.has(je)?Gt=Gt.withResumeToken(Vr.EMPTY_BYTE_STRING,Yn.min()).withLastLimboFreeSnapshotVersion(Yn.min()):me.resumeToken.approximateByteSize()>0&&(Gt=Gt.withResumeToken(me.resumeToken,o)),u=u.insert(je,Gt),In=Gt,kn=me,(0===(en=_t).resumeToken.approximateByteSize()||In.snapshotVersion.toMicroseconds()-en.snapshotVersion.toMicroseconds()>=3e8||kn.addedDocuments.size+kn.modifiedDocuments.size+kn.removedDocuments.size>0)&&S.push(t.Cs.updateTargetData(f,Gt))});let j=bs(),Z=Fn();if(e.documentUpdates.forEach(me=>{e.resolvedLimboDocuments.has(me)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(f,me))}),S.push(Sf(f,_,e.documentUpdates).next(me=>{j=me.Wi,Z=me.zi})),!o.isEqual(Yn.min())){const me=t.Cs.getLastRemoteSnapshotVersion(f).next(je=>t.Cs.setTargetsMetadata(f,f.currentSequenceNumber,o));S.push(me)}return Et.waitFor(S).next(()=>_.apply(f)).next(()=>t.localDocuments.getLocalViewOfDocuments(f,j,Z)).next(()=>j)}).then(f=>(t.Ui=u,f))}function Sf(r,e,t){let o=Fn(),u=Fn();return t.forEach(f=>o=o.add(f)),e.getEntries(r,o).next(f=>{let _=bs();return t.forEach((S,j)=>{const Z=f.get(S);j.isFoundDocument()!==Z.isFoundDocument()&&(u=u.add(S)),j.isNoDocument()&&j.version.isEqual(Yn.min())?(e.removeEntry(S,j.readTime),_=_.insert(S,j)):!Z.isValidDocument()||j.version.compareTo(Z.version)>0||0===j.version.compareTo(Z.version)&&Z.hasPendingWrites?(e.addEntry(j),_=_.insert(S,j)):Qt("LocalStore","Ignoring outdated watch update for ",S,". Current version:",Z.version," Watch version:",j.version)}),{Wi:_,zi:u}})}function xf(r,e){const t=hn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function mc(r,e){const t=hn(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Cs.getTargetData(o,e).next(f=>f?(u=f,Et.resolve(u)):t.Cs.allocateTargetId(o).next(_=>(u=new Cu(e,_,0,o.currentSequenceNumber),t.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function qu(r,e,t){return Of.apply(this,arguments)}function Of(){return Of=(0,p.Z)(function*(r,e,t){const o=hn(r),u=o.Ui.get(e),f=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",f,_=>o.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!Kr(_))throw _;Qt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),Of.apply(this,arguments)}function Pl(r,e,t){const o=hn(r);let u=Yn.min(),f=Fn();return o.persistence.runTransaction("Execute query","readonly",_=>function(S,j,Z){const me=hn(S),je=me.qi.get(Z);return void 0!==je?Et.resolve(me.Ui.get(je)):me.Cs.getTargetData(j,Z)}(o,_,zs(e)).next(S=>{if(S)return u=S.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(_,S.targetId).next(j=>{f=j})}).next(()=>o.Li.getDocumentsMatchingQuery(_,e,t?u:Yn.min(),t?f:Fn())).next(S=>(Ch(o,ic(e),S),{documents:S,Hi:f})))}function Mf(r,e){const t=hn(r),o=hn(t.Cs),u=t.Ui.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",f=>o.se(f,e).next(_=>_?_.target:null))}function gg(r,e){const t=hn(r),o=t.Ki.get(e)||Yn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Gi.getAllFromCollectionGroup(u,e,Ci(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Ch(t,e,u),u))}function Ch(r,e,t){let o=r.Ki.get(e)||Yn.min();t.forEach((u,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),r.Ki.set(e,o)}function Th(){return Th=(0,p.Z)(function*(r,e,t,o){const u=hn(r);let f=Fn(),_=bs();for(const Z of t){const me=e.Ji(Z.metadata.name);Z.document&&(f=f.add(me));const je=e.Yi(Z);je.setReadTime(e.Xi(Z.metadata.readTime)),_=_.insert(me,je)}const S=u.Gi.newChangeBuffer({trackRemovals:!0}),j=yield mc(u,(Z=o,zs(pu(D.fromString(`__bundle__/docs/${Z}`)))));var Z;return u.persistence.runTransaction("Apply bundle documents","readwrite",Z=>Sf(Z,S,_).next(me=>(S.apply(Z),me)).next(me=>u.Cs.removeMatchingKeysForTargetId(Z,j.targetId).next(()=>u.Cs.addMatchingKeys(Z,f,j.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(Z,me.Wi,me.zi)).next(()=>me.Wi)))}),Th.apply(this,arguments)}function Wm(r,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,p.Z)(function*(r,e,t=Fn()){const o=yield mc(r,zs(ph(e.bundledQuery))),u=hn(r);return u.persistence.runTransaction("Save named query","readwrite",f=>{const _=rs(e.readTime);if(o.snapshotVersion.compareTo(_)>=0)return u.Ns.saveNamedQuery(f,e);const S=o.withResumeToken(Vr.EMPTY_BYTE_STRING,_);return u.Ui=u.Ui.insert(S.targetId,S),u.Cs.updateTargetData(f,S).next(()=>u.Cs.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>u.Cs.addMatchingKeys(f,t,o.targetId)).next(()=>u.Ns.saveNamedQuery(f,e))})}),Pf.apply(this,arguments)}function Zc(r,e){return`firestore_clients_${r}_${e}`}function yc(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Cd(r,e){return`firestore_targets_${r}_${e}`}class Iu{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Zi(e,t,o){const u=JSON.parse(o);let f,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(f=new $t(u.error.code,u.error.message))),_?new Iu(e,t,u.state,f):(Ji("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Au{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let u,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new $t(o.error.code,o.error.message))),f?new Au(e,o.state,u):(Ji("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Su{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,f=Il();for(let _=0;u&&_<o.activeTargetIds.length;++_)u=Hl(o.activeTargetIds[_]),f=f.add(o.activeTargetIds[_]);return u?new Su(e,f):(Ji("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Rf{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Rf(t.clientId,t.onlineState):(Ji("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Dh{constructor(){this.activeTargetIds=Il()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ih{constructor(e,t,o,u,f){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Dr(ti),this.started=!1,this.cr=[];const _=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.ar=Zc(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Dh),this.lr=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,p.Z)(function*(){const t=yield e.syncEngine.vi();for(const u of t){if(u===e.sr)continue;const f=e.getItem(Zc(e.persistenceKey,u));if(f){const _=Su.Zi(u,f);_&&(e.ur=e.ur.insert(_.clientId,_))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Cd(this.persistenceKey,e));if(o){const u=Au.Zi(e,o);u&&(t=u.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Cd(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Qt("SharedClientState","READ",e,t),t}setItem(e,t){Qt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Qt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Qt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void Ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,p.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const u=t.vr(o.key);return t.Vr(u,null)}{const u=t.Sr(o.key,o.newValue);if(u)return t.Vr(u.clientId,u)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const u=t.Dr(o.key,o.newValue);if(u)return t.Cr(u)}}else if(t._r.test(o.key)){if(null!==o.newValue){const u=t.Nr(o.key,o.newValue);if(u)return t.kr(u)}}else if(o.key===t.wr){if(null!==o.newValue){const u=t.yr(o.newValue);if(u)return t.pr(u)}}else if(o.key===t.hr){const u=function(f){let _=Qs.at;if(null!=f)try{const S=JSON.parse(f);Nn("number"==typeof S),_=S}catch(S){Ji("SharedClientState","Failed to read sequence number from WebStorage",S)}return _}(o.newValue);u!==Qs.at&&t.sequenceNumberHandler(u)}else if(o.key===t.mr){const u=t.Or(o.newValue);yield Promise.all(u.map(f=>t.syncEngine.Mr(f)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const u=new Iu(this.currentUser,e,t,o),f=yc(this.persistenceKey,this.currentUser,e);this.setItem(f,u.tr())}Er(e){const t=yc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const u=Cd(this.persistenceKey,e),f=new Au(e,t,o);this.setItem(u,f.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return Su.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),u=Number(o[1]);return Iu.Zi(new $i(void 0!==o[2]?o[2]:null),u,t)}Nr(e,t){const o=this._r.exec(e),u=Number(o[1]);return Au.Zi(u,t)}yr(e){return Rf.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,p.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Qt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),u=this.Ir(this.ur),f=this.Ir(o),_=[],S=[];return f.forEach(j=>{u.has(j)||_.push(j)}),u.forEach(j=>{f.has(j)||S.push(j)}),this.syncEngine.Br(_,S).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Il();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class Ah{constructor(){this.Lr=new Dh,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Dh,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nf{qr(e){}shutdown(){}}class kf{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Sh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zm{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class mg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,u,f){const _=this.ho(e,t);Qt("RestConnection","Sending: ",_,o);const S={};return this.lo(S,u,f),this.fo(e,_,S,o).then(j=>(Qt("RestConnection","Received: ",j),j),j=>{throw Xi("RestConnection",`${e} failed with error: `,j,"url: ",_,"request:",o),j})}_o(e,t,o,u,f,_){return this.ao(e,t,o,u,f)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ho,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,f)=>e[f]=u),o&&o.headers.forEach((u,f)=>e[f]=u)}ho(e,t){return`${this.oo}/v1/${t}:${Sh[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,u){return new Promise((f,_)=>{const S=new ja;S.setWithCredentials(!0),S.listenOnce(du.COMPLETE,()=>{var Z;try{switch(S.getLastErrorCode()){case so.NO_ERROR:const me=S.getResponseJson();Qt("Connection","XHR received:",JSON.stringify(me)),f(me);break;case so.TIMEOUT:Qt("Connection",'RPC "'+e+'" timed out'),_(new $t(Dt.DEADLINE_EXCEEDED,"Request time out"));break;case so.HTTP_ERROR:const je=S.getStatus();if(Qt("Connection",'RPC "'+e+'" failed with status:',je,"response text:",S.getResponseText()),je>0){let _t=S.getResponseJson();Array.isArray(_t)&&(_t=_t[0]);const Gt=null===(Z=_t)||void 0===Z?void 0:Z.error;if(Gt&&Gt.status&&Gt.message){const en=function(In){const kn=In.toLowerCase().replace(/_/g,"-");return Object.values(Dt).indexOf(kn)>=0?kn:Dt.UNKNOWN}(Gt.status);_(new $t(en,Gt.message))}else _(new $t(Dt.UNKNOWN,"Server responded with status "+S.getStatus()))}else _(new $t(Dt.UNAVAILABLE,"Connection failed."));break;default:xn()}}finally{Qt("Connection",'RPC "'+e+'" completed.')}});const j=JSON.stringify(u);S.send(t,"POST",j,o,15)})}wo(e,t,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Bo(),_=Ia(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(S.xmlHttpFactory=new Aa({})),this.lo(S.initMessageHeaders,t,o),S.encodeInitMessageHeaders=!0;const j=u.join("");Qt("Connection","Creating WebChannel: "+j,S);const Z=f.createWebChannel(j,S);let me=!1,je=!1;const _t=new Zm({Hr:en=>{je?Qt("Connection","Not sending because WebChannel is closed:",en):(me||(Qt("Connection","Opening WebChannel transport."),Z.open(),me=!0),Qt("Connection","WebChannel sending:",en),Z.send(en))},Jr:()=>Z.close()}),Gt=(en,In,kn)=>{en.listen(In,fr=>{try{kn(fr)}catch(Hr){setTimeout(()=>{throw Hr},0)}})};return Gt(Z,ir.EventType.OPEN,()=>{je||Qt("Connection","WebChannel transport opened.")}),Gt(Z,ir.EventType.CLOSE,()=>{je||(je=!0,Qt("Connection","WebChannel transport closed"),_t.io())}),Gt(Z,ir.EventType.ERROR,en=>{je||(je=!0,Xi("Connection","WebChannel transport errored:",en),_t.io(new $t(Dt.UNAVAILABLE,"The operation could not be completed")))}),Gt(Z,ir.EventType.MESSAGE,en=>{var In;if(!je){const kn=en.data[0];Nn(!!kn);const fr=kn,Hr=fr.error||(null===(In=fr[0])||void 0===In?void 0:In.error);if(Hr){Qt("Connection","WebChannel received error:",Hr);const Er=Hr.status;let to=function(yr){const yo=cn[yr];if(void 0!==yo)return dr(yo)}(Er),kr=Hr.message;void 0===to&&(to=Dt.INTERNAL,kr="Unknown error status: "+Er+" with message "+Hr.message),je=!0,_t.io(new $t(to,kr)),Z.close()}else Qt("Connection","WebChannel received:",kn),_t.ro(kn)}}),Gt(_,nl.STAT_EVENT,en=>{en.stat===fs.PROXY?Qt("Connection","Detected buffering proxy"):en.stat===fs.NOPROXY&&Qt("Connection","Detected no buffering proxy")}),setTimeout(()=>{_t.so()},0),_t}}function Km(){return"undefined"!=typeof window?window:null}function Td(){return"undefined"!=typeof document?document:null}function Kc(r){return new Hc(r,!0)}class Lf{constructor(e,t,o=1e3,u=1.5,f=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=u,this.po=f,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-o);u>0&&Qt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Ff{constructor(e,t,o,u,f,_,S,j){this.Hs=e,this.vo=o,this.Vo=u,this.connection=f,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=S,this.listener=j,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Lf(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,p.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,p.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,p.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===Dt.RESOURCE_EXHAUSTED?(Ji(t.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===Dt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===t&&this.Go(o,u)},o=>{e(()=>{const u=new $t(Dt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,p.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Qt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qm extends Ff{constructor(e,t,o,u,f,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,_),this.It=f}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function oe(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:xn(),u=e.targetChange.targetIds||[],f=function(j,Z){return j.gt?(Nn(void 0===Z||"string"==typeof Z),Vr.fromBase64String(Z||"")):(Nn(void 0===Z||Z instanceof Uint8Array),Vr.fromUint8Array(Z||new Uint8Array))}(r,e.targetChange.resumeToken),_=e.targetChange.cause,S=_&&function(j){const Z=void 0===j.code?Dt.UNKNOWN:dr(j.code);return new $t(Z,j.message||"")}(_);t=new rh(o,u,f,S||null)}else if("documentChange"in e){const o=e.documentChange,u=Qa(r,o.document.name),f=rs(o.document.updateTime),_=new U({mapValue:{fields:o.document.fields}}),S=De.newFoundDocument(u,f,_);t=new _u(o.targetIds||[],o.removedTargetIds||[],S.key,S)}else if("documentDelete"in e){const o=e.documentDelete,u=Qa(r,o.document),f=o.readTime?rs(o.readTime):Yn.min(),_=De.newNoDocument(u,f);t=new _u([],o.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const o=e.documentRemove,u=Qa(r,o.document);t=new _u([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return xn();{const o=e.filter,f=new jt(o.count||0);t=new cd(o.targetId,f)}}var j;return t}(this.It,e),o=function(u){if(!("targetChange"in u))return Yn.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Yn.min():f.readTime?rs(f.readTime):Yn.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=c(this.It),t.addTarget=function(u,f){let _;const S=f.target;return _=ri(S)?{documents:Xt(u,S)}:{query:_n(u,S)},_.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?_.resumeToken=dd(u,f.resumeToken):f.snapshotVersion.compareTo(Yn.min())>0&&(_.readTime=bu(u,f.snapshotVersion.toTimestamp())),_}(this.It,e);const o=function pi(r,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=c(this.It),t.removeTarget=e,this.Bo(t)}}class Ym extends Ff{constructor(e,t,o,u,f,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,_),this.It=f,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Nn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Ct(r,e){return r&&r.length>0?(Nn(void 0!==e),r.map(t=>function(o,u){let f=rs(o.updateTime?o.updateTime:u);return f.isEqual(Yn.min())&&(f=rs(u)),new ac(f,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=rs(e.commitTime);return this.listener.Zo(o,t)}return Nn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=c(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Te(this.It,o))};this.Bo(t)}}class Xa extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.It=u,this.nu=!1}su(){if(this.nu)throw new $t(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.ao(e,t,o,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new $t(Dt.UNKNOWN,u.toString())})}_o(e,t,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,_])=>this.connection._o(e,t,o,f,_,u)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new $t(Dt.UNKNOWN,f.toString())})}terminate(){this.nu=!0}}class Wv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ji(t),this.ou=!1):Qt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Zv{constructor(e,t,o,u,f){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=f,this.mu.qr(S=>{o.enqueueAndForget((0,p.Z)(function*(){var j;tu(_)&&(Qt("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,p.Z)(function*(Z){const me=hn(Z);me._u.add(4),yield Yc(me),me.gu.set("Unknown"),me._u.delete(4),yield qc(me)}),function(Z){return j.apply(this,arguments)})(_))}))}),this.gu=new Wv(o,u)}}function qc(r){return yg.apply(this,arguments)}function yg(){return yg=(0,p.Z)(function*(r){if(tu(r))for(const e of r.wu)yield e(!0)}),yg.apply(this,arguments)}function Yc(r){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,p.Z)(function*(r){for(const e of r.wu)yield e(!1)}),Dd.apply(this,arguments)}function Id(r,e){const t=hn(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Bf(t)?xh(t):_c(t).ko()&&Uf(t,e))}function Ad(r,e){const t=hn(r),o=_c(t);t.du.delete(e),o.ko()&&vg(t,e),0===t.du.size&&(o.ko()?o.Fo():tu(t)&&t.gu.set("Unknown"))}function Uf(r,e){r.yu.Mt(e.targetId),_c(r).zo(e)}function vg(r,e){r.yu.Mt(e),_c(r).Ho(e)}function xh(r){r.yu=new rf({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),_c(r).start(),r.gu.uu()}function Bf(r){return tu(r)&&!_c(r).No()&&r.du.size>0}function tu(r){return 0===hn(r)._u.size}function _g(r){r.yu=void 0}function Jm(r){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,p.Z)(function*(r){r.du.forEach((e,t)=>{Uf(r,e)})}),Oh.apply(this,arguments)}function bg(r,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,p.Z)(function*(r,e){_g(r),Bf(r)?(r.gu.hu(e),xh(r)):r.gu.set("Unknown")}),Hf.apply(this,arguments)}function nu(r,e,t){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,p.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof rh&&2===e.state&&e.cause)try{yield(o=(0,p.Z)(function*(u,f){const _=f.cause;for(const S of f.targetIds)u.du.has(S)&&(yield u.remoteSyncer.rejectListen(S,_),u.du.delete(S),u.yu.removeTarget(S))}),function(u,f){return o.apply(this,arguments)})(r,e)}catch(o){Qt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Mh(r,o)}else if(e instanceof _u?r.yu.Gt(e):e instanceof cd?r.yu.Yt(e):r.yu.Wt(e),!t.isEqual(Yn.min()))try{const o=yield wh(r.localStore);t.compareTo(o)>=0&&(yield function(u,f){const _=u.yu.te(f);return _.targetChanges.forEach((S,j)=>{if(S.resumeToken.approximateByteSize()>0){const Z=u.du.get(j);Z&&u.du.set(j,Z.withResumeToken(S.resumeToken,f))}}),_.targetMismatches.forEach(S=>{const j=u.du.get(S);if(!j)return;u.du.set(S,j.withResumeToken(Vr.EMPTY_BYTE_STRING,j.snapshotVersion)),vg(u,S);const Z=new Cu(j.target,S,1,j.sequenceNumber);Uf(u,Z)}),u.remoteSyncer.applyRemoteEvent(_)}(r,t))}catch(o){Qt("RemoteStore","Failed to raise snapshot:",o),yield Mh(r,o)}var o}),Sd.apply(this,arguments)}function Mh(r,e,t){return jf.apply(this,arguments)}function jf(){return jf=(0,p.Z)(function*(r,e,t){if(!Kr(e))throw e;r._u.add(1),yield Yc(r),r.gu.set("Offline"),t||(t=()=>wh(r.localStore)),r.asyncQueue.enqueueRetryable((0,p.Z)(function*(){Qt("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield qc(r)}))}),jf.apply(this,arguments)}function Xm(r,e){return e().catch(t=>Mh(r,t,e))}function vc(r){return $f.apply(this,arguments)}function $f(){return $f=(0,p.Z)(function*(r){const e=hn(r),t=xu(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;ey(e);)try{const u=yield xf(e.localStore,o);if(null===u){0===e.fu.length&&t.Fo();break}o=u.batchId,ty(e,u)}catch(u){yield Mh(e,u)}Ph(e)&&Eg(e)}),$f.apply(this,arguments)}function ey(r){return tu(r)&&r.fu.length<10}function ty(r,e){r.fu.push(e);const t=xu(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Ph(r){return tu(r)&&!xu(r).No()&&r.fu.length>0}function Eg(r){xu(r).start()}function ny(r){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,p.Z)(function*(r){xu(r).eu()}),Qc.apply(this,arguments)}function Gf(r){return zf.apply(this,arguments)}function zf(){return zf=(0,p.Z)(function*(r){const e=xu(r);for(const t of r.fu)e.Xo(t.mutations)}),zf.apply(this,arguments)}function Wf(r,e,t){return xd.apply(this,arguments)}function xd(){return xd=(0,p.Z)(function*(r,e,t){const o=r.fu.shift(),u=lf.from(o,e,t);yield Xm(r,()=>r.remoteSyncer.applySuccessfulWrite(u)),yield vc(r)}),xd.apply(this,arguments)}function wg(r,e){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,p.Z)(function*(r,e){var t;e&&xu(r).Yo&&(yield(t=(0,p.Z)(function*(o,u){if(li(f=u.code)&&f!==Dt.ABORTED){const _=o.fu.shift();xu(o).Mo(),yield Xm(o,()=>o.remoteSyncer.rejectFailedWrite(_.batchId,u)),yield vc(o)}var f}),function(o,u){return t.apply(this,arguments)})(r,e)),Ph(r)&&Eg(r)}),Cg.apply(this,arguments)}function iy(r,e){return Od.apply(this,arguments)}function Od(){return Od=(0,p.Z)(function*(r,e){const t=hn(r);t.asyncQueue.verifyOperationInProgress(),Qt("RemoteStore","RemoteStore received new credentials");const o=tu(t);t._u.add(3),yield Yc(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield qc(t)}),Od.apply(this,arguments)}function Tg(r,e){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,p.Z)(function*(r,e){const t=hn(r);e?(t._u.delete(2),yield qc(t)):e||(t._u.add(2),yield Yc(t),t.gu.set("Unknown"))}),Zf.apply(this,arguments)}function _c(r){return r.pu||(r.pu=function(e,t,o){const u=hn(e);return u.su(),new qm(t,u.connection,u.authCredentials,u.appCheckCredentials,u.It,o)}(r.datastore,r.asyncQueue,{Yr:Jm.bind(null,r),Zr:bg.bind(null,r),Wo:nu.bind(null,r)}),r.wu.push(function(){var e=(0,p.Z)(function*(t){t?(r.pu.Mo(),Bf(r)?xh(r):r.gu.set("Unknown")):(yield r.pu.stop(),_g(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function xu(r){return r.Iu||(r.Iu=function(e,t,o){const u=hn(e);return u.su(),new Ym(t,u.connection,u.authCredentials,u.appCheckCredentials,u.It,o)}(r.datastore,r.asyncQueue,{Yr:ny.bind(null,r),Zr:wg.bind(null,r),tu:Gf.bind(null,r),Zo:Wf.bind(null,r)}),r.wu.push(function(){var e=(0,p.Z)(function*(t){t?(r.Iu.Mo(),yield vc(r)):(yield r.Iu.stop(),r.fu.length>0&&(Qt("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class Rh{constructor(e,t,o,u,f){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,o,u,f){const _=Date.now()+o,S=new Rh(e,t,_,u,f);return S.start(o),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $t(Dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bc(r,e){if(Ji("AsyncQueue",`${e}: ${r}`),Kr(r))return new $t(Dt.UNAVAILABLE,`${e}: ${r}`);throw r}class Ec{constructor(e){this.comparator=e?(t,o)=>e(t,o)||L.comparator(t.key,o.key):(t,o)=>L.comparator(t.key,o.key),this.keyedMap=xo(),this.sortedSet=new Dr(this.comparator)}static emptySet(e){return new Ec(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ec)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Ec;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class iu{constructor(){this.Tu=new Dr(L.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):xn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Ou{constructor(e,t,o,u,f,_,S,j,Z){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=_,this.syncStateChanged=S,this.excludesMetadataChanges=j,this.hasCachedResults=Z}static fromInitialDocuments(e,t,o,u,f){const _=[];return t.forEach(S=>{_.push({type:0,doc:S})}),new Ou(e,t,Ec.emptySet(t),_,o,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class ry{constructor(){this.Au=void 0,this.listeners=[]}}class sy{constructor(){this.queries=new rr(e=>zl(e),Cl),this.onlineState="Unknown",this.Ru=new Set}}function Dg(r,e){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,p.Z)(function*(r,e){const t=hn(r),o=e.query;let u=!1,f=t.queries.get(o);if(f||(u=!0,f=new ry),u)try{f.Au=yield t.onListen(o)}catch(_){const S=bc(_,`Initialization of query '${Vu(e.query)}' failed`);return void e.onError(S)}t.queries.set(o,f),f.listeners.push(e),e.bu(t.onlineState),f.Au&&e.Pu(f.Au)&&Rd(t)}),Jc.apply(this,arguments)}function Nh(r,e){return Md.apply(this,arguments)}function Md(){return Md=(0,p.Z)(function*(r,e){const t=hn(r),o=e.query;let u=!1;const f=t.queries.get(o);if(f){const _=f.listeners.indexOf(e);_>=0&&(f.listeners.splice(_,1),u=0===f.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),Md.apply(this,arguments)}function Pd(r,e){const t=hn(r);let o=!1;for(const u of e){const _=t.queries.get(u.query);if(_){for(const S of _.listeners)S.Pu(u)&&(o=!0);_.Au=u}}o&&Rd(t)}function oy(r,e,t){const o=hn(r),u=o.queries.get(e);if(u)for(const f of u.listeners)f.onError(t);o.queries.delete(e)}function Rd(r){r.Ru.forEach(e=>{e.next()})}class kh{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Ou(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Ig{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Kf{constructor(e){this.It=e}Ji(e){return Qa(this.It,e)}Yi(e){return e.metadata.exists?C(this.It,e.document,!1):De.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return rs(e)}}class ay{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Lh(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const o=D.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new Kf(this.It);for(const u of e)if(u.metadata.queries){const f=o.Ji(u.metadata.name);for(const _ of u.metadata.queries){const S=(t.get(_)||Fn()).add(f);t.set(_,S)}}return t}complete(){var e=this;return(0,p.Z)(function*(){const t=yield function zm(r,e,t,o){return Th.apply(this,arguments)}(e.localStore,new Kf(e.It),e.documents,e.Mu.id),o=e.$u(e.documents);for(const u of e.queries)yield Wm(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Lh(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Ag{constructor(e){this.key=e}}class Sg{constructor(e){this.key=e}}class qf{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Fn(),this.mutatedKeys=Fn(),this.Gu=qa(e),this.Qu=new Ec(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new iu,u=t?t.Qu:this.Qu;let f=t?t.mutatedKeys:this.mutatedKeys,_=u,S=!1;const j="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,Z="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((me,je)=>{const _t=u.get(me),Gt=Ao(this.query,je)?je:null,en=!!_t&&this.mutatedKeys.has(_t.key),In=!!Gt&&(Gt.hasLocalMutations||this.mutatedKeys.has(Gt.key)&&Gt.hasCommittedMutations);let kn=!1;_t&&Gt?_t.data.isEqual(Gt.data)?en!==In&&(o.track({type:3,doc:Gt}),kn=!0):this.Hu(_t,Gt)||(o.track({type:2,doc:Gt}),kn=!0,(j&&this.Gu(Gt,j)>0||Z&&this.Gu(Gt,Z)<0)&&(S=!0)):!_t&&Gt?(o.track({type:0,doc:Gt}),kn=!0):_t&&!Gt&&(o.track({type:1,doc:_t}),kn=!0,(j||Z)&&(S=!0)),kn&&(Gt?(_=_.add(Gt),f=In?f.add(me):f.delete(me)):(_=_.delete(me),f=f.delete(me)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const me="F"===this.query.limitType?_.last():_.first();_=_.delete(me.key),f=f.delete(me.key),o.track({type:1,doc:me})}return{Qu:_,zu:o,$i:S,mutatedKeys:f}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const f=e.zu.Eu();f.sort((Z,me)=>function(je,_t){const Gt=en=>{switch(en){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xn()}};return Gt(je)-Gt(_t)}(Z.type,me.type)||this.Gu(Z.doc,me.doc)),this.Ju(o);const _=t?this.Yu():[],S=0===this.Ku.size&&this.current?1:0,j=S!==this.qu;return this.qu=S,0!==f.length||j?{snapshot:new Ou(this.query,e.Qu,u,f,e.mutatedKeys,0===S,j,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:_}:{Xu:_}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new iu,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Fn(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new Sg(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Ag(o))}),t}tc(e){this.Uu=e.Hi,this.Ku=Fn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ou.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Xc{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class xg{constructor(e){this.key=e,this.nc=!1}}class ly{constructor(e,t,o,u,f,_){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=_,this.sc={},this.ic=new rr(S=>zl(S),Cl),this.rc=new Map,this.oc=new Set,this.uc=new Dr(L.comparator),this.cc=new Map,this.ac=new If,this.hc={},this.lc=new Map,this.fc=gc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function uy(r,e){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,p.Z)(function*(r,e){const t=Qu(r);let o,u;const f=t.ic.get(e);if(f)o=f.targetId,t.sharedClientState.addLocalQueryTarget(o),u=f.view.ec();else{const _=yield mc(t.localStore,zs(e));t.isPrimaryClient&&Id(t.remoteStore,_);const S=t.sharedClientState.addLocalQueryTarget(_.targetId);o=_.targetId,u=yield Yf(t,e,o,"current"===S,_.resumeToken)}return u}),Yu.apply(this,arguments)}function Yf(r,e,t,o,u){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,p.Z)(function*(r,e,t,o,u){r._c=(je,_t,Gt)=>{return(en=(0,p.Z)(function*(In,kn,fr,Hr){let Er=kn.view.Wu(fr);Er.$i&&(Er=yield Pl(In.localStore,kn.query,!1).then(({documents:yr})=>kn.view.Wu(yr,Er)));const to=Hr&&Hr.targetChanges.get(kn.targetId),kr=kn.view.applyChanges(Er,In.isPrimaryClient,to);return Ld(In,kn.targetId,kr.Xu),kr.snapshot}),function(In,kn,fr,Hr){return en.apply(this,arguments)})(r,je,_t,Gt);var en};const f=yield Pl(r.localStore,e,!0),_=new qf(e,f.Hi),S=_.Wu(f.documents),j=Ql.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,u),Z=_.applyChanges(S,r.isPrimaryClient,j);Ld(r,t,Z.Xu);const me=new Xc(e,t,_);return r.ic.set(e,me),r.rc.has(t)?r.rc.get(t).push(e):r.rc.set(t,[e]),Z.snapshot}),Qf.apply(this,arguments)}function cy(r,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,p.Z)(function*(r,e){const t=hn(r),o=t.ic.get(e),u=t.rc.get(o.targetId);if(u.length>1)return t.rc.set(o.targetId,u.filter(f=>!Cl(f,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield qu(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Ad(t.remoteStore,o.targetId),kd(t,o.targetId)}).catch(js))):(kd(t,o.targetId),yield qu(t.localStore,o.targetId,!0))}),Jf.apply(this,arguments)}function Nd(){return Nd=(0,p.Z)(function*(r,e,t){const o=cp(r);try{const u=yield function(f,_){const S=hn(f),j=ai.now(),Z=_.reduce((_t,Gt)=>_t.add(Gt.key),Fn());let me,je;return S.persistence.runTransaction("Locally write mutations","readwrite",_t=>{let Gt=bs(),en=Fn();return S.Gi.getEntries(_t,Z).next(In=>{Gt=In,Gt.forEach((kn,fr)=>{fr.isValidDocument()||(en=en.add(kn))})}).next(()=>S.localDocuments.getOverlayedDocuments(_t,Gt)).next(In=>{me=In;const kn=[];for(const fr of _){const Hr=yu(fr,me.get(fr.key).overlayedDocument);null!=Hr&&kn.push(new y(fr.key,Hr,ae(Hr.value.mapValue),Nr.exists(!0)))}return S.mutationQueue.addMutationBatch(_t,j,kn,_)}).next(In=>{je=In;const kn=In.applyToLocalDocumentSet(me,en);return S.documentOverlayCache.saveOverlays(_t,In.batchId,kn)})}).then(()=>({batchId:je.batchId,changes:vu(me)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(f,_,S){let j=f.hc[f.currentUser.toKey()];j||(j=new Dr(ti)),j=j.insert(_,S),f.hc[f.currentUser.toKey()]=j}(o,u.batchId,t),yield su(o,u.changes),yield vc(o.remoteStore)}catch(u){const f=bc(u,"Failed to persist write");t.reject(f)}}),Nd.apply(this,arguments)}function Xf(r,e){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,p.Z)(function*(r,e){const t=hn(r);try{const o=yield Gm(t.localStore,e);e.targetChanges.forEach((u,f)=>{const _=t.cc.get(f);_&&(Nn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.nc=!0:u.modifiedDocuments.size>0?Nn(_.nc):u.removedDocuments.size>0&&(Nn(_.nc),_.nc=!1))}),yield su(t,o,e)}catch(o){yield js(o)}}),Fh.apply(this,arguments)}function ep(r,e,t){const o=hn(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ic.forEach((f,_)=>{const S=_.view.bu(e);S.snapshot&&u.push(S.snapshot)}),function(f,_){const S=hn(f);S.onlineState=_;let j=!1;S.queries.forEach((Z,me)=>{for(const je of me.listeners)je.bu(_)&&(j=!0)}),j&&Rd(S)}(o.eventManager,e),u.length&&o.sc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Og(r,e,t){return tp.apply(this,arguments)}function tp(){return tp=(0,p.Z)(function*(r,e,t){const o=hn(r);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.cc.get(e),f=u&&u.key;if(f){let _=new Dr(L.comparator);_=_.insert(f,De.newNoDocument(f,Yn.min()));const S=Fn().add(f),j=new Al(Yn.min(),new Map,new cr(ti),_,S);yield Xf(o,j),o.uc=o.uc.remove(f),o.cc.delete(e),Bh(o)}else yield qu(o.localStore,e,!1).then(()=>kd(o,e,t)).catch(js)}),tp.apply(this,arguments)}function dy(r,e){return np.apply(this,arguments)}function np(){return np=(0,p.Z)(function*(r,e){const t=hn(r),o=e.batch.batchId;try{const u=yield Ku(t.localStore,e);rp(t,o,null),ip(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield su(t,u)}catch(u){yield js(u)}}),np.apply(this,arguments)}function hy(r,e,t){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,p.Z)(function*(r,e,t){const o=hn(r);try{const u=yield function(f,_){const S=hn(f);return S.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let Z;return S.mutationQueue.lookupMutationBatch(j,_).next(me=>(Nn(null!==me),Z=me.keys(),S.mutationQueue.removeMutationBatch(j,me))).next(()=>S.mutationQueue.performConsistencyCheck(j)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(j,Z,_)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,Z)).next(()=>S.localDocuments.getDocuments(j,Z))})}(o.localStore,e);rp(o,e,t),ip(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield su(o,u)}catch(u){yield js(u)}}),Vh.apply(this,arguments)}function Uh(){return Uh=(0,p.Z)(function*(r,e){const t=hn(r);tu(t.remoteStore)||Qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const _=hn(f);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>_.mutationQueue.getHighestUnacknowledgedBatchId(S))}(t.localStore);if(-1===o)return void e.resolve();const u=t.lc.get(o)||[];u.push(e),t.lc.set(o,u)}catch(o){const u=bc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Uh.apply(this,arguments)}function ip(r,e){(r.lc.get(e)||[]).forEach(t=>{t.resolve()}),r.lc.delete(e)}function rp(r,e,t){const o=hn(r);let u=o.hc[o.currentUser.toKey()];if(u){const f=u.get(e);f&&(t?f.reject(t):f.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function kd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r.rc.get(e))r.ic.delete(o),t&&r.sc.wc(o,t);r.rc.delete(e),r.isPrimaryClient&&r.ac.ls(e).forEach(o=>{r.ac.containsKey(o)||fy(r,o)})}function fy(r,e){r.oc.delete(e.path.canonicalString());const t=r.uc.get(e);null!==t&&(Ad(r.remoteStore,t),r.uc=r.uc.remove(e),r.cc.delete(t),Bh(r))}function Ld(r,e,t){for(const o of t)o instanceof Ag?(r.ac.addReference(o.key,e),py(r,o)):o instanceof Sg?(Qt("SyncEngine","Document no longer in limbo: "+o.key),r.ac.removeReference(o.key,e),r.ac.containsKey(o.key)||fy(r,o.key)):xn()}function py(r,e){const t=e.key,o=t.path.canonicalString();r.uc.get(t)||r.oc.has(o)||(Qt("SyncEngine","New document in limbo: "+t),r.oc.add(o),Bh(r))}function Bh(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const e=r.oc.values().next().value;r.oc.delete(e);const t=new L(D.fromString(e)),o=r.fc.next();r.cc.set(o,new xg(t)),r.uc=r.uc.insert(t,o),Id(r.remoteStore,new Cu(zs(pu(t.path)),o,2,Qs.at))}}function su(r,e,t){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,p.Z)(function*(r,e,t){const o=hn(r),u=[],f=[],_=[];var S;o.ic.isEmpty()||(o.ic.forEach((S,j)=>{_.push(o._c(j,e,t).then(Z=>{if((Z||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(j.targetId,(null==Z?void 0:Z.fromCache)?"not-current":"current"),Z){u.push(Z);const me=fg.Ci(j.targetId,Z);f.push(me)}}))}),yield Promise.all(_),o.sc.Wo(u),yield(S=(0,p.Z)(function*(j,Z){const me=hn(j);try{yield me.persistence.runTransaction("notifyLocalViewChanges","readwrite",je=>Et.forEach(Z,_t=>Et.forEach(_t.Si,Gt=>me.persistence.referenceDelegate.addReference(je,_t.targetId,Gt)).next(()=>Et.forEach(_t.Di,Gt=>me.persistence.referenceDelegate.removeReference(je,_t.targetId,Gt)))))}catch(je){if(!Kr(je))throw je;Qt("LocalStore","Failed to update sequence numbers: "+je)}for(const je of Z){const _t=je.targetId;if(!je.fromCache){const Gt=me.Ui.get(_t),In=Gt.withLastLimboFreeSnapshotVersion(Gt.snapshotVersion);me.Ui=me.Ui.insert(_t,In)}}}),function(j,Z){return S.apply(this,arguments)})(o.localStore,f))}),Mg.apply(this,arguments)}function Rl(r,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,p.Z)(function*(r,e){const t=hn(r);if(!t.currentUser.isEqual(e)){Qt("SyncEngine","User change. New user:",e.toKey());const o=yield $m(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(_=>{_.forEach(S=>{S.reject(new $t(Dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield su(t,o.ji)}var u}),Pg.apply(this,arguments)}function qv(r,e){const t=hn(r),o=t.cc.get(e);if(o&&o.nc)return Fn().add(o.key);{let u=Fn();const f=t.rc.get(e);if(!f)return u;for(const _ of f){const S=t.ic.get(_);u=u.unionWith(S.view.ju)}return u}}function Rg(r,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,p.Z)(function*(r,e){const t=hn(r),o=yield Pl(t.localStore,e.query,!0),u=e.view.tc(o);return t.isPrimaryClient&&Ld(t,e.targetId,u.Xu),u}),Hh.apply(this,arguments)}function Ng(r,e){return sp.apply(this,arguments)}function sp(){return sp=(0,p.Z)(function*(r,e){const t=hn(r);return gg(t.localStore,e).then(o=>su(t,o))}),sp.apply(this,arguments)}function Yv(r,e,t,o){return jh.apply(this,arguments)}function jh(){return jh=(0,p.Z)(function*(r,e,t,o){const u=hn(r),f=yield function(_,S){const j=hn(_),Z=hn(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",me=>Z.Tn(me,S).next(je=>je?j.localDocuments.getDocuments(me,je):Et.resolve(null)))}(u.localStore,e);var S;null!==f?("pending"===t?yield vc(u.remoteStore):"acknowledged"===t||"rejected"===t?(rp(u,e,o||null),ip(u,e),S=e,hn(hn(u.localStore).mutationQueue).An(S)):xn(),yield su(u,f)):Qt("SyncEngine","Cannot apply mutation batch with id: "+e)}),jh.apply(this,arguments)}function ap(){return ap=(0,p.Z)(function*(r,e){const t=hn(r);if(Qu(t),cp(t),!0===e&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield $h(t,o.toArray());t.dc=!0,yield Tg(t.remoteStore,!0);for(const f of u)Id(t.remoteStore,f)}else if(!1===e&&!1!==t.dc){const o=[];let u=Promise.resolve();t.rc.forEach((f,_)=>{t.sharedClientState.isLocalQueryTarget(_)?o.push(_):u=u.then(()=>(kd(t,_),qu(t.localStore,_,!0))),Ad(t.remoteStore,_)}),yield u,yield $h(t,o),function(f){const _=hn(f);_.cc.forEach((S,j)=>{Ad(_.remoteStore,j)}),_.ac.fs(),_.cc=new Map,_.uc=new Dr(L.comparator)}(t),t.dc=!1,yield Tg(t.remoteStore,!1)}}),ap.apply(this,arguments)}function $h(r,e,t){return lp.apply(this,arguments)}function lp(){return lp=(0,p.Z)(function*(r,e,t){const o=hn(r),u=[],f=[];for(const _ of e){let S;const j=o.rc.get(_);if(j&&0!==j.length){S=yield mc(o.localStore,zs(j[0]));for(const Z of j){const me=o.ic.get(Z),je=yield Rg(o,me);je.snapshot&&f.push(je.snapshot)}}else{const Z=yield Mf(o.localStore,_);S=yield mc(o.localStore,Z),yield Yf(o,kg(Z),_,!1,S.resumeToken)}u.push(S)}return o.sc.Wo(f),u}),lp.apply(this,arguments)}function kg(r){return Nc(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function gy(r){const e=hn(r);return hn(hn(e.localStore).persistence).vi()}function my(r,e,t,o){return up.apply(this,arguments)}function up(){return up=(0,p.Z)(function*(r,e,t,o){const u=hn(r);if(u.dc)return void Qt("SyncEngine","Ignoring unexpected query state notification.");const f=u.rc.get(e);if(f&&f.length>0)switch(t){case"current":case"not-current":{const _=yield gg(u.localStore,ic(f[0])),S=Al.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Vr.EMPTY_BYTE_STRING);yield su(u,_,S);break}case"rejected":yield qu(u.localStore,e,!0),kd(u,e,o);break;default:xn()}}),up.apply(this,arguments)}function yy(r,e,t){return ed.apply(this,arguments)}function ed(){return ed=(0,p.Z)(function*(r,e,t){const o=Qu(r);if(o.dc){for(const u of e){if(o.rc.has(u)){Qt("SyncEngine","Adding an already active target "+u);continue}const f=yield Mf(o.localStore,u),_=yield mc(o.localStore,f);yield Yf(o,kg(f),_.targetId,!1,_.resumeToken),Id(o.remoteStore,_)}for(const u of t)o.rc.has(u)&&(yield qu(o.localStore,u,!1).then(()=>{Ad(o.remoteStore,u),kd(o,u)}).catch(js))}}),ed.apply(this,arguments)}function Qu(r){const e=hn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Og.bind(null,e),e.sc.Wo=Pd.bind(null,e.eventManager),e.sc.wc=oy.bind(null,e.eventManager),e}function cp(r){const e=hn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hy.bind(null,e),e}class Lg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,p.Z)(function*(){t.It=Kc(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return jm(this.persistence,new Hm,e.initialUser,this.It)}yc(e){return new lg(Ed.Bs,this.It)}gc(e){return new Ah}terminate(){var e=this;return(0,p.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Fg extends Lg{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,p.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield cp(o.Ac.syncEngine),yield vc(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return jm(this.persistence,new Hm,e.initialUser,this.It)}Tc(e,t){return new Ml(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new Ul(t,this.persistence);return new il(e.asyncQueue,o)}yc(e){const t=hg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ba.withCacheSize(this.cacheSizeBytes):Ba.DEFAULT;return new dg(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Km(),Td(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Ah}}class dp extends Fg{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,p.Z)(function*(){yield t().call(o,e);const u=o.Ac.syncEngine;o.sharedClientState instanceof Ih&&(o.sharedClientState.syncEngine={Fr:Yv.bind(null,u),$r:my.bind(null,u),Br:yy.bind(null,u),vi:gy.bind(null,u),Mr:Ng.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var f=(0,p.Z)(function*(_){yield function op(r,e){return ap.apply(this,arguments)}(o.Ac.syncEngine,_),o.gcScheduler&&(_&&!o.gcScheduler.started?o.gcScheduler.start():_||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(_&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():_||o.indexBackfillerScheduler.stop())});return function(_){return f.apply(this,arguments)}}())})()}gc(e){const t=Km();if(!Ih.C(t))throw new $t(Dt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=hg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ih(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class dl{initialize(e,t){var o=this;return(0,p.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>ep(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Rl.bind(null,o.syncEngine),yield Tg(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new sy}createDatastore(e){const t=Kc(e.databaseInfo.databaseId),o=new mg(e.databaseInfo);return new Xa(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,f=S=>ep(this.syncEngine,S,0),_=kf.C()?new kf:new Nf,new Zv(t,o,u,f,_);var t,o,u,f,_}createSyncEngine(e,t){return function(o,u,f,_,S,j,Z){const me=new ly(o,u,f,_,S,j);return Z&&(me.dc=!0),me}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,p.Z)(function*(t){const o=hn(t);Qt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield Yc(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function wc(r,e,t){if(!t)throw new $t(Dt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Mo(r,e,t,o){if(!0===e&&!0===o)throw new $t(Dt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ju(r){if(!L.isDocumentKey(r))throw new $t(Dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Vd(r){if(L.isDocumentKey(r))throw new $t(Dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ya(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":xn()}function zi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new $t(Dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ya(r);throw new $t(Dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Cc(r,e){if(e<=0)throw new $t(Dt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}const Tc=new Map;class Dc{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new $t(Dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $t(Dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Mo("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ou{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dc({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $t(Dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $t(Dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dc(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new lo;switch(t.type){case"gapi":return new Sa(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new $t(Dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Tc.get(e);t&&(Qt("ComponentProvider","Removing Datastore"),Tc.delete(e),t.terminate())}(this),Promise.resolve()}}function Ic(r,e,t,o={}){var u;const f=(r=zi(r,ou))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&Xi("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let _,S;if("string"==typeof o.mockUserToken)_=o.mockUserToken,S=$i.MOCK_USER;else{_=(0,ve.Sg)(o.mockUserToken,null===(u=r._app)||void 0===u?void 0:u.options.projectId);const j=o.mockUserToken.sub||o.mockUserToken.user_id;if(!j)throw new $t(Dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new $i(j)}r._authCredentials=new $a(new ml(_,S))}}class Br{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Br(this.firestore,e,this._key)}}class Ns{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class va extends Ns{constructor(e,t,o){super(e,t,pu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Br(this.firestore,null,new L(e))}withConverter(e){return new va(this.firestore,e,this._path)}}function td(r,e,...t){if(r=(0,ve.m9)(r),wc("collection","path",e),r instanceof ou){const o=D.fromString(e,...t);return Vd(o),new va(r,null,o)}{if(!(r instanceof Br||r instanceof va))throw new $t(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(D.fromString(e,...t));return Vd(o),new va(r.firestore,null,o)}}function Vg(r,e){if(r=zi(r,ou),wc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $t(Dt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ns(r,null,(t=e,new Xs(D.emptyPath(),t)));var t}function hp(r,e,...t){if(r=(0,ve.m9)(r),1===arguments.length&&(e=Gi.R()),wc("doc","path",e),r instanceof ou){const o=D.fromString(e,...t);return Ju(o),new Br(r,null,new L(o))}{if(!(r instanceof Br||r instanceof va))throw new $t(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(D.fromString(e,...t));return Ju(o),new Br(r.firestore,r instanceof va?r.converter:null,new L(o))}}function Ug(r,e){return r=(0,ve.m9)(r),e=(0,ve.m9)(e),(r instanceof Br||r instanceof va)&&(e instanceof Br||e instanceof va)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Gh(r,e){return r=(0,ve.m9)(r),e=(0,ve.m9)(e),r instanceof Ns&&e instanceof Ns&&r.firestore===e.firestore&&Cl(r._query,e._query)&&r.converter===e.converter}function fp(r,e=10240){let t=0;return{read:()=>(0,p.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,p.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ud{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Bg{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new gr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.ku)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,p.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,p.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,p.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const o=e.vc.decode(t),u=Number(o);isNaN(u)&&e.Dc(`length string (${o}) is not valid number`);const f=yield e.Cc(u);return new Ig(JSON.parse(f),t.length+u)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,p.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Cc(e){var t=this;return(0,p.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const o=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,p.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class jg{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,p.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new $t(Dt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,p.Z)(function*(f,_){const S=hn(f),j=c(S.It)+"/documents",Z={documents:_.map(Gt=>dc(S.It,Gt))},me=yield S._o("BatchGetDocuments",j,Z,_.length),je=new Map;me.forEach(Gt=>{const en=function B(r,e){return"found"in e?function(t,o){Nn(!!o.found);const u=Qa(t,o.found.name),f=rs(o.found.updateTime),_=new U({mapValue:{fields:o.found.fields}});return De.newFoundDocument(u,f,_)}(r,e):"missing"in e?function(t,o){Nn(!!o.missing),Nn(!!o.readTime);const u=Qa(t,o.missing),f=rs(o.readTime);return De.newNoDocument(u,f)}(r,e):xn()}(S.It,Gt);je.set(en.key.toString(),en)});const _t=[];return _.forEach(Gt=>{const en=je.get(Gt.toString());Nn(!!en),_t.push(en)}),_t}),function(f,_){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new pe(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,p.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const f=L.fromPath(u);e.mutations.push(new at(f,e.precondition(f)))}),yield(o=(0,p.Z)(function*(u,f){const _=hn(u),S=c(_.It)+"/documents",j={writes:f.map(Z=>Te(_.It,Z))};yield _.ao("Commit",S,j)}),function(u,f){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xn();t=Yn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new $t(Dt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Yn.min())?Nr.exists(!1):Nr.updateTime(t):Nr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Yn.min()))throw new $t(Dt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nr.updateTime(t)}return Nr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class by{constructor(e,t,o,u,f){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=f,this.kc=o.maxAttempts,this.xo=new Lf(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,p.Z)(function*(){const t=new jg(e.datastore),o=e.Mc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(f=>{e.Fc(f)}))}).catch(u=>{e.Fc(u)})}))}Mc(e){try{const t=this.updateFunction(e);return!aa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!li(t)}return!1}}class $g{constructor(e,t,o,u){var f=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=$i.UNAUTHENTICATED,this.clientId=Gi.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var _=(0,p.Z)(function*(S){Qt("FirestoreClient","Received user=",S.uid),yield f.authCredentialListener(S),f.user=S});return function(S){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(o,_=>(Qt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,p.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $t(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=bc(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function pp(r,e){return gp.apply(this,arguments)}function gp(){return gp=(0,p.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Qt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var u=(0,p.Z)(function*(f){o.isEqual(f)||(yield $m(e.localStore,f),o=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),gp.apply(this,arguments)}function Gg(r,e){return zh.apply(this,arguments)}function zh(){return zh=(0,p.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield mp(r);Qt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(u=>iy(e.remoteStore,u)),r.setAppCheckTokenChangeListener((u,f)=>iy(e.remoteStore,f)),r.onlineComponents=e}),zh.apply(this,arguments)}function mp(r){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,p.Z)(function*(r){return r.offlineComponents||(Qt("FirestoreClient","Using default OfflineComponentProvider"),yield pp(r,new Lg)),r.offlineComponents}),Wh.apply(this,arguments)}function Zh(r){return yp.apply(this,arguments)}function yp(){return yp=(0,p.Z)(function*(r){return r.onlineComponents||(Qt("FirestoreClient","Using default OnlineComponentProvider"),yield Gg(r,new dl)),r.onlineComponents}),yp.apply(this,arguments)}function Ey(r){return mp(r).then(e=>e.persistence)}function Kh(r){return mp(r).then(e=>e.localStore)}function Bd(r){return Zh(r).then(e=>e.remoteStore)}function Hd(r){return Zh(r).then(e=>e.syncEngine)}function jd(r){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,p.Z)(function*(r){const e=yield Zh(r),t=e.eventManager;return t.onListen=uy.bind(null,e.syncEngine),t.onUnlisten=cy.bind(null,e.syncEngine),t}),Wg.apply(this,arguments)}function Cy(r,e,t={}){const o=new gr;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(u,f,_,S,j){const Z=new Ud({next:je=>{f.enqueueAndForget(()=>Nh(u,me));const _t=je.docs.has(_);!_t&&je.fromCache?j.reject(new $t(Dt.UNAVAILABLE,"Failed to get document because the client is offline.")):_t&&je.fromCache&&S&&"server"===S.source?j.reject(new $t(Dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(je)},error:je=>j.reject(je)}),me=new kh(pu(_.path),Z,{includeMetadataChanges:!0,Nu:!0});return Dg(u,me)}(yield jd(r),r.asyncQueue,e,t,o)})),o.promise}function Ac(r,e,t={}){const o=new gr;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function(u,f,_,S,j){const Z=new Ud({next:je=>{f.enqueueAndForget(()=>Nh(u,me)),je.fromCache&&"server"===S.source?j.reject(new $t(Dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(je)},error:je=>j.reject(je)}),me=new kh(_,Z,{includeMetadataChanges:!0,Nu:!0});return Dg(u,me)}(yield jd(r),r.asyncQueue,e,t,o)})),o.promise}class qg{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Lf(this,"async_queue_retry"),this.Wc=()=>{const t=Td();t&&Qt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Td();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Td();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new gr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,p.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Kr(t))throw t;Qt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Ji("INTERNAL UNHANDLED ERROR: ",function(f){let _=f.message||"";return f.stack&&(_=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),_}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=Rh.createAndSchedule(this,e,t,o,f=>this.Yc(f));return this.qc.push(u),u}zc(){this.Kc&&xn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,p.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function nd(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(r)}class Ay{constructor(){this._progressObserver={},this._taskCompletionResolver=new gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Yg=-1;class os extends ou{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new qg,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Qg(this),this._firestoreClient.terminate()}}function ks(r){return r._firestoreClient||Qg(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Qg(r){var e;const t=r._freezeSettings(),o=(f=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Wa(r._databaseId,f,r._persistenceKey,(S=t).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,S.useFetchStreams));var f,S;r._firestoreClient=new $g(r._authCredentials,r._appCheckCredentials,r._queue,o)}function Jg(r,e){Ep(r=zi(r,os));const t=ks(r),o=r._freezeSettings(),u=new dl;return vp(t,u,new Fg(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Sy(r){Ep(r=zi(r,os));const e=ks(r),t=r._freezeSettings(),o=new dl;return vp(e,o,new dp(o,t.cacheSizeBytes))}function vp(r,e,t){const o=new gr;return r.asyncQueue.enqueue((0,p.Z)(function*(){try{yield pp(r,t),yield Gg(r,e),o.resolve()}catch(u){const f=u;if(!("FirebaseError"===(_=f).name?_.code===Dt.FAILED_PRECONDITION||_.code===Dt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw f;Xi("Error enabling offline persistence. Falling back to persistence disabled: "+f),o.reject(f)}var _})).then(()=>o.promise)}function Xg(r){if(r._initialized&&!r._terminated)throw new $t(Dt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{yield(t=(0,p.Z)(function*(o){if(!Ys.C())return Promise.resolve();const u=o+"main";yield Ys.delete(u)}),function(o){return t.apply(this,arguments)})(hg(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function _p(r){return function(e){const t=new gr;return e.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Kv(r,e){return Uh.apply(this,arguments)}(yield Hd(e),t)})),t.promise}(ks(r=zi(r,os)))}function e_(r){return function Qv(r){return r.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield Ey(r),t=yield Bd(r);return e.setNetworkEnabled(!0),function(o){const u=hn(o);return u._u.delete(0),qc(u)}(t)}))}(ks(r=zi(r,os)))}function bp(r){return function wy(r){return r.asyncQueue.enqueue((0,p.Z)(function*(){const e=yield Ey(r),t=yield Bd(r);return e.setNetworkEnabled(!1),(o=(0,p.Z)(function*(u){const f=hn(u);f._u.add(0),yield Yc(f),f.gu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(ks(r=zi(r,os)))}function n_(r,e){const t=ks(r=zi(r,os)),o=new Ay;return function Kg(r,e,t,o){const u=function(f,_){let S;return S="string"==typeof f?(new TextEncoder).encode(f):f,j=function(j,Z){if(j instanceof Uint8Array)return fp(j,Z);if(j instanceof ArrayBuffer)return fp(new Uint8Array(j),Z);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new Bg(j,_);var j}(t,Kc(e));r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){!function Fd(r,e,t){const o=hn(r);var u;(u=(0,p.Z)(function*(f,_,S){try{const j=yield _.getMetadata();if(yield function(_t,Gt){const en=hn(_t),In=rs(Gt.createTime);return en.persistence.runTransaction("hasNewerBundle","readonly",kn=>en.Ns.getBundleMetadata(kn,Gt.id)).then(kn=>!!kn&&kn.createTime.compareTo(In)>=0)}(f.localStore,j))return yield _.close(),S._completeWith({taskState:"Success",documentsLoaded:(_t=j).totalDocuments,bytesLoaded:_t.totalBytes,totalDocuments:_t.totalDocuments,totalBytes:_t.totalBytes}),Promise.resolve(new Set);S._updateProgress(Lh(j));const Z=new ay(j,f.localStore,_.It);let me=yield _.mc();for(;me;){const _t=yield Z.Fu(me);_t&&S._updateProgress(_t),me=yield _.mc()}const je=yield Z.complete();return yield su(f,je.Lu,void 0),yield function(_t,Gt){const en=hn(_t);return en.persistence.runTransaction("Save bundle","readwrite",In=>en.Ns.saveBundleMetadata(In,Gt))}(f.localStore,j),S._completeWith(je.progress),Promise.resolve(je.Bu)}catch(j){return Xi("SyncEngine",`Loading bundle failed with ${j}`),S._failWith(j),Promise.resolve(new Set)}var _t}),function(f,_,S){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Hd(r),u,o)}))}(t,r._databaseId,e,o),o}function $d(r,e){return function Iy(r,e){return r.asyncQueue.enqueue((0,p.Z)(function*(){return function(t,o){const u=hn(t);return u.persistence.runTransaction("Get named query","readonly",f=>u.Ns.getNamedQuery(f,o))}(yield Kh(r),e)}))}(ks(r=zi(r,os)),e).then(t=>t?new Ns(r,null,t.query):null)}function Ep(r){if(r._initialized||r._terminated)throw new $t(Dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new au(Vr.fromBase64String(e))}catch(t){throw new $t(Dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new au(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new $t(Dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new k(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uu{constructor(e){this._methodName=e}}class Sc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $t(Dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $t(Dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ti(this._lat,e._lat)||ti(this._long,e._long)}}const wp=/^__.*__$/;class r_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new y(e,this.data,this.fieldMask,t,this.fieldTransforms):new T(e,this.data,t,this.fieldTransforms)}}class em{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new y(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gd(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xn()}}class xc{constructor(e,t,o,u,f,_){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=u,void 0===f&&this.na(),this.fieldTransforms=f||[],this.fieldMask=_||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new xc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Yd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Gd(this.sa)&&wp.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Cp{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||Kc(e)}da(e,t,o,u=!1){return new xc({sa:e,methodName:t,fa:o,path:k.emptyPath(),oa:!1,la:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Xu(r){const e=r._freezeSettings(),t=Kc(r._databaseId);return new Cp(r._databaseId,!!e.ignoreUndefinedProperties,t)}function id(r,e,t,o,u,f={}){const _=r.da(f.merge||f.mergeFields?2:0,e,t,u);Zd("Data must be an object, but it was:",_,o);const S=Ip(o,_);let j,Z;if(f.merge)j=new Wo(_.fieldMask),Z=_.fieldTransforms;else if(f.mergeFields){const me=[];for(const je of f.mergeFields){const _t=Kd(e,je,t);if(!_.contains(_t))throw new $t(Dt.INVALID_ARGUMENT,`Field '${_t}' is specified in your field mask but missing from your input data.`);xp(me,_t)||me.push(_t)}j=new Wo(me),Z=_.fieldTransforms.filter(je=>j.covers(je.field))}else j=null,Z=_.fieldTransforms;return new r_(new U(S),j,Z)}class rd extends uu{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rd}}function Tp(r,e,t){return new xc({sa:3,fa:e.settings.fa,methodName:r._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class zd extends uu{_toFieldTransform(e){return new ql(e.path,new Zl)}isEqual(e){return e instanceof zd}}class tm extends uu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Tp(this,e,!0),o=this._a.map(f=>Oc(f,t)),u=new ga(o);return new ql(e.path,u)}isEqual(e){return this===e}}class xy extends uu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Tp(this,e,!0),o=this._a.map(f=>Oc(f,t)),u=new fo(o);return new ql(e.path,u)}isEqual(e){return this===e}}class nm extends uu{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Kl(e.It,Wl(e.It,this.wa));return new ql(e.path,t)}isEqual(e){return this===e}}function qh(r,e,t,o){const u=r.da(1,e,t);Zd("Data must be an object, but it was:",u,o);const f=[],_=U.empty();oa(o,(j,Z)=>{const me=qd(e,j,t);Z=(0,ve.m9)(Z);const je=u.ca(me);if(Z instanceof rd)f.push(me);else{const _t=Oc(Z,je);null!=_t&&(f.push(me),_.set(me,_t))}});const S=new Wo(f);return new em(_,S,u.fieldTransforms)}function Wd(r,e,t,o,u,f){const _=r.da(1,e,t),S=[Kd(e,o,t)],j=[u];if(f.length%2!=0)throw new $t(Dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _t=0;_t<f.length;_t+=2)S.push(Kd(e,f[_t])),j.push(f[_t+1]);const Z=[],me=U.empty();for(let _t=S.length-1;_t>=0;--_t)if(!xp(Z,S[_t])){const Gt=S[_t];let en=j[_t];en=(0,ve.m9)(en);const In=_.ca(Gt);if(en instanceof rd)Z.push(Gt);else{const kn=Oc(en,In);null!=kn&&(Z.push(Gt),me.set(Gt,kn))}}const je=new Wo(Z);return new em(me,je,_.fieldTransforms)}function Dp(r,e,t,o=!1){return Oc(t,r.da(o?4:3,e))}function Oc(r,e){if(Ap(r=(0,ve.m9)(r)))return Zd("Unsupported field value:",e,r),Ip(r,e);if(r instanceof uu)return function(t,o){if(!Gd(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const u=[];let f=0;for(const _ of t){let S=Oc(_,o.aa(f));null==S&&(S={nullValue:"NULL_VALUE"}),u.push(S),f++}return{arrayValue:{values:u}}}(r,e)}return function(t,o){if(null===(t=(0,ve.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Wl(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=ai.fromDate(t);return{timestampValue:bu(o.It,u)}}if(t instanceof ai){const u=new ai(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:bu(o.It,u)}}if(t instanceof Sc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof au)return{bytesValue:dd(o.It,t._byteString)};if(t instanceof Br){const u=o.databaseId,f=t.firestore._databaseId;if(!f.isEqual(u))throw o.ha(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:cc(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${ya(t)}`)}(r,e)}function Ip(r,e){const t={};return hu(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(r,(o,u)=>{const f=Oc(u,e.ra(o));null!=f&&(t[o]=f)}),{mapValue:{fields:t}}}function Ap(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ai||r instanceof Sc||r instanceof au||r instanceof Br||r instanceof uu)}function Zd(r,e,t){if(!Ap(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=ya(t);throw e.ha("an object"===o?r+" a custom object":r+" "+o)}var o}function Kd(r,e,t){if((e=(0,ve.m9)(e))instanceof lu)return e._internalPath;if("string"==typeof e)return qd(r,e);throw Yd("Field path arguments must be of type string or ",r,!1,void 0,t)}const Sp=new RegExp("[~\\*/\\[\\]]");function qd(r,e,t){if(e.search(Sp)>=0)throw Yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new lu(...e.split("."))._internalPath}catch(o){throw Yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Yd(r,e,t,o,u){const f=o&&!o.isEmpty(),_=void 0!==u;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let j="";return(f||_)&&(j+=" (found",f&&(j+=` in field ${o}`),_&&(j+=` in document ${u}`),j+=")"),new $t(Dt.INVALID_ARGUMENT,S+r+j)}function xp(r,e){return r.some(t=>t.isEqual(e))}class sd{constructor(e,t,o,u,f){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Br(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new im(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class im extends sd{data(){return super.data()}}function Qd(r,e){return"string"==typeof e?qd(r,e):e instanceof lu?e._internalPath:e._delegate._internalPath}function Op(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new $t(Dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yh{}function Oy(r,...e){for(const t of e)r=t._apply(r);return r}class My extends Yh{constructor(e,t,o){super(),this.ma=e,this.ga=t,this.ya=o,this.type="where"}_apply(e){const t=Xu(e.firestore),o=function(u,f,_,S,j,Z,me){let je;if(j.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new $t(Dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){am(me,Z);const Gt=[];for(const en of me)Gt.push(Np(S,u,en));je={arrayValue:{values:Gt}}}else je=Np(S,u,me)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||am(me,Z),je=Dp(_,"where",me,"in"===Z||"not-in"===Z);const _t=Ki.create(j,Z,je);return function(Gt,en){if(en.dt()){const kn=gu(Gt);if(null!==kn&&!kn.isEqual(en.field))throw new $t(Dt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${kn.toString()}' and '${en.field.toString()}'`);const fr=nc(Gt);null!==fr&&kp(0,en.field,fr)}const In=function(kn,fr){for(const Hr of kn.filters)if(fr.indexOf(Hr.op)>=0)return Hr.op;return null}(Gt,function(kn){switch(kn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(en.op));if(null!==In)throw new $t(Dt.INVALID_ARGUMENT,In===en.op?`Invalid query. You cannot use more than one '${en.op.toString()}' filter.`:`Invalid query. You cannot use '${en.op.toString()}' filters with '${In.toString()}' filters.`)}(u,_t),_t}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Ns(e.firestore,e.converter,function(u,f){const _=u.filters.concat([f]);return new Xs(u.path,u.collectionGroup,u.explicitOrderBy.slice(),_,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}function rm(r,e,t){const o=e,u=Qd("where",r);return new My(u,o,t)}class Py extends Yh{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(o,u,f){if(null!==o.startAt)throw new $t(Dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new $t(Dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new qo(u,f);return function(S,j){if(null===nc(S)){const Z=gu(S);null!==Z&&kp(0,Z,j.field)}}(o,_),_}(e._query,this.ma,this.pa);return new Ns(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Xs(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function eo(r,e="asc"){const t=e,o=Qd("orderBy",r);return new Py(o,t)}class Mp extends Yh{constructor(e,t,o){super(),this.type=e,this.Ia=t,this.Ta=o}_apply(e){return new Ns(e.firestore,e.converter,wl(e._query,this.Ia,this.Ta))}}function Ry(r){return Cc("limit",r),new Mp("limit",r,"F")}function Ny(r){return Cc("limitToLast",r),new Mp("limitToLast",r,"L")}class Pp extends Yh{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=om(e,this.type,this.Ea,this.Aa);return new Ns(e.firestore,e.converter,(u=t,new Xs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function ky(...r){return new Pp("startAt",r,!0)}function sm(...r){return new Pp("startAfter",r,!1)}class Rp extends Yh{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=om(e,this.type,this.Ea,this.Aa);return new Ns(e.firestore,e.converter,(u=t,new Xs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function od(...r){return new Rp("endBefore",r,!1)}function Ly(...r){return new Rp("endAt",r,!0)}function om(r,e,t,o){if(t[0]=(0,ve.m9)(t[0]),t[0]instanceof sd)return function(u,f,_,S,j){if(!S)throw new $t(Dt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const Z=[];for(const me of El(u))if(me.field.isKeyField())Z.push(Ko(f,S.key));else{const je=S.data.field(me.field);if(As(je))throw new $t(Dt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+me.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===je){const _t=me.field.canonicalString();throw new $t(Dt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_t}' (used as the orderBy) does not exist.`)}Z.push(je)}return new Gs(Z,j)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const u=Xu(r.firestore);return function(f,_,S,j,Z,me){const je=f.explicitOrderBy;if(Z.length>je.length)throw new $t(Dt.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _t=[];for(let Gt=0;Gt<Z.length;Gt++){const en=Z[Gt];if(je[Gt].field.isKeyField()){if("string"!=typeof en)throw new $t(Dt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof en}`);if(!Fu(f)&&-1!==en.indexOf("/"))throw new $t(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${en}' contains a slash.`);const In=f.path.child(D.fromString(en));if(!L.isDocumentKey(In))throw new $t(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${In}' is not because it contains an odd number of segments.`);const kn=new L(In);_t.push(Ko(_,kn))}else{const In=Dp(S,j,en);_t.push(In)}}return new Gs(_t,me)}(r._query,r.firestore._databaseId,u,e,t,o)}}function Np(r,e,t){if("string"==typeof(t=(0,ve.m9)(t))){if(""===t)throw new $t(Dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fu(e)&&-1!==t.indexOf("/"))throw new $t(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(D.fromString(t));if(!L.isDocumentKey(o))throw new $t(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ko(r,new L(o))}if(t instanceof Br)return Ko(r,t._key);throw new $t(Dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ya(t)}.`)}function am(r,e){if(!Array.isArray(r)||0===r.length)throw new $t(Dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new $t(Dt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function kp(r,e,t){if(!t.isEqual(e))throw new $t(Dt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class lm{convertValue(e,t="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xn()}}convertObject(e,t){const o={};return oa(e.fields,(u,f)=>{o[u]=this.convertValue(f,t)}),o}convertGeoPoint(e){return new Sc(br(e.latitude),br(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Bl(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Zo(e));default:return null}}convertTimestamp(e){const t=za(e);return new ai(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=D.fromString(e);Nn(ma(o));const u=new _s(o.get(1),o.get(3)),f=new L(o.popFirst(5));return u.isEqual(t)||Ji(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),f}}function ad(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Lp extends lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Br(this.firestore,null,t)}}class Po{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mc extends sd{constructor(e,t,o,u,f,_){super(e,t,o,u,_),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Qd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class ld extends Mc{data(e={}){return super.data(e)}}class ta{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Po(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new ld(this._firestore,this._userDataWriter,o.key,o,new Po(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $t(Dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(_=>({type:"added",doc:new ld(o._firestore,o._userDataWriter,_.doc.key,_.doc,new Po(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(_=>u||3!==_.type).map(_=>{const S=new ld(o._firestore,o._userDataWriter,_.doc.key,_.doc,new Po(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let j=-1,Z=-1;return 0!==_.type&&(j=f.indexOf(_.doc.key),f=f.delete(_.doc.key)),1!==_.type&&(f=f.add(_.doc),Z=f.indexOf(_.doc.key)),{type:Nl(_.type),doc:S,oldIndex:j,newIndex:Z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Nl(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xn()}}function kl(r,e){return r instanceof Mc&&e instanceof Mc?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof ta&&e instanceof ta&&r._firestore===e._firestore&&Gh(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function um(r){r=zi(r,Br);const e=zi(r.firestore,os);return Cy(ks(e),r._key).then(t=>Vp(e,r,t))}class Mu extends lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Br(this.firestore,null,t)}}function Fy(r){r=zi(r,Br);const e=zi(r.firestore,os),t=ks(e),o=new Mu(e);return function Zg(r,e){const t=new gr;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(o=(0,p.Z)(function*(u,f,_){try{const S=yield function(j,Z){const me=hn(j);return me.persistence.runTransaction("read document","readonly",je=>me.localDocuments.getDocument(je,Z))}(u,f);S.isFoundDocument()?_.resolve(S):S.isNoDocument()?_.resolve(null):_.reject(new $t(Dt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const j=bc(S,`Failed to get document '${f} from cache`);_.reject(j)}}),function(u,f,_){return o.apply(this,arguments)})(yield Kh(r),e,t);var o})),t.promise}(t,r._key).then(u=>new Mc(e,o,r._key,u,new Po(null!==u&&u.hasLocalMutations,!0),r.converter))}function Vy(r){r=zi(r,Br);const e=zi(r.firestore,os);return Cy(ks(e),r._key,{source:"server"}).then(t=>Vp(e,r,t))}function Uy(r){r=zi(r,Ns);const e=zi(r.firestore,os),t=ks(e),o=new Mu(e);return Op(r._query),Ac(t,r._query).then(u=>new ta(e,o,r,u))}function By(r){r=zi(r,Ns);const e=zi(r.firestore,os),t=ks(e),o=new Mu(e);return function Ty(r,e){const t=new gr;return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return(o=(0,p.Z)(function*(u,f,_){try{const S=yield Pl(u,f,!0),j=new qf(f,S.Hi),Z=j.Wu(S.documents),me=j.applyChanges(Z,!1);_.resolve(me.snapshot)}catch(S){const j=bc(S,`Failed to execute query '${f} against cache`);_.reject(j)}}),function(u,f,_){return o.apply(this,arguments)})(yield Kh(r),e,t);var o})),t.promise}(t,r._query).then(u=>new ta(e,o,r,u))}function Fp(r){r=zi(r,Ns);const e=zi(r.firestore,os),t=ks(e),o=new Mu(e);return Ac(t,r._query,{source:"server"}).then(u=>new ta(e,o,r,u))}function Jd(r,e,t){r=zi(r,Br);const o=zi(r.firestore,os),u=ad(r.converter,e,t);return Pu(o,[id(Xu(o),"setDoc",r._key,u,null!==r.converter,t).toMutation(r._key,Nr.none())])}function Hy(r,e,t,...o){r=zi(r,Br);const u=zi(r.firestore,os),f=Xu(u);let _;return _="string"==typeof(e=(0,ve.m9)(e))||e instanceof lu?Wd(f,"updateDoc",r._key,e,t,o):qh(f,"updateDoc",r._key,e),Pu(u,[_.toMutation(r._key,Nr.exists(!0))])}function cm(r){return Pu(zi(r.firestore,os),[new pe(r._key,Nr.none())])}function jy(r,e){const t=zi(r.firestore,os),o=hp(r),u=ad(r.converter,e);return Pu(t,[id(Xu(r.firestore),"addDoc",o._key,u,null!==r.converter,{}).toMutation(o._key,Nr.exists(!1))]).then(()=>o)}function dm(r,...e){var t,o,u;r=(0,ve.m9)(r);let f={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||nd(e[_])||(f=e[_],_++);const S={includeMetadataChanges:f.includeMetadataChanges};if(nd(e[_])){const je=e[_];e[_]=null===(t=je.next)||void 0===t?void 0:t.bind(je),e[_+1]=null===(o=je.error)||void 0===o?void 0:o.bind(je),e[_+2]=null===(u=je.complete)||void 0===u?void 0:u.bind(je)}let j,Z,me;if(r instanceof Br)Z=zi(r.firestore,os),me=pu(r._key.path),j={next:je=>{e[_]&&e[_](Vp(Z,r,je))},error:e[_+1],complete:e[_+2]};else{const je=zi(r,Ns);Z=zi(je.firestore,os),me=je._query;const _t=new Mu(Z);j={next:Gt=>{e[_]&&e[_](new ta(Z,_t,je,Gt))},error:e[_+1],complete:e[_+2]},Op(r._query)}return function(je,_t,Gt,en){const In=new Ud(en),kn=new kh(_t,In,Gt);return je.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return Dg(yield jd(je),kn)})),()=>{In.bc(),je.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return Nh(yield jd(je),kn)}))}}(ks(Z),me,S,j)}function hm(r,e){return function Dy(r,e){const t=new Ud(e);return r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return o=yield jd(r),u=t,hn(o).Ru.add(u),void u.next();var o,u})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return o=yield jd(r),u=t,void hn(o).Ru.delete(u);var o,u}))}}(ks(r=zi(r,os)),nd(e)?e:{next:e})}function Pu(r,e){return function(t,o){const u=new gr;return t.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function ru(r,e,t){return Nd.apply(this,arguments)}(yield Hd(t),o,u)})),u.promise}(ks(r),e)}function Vp(r,e,t){const o=t.docs.get(e._key),u=new Mu(r);return new Mc(r,u,e._key,o,new Po(t.hasPendingWrites,t.fromCache),e.converter)}const Up={maxAttempts:5};class Xd{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xu(e)}set(e,t,o){this._verifyNotCommitted();const u=cu(e,this._firestore),f=ad(u.converter,t,o),_=id(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,o);return this._mutations.push(_.toMutation(u._key,Nr.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const f=cu(e,this._firestore);let _;return _="string"==typeof(t=(0,ve.m9)(t))||t instanceof lu?Wd(this._dataReader,"WriteBatch.update",f._key,t,o,u):qh(this._dataReader,"WriteBatch.update",f._key,t),this._mutations.push(_.toMutation(f._key,Nr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=cu(e,this._firestore);return this._mutations=this._mutations.concat(new pe(t._key,Nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $t(Dt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cu(r,e){if((r=(0,ve.m9)(r)).firestore!==e)throw new $t(Dt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Bp extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xu(e)}get(e){const t=cu(e,this._firestore),o=new Lp(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return xn();const f=u[0];if(f.isFoundDocument())return new sd(this._firestore,o,f.key,f,t.converter);if(f.isNoDocument())return new sd(this._firestore,o,t._key,null,t.converter);throw xn()})}set(e,t,o){const u=cu(e,this._firestore),f=ad(u.converter,t,o),_=id(this._dataReader,"Transaction.set",u._key,f,null!==u.converter,o);return this._transaction.set(u._key,_),this}update(e,t,o,...u){const f=cu(e,this._firestore);let _;return _="string"==typeof(t=(0,ve.m9)(t))||t instanceof lu?Wd(this._dataReader,"Transaction.update",f._key,t,o,u):qh(this._dataReader,"Transaction.update",f._key,t),this._transaction.update(f._key,_),this}delete(e){const t=cu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=cu(e,this._firestore),o=new Mu(this._firestore);return super.get(e).then(u=>new Mc(this._firestore,o,t._key,u._document,new Po(!1,!1),t.converter))}}function fm(r,e,t){r=zi(r,os);const o=Object.assign(Object.assign({},Up),t);return function(u){if(u.maxAttempts<1)throw new $t(Dt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,f,_){const S=new gr;return u.asyncQueue.enqueueAndForget((0,p.Z)(function*(){const j=yield function zg(r){return Zh(r).then(e=>e.datastore)}(u);new by(u.asyncQueue,j,_,f,S).run()})),S.promise}(ks(r),u=>e(new Bp(r,u)),o)}function pm(){return new rd("deleteField")}function gm(){return new zd("serverTimestamp")}function mm(...r){return new tm("arrayUnion",r)}function ym(...r){return new xy("arrayRemove",r)}function vm(r){return new nm("increment",r)}!function(r,e=!0){Ho=d.SDK_VERSION,(0,d._registerComponent)(new W.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const f=t.getProvider("app").getImmediate(),_=new os(new ns(t.getProvider("auth-internal")),new $o(t.getProvider("app-check-internal")),function(S,j){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new $t(Dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _s(S.options.projectId,j)}(f,o),f);return u=Object.assign({useFetchStreams:e},u),_._setSettings(u),_},"PUBLIC").setMultipleInstances(!0)),(0,d.registerVersion)(Nu,"3.7.3",r),(0,d.registerVersion)(Nu,"3.7.3","esm2017")}()},2090:(Jt,Ze,x)=>{x.d(Ze,{$s:()=>_e,BH:()=>pt,G6:()=>et,L:()=>ce,LL:()=>Rt,Pz:()=>gt,Sg:()=>K,UG:()=>ft,US:()=>ke,ZB:()=>ue,ZR:()=>Ge,aH:()=>sn,b$:()=>lt,eu:()=>q,hl:()=>wt,jU:()=>ut,m9:()=>Ot,ne:()=>$e,pd:()=>Mt,r3:()=>xi,ru:()=>Ye,tV:()=>Q,uI:()=>it,vZ:()=>Pi,w1:()=>yt,xO:()=>Li,xb:()=>ci,z$:()=>ct,zI:()=>qe,zd:()=>_i});const Ce=function(de){const fe=[];let Oe=0;for(let ye=0;ye<de.length;ye++){let J=de.charCodeAt(ye);J<128?fe[Oe++]=J:J<2048?(fe[Oe++]=J>>6|192,fe[Oe++]=63&J|128):55296==(64512&J)&&ye+1<de.length&&56320==(64512&de.charCodeAt(ye+1))?(J=65536+((1023&J)<<10)+(1023&de.charCodeAt(++ye)),fe[Oe++]=J>>18|240,fe[Oe++]=J>>12&63|128,fe[Oe++]=J>>6&63|128,fe[Oe++]=63&J|128):(fe[Oe++]=J>>12|224,fe[Oe++]=J>>6&63|128,fe[Oe++]=63&J|128)}return fe},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,fe){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Oe=fe?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let J=0;J<de.length;J+=3){const $=de[J],X=J+1<de.length,ie=X?de[J+1]:0,Se=J+2<de.length,Je=Se?de[J+2]:0;let En=(15&ie)<<2|Je>>6,yn=63&Je;Se||(yn=64,X||(En=64)),ye.push(Oe[$>>2],Oe[(3&$)<<4|ie>>4],Oe[En],Oe[yn])}return ye.join("")},encodeString(de,fe){return this.HAS_NATIVE_SUPPORT&&!fe?btoa(de):this.encodeByteArray(Ce(de),fe)},decodeString(de,fe){return this.HAS_NATIVE_SUPPORT&&!fe?atob(de):function(de){const fe=[];let Oe=0,ye=0;for(;Oe<de.length;){const J=de[Oe++];if(J<128)fe[ye++]=String.fromCharCode(J);else if(J>191&&J<224){const $=de[Oe++];fe[ye++]=String.fromCharCode((31&J)<<6|63&$)}else if(J>239&&J<365){const Se=((7&J)<<18|(63&de[Oe++])<<12|(63&de[Oe++])<<6|63&de[Oe++])-65536;fe[ye++]=String.fromCharCode(55296+(Se>>10)),fe[ye++]=String.fromCharCode(56320+(1023&Se))}else{const $=de[Oe++],X=de[Oe++];fe[ye++]=String.fromCharCode((15&J)<<12|(63&$)<<6|63&X)}}return fe.join("")}(this.decodeStringToByteArray(de,fe))},decodeStringToByteArray(de,fe){this.init_();const Oe=fe?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let J=0;J<de.length;){const $=Oe[de.charAt(J++)],ie=J<de.length?Oe[de.charAt(J)]:0;++J;const Je=J<de.length?Oe[de.charAt(J)]:64;++J;const Vt=J<de.length?Oe[de.charAt(J)]:64;if(++J,null==$||null==ie||null==Je||null==Vt)throw Error();ye.push($<<2|ie>>4),64!==Je&&(ye.push(ie<<4&240|Je>>2),64!==Vt&&ye.push(Je<<6&192|Vt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}},ce=function(de){return function(de){const fe=Ce(de);return ke.encodeByteArray(fe,!0)}(de).replace(/\./g,"")},Q=function(de){try{return ke.decodeString(de,!0)}catch(fe){console.error("base64Decode failed: ",fe)}return null};function ue(de,fe){if(!(fe instanceof Object))return fe;switch(fe.constructor){case Date:return new Date(fe.getTime());case Object:void 0===de&&(de={});break;case Array:de=[];break;default:return fe}for(const Oe in fe)!fe.hasOwnProperty(Oe)||!Ne(Oe)||(de[Oe]=ue(de[Oe],fe[Oe]));return de}function Ne(de){return"__proto__"!==de}function ct(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function ft(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(de){return!1}}function ut(){return"object"==typeof self&&self.self===self}function Ye(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yt(){const de=ct();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function et(){return!ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wt(){return"object"==typeof indexedDB}function q(){return new Promise((de,fe)=>{try{let Oe=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(ye);J.onsuccess=()=>{J.result.close(),Oe||self.indexedDB.deleteDatabase(ye),de(!0)},J.onupgradeneeded=()=>{Oe=!1},J.onerror=()=>{var $;fe((null===($=J.error)||void 0===$?void 0:$.message)||"")}}catch(Oe){fe(Oe)}})}function qe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const nt=()=>{try{return function tt(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const de=process.env.__FIREBASE_DEFAULTS__;return de?JSON.parse(de):void 0})()||(()=>{if("undefined"==typeof document)return;let de;try{de=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Oe){return}const fe=de&&Q(de[1]);return fe&&JSON.parse(fe)})()}catch(de){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${de}`)}},sn=()=>{var de;return null===(de=nt())||void 0===de?void 0:de.config},gt=de=>{var fe;return null===(fe=nt())||void 0===fe?void 0:fe[`_${de}`]};class pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((fe,Oe)=>{this.resolve=fe,this.reject=Oe})}wrapCallback(fe){return(Oe,ye)=>{Oe?this.reject(Oe):this.resolve(ye),"function"==typeof fe&&(this.promise.catch(()=>{}),1===fe.length?fe(Oe):fe(Oe,ye))}}}function K(de,fe){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=fe||"demo-project",J=de.iat||0,$=de.sub||de.user_id;if(!$)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const X=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:J,exp:J+3600,auth_time:J,sub:$,user_id:$,firebase:{sign_in_provider:"custom",identities:{}}},de);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(X)),""].join(".")}class Ge extends Error{constructor(fe,Oe,ye){super(Oe),this.code=fe,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,Ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rt.prototype.create)}}class Rt{constructor(fe,Oe,ye){this.service=fe,this.serviceName=Oe,this.errors=ye}create(fe,...Oe){const ye=Oe[0]||{},J=`${this.service}/${fe}`,$=this.errors[fe],X=$?function Nt(de,fe){return de.replace(tn,(Oe,ye)=>{const J=fe[ye];return null!=J?String(J):`<${ye}?>`})}($,ye):"Error";return new Ge(J,`${this.serviceName}: ${X} (${J}).`,ye)}}const tn=/\{\$([^}]+)}/g;function xi(de,fe){return Object.prototype.hasOwnProperty.call(de,fe)}function ci(de){for(const fe in de)if(Object.prototype.hasOwnProperty.call(de,fe))return!1;return!0}function Pi(de,fe){if(de===fe)return!0;const Oe=Object.keys(de),ye=Object.keys(fe);for(const J of Oe){if(!ye.includes(J))return!1;const $=de[J],X=fe[J];if(qn($)&&qn(X)){if(!Pi($,X))return!1}else if($!==X)return!1}for(const J of ye)if(!Oe.includes(J))return!1;return!0}function qn(de){return null!==de&&"object"==typeof de}function Li(de){const fe=[];for(const[Oe,ye]of Object.entries(de))Array.isArray(ye)?ye.forEach(J=>{fe.push(encodeURIComponent(Oe)+"="+encodeURIComponent(J))}):fe.push(encodeURIComponent(Oe)+"="+encodeURIComponent(ye));return fe.length?"&"+fe.join("&"):""}function _i(de){const fe={};return de.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[J,$]=ye.split("=");fe[decodeURIComponent(J)]=decodeURIComponent($)}}),fe}function Mt(de){const fe=de.indexOf("?");if(!fe)return"";const Oe=de.indexOf("#",fe);return de.substring(fe,Oe>0?Oe:void 0)}function $e(de,fe){const Oe=new Ut(de,fe);return Oe.subscribe.bind(Oe)}class Ut{constructor(fe,Oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Oe,this.task.then(()=>{fe(this)}).catch(ye=>{this.error(ye)})}next(fe){this.forEachObserver(Oe=>{Oe.next(fe)})}error(fe){this.forEachObserver(Oe=>{Oe.error(fe)}),this.close(fe)}complete(){this.forEachObserver(fe=>{fe.complete()}),this.close()}subscribe(fe,Oe,ye){let J;if(void 0===fe&&void 0===Oe&&void 0===ye)throw new Error("Missing Observer.");J=function Bt(de,fe){if("object"!=typeof de||null===de)return!1;for(const Oe of fe)if(Oe in de&&"function"==typeof de[Oe])return!0;return!1}(fe,["next","error","complete"])?fe:{next:fe,error:Oe,complete:ye},void 0===J.next&&(J.next=Kt),void 0===J.error&&(J.error=Kt),void 0===J.complete&&(J.complete=Kt);const $=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(X){}}),this.observers.push(J),$}unsubscribeOne(fe){void 0===this.observers||void 0===this.observers[fe]||(delete this.observers[fe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(fe){if(!this.finalized)for(let Oe=0;Oe<this.observers.length;Oe++)this.sendOne(Oe,fe)}sendOne(fe,Oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[fe])try{Oe(this.observers[fe])}catch(ye){"undefined"!=typeof console&&console.error&&console.error(ye)}})}close(fe){this.finalized||(this.finalized=!0,void 0!==fe&&(this.finalError=fe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kt(){}function _e(de,fe=1e3,Oe=2){const ye=fe*Math.pow(Oe,de),J=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+J)}function Ot(de){return de&&de._delegate?de._delegate:de}},5089:(Jt,Ze,x)=>{x.d(Ze,{e:()=>ke});var p=x(1135),d=x(4004),W=x(5e3),Ce=x(4965),ve=x(520);let ke=(()=>{class be{constructor(Q,ee){this.glopalService=Q,this.http=ee,this.arealoading=!1,this.addressesLoading=!1,this.userProfile=new p.X(null),this.addresses=new p.X(null),this.areas=new p.X(null)}isLogin(){return!!localStorage.getItem("joinToken")}signupu(Q){return this.http.post(`${this.glopalService.apiUrlOne}signUp`,Q)}logIn(Q){return this.http.post(`${this.glopalService.apiUrlOne}logIn`,Q)}getUserProfile(){return this.http.get(`${this.glopalService.apiUrlOne}user/getProfile`).pipe((0,d.U)(Q=>Q.payload)).subscribe(Q=>this.userProfile.next(Q))}updateUserProfile(Q){return this.http.post(`${this.glopalService.apiUrlOne}user/updateProfile`,Q)}getAllAreas(){return this.arealoading=!0,this.http.get(`${this.glopalService.apiUrlOne}areaList`).pipe((0,d.U)(Q=>Q.payload)).subscribe(Q=>{this.areas.next(Q),this.arealoading=!1})}getAddress(Q){return this.addressesLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/list_address`,{user_id:Q}).pipe((0,d.U)(ee=>ee.payload)).subscribe(ee=>{this.addresses.next(ee),this.addressesLoading=!1})}addAddress(Q){return this.http.post(`${this.glopalService.apiUrlOne}user/add_address`,Q)}deleteAddress(Q){return this.http.post(`${this.glopalService.apiUrlOne}user/delete_address`,{address_id:Q})}updateAddres(Q){return this.http.post(`${this.glopalService.apiUrlOne}user/edit_address`,Q)}resetPassword(Q){return this.http.post(`${this.glopalService.apiUrlOne}resetPassword`,Q)}}return be.\u0275fac=function(Q){return new(Q||be)(W.LFG(Ce.W),W.LFG(ve.eN))},be.\u0275prov=W.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},2169:(Jt,Ze,x)=>{x.d(Ze,{Y:()=>ke});var p=x(1135),d=x(4004),W=x(5e3),Ce=x(520),ve=x(4965);let ke=(()=>{class be{constructor(Q,ee){this.http=Q,this.glopalService=ee,this.activities=new p.X([]),this.clups=new p.X([]),this.intersts=new p.X([]),this.activitiesLoading=!0,this.clupsLoading=!0,this.interistsLoading=!1,this.ActivitiesRequestComplete=!1}getTopSliderGuest(){return this.http.post(`${this.glopalService.apiUrlOne}promoBannerOpen`,{}).pipe((0,d.U)(Q=>Array.isArray(Q.payload)?Q.payload:[]))}getTopSliderUser(){return this.http.post(`${this.glopalService.apiUrlOne}user/promoBanner`,{}).pipe((0,d.U)(Q=>Array.isArray(Q.payload)?Q.payload:[]))}getActivitiesGuest(Q){return this.activitiesLoading=!0,this.ActivitiesRequestComplete=!1,this.http.post(`${this.glopalService.apiUrlOne}getActivityListWeb`,{activity_type:"DATE",limit:10,page:Q}).pipe((0,d.U)(ue=>ue.payload)).subscribe(ue=>{Array.isArray(ue)?this.activities.next(ue):this.activities.next([]),this.activitiesLoading=!1,this.ActivitiesRequestComplete=!0})}getActivitiesUser(Q){return this.ActivitiesRequestComplete=!1,this.activitiesLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/getActivityList`,{activity_type:"DATE",limit:10,page:Q}).pipe((0,d.U)(ue=>ue.payload)).subscribe(ue=>{Array.isArray(ue)?this.activities.next(ue):this.activities.next([]),this.activitiesLoading=!1,this.ActivitiesRequestComplete=!0})}getClupsGuest(){return this.clupsLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}getClubListWeb`,{}).pipe((0,d.U)(Q=>Q.payload)).subscribe(Q=>{Array.isArray(Q)?this.clups.next(Q):this.clups.next([]),this.clupsLoading=!1})}getClupsUser(){return this.clupsLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/getClubList`,{}).pipe((0,d.U)(Q=>Q.payload)).subscribe(Q=>{Array.isArray(Q)?this.clups.next(Q):this.clups.next([]),this.clupsLoading=!1})}getIntersts(){return this.interistsLoading=!0,this.http.get(`${this.glopalService.apiUrlOne}interestsList`).pipe((0,d.U)(Q=>Q.payload)).subscribe(Q=>{Array.isArray(Q)?this.intersts.next(Q):this.intersts.next([]),this.interistsLoading=!1})}getPopular(){return this.http.get(`${this.glopalService.apiUrlOne}mostSelling`).pipe((0,d.U)(Q=>Array.isArray(Q.payload)?Q.payload:[]))}}return be.\u0275fac=function(Q){return new(Q||be)(W.LFG(Ce.eN),W.LFG(ve.W))},be.\u0275prov=W.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},1408:(Jt,Ze,x)=>{x.d(Ze,{Z:()=>ke});var p=x(1135),d=x(4004),W=x(5e3),Ce=x(520),ve=x(4965);let ke=(()=>{class be{constructor(Q,ee){this.http=Q,this.glopalService=ee,this.members=new p.X(null),this.membersLoading=!1}getAllMembers(){return this.membersLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/userChildDetails`,{}).pipe((0,d.U)(Q=>{var ee;return null===(ee=null==Q?void 0:Q.payload)||void 0===ee?void 0:ee.child_data})).subscribe(Q=>{Array.isArray(Q)?this.members.next(Q):this.members.next([]),this.membersLoading=!1})}addMember(Q){return this.http.post(`${this.glopalService.apiUrlOne}user/addChild`,Q)}updateMember(Q){return this.http.post(`${this.glopalService.apiUrlOne}user/updateChild`,Q)}deleteMember(Q){return this.http.post(`${this.glopalService.apiUrlOne}user/removeChild`,{child_id:Q})}}return be.\u0275fac=function(Q){return new(Q||be)(W.LFG(Ce.eN),W.LFG(ve.W))},be.\u0275prov=W.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},3904:(Jt,Ze,x)=>{x.d(Ze,{T:()=>ke});var p=x(1135),d=x(4004),W=x(5e3),Ce=x(520),ve=x(4965);let ke=(()=>{class be{constructor(Q,ee){this.http=Q,this.glopalService=ee,this.notification=new p.X(null),this.loading=!1}getNotifications(){return this.loading=!0,this.http.post(`${this.glopalService.apiUrlOne}getNotificationLog`,{}).pipe((0,d.U)(Q=>Array.isArray(Q.payload)?Q.payload:[])).subscribe(Q=>{this.notification.next(Q),this.loading=!1})}deleteNotification(Q){return this.http.post(`${this.glopalService.apiUrlOne}deleteNotification`,{id:Q})}}return be.\u0275fac=function(Q){return new(Q||be)(W.LFG(Ce.eN),W.LFG(ve.W))},be.\u0275prov=W.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},9863:(Jt,Ze,x)=>{x.d(Ze,{d:()=>ve});var p=x(4004),d=x(5e3),W=x(4965),Ce=x(520);let ve=(()=>{class ke{constructor(ce,Q){this.glopalService=ce,this.http=Q}getStoreTabs(){return this.http.get(`${this.glopalService.apiUrlTwo}categories`)}getCategoryById(ce,Q){return this.http.get(`${this.glopalService.apiUrlTwo}category/${ce}/products`,{params:{page:Q}}).pipe((0,p.U)(ee=>{var ue;return null===(ue=null==ee?void 0:ee.payload)||void 0===ue?void 0:ue.data}))}getProductDetails(ce){return this.http.get(`${this.glopalService.apiUrlTwo}product/${ce}`).pipe((0,p.U)(Q=>({code:Q.code,payload:Q.payload})))}}return ke.\u0275fac=function(ce){return new(ce||ke)(d.LFG(W.W),d.LFG(Ce.eN))},ke.\u0275prov=d.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})()},4965:(Jt,Ze,x)=>{x.d(Ze,{W:()=>W});var p=x(1135),d=x(5e3);let W=(()=>{class Ce{constructor(){this.hideNavbarAndFooter=new p.X(!1),this.apiUrlOne="https://code-pirates.com/join/api/v1/",this.apiUrlTwo="https://code-pirates.com/join/api/v2/"}}return Ce.\u0275fac=function(ke){return new(ke||Ce)},Ce.\u0275prov=d.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},2771:(Jt,Ze,x)=>{var p=x(2313),d=x(5e3),W=x(2094),Ce=x(8995);let ve=(()=>{class b{constructor(){}ngOnInit(){}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275cmp=d.Xpm({type:b,selectors:[["app-notfound"]],decls:5,vars:3,consts:[[1,"py-5","container","text-center",2,"min-height","100vh"],["src","assets/images/notfound-page.svg","alt","",1,"img-fluid"],[1,"text-center"]],template:function(a,g){1&a&&(d.TgZ(0,"section",0),d._UZ(1,"img",1),d.TgZ(2,"h1",2),d._uU(3),d.ALo(4,"translate"),d.qZA()()),2&a&&(d.xp6(3),d.hij(" ",d.lcZ(4,1,"notfound")," "))},pipes:[Ce.X$],styles:[""]}),b})(),ke=(()=>{class b{constructor(a){this.router=a}canActivate(a,g){return!!localStorage.getItem("joinToken")||(this.router.navigate(["/auth/login"]),!1)}}return b.\u0275fac=function(a){return new(a||b)(d.LFG(W.F0))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const ce=[{path:"",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(5)]).then(x.bind(x,8005)).then(b=>b.HomeModule)},{path:"auth",canActivate:[(()=>{class b{constructor(a){this.router=a}canActivate(a,g){return!localStorage.getItem("joinToken")||(this.router.navigate(["/"]),!1)}}return b.\u0275fac=function(a){return new(a||b)(d.LFG(W.F0))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(410)]).then(x.bind(x,6269)).then(b=>b.AuthModule)},{path:"store",loadChildren:()=>Promise.all([x.e(466),x.e(592)]).then(x.bind(x,5718)).then(b=>b.StoreModule)},{path:"activities",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(181)]).then(x.bind(x,3181)).then(b=>b.ActivitiesModule)},{path:"activity/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(803)]).then(x.bind(x,8803)).then(b=>b.ActivityDetailsModule)},{path:"interests/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(703)]).then(x.bind(x,5703)).then(b=>b.InterstsModule)},{path:"clup/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(743)]).then(x.bind(x,2743)).then(b=>b.ClupDetailsModule)},{path:"product/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(277)]).then(x.bind(x,3277)).then(b=>b.ProductDetailsModule)},{path:"search/:str",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(998)]).then(x.bind(x,8998)).then(b=>b.SearchResultModule)},{path:"profile",canActivate:[ke],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(908)]).then(x.bind(x,6908)).then(b=>b.ProfileModule)},{path:"favorite",canActivate:[ke],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(356)]).then(x.bind(x,356)).then(b=>b.FavoritModule)},{path:"history",canActivate:[ke],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(862)]).then(x.bind(x,862)).then(b=>b.HistoryModule)},{path:"members",canActivate:[ke],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(655)]).then(x.bind(x,6655)).then(b=>b.MembersModule)},{path:"contact",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(420)]).then(x.bind(x,5420)).then(b=>b.ContactModule)},{path:"notifications",canActivate:[ke],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(515)]).then(x.bind(x,7515)).then(b=>b.NotificationsModule)},{path:"cart",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(202)]).then(x.bind(x,4345)).then(b=>b.CartModule)},{path:"**",component:ve}];let Q=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=d.oAB({type:b}),b.\u0275inj=d.cJS({imports:[[W.Bz.forRoot(ce,{initialNavigation:"enabled",scrollPositionRestoration:"enabled",useHash:!0})],W.Bz]}),b})();var ee=x(3904),ue=x(1408),Ne=x(2169),ct=x(5089),it=x(9863),ft=x(4965),ut=x(9808),Ye=x(8274),lt=x(5351),Be=x(3075);function yt(b,c){1&b&&d._uU(0),2&b&&d.Oqu(c.index<c.value?"\u2605":"\u2606")}function ge(b,c){}const we=function(b,c){return{index:b,value:c}};function et(b,c){if(1&b){const a=d.EpF();d.TgZ(0,"span",3),d._uU(1),d.qZA(),d.TgZ(2,"span",4),d.NdJ("mouseenter",function(){const B=d.CHM(a).index;return d.oxw().enter(B+1)})("click",function(){const B=d.CHM(a).index;return d.oxw().rate(B+1)}),d.YNc(3,ge,0,0,"ng-template",5),d.qZA()}if(2&b){const a=c.$implicit,g=c.index,C=d.oxw(),B=d.MAs(2);d.xp6(1),d.hij("(",g<C.value?"*":" ",")"),d.xp6(1),d.Udp("cursor",C.readonly?"default":"pointer"),d.ekj("active",g<C.value),d.Q6J("title",a.title),d.xp6(1),d.Q6J("ngTemplateOutlet",C.customTemplate||B)("ngTemplateOutletContext",d.WLB(8,we,g,C.value))}}let wt=(()=>{class b{constructor(){this.ariaLabel="rating"}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const q={provide:Be.JU,useExisting:(0,d.Gpc)(()=>qe),multi:!0};let qe=(()=>{class b{constructor(a,g){this.changeDetection=a,this.max=5,this.readonly=!1,this.titles=[],this.onHover=new d.vpe,this.onLeave=new d.vpe,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.ariaLabel="rating",this.range=[],this.value=0,Object.assign(this,g)}onKeydown(a){-1!==[37,38,39,40].indexOf(a.which)&&(a.preventDefault(),a.stopPropagation(),this.rate(this.value+(38===a.which||39===a.which?1:-1)))}ngOnInit(){this.max=this.max||5,this.titles=void 0!==this.titles&&this.titles.length>0?this.titles:[],this.range=this.buildTemplateObjects(this.max)}writeValue(a){if(a%1!==a)return this.value=Math.round(a),this.preValue=a,void this.changeDetection.markForCheck();this.preValue=a,this.value=a,this.changeDetection.markForCheck()}enter(a){this.readonly||(this.value=a,this.changeDetection.markForCheck(),this.onHover.emit(a))}reset(){"number"==typeof this.preValue&&(this.value=Math.round(this.preValue),this.changeDetection.markForCheck(),this.onLeave.emit(this.value))}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouched=a}rate(a){!this.readonly&&this.range&&a>=0&&a<=this.range.length&&(this.writeValue(a),this.onChange(a))}buildTemplateObjects(a){const g=[];for(let C=0;C<a;C++)g.push({index:C,title:this.titles[C]||C+1});return g}}return b.\u0275fac=function(a){return new(a||b)(d.Y36(d.sBO),d.Y36(wt))},b.\u0275cmp=d.Xpm({type:b,selectors:[["rating"]],hostBindings:function(a,g){1&a&&d.NdJ("keydown",function(B){return g.onKeydown(B)})},inputs:{max:"max",readonly:"readonly",titles:"titles",customTemplate:"customTemplate"},outputs:{onHover:"onHover",onLeave:"onLeave"},features:[d._Bn([q])],decls:4,vars:4,consts:[["tabindex","0","role","slider","aria-valuemin","0",3,"mouseleave","keydown"],["star",""],["ngFor","",3,"ngForOf"],[1,"sr-only","visually-hidden"],[1,"bs-rating-star",3,"title","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(a,g){1&a&&(d.TgZ(0,"span",0),d.NdJ("mouseleave",function(){return g.reset()})("keydown",function(B){return g.onKeydown(B)}),d.YNc(1,yt,1,1,"ng-template",null,1,d.W1O),d.YNc(3,et,4,11,"ng-template",2),d.qZA()),2&a&&(d.uIk("aria-label",g.ariaLabel)("aria-valuemax",g.range.length)("aria-valuenow",g.value),d.xp6(3),d.Q6J("ngForOf",g.range))},directives:[ut.sg,ut.tP],encapsulation:2,changeDetection:0}),b})(),tt=(()=>{class b{static forRoot(){return{ngModule:b,providers:[]}}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=d.oAB({type:b}),b.\u0275inj=d.cJS({imports:[[ut.ez]]}),b})();function Le(b){return"function"==typeof b}let Ue=!1;const Xe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(b){if(b){const c=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+c.stack)}else Ue&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Ue=b},get useDeprecatedSynchronousErrorHandling(){return Ue}};function nt(b){setTimeout(()=>{throw b},0)}const ot={closed:!0,next(b){},error(b){if(Xe.useDeprecatedSynchronousErrorHandling)throw b;nt(b)},complete(){}},xt=Array.isArray||(b=>b&&"number"==typeof b.length),pt=(()=>{function b(c){return Error.call(this),this.message=c?`${c.length} errors occurred during unsubscription:\n${c.map((a,g)=>`${g+1}) ${a.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=c,this}return b.prototype=Object.create(Error.prototype),b})();class K{constructor(c){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,c&&(this._ctorUnsubscribe=!0,this._unsubscribe=c)}unsubscribe(){let c;if(this.closed)return;let{_parentOrParents:a,_ctorUnsubscribe:g,_unsubscribe:C,_subscriptions:B}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof K)a.remove(this);else if(null!==a)for(let oe=0;oe<a.length;++oe)a[oe].remove(this);if(Le(C)){g&&(this._unsubscribe=void 0);try{C.call(this)}catch(oe){c=oe instanceof pt?Ae(oe.errors):[oe]}}if(xt(B)){let oe=-1,Te=B.length;for(;++oe<Te;){const Qe=B[oe];if(null!==(b=Qe)&&"object"==typeof b)try{Qe.unsubscribe()}catch(Ct){c=c||[],Ct instanceof pt?c=c.concat(Ae(Ct.errors)):c.push(Ct)}}}var b;if(c)throw new pt(c)}add(c){let a=c;if(!c)return K.EMPTY;switch(typeof c){case"function":a=new K(c);case"object":if(a===this||a.closed||"function"!=typeof a.unsubscribe)return a;if(this.closed)return a.unsubscribe(),a;if(!(a instanceof K)){const B=a;a=new K,a._subscriptions=[B]}break;default:throw new Error("unrecognized teardown "+c+" added to Subscription.")}let{_parentOrParents:g}=a;if(null===g)a._parentOrParents=this;else if(g instanceof K){if(g===this)return a;a._parentOrParents=[g,this]}else{if(-1!==g.indexOf(this))return a;g.push(this)}const C=this._subscriptions;return null===C?this._subscriptions=[a]:C.push(a),a}remove(c){const a=this._subscriptions;if(a){const g=a.indexOf(c);-1!==g&&a.splice(g,1)}}}var b;function Ae(b){return b.reduce((c,a)=>c.concat(a instanceof pt?a.errors:a),[])}K.EMPTY=((b=new K).closed=!0,b);const Ge="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Nt extends K{constructor(c,a,g){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ot;break;case 1:if(!c){this.destination=ot;break}if("object"==typeof c){c instanceof Nt?(this.syncErrorThrowable=c.syncErrorThrowable,this.destination=c,c.add(this)):(this.syncErrorThrowable=!0,this.destination=new tn(this,c));break}default:this.syncErrorThrowable=!0,this.destination=new tn(this,c,a,g)}}[Ge](){return this}static create(c,a,g){const C=new Nt(c,a,g);return C.syncErrorThrowable=!1,C}next(c){this.isStopped||this._next(c)}error(c){this.isStopped||(this.isStopped=!0,this._error(c))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(c){this.destination.next(c)}_error(c){this.destination.error(c),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:c}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=c,this}}class tn extends Nt{constructor(c,a,g,C){super(),this._parentSubscriber=c;let B,oe=this;Le(a)?B=a:a&&(B=a.next,g=a.error,C=a.complete,a!==ot&&(oe=Object.create(a),Le(oe.unsubscribe)&&this.add(oe.unsubscribe.bind(oe)),oe.unsubscribe=this.unsubscribe.bind(this))),this._context=oe,this._next=B,this._error=g,this._complete=C}next(c){if(!this.isStopped&&this._next){const{_parentSubscriber:a}=this;Xe.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?this.__tryOrSetError(a,this._next,c)&&this.unsubscribe():this.__tryOrUnsub(this._next,c)}}error(c){if(!this.isStopped){const{_parentSubscriber:a}=this,{useDeprecatedSynchronousErrorHandling:g}=Xe;if(this._error)g&&a.syncErrorThrowable?(this.__tryOrSetError(a,this._error,c),this.unsubscribe()):(this.__tryOrUnsub(this._error,c),this.unsubscribe());else if(a.syncErrorThrowable)g?(a.syncErrorValue=c,a.syncErrorThrown=!0):nt(c),this.unsubscribe();else{if(this.unsubscribe(),g)throw c;nt(c)}}}complete(){if(!this.isStopped){const{_parentSubscriber:c}=this;if(this._complete){const a=()=>this._complete.call(this._context);Xe.useDeprecatedSynchronousErrorHandling&&c.syncErrorThrowable?(this.__tryOrSetError(c,a),this.unsubscribe()):(this.__tryOrUnsub(a),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(c,a){try{c.call(this._context,a)}catch(g){if(this.unsubscribe(),Xe.useDeprecatedSynchronousErrorHandling)throw g;nt(g)}}__tryOrSetError(c,a,g){if(!Xe.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{a.call(this._context,g)}catch(C){return Xe.useDeprecatedSynchronousErrorHandling?(c.syncErrorValue=C,c.syncErrorThrown=!0,!0):(nt(C),!0)}return!1}_unsubscribe(){const{_parentSubscriber:c}=this;this._context=null,this._parentSubscriber=null,c.unsubscribe()}}const zn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Xn(b){return b}let Kn=(()=>{class b{constructor(a){this._isScalar=!1,a&&(this._subscribe=a)}lift(a){const g=new b;return g.source=this,g.operator=a,g}subscribe(a,g,C){const{operator:B}=this,oe=function An(b,c,a){if(b){if(b instanceof Nt)return b;if(b[Ge])return b[Ge]()}return b||c||a?new Nt(b,c,a):new Nt(ot)}(a,g,C);if(oe.add(B?B.call(oe,this.source):this.source||Xe.useDeprecatedSynchronousErrorHandling&&!oe.syncErrorThrowable?this._subscribe(oe):this._trySubscribe(oe)),Xe.useDeprecatedSynchronousErrorHandling&&oe.syncErrorThrowable&&(oe.syncErrorThrowable=!1,oe.syncErrorThrown))throw oe.syncErrorValue;return oe}_trySubscribe(a){try{return this._subscribe(a)}catch(g){Xe.useDeprecatedSynchronousErrorHandling&&(a.syncErrorThrown=!0,a.syncErrorValue=g),function gn(b){for(;b;){const{closed:c,destination:a,isStopped:g}=b;if(c||g)return!1;b=a&&a instanceof Nt?a:null}return!0}(a)?a.error(g):console.warn(g)}}forEach(a,g){return new(g=xi(g))((C,B)=>{let oe;oe=this.subscribe(Te=>{try{a(Te)}catch(Qe){B(Qe),oe&&oe.unsubscribe()}},B,C)})}_subscribe(a){const{source:g}=this;return g&&g.subscribe(a)}[zn](){return this}pipe(...a){return 0===a.length?this:function vi(b){return 0===b.length?Xn:1===b.length?b[0]:function(a){return b.reduce((g,C)=>C(g),a)}}(a)(this)}toPromise(a){return new(a=xi(a))((g,C)=>{let B;this.subscribe(oe=>B=oe,oe=>C(oe),()=>g(B))})}}return b.create=c=>new b(c),b})();function xi(b){if(b||(b=Xe.Promise||Promise),!b)throw new Error("no Promise impl found");return b}const ci=(()=>{function b(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return b.prototype=Object.create(Error.prototype),b})();class un extends K{constructor(c,a){super(),this.subject=c,this.subscriber=a,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const c=this.subject,a=c.observers;if(this.subject=null,!a||0===a.length||c.isStopped||c.closed)return;const g=a.indexOf(this.subscriber);-1!==g&&a.splice(g,1)}}class Pi extends Nt{constructor(c){super(c),this.destination=c}}let qn=(()=>{class b extends Kn{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ge](){return new Pi(this)}lift(a){const g=new nn(this,this);return g.operator=a,g}next(a){if(this.closed)throw new ci;if(!this.isStopped){const{observers:g}=this,C=g.length,B=g.slice();for(let oe=0;oe<C;oe++)B[oe].next(a)}}error(a){if(this.closed)throw new ci;this.hasError=!0,this.thrownError=a,this.isStopped=!0;const{observers:g}=this,C=g.length,B=g.slice();for(let oe=0;oe<C;oe++)B[oe].error(a);this.observers.length=0}complete(){if(this.closed)throw new ci;this.isStopped=!0;const{observers:a}=this,g=a.length,C=a.slice();for(let B=0;B<g;B++)C[B].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(a){if(this.closed)throw new ci;return super._trySubscribe(a)}_subscribe(a){if(this.closed)throw new ci;return this.hasError?(a.error(this.thrownError),K.EMPTY):this.isStopped?(a.complete(),K.EMPTY):(this.observers.push(a),new un(this,a))}asObservable(){const a=new Kn;return a.source=this,a}}return b.create=(c,a)=>new nn(c,a),b})();class nn extends qn{constructor(c,a){super(),this.destination=c,this.source=a}next(c){const{destination:a}=this;a&&a.next&&a.next(c)}error(c){const{destination:a}=this;a&&a.error&&this.destination.error(c)}complete(){const{destination:c}=this;c&&c.complete&&this.destination.complete()}_subscribe(c){const{source:a}=this;return a?this.source.subscribe(c):K.EMPTY}}class Li extends K{constructor(c,a){super()}schedule(c,a=0){return this}}let Mt=(()=>{class b{constructor(a,g=b.now){this.SchedulerAction=a,this.now=g}schedule(a,g=0,C){return new this.SchedulerAction(this,a).schedule(C,g)}}return b.now=()=>Date.now(),b})();class Fe extends Mt{constructor(c,a=Mt.now){super(c,()=>Fe.delegate&&Fe.delegate!==this?Fe.delegate.now():a()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(c,a=0,g){return Fe.delegate&&Fe.delegate!==this?Fe.delegate.schedule(c,a,g):super.schedule(c,a,g)}flush(c){const{actions:a}=this;if(this.active)return void a.push(c);let g;this.active=!0;do{if(g=c.execute(c.state,c.delay))break}while(c=a.shift());if(this.active=!1,g){for(;c=a.shift();)c.unsubscribe();throw g}}}const Ut=new Fe(class _i extends Li{constructor(c,a){super(c,a),this.scheduler=c,this.work=a,this.pending=!1}schedule(c,a=0){if(this.closed)return this;this.state=c;const g=this.id,C=this.scheduler;return null!=g&&(this.id=this.recycleAsyncId(C,g,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(C,this.id,a),this}requestAsyncId(c,a,g=0){return setInterval(c.flush.bind(c,this),g)}recycleAsyncId(c,a,g=0){if(null!==g&&this.delay===g&&!1===this.pending)return a;clearInterval(a)}execute(c,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const g=this._execute(c,a);if(g)return g;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(c,a){let C,g=!1;try{this.work(c)}catch(B){g=!0,C=!!B&&B||new Error(B)}if(g)return this.unsubscribe(),C}_unsubscribe(){const c=this.id,a=this.scheduler,g=a.actions,C=g.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==C&&g.splice(C,1),null!=c&&(this.id=this.recycleAsyncId(a,c,null)),this.delay=null}}),It={leading:!0,trailing:!1};function xe(b,c=Ut,a=It){return g=>g.lift(new Ee(b,c,a.leading,a.trailing))}class Ee{constructor(c,a,g,C){this.duration=c,this.scheduler=a,this.leading=g,this.trailing=C}call(c,a){return a.subscribe(new We(c,this.duration,this.scheduler,this.leading,this.trailing))}}class We extends Nt{constructor(c,a,g,C,B){super(c),this.duration=a,this.scheduler=g,this.leading=C,this.trailing=B,this._hasTrailingValue=!1,this._trailingValue=null}_next(c){this.throttled?this.trailing&&(this._trailingValue=c,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(bt,this.duration,{subscriber:this})),this.leading?this.destination.next(c):this.trailing&&(this._trailingValue=c,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const c=this.throttled;c&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),c.unsubscribe(),this.remove(c),this.throttled=null)}}function bt(b){const{subscriber:c}=b;c.clearThrottle()}function St(){}function Tt(b,c,a){return function(C){return C.lift(new vn(b,c,a))}}class vn{constructor(c,a,g){this.nextOrObserver=c,this.error=a,this.complete=g}call(c,a){return a.subscribe(new wn(c,this.nextOrObserver,this.error,this.complete))}}class wn extends Nt{constructor(c,a,g,C){super(c),this._tapNext=St,this._tapError=St,this._tapComplete=St,this._tapError=g||St,this._tapComplete=C||St,Le(a)?(this._context=this,this._tapNext=a):a&&(this._context=a,this._tapNext=a.next||St,this._tapError=a.error||St,this._tapComplete=a.complete||St)}_next(c){try{this._tapNext.call(this._context,c)}catch(a){return void this.destination.error(a)}this.destination.next(c)}_error(c){try{this._tapError.call(this._context,c)}catch(a){return void this.destination.error(a)}this.destination.error(c)}_complete(){try{this._tapComplete.call(this._context)}catch(c){return void this.destination.error(c)}return this.destination.complete()}}function pn(b,c){return a=>a.lift(new z(b,c))}class z{constructor(c,a){this.compare=c,this.keySelector=a}call(c,a){return a.subscribe(new he(c,this.compare,this.keySelector))}}class he extends Nt{constructor(c,a,g){super(c),this.keySelector=g,this.hasKey=!1,"function"==typeof a&&(this.compare=a)}compare(c,a){return c===a}_next(c){let a;try{const{keySelector:C}=this;a=C?C(c):c}catch(C){return this.destination.error(C)}let g=!1;if(this.hasKey)try{const{compare:C}=this;g=C(this.key,a)}catch(C){return this.destination.error(C)}else this.hasKey=!0;g||(this.key=a,this.destination.next(c))}}class Ve{constructor(c,a){this.predicate=c,this.thisArg=a}call(c,a){return a.subscribe(new vt(c,this.predicate,this.thisArg))}}class vt extends Nt{constructor(c,a,g){super(c),this.predicate=a,this.thisArg=g,this.count=0}_next(c){let a;try{a=this.predicate.call(this.thisArg,c,this.count++)}catch(g){return void this.destination.error(g)}a&&this.destination.next(c)}}var Ot="undefined"!=typeof window?window:{screen:{},navigator:{}},de=(Ot.matchMedia||function(){return{matches:!1}}).bind(Ot),fe=!1,ye=function(){};Ot.addEventListener&&Ot.addEventListener("p",ye,{get passive(){return fe=!0}}),Ot.removeEventListener&&Ot.removeEventListener("p",ye,!1);var J=fe,X="ontouchstart"in Ot,Lt=(X||"TouchEvent"in Ot&&de("(any-pointer: coarse)"),Ot.navigator.userAgent||"");de("(pointer: coarse)").matches&&/iPad|Macintosh/.test(Lt)&&Math.min(Ot.screen.width||0,Ot.screen.height||0);(de("(pointer: coarse)").matches||!de("(pointer: fine)").matches&&X)&&/Windows.*Firefox/.test(Lt),de("(any-pointer: fine)").matches||de("(any-hover: hover)");const Ti=["tooltipTemplate"],Di=["leftOuterSelectionBar"],wr=["rightOuterSelectionBar"],Mi=["fullBar"],Yt=["selectionBar"],Zn=["minHandle"],mi=["maxHandle"],Hi=["floorLabel"],vr=["ceilLabel"],ji=["minHandleLabel"],or=["maxHandleLabel"],ii=["combinedLabel"],Cr=["ticksElement"];function Ii(b,c){if(1&b&&d._UZ(0,"ngx-slider-tooltip-wrapper",31),2&b){const a=d.oxw().$implicit,g=d.oxw();d.Q6J("template",g.tooltipTemplate)("tooltip",a.valueTooltip)("placement",a.valueTooltipPlacement)("content",a.value)}}function Ln(b,c){if(1&b&&d._UZ(0,"span",32),2&b){const a=d.oxw().$implicit;d.Q6J("innerHTML",a.legend,d.oJD)}}const Qr=function(b){return{"ngx-slider-selected":b}};function Wi(b,c){if(1&b&&(d.TgZ(0,"span",27),d._UZ(1,"ngx-slider-tooltip-wrapper",28),d.YNc(2,Ii,1,4,"ngx-slider-tooltip-wrapper",29),d.YNc(3,Ln,1,1,"span",30),d.qZA()),2&b){const a=c.$implicit,g=d.oxw();d.Q6J("ngClass",d.VKq(7,Qr,a.selected))("ngStyle",a.style),d.xp6(1),d.Q6J("template",g.tooltipTemplate)("tooltip",a.tooltip)("placement",a.tooltipPlacement),d.xp6(1),d.Q6J("ngIf",null!=a.value),d.xp6(1),d.Q6J("ngIf",null!=a.legend)}}function ws(b,c){}function nr(b,c){1&b&&d.YNc(0,ws,0,0,"ng-template")}const Vi=function(b,c,a){return{tooltip:b,placement:c,content:a}};function jr(b,c){if(1&b&&(d.ynx(0),d.YNc(1,nr,1,0,null,1),d.BQk()),2&b){const a=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",a.template)("ngTemplateOutletContext",d.kEZ(2,Vi,a.tooltip,a.placement,a.content))}}function $r(b,c){if(1&b&&(d.ynx(0),d.TgZ(1,"div",2),d._uU(2),d.qZA(),d.BQk()),2&b){const a=d.oxw();d.xp6(1),d.uIk("title",a.tooltip)("data-tooltip-placement",a.placement),d.xp6(1),d.hij(" ",a.content," ")}}const wi={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};wi[wi.Low]="Low",wi[wi.High]="High",wi[wi.Floor]="Floor",wi[wi.Ceil]="Ceil",wi[wi.TickValue]="TickValue";class di{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.getStepLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.rotate=0,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel="ngx-slider",this.ariaLabelledBy=null,this.ariaLabelHigh="ngx-slider-max",this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const mn={Min:0,Max:1};mn[mn.Min]="Min",mn[mn.Max]="Max";class Jr{}class Ft{static isNullOrUndefined(c){return null==c}static areArraysEqual(c,a){if(c.length!==a.length)return!1;for(let g=0;g<c.length;++g)if(c[g]!==a[g])return!1;return!0}static linearValueToPosition(c,a,g){return(c-a)/(g-a)}static logValueToPosition(c,a,g){return((c=Math.log(c))-(a=Math.log(a)))/((g=Math.log(g))-a)}static linearPositionToValue(c,a,g){return c*(g-a)+a}static logPositionToValue(c,a,g){return a=Math.log(a),g=Math.log(g),Math.exp(c*(g-a)+a)}static findStepIndex(c,a){const g=a.map(B=>Math.abs(c-B.value));let C=0;for(let B=0;B<a.length;B++)g[B]!==g[C]&&g[B]<g[C]&&(C=B);return C}}class qi{static isTouchEvent(c){return void 0!==window.TouchEvent?c instanceof TouchEvent:void 0!==c.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class Ai{static roundToPrecisionLimit(c,a){return+c.toPrecision(a)}static isModuloWithinPrecisionLimit(c,a,g){const C=Math.pow(10,-g);return Math.abs(c%a)<=C||Math.abs(Math.abs(c%a)-a)<=C}static clampToRange(c,a,g){return Math.min(Math.max(c,a),g)}}class as{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class ls{constructor(c){this.renderer=c}attachPassiveEventListener(c,a,g,C){if(!0!==J)return this.attachEventListener(c,a,g,C);const B=new as;B.eventName=a,B.events=new qn;const oe=Te=>{B.events.next(Te)};return c.addEventListener(a,oe,{passive:!0,capture:!1}),B.teardownCallback=()=>{c.removeEventListener(a,oe,{passive:!0,capture:!1})},B.eventsSubscription=B.events.pipe(Ft.isNullOrUndefined(C)?Tt(()=>{}):xe(C,void 0,{leading:!0,trailing:!0})).subscribe(Te=>{g(Te)}),B}detachEventListener(c){Ft.isNullOrUndefined(c.eventsSubscription)||(c.eventsSubscription.unsubscribe(),c.eventsSubscription=null),Ft.isNullOrUndefined(c.events)||(c.events.complete(),c.events=null),Ft.isNullOrUndefined(c.teardownCallback)||(c.teardownCallback(),c.teardownCallback=null)}attachEventListener(c,a,g,C){const B=new as;return B.eventName=a,B.events=new qn,B.teardownCallback=this.renderer.listen(c,a,Te=>{B.events.next(Te)}),B.eventsSubscription=B.events.pipe(Ft.isNullOrUndefined(C)?Tt(()=>{}):xe(C,void 0,{leading:!0,trailing:!0})).subscribe(Te=>{g(Te)}),B}}let ar=(()=>{class b{constructor(a,g,C){this.elemRef=a,this.renderer=g,this.changeDetectionRef=C,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this._rotate=0,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.transform="",this.eventListeners=[],this.eventListenerHelper=new ls(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}get rotate(){return this._rotate}setAlwaysHide(a){this._alwaysHide=a,this.visibility=a?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(a){this._vertical=a,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(a){this._scale=a}setRotate(a){this._rotate=a,this.transform="rotate("+a+"deg)"}getRotate(){return this._rotate}setPosition(a){this._position!==a&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=a,this._vertical?this.bottom=Math.round(a)+"px":this.left=Math.round(a)+"px"}calculateDimension(){const a=this.getBoundingClientRect();this._dimension=this.vertical?(a.bottom-a.top)*this.scale:(a.right-a.left)*this.scale}setDimension(a){this._dimension!==a&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=a,this._vertical?this.height=Math.round(a)+"px":this.width=Math.round(a)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(a,g,C){const B=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,a,g,C);this.eventListeners.push(B)}onPassive(a,g,C){const B=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,a,g,C);this.eventListeners.push(B)}off(a){let g,C;Ft.isNullOrUndefined(a)?(g=[],C=this.eventListeners):(g=this.eventListeners.filter(B=>B.eventName!==a),C=this.eventListeners.filter(B=>B.eventName===a));for(const B of C)this.eventListenerHelper.detachEventListener(B);this.eventListeners=g}isRefDestroyed(){return Ft.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return b.\u0275fac=function(a){return new(a||b)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(a,g){2&a&&d.Udp("opacity",g.opacity)("visibility",g.visibility)("left",g.left)("bottom",g.bottom)("height",g.height)("width",g.width)("transform",g.transform)}}),b})(),ms=(()=>{class b extends ar{constructor(a,g,C){super(a,g,C),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return b.\u0275fac=function(a){return new(a||b)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(a,g){2&a&&(d.uIk("role",g.role)("tabindex",g.tabindex)("aria-orientation",g.ariaOrientation)("aria-label",g.ariaLabel)("aria-labelledby",g.ariaLabelledBy)("aria-valuenow",g.ariaValueNow)("aria-valuetext",g.ariaValueText)("aria-valuemin",g.ariaValueMin)("aria-valuemax",g.ariaValueMax),d.ekj("ngx-slider-active",g.active))},features:[d.qOj]}),b})(),Ar=(()=>{class b extends ar{constructor(a,g,C){super(a,g,C),this._value=null}get value(){return this._value}setValue(a){let g=!1;!this.alwaysHide&&(Ft.isNullOrUndefined(this.value)||this.value.length!==a.length||this.value.length>0&&0===this.dimension)&&(g=!0),this._value=a,this.elemRef.nativeElement.innerHTML=a,g&&this.calculateDimension()}}return b.\u0275fac=function(a){return new(a||b)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO))},b.\u0275dir=d.lG2({type:b,selectors:[["","ngxSliderLabel",""]],features:[d.qOj]}),b})();class Ls{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class Yi{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class Fs{static compare(c,a){return!(Ft.isNullOrUndefined(c)&&Ft.isNullOrUndefined(a)||Ft.isNullOrUndefined(c)!==Ft.isNullOrUndefined(a))&&c.value===a.value&&c.highValue===a.highValue}}class st extends Fs{static compare(c,a){return!(Ft.isNullOrUndefined(c)&&Ft.isNullOrUndefined(a)||Ft.isNullOrUndefined(c)!==Ft.isNullOrUndefined(a))&&c.value===a.value&&c.highValue===a.highValue&&c.forceChange===a.forceChange}}const Ke={provide:Be.JU,useExisting:(0,d.Gpc)(()=>ht),multi:!0};let ht=(()=>{class b{constructor(a,g,C,B){this.renderer=a,this.elementRef=g,this.changeDetectionRef=C,this.zone=B,this.value=null,this.valueChange=new d.vpe,this.highValue=null,this.highValueChange=new d.vpe,this.options=new di,this.userChangeStart=new d.vpe,this.userChange=new d.vpe,this.userChangeEnd=new d.vpe,this.initHasRun=!1,this.inputModelChangeSubject=new qn,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new qn,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new di,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new Yi,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.sliderElementAriaLabel="ngx-slider",this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new ls(this.renderer)}set manualRefresh(a){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=a.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(a){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=a.subscribe(g=>{this.focusPointer(g)})}get range(){return!Ft.isNullOrUndefined(this.value)&&!Ft.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new di,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(a){!Ft.isNullOrUndefined(a.options)&&JSON.stringify(a.options.previousValue)!==JSON.stringify(a.options.currentValue)&&this.onChangeOptions(),(!Ft.isNullOrUndefined(a.value)||!Ft.isNullOrUndefined(a.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(a){a instanceof Array?(this.value=a[0],this.highValue=a[1]):this.value=a,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(a){this.onChangeCallback=a}registerOnTouched(a){this.onTouchedCallback=a}setDisabledState(a){this.viewOptions.disabled=a,this.updateDisabledState()}setAriaLabel(a){this.viewOptions.ariaLabel=a,this.updateAriaLabel()}onResize(a){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(pn(st.compare),function _e(b,c){return function(g){return g.lift(new Ve(b,c))}}(a=>!a.forceChange&&!a.internalChange)).subscribe(a=>this.applyInputModelChange(a))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(pn(st.compare)).subscribe(a=>this.publishOutputModelChange(a))}subscribeResizeObserver(){qi.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){qi.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){Ft.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){Ft.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){Ft.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){Ft.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){Ft.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){Ft.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(a){return a===mn.Min?this.minHandleElement:a===mn.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===mn.Min?this.viewLowValue:this.currentTrackingPointer===mn.Max?this.viewHighValue:null}modelValueToViewValue(a){return Ft.isNullOrUndefined(a)?NaN:Ft.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+a:Ft.findStepIndex(+a,this.viewOptions.stepsArray)}viewValueToModelValue(a){return Ft.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?a:this.getStepValue(a)}getStepValue(a){const g=this.viewOptions.stepsArray[a];return Ft.isNullOrUndefined(g)?NaN:g.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(a){const g=this.normaliseModelValues(a),C=!Fs.compare(a,g);C&&(this.value=g.value,this.highValue=g.highValue),this.viewLowValue=this.modelValueToViewValue(g.value),this.viewHighValue=this.range?this.modelValueToViewValue(g.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:g.value,highValue:g.highValue,forceChange:C,userEventInitiated:!1})}publishOutputModelChange(a){const g=()=>{this.valueChange.emit(a.value),this.range&&this.highValueChange.emit(a.highValue),Ft.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[a.value,a.highValue]:a.value),Ft.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[a.value,a.highValue]:a.value)};a.userEventInitiated?(g(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{g()})}normaliseModelValues(a){const g=new Fs;if(g.value=a.value,g.highValue=a.highValue,!Ft.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const C=Ft.findStepIndex(g.value,this.viewOptions.stepsArray);if(g.value=this.viewOptions.stepsArray[C].value,this.range){const B=Ft.findStepIndex(g.highValue,this.viewOptions.stepsArray);g.highValue=this.viewOptions.stepsArray[B].value}}return g}if(this.viewOptions.enforceStep&&(g.value=this.roundStep(g.value),this.range&&(g.highValue=this.roundStep(g.highValue))),this.viewOptions.enforceRange&&(g.value=Ai.clampToRange(g.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(g.highValue=Ai.clampToRange(g.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&a.value>a.highValue))if(this.viewOptions.noSwitching)g.value=g.highValue;else{const C=a.value;g.value=a.highValue,g.highValue=C}return g}renormaliseModelValues(){const a={value:this.value,highValue:this.highValue},g=this.normaliseModelValues(a);Fs.compare(g,a)||(this.value=g.value,this.highValue=g.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const a=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const g=this.getOptionsInfluencingEventBindings(this.viewOptions),C=!Ft.areArraysEqual(a,g);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(C)}applyOptions(){if(this.viewOptions=new di,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!Ft.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!Ft.isNullOrUndefined(this.viewOptions.tickStep)||!Ft.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!Ft.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),Ft.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),Ft.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(a,g)=>a+" - "+g),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,Ft.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=a=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(a):a))}applyFloorCeilOptions(){if(Ft.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),Ft.isNullOrUndefined(this.viewOptions.ceil)||Ft.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,Ft.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=a=>String(a))}resetSlider(a=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),a&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(a){a!==mn.Min&&a!==mn.Max&&(a=mn.Min),a===mn.Min?this.minHandleElement.focus():this.range&&a===mn.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){Ft.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const a=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(a||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(a||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(a||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const a of this.getAllSliderElements())Ft.isNullOrUndefined(a)||a.setVertical(this.viewOptions.vertical)}updateScale(){for(const a of this.getAllSliderElements())a.setScale(this.viewOptions.scale)}updateRotate(){for(const a of this.getAllSliderElements())a.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",Ft.isNullOrUndefined(this.viewOptions.ariaLabel)?Ft.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",Ft.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?Ft.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,wi.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,wi.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){Ft.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const a=this.minHandleElement.dimension;this.handleHalfDimension=a/2,Ft.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-a,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const a=Ft.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,g=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&a.reverse();const C=Ft.isNullOrUndefined(this.viewOptions.tickValueStep)?Ft.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let B=!1;const oe=a.map(Te=>{let Qe=this.valueToPosition(Te);this.viewOptions.vertical&&(Qe=this.maxHandlePosition-Qe);const Ct=g+"("+Math.round(Qe)+"px)",Xt=new Ls;Xt.selected=this.isTickSelected(Te),Xt.style={"-webkit-transform":Ct,"-moz-transform":Ct,"-o-transform":Ct,"-ms-transform":Ct,transform:Ct},Xt.selected&&!Ft.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(Xt.style["background-color"]=this.getSelectionBarColor()),!Xt.selected&&!Ft.isNullOrUndefined(this.viewOptions.getTickColor)&&(Xt.style["background-color"]=this.getTickColor(Te)),Ft.isNullOrUndefined(this.viewOptions.ticksTooltip)||(Xt.tooltip=this.viewOptions.ticksTooltip(Te),Xt.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!Ft.isNullOrUndefined(C)&&Ai.isModuloWithinPrecisionLimit(Te,C,this.viewOptions.precisionLimit)&&(Xt.value=this.getDisplayValue(Te,wi.TickValue),Ft.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(Xt.valueTooltip=this.viewOptions.ticksValuesTooltip(Te),Xt.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let _n=null;if(Ft.isNullOrUndefined(this.viewOptions.stepsArray))Ft.isNullOrUndefined(this.viewOptions.getLegend)||(_n=this.viewOptions.getLegend(Te));else{const Wn=this.viewOptions.stepsArray[Te];Ft.isNullOrUndefined(this.viewOptions.getStepLegend)?Ft.isNullOrUndefined(Wn)||(_n=Wn.legend):_n=this.viewOptions.getStepLegend(Wn)}return Ft.isNullOrUndefined(_n)||(Xt.legend=_n,B=!0),Xt});if(setTimeout(()=>{this.sliderElementWithLegendClass=B}),Ft.isNullOrUndefined(this.ticks)||this.ticks.length!==oe.length)this.ticks=oe;else for(let Te=0;Te<oe.length;++Te)Object.assign(this.ticks[Te],oe[Te]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const a=Ft.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,g=[],C=1+Math.floor(Ai.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/a,this.viewOptions.precisionLimit));for(let B=0;B<C;++B)g.push(Ai.roundToPrecisionLimit(this.viewOptions.floor+a*B,this.viewOptions.precisionLimit));return g}isTickSelected(a){if(!this.range)if(Ft.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(a>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&a<=this.viewLowValue)return!0}else{const g=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>g&&a>=g&&a<=this.viewLowValue)return!0;if(this.viewLowValue<g&&a<=g&&a>=this.viewLowValue)return!0}return!!(this.range&&a>=this.viewLowValue&&a<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,wi.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,wi.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(a,g){a===mn.Min?this.updateLowHandle(g):a===mn.Max&&this.updateHighHandle(g),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(a,g){const C=a===mn.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,B=g-C/2+this.handleHalfDimension,oe=this.fullBarElement.dimension-C;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&a===mn.Min||!this.viewOptions.rightToLeft&&a===mn.Max?Math.min(B,oe):Math.min(Math.max(B,0),oe):B}updateLowHandle(a){this.minHandleElement.setPosition(a),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,wi.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(mn.Min,a)),Ft.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(mn.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(a){this.maxHandleElement.setPosition(a),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,wi.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(mn.Max,a)),Ft.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(mn.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let a=!1,g=!1;const C=this.isLabelBelowFloorLabel(this.minHandleLabelElement),B=this.isLabelAboveCeilLabel(this.minHandleLabelElement),oe=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),Te=this.isLabelBelowFloorLabel(this.combinedLabelElement),Qe=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(C?(a=!0,this.floorLabelElement.hide()):(a=!1,this.floorLabelElement.show()),B?(g=!0,this.ceilLabelElement.hide()):(g=!1,this.ceilLabelElement.show()),this.range){const Ct=this.combinedLabelElement.isVisible()?Qe:oe,Xt=this.combinedLabelElement.isVisible()?Te:C;Ct?this.ceilLabelElement.hide():g||this.ceilLabelElement.show(),Xt?this.floorLabelElement.hide():a||this.floorLabelElement.show()}}isLabelBelowFloorLabel(a){const g=a.position,B=this.floorLabelElement.position;return this.viewOptions.rightToLeft?g+a.dimension>=B-2:g<=B+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(a){const g=a.position,B=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?g<=B+this.ceilLabelElement.dimension+2:g+a.dimension>=B-2}updateSelectionBar(){let a=0,g=0;const C=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,B=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)g=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),a=B;else if(Ft.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))C?(g=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),a=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(g=this.minHandleElement.position+this.handleHalfDimension,a=0);else{const oe=this.viewOptions.showSelectionBarFromValue,Te=this.valueToPosition(oe);(this.viewOptions.rightToLeft?this.viewLowValue<=oe:this.viewLowValue>oe)?(g=this.minHandleElement.position-Te,a=Te+this.handleHalfDimension):(g=Te-this.minHandleElement.position,a=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(g),this.selectionBarElement.setPosition(a),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(a),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(a+g)),this.leftOuterSelectionBarElement.setPosition(a+g)):(this.leftOuterSelectionBarElement.setDimension(a),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(a+g)),this.rightOuterSelectionBarElement.setPosition(a+g))),Ft.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!Ft.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const oe=Ft.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),Te=oe-a>0&&!C||oe-a<=0&&C;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?Te?"bottom":"top":Te?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(oe+g+a+(Te?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=oe-a+(Te?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const oe=this.getSelectionBarColor();this.barStyle={backgroundColor:oe}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(a){return this.viewOptions.getPointerColor(a===mn.Max?this.highValue:this.value,a)}getTickColor(a){return this.viewOptions.getTickColor(a)}updateCombinedLabel(){let a=null;if(a=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,a){const g=this.getDisplayValue(this.viewLowValue,wi.Low),C=this.getDisplayValue(this.viewHighValue,wi.High),B=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(C,g):this.viewOptions.combineLabels(g,C);this.combinedLabelElement.setValue(B);const oe=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(oe),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(a,g){return!Ft.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(a=this.getStepValue(a)),this.viewOptions.translate(a,g)}roundStep(a,g){const C=Ft.isNullOrUndefined(g)?this.viewOptions.step:g;let B=Ai.roundToPrecisionLimit((a-this.viewOptions.floor)/C,this.viewOptions.precisionLimit);return B=Math.round(B)*C,Ai.roundToPrecisionLimit(this.viewOptions.floor+B,this.viewOptions.precisionLimit)}valueToPosition(a){let g=Ft.linearValueToPosition;Ft.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(g=Ft.logValueToPosition):g=this.viewOptions.customValueToPosition;let C=g(a=Ai.clampToRange(a,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return Ft.isNullOrUndefined(C)&&(C=0),this.viewOptions.rightToLeft&&(C=1-C),C*this.maxHandlePosition}positionToValue(a){let g=a/this.maxHandlePosition;this.viewOptions.rightToLeft&&(g=1-g);let C=Ft.linearPositionToValue;Ft.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(C=Ft.logPositionToValue):C=this.viewOptions.customPositionToValue;const B=C(g,this.viewOptions.floor,this.viewOptions.ceil);return Ft.isNullOrUndefined(B)?0:B}getEventXY(a,g){if(a instanceof MouseEvent)return this.viewOptions.vertical||0!==this.viewOptions.rotate?a.clientY:a.clientX;let C=0;const B=a.touches;if(!Ft.isNullOrUndefined(g))for(let oe=0;oe<B.length;oe++)if(B[oe].identifier===g){C=oe;break}return this.viewOptions.vertical||0!==this.viewOptions.rotate?B[C].clientY:B[C].clientX}getEventPosition(a,g){const C=this.elementRef.nativeElement.getBoundingClientRect(),B=this.viewOptions.vertical||0!==this.viewOptions.rotate?C.bottom:C.left;let oe=0;return oe=this.viewOptions.vertical||0!==this.viewOptions.rotate?-this.getEventXY(a,g)+B:this.getEventXY(a,g)-B,oe*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(a){if(!this.range)return mn.Min;const g=this.getEventPosition(a),C=Math.abs(g-this.minHandleElement.position),B=Math.abs(g-this.maxHandleElement.position);return C<B?mn.Min:C>B?mn.Max:this.viewOptions.rightToLeft?g>this.minHandleElement.position?mn.Min:mn.Max:g<this.minHandleElement.position?mn.Min:mn.Max}bindEvents(){const a=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",g=>this.onBarStart(null,a,g,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",g=>this.onBarStart(mn.Min,a,g,!0,!0)),this.maxHandleElement.on("mousedown",g=>this.onBarStart(mn.Max,a,g,!0,!0))):(this.minHandleElement.on("mousedown",g=>this.onStart(mn.Min,g,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",g=>this.onStart(mn.Max,g,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",g=>this.onStart(null,g,!0,!0,!0)),this.ticksElement.on("mousedown",g=>this.onStart(null,g,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",g=>this.onBarStart(null,a,g,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",g=>this.onBarStart(mn.Min,a,g,!0,!0)),this.maxHandleElement.onPassive("touchstart",g=>this.onBarStart(mn.Max,a,g,!0,!0))):(this.minHandleElement.onPassive("touchstart",g=>this.onStart(mn.Min,g,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",g=>this.onStart(mn.Max,g,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",g=>this.onStart(null,g,!0,!0,!0)),this.ticksElement.onPassive("touchstart",g=>this.onStart(null,g,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(mn.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(mn.Max)))}getOptionsInfluencingEventBindings(a){return[a.disabled,a.readOnly,a.draggableRange,a.draggableRangeOnly,a.onlyBindHandles,a.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const a of this.getAllSliderElements())Ft.isNullOrUndefined(a)||a.off()}onBarStart(a,g,C,B,oe,Te,Qe){g?this.onDragStart(a,C,B,oe):this.onStart(a,C,B,oe,Te,Qe)}onStart(a,g,C,B,oe,Te){g.stopPropagation(),!qi.isTouchEvent(g)&&!J&&g.preventDefault(),this.moving=!1,this.calculateViewDimensions(),Ft.isNullOrUndefined(a)&&(a=this.getNearestHandle(g)),this.currentTrackingPointer=a;const Qe=this.getPointerElement(a);if(Qe.active=!0,this.viewOptions.keyboardSupport&&Qe.focus(),C){this.unsubscribeOnMove();const Ct=Xt=>this.dragging.active?this.onDragMove(Xt):this.onMove(Xt);this.onMoveEventListener=qi.isTouchEvent(g)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",Ct):this.eventListenerHelper.attachEventListener(document,"mousemove",Ct)}if(B){this.unsubscribeOnEnd();const Ct=Xt=>this.onEnd(Xt);this.onEndEventListener=qi.isTouchEvent(g)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",Ct):this.eventListenerHelper.attachEventListener(document,"mouseup",Ct)}this.userChangeStart.emit(this.getChangeContext()),qi.isTouchEvent(g)&&!Ft.isNullOrUndefined(g.changedTouches)&&Ft.isNullOrUndefined(this.touchId)&&(this.touchId=g.changedTouches[0].identifier),oe&&this.onMove(g,!0),Te&&this.onEnd(g)}onMove(a,g){let C=null;if(qi.isTouchEvent(a)){const Ct=a.changedTouches;for(let Xt=0;Xt<Ct.length;Xt++)if(Ct[Xt].identifier===this.touchId){C=Ct[Xt];break}if(Ft.isNullOrUndefined(C))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const B=Ft.isNullOrUndefined(C)?this.getEventPosition(a):this.getEventPosition(a,C.identifier);let oe;B<=0?oe=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:B>=this.maxHandlePosition?oe=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(oe=this.positionToValue(B),oe=g&&!Ft.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(oe,this.viewOptions.tickStep):this.roundStep(oe)),this.positionTrackingHandle(oe)}onEnd(a){qi.isTouchEvent(a)&&a.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(a){const g=this.getPointerElement(a);g.on("blur",()=>this.onPointerBlur(g)),g.on("keydown",C=>this.onKeyboardEvent(C)),g.on("keyup",()=>this.onKeyUp()),g.active=!0,this.currentTrackingPointer=a,this.currentFocusPointer=a,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(a){a.off("blur"),a.off("keydown"),a.off("keyup"),a.active=!1,Ft.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(a){const g=this.viewOptions.ceil-this.viewOptions.floor;let C=a+this.viewOptions.step,B=a-this.viewOptions.step,oe=a+g/10,Te=a-g/10;this.viewOptions.reversedControls&&(C=a-this.viewOptions.step,B=a+this.viewOptions.step,oe=a-g/10,Te=a+g/10);const Qe={UP:C,DOWN:B,LEFT:B,RIGHT:C,PAGEUP:oe,PAGEDOWN:Te,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(Qe.LEFT=C,Qe.RIGHT=B,(this.viewOptions.vertical||0!==this.viewOptions.rotate)&&(Qe.UP=B,Qe.DOWN=C)),Qe}onKeyboardEvent(a){const g=this.getCurrentTrackingValue(),C=Ft.isNullOrUndefined(a.keyCode)?a.which:a.keyCode,Qe=this.getKeyActions(g)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[C]];if(Ft.isNullOrUndefined(Qe)||Ft.isNullOrUndefined(this.currentTrackingPointer))return;a.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const Ct=Ai.clampToRange(Qe,this.viewOptions.floor,this.viewOptions.ceil),Xt=this.roundStep(Ct);if(this.viewOptions.draggableRangeOnly){const _n=this.viewHighValue-this.viewLowValue;let Wn,pi;this.currentTrackingPointer===mn.Min?(Wn=Xt,pi=Xt+_n,pi>this.viewOptions.ceil&&(pi=this.viewOptions.ceil,Wn=pi-_n)):this.currentTrackingPointer===mn.Max&&(pi=Xt,Wn=Xt-_n,Wn<this.viewOptions.floor&&(Wn=this.viewOptions.floor,pi=Wn+_n)),this.positionTrackingBar(Wn,pi)}else this.positionTrackingHandle(Xt)}onDragStart(a,g,C,B){const oe=this.getEventPosition(g);this.dragging=new Yi,this.dragging.active=!0,this.dragging.value=this.positionToValue(oe),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-oe:oe-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?oe-this.maxHandleElement.position:this.maxHandleElement.position-oe,this.onStart(a,g,C,B)}getMinValue(a,g,C){const B=this.viewOptions.rightToLeft;let oe=null;return oe=g?C?B?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:B?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(B?a+this.dragging.lowLimit:a-this.dragging.lowLimit),this.roundStep(oe)}getMaxValue(a,g,C){const B=this.viewOptions.rightToLeft;let oe=null;return oe=g?C?B?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:B?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:B?this.positionToValue(a+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(a-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(oe)}onDragMove(a){const g=this.getEventPosition(a);let C,B,oe,Te;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(C=this.dragging.lowLimit,B=this.dragging.highLimit,oe=this.maxHandleElement,Te=this.minHandleElement):(C=this.dragging.highLimit,B=this.dragging.lowLimit,oe=this.minHandleElement,Te=this.maxHandleElement);const Ct=g>=this.maxHandlePosition-C;let Xt,_n;if(g<=B){if(0===oe.position)return;Xt=this.getMinValue(g,!0,!1),_n=this.getMaxValue(g,!0,!1)}else if(Ct){if(Te.position===this.maxHandlePosition)return;_n=this.getMaxValue(g,!0,!0),Xt=this.getMinValue(g,!0,!0)}else Xt=this.getMinValue(g,!1,!1),_n=this.getMaxValue(g,!1,!1);this.positionTrackingBar(Xt,_n)}positionTrackingBar(a,g){!Ft.isNullOrUndefined(this.viewOptions.minLimit)&&a<this.viewOptions.minLimit&&(g=Ai.roundToPrecisionLimit((a=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!Ft.isNullOrUndefined(this.viewOptions.maxLimit)&&g>this.viewOptions.maxLimit&&(a=Ai.roundToPrecisionLimit((g=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=a,this.viewHighValue=g,this.applyViewChange(),this.updateHandles(mn.Min,this.valueToPosition(a)),this.updateHandles(mn.Max,this.valueToPosition(g))}positionTrackingHandle(a){a=this.applyMinMaxLimit(a),this.range&&(this.viewOptions.pushRange?a=this.applyPushRange(a):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===mn.Min&&a>this.viewHighValue?a=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===mn.Max&&a<this.viewLowValue&&(a=this.applyMinMaxRange(this.viewLowValue))),a=this.applyMinMaxRange(a),this.currentTrackingPointer===mn.Min&&a>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(mn.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=mn.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===mn.Max&&a<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(mn.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=mn.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==a&&(this.currentTrackingPointer===mn.Min?(this.viewLowValue=a,this.applyViewChange()):this.currentTrackingPointer===mn.Max&&(this.viewHighValue=a,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(a)),this.updateAriaAttributes())}applyMinMaxLimit(a){return!Ft.isNullOrUndefined(this.viewOptions.minLimit)&&a<this.viewOptions.minLimit?this.viewOptions.minLimit:!Ft.isNullOrUndefined(this.viewOptions.maxLimit)&&a>this.viewOptions.maxLimit?this.viewOptions.maxLimit:a}applyMinMaxRange(a){const C=Math.abs(a-(this.currentTrackingPointer===mn.Min?this.viewHighValue:this.viewLowValue));if(!Ft.isNullOrUndefined(this.viewOptions.minRange)&&C<this.viewOptions.minRange){if(this.currentTrackingPointer===mn.Min)return Ai.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===mn.Max)return Ai.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!Ft.isNullOrUndefined(this.viewOptions.maxRange)&&C>this.viewOptions.maxRange){if(this.currentTrackingPointer===mn.Min)return Ai.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===mn.Max)return Ai.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return a}applyPushRange(a){const g=this.currentTrackingPointer===mn.Min?this.viewHighValue-a:a-this.viewLowValue,C=Ft.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,B=this.viewOptions.maxRange;return g<C?(this.currentTrackingPointer===mn.Min?(this.viewHighValue=Ai.roundToPrecisionLimit(Math.min(a+C,this.viewOptions.ceil),this.viewOptions.precisionLimit),a=Ai.roundToPrecisionLimit(this.viewHighValue-C,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(mn.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===mn.Max&&(this.viewLowValue=Ai.roundToPrecisionLimit(Math.max(a-C,this.viewOptions.floor),this.viewOptions.precisionLimit),a=Ai.roundToPrecisionLimit(this.viewLowValue+C,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(mn.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!Ft.isNullOrUndefined(B)&&g>B&&(this.currentTrackingPointer===mn.Min?(this.viewHighValue=Ai.roundToPrecisionLimit(a+B,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(mn.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===mn.Max&&(this.viewLowValue=Ai.roundToPrecisionLimit(a-B,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(mn.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),a}getChangeContext(){const a=new Jr;return a.pointerType=this.currentTrackingPointer,a.value=+this.value,this.range&&(a.highValue=+this.highValue),a}}return b.\u0275fac=function(a){return new(a||b)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.R0b))},b.\u0275cmp=d.Xpm({type:b,selectors:[["ngx-slider"]],contentQueries:function(a,g,C){if(1&a&&d.Suo(C,Ti,5),2&a){let B;d.iGM(B=d.CRH())&&(g.tooltipTemplate=B.first)}},viewQuery:function(a,g){if(1&a&&(d.Gf(Di,5,ar),d.Gf(wr,5,ar),d.Gf(Mi,5,ar),d.Gf(Yt,5,ar),d.Gf(Zn,5,ms),d.Gf(mi,5,ms),d.Gf(Hi,5,Ar),d.Gf(vr,5,Ar),d.Gf(ji,5,Ar),d.Gf(or,5,Ar),d.Gf(ii,5,Ar),d.Gf(Cr,5,ar)),2&a){let C;d.iGM(C=d.CRH())&&(g.leftOuterSelectionBarElement=C.first),d.iGM(C=d.CRH())&&(g.rightOuterSelectionBarElement=C.first),d.iGM(C=d.CRH())&&(g.fullBarElement=C.first),d.iGM(C=d.CRH())&&(g.selectionBarElement=C.first),d.iGM(C=d.CRH())&&(g.minHandleElement=C.first),d.iGM(C=d.CRH())&&(g.maxHandleElement=C.first),d.iGM(C=d.CRH())&&(g.floorLabelElement=C.first),d.iGM(C=d.CRH())&&(g.ceilLabelElement=C.first),d.iGM(C=d.CRH())&&(g.minHandleLabelElement=C.first),d.iGM(C=d.CRH())&&(g.maxHandleLabelElement=C.first),d.iGM(C=d.CRH())&&(g.combinedLabelElement=C.first),d.iGM(C=d.CRH())&&(g.ticksElement=C.first)}},hostAttrs:[1,"ngx-slider"],hostVars:8,hostBindings:function(a,g){1&a&&d.NdJ("resize",function(B){return g.onResize(B)},!1,d.Jf7),2&a&&(d.uIk("disabled",g.sliderElementDisabledAttr)("aria-label",g.sliderElementAriaLabel),d.ekj("vertical",g.sliderElementVerticalClass)("animate",g.sliderElementAnimateClass)("with-legend",g.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[d._Bn([Ke]),d.TTD],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(a,g){1&a&&(d.TgZ(0,"span",0,1),d._UZ(2,"span",2),d.qZA(),d.TgZ(3,"span",3,4),d._UZ(5,"span",2),d.qZA(),d.TgZ(6,"span",5,6),d._UZ(8,"span",2),d.qZA(),d.TgZ(9,"span",7,8),d._UZ(11,"span",9),d.qZA(),d._UZ(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),d.TgZ(26,"span",24,25),d.YNc(28,Wi,4,9,"span",26),d.qZA()),2&a&&(d.xp6(6),d.ekj("ngx-slider-transparent",g.fullBarTransparentClass),d.xp6(3),d.ekj("ngx-slider-draggable",g.selectionBarDraggableClass),d.xp6(2),d.Q6J("ngStyle",g.barStyle),d.xp6(1),d.Q6J("ngStyle",g.minPointerStyle),d.xp6(2),d.Udp("display",g.range?"inherit":"none"),d.Q6J("ngStyle",g.maxPointerStyle),d.xp6(12),d.ekj("ngx-slider-ticks-values-under",g.ticksUnderValuesClass),d.Q6J("hidden",!g.showTicks),d.xp6(2),d.Q6J("ngForOf",g.ticks))},directives:function(){return[ar,ut.PC,ms,Ar,ut.sg,ut.mk,Ht,ut.O5]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-pointer:after{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),b})(),Ht=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275cmp=d.Xpm({type:b,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(a,g){1&a&&(d.YNc(0,jr,2,6,"ng-container",0),d.YNc(1,$r,3,3,"ng-container",0)),2&a&&(d.Q6J("ngIf",g.template),d.xp6(1),d.Q6J("ngIf",!g.template))},directives:[ut.O5,ut.tP],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),b})(),on=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=d.oAB({type:b}),b.\u0275inj=d.cJS({imports:[[ut.ez]]}),b})();function bn(b,c){if(1&b){const a=d.EpF();d.TgZ(0,"li",17)(1,"input",18),d.NdJ("ngModelChange",function(C){return d.CHM(a).$implicit.selected=C}),d.qZA(),d.TgZ(2,"label",19),d._uU(3),d.qZA()()}if(2&b){const a=c.$implicit,g=c.index;d.xp6(1),d.Q6J("id",(null==a?null:a.sub_interests_name)+g)("ngModel",a.selected),d.xp6(1),d.Q6J("for",(null==a?null:a.sub_interests_name)+g),d.xp6(1),d.hij(" ",null==a?null:a.sub_interests_name," ")}}function jn(b,c){if(1&b&&(d.TgZ(0,"ul",13)(1,"li")(2,"span",14),d._uU(3),d.qZA(),d.TgZ(4,"ul",15),d.YNc(5,bn,4,4,"li",16),d.qZA()()()),2&b){const a=c.$implicit;d.xp6(3),d.hij(" ",null==a?null:a.name," "),d.xp6(2),d.Q6J("ngForOf",null==a?null:a.sub_interests)}}function Zi(b,c){1&b&&d._UZ(0,"i",20)}function Ri(b,c){if(1&b){const a=d.EpF();d.TgZ(0,"li",22)(1,"input",18),d.NdJ("ngModelChange",function(C){return d.CHM(a).$implicit.selected=C}),d.qZA(),d.TgZ(2,"label",19),d._uU(3),d.qZA()()}if(2&b){const a=c.$implicit,g=c.index;d.xp6(1),d.Q6J("id",(null==a?null:a.name)+g)("ngModel",a.selected),d.xp6(1),d.Q6J("for",(null==a?null:a.name)+g),d.xp6(1),d.hij(" ",null==a?null:a.name," ")}}function us(b,c){if(1&b&&(d.TgZ(0,"ul",13)(1,"li")(2,"span",14),d._uU(3),d.qZA(),d.TgZ(4,"ul",15),d.YNc(5,Ri,4,4,"li",21),d.qZA()()()),2&b){const a=c.$implicit;d.xp6(3),d.hij(" ",null==a?null:a.gov," "),d.xp6(2),d.Q6J("ngForOf",null==a?null:a.areas)}}function Os(b,c){1&b&&d._UZ(0,"i",20)}function cs(b,c){if(1&b){const a=d.EpF();d.TgZ(0,"li",22)(1,"input",18),d.NdJ("ngModelChange",function(C){return d.CHM(a).$implicit.selected=C}),d.qZA(),d.TgZ(2,"label",19),d._uU(3),d.qZA()()}if(2&b){const a=c.$implicit,g=c.index;d.xp6(1),d.Q6J("id",(null==a?null:a.child_name)+g)("ngModel",a.selected),d.xp6(1),d.Q6J("for",(null==a?null:a.child_name)+g),d.xp6(1),d.hij(" ",null==a?null:a.child_name," ")}}function Ro(b,c){1&b&&d._UZ(0,"i",20)}function Gr(b,c){if(1&b&&(d.TgZ(0,"div",3)(1,"div")(2,"accordion",4)(3,"accordion-group",5),d.ALo(4,"translate"),d.TgZ(5,"ul",13),d.YNc(6,cs,4,4,"li",21),d.qZA(),d.TgZ(7,"div",7),d.YNc(8,Ro,1,0,"i",8),d.qZA()()()()()),2&b){const a=d.oxw();d.xp6(2),d.Q6J("isAnimated",!0),d.xp6(1),d.s9C("heading",d.lcZ(4,4,"members")),d.xp6(3),d.Q6J("ngForOf",a.members),d.xp6(2),d.Q6J("ngIf",null==a.membersservice?null:a.membersservice.membersLoading)}}let pr=(()=>{class b{constructor(a,g,C,B){this.homeService=a,this.router=g,this.membersservice=C,this.authService=B,this.interst=[],this.areas=[],this.members=[],this.rate=0,this.value=0,this.highValue=60,this.options={floor:0,ceil:60},this.value2=0,this.highValue2=3e3,this.options2={floor:0,ceil:3e3},this.closefilterpopup=new d.vpe}ngOnInit(){localStorage.getItem("joinToken")&&this.membersservice.getAllMembers(),this.homeService.getIntersts(),this.authService.getAllAreas(),this.homeService.intersts.subscribe(a=>{this.interst=a,this.interst.forEach(g=>{var C;(null===(C=null==g?void 0:g.sub_interests)||void 0===C?void 0:C.length)&&(null==g||g.sub_interests.map(B=>{B.selected=!1}))})}),this.authService.areas.subscribe(a=>{a&&(this.areas=a,this.areas.forEach(g=>{var C;(null===(C=null==g?void 0:g.areas)||void 0===C?void 0:C.length)&&(null==g||g.areas.map(B=>{B.selected=!1}))}))}),this.membersservice.members.subscribe(a=>{a&&(this.members=a,this.members.forEach(g=>{g.selected=!1}))})}isLogin(){return!!localStorage.getItem("joinToken")}doneFilter(){let a=[{interests_id:[],child_id:[],area_id:[],age_from:this.value,age_to:this.highValue,price_from:this.value2,price_to:this.highValue2,rating:this.rate}];this.interst.forEach(g=>{g.sub_interests.forEach(C=>{(null==C?void 0:C.selected)&&a[0].interests_id.push(null==C?void 0:C.sub_interests_id)})}),this.areas.forEach(g=>{g.areas.forEach(C=>{(null==C?void 0:C.selected)&&a[0].area_id.push(null==C?void 0:C.id)})}),this.members.forEach(g=>{(null==g?void 0:g.selected)&&a[0].child_id.push(null==g?void 0:g.child_id)}),this.closefilterpopup.emit(!0),this.router.navigate(["/search/-1"],{queryParams:{filterbody:JSON.stringify(a)}})}}return b.\u0275fac=function(a){return new(a||b)(d.Y36(Ne.Y),d.Y36(W.F0),d.Y36(ue.Z),d.Y36(ct.e))},b.\u0275cmp=d.Xpm({type:b,selectors:[["app-filter"]],outputs:{closefilterpopup:"closefilterpopup"},decls:44,vars:39,consts:[[1,"container"],[2,"font-weight","400","font-size","20px","line-height","30px"],[1,"row","body"],[1,"col-lg-6","col-xl-4","mb-3"],[3,"isAnimated"],[3,"heading"],["class","list-unstyled p-0",4,"ngFor","ngForOf"],[1,"text-center"],["class","fas fa-circle-notch fa-spin",4,"ngIf"],["class","col-lg-6 col-xl-4 mb-3",4,"ngIf"],[3,"ngModel","max","ngModelChange"],[3,"value","highValue","options","valueChange","highValueChange"],[1,"orangebtn",3,"click"],[1,"list-unstyled","p-0"],[1,"d-block","rounded","text-white","p-2","mb-2",2,"background-color","#F89416"],[1,"list-unstyled","p-0","mx-2"],["class","mb-2 d-flex",4,"ngFor","ngForOf"],[1,"mb-2","d-flex"],["type","checkbox",3,"id","ngModel","ngModelChange"],[1,"mx-2",3,"for"],[1,"fas","fa-circle-notch","fa-spin"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"]],template:function(a,g){1&a&&(d.TgZ(0,"div",0)(1,"h2",1),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.TgZ(4,"div",2)(5,"div",3)(6,"div")(7,"accordion",4)(8,"accordion-group",5),d.ALo(9,"translate"),d.YNc(10,jn,6,2,"ul",6),d.TgZ(11,"div",7),d.YNc(12,Zi,1,0,"i",8),d.qZA()()()()(),d.TgZ(13,"div",3)(14,"div")(15,"accordion",4)(16,"accordion-group",5),d.ALo(17,"translate"),d.YNc(18,us,6,2,"ul",6),d.TgZ(19,"div",7),d.YNc(20,Os,1,0,"i",8),d.qZA()()()()(),d.YNc(21,Gr,9,6,"div",9),d.TgZ(22,"div",3)(23,"div")(24,"accordion",4)(25,"accordion-group",5),d.ALo(26,"translate"),d.TgZ(27,"div",7)(28,"rating",10),d.NdJ("ngModelChange",function(B){return g.rate=B}),d.qZA()()()()()(),d.TgZ(29,"div",3)(30,"div")(31,"accordion",4)(32,"accordion-group",5),d.ALo(33,"translate"),d.TgZ(34,"ngx-slider",11),d.NdJ("valueChange",function(B){return g.value2=B})("highValueChange",function(B){return g.highValue2=B}),d.qZA()()()()(),d.TgZ(35,"div",3)(36,"div")(37,"accordion",4)(38,"accordion-group",5),d.ALo(39,"translate"),d.TgZ(40,"ngx-slider",11),d.NdJ("valueChange",function(B){return g.value=B})("highValueChange",function(B){return g.highValue=B}),d.qZA()()()()()(),d.TgZ(41,"button",12),d.NdJ("click",function(){return g.doneFilter()}),d._uU(42),d.ALo(43,"translate"),d.qZA()()),2&a&&(d.xp6(2),d.Oqu(d.lcZ(3,25,"Filter")),d.xp6(5),d.Q6J("isAnimated",!0),d.xp6(1),d.s9C("heading",d.lcZ(9,27,"Interests")),d.xp6(2),d.Q6J("ngForOf",g.interst),d.xp6(2),d.Q6J("ngIf",null==g.homeService?null:g.homeService.interistsLoading),d.xp6(3),d.Q6J("isAnimated",!0),d.xp6(1),d.s9C("heading",d.lcZ(17,29,"area")),d.xp6(2),d.Q6J("ngForOf",g.areas),d.xp6(2),d.Q6J("ngIf",null==g.authService?null:g.authService.arealoading),d.xp6(1),d.Q6J("ngIf",g.isLogin()),d.xp6(3),d.Q6J("isAnimated",!0),d.xp6(1),d.s9C("heading",d.lcZ(26,31,"rating")),d.xp6(3),d.Q6J("ngModel",g.rate)("max",5),d.xp6(3),d.Q6J("isAnimated",!0),d.xp6(1),d.s9C("heading",d.lcZ(33,33,"price")),d.xp6(2),d.Q6J("value",g.value2)("highValue",g.highValue2)("options",g.options2),d.xp6(3),d.Q6J("isAnimated",!0),d.xp6(1),d.s9C("heading",d.lcZ(39,35,"age")),d.xp6(2),d.Q6J("value",g.value)("highValue",g.highValue)("options",g.options),d.xp6(2),d.hij(" ",d.lcZ(43,37,"search")," "))},directives:[lt.Zf,lt.U_,ut.sg,Be.Wl,Be.JJ,Be.On,ut.O5,qe,ht],pipes:[Ce.X$],styles:[".accordion-toggle .btn.btn-link{color:#000!important;text-decoration:none!important}  .bs-rating-star{font-size:30px!important}"]}),b})();const No=function(b){return{id:b}};function Sr(b,c){if(1&b&&(d.TgZ(0,"div",34)(1,"a",35),d._uU(2),d.qZA()()),2&b){const a=c.$implicit,g=d.oxw(3);d.xp6(1),d.Q6J("queryParams",d.VKq(2,No,null==a?null:a.id)),d.xp6(1),d.hij(" ","ar"==g.lang?null==a?null:a.name_ar:null==a?null:a.name_en," ")}}function Ms(b,c){if(1&b&&(d.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"p",32),d._uU(4),d.ALo(5,"translate"),d.qZA(),d._UZ(6,"hr"),d.qZA(),d.YNc(7,Sr,3,4,"div",33),d.qZA()()),2&b){const a=d.oxw(2);d.xp6(4),d.hij(" ",d.lcZ(5,2,"categories")," "),d.xp6(3),d.Q6J("ngForOf",a.categories)}}const Un=function(){return{exact:!0}};function Cs(b,c){if(1&b){const a=d.EpF();d.ynx(0),d.TgZ(1,"li",14)(2,"a",36),d.NdJ("click",function(){d.CHM(a);const C=d.oxw(2);return C.openNavbar=!C.openNavbar}),d._uU(3),d.ALo(4,"translate"),d.qZA()(),d.TgZ(5,"li",14)(6,"a",37),d.NdJ("click",function(){d.CHM(a);const C=d.oxw(2);return C.openNavbar=!C.openNavbar}),d._uU(7),d.ALo(8,"translate"),d.qZA()(),d.TgZ(9,"li",14)(10,"a",38),d.NdJ("click",function(){d.CHM(a);const C=d.oxw(2);return C.openNavbar=!C.openNavbar}),d._uU(11),d.ALo(12,"translate"),d.qZA()(),d.TgZ(13,"li",14)(14,"a",39),d.NdJ("click",function(){d.CHM(a);const C=d.oxw(2);return C.openNavbar=!C.openNavbar}),d._uU(15),d.ALo(16,"translate"),d.qZA()(),d.TgZ(17,"li",14)(18,"a",40),d._uU(19),d.ALo(20,"translate"),d.qZA()(),d.TgZ(21,"li",14)(22,"a",41),d.NdJ("click",function(){d.CHM(a);const C=d.oxw(2);return C.openNavbar=!C.openNavbar}),d._uU(23),d.ALo(24,"translate"),d.qZA()(),d.BQk()}2&b&&(d.xp6(2),d.Q6J("routerLinkActiveOptions",d.DdM(23,Un)),d.xp6(1),d.Oqu(d.lcZ(4,11,"myaccount")),d.xp6(3),d.Q6J("routerLinkActiveOptions",d.DdM(24,Un)),d.xp6(1),d.Oqu(d.lcZ(8,13,"history")),d.xp6(3),d.Q6J("routerLinkActiveOptions",d.DdM(25,Un)),d.xp6(1),d.Oqu(d.lcZ(12,15,"notifications")),d.xp6(3),d.Q6J("routerLinkActiveOptions",d.DdM(26,Un)),d.xp6(1),d.Oqu(d.lcZ(16,17,"favorite")),d.xp6(4),d.Oqu(d.lcZ(20,19,"follow")),d.xp6(3),d.Q6J("routerLinkActiveOptions",d.DdM(27,Un)),d.xp6(1),d.Oqu(d.lcZ(24,21,"contactus")))}function Ps(b,c){if(1&b&&(d.TgZ(0,"span",42),d._uU(1),d.qZA()),2&b){const a=d.oxw(2);d.xp6(1),d.Oqu(a.cartitemsCount)}}function Ts(b,c){1&b&&(d.ynx(0),d.TgZ(1,"a",43),d._UZ(2,"i",44),d.qZA(),d.TgZ(3,"a",45),d._UZ(4,"i",46),d.qZA(),d.BQk())}function Ha(b,c){if(1&b){const a=d.EpF();d.TgZ(0,"ul",52)(1,"li",53),d._UZ(2,"img",54),d.qZA(),d.TgZ(3,"li",55)(4,"span",56),d._uU(5),d.ALo(6,"titlecase"),d.ALo(7,"titlecase"),d.qZA(),d.TgZ(8,"span",57),d._uU(9),d.qZA()(),d.TgZ(10,"li",58)(11,"a",59),d._UZ(12,"i",60),d._uU(13),d.ALo(14,"translate"),d.qZA()(),d.TgZ(15,"li",58)(16,"a",61),d._UZ(17,"i",62),d._uU(18),d.ALo(19,"translate"),d.qZA()(),d.TgZ(20,"li",58)(21,"a",45),d._UZ(22,"i",63),d._uU(23),d.ALo(24,"translate"),d.qZA()(),d.TgZ(25,"li",58)(26,"a",64),d._UZ(27,"i",65),d._uU(28),d.ALo(29,"translate"),d.qZA()(),d.TgZ(30,"li",58)(31,"a",40),d._UZ(32,"i",66),d._uU(33),d.ALo(34,"translate"),d.qZA()(),d.TgZ(35,"li",58)(36,"a",67),d._UZ(37,"i",68),d._uU(38),d.ALo(39,"translate"),d.qZA()(),d.TgZ(40,"li",58)(41,"a",21),d.NdJ("click",function(){return d.CHM(a),d.oxw(3).logout()}),d._UZ(42,"i",69),d._uU(43),d.ALo(44,"translate"),d.qZA()()()}if(2&b){const a=d.oxw(3);d.xp6(5),d.AsE(" ",d.lcZ(6,10,null==a.userdata?null:a.userdata.fname)," ",d.lcZ(7,12,null==a.userdata?null:a.userdata.lname)," "),d.xp6(4),d.hij(" ",null==a.userdata?null:a.userdata.email," "),d.xp6(4),d.hij(" ",d.lcZ(14,14,"myaccount")," "),d.xp6(5),d.hij(" ",d.lcZ(19,16,"history")," "),d.xp6(5),d.hij(" ",d.lcZ(24,18,"notifications")," "),d.xp6(5),d.hij(" ",d.lcZ(29,20,"favorite")," "),d.xp6(5),d.hij(" ",d.lcZ(34,22,"follow")," "),d.xp6(5),d.hij(" ",d.lcZ(39,24,"contactus")," "),d.xp6(5),d.hij(" ",d.lcZ(44,26,"logout")," ")}}function ko(b,c){if(1&b&&(d.TgZ(0,"li",47)(1,"div",48)(2,"a",49),d._uU(3),d.ALo(4,"uppercase"),d._UZ(5,"span",50),d.qZA(),d.YNc(6,Ha,45,28,"ul",51),d.qZA()()),2&b){const a=d.oxw(2);d.xp6(3),d.hij(" ",d.lcZ(4,1,a.userName)," ")}}function Xr(b,c){if(1&b){const a=d.EpF();d.TgZ(0,"li",70)(1,"a",71),d.NdJ("click",function(){return d.CHM(a),d.oxw(2).logout()}),d._uU(2),d.ALo(3,"translate"),d.qZA()()}2&b&&(d.xp6(2),d.Oqu(d.lcZ(3,1,"logout")))}function na(b,c){if(1&b){const a=d.EpF();d.TgZ(0,"li",72)(1,"a",73),d.NdJ("click",function(){d.CHM(a);const C=d.oxw(2);return C.openNavbar=!C.openNavbar}),d._uU(2),d.ALo(3,"translate"),d.qZA()()}2&b&&(d.xp6(2),d.Oqu(d.lcZ(3,1,"signin")))}const zr=function(b,c){return{"padding-right":b,"padding-left":c}},es=function(b,c){return{right:b,left:c}},Vs=function(b,c){return{"d-flex":b,"d-none":c}};function Ni(b,c){if(1&b){const a=d.EpF();d.TgZ(0,"nav")(1,"div",2)(2,"div",3)(3,"a",4),d.NdJ("click",function(){d.CHM(a);const C=d.oxw();return C.openNavbar=!C.openNavbar}),d._UZ(4,"img",5),d.qZA(),d._UZ(5,"span",6),d.TgZ(6,"div",7)(7,"input",8,9),d.NdJ("keyup.enter",function(){d.CHM(a);const C=d.MAs(8);return d.oxw().inputSearch(C.value)}),d.ALo(9,"translate"),d.qZA(),d.TgZ(10,"i",10),d.NdJ("click",function(){return d.CHM(a),d.oxw().filterPopup=!0}),d.qZA()(),d.TgZ(11,"i",11),d.NdJ("click",function(){d.CHM(a);const C=d.oxw();return C.openNavbar=!C.openNavbar}),d.qZA()(),d.TgZ(12,"ul",12)(13,"li")(14,"a",13),d.NdJ("click",function(){d.CHM(a);const C=d.oxw();return C.openNavbar=!C.openNavbar}),d._uU(15),d.ALo(16,"translate"),d.qZA()(),d.TgZ(17,"li",14)(18,"a",15),d.NdJ("click",function(){d.CHM(a);const C=d.oxw();return C.openNavbar=!C.openNavbar}),d._uU(19),d.ALo(20,"translate"),d.qZA()(),d.TgZ(21,"li",16)(22,"a",17),d.NdJ("click",function(){d.CHM(a);const C=d.oxw();return C.openNavbar=!C.openNavbar}),d._uU(23),d.ALo(24,"translate"),d.qZA(),d.YNc(25,Ms,8,4,"div",18),d.qZA(),d.TgZ(26,"li")(27,"a",19),d.NdJ("click",function(){d.CHM(a);const C=d.oxw();return C.openNavbar=!C.openNavbar}),d._uU(28),d.ALo(29,"translate"),d.qZA()(),d.YNc(30,Cs,25,28,"ng-container",0),d.TgZ(31,"li",20)(32,"a",21),d.NdJ("click",function(){d.CHM(a);const C=d.oxw();return C.selectLang("ar"==C.lang?"en":"ar"),C.openNavbar=!C.openNavbar}),d._uU(33),d.qZA()(),d.TgZ(34,"li",20)(35,"div",22)(36,"a",23),d._UZ(37,"i",24),d.YNc(38,Ps,2,1,"span",25),d.qZA(),d.YNc(39,Ts,5,0,"ng-container",0),d.qZA()(),d.YNc(40,ko,7,3,"li",26),d.YNc(41,Xr,4,3,"li",27),d.YNc(42,na,4,3,"li",28),d.qZA()()()}if(2&b){const a=d.oxw();d.xp6(7),d.s9C("placeholder",d.lcZ(9,18,"lets_explore")),d.Q6J("ngStyle",d.WLB(28,zr,"ar"==a.lang?"30px":"7px","ar"==a.lang?"7px":"30px")),d.xp6(3),d.Q6J("ngStyle",d.WLB(31,es,"ar"==a.lang?"10px":"auto","ar"==a.lang?"auto":"10px")),d.xp6(2),d.Q6J("ngClass",d.WLB(34,Vs,a.openNavbar,!a.openNavbar)),d.xp6(2),d.Q6J("routerLinkActiveOptions",d.DdM(37,Un)),d.xp6(1),d.Oqu(d.lcZ(16,20,"home")),d.xp6(3),d.Q6J("routerLinkActiveOptions",d.DdM(38,Un)),d.xp6(1),d.Oqu(d.lcZ(20,22,"store")),d.xp6(4),d.Oqu(d.lcZ(24,24,"store")),d.xp6(4),d.Q6J("routerLinkActiveOptions",d.DdM(39,Un)),d.xp6(1),d.Oqu(d.lcZ(29,26,"activities")),d.xp6(2),d.Q6J("ngIf",a.isLogin()),d.xp6(3),d.hij(" ","ar"==a.lang?"en":"ar",""),d.xp6(5),d.Q6J("ngIf",a.cartitemsCount),d.xp6(1),d.Q6J("ngIf",a.isLogin()),d.xp6(1),d.Q6J("ngIf",a.isLogin()),d.xp6(1),d.Q6J("ngIf",a.isLogin()),d.xp6(1),d.Q6J("ngIf",!a.isLogin())}}const xr=function(b,c){return{left:b,right:c}};function Lo(b,c){if(1&b){const a=d.EpF();d.TgZ(0,"div",74)(1,"div",75)(2,"i",76),d.NdJ("click",function(){return d.CHM(a),d.oxw().filterPopup=!1}),d.qZA(),d.TgZ(3,"app-filter",77),d.NdJ("closefilterpopup",function(){return d.CHM(a),d.oxw().filterPopup=!1}),d.qZA()()()}if(2&b){const a=d.oxw();d.Q6J("ngClass",d.WLB(2,Vs,a.filterPopup,!a.filterPopup)),d.xp6(2),d.Q6J("ngStyle",d.WLB(5,xr,"ar"==a.lang?"20px":"auto","ar"==a.lang?"auto":"20px"))}}let ia=(()=>{class b{constructor(a,g,C,B,oe){this.authService=a,this.storeSerive=g,this.glopalService=C,this.router=B,this.translateService=oe,this.openNavbar=!1,this.currentLang="",this.hidenave=!1,this.userName="",this.filterPopup=!1,this.userdata=null,this.categories=[],this.currentLang=localStorage.getItem("lang")||"en",this.translateService.use(this.currentLang),"ar"==this.currentLang?document.body.classList.add("custom-rtl"):document.body.classList.remove("custom-rtl")}isLogin(){return!!localStorage.getItem("joinToken")}selectLang(a){location.reload(),this.translateService.use(a),"ar"==a?document.body.classList.add("custom-rtl"):document.body.classList.remove("custom-rtl"),localStorage.setItem("lang",a)}get lang(){return localStorage.getItem("lang")||"en"}ngOnInit(){this.storeSerive.getStoreTabs().subscribe(a=>{var g;return this.categories=null===(g=null==a?void 0:a.payload)||void 0===g?void 0:g.data}),localStorage.getItem("joinToken")&&this.userName.toUpperCase(),this.authService.userProfile.subscribe(a=>{if(a){let g="",C="";(null==a?void 0:a.fname)&&(g=null==a?void 0:a.fname.slice(0,1)),(null==a?void 0:a.lname)&&(C=null==a?void 0:a.lname.slice(0,1)),this.userName=`${g}${C}`,this.userdata=a}}),this.glopalService.hideNavbarAndFooter.subscribe(a=>{this.hidenave=a})}inputSearch(a){a.trim().length>0&&this.router.navigate([`/search/${a}`])}get cartitemsCount(){let a=localStorage.getItem("joincart");return a=a?JSON.parse(a):[],null==a?void 0:a.length}logout(){localStorage.removeItem("joincart"),localStorage.removeItem("joinToken"),this.router.navigate(["/"])}}return b.\u0275fac=function(a){return new(a||b)(d.Y36(ct.e),d.Y36(it.d),d.Y36(ft.W),d.Y36(W.F0),d.Y36(Ce.sK))},b.\u0275cmp=d.Xpm({type:b,selectors:[["app-navbar"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","cstmpopup",3,"ngClass",4,"ngIf"],[1,"container","flex-column","flex-lg-row","d-flex","justify-content-lg-between","py-2","align-items-lg-center"],[1,"logo","d-flex","justify-content-between","justify-content-lg-start","align-items-center"],["routerLink","/",3,"click"],["src","assets/images/mainlogo.png","alt","join"],[1,"d-none","d-lg-block","mx-2"],[1,"position-relative"],["type","text",3,"ngStyle","placeholder","keyup.enter"],["searchInput",""],[1,"fa-solid","fa-filter","maincolor",3,"ngStyle","click"],[1,"fa-solid","fa-bars","d-lg-none",2,"cursor","pointer",3,"click"],[1,"links","main","list-unstyled","m-0","py-1","px-0","d-lg-flex","align-items-lg-center","flex-column","flex-lg-row",3,"ngClass"],["routerLinkActive","active","routerLink","/",3,"routerLinkActiveOptions","click"],[1,"d-lg-none"],["routerLinkActive","active","routerLink","/store",3,"routerLinkActiveOptions","click"],["dropdown","",1,"btn-group","d-none","d-lg-block"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",3,"click"],["id","dropdown-basic","class","dropdown-menu store ","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["routerLinkActive","active","routerLink","/activities",3,"routerLinkActiveOptions","click"],[1,"lang"],[2,"cursor","pointer",3,"click"],[1,"additionicons"],["routerLink","/cart",1,"position-relative"],[1,"fa-solid","fa-cart-shopping"],["class","cartcount",4,"ngIf"],["class","d-none d-lg-block lang position-relative subparent lang",4,"ngIf"],["style","cursor: pointer;","class","d-lg-none",4,"ngIf"],["class","lang signinbtn",4,"ngIf"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","store"],[1,"row","p-3"],[1,"col-md-12"],[1,"fw-bold","maincolor","m-0"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],["routerLink","/store",1,"p-0",3,"queryParams"],["routerLinkActive","active","routerLink","/profile",3,"routerLinkActiveOptions","click"],["routerLinkActive","active","routerLink","/history",3,"routerLinkActiveOptions","click"],["routerLinkActive","active","routerLink","/notifications",3,"routerLinkActiveOptions","click"],["routerLinkActive","active","routerLink","/favorite",3,"routerLinkActiveOptions","click"],["href","https://reach.link/Join_App","target","_blank"],["routerLinkActive","active","routerLink","/contact",3,"routerLinkActiveOptions","click"],[1,"cartcount"],["routerLink","/favorite",1,"mx-2"],[1,"fa-solid","fa-heart"],["routerLink","/notifications"],[1,"fa-solid","fa-bell"],[1,"d-none","d-lg-block","lang","position-relative","subparent","lang"],["dropdown","",1,"btn-group"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"username",2,"-webkit-user-select","none","/* safari */\n                    -ms-user-select","none","/* ie 10 and ie 11 */\n                    user-select","none"],[1,"caret"],["style","max-height: 90vh;overflow: auto;","id","dropdown-basic","class","dropdown-menu cstm","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","cstm",2,"max-height","90vh","overflow","auto"],["role","menuitem"],["src","assets/images/bg.jpg","alt","join",1,"w-100",2,"height","130px","object-fit","cover"],[1,"text-center","first"],[1,"maincolor","d-block"],[1,"text-secondary","d-block",2,"word-wrap","break-word"],["role","menuitem",1,"lang"],["routerLink","/profile"],[1,"fa-regular","fa-user","maincolor"],["routerLink","/history"],[1,"fa-regular","fa-clock","maincolor"],[1,"fa-solid","fa-bell","maincolor"],["routerLink","/favorite"],[1,"fa-solid","fa-heart","maincolor"],[1,"fa-solid","fa-headset","maincolor"],["routerLink","/contact"],[1,"fa-solid","fa-phone","maincolor"],[1,"fa-solid","fa-arrow-right-from-bracket","maincolor"],[1,"d-lg-none",2,"cursor","pointer"],[3,"click"],[1,"lang","signinbtn"],["routerLink","/auth/login",3,"click"],[1,"cstmpopup",3,"ngClass"],[1,"content"],[1,"fa-solid","fa-x",3,"ngStyle","click"],[3,"closefilterpopup"]],template:function(a,g){1&a&&(d.YNc(0,Ni,43,40,"nav",0),d.YNc(1,Lo,4,8,"div",1)),2&a&&(d.Q6J("ngIf",!g.hidenave),d.xp6(1),d.Q6J("ngIf",g.filterPopup))},directives:[ut.O5,W.yS,ut.PC,ut.mk,W.Od,Ye.TO,Ye.Mq,Ye.Hz,ut.sg,pr],pipes:[Ce.X$,ut.gd,ut.rS],styles:['.swiper-button-next,   .swiper-button-prev{background:#F89416!important;color:#fff!important;border-radius:50%!important;width:40px;height:40px;text-align:center;line-height:40px}  .swiper-button-next:after,   .swiper-button-prev:after{font-size:20px;font-weight:700}  .swiper-pagination-bullet-active{background-color:#f89416!important}  .dropdown-menu.cstm{inset:105% auto auto -270px!important;width:300px;padding:0!important;border-radius:0!important}  .dropdown-menu.store{min-width:400px;inset:100% auto auto -200px!important}  .dropdown-menu.store a:hover{color:#00dcdc!important}  .custom-rtl .dropdown-menu.cstm{inset:105% -270px auto 0!important;width:300px;direction:rtl;text-align:right}  .custom-rtl .dropdown-menu.store{inset:100% -200px auto auto!important;text-align:right;direction:rtl}  .accordion-toggle[aria-expanded=true]:after{font-family:"Font Awesome 5 Free";content:"\\f077";display:inline-block;padding-left:3px;vertical-align:middle;font-weight:900;position:absolute;color:#00dcdc;right:1rem;top:1rem}  .card{background-color:transparent;border:1px solid #e7e7e7;box-shadow:0 8px 16px #0000000d;margin-bottom:10px}  .card .btn.btn-link{width:90%;display:flex;justify-content:flex-start;font-size:small;text-align:left}  .card-header{border-bottom:none;background-color:transparent;padding:10px 0}  .accordion-toggle[aria-expanded=false]:after{font-family:"Font Awesome 5 Free";content:"\\f078";color:#00dcdc;display:inline-block;padding-left:3px;vertical-align:middle;font-weight:900;position:absolute;right:1rem;top:1rem}  .btn-link{font-weight:500;color:#000;text-decoration:none}  .btn.focus,   .btn:focus{box-shadow:none}  .btn-link:hover{color:#000;text-decoration:none}  .custom-rtl .accordion-toggle[aria-expanded=false]:after{left:1rem;right:auto}  .custom-rtl .accordion-toggle[aria-expanded=true]:after{left:1rem;right:auto}  .custom-rtl .card .btn.btn-link{text-align:right}  bs-datepicker-container,   bs-daterangepicker-container{z-index:11111111111111111000000}  bs-datepicker-container{top:-50%!important}.subparent[_ngcontent-%COMP%]:hover   .submenu[_ngcontent-%COMP%]{display:block}.subparent[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{max-height:70vh;overflow:auto;box-shadow:0 2px 12px #0000001a;border:1px solid #ebeef5;border-radius:10px;position:absolute;z-index:111;background:white;top:40px;width:200px;display:none}.subparent[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block}.additionicons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}']}),b})();function ds(b,c){if(1&b&&(d.TgZ(0,"li"),d._UZ(1,"i",5),d.TgZ(2,"span",6),d._uU(3),d.ALo(4,"translate"),d.qZA()()),2&b){const a=c.$implicit;d.xp6(3),d.hij(" ",d.lcZ(4,1,a)," ")}}let Fr=(()=>{class b{constructor(){this.h2="",this.p="",this.src=""}ngOnInit(){}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275cmp=d.Xpm({type:b,selectors:[["app-reusable-footer-cart"]],inputs:{h2:"h2",p:"p",src:"src",li:"li"},decls:11,vars:8,consts:[[1,"footerCart"],["alt","join",1,"mb-2",3,"src"],[2,"min-height","70px"],[1,"m-0","p-0","list-unstyled"],[4,"ngFor","ngForOf"],[1,"fa-solid","fa-circle-check"],[1,"mx-2"]],template:function(a,g){1&a&&(d.TgZ(0,"article",0),d._UZ(1,"img",1),d.TgZ(2,"h2"),d._uU(3),d.ALo(4,"translate"),d.qZA(),d.TgZ(5,"div",2)(6,"p"),d._uU(7),d.ALo(8,"translate"),d.qZA()(),d.TgZ(9,"ul",3),d.YNc(10,ds,5,3,"li",4),d.qZA()()),2&a&&(d.xp6(1),d.Q6J("src",g.src,d.LSH),d.xp6(2),d.Oqu(d.lcZ(4,4,g.h2)),d.xp6(4),d.Oqu(d.lcZ(8,6,g.p)),d.xp6(3),d.Q6J("ngForOf",g.li))},directives:[ut.sg],pipes:[Ce.X$],styles:[""]}),b})();function vo(b,c){if(1&b&&(d.TgZ(0,"div",6)(1,"div"),d._UZ(2,"app-reusable-footer-cart",38),d.qZA()()),2&b){const a=c.$implicit;d.xp6(2),d.Q6J("h2",a.h2)("p",a.p)("src",a.img)("li",a.li)}}function Zs(b,c){1&b&&(d.ynx(0),d.TgZ(1,"li")(2,"a",39),d._uU(3),d.ALo(4,"translate"),d.qZA()(),d.BQk()),2&b&&(d.xp6(3),d.Oqu(d.lcZ(4,1,"wishlist")))}function ts(b,c){if(1&b&&(d.TgZ(0,"footer",1)(1,"div",2)(2,"div",3)(3,"div",4),d.YNc(4,vo,3,4,"div",5),d.TgZ(5,"div",6)(6,"article",7),d._UZ(7,"img",8),d.TgZ(8,"h2"),d._uU(9),d.ALo(10,"translate"),d.qZA(),d.TgZ(11,"p",9),d._uU(12),d.ALo(13,"translate"),d.qZA(),d._UZ(14,"img",10)(15,"span",11)(16,"img",12),d.qZA()(),d.TgZ(17,"div",6)(18,"article"),d._UZ(19,"img",13),d.TgZ(20,"p",14),d._uU(21),d.ALo(22,"translate"),d.qZA()()(),d.TgZ(23,"div",6)(24,"article")(25,"h2"),d._uU(26),d.ALo(27,"translate"),d.qZA(),d.TgZ(28,"ul",15)(29,"li")(30,"a",16),d._uU(31),d.ALo(32,"translate"),d.qZA()(),d.TgZ(33,"li")(34,"a",17),d._uU(35),d.ALo(36,"translate"),d.qZA()(),d.TgZ(37,"li")(38,"a",18),d._uU(39),d.ALo(40,"translate"),d.qZA()(),d.YNc(41,Zs,5,3,"ng-container",19),d.qZA()()(),d.TgZ(42,"div",6)(43,"article")(44,"h2"),d._uU(45),d.ALo(46,"translate"),d.qZA(),d.TgZ(47,"p",20),d._uU(48),d.ALo(49,"translate"),d.qZA(),d.TgZ(50,"ul",21)(51,"li"),d._uU(52),d.ALo(53,"translate"),d.qZA(),d.TgZ(54,"li"),d._uU(55),d.ALo(56,"translate"),d.qZA(),d.TgZ(57,"li"),d._uU(58),d.ALo(59,"translate"),d.qZA()(),d.TgZ(60,"p",22),d._UZ(61,"i",23),d._uU(62," 1881010"),d.qZA()()(),d.TgZ(63,"div",6)(64,"article")(65,"h2"),d._uU(66),d.ALo(67,"translate"),d.qZA(),d.TgZ(68,"ul",24)(69,"li")(70,"a",25),d._UZ(71,"i",26),d.qZA()(),d.TgZ(72,"li")(73,"a",27),d._UZ(74,"i",28),d.qZA()(),d.TgZ(75,"li")(76,"a",29),d._UZ(77,"i",30),d.qZA()()(),d.TgZ(78,"h2"),d._uU(79),d.ALo(80,"translate"),d.qZA(),d._UZ(81,"img",31),d.qZA()()()(),d.TgZ(82,"div",32)(83,"div",33)(84,"p",34),d._uU(85,"Copyright \xa9Join KUIT 2022"),d.qZA(),d.TgZ(86,"ul",35)(87,"li")(88,"a",36),d._uU(89),d.ALo(90,"translate"),d.qZA()(),d._UZ(91,"li",37),d.TgZ(92,"li")(93,"a",36),d._uU(94),d.ALo(95,"translate"),d.qZA()()()()()()()),2&b){const a=d.oxw();d.xp6(4),d.Q6J("ngForOf",a.footerCart),d.xp6(5),d.Oqu(d.lcZ(10,18,"Download_Center")),d.xp6(3),d.Oqu(d.lcZ(13,20,"Use_mobile_app_and_get_biggest_discounts")),d.xp6(9),d.Oqu(d.lcZ(22,22,"long")),d.xp6(5),d.Oqu(d.lcZ(27,24,"links")),d.xp6(5),d.Oqu(d.lcZ(32,26,"home")),d.xp6(4),d.Oqu(d.lcZ(36,28,"store")),d.xp6(4),d.Oqu(d.lcZ(40,30,"cart")),d.xp6(2),d.Q6J("ngIf",a.islogin()),d.xp6(4),d.Oqu(d.lcZ(46,32,"contactus")),d.xp6(3),d.Oqu(d.lcZ(49,34,"address")),d.xp6(4),d.hij("",d.lcZ(53,36,"email:")," info@royal_pharm.com"),d.xp6(3),d.hij("",d.lcZ(56,38,"tel")," 2930-3303-22"),d.xp6(3),d.hij("",d.lcZ(59,40,"fax")," (+202) 2268 1308"),d.xp6(8),d.Oqu(d.lcZ(67,42,"Follow_Us")),d.xp6(13),d.Oqu(d.lcZ(80,44,"Accepted_Payment_Methods")),d.xp6(10),d.hij(" ",d.lcZ(90,46,"privacy")," "),d.xp6(5),d.hij(" ",d.lcZ(95,48,"termsandconditions")," ")}}let Ks=(()=>{class b{constructor(a){this.glopalService=a,this.footerCart=[{h2:"Assured_Purchase",p:"Provide_genuine",img:"assets/images/car.53532650.svg",li:["100%_genuine_products","Deliver_items_at_door","Free_return_products"]},{h2:"Easy_To_Buy_Return",p:"Single_click_buy_return_products",img:"assets/images/money.2faef535.svg",li:["Same_day_delivery_available","Click_to_return_products","Quick_support_links_available"]},{h2:"Secure_Payments",p:"Accepts_all_credit_debit_cards",img:"assets/images/visa.daa9ad19.svg",li:["payment_security","Confirmation_authentity","Delivery_items_at_door"]}],this.hideFooter=!1}ngOnInit(){this.footerCart.length=3,this.glopalService.hideNavbarAndFooter.subscribe(a=>{this.hideFooter=a})}islogin(){return!!localStorage.getItem("joinToken")}}return b.\u0275fac=function(a){return new(a||b)(d.Y36(ft.W))},b.\u0275cmp=d.Xpm({type:b,selectors:[["app-footer"]],decls:1,vars:1,consts:[["style","background-image: url('assets/images/bg.jpg');","class","pt-5",4,"ngIf"],[1,"pt-5",2,"background-image","url('assets/images/bg.jpg')"],[2,"position","relative","z-index","111"],[1,"container"],[1,"row"],["class","col-md-6 col-lg-3 mb-5",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-3","mb-5"],[1,"footerCart"],["src","assets/images/download.90e934e8.svg","alt","join",1,"mb-2"],[2,"min-height","70px"],["src","assets/images/googleplay.png","alt","googleplay",2,"width","100px"],[1,"mx-1"],["src","assets/images/appstore.png","alt","googleplay",2,"width","100px"],["src","assets/images/footerjoin.svg","alt","join",2,"width","100px"],[1,"mt-3"],[1,"m-0","p-0","list-unstyled","links"],["routerLink","/"],["routerLink","/store"],["routerLink","/cart"],[4,"ngIf"],[1,"mb-4"],[1,"p-0","list-unstyled"],[1,"phone"],[1,"fa-solid","fa-phone"],[1,"mb-5","p-0","list-unstyled","socialmedia"],["target","_blank","href","https://www.facebook.com/justt.joinn/"],[1,"fa-brands","fa-square-facebook"],["target","_blank","href","https://twitter.com/join_app"],[1,"fa-brands","fa-square-twitter"],["target","_blank","href","https://www.snapchat.com/add/join.co"],[1,"fa-brands","fa-square-snapchat"],["src","assets/images/visa.svg","alt","join",1,"img-fluid"],[1,"orangeSection","text-white","py-3"],[1,"container","flex-column","flex-md-row","d-flex","justify-content-between","align-items-md-center"],[1,"m-0"],[1,"d-flex","list-unstyled","p-0","m-0"],["href",""],[1,"mx-2"],[3,"h2","p","src","li"],["routerLink","/favorite"]],template:function(a,g){1&a&&d.YNc(0,ts,96,50,"footer",0),2&a&&d.Q6J("ngIf",!g.hideFooter)},directives:[ut.O5,ut.sg,Fr,W.yS],pipes:[Ce.X$],styles:[""]}),b})(),Ui=(()=>{class b{constructor(a,g,C,B){this.notficationsService=a,this.membersservice=g,this.homeService=C,this.authService=B}ngOnInit(){localStorage.getItem("joinToken")&&(this.notficationsService.getNotifications(),this.membersservice.getAllMembers(),this.authService.getUserProfile()),this.authService.getAllAreas(),this.homeService.getIntersts()}}return b.\u0275fac=function(a){return new(a||b)(d.Y36(ee.T),d.Y36(ue.Z),d.Y36(Ne.Y),d.Y36(ct.e))},b.\u0275cmp=d.Xpm({type:b,selectors:[["app-root"]],decls:3,vars:0,template:function(a,g){1&a&&d._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},directives:[ia,W.lC,Ks],styles:[""]}),b})();var V=x(40),ne=x(520);let F=(()=>{class b{intercept(a,g){let C;return C=(null==a?void 0:a.url.includes("myfatoorah"))?a.clone({setHeaders:{Authorization:"Bearer rLtt6JWvbUHDDhsZnfpAhpYk4dxYDQkbcPTyGaKp2TYqQgG7FGZ5Th_WD53Oq8Ebz6A53njUoo1w3pjU1D4vs_ZMqFiz_j0urb_BH9Oq9VZoKFoJEDAbRZepGcQanImyYrry7Kt6MnMdgfG5jn4HngWoRdKduNNyP4kzcp3mRv7x00ahkm9LAK7ZRieg7k1PDAnBIOG3EyVSJ5kK4WLMvYr7sCwHbHcu4A5WwelxYK0GMJy37bNAarSJDFQsJ2ZvJjvMDmfWwDVFEVe_5tOomfVNt6bOg9mexbGjMrnHBnKnZR1vQbBtQieDlQepzTZMuQrSuKn-t5XZM7V6fCW7oP-uXGX-sMOajeX65JOf6XVpk29DP6ro8WTAflCDANC193yof8-f5_EYY-3hXhJj7RBXmizDpneEQDSaSz5sFk0sV5qPcARJ9zGG73vuGFyenjPPmtDtXtpx35A-BVcOSBYVIWe9kndG3nclfefjKEuZ3m4jL9Gg1h2JBvmXSMYiZtp9MR5I6pvbvylU_PP5xJFSjVTIz7IQSjcVGO41npnwIxRXNRxFOdIUHn0tjQ-7LwvEcTXyPsHXcMD8WtgBh-wxR8aKX7WPSsT1O8d8reb2aR7K3rkV3K82K_0OgawImEpwSvp9MNKynEAJQS6ZHe_J_l77652xwPNxMRTMASk1ZsJL"}}):a.clone({setHeaders:{"auth-token":`${localStorage.getItem("joinToken")}`,Lang:localStorage.getItem("lang")||"en"}}),g.handle(C)}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac}),b})();var se=x(1777);const Pe=!1;function zt(b){return new d.vHH(3e3,Pe)}function bo(){return"undefined"!=typeof window&&void 0!==window.document}function ys(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Bs(b){switch(b.length){case 0:return new se.ZN;case 1:return b[0];default:return new se.ZE(b)}}function Eo(b,c,a,g,C={},B={}){const oe=[],Te=[];let Qe=-1,Ct=null;if(g.forEach(Xt=>{const _n=Xt.offset,Wn=_n==Qe,pi=Wn&&Ct||{};Object.keys(Xt).forEach(Jn=>{let Si=Jn,hr=Xt[Jn];if("offset"!==Jn)switch(Si=c.normalizePropertyName(Si,oe),hr){case se.k1:hr=C[Jn];break;case se.l3:hr=B[Jn];break;default:hr=c.normalizeStyleValue(Jn,Si,hr,oe)}pi[Si]=hr}),Wn||Te.push(pi),Ct=pi,Qe=_n}),oe.length)throw function ba(b){return new d.vHH(3502,Pe)}();return Te}function Ca(b,c,a,g){switch(c){case"start":b.onStart(()=>g(a&&Is(a,"start",b)));break;case"done":b.onDone(()=>g(a&&Is(a,"done",b)));break;case"destroy":b.onDestroy(()=>g(a&&Is(a,"destroy",b)))}}function Is(b,c,a){const g=a.totalTime,B=Ta(b.element,b.triggerName,b.fromState,b.toState,c||b.phaseName,null==g?b.totalTime:g,!!a.disabled),oe=b._data;return null!=oe&&(B._data=oe),B}function Ta(b,c,a,g,C="",B=0,oe){return{element:b,triggerName:c,fromState:a,toState:g,phaseName:C,totalTime:B,disabled:!!oe}}function Or(b,c,a){let g;return b instanceof Map?(g=b.get(c),g||b.set(c,g=a)):(g=b[c],g||(g=b[c]=a)),g}function tl(b){const c=b.indexOf(":");return[b.substring(1,c),b.substr(c+1)]}let Da=(b,c)=>!1,wo=(b,c,a)=>[],Zr=null;function ro(b){const c=b.parentNode||b.host;return c===Zr?null:c}(ys()||"undefined"!=typeof Element)&&(bo()?(Zr=(()=>document.documentElement)(),Da=(b,c)=>{for(;c;){if(c===b)return!0;c=ro(c)}return!1}):Da=(b,c)=>b.contains(c),wo=(b,c,a)=>{if(a)return Array.from(b.querySelectorAll(c));const g=b.querySelector(c);return g?[g]:[]});let Bo=null,Ia=!1;function so(b){Bo||(Bo=function du(){return"undefined"!=typeof document?document.body:null}()||{},Ia=!!Bo.style&&"WebkitAppearance"in Bo.style);let c=!0;return Bo.style&&!function Uo(b){return"ebkit"==b.substring(1,6)}(b)&&(c=b in Bo.style,!c&&Ia&&(c="Webkit"+b.charAt(0).toUpperCase()+b.substr(1)in Bo.style)),c}const nl=Da,fs=wo;let ir=(()=>{class b{validateStyleProperty(a){return so(a)}matchesElement(a,g){return!1}containsElement(a,g){return nl(a,g)}getParentElement(a){return ro(a)}query(a,g,C){return fs(a,g,C)}computeStyle(a,g,C){return C||""}animate(a,g,C,B,oe,Te=[],Qe){return new se.ZN(C,B)}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac}),b})(),ja=(()=>{class b{}return b.NOOP=new ir,b})();const oo="ng-enter",ao="ng-leave",ps="ng-trigger",Qt=".ng-trigger",Ji="ng-animating",Xi=".ng-animating";function Hs(b){if("number"==typeof b)return b;const c=b.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:xn(parseFloat(c[1]),c[2])}function xn(b,c){return"s"===c?1e3*b:b}function Nn(b,c,a){return b.hasOwnProperty("duration")?b:function jo(b,c,a){let C,B=0,oe="";if("string"==typeof b){const Te=b.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Te)return c.push(zt()),{duration:0,delay:0,easing:""};C=xn(parseFloat(Te[1]),Te[2]);const Qe=Te[3];null!=Qe&&(B=xn(parseFloat(Qe),Te[4]));const Ct=Te[5];Ct&&(oe=Ct)}else C=b;if(!a){let Te=!1,Qe=c.length;C<0&&(c.push(function On(){return new d.vHH(3100,Pe)}()),Te=!0),B<0&&(c.push(function $n(){return new d.vHH(3101,Pe)}()),Te=!0),Te&&c.splice(Qe,0,zt())}return{duration:C,delay:B,easing:oe}}(b,c,a)}function hn(b,c={}){return Object.keys(b).forEach(a=>{c[a]=b[a]}),c}function $t(b,c,a={}){if(c)for(let g in b)a[g]=b[g];else hn(b,a);return a}function gr(b,c,a){return a?c+":"+a+";":""}function ml(b){let c="";for(let a=0;a<b.style.length;a++){const g=b.style.item(a);c+=gr(0,g,b.style.getPropertyValue(g))}for(const a in b.style)b.style.hasOwnProperty(a)&&!a.startsWith("_")&&(c+=gr(0,ti(a),b.style[a]));b.setAttribute("style",c)}function lo(b,c,a){b.style&&(Object.keys(c).forEach(g=>{const C=Gi(g);a&&!a.hasOwnProperty(g)&&(a[g]=b.style[C]),b.style[C]=c[g]}),ys()&&ml(b))}function $a(b,c){b.style&&(Object.keys(c).forEach(a=>{const g=Gi(a);b.style[g]=""}),ys()&&ml(b))}function ns(b){return Array.isArray(b)?1==b.length?b[0]:(0,se.vP)(b):b}const Sa=new RegExp("{{\\s*(.+?)\\s*}}","g");function xa(b){let c=[];if("string"==typeof b){let a;for(;a=Sa.exec(b);)c.push(a[1]);Sa.lastIndex=0}return c}function $o(b,c,a){const g=b.toString(),C=g.replace(Sa,(B,oe)=>{let Te=c[oe];return c.hasOwnProperty(oe)||(a.push(function ei(b){return new d.vHH(3003,Pe)}()),Te=""),Te.toString()});return C==g?b:C}function Go(b){const c=[];let a=b.next();for(;!a.done;)c.push(a.value),a=b.next();return c}const Fl=/-+([a-z0-9])/g;function Gi(b){return b.replace(Fl,(...c)=>c[1].toUpperCase())}function ti(b){return b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ai(b,c,a){switch(c.type){case 7:return b.visitTrigger(c,a);case 0:return b.visitState(c,a);case 1:return b.visitTransition(c,a);case 2:return b.visitSequence(c,a);case 3:return b.visitGroup(c,a);case 4:return b.visitAnimate(c,a);case 5:return b.visitKeyframes(c,a);case 6:return b.visitStyle(c,a);case 8:return b.visitReference(c,a);case 9:return b.visitAnimateChild(c,a);case 10:return b.visitAnimateRef(c,a);case 11:return b.visitQuery(c,a);case 12:return b.visitStagger(c,a);default:throw function hi(b){return new d.vHH(3004,Pe)}()}}function Yn(b,c){return window.getComputedStyle(b)[c]}function kt(b,c){const a=[];return"string"==typeof b?b.split(/\s*,\s*/).forEach(g=>function Tn(b,c,a){if(":"==b[0]){const Qe=function fi(b,c){switch(b){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,g)=>parseFloat(g)>parseFloat(a);case":decrement":return(a,g)=>parseFloat(g)<parseFloat(a);default:return c.push(function Wt(b){return new d.vHH(3016,Pe)}()),"* => *"}}(b,a);if("function"==typeof Qe)return void c.push(Qe);b=Qe}const g=b.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==g||g.length<4)return a.push(function _a(b){return new d.vHH(3015,Pe)}()),c;const C=g[1],B=g[2],oe=g[3];c.push(Oi(C,oe));"<"==B[0]&&!("*"==C&&"*"==oe)&&c.push(Oi(oe,C))}(g,a,c)):a.push(b),a}const Pn=new Set(["true","1"]),Ci=new Set(["false","0"]);function Oi(b,c){const a=Pn.has(b)||Ci.has(b),g=Pn.has(c)||Ci.has(c);return(C,B)=>{let oe="*"==b||b==C,Te="*"==c||c==B;return!oe&&a&&"boolean"==typeof C&&(oe=C?Pn.has(b):Ci.has(b)),!Te&&g&&"boolean"==typeof B&&(Te=B?Pn.has(c):Ci.has(c)),oe&&Te}}const uo=new RegExp("s*:selfs*,?","g");function zo(b,c,a,g){return new js(b).build(c,a,g)}class js{constructor(c){this._driver=c}build(c,a,g){const C=new is(a);this._resetContextStyleTimingState(C);const B=ai(this,ns(c),C);return C.unsupportedCSSPropertiesFound.size&&C.unsupportedCSSPropertiesFound.keys(),B}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles={},c.collectedStyles[""]={},c.currentTime=0}visitTrigger(c,a){let g=a.queryCount=0,C=a.depCount=0;const B=[],oe=[];return"@"==c.name.charAt(0)&&a.errors.push(function Bi(){return new d.vHH(3006,Pe)}()),c.definitions.forEach(Te=>{if(this._resetContextStyleTimingState(a),0==Te.type){const Qe=Te,Ct=Qe.name;Ct.toString().split(/\s*,\s*/).forEach(Xt=>{Qe.name=Xt,B.push(this.visitState(Qe,a))}),Qe.name=Ct}else if(1==Te.type){const Qe=this.visitTransition(Te,a);g+=Qe.queryCount,C+=Qe.depCount,oe.push(Qe)}else a.errors.push(function Fi(){return new d.vHH(3007,Pe)}())}),{type:7,name:c.name,states:B,transitions:oe,queryCount:g,depCount:C,options:null}}visitState(c,a){const g=this.visitStyle(c.styles,a),C=c.options&&c.options.params||null;if(g.containsDynamicStyles){const B=new Set,oe=C||{};g.styles.forEach(Te=>{if(Pa(Te)){const Qe=Te;Object.keys(Qe).forEach(Ct=>{xa(Qe[Ct]).forEach(Xt=>{oe.hasOwnProperty(Xt)||B.add(Xt)})})}}),B.size&&(Go(B.values()),a.errors.push(function H(b,c){return new d.vHH(3008,Pe)}()))}return{type:0,name:c.name,style:g,options:C?{params:C}:null}}visitTransition(c,a){a.queryCount=0,a.depCount=0;const g=ai(this,ns(c.animation),a);return{type:1,matchers:kt(c.expr,a.errors),animation:g,queryCount:a.queryCount,depCount:a.depCount,options:Kr(c.options)}}visitSequence(c,a){return{type:2,steps:c.steps.map(g=>ai(this,g,a)),options:Kr(c.options)}}visitGroup(c,a){const g=a.currentTime;let C=0;const B=c.steps.map(oe=>{a.currentTime=g;const Te=ai(this,oe,a);return C=Math.max(C,a.currentTime),Te});return a.currentTime=C,{type:3,steps:B,options:Kr(c.options)}}visitAnimate(c,a){const g=function Co(b,c){if(b.hasOwnProperty("duration"))return b;if("number"==typeof b)return sa(Nn(b,c).duration,0,"");const a=b;if(a.split(/\s+/).some(B=>"{"==B.charAt(0)&&"{"==B.charAt(1))){const B=sa(0,0,"");return B.dynamic=!0,B.strValue=a,B}const C=Nn(a,c);return sa(C.duration,C.delay,C.easing)}(c.timings,a.errors);a.currentAnimateTimings=g;let C,B=c.styles?c.styles:(0,se.oB)({});if(5==B.type)C=this.visitKeyframes(B,a);else{let oe=c.styles,Te=!1;if(!oe){Te=!0;const Ct={};g.easing&&(Ct.easing=g.easing),oe=(0,se.oB)(Ct)}a.currentTime+=g.duration+g.delay;const Qe=this.visitStyle(oe,a);Qe.isEmptyStep=Te,C=Qe}return a.currentAnimateTimings=null,{type:4,timings:g,style:C,options:null}}visitStyle(c,a){const g=this._makeStyleAst(c,a);return this._validateStyleAst(g,a),g}_makeStyleAst(c,a){const g=[];Array.isArray(c.styles)?c.styles.forEach(oe=>{"string"==typeof oe?oe==se.l3?g.push(oe):a.errors.push(function N(b){return new d.vHH(3002,Pe)}()):g.push(oe)}):g.push(c.styles);let C=!1,B=null;return g.forEach(oe=>{if(Pa(oe)){const Te=oe,Qe=Te.easing;if(Qe&&(B=Qe,delete Te.easing),!C)for(let Ct in Te)if(Te[Ct].toString().indexOf("{{")>=0){C=!0;break}}}),{type:6,styles:g,easing:B,offset:c.offset,containsDynamicStyles:C,options:null}}_validateStyleAst(c,a){const g=a.currentAnimateTimings;let C=a.currentTime,B=a.currentTime;g&&B>0&&(B-=g.duration+g.delay),c.styles.forEach(oe=>{"string"!=typeof oe&&Object.keys(oe).forEach(Te=>{if(!this._driver.validateStyleProperty(Te))return delete oe[Te],void a.unsupportedCSSPropertiesFound.add(Te);const Qe=a.collectedStyles[a.currentQuerySelector],Ct=Qe[Te];let Xt=!0;Ct&&(B!=C&&B>=Ct.startTime&&C<=Ct.endTime&&(a.errors.push(function re(b,c,a,g,C){return new d.vHH(3010,Pe)}()),Xt=!1),B=Ct.startTime),Xt&&(Qe[Te]={startTime:B,endTime:C}),a.options&&function yl(b,c,a){const g=c.params||{},C=xa(b);C.length&&C.forEach(B=>{g.hasOwnProperty(B)||a.push(function yi(b){return new d.vHH(3001,Pe)}())})}(oe[Te],a.options,a.errors)})})}visitKeyframes(c,a){const g={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function Pt(){return new d.vHH(3011,Pe)}()),g;let B=0;const oe=[];let Te=!1,Qe=!1,Ct=0;const Xt=c.steps.map(Ir=>{const Yr=this._makeStyleAst(Ir,a);let xs=null!=Yr.offset?Yr.offset:function Ys(b){if("string"==typeof b)return null;let c=null;if(Array.isArray(b))b.forEach(a=>{if(Pa(a)&&a.hasOwnProperty("offset")){const g=a;c=parseFloat(g.offset),delete g.offset}});else if(Pa(b)&&b.hasOwnProperty("offset")){const a=b;c=parseFloat(a.offset),delete a.offset}return c}(Yr.styles),Es=0;return null!=xs&&(B++,Es=Yr.offset=xs),Qe=Qe||Es<0||Es>1,Te=Te||Es<Ct,Ct=Es,oe.push(Es),Yr});Qe&&a.errors.push(function Sn(){return new d.vHH(3012,Pe)}()),Te&&a.errors.push(function ki(){return new d.vHH(3200,Pe)}());const _n=c.steps.length;let Wn=0;B>0&&B<_n?a.errors.push(function Ds(){return new d.vHH(3202,Pe)}()):0==B&&(Wn=1/(_n-1));const pi=_n-1,Jn=a.currentTime,Si=a.currentAnimateTimings,hr=Si.duration;return Xt.forEach((Ir,Yr)=>{const xs=Wn>0?Yr==pi?1:Wn*Yr:oe[Yr],Es=xs*hr;a.currentTime=Jn+Si.delay+Es,Si.duration=Es,this._validateStyleAst(Ir,a),Ir.offset=xs,g.styles.push(Ir)}),g}visitReference(c,a){return{type:8,animation:ai(this,ns(c.animation),a),options:Kr(c.options)}}visitAnimateChild(c,a){return a.depCount++,{type:9,options:Kr(c.options)}}visitAnimateRef(c,a){return{type:10,animation:this.visitReference(c.animation,a),options:Kr(c.options)}}visitQuery(c,a){const g=a.currentQuerySelector,C=c.options||{};a.queryCount++,a.currentQuery=c;const[B,oe]=function Ma(b){const c=!!b.split(/\s*,\s*/).find(a=>":self"==a);return c&&(b=b.replace(uo,"")),b=b.replace(/@\*/g,Qt).replace(/@\w+/g,a=>Qt+"-"+a.substr(1)).replace(/:animating/g,Xi),[b,c]}(c.selector);a.currentQuerySelector=g.length?g+" "+B:B,Or(a.collectedStyles,a.currentQuerySelector,{});const Te=ai(this,ns(c.animation),a);return a.currentQuery=null,a.currentQuerySelector=g,{type:11,selector:B,limit:C.limit||0,optional:!!C.optional,includeSelf:oe,animation:Te,originalSelector:c.selector,options:Kr(c.options)}}visitStagger(c,a){a.currentQuery||a.errors.push(function hs(){return new d.vHH(3013,Pe)}());const g="full"===c.timings?{duration:0,delay:0,easing:"full"}:Nn(c.timings,a.errors,!0);return{type:12,animation:ai(this,ns(c.animation),a),timings:g,options:null}}}class is{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Pa(b){return!Array.isArray(b)&&"object"==typeof b}function Kr(b){return b?(b=hn(b)).params&&(b.params=function Et(b){return b?hn(b):null}(b.params)):b={},b}function sa(b,c,a){return{duration:b,delay:c,easing:a}}function mr(b,c,a,g,C,B,oe=null,Te=!1){return{type:1,element:b,keyframes:c,preStyleProps:a,postStyleProps:g,duration:C,delay:B,totalTime:C+B,easing:oe,subTimeline:Te}}class Ra{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,a){let g=this._map.get(c);g||this._map.set(c,g=[]),g.push(...a)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const Ul=new RegExp(":enter","g"),Tr=new RegExp(":leave","g");function oa(b,c,a,g,C,B={},oe={},Te,Qe,Ct=[]){return(new hu).buildKeyframes(b,c,a,g,C,B,oe,Te,Qe,Ct)}class hu{buildKeyframes(c,a,g,C,B,oe,Te,Qe,Ct,Xt=[]){Ct=Ct||new Ra;const _n=new vl(c,a,Ct,C,B,Xt,[]);_n.options=Qe,_n.currentTimeline.setStyles([oe],null,_n.errors,Qe),ai(this,g,_n);const Wn=_n.timelines.filter(pi=>pi.containsAnimation());if(Object.keys(Te).length){let pi;for(let Jn=Wn.length-1;Jn>=0;Jn--){const Si=Wn[Jn];if(Si.element===a){pi=Si;break}}pi&&!pi.allowOnlyTimelineStyles()&&pi.setStyles([Te],null,_n.errors,Qe)}return Wn.length?Wn.map(pi=>pi.buildKeyframes()):[mr(a,[],[],[],0,0,"",!1)]}visitTrigger(c,a){}visitState(c,a){}visitTransition(c,a){}visitAnimateChild(c,a){const g=a.subInstructions.get(a.element);if(g){const C=a.createSubContext(c.options),B=a.currentTimeline.currentTime,oe=this._visitSubInstructions(g,C,C.options);B!=oe&&a.transformIntoNewTimeline(oe)}a.previousNode=c}visitAnimateRef(c,a){const g=a.createSubContext(c.options);g.transformIntoNewTimeline(),this.visitReference(c.animation,g),a.transformIntoNewTimeline(g.currentTimeline.currentTime),a.previousNode=c}_visitSubInstructions(c,a,g){let B=a.currentTimeline.currentTime;const oe=null!=g.duration?Hs(g.duration):null,Te=null!=g.delay?Hs(g.delay):null;return 0!==oe&&c.forEach(Qe=>{const Ct=a.appendInstructionToTimeline(Qe,oe,Te);B=Math.max(B,Ct.duration+Ct.delay)}),B}visitReference(c,a){a.updateOptions(c.options,!0),ai(this,c.animation,a),a.previousNode=c}visitSequence(c,a){const g=a.subContextCount;let C=a;const B=c.options;if(B&&(B.params||B.delay)&&(C=a.createSubContext(B),C.transformIntoNewTimeline(),null!=B.delay)){6==C.previousNode.type&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=Dr);const oe=Hs(B.delay);C.delayNextStep(oe)}c.steps.length&&(c.steps.forEach(oe=>ai(this,oe,C)),C.currentTimeline.applyStylesToKeyframe(),C.subContextCount>g&&C.transformIntoNewTimeline()),a.previousNode=c}visitGroup(c,a){const g=[];let C=a.currentTimeline.currentTime;const B=c.options&&c.options.delay?Hs(c.options.delay):0;c.steps.forEach(oe=>{const Te=a.createSubContext(c.options);B&&Te.delayNextStep(B),ai(this,oe,Te),C=Math.max(C,Te.currentTimeline.currentTime),g.push(Te.currentTimeline)}),g.forEach(oe=>a.currentTimeline.mergeTimelineCollectedStyles(oe)),a.transformIntoNewTimeline(C),a.previousNode=c}_visitTiming(c,a){if(c.dynamic){const g=c.strValue;return Nn(a.params?$o(g,a.params,a.errors):g,a.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,a){const g=a.currentAnimateTimings=this._visitTiming(c.timings,a),C=a.currentTimeline;g.delay&&(a.incrementTime(g.delay),C.snapshotCurrentStyles());const B=c.style;5==B.type?this.visitKeyframes(B,a):(a.incrementTime(g.duration),this.visitStyle(B,a),C.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=c}visitStyle(c,a){const g=a.currentTimeline,C=a.currentAnimateTimings;!C&&g.getCurrentStyleProperties().length&&g.forwardFrame();const B=C&&C.easing||c.easing;c.isEmptyStep?g.applyEmptyStep(B):g.setStyles(c.styles,B,a.errors,a.options),a.previousNode=c}visitKeyframes(c,a){const g=a.currentAnimateTimings,C=a.currentTimeline.duration,B=g.duration,Te=a.createSubContext().currentTimeline;Te.easing=g.easing,c.styles.forEach(Qe=>{Te.forwardTime((Qe.offset||0)*B),Te.setStyles(Qe.styles,Qe.easing,a.errors,a.options),Te.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(Te),a.transformIntoNewTimeline(C+B),a.previousNode=c}visitQuery(c,a){const g=a.currentTimeline.currentTime,C=c.options||{},B=C.delay?Hs(C.delay):0;B&&(6===a.previousNode.type||0==g&&a.currentTimeline.getCurrentStyleProperties().length)&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Dr);let oe=g;const Te=a.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!C.optional,a.errors);a.currentQueryTotal=Te.length;let Qe=null;Te.forEach((Ct,Xt)=>{a.currentQueryIndex=Xt;const _n=a.createSubContext(c.options,Ct);B&&_n.delayNextStep(B),Ct===a.element&&(Qe=_n.currentTimeline),ai(this,c.animation,_n),_n.currentTimeline.applyStylesToKeyframe(),oe=Math.max(oe,_n.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(oe),Qe&&(a.currentTimeline.mergeTimelineCollectedStyles(Qe),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=c}visitStagger(c,a){const g=a.parentContext,C=a.currentTimeline,B=c.timings,oe=Math.abs(B.duration),Te=oe*(a.currentQueryTotal-1);let Qe=oe*a.currentQueryIndex;switch(B.duration<0?"reverse":B.easing){case"reverse":Qe=Te-Qe;break;case"full":Qe=g.currentStaggerTime}const Xt=a.currentTimeline;Qe&&Xt.delayNextStep(Qe);const _n=Xt.currentTime;ai(this,c.animation,a),a.previousNode=c,g.currentStaggerTime=C.currentTime-_n+(C.startTime-g.currentTimeline.startTime)}}const Dr={};class vl{constructor(c,a,g,C,B,oe,Te,Qe){this._driver=c,this.element=a,this.subInstructions=g,this._enterClassName=C,this._leaveClassName=B,this.errors=oe,this.timelines=Te,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Dr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Qe||new gs(this._driver,a,0),Te.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,a){if(!c)return;const g=c;let C=this.options;null!=g.duration&&(C.duration=Hs(g.duration)),null!=g.delay&&(C.delay=Hs(g.delay));const B=g.params;if(B){let oe=C.params;oe||(oe=this.options.params={}),Object.keys(B).forEach(Te=>{(!a||!oe.hasOwnProperty(Te))&&(oe[Te]=$o(B[Te],oe,this.errors))})}}_copyOptions(){const c={};if(this.options){const a=this.options.params;if(a){const g=c.params={};Object.keys(a).forEach(C=>{g[C]=a[C]})}}return c}createSubContext(c=null,a,g){const C=a||this.element,B=new vl(this._driver,C,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(C,g||0));return B.previousNode=this.previousNode,B.currentAnimateTimings=this.currentAnimateTimings,B.options=this._copyOptions(),B.updateOptions(c),B.currentQueryIndex=this.currentQueryIndex,B.currentQueryTotal=this.currentQueryTotal,B.parentContext=this,this.subContextCount++,B}transformIntoNewTimeline(c){return this.previousNode=Dr,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,a,g){const C={duration:null!=a?a:c.duration,delay:this.currentTimeline.currentTime+(null!=g?g:0)+c.delay,easing:""},B=new cr(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,C,c.stretchStartingKeyframe);return this.timelines.push(B),C}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,a,g,C,B,oe){let Te=[];if(C&&Te.push(this.element),c.length>0){c=(c=c.replace(Ul,"."+this._enterClassName)).replace(Tr,"."+this._leaveClassName);let Ct=this._driver.query(this.element,c,1!=g);0!==g&&(Ct=g<0?Ct.slice(Ct.length+g,Ct.length):Ct.slice(0,g)),Te.push(...Ct)}return!B&&0==Te.length&&oe.push(function Fo(b){return new d.vHH(3014,Pe)}()),Te}}class gs{constructor(c,a,g,C){this._driver=c,this.element=a,this.startTime=g,this._elementTimelineStylesLookup=C,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const a=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||a?(this.forwardTime(this.currentTime+c),a&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,a){return this.applyStylesToKeyframe(),new gs(this._driver,c,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,a){this._localTimelineStyles[c]=a,this._globalTimelineStyles[c]=a,this._styleSummary[c]={time:this.currentTime,value:a}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&(this._previousKeyframe.easing=c),Object.keys(this._globalTimelineStyles).forEach(a=>{this._backFill[a]=this._globalTimelineStyles[a]||se.l3,this._currentKeyframe[a]=se.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,a,g,C){a&&(this._previousKeyframe.easing=a);const B=C&&C.params||{},oe=function co(b,c){const a={};let g;return b.forEach(C=>{"*"===C?(g=g||Object.keys(c),g.forEach(B=>{a[B]=se.l3})):$t(C,!1,a)}),a}(c,this._globalTimelineStyles);Object.keys(oe).forEach(Te=>{const Qe=$o(oe[Te],B,g);this._pendingStyles[Te]=Qe,this._localTimelineStyles.hasOwnProperty(Te)||(this._backFill[Te]=this._globalTimelineStyles.hasOwnProperty(Te)?this._globalTimelineStyles[Te]:se.l3),this._updateStyle(Te,Qe)})}applyStylesToKeyframe(){const c=this._pendingStyles,a=Object.keys(c);0!=a.length&&(this._pendingStyles={},a.forEach(g=>{this._currentKeyframe[g]=c[g]}),Object.keys(this._localTimelineStyles).forEach(g=>{this._currentKeyframe.hasOwnProperty(g)||(this._currentKeyframe[g]=this._localTimelineStyles[g])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(c=>{const a=this._localTimelineStyles[c];this._pendingStyles[c]=a,this._updateStyle(c,a)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let a in this._currentKeyframe)c.push(a);return c}mergeTimelineCollectedStyles(c){Object.keys(c._styleSummary).forEach(a=>{const g=this._styleSummary[a],C=c._styleSummary[a];(!g||C.time>g.time)&&this._updateStyle(a,C.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,a=new Set,g=1===this._keyframes.size&&0===this.duration;let C=[];this._keyframes.forEach((Te,Qe)=>{const Ct=$t(Te,!0);Object.keys(Ct).forEach(Xt=>{const _n=Ct[Xt];_n==se.k1?c.add(Xt):_n==se.l3&&a.add(Xt)}),g||(Ct.offset=Qe/this.duration),C.push(Ct)});const B=c.size?Go(c.values()):[],oe=a.size?Go(a.values()):[];if(g){const Te=C[0],Qe=hn(Te);Te.offset=0,Qe.offset=1,C=[Te,Qe]}return mr(this.element,C,B,oe,this.duration,this.startTime,this.easing,!1)}}class cr extends gs{constructor(c,a,g,C,B,oe,Te=!1){super(c,a,oe.delay),this.keyframes=g,this.preStyleProps=C,this.postStyleProps=B,this._stretchStartingKeyframe=Te,this.timings={duration:oe.duration,delay:oe.delay,easing:oe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:a,duration:g,easing:C}=this.timings;if(this._stretchStartingKeyframe&&a){const B=[],oe=g+a,Te=a/oe,Qe=$t(c[0],!1);Qe.offset=0,B.push(Qe);const Ct=$t(c[0],!1);Ct.offset=tc(Te),B.push(Ct);const Xt=c.length-1;for(let _n=1;_n<=Xt;_n++){let Wn=$t(c[_n],!1);Wn.offset=tc((a+Wn.offset*g)/oe),B.push(Wn)}g=oe,a=0,C="",c=B}return mr(this.element,c,this.preStyleProps,this.postStyleProps,g,a,C,!0)}}function tc(b,c=3){const a=Math.pow(10,c-1);return Math.round(b*a)/a}class _r{}class Ga extends _r{normalizePropertyName(c,a){return Gi(c)}normalizeStyleValue(c,a,g,C){let B="";const oe=g.toString().trim();if(za[a]&&0!==g&&"0"!==g)if("number"==typeof g)B="px";else{const Te=g.match(/^[+-]?[\d\.]+([a-z]*)$/);Te&&0==Te[1].length&&C.push(function Qi(b,c){return new d.vHH(3005,Pe)}())}return oe+B}}const za=(()=>function br(b){const c={};return b.forEach(a=>c[a]=!0),c}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Mr(b,c,a,g,C,B,oe,Te,Qe,Ct,Xt,_n,Wn){return{type:0,element:b,triggerName:c,isRemovalTransition:C,fromState:a,fromStyles:B,toState:g,toStyles:oe,timelines:Te,queriedElements:Qe,preStyleProps:Ct,postStyleProps:Xt,totalTime:_n,errors:Wn}}const As={};class Bl{constructor(c,a,g){this._triggerName=c,this.ast=a,this._stateStyles=g}match(c,a,g,C){return function Zo(b,c,a,g,C){return b.some(B=>B(c,a,g,C))}(this.ast.matchers,c,a,g,C)}buildStyles(c,a,g){const C=this._stateStyles["*"],B=this._stateStyles[c],oe=C?C.buildStyles(a,g):{};return B?B.buildStyles(a,g):oe}build(c,a,g,C,B,oe,Te,Qe,Ct,Xt){const _n=[],Wn=this.ast.options&&this.ast.options.params||As,Jn=this.buildStyles(g,Te&&Te.params||As,_n),Si=Qe&&Qe.params||As,hr=this.buildStyles(C,Si,_n),Ir=new Set,Yr=new Map,xs=new Map,Es="void"===C,Fa={params:Object.assign(Object.assign({},Wn),Si)},ma=Xt?[]:oa(c,a,this.ast.animation,B,oe,Jn,hr,Fa,Ct,_n);let sr=0;if(ma.forEach(ul=>{sr=Math.max(ul.duration+ul.delay,sr)}),_n.length)return Mr(a,this._triggerName,g,C,Es,Jn,hr,[],[],Yr,xs,sr,_n);ma.forEach(ul=>{const ss=ul.element,Va=Or(Yr,ss,{});ul.preStyleProps.forEach(wu=>Va[wu]=!0);const Eu=Or(xs,ss,{});ul.postStyleProps.forEach(wu=>Eu[wu]=!0),ss!==a&&Ir.add(ss)});const Sl=Go(Ir.values());return Mr(a,this._triggerName,g,C,Es,Jn,hr,ma,Sl,Yr,xs,sr)}}class Wa{constructor(c,a,g){this.styles=c,this.defaultParams=a,this.normalizer=g}buildStyles(c,a){const g={},C=hn(this.defaultParams);return Object.keys(c).forEach(B=>{const oe=c[B];null!=oe&&(C[B]=oe)}),this.styles.styles.forEach(B=>{if("string"!=typeof B){const oe=B;Object.keys(oe).forEach(Te=>{let Qe=oe[Te];Qe.length>1&&(Qe=$o(Qe,C,a));const Ct=this.normalizer.normalizePropertyName(Te,a);Qe=this.normalizer.normalizeStyleValue(Te,Ct,Qe,a),g[Ct]=Qe})}}),g}}class aa{constructor(c,a,g){this.name=c,this.ast=a,this._normalizer=g,this.transitionFactories=[],this.states={},a.states.forEach(C=>{this.states[C.name]=new Wa(C.style,C.options&&C.options.params||{},g)}),Hl(this.states,"true","1"),Hl(this.states,"false","0"),a.transitions.forEach(C=>{this.transitionFactories.push(new Bl(c,C,this.states))}),this.fallbackTransition=function Za(b,c,a){return new Bl(b,{type:1,animation:{type:2,steps:[],options:null},matchers:[(oe,Te)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,a,g,C){return this.transitionFactories.find(oe=>oe.match(c,a,g,C))||null}matchStyles(c,a,g){return this.fallbackTransition.buildStyles(c,a,g)}}function Hl(b,c,a){b.hasOwnProperty(c)?b.hasOwnProperty(a)||(b[a]=b[c]):b.hasOwnProperty(a)&&(b[c]=b[a])}const la=new Ra;class ua{constructor(c,a,g){this.bodyNode=c,this._driver=a,this._normalizer=g,this._animations={},this._playersById={},this.players=[]}register(c,a){const g=[],B=zo(this._driver,a,g,[]);if(g.length)throw function _o(b){return new d.vHH(3503,Pe)}();this._animations[c]=B}_buildPlayer(c,a,g){const C=c.element,B=Eo(0,this._normalizer,0,c.keyframes,a,g);return this._driver.animate(C,B,c.duration,c.delay,c.easing,[],!0)}create(c,a,g={}){const C=[],B=this._animations[c];let oe;const Te=new Map;if(B?(oe=oa(this._driver,a,B,oo,ao,{},{},g,la,C),oe.forEach(Xt=>{const _n=Or(Te,Xt.element,{});Xt.postStyleProps.forEach(Wn=>_n[Wn]=null)})):(C.push(function Us(){return new d.vHH(3300,Pe)}()),oe=[]),C.length)throw function Ea(b){return new d.vHH(3504,Pe)}();Te.forEach((Xt,_n)=>{Object.keys(Xt).forEach(Wn=>{Xt[Wn]=this._driver.computeStyle(_n,Wn,se.l3)})});const Ct=Bs(oe.map(Xt=>{const _n=Te.get(Xt.element);return this._buildPlayer(Xt,{},_n)}));return this._playersById[c]=Ct,Ct.onDestroy(()=>this.destroy(c)),this.players.push(Ct),Ct}destroy(c){const a=this._getPlayer(c);a.destroy(),delete this._playersById[c];const g=this.players.indexOf(a);g>=0&&this.players.splice(g,1)}_getPlayer(c){const a=this._playersById[c];if(!a)throw function wa(b){return new d.vHH(3301,Pe)}();return a}listen(c,a,g,C){const B=Ta(a,"","","");return Ca(this._getPlayer(c),g,B,C),()=>{}}command(c,a,g,C){if("register"==g)return void this.register(c,C[0]);if("create"==g)return void this.create(c,a,C[0]||{});const B=this._getPlayer(c);switch(g){case"play":B.play();break;case"pause":B.pause();break;case"reset":B.reset();break;case"restart":B.restart();break;case"finish":B.finish();break;case"init":B.init();break;case"setPosition":B.setPosition(parseFloat(C[0]));break;case"destroy":this.destroy(c)}}}const qr="ng-animate-queued",Do="ng-animate-disabled",jl=[],Ko={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_l={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pr="__ng_removed";class da{constructor(c,a=""){this.namespaceId=a;const g=c&&c.hasOwnProperty("value");if(this.value=function ku(b){return null!=b?b:null}(g?c.value:c),g){const B=hn(c);delete B.value,this.options=B}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(c){const a=c.params;if(a){const g=this.options.params;Object.keys(a).forEach(C=>{null==g[C]&&(g[C]=a[C])})}}}const $s="void",Na=new da($s);class bl{constructor(c,a,g){this.id=c,this.hostElement=a,this._engine=g,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,mt(a,this._hostClassName)}listen(c,a,g,C){if(!this._triggers.hasOwnProperty(a))throw function fl(b,c){return new d.vHH(3302,Pe)}();if(null==g||0==g.length)throw function pl(b){return new d.vHH(3303,Pe)}();if(!function U(b){return"start"==b||"done"==b}(g))throw function gl(b,c){return new d.vHH(3400,Pe)}();const B=Or(this._elementListeners,c,[]),oe={name:a,phase:g,callback:C};B.push(oe);const Te=Or(this._engine.statesByElement,c,{});return Te.hasOwnProperty(a)||(mt(c,ps),mt(c,ps+"-"+a),Te[a]=Na),()=>{this._engine.afterFlush(()=>{const Qe=B.indexOf(oe);Qe>=0&&B.splice(Qe,1),this._triggers[a]||delete Te[a]})}}register(c,a){return!this._triggers[c]&&(this._triggers[c]=a,!0)}_getTrigger(c){const a=this._triggers[c];if(!a)throw function no(b){return new d.vHH(3401,Pe)}();return a}trigger(c,a,g,C=!0){const B=this._getTrigger(a),oe=new Ka(this.id,a,c);let Te=this._engine.statesByElement.get(c);Te||(mt(c,ps),mt(c,ps+"-"+a),this._engine.statesByElement.set(c,Te={}));let Qe=Te[a];const Ct=new da(g,this.id);if(!(g&&g.hasOwnProperty("value"))&&Qe&&Ct.absorbOptions(Qe.options),Te[a]=Ct,Qe||(Qe=Na),Ct.value!==$s&&Qe.value===Ct.value){if(!function si(b,c){const a=Object.keys(b),g=Object.keys(c);if(a.length!=g.length)return!1;for(let C=0;C<a.length;C++){const B=a[C];if(!c.hasOwnProperty(B)||b[B]!==c[B])return!1}return!0}(Qe.params,Ct.params)){const Si=[],hr=B.matchStyles(Qe.value,Qe.params,Si),Ir=B.matchStyles(Ct.value,Ct.params,Si);Si.length?this._engine.reportError(Si):this._engine.afterFlush(()=>{$a(c,hr),lo(c,Ir)})}return}const Wn=Or(this._engine.playersByElement,c,[]);Wn.forEach(Si=>{Si.namespaceId==this.id&&Si.triggerName==a&&Si.queued&&Si.destroy()});let pi=B.matchTransition(Qe.value,Ct.value,c,Ct.params),Jn=!1;if(!pi){if(!C)return;pi=B.fallbackTransition,Jn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:a,transition:pi,fromState:Qe,toState:Ct,player:oe,isFallbackTransition:Jn}),Jn||(mt(c,qr),oe.onStart(()=>{qt(c,qr)})),oe.onDone(()=>{let Si=this.players.indexOf(oe);Si>=0&&this.players.splice(Si,1);const hr=this._engine.playersByElement.get(c);if(hr){let Ir=hr.indexOf(oe);Ir>=0&&hr.splice(Ir,1)}}),this.players.push(oe),Wn.push(oe),oe}deregister(c){delete this._triggers[c],this._engine.statesByElement.forEach((a,g)=>{delete a[c]}),this._elementListeners.forEach((a,g)=>{this._elementListeners.set(g,a.filter(C=>C.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const a=this._engine.playersByElement.get(c);a&&(a.forEach(g=>g.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,a){const g=this._engine.driver.query(c,Qt,!0);g.forEach(C=>{if(C[Pr])return;const B=this._engine.fetchNamespacesByElement(C);B.size?B.forEach(oe=>oe.triggerLeaveAnimation(C,a,!1,!0)):this.clearElementCache(C)}),this._engine.afterFlushAnimationsDone(()=>g.forEach(C=>this.clearElementCache(C)))}triggerLeaveAnimation(c,a,g,C){const B=this._engine.statesByElement.get(c),oe=new Map;if(B){const Te=[];if(Object.keys(B).forEach(Qe=>{if(oe.set(Qe,B[Qe].value),this._triggers[Qe]){const Ct=this.trigger(c,Qe,$s,C);Ct&&Te.push(Ct)}}),Te.length)return this._engine.markElementAsRemoved(this.id,c,!0,a,oe),g&&Bs(Te).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const a=this._elementListeners.get(c),g=this._engine.statesByElement.get(c);if(a&&g){const C=new Set;a.forEach(B=>{const oe=B.name;if(C.has(oe))return;C.add(oe);const Qe=this._triggers[oe].fallbackTransition,Ct=g[oe]||Na,Xt=new da($s),_n=new Ka(this.id,oe,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:oe,transition:Qe,fromState:Ct,toState:Xt,player:_n,isFallbackTransition:!0})})}}removeNode(c,a){const g=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,a),this.triggerLeaveAnimation(c,a,!0))return;let C=!1;if(g.totalAnimations){const B=g.players.length?g.playersByQueriedElement.get(c):[];if(B&&B.length)C=!0;else{let oe=c;for(;oe=oe.parentNode;)if(g.statesByElement.get(oe)){C=!0;break}}}if(this.prepareLeaveAnimationListeners(c),C)g.markElementAsRemoved(this.id,c,!1,a);else{const B=c[Pr];(!B||B===Ko)&&(g.afterFlush(()=>this.clearElementCache(c)),g.destroyInnerAnimations(c),g._onRemovalComplete(c,a))}}insertNode(c,a){mt(c,this._hostClassName)}drainQueuedTransitions(c){const a=[];return this._queue.forEach(g=>{const C=g.player;if(C.destroyed)return;const B=g.element,oe=this._elementListeners.get(B);oe&&oe.forEach(Te=>{if(Te.name==g.triggerName){const Qe=Ta(B,g.triggerName,g.fromState.value,g.toState.value);Qe._data=c,Ca(g.player,Te.phase,Qe,Te.callback)}}),C.markedForDestroy?this._engine.afterFlush(()=>{C.destroy()}):a.push(g)}),this._queue=[],a.sort((g,C)=>{const B=g.transition.ast.depCount,oe=C.transition.ast.depCount;return 0==B||0==oe?B-oe:this._engine.driver.containsElement(g.element,C.element)?1:-1})}destroy(c){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}elementContainsData(c){let a=!1;return this._elementListeners.has(c)&&(a=!0),a=!!this._queue.find(g=>g.element===c)||a,a}}class ha{constructor(c,a,g){this.bodyNode=c,this.driver=a,this._normalizer=g,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(C,B)=>{}}_onRemovalComplete(c,a){this.onRemovalComplete(c,a)}get queuedPlayers(){const c=[];return this._namespaceList.forEach(a=>{a.players.forEach(g=>{g.queued&&c.push(g)})}),c}createNamespace(c,a){const g=new bl(c,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(g,a):(this.newHostElements.set(a,g),this.collectEnterElement(a)),this._namespaceLookup[c]=g}_balanceNamespaceList(c,a){const g=this._namespaceList,C=this.namespacesByHostElement,B=g.length-1;if(B>=0){let oe=!1;if(void 0!==this.driver.getParentElement){let Te=this.driver.getParentElement(a);for(;Te;){const Qe=C.get(Te);if(Qe){const Ct=g.indexOf(Qe);g.splice(Ct+1,0,c),oe=!0;break}Te=this.driver.getParentElement(Te)}}else for(let Te=B;Te>=0;Te--)if(this.driver.containsElement(g[Te].hostElement,a)){g.splice(Te+1,0,c),oe=!0;break}oe||g.unshift(c)}else g.push(c);return C.set(a,c),c}register(c,a){let g=this._namespaceLookup[c];return g||(g=this.createNamespace(c,a)),g}registerTrigger(c,a,g){let C=this._namespaceLookup[c];C&&C.register(a,g)&&this.totalAnimations++}destroy(c,a){if(!c)return;const g=this._fetchNamespace(c);this.afterFlush(()=>{this.namespacesByHostElement.delete(g.hostElement),delete this._namespaceLookup[c];const C=this._namespaceList.indexOf(g);C>=0&&this._namespaceList.splice(C,1)}),this.afterFlushAnimationsDone(()=>g.destroy(a))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const a=new Set,g=this.statesByElement.get(c);if(g){const C=Object.keys(g);for(let B=0;B<C.length;B++){const oe=g[C[B]].namespaceId;if(oe){const Te=this._fetchNamespace(oe);Te&&a.add(Te)}}}return a}trigger(c,a,g,C){if(R(a)){const B=this._fetchNamespace(c);if(B)return B.trigger(a,g,C),!0}return!1}insertNode(c,a,g,C){if(!R(a))return;const B=a[Pr];if(B&&B.setForRemoval){B.setForRemoval=!1,B.setForMove=!0;const oe=this.collectedLeaveElements.indexOf(a);oe>=0&&this.collectedLeaveElements.splice(oe,1)}if(c){const oe=this._fetchNamespace(c);oe&&oe.insertNode(a,g)}C&&this.collectEnterElement(a)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,a){a?this.disabledNodes.has(c)||(this.disabledNodes.add(c),mt(c,Do)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),qt(c,Do))}removeNode(c,a,g,C){if(R(a)){const B=c?this._fetchNamespace(c):null;if(B?B.removeNode(a,C):this.markElementAsRemoved(c,a,!1,C),g){const oe=this.namespacesByHostElement.get(a);oe&&oe.id!==c&&oe.removeNode(a,C)}}else this._onRemovalComplete(a,C)}markElementAsRemoved(c,a,g,C,B){this.collectedLeaveElements.push(a),a[Pr]={namespaceId:c,setForRemoval:C,hasAnimation:g,removedBeforeQueried:!1,previousTriggersValues:B}}listen(c,a,g,C,B){return R(a)?this._fetchNamespace(c).listen(a,g,C,B):()=>{}}_buildInstruction(c,a,g,C,B){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,g,C,c.fromState.options,c.toState.options,a,B)}destroyInnerAnimations(c){let a=this.driver.query(c,Qt,!0);a.forEach(g=>this.destroyActiveAnimationsForElement(g)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(c,Xi,!0),a.forEach(g=>this.finishActiveQueriedAnimationOnElement(g)))}destroyActiveAnimationsForElement(c){const a=this.playersByElement.get(c);a&&a.forEach(g=>{g.queued?g.markedForDestroy=!0:g.destroy()})}finishActiveQueriedAnimationOnElement(c){const a=this.playersByQueriedElement.get(c);a&&a.forEach(g=>g.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return Bs(this.players).onDone(()=>c());c()})}processLeaveNode(c){var a;const g=c[Pr];if(g&&g.setForRemoval){if(c[Pr]=Ko,g.namespaceId){this.destroyInnerAnimations(c);const C=this._fetchNamespace(g.namespaceId);C&&C.clearElementCache(c)}this._onRemovalComplete(c,g.setForRemoval)}(null===(a=c.classList)||void 0===a?void 0:a.contains(Do))&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(C=>{this.markElementAsDisabled(C,!1)})}flush(c=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((g,C)=>this._balanceNamespaceList(g,C)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let g=0;g<this.collectedEnterElements.length;g++)mt(this.collectedEnterElements[g],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const g=[];try{a=this._flushAnimations(g,c)}finally{for(let C=0;C<g.length;C++)g[C]()}}else for(let g=0;g<this.collectedLeaveElements.length;g++)this.processLeaveNode(this.collectedLeaveElements[g]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(g=>g()),this._flushFns=[],this._whenQuietFns.length){const g=this._whenQuietFns;this._whenQuietFns=[],a.length?Bs(a).onDone(()=>{g.forEach(C=>C())}):g.forEach(C=>C())}}reportError(c){throw function Wr(b){return new d.vHH(3402,Pe)}()}_flushAnimations(c,a){const g=new Ra,C=[],B=new Map,oe=[],Te=new Map,Qe=new Map,Ct=new Map,Xt=new Set;this.disabledNodes.forEach(Rn=>{Xt.add(Rn);const Qn=this.driver.query(Rn,".ng-animate-queued",!0);for(let oi=0;oi<Qn.length;oi++)Xt.add(Qn[oi])});const _n=this.bodyNode,Wn=Array.from(this.statesByElement.keys()),pi=rt(Wn,this.collectedEnterElements),Jn=new Map;let Si=0;pi.forEach((Rn,Qn)=>{const oi=oo+Si++;Jn.set(Qn,oi),Rn.forEach(er=>mt(er,oi))});const hr=[],Ir=new Set,Yr=new Set;for(let Rn=0;Rn<this.collectedLeaveElements.length;Rn++){const Qn=this.collectedLeaveElements[Rn],oi=Qn[Pr];oi&&oi.setForRemoval&&(hr.push(Qn),Ir.add(Qn),oi.hasAnimation?this.driver.query(Qn,".ng-star-inserted",!0).forEach(er=>Ir.add(er)):Yr.add(Qn))}const xs=new Map,Es=rt(Wn,Array.from(Ir));Es.forEach((Rn,Qn)=>{const oi=ao+Si++;xs.set(Qn,oi),Rn.forEach(er=>mt(er,oi))}),c.push(()=>{pi.forEach((Rn,Qn)=>{const oi=Jn.get(Qn);Rn.forEach(er=>qt(er,oi))}),Es.forEach((Rn,Qn)=>{const oi=xs.get(Qn);Rn.forEach(er=>qt(er,oi))}),hr.forEach(Rn=>{this.processLeaveNode(Rn)})});const Fa=[],ma=[];for(let Rn=this._namespaceList.length-1;Rn>=0;Rn--)this._namespaceList[Rn].drainQueuedTransitions(a).forEach(oi=>{const er=oi.player,Rs=oi.element;if(Fa.push(er),this.collectedEnterElements.length){const ea=Rs[Pr];if(ea&&ea.setForMove){if(ea.previousTriggersValues&&ea.previousTriggersValues.has(oi.triggerName)){const Ua=ea.previousTriggersValues.get(oi.triggerName),Ja=this.statesByElement.get(oi.element);Ja&&Ja[oi.triggerName]&&(Ja[oi.triggerName].value=Ua)}return void er.destroy()}}const Jo=!_n||!this.driver.containsElement(_n,Rs),Xo=xs.get(Rs),xl=Jn.get(Rs),Ur=this._buildInstruction(oi,g,xl,Xo,Jo);if(Ur.errors&&Ur.errors.length)return void ma.push(Ur);if(Jo)return er.onStart(()=>$a(Rs,Ur.fromStyles)),er.onDestroy(()=>lo(Rs,Ur.toStyles)),void C.push(er);if(oi.isFallbackTransition)return er.onStart(()=>$a(Rs,Ur.fromStyles)),er.onDestroy(()=>lo(Rs,Ur.toStyles)),void C.push(er);const jc=[];Ur.timelines.forEach(ea=>{ea.stretchStartingKeyframe=!0,this.disabledNodes.has(ea.element)||jc.push(ea)}),Ur.timelines=jc,g.append(Rs,Ur.timelines),oe.push({instruction:Ur,player:er,element:Rs}),Ur.queriedElements.forEach(ea=>Or(Te,ea,[]).push(er)),Ur.preStyleProps.forEach((ea,Ua)=>{const Ja=Object.keys(ea);if(Ja.length){let Jl=Qe.get(Ua);Jl||Qe.set(Ua,Jl=new Set),Ja.forEach($c=>Jl.add($c))}}),Ur.postStyleProps.forEach((ea,Ua)=>{const Ja=Object.keys(ea);let Jl=Ct.get(Ua);Jl||Ct.set(Ua,Jl=new Set),Ja.forEach($c=>Jl.add($c))})});if(ma.length){const Rn=[];ma.forEach(Qn=>{Rn.push(function Vo(b,c){return new d.vHH(3505,Pe)}())}),Fa.forEach(Qn=>Qn.destroy()),this.reportError(Rn)}const sr=new Map,Sl=new Map;oe.forEach(Rn=>{const Qn=Rn.element;g.has(Qn)&&(Sl.set(Qn,Qn),this._beforeAnimationBuild(Rn.player.namespaceId,Rn.instruction,sr))}),C.forEach(Rn=>{const Qn=Rn.element;this._getPreviousPlayers(Qn,!1,Rn.namespaceId,Rn.triggerName,null).forEach(er=>{Or(sr,Qn,[]).push(er),er.destroy()})});const ul=hr.filter(Rn=>Bn(Rn,Qe,Ct)),ss=new Map;De(ss,this.driver,Yr,Ct,se.l3).forEach(Rn=>{Bn(Rn,Qe,Ct)&&ul.push(Rn)});const Eu=new Map;pi.forEach((Rn,Qn)=>{De(Eu,this.driver,new Set(Rn),Qe,se.k1)}),ul.forEach(Rn=>{const Qn=ss.get(Rn),oi=Eu.get(Rn);ss.set(Rn,Object.assign(Object.assign({},Qn),oi))});const wu=[],hd=[],sf={};oe.forEach(Rn=>{const{element:Qn,player:oi,instruction:er}=Rn;if(g.has(Qn)){if(Xt.has(Qn))return oi.onDestroy(()=>lo(Qn,er.toStyles)),oi.disabled=!0,oi.overrideTotalTime(er.totalTime),void C.push(oi);let Rs=sf;if(Sl.size>1){let Xo=Qn;const xl=[];for(;Xo=Xo.parentNode;){const Ur=Sl.get(Xo);if(Ur){Rs=Ur;break}xl.push(Xo)}xl.forEach(Ur=>Sl.set(Ur,Rs))}const Jo=this._buildAnimation(oi.namespaceId,er,sr,B,Eu,ss);if(oi.setRealPlayer(Jo),Rs===sf)wu.push(oi);else{const Xo=this.playersByElement.get(Rs);Xo&&Xo.length&&(oi.parentPlayer=Bs(Xo)),C.push(oi)}}else $a(Qn,er.fromStyles),oi.onDestroy(()=>lo(Qn,er.toStyles)),hd.push(oi),Xt.has(Qn)&&C.push(oi)}),hd.forEach(Rn=>{const Qn=B.get(Rn.element);if(Qn&&Qn.length){const oi=Bs(Qn);Rn.setRealPlayer(oi)}}),C.forEach(Rn=>{Rn.parentPlayer?Rn.syncPlayerEvents(Rn.parentPlayer):Rn.destroy()});for(let Rn=0;Rn<hr.length;Rn++){const Qn=hr[Rn],oi=Qn[Pr];if(qt(Qn,ao),oi&&oi.hasAnimation)continue;let er=[];if(Te.size){let Jo=Te.get(Qn);Jo&&Jo.length&&er.push(...Jo);let Xo=this.driver.query(Qn,Xi,!0);for(let xl=0;xl<Xo.length;xl++){let Ur=Te.get(Xo[xl]);Ur&&Ur.length&&er.push(...Ur)}}const Rs=er.filter(Jo=>!Jo.destroyed);Rs.length?an(this,Qn,Rs):this.processLeaveNode(Qn)}return hr.length=0,wu.forEach(Rn=>{this.players.push(Rn),Rn.onDone(()=>{Rn.destroy();const Qn=this.players.indexOf(Rn);this.players.splice(Qn,1)}),Rn.play()}),wu}elementContainsData(c,a){let g=!1;const C=a[Pr];return C&&C.setForRemoval&&(g=!0),this.playersByElement.has(a)&&(g=!0),this.playersByQueriedElement.has(a)&&(g=!0),this.statesByElement.has(a)&&(g=!0),this._fetchNamespace(c).elementContainsData(a)||g}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,a,g,C,B){let oe=[];if(a){const Te=this.playersByQueriedElement.get(c);Te&&(oe=Te)}else{const Te=this.playersByElement.get(c);if(Te){const Qe=!B||B==$s;Te.forEach(Ct=>{Ct.queued||!Qe&&Ct.triggerName!=C||oe.push(Ct)})}}return(g||C)&&(oe=oe.filter(Te=>!(g&&g!=Te.namespaceId||C&&C!=Te.triggerName))),oe}_beforeAnimationBuild(c,a,g){const B=a.element,oe=a.isRemovalTransition?void 0:c,Te=a.isRemovalTransition?void 0:a.triggerName;for(const Qe of a.timelines){const Ct=Qe.element,Xt=Ct!==B,_n=Or(g,Ct,[]);this._getPreviousPlayers(Ct,Xt,oe,Te,a.toState).forEach(pi=>{const Jn=pi.getRealPlayer();Jn.beforeDestroy&&Jn.beforeDestroy(),pi.destroy(),_n.push(pi)})}$a(B,a.fromStyles)}_buildAnimation(c,a,g,C,B,oe){const Te=a.triggerName,Qe=a.element,Ct=[],Xt=new Set,_n=new Set,Wn=a.timelines.map(Jn=>{const Si=Jn.element;Xt.add(Si);const hr=Si[Pr];if(hr&&hr.removedBeforeQueried)return new se.ZN(Jn.duration,Jn.delay);const Ir=Si!==Qe,Yr=function Gn(b){const c=[];return ri(b,c),c}((g.get(Si)||jl).map(sr=>sr.getRealPlayer())).filter(sr=>!!sr.element&&sr.element===Si),xs=B.get(Si),Es=oe.get(Si),Fa=Eo(0,this._normalizer,0,Jn.keyframes,xs,Es),ma=this._buildPlayer(Jn,Fa,Yr);if(Jn.subTimeline&&C&&_n.add(Si),Ir){const sr=new Ka(c,Te,Si);sr.setRealPlayer(ma),Ct.push(sr)}return ma});Ct.forEach(Jn=>{Or(this.playersByQueriedElement,Jn.element,[]).push(Jn),Jn.onDone(()=>function $l(b,c,a){let g;if(b instanceof Map){if(g=b.get(c),g){if(g.length){const C=g.indexOf(a);g.splice(C,1)}0==g.length&&b.delete(c)}}else if(g=b[c],g){if(g.length){const C=g.indexOf(a);g.splice(C,1)}0==g.length&&delete b[c]}return g}(this.playersByQueriedElement,Jn.element,Jn))}),Xt.forEach(Jn=>mt(Jn,Ji));const pi=Bs(Wn);return pi.onDestroy(()=>{Xt.forEach(Jn=>qt(Jn,Ji)),lo(Qe,a.toStyles)}),_n.forEach(Jn=>{Or(C,Jn,[]).push(pi)}),pi}_buildPlayer(c,a,g){return a.length>0?this.driver.animate(c.element,a,c.duration,c.delay,c.easing,g):new se.ZN(c.duration,c.delay)}}class Ka{constructor(c,a,g){this.namespaceId=c,this.triggerName=a,this.element=g,this._player=new se.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,Object.keys(this._queuedCallbacks).forEach(a=>{this._queuedCallbacks[a].forEach(g=>Ca(c,a,void 0,g))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const a=this._player;a.triggerCallback&&c.onStart(()=>a.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,a){Or(this._queuedCallbacks,c,[]).push(a)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const a=this._player;a.triggerCallback&&a.triggerCallback(c)}}function R(b){return b&&1===b.nodeType}function ae(b,c){const a=b.style.display;return b.style.display=null!=c?c:"none",a}function De(b,c,a,g,C){const B=[];a.forEach(Qe=>B.push(ae(Qe)));const oe=[];g.forEach((Qe,Ct)=>{const Xt={};Qe.forEach(_n=>{const Wn=Xt[_n]=c.computeStyle(Ct,_n,C);(!Wn||0==Wn.length)&&(Ct[Pr]=_l,oe.push(Ct))}),b.set(Ct,Xt)});let Te=0;return a.forEach(Qe=>ae(Qe,B[Te++])),oe}function rt(b,c){const a=new Map;if(b.forEach(Te=>a.set(Te,[])),0==c.length)return a;const C=new Set(c),B=new Map;function oe(Te){if(!Te)return 1;let Qe=B.get(Te);if(Qe)return Qe;const Ct=Te.parentNode;return Qe=a.has(Ct)?Ct:C.has(Ct)?1:oe(Ct),B.set(Te,Qe),Qe}return c.forEach(Te=>{const Qe=oe(Te);1!==Qe&&a.get(Qe).push(Te)}),a}function mt(b,c){var a;null===(a=b.classList)||void 0===a||a.add(c)}function qt(b,c){var a;null===(a=b.classList)||void 0===a||a.remove(c)}function an(b,c,a){Bs(a).onDone(()=>b.processLeaveNode(c))}function ri(b,c){for(let a=0;a<b.length;a++){const g=b[a];g instanceof se.ZE?ri(g.players,c):c.push(g)}}function Bn(b,c,a){const g=a.get(b);if(!g)return!1;let C=c.get(b);return C?g.forEach(B=>C.add(B)):c.set(b,g),a.delete(b),!0}class Rr{constructor(c,a,g){this.bodyNode=c,this._driver=a,this._normalizer=g,this._triggerCache={},this.onRemovalComplete=(C,B)=>{},this._transitionEngine=new ha(c,a,g),this._timelineEngine=new ua(c,a,g),this._transitionEngine.onRemovalComplete=(C,B)=>this.onRemovalComplete(C,B)}registerTrigger(c,a,g,C,B){const oe=c+"-"+C;let Te=this._triggerCache[oe];if(!Te){const Qe=[],Xt=zo(this._driver,B,Qe,[]);if(Qe.length)throw function lr(b,c){return new d.vHH(3404,Pe)}();Te=function _s(b,c,a){return new aa(b,c,a)}(C,Xt,this._normalizer),this._triggerCache[oe]=Te}this._transitionEngine.registerTrigger(a,C,Te)}register(c,a){this._transitionEngine.register(c,a)}destroy(c,a){this._transitionEngine.destroy(c,a)}onInsert(c,a,g,C){this._transitionEngine.insertNode(c,a,g,C)}onRemove(c,a,g,C){this._transitionEngine.removeNode(c,a,C||!1,g)}disableAnimations(c,a){this._transitionEngine.markElementAsDisabled(c,a)}process(c,a,g,C){if("@"==g.charAt(0)){const[B,oe]=tl(g);this._timelineEngine.command(B,a,oe,C)}else this._transitionEngine.trigger(c,a,g,C)}listen(c,a,g,C,B){if("@"==g.charAt(0)){const[oe,Te]=tl(g);return this._timelineEngine.listen(oe,a,Te,B)}return this._transitionEngine.listen(c,a,g,C,B)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let rl=(()=>{class b{constructor(a,g,C){this._element=a,this._startStyles=g,this._endStyles=C,this._state=0;let B=b.initialStylesByElement.get(a);B||b.initialStylesByElement.set(a,B={}),this._initialStyles=B}start(){this._state<1&&(this._startStyles&&lo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(lo(this._element,this._initialStyles),this._endStyles&&(lo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(b.initialStylesByElement.delete(this._element),this._startStyles&&($a(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($a(this._element,this._endStyles),this._endStyles=null),lo(this._element,this._initialStyles),this._state=3)}}return b.initialStylesByElement=new WeakMap,b})();function Io(b){let c=null;const a=Object.keys(b);for(let g=0;g<a.length;g++){const C=a[g];ho(C)&&(c=c||{},c[C]=b[C])}return c}function ho(b){return"display"===b||"position"===b}class Gl{constructor(c,a,g,C){this.element=c,this.keyframes=a,this.options=g,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=g.duration,this._delay=g.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(c,a,g){return c.animate(a,g)}onStart(c){this._onStartFns.push(c)}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c={};if(this.hasStarted()){const a=this._finalKeyframe;Object.keys(a).forEach(g=>{"offset"!=g&&(c[g]=this._finished?a[g]:Yn(this.element,g))})}this.currentSnapshot=c}triggerCallback(c){const a="start"==c?this._onStartFns:this._onDoneFns;a.forEach(g=>g()),a.length=0}}class ka{validateStyleProperty(c){return so(c)}matchesElement(c,a){return!1}containsElement(c,a){return nl(c,a)}getParentElement(c){return ro(c)}query(c,a,g){return fs(c,a,g)}computeStyle(c,a,g){return window.getComputedStyle(c)[a]}animate(c,a,g,C,B,oe=[]){const Qe={duration:g,delay:C,fill:0==C?"both":"forwards"};B&&(Qe.easing=B);const Ct={},Xt=oe.filter(Wn=>Wn instanceof Gl);(function vs(b,c){return 0===b||0===c})(g,C)&&Xt.forEach(Wn=>{let pi=Wn.currentSnapshot;Object.keys(pi).forEach(Jn=>Ct[Jn]=pi[Jn])}),a=function Oa(b,c,a){const g=Object.keys(a);if(g.length&&c.length){let B=c[0],oe=[];if(g.forEach(Te=>{B.hasOwnProperty(Te)||oe.push(Te),B[Te]=a[Te]}),oe.length)for(var C=1;C<c.length;C++){let Te=c[C];oe.forEach(function(Qe){Te[Qe]=Yn(b,Qe)})}}return c}(c,a=a.map(Wn=>$t(Wn,!1)),Ct);const _n=function Ki(b,c){let a=null,g=null;return Array.isArray(c)&&c.length?(a=Io(c[0]),c.length>1&&(g=Io(c[c.length-1]))):c&&(a=Io(c)),a||g?new rl(b,a,g):null}(c,a);return new Gl(c,a,Qe,_n)}}let sl=(()=>{class b extends se._j{constructor(a,g){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(g.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(a){const g=this._nextAnimationId.toString();this._nextAnimationId++;const C=Array.isArray(a)?(0,se.vP)(a):a;return Gs(this._renderer,null,g,"register",[C]),new fa(g,this._renderer)}}return b.\u0275fac=function(a){return new(a||b)(d.LFG(d.FYo),d.LFG(ut.K0))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac}),b})();class fa extends se.LC{constructor(c,a){super(),this._id=c,this._renderer=a}create(c,a){return new La(this._id,c,a||{},this._renderer)}}class La{constructor(c,a,g,C){this.id=c,this.element=a,this._renderer=C,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",g)}_listen(c,a){return this._renderer.listen(this.element,`@@${this.id}:${c}`,a)}_command(c,...a){return Gs(this._renderer,this.element,this.id,c,a)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){var c,a;return null!==(a=null===(c=this._renderer.engine.players[+this.id])||void 0===c?void 0:c.getPosition())&&void 0!==a?a:0}}function Gs(b,c,a,g,C){return b.setProperty(c,`@@${a}:${g}`,C)}const Pc="@.disabled";let Rc=(()=>{class b{constructor(a,g,C){this.delegate=a,this.engine=g,this._zone=C,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),g.onRemovalComplete=(B,oe)=>{const Te=null==oe?void 0:oe.parentNode(B);Te&&oe.removeChild(Te,B)}}createRenderer(a,g){const B=this.delegate.createRenderer(a,g);if(!(a&&g&&g.data&&g.data.animation)){let Xt=this._rendererCache.get(B);return Xt||(Xt=new ol("",B,this.engine),this._rendererCache.set(B,Xt)),Xt}const oe=g.id,Te=g.id+"-"+this._currentId;this._currentId++,this.engine.register(Te,a);const Qe=Xt=>{Array.isArray(Xt)?Xt.forEach(Qe):this.engine.registerTrigger(oe,Te,a,Xt.name,Xt)};return g.data.animation.forEach(Qe),new Xs(this,Te,B,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(a,g,C){a>=0&&a<this._microtaskId?this._zone.run(()=>g(C)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(B=>{const[oe,Te]=B;oe(Te)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([g,C]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return b.\u0275fac=function(a){return new(a||b)(d.LFG(d.FYo),d.LFG(Rr),d.LFG(d.R0b))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac}),b})();class ol{constructor(c,a,g){this.namespaceId=c,this.delegate=a,this.engine=g,this.destroyNode=this.delegate.destroyNode?C=>a.destroyNode(C):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(c,a){return this.delegate.createElement(c,a)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,a){this.delegate.appendChild(c,a),this.engine.onInsert(this.namespaceId,a,c,!1)}insertBefore(c,a,g,C=!0){this.delegate.insertBefore(c,a,g),this.engine.onInsert(this.namespaceId,a,c,C)}removeChild(c,a,g){this.engine.onRemove(this.namespaceId,a,this.delegate,g)}selectRootElement(c,a){return this.delegate.selectRootElement(c,a)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,a,g,C){this.delegate.setAttribute(c,a,g,C)}removeAttribute(c,a,g){this.delegate.removeAttribute(c,a,g)}addClass(c,a){this.delegate.addClass(c,a)}removeClass(c,a){this.delegate.removeClass(c,a)}setStyle(c,a,g,C){this.delegate.setStyle(c,a,g,C)}removeStyle(c,a,g){this.delegate.removeStyle(c,a,g)}setProperty(c,a,g){"@"==a.charAt(0)&&a==Pc?this.disableAnimations(c,!!g):this.delegate.setProperty(c,a,g)}setValue(c,a){this.delegate.setValue(c,a)}listen(c,a,g){return this.delegate.listen(c,a,g)}disableAnimations(c,a){this.engine.disableAnimations(c,a)}}class Xs extends ol{constructor(c,a,g,C){super(a,g,C),this.factory=c,this.namespaceId=a}setProperty(c,a,g){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Pc?this.disableAnimations(c,g=void 0===g||!!g):this.engine.process(this.namespaceId,c,a.substr(1),g):this.delegate.setProperty(c,a,g)}listen(c,a,g){if("@"==a.charAt(0)){const C=function Nc(b){switch(b){case"body":return document.body;case"document":return document;case"window":return window;default:return b}}(c);let B=a.substr(1),oe="";return"@"!=B.charAt(0)&&([B,oe]=function pu(b){const c=b.indexOf(".");return[b.substring(0,c),b.substr(c+1)]}(B)),this.engine.listen(this.namespaceId,C,B,oe,Te=>{this.factory.scheduleListenerCallback(Te._data||-1,g,Te)})}return this.delegate.listen(c,a,g)}}let Lu=(()=>{class b extends Rr{constructor(a,g,C){super(a.body,g,C)}ngOnDestroy(){this.flush()}}return b.\u0275fac=function(a){return new(a||b)(d.LFG(ut.K0),d.LFG(ja),d.LFG(_r))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac}),b})();const Fu=new d.OlP("AnimationModuleType"),El=[{provide:se._j,useClass:sl},{provide:_r,useFactory:function nc(){return new Ga}},{provide:Rr,useClass:Lu},{provide:d.FYo,useFactory:function gu(b,c,a){return new Rc(b,c,a)},deps:[p.se,Rr,d.R0b]}],zs=[{provide:ja,useFactory:()=>new ka},{provide:Fu,useValue:"BrowserAnimations"},...El],wl=[{provide:ja,useClass:ir},{provide:Fu,useValue:"NoopAnimations"},...El];let Cl=(()=>{class b{static withConfig(a){return{ngModule:b,providers:a.disableAnimations?wl:zs}}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=d.oAB({type:b}),b.\u0275inj=d.cJS({providers:zs,imports:[p.b2]}),b})();var Vu=x(8968),Ao=x(4004);let ic=(()=>{class b{constructor(a,g){this.toastr=a,this.router=g}intercept(a,g){return g.handle(a).pipe((0,Ao.U)(C=>{let B=null==C?void 0:C.body;return 0==(null==B?void 0:B.code)&&(null==B?void 0:B.message)?this.toastr.error(null==B?void 0:B.message,"",{timeOut:7e3}):3==(null==B?void 0:B.code)&&("ar"==localStorage.getItem("lang")?this.toastr.error("\u064a\u062c\u0628 \u0639\u0644\u064a\u0643  \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0645\u0624\u0629 \u0627\u062e\u0631\u064a","",{timeOut:7e3}):this.toastr.error("You Have To Login Again","",{timeOut:7e3}),localStorage.removeItem("joincart"),localStorage.removeItem("joinToken"),this.router.navigate(["/auth/login"])),C}))}}return b.\u0275fac=function(a){return new(a||b)(d.LFG(Vu._W),d.LFG(W.F0))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac}),b})();var qa=x(2011),pa=x(3385),rc=x(4986),sc=x(8306),Wl=x(8996),Yo=x(9646),So=x(6351),oc=x(8675),kc=x(4482),Zl=x(5403);function ga(){return(0,kc.e)((b,c)=>{let a,g=!1;b.subscribe((0,Zl.x)(c,C=>{const B=a;a=C,g&&c.next([B,C]),g=!0}))})}var Qo=x(5026),fo=x(1884),Uu=x(9300),Lc=(x(5881),x(3942)),ln=x(5525),ql=x(2090),Fc=x(4859);function Yl(b,c){if(void 0===c)return{merge:!1};if(void 0!==c.mergeFields&&void 0!==c.merge)throw new ln.WA("invalid-argument",`Invalid options passed to function ${b}(): You cannot specify both "merge" and "mergeFields".`);return c}function mu(){if("undefined"==typeof Uint8Array)throw new ln.WA("unimplemented","Uint8Arrays are not available in this environment.")}function lc(){if(!(0,ln.Me)())throw new ln.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Bu{constructor(c){this._delegate=c}static fromBase64String(c){return lc(),new Bu(ln.Jj.fromBase64String(c))}static fromUint8Array(c){return mu(),new Bu(ln.Jj.fromUint8Array(c))}toBase64(){return lc(),this._delegate.toBase64()}toUint8Array(){return mu(),this._delegate.toUint8Array()}isEqual(c){return this._delegate.isEqual(c._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function al(b){return function yu(b,c){if("object"!=typeof b||null===b)return!1;const a=b;for(const g of c)if(g in a&&"function"==typeof a[g])return!0;return!1}(b,["next","error","complete"])}class Vc{enableIndexedDbPersistence(c,a){return(0,ln.ST)(c._delegate,{forceOwnership:a})}enableMultiTabIndexedDbPersistence(c){return(0,ln.fH)(c._delegate)}clearIndexedDbPersistence(c){return(0,ln.Fc)(c._delegate)}}class T{constructor(c,a,g){this._delegate=a,this._persistenceProvider=g,this.INTERNAL={delete:()=>this.terminate()},c instanceof ln.l7||(this._appCompat=c)}get _databaseId(){return this._delegate._databaseId}settings(c){const a=this._delegate._getSettings();!c.merge&&a.host!==c.host&&(0,ln.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),c.merge&&delete(c=Object.assign(Object.assign({},a),c)).merge,this._delegate._setSettings(c)}useEmulator(c,a,g={}){(0,ln.at)(this._delegate,c,a,g)}enableNetwork(){return(0,ln.Ix)(this._delegate)}disableNetwork(){return(0,ln.TF)(this._delegate)}enablePersistence(c){let a=!1,g=!1;return c&&(a=!!c.synchronizeTabs,g=!!c.experimentalForceOwningTab,(0,ln.Wi)("synchronizeTabs",a,"experimentalForceOwningTab",g)),a?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,g)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ln.Mx)(this._delegate)}onSnapshotsInSync(c){return(0,ln.sc)(this._delegate,c)}get app(){if(!this._appCompat)throw new ln.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(c){try{return new ll(this,(0,ln.hJ)(this._delegate,c))}catch(a){throw jt(a,"collection()","Firestore.collection()")}}doc(c){try{return new at(this,(0,ln.JU)(this._delegate,c))}catch(a){throw jt(a,"doc()","Firestore.doc()")}}collectionGroup(c){try{return new rr(this,(0,ln.B$)(this._delegate,c))}catch(a){throw jt(a,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(c){return(0,ln.i3)(this._delegate,a=>c(new A(this,a)))}batch(){return(0,ln.qY)(this._delegate),new Y(new ln.PU(this._delegate,c=>(0,ln.GL)(this._delegate,c)))}loadBundle(c){return(0,ln.Pb)(this._delegate,c)}namedQuery(c){return(0,ln.L$)(this._delegate,c).then(a=>a?new rr(this,a):null)}}class y extends ln.u7{constructor(c){super(),this.firestore=c}convertBytes(c){return new Bu(new ln.Jj(c))}convertReference(c){const a=this.convertDocumentKey(c,this.firestore._databaseId);return at.forKey(a,this.firestore,null)}}class A{constructor(c,a){this._firestore=c,this._delegate=a,this._userDataWriter=new y(c)}get(c){const a=xo(c);return this._delegate.get(a).then(g=>new li(this._firestore,new ln.xU(this._firestore._delegate,this._userDataWriter,g._key,g._document,g.metadata,a.converter)))}set(c,a,g){const C=xo(c);return g?(Yl("Transaction.set",g),this._delegate.set(C,a,g)):this._delegate.set(C,a),this}update(c,a,g,...C){const B=xo(c);return 2===arguments.length?this._delegate.update(B,a):this._delegate.update(B,a,g,...C),this}delete(c){const a=xo(c);return this._delegate.delete(a),this}}class Y{constructor(c){this._delegate=c}set(c,a,g){const C=xo(c);return g?(Yl("WriteBatch.set",g),this._delegate.set(C,a,g)):this._delegate.set(C,a),this}update(c,a,g,...C){const B=xo(c);return 2===arguments.length?this._delegate.update(B,a):this._delegate.update(B,a,g,...C),this}delete(c){const a=xo(c);return this._delegate.delete(a),this}commit(){return this._delegate.commit()}}class pe{constructor(c,a,g){this._firestore=c,this._userDataWriter=a,this._delegate=g}fromFirestore(c,a){const g=new ln.$q(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,null);return this._delegate.fromFirestore(new dr(this._firestore,g),null!=a?a:{})}toFirestore(c,a){return a?this._delegate.toFirestore(c,a):this._delegate.toFirestore(c)}static getInstance(c,a){const g=pe.INSTANCES;let C=g.get(c);C||(C=new WeakMap,g.set(c,C));let B=C.get(a);return B||(B=new pe(c,new y(c),a),C.set(a,B)),B}}pe.INSTANCES=new WeakMap;class at{constructor(c,a){this.firestore=c,this._delegate=a,this._userDataWriter=new y(c)}static forPath(c,a,g){if(c.length%2!=0)throw new ln.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${c.canonicalString()} has ${c.length}`);return new at(a,new ln.my(a._delegate,g,new ln.Ky(c)))}static forKey(c,a,g){return new at(a,new ln.my(a._delegate,g,c))}get id(){return this._delegate.id}get parent(){return new ll(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(c){try{return new ll(this.firestore,(0,ln.hJ)(this._delegate,c))}catch(a){throw jt(a,"collection()","DocumentReference.collection()")}}isEqual(c){return(c=(0,ql.m9)(c))instanceof ln.my&&(0,ln.Eo)(this._delegate,c)}set(c,a){a=Yl("DocumentReference.set",a);try{return a?(0,ln.pl)(this._delegate,c,a):(0,ln.pl)(this._delegate,c)}catch(g){throw jt(g,"setDoc()","DocumentReference.set()")}}update(c,a,...g){try{return 1===arguments.length?(0,ln.r7)(this._delegate,c):(0,ln.r7)(this._delegate,c,a,...g)}catch(C){throw jt(C,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ln.oe)(this._delegate)}onSnapshot(...c){const a=cn(c),g=dn(c,C=>new li(this.firestore,new ln.xU(this.firestore._delegate,this._userDataWriter,C._key,C._document,C.metadata,this._delegate.converter)));return(0,ln.cf)(this._delegate,a,g)}get(c){let a;return a="cache"===(null==c?void 0:c.source)?(0,ln.kl)(this._delegate):"server"===(null==c?void 0:c.source)?(0,ln.Xk)(this._delegate):(0,ln.QT)(this._delegate),a.then(g=>new li(this.firestore,new ln.xU(this.firestore._delegate,this._userDataWriter,g._key,g._document,g.metadata,this._delegate.converter)))}withConverter(c){return new at(this.firestore,this._delegate.withConverter(c?pe.getInstance(this.firestore,c):null))}}function jt(b,c,a){return b.message=b.message.replace(c,a),b}function cn(b){for(const c of b)if("object"==typeof c&&!al(c))return c;return{}}function dn(b,c){var a,g;let C;return C=al(b[0])?b[0]:al(b[1])?b[1]:"function"==typeof b[0]?{next:b[0],error:b[1],complete:b[2]}:{next:b[1],error:b[2],complete:b[3]},{next:B=>{C.next&&C.next(c(B))},error:null===(a=C.error)||void 0===a?void 0:a.bind(C),complete:null===(g=C.complete)||void 0===g?void 0:g.bind(C)}}class li{constructor(c,a){this._firestore=c,this._delegate=a}get ref(){return new at(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(c){return this._delegate.data(c)}get(c,a){return this._delegate.get(c,a)}isEqual(c){return(0,ln.qK)(this._delegate,c._delegate)}}class dr extends li{data(c){const a=this._delegate.data(c);return(0,ln.K9)(void 0!==a,"Document in a QueryDocumentSnapshot should exist"),a}}class rr{constructor(c,a){this.firestore=c,this._delegate=a,this._userDataWriter=new y(c)}where(c,a,g){try{return new rr(this.firestore,(0,ln.IO)(this._delegate,(0,ln.ar)(c,a,g)))}catch(C){throw jt(C,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(c,a){try{return new rr(this.firestore,(0,ln.IO)(this._delegate,(0,ln.Xo)(c,a)))}catch(g){throw jt(g,/(orderBy|where)\(\)/,"Query.$1()")}}limit(c){try{return new rr(this.firestore,(0,ln.IO)(this._delegate,(0,ln.b9)(c)))}catch(a){throw jt(a,"limit()","Query.limit()")}}limitToLast(c){try{return new rr(this.firestore,(0,ln.IO)(this._delegate,(0,ln.vh)(c)))}catch(a){throw jt(a,"limitToLast()","Query.limitToLast()")}}startAt(...c){try{return new rr(this.firestore,(0,ln.IO)(this._delegate,(0,ln.e0)(...c)))}catch(a){throw jt(a,"startAt()","Query.startAt()")}}startAfter(...c){try{return new rr(this.firestore,(0,ln.IO)(this._delegate,(0,ln.TQ)(...c)))}catch(a){throw jt(a,"startAfter()","Query.startAfter()")}}endBefore(...c){try{return new rr(this.firestore,(0,ln.IO)(this._delegate,(0,ln.Lx)(...c)))}catch(a){throw jt(a,"endBefore()","Query.endBefore()")}}endAt(...c){try{return new rr(this.firestore,(0,ln.IO)(this._delegate,(0,ln.Wu)(...c)))}catch(a){throw jt(a,"endAt()","Query.endAt()")}}isEqual(c){return(0,ln.iE)(this._delegate,c._delegate)}get(c){let a;return a="cache"===(null==c?void 0:c.source)?(0,ln.UQ)(this._delegate):"server"===(null==c?void 0:c.source)?(0,ln.zN)(this._delegate):(0,ln.PL)(this._delegate),a.then(g=>new bs(this.firestore,new ln.W(this.firestore._delegate,this._userDataWriter,this._delegate,g._snapshot)))}onSnapshot(...c){const a=cn(c),g=dn(c,C=>new bs(this.firestore,new ln.W(this.firestore._delegate,this._userDataWriter,this._delegate,C._snapshot)));return(0,ln.cf)(this._delegate,a,g)}withConverter(c){return new rr(this.firestore,this._delegate.withConverter(c?pe.getInstance(this.firestore,c):null))}}class Ya{constructor(c,a){this._firestore=c,this._delegate=a}get type(){return this._delegate.type}get doc(){return new dr(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bs{constructor(c,a){this._firestore=c,this._delegate=a}get query(){return new rr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(c=>new dr(this._firestore,c))}docChanges(c){return this._delegate.docChanges(c).map(a=>new Ya(this._firestore,a))}forEach(c,a){this._delegate.forEach(g=>{c.call(a,new dr(this._firestore,g))})}isEqual(c){return(0,ln.qK)(this._delegate,c._delegate)}}class ll extends rr{constructor(c,a){super(c,a),this.firestore=c,this._delegate=a}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const c=this._delegate.parent;return c?new at(this.firestore,c):null}doc(c){try{return new at(this.firestore,void 0===c?(0,ln.JU)(this._delegate):(0,ln.JU)(this._delegate,c))}catch(a){throw jt(a,"doc()","CollectionReference.doc()")}}add(c){return(0,ln.ET)(this._delegate,c).then(a=>new at(this.firestore,a))}isEqual(c){return(0,ln.Eo)(this._delegate,c._delegate)}withConverter(c){return new ll(this.firestore,this._delegate.withConverter(c?pe.getInstance(this.firestore,c):null))}}function xo(b){return(0,ln.Cf)(b,ln.my)}class vu{constructor(...c){this._delegate=new ln.Lz(...c)}static documentId(){return new vu(ln.Xb.keyField().canonicalString())}isEqual(c){return(c=(0,ql.m9)(c))instanceof ln.Lz&&this._delegate._internalPath.isEqual(c._internalPath)}}class Ss{constructor(c){this._delegate=c}static serverTimestamp(){const c=(0,ln.Bt)();return c._methodName="FieldValue.serverTimestamp",new Ss(c)}static delete(){const c=(0,ln.AK)();return c._methodName="FieldValue.delete",new Ss(c)}static arrayUnion(...c){const a=(0,ln.vr)(...c);return a._methodName="FieldValue.arrayUnion",new Ss(a)}static arrayRemove(...c){const a=(0,ln.Ab)(...c);return a._methodName="FieldValue.arrayRemove",new Ss(a)}static increment(c){const a=(0,ln.nP)(c);return a._methodName="FieldValue.increment",new Ss(a)}isEqual(c){return this._delegate.isEqual(c._delegate)}}const Tl={Firestore:T,GeoPoint:ln.F8,Timestamp:ln.EK,Blob:Bu,Transaction:A,WriteBatch:Y,DocumentReference:at,DocumentSnapshot:li,Query:rr,QueryDocumentSnapshot:dr,QuerySnapshot:bs,CollectionReference:ll,FieldPath:vu,FieldValue:Ss,setLogLevel:function v(b){(0,ln.Ub)(b)},CACHE_SIZE_UNLIMITED:ln.IX};!function Hu(b){(function Dl(b,c){b.INTERNAL.registerComponent(new Fc.wA("firestore-compat",a=>{const g=a.getProvider("app-compat").getImmediate(),C=a.getProvider("firestore").getImmediate();return c(g,C)},"PUBLIC").setServiceProps(Object.assign({},Tl)))})(b,(c,a)=>new T(c,a,new Vc)),b.registerVersion("@firebase/firestore-compat","0.2.3")}(Lc.Z);var uc=x(440),Fn=x(127);function Il(b,c){return function Uc(b,c=rc.z){return new sc.y(a=>{let g;return null!=c?c.schedule(()=>{g=b.onSnapshot({includeMetadataChanges:!0},a)}):g=b.onSnapshot({includeMetadataChanges:!0},a),()=>{null!=g&&g()}})}(b,c)}function Ql(b,c){return Il(b,c).pipe((0,Ao.U)(a=>({payload:a,type:"query"})))}function _u(b,c){return Ql(b,c).pipe((0,oc.O)(void 0),ga(),(0,Ao.U)(([a,g])=>{const C=g.payload.docChanges(),B=C.map(oe=>({type:oe.type,payload:oe}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(g.payload.metadata)&&g.payload.docs.forEach((oe,Te)=>{const Qe=C.find(Xt=>Xt.doc.ref.isEqual(oe.ref)),Ct=null==a?void 0:a.payload.docs.find(Xt=>Xt.ref.isEqual(oe.ref));Qe&&JSON.stringify(Qe.doc.metadata)===JSON.stringify(oe.metadata)||!Qe&&Ct&&JSON.stringify(Ct.metadata)===JSON.stringify(oe.metadata)||B.push({type:"modified",payload:{oldIndex:Te,newIndex:Te,type:"modified",doc:oe}})}),B}))}function cd(b,c,a){return _u(b,a).pipe((0,Qo.R)((g,C)=>function rh(b,c,a){return c.forEach(g=>{a.indexOf(g.type)>-1&&(b=function rf(b,c){switch(c.type){case"added":if(!b[c.newIndex]||!b[c.newIndex].doc.ref.isEqual(c.doc.ref))return Bc(b,c.newIndex,0,c);break;case"modified":if(null==b[c.oldIndex]||b[c.oldIndex].doc.ref.isEqual(c.doc.ref)){if(c.oldIndex!==c.newIndex){const a=b.slice();return a.splice(c.oldIndex,1),a.splice(c.newIndex,0,c),a}return Bc(b,c.newIndex,1,c)}break;case"removed":if(b[c.oldIndex]&&b[c.oldIndex].doc.ref.isEqual(c.doc.ref))return Bc(b,c.oldIndex,1)}return b}(b,g))}),b}(g,C.map(B=>B.payload),c),[]),(0,fo.x)(),(0,Ao.U)(g=>g.map(C=>({type:C.type,payload:C}))))}function Bc(b,c,a,...g){const C=b.slice();return C.splice(c,a,...g),C}function sh(b){return(!b||0===b.length)&&(b=["added","removed","modified"]),b}class oh{constructor(c,a,g){this.ref=c,this.query=a,this.afs=g}stateChanges(c){let a=_u(this.query,this.afs.schedulers.outsideAngular);return c&&c.length>0&&(a=a.pipe((0,Ao.U)(g=>g.filter(C=>c.indexOf(C.type)>-1)))),a.pipe((0,oc.O)(void 0),ga(),(0,Uu.h)(([g,C])=>C.length>0||!g),(0,Ao.U)(([g,C])=>C),So.iC)}auditTrail(c){return this.stateChanges(c).pipe((0,Qo.R)((a,g)=>[...a,...g],[]))}snapshotChanges(c){const a=sh(c);return cd(this.query,a,this.afs.schedulers.outsideAngular).pipe(So.iC)}valueChanges(c={}){return Ql(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ao.U)(a=>a.payload.docs.map(g=>c.idField?Object.assign(Object.assign({},g.data()),{[c.idField]:g.id}):g.data())),So.iC)}get(c){return(0,Wl.D)(this.query.get(c)).pipe(So.iC)}add(c){return this.ref.add(c)}doc(c){return new ju(this.ref.doc(c),this.afs)}}class ju{constructor(c,a){this.ref=c,this.afs=a}set(c,a){return this.ref.set(c,a)}update(c){return this.ref.update(c)}delete(){return this.ref.delete()}collection(c,a){const g=this.ref.collection(c),{ref:C,query:B}=rs(g,a);return new oh(C,B,this.afs)}snapshotChanges(){return function Al(b,c){return Il(b,c).pipe((0,oc.O)(void 0),ga(),(0,Ao.U)(([a,g])=>g.exists?(null==a?void 0:a.exists)?{payload:g,type:"modified"}:{payload:g,type:"added"}:{payload:g,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(So.iC)}valueChanges(c={}){return this.snapshotChanges().pipe((0,Ao.U)(({payload:a})=>c.idField?Object.assign(Object.assign({},a.data()),{[c.idField]:a.id}):a.data()))}get(c){return(0,Wl.D)(this.ref.get(c)).pipe(So.iC)}}class Oo{constructor(c,a){this.query=c,this.afs=a}stateChanges(c){return c&&0!==c.length?_u(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ao.U)(a=>a.filter(g=>c.indexOf(g.type)>-1)),(0,Uu.h)(a=>a.length>0),So.iC):_u(this.query,this.afs.schedulers.outsideAngular).pipe(So.iC)}auditTrail(c){return this.stateChanges(c).pipe((0,Qo.R)((a,g)=>[...a,...g],[]))}snapshotChanges(c){const a=sh(c);return cd(this.query,a,this.afs.schedulers.outsideAngular).pipe(So.iC)}valueChanges(c={}){return Ql(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ao.U)(g=>g.payload.docs.map(C=>c.idField?Object.assign({[c.idField]:C.id},C.data()):C.data())),So.iC)}get(c){return(0,Wl.D)(this.query.get(c)).pipe(So.iC)}}const Hc=new d.OlP("angularfire2.enableFirestorePersistence"),bu=new d.OlP("angularfire2.firestore.persistenceSettings"),dd=new d.OlP("angularfire2.firestore.settings"),po=new d.OlP("angularfire2.firestore.use-emulator");function rs(b,c=(a=>a)){return{query:c(b),ref:b}}let cc=(()=>{class b{constructor(a,g,C,B,oe,Te,Qe,Ct,Xt,_n,Wn,pi,Jn,Si,hr,Ir,Yr){this.schedulers=Qe;const xs=(0,qa.on)(a,Te,g),Es=Xt;_n&&(0,pa.nw)(xs,Te,Wn,Jn,Si,hr,pi,Ir),[this.firestore,this.persistenceEnabled$]=(0,qa.cc)(`${xs.name}.firestore`,"AngularFirestore",xs.name,()=>{const Fa=Te.runOutsideAngular(()=>xs.firestore());if(B&&Fa.settings(B),Es&&Fa.useEmulator(...Es),C&&!(0,ut.PM)(oe)){const ma=()=>{try{return(0,Wl.D)(Fa.enablePersistence(Ct||void 0).then(()=>!0,()=>!1))}catch(sr){return"undefined"!=typeof console&&console.warn(sr),(0,Yo.of)(!1)}};return[Fa,Te.runOutsideAngular(ma)]}return[Fa,(0,Yo.of)(!1)]},[B,Es,C])}collection(a,g){let C;C="string"==typeof a?this.firestore.collection(a):a;const{ref:B,query:oe}=rs(C,g),Te=this.schedulers.ngZone.run(()=>B);return new oh(Te,oe,this)}collectionGroup(a,g){const C=g||(oe=>oe),B=this.firestore.collectionGroup(a);return new Oo(C(B),this)}doc(a){let g;g="string"==typeof a?this.firestore.doc(a):a;const C=this.schedulers.ngZone.run(()=>g);return new ju(C,this)}createId(){return this.firestore.collection("_").doc().id}}return b.\u0275fac=function(a){return new(a||b)(d.LFG(qa.Dh),d.LFG(qa.xv,8),d.LFG(Hc,8),d.LFG(dd,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(So.HU),d.LFG(bu,8),d.LFG(po,8),d.LFG(pa.zQ,8),d.LFG(pa.Qv,8),d.LFG(pa.L6,8),d.LFG(pa._Q,8),d.LFG(pa.rT,8),d.LFG(pa.lh,8),d.LFG(pa.f7,8),d.LFG(uc.nm,8))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"any"}),b})(),ah=(()=>{class b{constructor(){Fn.Z.registerVersion("angularfire",So.q4.full,"fst-compat")}static enablePersistence(a){return{ngModule:b,providers:[{provide:Hc,useValue:!0},{provide:bu,useValue:a}]}}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=d.oAB({type:b}),b.\u0275inj=d.cJS({providers:[cc]}),b})(),dc=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=d.oAB({type:b,bootstrap:[Ui]}),b.\u0275inj=d.cJS({providers:[{provide:ne.TP,useClass:F,multi:!0},{provide:ne.TP,useClass:ic,multi:!0}],imports:[[on,Be.UX,Be.u5,ah,pa.ww,qa.hO.initializeApp({apiKey:"AIzaSyBspMnWz9iq5Evt11YwGkcEPqghHyIGwuo",authDomain:"joinapp-515e6.firebaseapp.com",databaseURL:"https://joinapp-515e6.firebaseio.com",projectId:"joinapp-515e6",storageBucket:"joinapp-515e6.appspot.com",messagingSenderId:"794053292456",appId:"1:794053292456:web:36878b6a9a02cff3"}),tt.forRoot(),lt.fx.forRoot(),ut.ez,Vu.Rh.forRoot(),p.b2,ne.JF,Q,Ye.mr.forRoot(),Ce.aw.forRoot({defaultLanguage:"en",loader:{provide:Ce.Zw,useFactory:Qa,deps:[ne.eN]}}),Cl]]}),b})();function Qa(b){return new V.w(b,"./assets/i18n/",".json")}(0,d.G48)(),p.q6().bootstrapModule(dc).catch(b=>console.error(b))},5867:(Jt,Ze,x)=>{x.d(Ze,{C6:()=>p.getApps,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=x(9681);(0,p.registerVersion)("firebase","9.14.0","app")},127:(Jt,Ze,x)=>{x.d(Ze,{Z:()=>p.Z});var p=x(3942);p.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(Jt,Ze,x)=>{x.r(Ze);var p=x(5861),d=x(3942),W=x(8247),Ce=x(2090),be=(x(9681),x(1877),x(4859));function ce(){return window}function ue(){return(ue=(0,p.Z)(function*(ye,J,$){var X;const{BuildInfo:ie}=ce();(0,W.ap)(J.sessionId,"AuthEvent did not contain a session ID");const Se=yield lt(J.sessionId),Je={};return(0,W.aq)()?Je.ibi=ie.packageName:(0,W.ar)()?Je.apn=ie.packageName:(0,W.as)(ye,"operation-not-supported-in-this-environment"),ie.displayName&&(Je.appDisplayName=ie.displayName),Je.sessionId=Se,(0,W.at)(ye,$,J.type,void 0,null!==(X=J.eventId)&&void 0!==X?X:void 0,Je)})).apply(this,arguments)}function ct(){return(ct=(0,p.Z)(function*(ye){const{BuildInfo:J}=ce(),$={};(0,W.aq)()?$.iosBundleId=J.packageName:(0,W.ar)()?$.androidPackageName=J.packageName:(0,W.as)(ye,"operation-not-supported-in-this-environment"),yield(0,W.au)(ye,$)})).apply(this,arguments)}function ut(){return(ut=(0,p.Z)(function*(ye,J,$){const{cordova:X}=ce();let ie=()=>{};try{yield new Promise((Se,Je)=>{let Lt=null;function Vt(){var Cn;Se();const Ei=null===(Cn=X.plugins.browsertab)||void 0===Cn?void 0:Cn.close;"function"==typeof Ei&&Ei(),"function"==typeof(null==$?void 0:$.close)&&$.close()}function En(){Lt||(Lt=window.setTimeout(()=>{Je((0,W.aw)(ye,"redirect-cancelled-by-user"))},2e3))}function yn(){"visible"===(null==document?void 0:document.visibilityState)&&En()}J.addPassiveListener(Vt),document.addEventListener("resume",En,!1),(0,W.ar)()&&document.addEventListener("visibilitychange",yn,!1),ie=()=>{J.removePassiveListener(Vt),document.removeEventListener("resume",En,!1),document.removeEventListener("visibilitychange",yn,!1),Lt&&window.clearTimeout(Lt)}})}finally{ie()}})).apply(this,arguments)}function lt(ye){return Be.apply(this,arguments)}function Be(){return(Be=(0,p.Z)(function*(ye){const J=yt(ye),$=yield crypto.subtle.digest("SHA-256",J);return Array.from(new Uint8Array($)).map(ie=>ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function yt(ye){if((0,W.ap)(/[0-9a-zA-Z]+/.test(ye),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ye);const J=new ArrayBuffer(ye.length),$=new Uint8Array(J);for(let X=0;X<ye.length;X++)$[X]=ye.charCodeAt(X);return $}class we extends W.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(J=>{this.resolveInialized=J})}addPassiveListener(J){this.passiveListeners.add(J)}removePassiveListener(J){this.passiveListeners.delete(J)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(J){return this.resolveInialized(),this.passiveListeners.forEach($=>$(J)),super.onEvent(J)}initialized(){var J=this;return(0,p.Z)(function*(){yield J.initPromise})()}}function q(ye){return qe.apply(this,arguments)}function qe(){return(qe=(0,p.Z)(function*(ye){const J=yield Ue()._get(Xe(ye));return J&&(yield Ue()._remove(Xe(ye))),J})).apply(this,arguments)}function Le(){const ye=[],J="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let $=0;$<20;$++){const X=Math.floor(Math.random()*J.length);ye.push(J.charAt(X))}return ye.join("")}function Ue(){return(0,W.az)(W.b)}function Xe(ye){return(0,W.aA)("authEvent",ye.config.apiKey,ye.name)}function xt(ye){if(!(null==ye?void 0:ye.includes("?")))return{};const[J,...$]=ye.split("?");return(0,Ce.zd)($.join("?"))}function K(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,W.aw)("no-auth-event")}}function tn(){var ye;return(null===(ye=null==self?void 0:self.location)||void 0===ye?void 0:ye.protocol)||null}function An(ye=(0,Ce.z$)()){return!("file:"!==tn()&&"ionic:"!==tn()&&"capacitor:"!==tn()||!ye.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kn(){try{const ye=self.localStorage,J=W.aI();if(ye)return ye.setItem(J,"1"),ye.removeItem(J),!function vi(ye=(0,Ce.z$)()){return function Xn(){return(0,Ce.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Hn(ye=(0,Ce.z$)()){return/Edge\/\d+/.test(ye)}(ye)}()||(0,Ce.hl)()}catch(ye){return xi()&&(0,Ce.hl)()}return!1}function xi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mn(){return(function gn(){return"http:"===tn()||"https:"===tn()}()||(0,Ce.ru)()||An())&&!function zn(){return(0,Ce.b$)()||(0,Ce.UG)()}()&&Kn()&&!xi()}function ci(){return An()&&"undefined"!=typeof document}function Pi(){return(Pi=(0,p.Z)(function*(){return!!ci()&&new Promise(ye=>{const J=setTimeout(()=>{ye(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(J),ye(!0)})})})).apply(this,arguments)}const nn={LOCAL:"local",NONE:"none",SESSION:"session"},Li=W.ax,_i="persistence";function Fe(ye){return $e.apply(this,arguments)}function $e(){return($e=(0,p.Z)(function*(ye){yield ye._initializationPromise;const J=It(),$=W.aA(_i,ye.config.apiKey,ye.name);J&&J.setItem($,ye._getPersistence())})).apply(this,arguments)}function It(){var ye;try{return(null===(ye=function qn(){return"undefined"!=typeof window?window:null}())||void 0===ye?void 0:ye.sessionStorage)||null}catch(J){return null}}const Bt=W.ax;class Kt{constructor(){this.browserResolver=W.az(W.k),this.cordovaResolver=W.az(class gt{constructor(){this._redirectPersistence=W.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=W.aB,this._overrideRedirectResult=W.aC}_initialize(J){var $=this;return(0,p.Z)(function*(){const X=J._key();let ie=$.eventManagers.get(X);return ie||(ie=new we(J),$.eventManagers.set(X,ie),$.attachCallbackListeners(J,ie)),ie})()}_openPopup(J){(0,W.as)(J,"operation-not-supported-in-this-environment")}_openRedirect(J,$,X,ie){var Se=this;return(0,p.Z)(function*(){!function Ye(ye){var J,$,X,ie,Se,Je,Lt,Vt,En,yn;const Cn=ce();(0,W.ax)("function"==typeof(null===(J=null==Cn?void 0:Cn.universalLinks)||void 0===J?void 0:J.subscribe),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,W.ax)(void 0!==(null===($=null==Cn?void 0:Cn.BuildInfo)||void 0===$?void 0:$.packageName),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,W.ax)("function"==typeof(null===(Se=null===(ie=null===(X=null==Cn?void 0:Cn.cordova)||void 0===X?void 0:X.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===Se?void 0:Se.openUrl),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.ax)("function"==typeof(null===(Vt=null===(Lt=null===(Je=null==Cn?void 0:Cn.cordova)||void 0===Je?void 0:Je.plugins)||void 0===Lt?void 0:Lt.browsertab)||void 0===Vt?void 0:Vt.isAvailable),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.ax)("function"==typeof(null===(yn=null===(En=null==Cn?void 0:Cn.cordova)||void 0===En?void 0:En.InAppBrowser)||void 0===yn?void 0:yn.open),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(J);const Je=yield Se._initialize(J);yield Je.initialized(),Je.resetRedirect(),(0,W.aD)(),yield Se._originValidation(J);const Lt=function et(ye,J,$=null){return{type:J,eventId:$,urlResponse:null,sessionId:Le(),postBody:null,tenantId:ye.tenantId,error:(0,W.aw)(ye,"no-auth-event")}}(J,X,ie);yield function wt(ye,J){return Ue()._set(Xe(ye),J)}(J,Lt);const Vt=yield function ee(ye,J,$){return ue.apply(this,arguments)}(J,Lt,$),En=yield function it(ye){const{cordova:J}=ce();return new Promise($=>{J.plugins.browsertab.isAvailable(X=>{let ie=null;X?J.plugins.browsertab.openUrl(ye):ie=J.InAppBrowser.open(ye,(0,W.av)()?"_blank":"_system","location=yes"),$(ie)})})}(Vt);return function ft(ye,J,$){return ut.apply(this,arguments)}(J,Je,En)})()}_isIframeWebStorageSupported(J,$){throw new Error("Method not implemented.")}_originValidation(J){const $=J._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function Ne(ye){return ct.apply(this,arguments)}(J)),this.originValidationPromises[$]}attachCallbackListeners(J,$){const{universalLinks:X,handleOpenURL:ie,BuildInfo:Se}=ce(),Je=setTimeout((0,p.Z)(function*(){yield q(J),$.onEvent(K())}),500),Lt=function(){var yn=(0,p.Z)(function*(Cn){clearTimeout(Je);const Ei=yield q(J);let Ti=null;Ei&&(null==Cn?void 0:Cn.url)&&(Ti=function tt(ye,J){var $,X;const ie=function ot(ye){const J=xt(ye),$=J.link?decodeURIComponent(J.link):void 0,X=xt($).link,ie=J.deep_link_id?decodeURIComponent(J.deep_link_id):void 0;return xt(ie).link||ie||X||$||ye}(J);if(ie.includes("/__/auth/callback")){const Se=xt(ie),Je=Se.firebaseError?function nt(ye){try{return JSON.parse(ye)}catch(J){return null}}(decodeURIComponent(Se.firebaseError)):null,Lt=null===(X=null===($=null==Je?void 0:Je.code)||void 0===$?void 0:$.split("auth/"))||void 0===X?void 0:X[1],Vt=Lt?(0,W.aw)(Lt):null;return Vt?{type:ye.type,eventId:ye.eventId,tenantId:ye.tenantId,error:Vt,urlResponse:null,sessionId:null,postBody:null}:{type:ye.type,eventId:ye.eventId,tenantId:ye.tenantId,sessionId:ye.sessionId,urlResponse:ie,postBody:null}}return null}(Ei,Cn.url)),$.onEvent(Ti||K())});return function(Ei){return yn.apply(this,arguments)}}();void 0!==X&&"function"==typeof X.subscribe&&X.subscribe(null,Lt);const Vt=ie,En=`${Se.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var yn=(0,p.Z)(function*(Cn){if(Cn.toLowerCase().startsWith(En)&&Lt({url:Cn}),"function"==typeof Vt)try{Vt(Cn)}catch(Ei){console.error(Ei)}});return function(Cn){return yn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=W.a,this._completeRedirectFn=W.aB,this._overrideRedirectResult=W.aC}_initialize(J){var $=this;return(0,p.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(J)})()}_openPopup(J,$,X,ie){var Se=this;return(0,p.Z)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._openPopup(J,$,X,ie)})()}_openRedirect(J,$,X,ie){var Se=this;return(0,p.Z)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._openRedirect(J,$,X,ie)})()}_isIframeWebStorageSupported(J,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(J,$)}_originValidation(J){return this.assertedUnderlyingResolver._originValidation(J)}get _shouldInitProactively(){return ci()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var J=this;return(0,p.Z)(function*(){if(J.underlyingResolver)return;const $=yield function un(){return Pi.apply(this,arguments)}();J.underlyingResolver=$?J.cordovaResolver:J.browserResolver})()}}function Re(ye){return ye.unwrap()}function Ee(ye){return bt(ye)}function bt(ye){const{_tokenResponse:J}=ye instanceof Ce.ZR?ye.customData:ye;if(!J)return null;if(!(ye instanceof Ce.ZR)&&"temporaryProof"in J&&"phoneNumber"in J)return W.P.credentialFromResult(ye);const $=J.providerId;if(!$||$===W.o.PASSWORD)return null;let X;switch($){case W.o.GOOGLE:X=W.Q;break;case W.o.FACEBOOK:X=W.N;break;case W.o.GITHUB:X=W.T;break;case W.o.TWITTER:X=W.W;break;default:const{oauthIdToken:ie,oauthAccessToken:Se,oauthTokenSecret:Je,pendingToken:Lt,nonce:Vt}=J;return Se||Je||ie||Lt?Lt?$.startsWith("saml.")?W.aL._create($,Lt):W.J._fromParams({providerId:$,signInMethod:$,pendingToken:Lt,idToken:ie,accessToken:Se}):new W.U($).credential({idToken:ie,accessToken:Se,rawNonce:Vt}):null}return ye instanceof Ce.ZR?X.credentialFromError(ye):X.credentialFromResult(ye)}function St(ye,J){return J.catch($=>{throw $ instanceof Ce.ZR&&function We(ye,J){var $,X;const ie=null===($=J.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===(null===(X=J)||void 0===X?void 0:X.code))J.resolver=new wn(ye,W.an(ye,J));else if(ie){const Se=bt(J),Je=J;Se&&(Je.credential=Se,Je.tenantId=ie.tenantId||void 0,Je.email=ie.email||void 0,Je.phoneNumber=ie.phoneNumber||void 0)}}(ye,$),$}).then($=>{const ie=$.user;return{operationType:$.operationType,credential:Ee($),additionalUserInfo:W.al($),user:pn.getOrCreate(ie)}})}function Tt(ye,J){return vn.apply(this,arguments)}function vn(){return(vn=(0,p.Z)(function*(ye,J){const $=yield J;return{verificationId:$.verificationId,confirm:X=>St(ye,$.confirm(X))}})).apply(this,arguments)}class wn{constructor(J,$){this.resolver=$,this.auth=function xe(ye){return ye.wrapped()}(J)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(J){return St(Re(this.auth),this.resolver.resolveSignIn(J))}}class pn{constructor(J){this._delegate=J,this.multiFactor=W.ao(J)}static getOrCreate(J){return pn.USER_MAP.has(J)||pn.USER_MAP.set(J,new pn(J)),pn.USER_MAP.get(J)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(J){return this._delegate.getIdTokenResult(J)}getIdToken(J){return this._delegate.getIdToken(J)}linkAndRetrieveDataWithCredential(J){return this.linkWithCredential(J)}linkWithCredential(J){var $=this;return(0,p.Z)(function*(){return St($.auth,W.Z($._delegate,J))})()}linkWithPhoneNumber(J,$){var X=this;return(0,p.Z)(function*(){return Tt(X.auth,W.l(X._delegate,J,$))})()}linkWithPopup(J){var $=this;return(0,p.Z)(function*(){return St($.auth,W.d($._delegate,J,Kt))})()}linkWithRedirect(J){var $=this;return(0,p.Z)(function*(){return yield Fe(W.aE($.auth)),W.g($._delegate,J,Kt)})()}reauthenticateAndRetrieveDataWithCredential(J){return this.reauthenticateWithCredential(J)}reauthenticateWithCredential(J){var $=this;return(0,p.Z)(function*(){return St($.auth,W._($._delegate,J))})()}reauthenticateWithPhoneNumber(J,$){return Tt(this.auth,W.r(this._delegate,J,$))}reauthenticateWithPopup(J){return St(this.auth,W.e(this._delegate,J,Kt))}reauthenticateWithRedirect(J){var $=this;return(0,p.Z)(function*(){return yield Fe(W.aE($.auth)),W.h($._delegate,J,Kt)})()}sendEmailVerification(J){return W.ab(this._delegate,J)}unlink(J){var $=this;return(0,p.Z)(function*(){return yield W.ak($._delegate,J),$})()}updateEmail(J){return W.ag(this._delegate,J)}updatePassword(J){return W.ah(this._delegate,J)}updatePhoneNumber(J){return W.u(this._delegate,J)}updateProfile(J){return W.af(this._delegate,J)}verifyBeforeUpdateEmail(J,$){return W.ac(this._delegate,J,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pn.USER_MAP=new WeakMap;const z=W.ax;let he=(()=>{class ye{constructor($,X){if(this.app=$,X.isInitialized())return this._delegate=X.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ie}=$.options;z(ie,"invalid-api-key",{appName:$.name}),z(ie,"invalid-api-key",{appName:$.name});const Se="undefined"!=typeof window?Kt:void 0;this._delegate=X.initialize({options:{persistence:Ve(ie,$.name),popupRedirectResolver:Se}}),this._delegate._updateErrorMap(W.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,X){W.G(this._delegate,$,X)}applyActionCode($){return W.a2(this._delegate,$)}checkActionCode($){return W.a3(this._delegate,$)}confirmPasswordReset($,X){return W.a1(this._delegate,$,X)}createUserWithEmailAndPassword($,X){var ie=this;return(0,p.Z)(function*(){return St(ie._delegate,W.a5(ie._delegate,$,X))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return W.aa(this._delegate,$)}isSignInWithEmailLink($){return W.a8(this._delegate,$)}getRedirectResult(){var $=this;return(0,p.Z)(function*(){z(Mn(),$._delegate,"operation-not-supported-in-this-environment");const X=yield W.j($._delegate,Kt);return X?St($._delegate,Promise.resolve(X)):{credential:null,user:null}})()}addFrameworkForLogging($){!function Ae(ye,J){(0,W.aE)(ye)._logFramework(J)}(this._delegate,$)}onAuthStateChanged($,X,ie){const{next:Se,error:Je,complete:Lt}=_e($,X,ie);return this._delegate.onAuthStateChanged(Se,Je,Lt)}onIdTokenChanged($,X,ie){const{next:Se,error:Je,complete:Lt}=_e($,X,ie);return this._delegate.onIdTokenChanged(Se,Je,Lt)}sendSignInLinkToEmail($,X){return W.a7(this._delegate,$,X)}sendPasswordResetEmail($,X){return W.a0(this._delegate,$,X||void 0)}setPersistence($){var X=this;return(0,p.Z)(function*(){let ie;switch(function Mt(ye,J){Li(Object.values(nn).includes(J),ye,"invalid-persistence-type"),(0,Ce.b$)()?Li(J!==nn.SESSION,ye,"unsupported-persistence-type"):(0,Ce.UG)()?Li(J===nn.NONE,ye,"unsupported-persistence-type"):xi()?Li(J===nn.NONE||J===nn.LOCAL&&(0,Ce.hl)(),ye,"unsupported-persistence-type"):Li(J===nn.NONE||Kn(),ye,"unsupported-persistence-type")}(X._delegate,$),$){case nn.SESSION:ie=W.a;break;case nn.LOCAL:ie=(yield W.az(W.i)._isAvailable())?W.i:W.b;break;case nn.NONE:ie=W.L;break;default:return W.as("argument-error",{appName:X._delegate.name})}return X._delegate.setPersistence(ie)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return St(this._delegate,W.X(this._delegate))}signInWithCredential($){return St(this._delegate,W.Y(this._delegate,$))}signInWithCustomToken($){return St(this._delegate,W.$(this._delegate,$))}signInWithEmailAndPassword($,X){return St(this._delegate,W.a6(this._delegate,$,X))}signInWithEmailLink($,X){return St(this._delegate,W.a9(this._delegate,$,X))}signInWithPhoneNumber($,X){return Tt(this._delegate,W.s(this._delegate,$,X))}signInWithPopup($){var X=this;return(0,p.Z)(function*(){return z(Mn(),X._delegate,"operation-not-supported-in-this-environment"),St(X._delegate,W.c(X._delegate,$,Kt))})()}signInWithRedirect($){var X=this;return(0,p.Z)(function*(){return z(Mn(),X._delegate,"operation-not-supported-in-this-environment"),yield Fe(X._delegate),W.f(X._delegate,$,Kt)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return W.a4(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ye.Persistence=nn,ye})();function _e(ye,J,$){let X=ye;"function"!=typeof ye&&({next:X,error:J,complete:$}=ye);const ie=X;return{next:Je=>ie(Je&&pn.getOrCreate(Je)),error:J,complete:$}}function Ve(ye,J){const $=function Ut(ye,J){const $=It();if(!$)return[];const X=W.aA(_i,ye,J);switch($.getItem(X)){case nn.NONE:return[W.L];case nn.LOCAL:return[W.i,W.a];case nn.SESSION:return[W.a];default:return[]}}(ye,J);if("undefined"!=typeof self&&!$.includes(W.i)&&$.push(W.i),"undefined"!=typeof window)for(const X of[W.b,W.a])$.includes(X)||$.push(X);return $.includes(W.L)||$.push(W.L),$}class vt{constructor(){this.providerId="phone",this._delegate=new W.P(Re(d.Z.auth()))}static credential(J,$){return W.P.credential(J,$)}verifyPhoneNumber(J,$){return this._delegate.verifyPhoneNumber(J,$)}unwrap(){return this._delegate}}vt.PHONE_SIGN_IN_METHOD=W.P.PHONE_SIGN_IN_METHOD,vt.PROVIDER_ID=W.P.PROVIDER_ID;const Ot=W.ax;class de{constructor(J,$,X=d.Z.app()){var ie;Ot(null===(ie=X.options)||void 0===ie?void 0:ie.apiKey,"invalid-api-key",{appName:X.name}),this._delegate=new W.R(J,$,X.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Oe(ye){ye.INTERNAL.registerComponent(new be.wA("auth-compat",J=>{const $=J.getProvider("app-compat").getImmediate(),X=J.getProvider("auth");return new he($,X)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:W.A.EMAIL_SIGNIN,PASSWORD_RESET:W.A.PASSWORD_RESET,RECOVER_EMAIL:W.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:W.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:W.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:W.A.VERIFY_EMAIL}},EmailAuthProvider:W.M,FacebookAuthProvider:W.N,GithubAuthProvider:W.T,GoogleAuthProvider:W.Q,OAuthProvider:W.U,SAMLAuthProvider:W.V,PhoneAuthProvider:vt,PhoneMultiFactorGenerator:W.m,RecaptchaVerifier:de,TwitterAuthProvider:W.W,Auth:he,AuthCredential:W.H,Error:Ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ye.registerVersion("@firebase/auth-compat","0.2.24")}(d.Z)},8968:(Jt,Ze,x)=>{function ve(Re,xe,Ee,We){var Tt,bt=arguments.length,St=bt<3?xe:null===We?We=Object.getOwnPropertyDescriptor(xe,Ee):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)St=Reflect.decorate(Re,xe,Ee,We);else for(var vn=Re.length-1;vn>=0;vn--)(Tt=Re[vn])&&(St=(bt<3?Tt(St):bt>3?Tt(xe,Ee,St):Tt(xe,Ee))||St);return bt>3&&St&&Object.defineProperty(xe,Ee,St),St}function ke(Re,xe){return function(Ee,We){xe(Ee,We,Re)}}function be(Re,xe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Re,xe)}x.d(Ze,{Rh:()=>Fe,_W:()=>nn});var q=x(5e3),qe=x(1777),tt=x(7579),Le=x(2313),Ue=x(9808);const Xe=["toast-component",""];function nt(Re,xe){if(1&Re){const Ee=q.EpF();q.TgZ(0,"button",5),q.NdJ("click",function(){return q.CHM(Ee),q.oxw().remove()}),q.TgZ(1,"span",6),q._uU(2,"\xd7"),q.qZA()()}}function ot(Re,xe){if(1&Re&&(q.ynx(0),q._uU(1),q.BQk()),2&Re){const Ee=q.oxw(2);q.xp6(1),q.hij("[",Ee.duplicatesCount+1,"]")}}function xt(Re,xe){if(1&Re&&(q.TgZ(0,"div"),q._uU(1),q.YNc(2,ot,2,1,"ng-container",4),q.qZA()),2&Re){const Ee=q.oxw();q.Tol(Ee.options.titleClass),q.uIk("aria-label",Ee.title),q.xp6(1),q.hij(" ",Ee.title," "),q.xp6(1),q.Q6J("ngIf",Ee.duplicatesCount)}}function sn(Re,xe){if(1&Re&&q._UZ(0,"div",7),2&Re){const Ee=q.oxw();q.Tol(Ee.options.messageClass),q.Q6J("innerHTML",Ee.message,q.oJD)}}function gt(Re,xe){if(1&Re&&(q.TgZ(0,"div",8),q._uU(1),q.qZA()),2&Re){const Ee=q.oxw();q.Tol(Ee.options.messageClass),q.uIk("aria-label",Ee.message),q.xp6(1),q.hij(" ",Ee.message," ")}}function pt(Re,xe){if(1&Re&&(q.TgZ(0,"div"),q._UZ(1,"div",9),q.qZA()),2&Re){const Ee=q.oxw();q.xp6(1),q.Udp("width",Ee.width+"%")}}function K(Re,xe){if(1&Re){const Ee=q.EpF();q.TgZ(0,"button",5),q.NdJ("click",function(){return q.CHM(Ee),q.oxw().remove()}),q.TgZ(1,"span",6),q._uU(2,"\xd7"),q.qZA()()}}function Ae(Re,xe){if(1&Re&&(q.ynx(0),q._uU(1),q.BQk()),2&Re){const Ee=q.oxw(2);q.xp6(1),q.hij("[",Ee.duplicatesCount+1,"]")}}function Ge(Re,xe){if(1&Re&&(q.TgZ(0,"div"),q._uU(1),q.YNc(2,Ae,2,1,"ng-container",4),q.qZA()),2&Re){const Ee=q.oxw();q.Tol(Ee.options.titleClass),q.uIk("aria-label",Ee.title),q.xp6(1),q.hij(" ",Ee.title," "),q.xp6(1),q.Q6J("ngIf",Ee.duplicatesCount)}}function Rt(Re,xe){if(1&Re&&q._UZ(0,"div",7),2&Re){const Ee=q.oxw();q.Tol(Ee.options.messageClass),q.Q6J("innerHTML",Ee.message,q.oJD)}}function Nt(Re,xe){if(1&Re&&(q.TgZ(0,"div",8),q._uU(1),q.qZA()),2&Re){const Ee=q.oxw();q.Tol(Ee.options.messageClass),q.uIk("aria-label",Ee.message),q.xp6(1),q.hij(" ",Ee.message," ")}}function tn(Re,xe){if(1&Re&&(q.TgZ(0,"div"),q._UZ(1,"div",9),q.qZA()),2&Re){const Ee=q.oxw();q.xp6(1),q.Udp("width",Ee.width+"%")}}class zn{constructor(xe,Ee,We,bt,St,Tt){this.toastId=xe,this.config=Ee,this.message=We,this.title=bt,this.toastType=St,this.toastRef=Tt,this._onTap=new tt.x,this._onAction=new tt.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(xe){this._onAction.next(xe)}onAction(){return this._onAction.asObservable()}}const Xn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Hn=new q.OlP("ToastConfig");class vi{constructor(xe,Ee){this.component=xe,this.injector=Ee}attach(xe,Ee){return this._attachedHost=xe,xe.attach(this,Ee)}detach(){const xe=this._attachedHost;if(xe)return this._attachedHost=void 0,xe.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(xe){this._attachedHost=xe}}class xi extends class Kn{attach(xe,Ee){return this._attachedPortal=xe,this.attachComponentPortal(xe,Ee)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(xe){this._disposeFn=xe}}{constructor(xe,Ee,We){super(),this._hostDomElement=xe,this._componentFactoryResolver=Ee,this._appRef=We}attachComponentPortal(xe,Ee){const We=this._componentFactoryResolver.resolveComponentFactory(xe.component);let bt;return bt=We.create(xe.injector),this._appRef.attachView(bt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(bt.hostView),bt.destroy()}),Ee?this._hostDomElement.insertBefore(this._getComponentRootNode(bt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(bt)),bt}_getComponentRootNode(xe){return xe.hostView.rootNodes[0]}}let Mn=class{constructor(xe){this._document=xe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const xe=this._document.createElement("div");xe.classList.add("overlay-container"),this._document.body.appendChild(xe),this._containerElement=xe}};Mn.\u0275fac=function(xe){return new(xe||Mn)(q.LFG(Ue.K0))},Mn.\u0275prov=q.Yz7({token:Mn,factory:function(Re){return Mn.\u0275fac(Re)},providedIn:"root"}),Mn.ngInjectableDef=(0,q.Yz7)({factory:function(){return new Mn((0,q.LFG)(Ue.K0))},token:Mn,providedIn:"root"}),Mn=ve([ke(0,(0,q.tBr)(Ue.K0)),be("design:paramtypes",[Object])],Mn);class ci{constructor(xe){this._portalHost=xe}attach(xe,Ee=!0){return this._portalHost.attach(xe,Ee)}detach(){return this._portalHost.detach()}}let un=class{constructor(xe,Ee,We,bt){this._overlayContainer=xe,this._componentFactoryResolver=Ee,this._appRef=We,this._document=bt,this._paneElements=new Map}create(xe,Ee){return this._createOverlayRef(this.getPaneElement(xe,Ee))}getPaneElement(xe="",Ee){return this._paneElements.get(Ee)||this._paneElements.set(Ee,{}),this._paneElements.get(Ee)[xe]||(this._paneElements.get(Ee)[xe]=this._createPaneElement(xe,Ee)),this._paneElements.get(Ee)[xe]}_createPaneElement(xe,Ee){const We=this._document.createElement("div");return We.id="toast-container",We.classList.add(xe),We.classList.add("toast-container"),Ee?Ee.getContainerElement().appendChild(We):this._overlayContainer.getContainerElement().appendChild(We),We}_createPortalHost(xe){return new xi(xe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(xe){return new ci(this._createPortalHost(xe))}};un.\u0275fac=function(xe){return new(xe||un)(q.LFG(Mn),q.LFG(q._Vd),q.LFG(q.z2F),q.LFG(Ue.K0))},un.\u0275prov=q.Yz7({token:un,factory:function(Re){return un.\u0275fac(Re)},providedIn:"root"}),un.ngInjectableDef=(0,q.Yz7)({factory:function(){return new un((0,q.LFG)(Mn),(0,q.LFG)(q._Vd),(0,q.LFG)(q.z2F),(0,q.LFG)(Ue.K0))},token:un,providedIn:"root"}),un=ve([ke(3,(0,q.tBr)(Ue.K0)),be("design:paramtypes",[Mn,q._Vd,q.z2F,Object])],un);class Pi{constructor(xe){this._overlayRef=xe,this.duplicatesCount=0,this._afterClosed=new tt.x,this._activate=new tt.x,this._manualClose=new tt.x,this._resetTimeout=new tt.x,this._countDuplicate=new tt.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(xe,Ee){xe&&this._resetTimeout.next(),Ee&&this._countDuplicate.next(++this.duplicatesCount)}}class qn{constructor(xe,Ee){this._toastPackage=xe,this._parentInjector=Ee}get(xe,Ee,We){return xe===zn?this._toastPackage:this._parentInjector.get(xe,Ee,We)}}let nn=class{constructor(xe,Ee,We,bt,St){this.overlay=Ee,this._injector=We,this.sanitizer=bt,this.ngZone=St,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign({},xe.default,xe.config),xe.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign({},xe.default.iconClasses,xe.config.iconClasses))}show(xe,Ee,We={},bt=""){return this._preBuildNotification(bt,xe,Ee,this.applyConfig(We))}success(xe,Ee,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",xe,Ee,this.applyConfig(We))}error(xe,Ee,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",xe,Ee,this.applyConfig(We))}info(xe,Ee,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",xe,Ee,this.applyConfig(We))}warning(xe,Ee,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",xe,Ee,this.applyConfig(We))}clear(xe){for(const Ee of this.toasts)if(void 0!==xe){if(Ee.toastId===xe)return void Ee.toastRef.manualClose()}else Ee.toastRef.manualClose()}remove(xe){const Ee=this._findToast(xe);if(!Ee||(Ee.activeToast.toastRef.close(),this.toasts.splice(Ee.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const We=this.toasts[this.currentlyActive].toastRef;We.isInactive()||(this.currentlyActive=this.currentlyActive+1,We.activate())}return!0}findDuplicate(xe,Ee,We){for(const bt of this.toasts)if(bt.message===xe)return bt.toastRef.onDuplicate(Ee,We),bt;return null}applyConfig(xe={}){return Object.assign({},this.toastrConfig,xe)}_findToast(xe){for(let Ee=0;Ee<this.toasts.length;Ee++)if(this.toasts[Ee].toastId===xe)return{index:Ee,activeToast:this.toasts[Ee]};return null}_preBuildNotification(xe,Ee,We,bt){return bt.onActivateTick?this.ngZone.run(()=>this._buildNotification(xe,Ee,We,bt)):this._buildNotification(xe,Ee,We,bt)}_buildNotification(xe,Ee,We,bt){if(!bt.toastComponent)throw new Error("toastComponent required");const St=this.findDuplicate(Ee,this.toastrConfig.resetTimeoutOnDuplicate&&bt.timeOut>0,this.toastrConfig.countDuplicates);if(Ee&&this.toastrConfig.preventDuplicates&&null!==St)return St;this.previousToastMessage=Ee;let Tt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Tt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const vn=this.overlay.create(bt.positionClass,this.overlayContainer);this.index=this.index+1;let wn=Ee;Ee&&bt.enableHtml&&(wn=this.sanitizer.sanitize(q.q3G.HTML,Ee));const pn=new Pi(vn),z=new zn(this.index,bt,wn,We,xe,pn),he=new qn(z,this._injector),_e=new vi(bt.toastComponent,he),Ve=vn.attach(_e,this.toastrConfig.newestOnTop);pn.componentInstance=Ve._component;const vt={toastId:this.index,message:Ee||"",toastRef:pn,onShown:pn.afterActivate(),onHidden:pn.afterClosed(),onTap:z.onTap(),onAction:z.onAction(),portal:Ve};return Tt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{vt.toastRef.activate()})),this.toasts.push(vt),vt}};nn.\u0275fac=function(xe){return new(xe||nn)(q.LFG(Hn),q.LFG(un),q.LFG(q.zs3),q.LFG(Le.H7),q.LFG(q.R0b))},nn.\u0275prov=q.Yz7({token:nn,factory:function(Re){return nn.\u0275fac(Re)},providedIn:"root"}),nn.ngInjectableDef=(0,q.Yz7)({factory:function(){return new nn((0,q.LFG)(Hn),(0,q.LFG)(un),(0,q.LFG)(q.gxx),(0,q.LFG)(Le.H7),(0,q.LFG)(q.R0b))},token:nn,providedIn:"root"}),nn=ve([ke(0,(0,q.tBr)(Hn)),be("design:paramtypes",[Object,un,q.zs3,Le.H7,q.R0b])],nn);let Li=(()=>{let Re=class{constructor(Ee,We,bt){this.toastrService=Ee,this.toastPackage=We,this.ngZone=bt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=We.message,this.title=We.title,this.options=We.config,this.originalTimeout=We.config.timeOut,this.toastClasses=`${We.toastType} ${We.config.toastClass}`,this.sub=We.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=We.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=We.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=We.toastRef.countDuplicate().subscribe(St=>{this.duplicatesCount=St})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign({},this.state,{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ee=(new Date).getTime();this.width=(this.hideTime-Ee)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign({},this.state,{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign({},this.state,{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ee,We){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ee),We)):this.timeout=setTimeout(()=>Ee(),We)}outsideInterval(Ee,We){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ee),We)):this.intervalId=setInterval(()=>Ee(),We)}runInsideAngular(Ee){this.ngZone?this.ngZone.run(()=>Ee()):Ee()}};return Re.\u0275fac=function(Ee){return new(Ee||Re)(q.Y36(nn),q.Y36(zn),q.Y36(q.R0b))},Re.\u0275cmp=q.Xpm({type:Re,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ee,We){1&Ee&&q.NdJ("click",function(){return We.tapToast()})("mouseenter",function(){return We.stickAround()})("mouseleave",function(){return We.delayedHideToast()}),2&Ee&&(q.d8E("@flyInOut",We.state),q.Tol(We.toastClasses),q.Udp("display",We.displayStyle))},attrs:Xe,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(Ee,We){1&Ee&&(q.YNc(0,nt,3,0,"button",0),q.YNc(1,xt,3,5,"div",1),q.YNc(2,sn,1,3,"div",2),q.YNc(3,gt,2,4,"div",3),q.YNc(4,pt,2,2,"div",4)),2&Ee&&(q.Q6J("ngIf",We.options.closeButton),q.xp6(1),q.Q6J("ngIf",We.title),q.xp6(1),q.Q6J("ngIf",We.message&&We.options.enableHtml),q.xp6(1),q.Q6J("ngIf",We.message&&!We.options.enableHtml),q.xp6(1),q.Q6J("ngIf",We.options.progressBar))},directives:[Ue.O5],encapsulation:2,data:{animation:[(0,qe.X$)("flyInOut",[(0,qe.SB)("inactive",(0,qe.oB)({opacity:0})),(0,qe.SB)("active",(0,qe.oB)({opacity:1})),(0,qe.SB)("removed",(0,qe.oB)({opacity:0})),(0,qe.eR)("inactive => active",(0,qe.jt)("{{ easeTime }}ms {{ easing }}")),(0,qe.eR)("active => removed",(0,qe.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),ve([(0,q.pfw)("class"),be("design:type",Object)],Re.prototype,"toastClasses",void 0),ve([(0,q.pfw)("@flyInOut"),be("design:type",Object)],Re.prototype,"state",void 0),ve([(0,q.pfw)("style.display"),be("design:type",Object),be("design:paramtypes",[])],Re.prototype,"displayStyle",null),ve([(0,q.L6J)("click"),be("design:type",Function),be("design:paramtypes",[]),be("design:returntype",void 0)],Re.prototype,"tapToast",null),ve([(0,q.L6J)("mouseenter"),be("design:type",Function),be("design:paramtypes",[]),be("design:returntype",void 0)],Re.prototype,"stickAround",null),ve([(0,q.L6J)("mouseleave"),be("design:type",Function),be("design:paramtypes",[]),be("design:returntype",void 0)],Re.prototype,"delayedHideToast",null),Re=ve([be("design:paramtypes",[nn,zn,q.R0b])],Re),Re})();var _i;const Mt=Object.assign({},Xn,{toastComponent:Li});let Fe=_i=class{static forRoot(xe={}){return{ngModule:_i,providers:[{provide:Hn,useValue:{default:Mt,config:xe}}]}}};var Ut;Fe.\u0275fac=function(xe){return new(xe||Fe)},Fe.\u0275mod=q.oAB({type:Fe}),Fe.\u0275inj=q.cJS({imports:[[Ue.ez]]});const Bt=Object.assign({},Xn,{toastComponent:(()=>{let Re=class{constructor(Ee,We,bt){this.toastrService=Ee,this.toastPackage=We,this.appRef=bt,this.width=-1,this.toastClasses="",this.state="inactive",this.message=We.message,this.title=We.title,this.options=We.config,this.originalTimeout=We.config.timeOut,this.toastClasses=`${We.toastType} ${We.config.toastClass}`,this.sub=We.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=We.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=We.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=We.toastRef.countDuplicate().subscribe(St=>{this.duplicatesCount=St})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ee=(new Date).getTime();this.width=(this.hideTime-Ee)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}};return Re.\u0275fac=function(Ee){return new(Ee||Re)(q.Y36(nn),q.Y36(zn),q.Y36(q.z2F))},Re.\u0275cmp=q.Xpm({type:Re,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(Ee,We){1&Ee&&q.NdJ("click",function(){return We.tapToast()})("mouseenter",function(){return We.stickAround()})("mouseleave",function(){return We.delayedHideToast()}),2&Ee&&(q.Tol(We.toastClasses),q.Udp("display",We.displayStyle))},attrs:Xe,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(Ee,We){1&Ee&&(q.YNc(0,K,3,0,"button",0),q.YNc(1,Ge,3,5,"div",1),q.YNc(2,Rt,1,3,"div",2),q.YNc(3,Nt,2,4,"div",3),q.YNc(4,tn,2,2,"div",4)),2&Ee&&(q.Q6J("ngIf",We.options.closeButton),q.xp6(1),q.Q6J("ngIf",We.title),q.xp6(1),q.Q6J("ngIf",We.message&&We.options.enableHtml),q.xp6(1),q.Q6J("ngIf",We.message&&!We.options.enableHtml),q.xp6(1),q.Q6J("ngIf",We.options.progressBar))},directives:[Ue.O5],encapsulation:2}),ve([(0,q.pfw)("class"),be("design:type",Object)],Re.prototype,"toastClasses",void 0),ve([(0,q.pfw)("style.display"),be("design:type",Object),be("design:paramtypes",[])],Re.prototype,"displayStyle",null),ve([(0,q.L6J)("click"),be("design:type",Function),be("design:paramtypes",[]),be("design:returntype",void 0)],Re.prototype,"tapToast",null),ve([(0,q.L6J)("mouseenter"),be("design:type",Function),be("design:paramtypes",[]),be("design:returntype",void 0)],Re.prototype,"stickAround",null),ve([(0,q.L6J)("mouseleave"),be("design:type",Function),be("design:paramtypes",[]),be("design:returntype",void 0)],Re.prototype,"delayedHideToast",null),Re=ve([be("design:paramtypes",[nn,zn,q.z2F])],Re),Re})()});let Kt=Ut=class{static forRoot(xe={}){return{ngModule:Ut,providers:[{provide:Hn,useValue:{default:Bt,config:xe}}]}}};Kt.\u0275fac=function(xe){return new(xe||Kt)},Kt.\u0275mod=q.oAB({type:Kt}),Kt.\u0275inj=q.cJS({imports:[[Ue.ez]]})},1135:(Jt,Ze,x)=>{x.d(Ze,{X:()=>d});var p=x(7579);class d extends p.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const ve=super._subscribe(Ce);return!ve.closed&&Ce.next(this._value),ve}getValue(){const{hasError:Ce,thrownError:ve,_value:ke}=this;if(Ce)throw ve;return this._throwIfClosed(),ke}next(Ce){super.next(this._value=Ce)}}},8306:(Jt,Ze,x)=>{x.d(Ze,{y:()=>ee});var p=x(930),d=x(727),W=x(8822),Ce=x(4671);var be=x(2416),ce=x(576),Q=x(2806);let ee=(()=>{class it{constructor(ut){ut&&(this._subscribe=ut)}lift(ut){const Ye=new it;return Ye.source=this,Ye.operator=ut,Ye}subscribe(ut,Ye,lt){const Be=function ct(it){return it&&it instanceof p.Lv||function Ne(it){return it&&(0,ce.m)(it.next)&&(0,ce.m)(it.error)&&(0,ce.m)(it.complete)}(it)&&(0,d.Nn)(it)}(ut)?ut:new p.Hp(ut,Ye,lt);return(0,Q.x)(()=>{const{operator:yt,source:ge}=this;Be.add(yt?yt.call(Be,ge):ge?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(ut){try{return this._subscribe(ut)}catch(Ye){ut.error(Ye)}}forEach(ut,Ye){return new(Ye=ue(Ye))((lt,Be)=>{const yt=new p.Hp({next:ge=>{try{ut(ge)}catch(we){Be(we),yt.unsubscribe()}},error:Be,complete:lt});this.subscribe(yt)})}_subscribe(ut){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(ut)}[W.L](){return this}pipe(...ut){return function ke(it){return 0===it.length?Ce.y:1===it.length?it[0]:function(ut){return it.reduce((Ye,lt)=>lt(Ye),ut)}}(ut)(this)}toPromise(ut){return new(ut=ue(ut))((Ye,lt)=>{let Be;this.subscribe(yt=>Be=yt,yt=>lt(yt),()=>Ye(Be))})}}return it.create=ft=>new it(ft),it})();function ue(it){var ft;return null!==(ft=null!=it?it:be.v.Promise)&&void 0!==ft?ft:Promise}},7579:(Jt,Ze,x)=>{x.d(Ze,{x:()=>be});var p=x(8306),d=x(727);const Ce=(0,x(3888).d)(Q=>function(){Q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=x(8737),ke=x(2806);let be=(()=>{class Q extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Ne=new ce(this,this);return Ne.operator=ue,Ne}_throwIfClosed(){if(this.closed)throw new Ce}next(ue){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(ue)}})}error(ue){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(ue)}})}complete(){(0,ke.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Ne,isStopped:ct,observers:it}=this;return Ne||ct?d.Lc:(this.currentObservers=null,it.push(ue),new d.w0(()=>{this.currentObservers=null,(0,ve.P)(it,ue)}))}_checkFinalizedStatuses(ue){const{hasError:Ne,thrownError:ct,isStopped:it}=this;Ne?ue.error(ct):it&&ue.complete()}asObservable(){const ue=new p.y;return ue.source=this,ue}}return Q.create=(ee,ue)=>new ce(ee,ue),Q})();class ce extends be{constructor(ee,ue){super(),this.destination=ee,this.source=ue}next(ee){var ue,Ne;null===(Ne=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Ne||Ne.call(ue,ee)}error(ee){var ue,Ne;null===(Ne=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Ne||Ne.call(ue,ee)}complete(){var ee,ue;null===(ue=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===ue||ue.call(ee)}_subscribe(ee){var ue,Ne;return null!==(Ne=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(ee))&&void 0!==Ne?Ne:d.Lc}}},930:(Jt,Ze,x)=>{x.d(Ze,{Hp:()=>ut,Lv:()=>Ne});var p=x(576),d=x(727),W=x(2416),Ce=x(7849),ve=x(5032);const ke=Q("C",void 0,void 0);function Q(ge,we,et){return{kind:ge,value:we,error:et}}var ee=x(3410),ue=x(2806);class Ne extends d.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,d.Nn)(we)&&we.add(this)):this.destination=yt}static create(we,et,wt){return new ut(we,et,wt)}next(we){this.isStopped?Be(function ce(ge){return Q("N",ge,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Be(function be(ge){return Q("E",void 0,ge)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Be(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ct=Function.prototype.bind;function it(ge,we){return ct.call(ge,we)}class ft{constructor(we){this.partialObserver=we}next(we){const{partialObserver:et}=this;if(et.next)try{et.next(we)}catch(wt){Ye(wt)}}error(we){const{partialObserver:et}=this;if(et.error)try{et.error(we)}catch(wt){Ye(wt)}else Ye(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(et){Ye(et)}}}class ut extends Ne{constructor(we,et,wt){let q;if(super(),(0,p.m)(we)||!we)q={next:null!=we?we:void 0,error:null!=et?et:void 0,complete:null!=wt?wt:void 0};else{let qe;this&&W.v.useDeprecatedNextContext?(qe=Object.create(we),qe.unsubscribe=()=>this.unsubscribe(),q={next:we.next&&it(we.next,qe),error:we.error&&it(we.error,qe),complete:we.complete&&it(we.complete,qe)}):q=we}this.destination=new ft(q)}}function Ye(ge){W.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(ge):(0,Ce.h)(ge)}function Be(ge,we){const{onStoppedNotification:et}=W.v;et&&ee.z.setTimeout(()=>et(ge,we))}const yt={closed:!0,next:ve.Z,error:function lt(ge){throw ge},complete:ve.Z}},727:(Jt,Ze,x)=>{x.d(Ze,{Lc:()=>ke,w0:()=>ve,Nn:()=>be});var p=x(576);const W=(0,x(3888).d)(Q=>function(ue){Q(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Ne,ct)=>`${ct+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var Ce=x(8737);class ve{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const it of ue)it.remove(this);else ue.remove(this);const{initialTeardown:Ne}=this;if((0,p.m)(Ne))try{Ne()}catch(it){ee=it instanceof W?it.errors:[it]}const{_finalizers:ct}=this;if(ct){this._finalizers=null;for(const it of ct)try{ce(it)}catch(ft){ee=null!=ee?ee:[],ft instanceof W?ee=[...ee,...ft.errors]:ee.push(ft)}}if(ee)throw new W(ee)}}add(ee){var ue;if(ee&&ee!==this)if(this.closed)ce(ee);else{if(ee instanceof ve){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(ee)}}_hasParent(ee){const{_parentage:ue}=this;return ue===ee||Array.isArray(ue)&&ue.includes(ee)}_addParent(ee){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(ee),ue):ue?[ue,ee]:ee}_removeParent(ee){const{_parentage:ue}=this;ue===ee?this._parentage=null:Array.isArray(ue)&&(0,Ce.P)(ue,ee)}remove(ee){const{_finalizers:ue}=this;ue&&(0,Ce.P)(ue,ee),ee instanceof ve&&ee._removeParent(this)}}ve.EMPTY=(()=>{const Q=new ve;return Q.closed=!0,Q})();const ke=ve.EMPTY;function be(Q){return Q instanceof ve||Q&&"closed"in Q&&(0,p.m)(Q.remove)&&(0,p.m)(Q.add)&&(0,p.m)(Q.unsubscribe)}function ce(Q){(0,p.m)(Q)?Q():Q.unsubscribe()}},2416:(Jt,Ze,x)=>{x.d(Ze,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Jt,Ze,x)=>{x.d(Ze,{a:()=>ee});var p=x(8306),d=x(4742),W=x(8996),Ce=x(4671),ve=x(3268),ke=x(3269),be=x(1810),ce=x(5403),Q=x(9672);function ee(...ct){const it=(0,ke.yG)(ct),ft=(0,ke.jO)(ct),{args:ut,keys:Ye}=(0,d.D)(ct);if(0===ut.length)return(0,W.D)([],it);const lt=new p.y(function ue(ct,it,ft=Ce.y){return ut=>{Ne(it,()=>{const{length:Ye}=ct,lt=new Array(Ye);let Be=Ye,yt=Ye;for(let ge=0;ge<Ye;ge++)Ne(it,()=>{const we=(0,W.D)(ct[ge],it);let et=!1;we.subscribe((0,ce.x)(ut,wt=>{lt[ge]=wt,et||(et=!0,yt--),yt||ut.next(ft(lt.slice()))},()=>{--Be||ut.complete()}))},ut)},ut)}}(ut,it,Ye?Be=>(0,be.n)(Ye,Be):Ce.y));return ft?lt.pipe((0,ve.Z)(ft)):lt}function Ne(ct,it,ft){ct?(0,Q.f)(ft,ct,it):it()}},7272:(Jt,Ze,x)=>{x.d(Ze,{z:()=>ve});var p=x(8189),W=x(3269),Ce=x(8996);function ve(...ke){return function d(){return(0,p.J)(1)}()((0,Ce.D)(ke,(0,W.yG)(ke)))}},9770:(Jt,Ze,x)=>{x.d(Ze,{P:()=>W});var p=x(8306),d=x(8421);function W(Ce){return new p.y(ve=>{(0,d.Xf)(Ce()).subscribe(ve)})}},515:(Jt,Ze,x)=>{x.d(Ze,{E:()=>d});const d=new(x(8306).y)(ve=>ve.complete())},4128:(Jt,Ze,x)=>{x.d(Ze,{D:()=>ce});var p=x(8306),d=x(4742),W=x(8421),Ce=x(3269),ve=x(5403),ke=x(3268),be=x(1810);function ce(...Q){const ee=(0,Ce.jO)(Q),{args:ue,keys:Ne}=(0,d.D)(Q),ct=new p.y(it=>{const{length:ft}=ue;if(!ft)return void it.complete();const ut=new Array(ft);let Ye=ft,lt=ft;for(let Be=0;Be<ft;Be++){let yt=!1;(0,W.Xf)(ue[Be]).subscribe((0,ve.x)(it,ge=>{yt||(yt=!0,lt--),ut[Be]=ge},()=>Ye--,void 0,()=>{(!Ye||!yt)&&(lt||it.next(Ne?(0,be.n)(Ne,ut):ut),it.complete())}))}});return ee?ct.pipe((0,ke.Z)(ee)):ct}},8996:(Jt,Ze,x)=>{x.d(Ze,{D:()=>we});var p=x(8421),d=x(5363),W=x(9468),ke=x(8306),ce=x(2202),Q=x(576),ee=x(9672);function Ne(et,wt){if(!et)throw new Error("Iterable cannot be null");return new ke.y(q=>{(0,ee.f)(q,wt,()=>{const qe=et[Symbol.asyncIterator]();(0,ee.f)(q,wt,()=>{qe.next().then(tt=>{tt.done?q.complete():q.next(tt.value)})},0,!0)})})}var ct=x(3670),it=x(8239),ft=x(1144),ut=x(6495),Ye=x(2206),lt=x(4532),Be=x(3260);function we(et,wt){return wt?function ge(et,wt){if(null!=et){if((0,ct.c)(et))return function Ce(et,wt){return(0,p.Xf)(et).pipe((0,W.R)(wt),(0,d.Q)(wt))}(et,wt);if((0,ft.z)(et))return function be(et,wt){return new ke.y(q=>{let qe=0;return wt.schedule(function(){qe===et.length?q.complete():(q.next(et[qe++]),q.closed||this.schedule())})})}(et,wt);if((0,it.t)(et))return function ve(et,wt){return(0,p.Xf)(et).pipe((0,W.R)(wt),(0,d.Q)(wt))}(et,wt);if((0,Ye.D)(et))return Ne(et,wt);if((0,ut.T)(et))return function ue(et,wt){return new ke.y(q=>{let qe;return(0,ee.f)(q,wt,()=>{qe=et[ce.h](),(0,ee.f)(q,wt,()=>{let tt,Le;try{({value:tt,done:Le}=qe.next())}catch(Ue){return void q.error(Ue)}Le?q.complete():q.next(tt)},0,!0)}),()=>(0,Q.m)(null==qe?void 0:qe.return)&&qe.return()})}(et,wt);if((0,Be.L)(et))return function yt(et,wt){return Ne((0,Be.Q)(et),wt)}(et,wt)}throw(0,lt.z)(et)}(et,wt):(0,p.Xf)(et)}},8421:(Jt,Ze,x)=>{x.d(Ze,{Xf:()=>ct});var p=x(655),d=x(1144),W=x(8239),Ce=x(8306),ve=x(3670),ke=x(2206),be=x(4532),ce=x(6495),Q=x(3260),ee=x(576),ue=x(7849),Ne=x(8822);function ct(ge){if(ge instanceof Ce.y)return ge;if(null!=ge){if((0,ve.c)(ge))return function it(ge){return new Ce.y(we=>{const et=ge[Ne.L]();if((0,ee.m)(et.subscribe))return et.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,d.z)(ge))return function ft(ge){return new Ce.y(we=>{for(let et=0;et<ge.length&&!we.closed;et++)we.next(ge[et]);we.complete()})}(ge);if((0,W.t)(ge))return function ut(ge){return new Ce.y(we=>{ge.then(et=>{we.closed||(we.next(et),we.complete())},et=>we.error(et)).then(null,ue.h)})}(ge);if((0,ke.D)(ge))return lt(ge);if((0,ce.T)(ge))return function Ye(ge){return new Ce.y(we=>{for(const et of ge)if(we.next(et),we.closed)return;we.complete()})}(ge);if((0,Q.L)(ge))return function Be(ge){return lt((0,Q.Q)(ge))}(ge)}throw(0,be.z)(ge)}function lt(ge){return new Ce.y(we=>{(function yt(ge,we){var et,wt,q,qe;return(0,p.mG)(this,void 0,void 0,function*(){try{for(et=(0,p.KL)(ge);!(wt=yield et.next()).done;)if(we.next(wt.value),we.closed)return}catch(tt){q={error:tt}}finally{try{wt&&!wt.done&&(qe=et.return)&&(yield qe.call(et))}finally{if(q)throw q.error}}we.complete()})})(ge,we).catch(et=>we.error(et))})}},6451:(Jt,Ze,x)=>{x.d(Ze,{T:()=>ke});var p=x(8189),d=x(8421),W=x(515),Ce=x(3269),ve=x(8996);function ke(...be){const ce=(0,Ce.yG)(be),Q=(0,Ce._6)(be,1/0),ee=be;return ee.length?1===ee.length?(0,d.Xf)(ee[0]):(0,p.J)(Q)((0,ve.D)(ee,ce)):W.E}},9646:(Jt,Ze,x)=>{x.d(Ze,{of:()=>W});var p=x(3269),d=x(8996);function W(...Ce){const ve=(0,p.yG)(Ce);return(0,d.D)(Ce,ve)}},5403:(Jt,Ze,x)=>{x.d(Ze,{x:()=>d});var p=x(930);function d(Ce,ve,ke,be,ce){return new W(Ce,ve,ke,be,ce)}class W extends p.Lv{constructor(ve,ke,be,ce,Q,ee){super(ve),this.onFinalize=Q,this.shouldUnsubscribe=ee,this._next=ke?function(ue){try{ke(ue)}catch(Ne){ve.error(Ne)}}:super._next,this._error=ce?function(ue){try{ce(ue)}catch(Ne){ve.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(ue){ve.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},4351:(Jt,Ze,x)=>{x.d(Ze,{b:()=>W});var p=x(5577),d=x(576);function W(Ce,ve){return(0,d.m)(ve)?(0,p.z)(Ce,ve,1):(0,p.z)(Ce,1)}},6590:(Jt,Ze,x)=>{x.d(Ze,{d:()=>W});var p=x(4482),d=x(5403);function W(Ce){return(0,p.e)((ve,ke)=>{let be=!1;ve.subscribe((0,d.x)(ke,ce=>{be=!0,ke.next(ce)},()=>{be||ke.next(Ce),ke.complete()}))})}},1884:(Jt,Ze,x)=>{x.d(Ze,{x:()=>Ce});var p=x(4671),d=x(4482),W=x(5403);function Ce(ke,be=p.y){return ke=null!=ke?ke:ve,(0,d.e)((ce,Q)=>{let ee,ue=!0;ce.subscribe((0,W.x)(Q,Ne=>{const ct=be(Ne);(ue||!ke(ee,ct))&&(ue=!1,ee=ct,Q.next(Ne))}))})}function ve(ke,be){return ke===be}},9300:(Jt,Ze,x)=>{x.d(Ze,{h:()=>W});var p=x(4482),d=x(5403);function W(Ce,ve){return(0,p.e)((ke,be)=>{let ce=0;ke.subscribe((0,d.x)(be,Q=>Ce.call(ve,Q,ce++)&&be.next(Q)))})}},590:(Jt,Ze,x)=>{x.d(Ze,{P:()=>be});var p=x(6805),d=x(9300),W=x(5698),Ce=x(6590),ve=x(8068),ke=x(4671);function be(ce,Q){const ee=arguments.length>=2;return ue=>ue.pipe(ce?(0,d.h)((Ne,ct)=>ce(Ne,ct,ue)):ke.y,(0,W.q)(1),ee?(0,Ce.d)(Q):(0,ve.T)(()=>new p.K))}},4004:(Jt,Ze,x)=>{x.d(Ze,{U:()=>W});var p=x(4482),d=x(5403);function W(Ce,ve){return(0,p.e)((ke,be)=>{let ce=0;ke.subscribe((0,d.x)(be,Q=>{be.next(Ce.call(ve,Q,ce++))}))})}},8189:(Jt,Ze,x)=>{x.d(Ze,{J:()=>W});var p=x(5577),d=x(4671);function W(Ce=1/0){return(0,p.z)(d.y,Ce)}},5577:(Jt,Ze,x)=>{x.d(Ze,{z:()=>ce});var p=x(4004),d=x(8421),W=x(4482),Ce=x(9672),ve=x(5403),be=x(576);function ce(Q,ee,ue=1/0){return(0,be.m)(ee)?ce((Ne,ct)=>(0,p.U)((it,ft)=>ee(Ne,it,ct,ft))((0,d.Xf)(Q(Ne,ct))),ue):("number"==typeof ee&&(ue=ee),(0,W.e)((Ne,ct)=>function ke(Q,ee,ue,Ne,ct,it,ft,ut){const Ye=[];let lt=0,Be=0,yt=!1;const ge=()=>{yt&&!Ye.length&&!lt&&ee.complete()},we=wt=>lt<Ne?et(wt):Ye.push(wt),et=wt=>{it&&ee.next(wt),lt++;let q=!1;(0,d.Xf)(ue(wt,Be++)).subscribe((0,ve.x)(ee,qe=>{null==ct||ct(qe),it?we(qe):ee.next(qe)},()=>{q=!0},void 0,()=>{if(q)try{for(lt--;Ye.length&&lt<Ne;){const qe=Ye.shift();ft?(0,Ce.f)(ee,ft,()=>et(qe)):et(qe)}ge()}catch(qe){ee.error(qe)}}))};return Q.subscribe((0,ve.x)(ee,we,()=>{yt=!0,ge()})),()=>{null==ut||ut()}}(Ne,ct,Q,ue)))}},5363:(Jt,Ze,x)=>{x.d(Ze,{Q:()=>Ce});var p=x(9672),d=x(4482),W=x(5403);function Ce(ve,ke=0){return(0,d.e)((be,ce)=>{be.subscribe((0,W.x)(ce,Q=>(0,p.f)(ce,ve,()=>ce.next(Q),ke),()=>(0,p.f)(ce,ve,()=>ce.complete(),ke),Q=>(0,p.f)(ce,ve,()=>ce.error(Q),ke)))})}},5026:(Jt,Ze,x)=>{x.d(Ze,{R:()=>Ce});var p=x(4482),d=x(5403);function W(ve,ke,be,ce,Q){return(ee,ue)=>{let Ne=be,ct=ke,it=0;ee.subscribe((0,d.x)(ue,ft=>{const ut=it++;ct=Ne?ve(ct,ft,ut):(Ne=!0,ft),ce&&ue.next(ct)},Q&&(()=>{Ne&&ue.next(ct),ue.complete()})))}}function Ce(ve,ke){return(0,p.e)(W(ve,ke,arguments.length>=2,!0))}},3099:(Jt,Ze,x)=>{x.d(Ze,{B:()=>ve});var p=x(8421),d=x(7579),W=x(930),Ce=x(4482);function ve(be={}){const{connector:ce=(()=>new d.x),resetOnError:Q=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ue=!0}=be;return Ne=>{let ct,it,ft,ut=0,Ye=!1,lt=!1;const Be=()=>{null==it||it.unsubscribe(),it=void 0},yt=()=>{Be(),ct=ft=void 0,Ye=lt=!1},ge=()=>{const we=ct;yt(),null==we||we.unsubscribe()};return(0,Ce.e)((we,et)=>{ut++,!lt&&!Ye&&Be();const wt=ft=null!=ft?ft:ce();et.add(()=>{ut--,0===ut&&!lt&&!Ye&&(it=ke(ge,ue))}),wt.subscribe(et),!ct&&ut>0&&(ct=new W.Hp({next:q=>wt.next(q),error:q=>{lt=!0,Be(),it=ke(yt,Q,q),wt.error(q)},complete:()=>{Ye=!0,Be(),it=ke(yt,ee),wt.complete()}}),(0,p.Xf)(we).subscribe(ct))})(Ne)}}function ke(be,ce,...Q){if(!0===ce)return void be();if(!1===ce)return;const ee=new W.Hp({next:()=>{ee.unsubscribe(),be()}});return ce(...Q).subscribe(ee)}},3151:(Jt,Ze,x)=>{x.d(Ze,{d:()=>ve});var p=x(7579),d=x(6063);class W extends p.x{constructor(be=1/0,ce=1/0,Q=d.l){super(),this._bufferSize=be,this._windowTime=ce,this._timestampProvider=Q,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ce===1/0,this._bufferSize=Math.max(1,be),this._windowTime=Math.max(1,ce)}next(be){const{isStopped:ce,_buffer:Q,_infiniteTimeWindow:ee,_timestampProvider:ue,_windowTime:Ne}=this;ce||(Q.push(be),!ee&&Q.push(ue.now()+Ne)),this._trimBuffer(),super.next(be)}_subscribe(be){this._throwIfClosed(),this._trimBuffer();const ce=this._innerSubscribe(be),{_infiniteTimeWindow:Q,_buffer:ee}=this,ue=ee.slice();for(let Ne=0;Ne<ue.length&&!be.closed;Ne+=Q?1:2)be.next(ue[Ne]);return this._checkFinalizedStatuses(be),ce}_trimBuffer(){const{_bufferSize:be,_timestampProvider:ce,_buffer:Q,_infiniteTimeWindow:ee}=this,ue=(ee?1:2)*be;if(be<1/0&&ue<Q.length&&Q.splice(0,Q.length-ue),!ee){const Ne=ce.now();let ct=0;for(let it=1;it<Q.length&&Q[it]<=Ne;it+=2)ct=it;ct&&Q.splice(0,ct+1)}}}var Ce=x(3099);function ve(ke,be,ce){let Q,ee=!1;return ke&&"object"==typeof ke?({bufferSize:Q=1/0,windowTime:be=1/0,refCount:ee=!1,scheduler:ce}=ke):Q=null!=ke?ke:1/0,(0,Ce.B)({connector:()=>new W(Q,be,ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ee})}},8675:(Jt,Ze,x)=>{x.d(Ze,{O:()=>Ce});var p=x(7272),d=x(3269),W=x(4482);function Ce(...ve){const ke=(0,d.yG)(ve);return(0,W.e)((be,ce)=>{(ke?(0,p.z)(ve,be,ke):(0,p.z)(ve,be)).subscribe(ce)})}},9468:(Jt,Ze,x)=>{x.d(Ze,{R:()=>d});var p=x(4482);function d(W,Ce=0){return(0,p.e)((ve,ke)=>{ke.add(W.schedule(()=>ve.subscribe(ke),Ce))})}},3900:(Jt,Ze,x)=>{x.d(Ze,{w:()=>Ce});var p=x(8421),d=x(4482),W=x(5403);function Ce(ve,ke){return(0,d.e)((be,ce)=>{let Q=null,ee=0,ue=!1;const Ne=()=>ue&&!Q&&ce.complete();be.subscribe((0,W.x)(ce,ct=>{null==Q||Q.unsubscribe();let it=0;const ft=ee++;(0,p.Xf)(ve(ct,ft)).subscribe(Q=(0,W.x)(ce,ut=>ce.next(ke?ke(ct,ut,ft,it++):ut),()=>{Q=null,Ne()}))},()=>{ue=!0,Ne()}))})}},5698:(Jt,Ze,x)=>{x.d(Ze,{q:()=>Ce});var p=x(515),d=x(4482),W=x(5403);function Ce(ve){return ve<=0?()=>p.E:(0,d.e)((ke,be)=>{let ce=0;ke.subscribe((0,W.x)(be,Q=>{++ce<=ve&&(be.next(Q),ve<=ce&&be.complete())}))})}},8505:(Jt,Ze,x)=>{x.d(Ze,{b:()=>ve});var p=x(576),d=x(4482),W=x(5403),Ce=x(4671);function ve(ke,be,ce){const Q=(0,p.m)(ke)||be||ce?{next:ke,error:be,complete:ce}:ke;return Q?(0,d.e)((ee,ue)=>{var Ne;null===(Ne=Q.subscribe)||void 0===Ne||Ne.call(Q);let ct=!0;ee.subscribe((0,W.x)(ue,it=>{var ft;null===(ft=Q.next)||void 0===ft||ft.call(Q,it),ue.next(it)},()=>{var it;ct=!1,null===(it=Q.complete)||void 0===it||it.call(Q),ue.complete()},it=>{var ft;ct=!1,null===(ft=Q.error)||void 0===ft||ft.call(Q,it),ue.error(it)},()=>{var it,ft;ct&&(null===(it=Q.unsubscribe)||void 0===it||it.call(Q)),null===(ft=Q.finalize)||void 0===ft||ft.call(Q)}))}):Ce.y}},8068:(Jt,Ze,x)=>{x.d(Ze,{T:()=>Ce});var p=x(6805),d=x(4482),W=x(5403);function Ce(ke=ve){return(0,d.e)((be,ce)=>{let Q=!1;be.subscribe((0,W.x)(ce,ee=>{Q=!0,ce.next(ee)},()=>Q?ce.complete():ce.error(ke())))})}function ve(){return new p.K}},4408:(Jt,Ze,x)=>{x.d(Ze,{o:()=>ve});var p=x(727);class d extends p.w0{constructor(be,ce){super()}schedule(be,ce=0){return this}}const W={setInterval(ke,be,...ce){const{delegate:Q}=W;return(null==Q?void 0:Q.setInterval)?Q.setInterval(ke,be,...ce):setInterval(ke,be,...ce)},clearInterval(ke){const{delegate:be}=W;return((null==be?void 0:be.clearInterval)||clearInterval)(ke)},delegate:void 0};var Ce=x(8737);class ve extends d{constructor(be,ce){super(be,ce),this.scheduler=be,this.work=ce,this.pending=!1}schedule(be,ce=0){var Q;if(this.closed)return this;this.state=be;const ee=this.id,ue=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(ue,ee,ce)),this.pending=!0,this.delay=ce,this.id=null!==(Q=this.id)&&void 0!==Q?Q:this.requestAsyncId(ue,this.id,ce),this}requestAsyncId(be,ce,Q=0){return W.setInterval(be.flush.bind(be,this),Q)}recycleAsyncId(be,ce,Q=0){if(null!=Q&&this.delay===Q&&!1===this.pending)return ce;null!=ce&&W.clearInterval(ce)}execute(be,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Q=this._execute(be,ce);if(Q)return Q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,ce){let ee,Q=!1;try{this.work(be)}catch(ue){Q=!0,ee=ue||new Error("Scheduled action threw falsy error")}if(Q)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:be,scheduler:ce}=this,{actions:Q}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(Q,this),null!=be&&(this.id=this.recycleAsyncId(ce,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(Jt,Ze,x)=>{x.d(Ze,{v:()=>W});var p=x(6063);class d{constructor(ve,ke=d.now){this.schedulerActionCtor=ve,this.now=ke}schedule(ve,ke=0,be){return new this.schedulerActionCtor(this,ve).schedule(be,ke)}}d.now=p.l.now;class W extends d{constructor(ve,ke=d.now){super(ve,ke),this.actions=[],this._active=!1}flush(ve){const{actions:ke}=this;if(this._active)return void ke.push(ve);let be;this._active=!0;do{if(be=ve.execute(ve.state,ve.delay))break}while(ve=ke.shift());if(this._active=!1,be){for(;ve=ke.shift();)ve.unsubscribe();throw be}}}},4986:(Jt,Ze,x)=>{x.d(Ze,{P:()=>Ce,z:()=>W});var p=x(4408);const W=new(x(7565).v)(p.o),Ce=W},6063:(Jt,Ze,x)=>{x.d(Ze,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},233:(Jt,Ze,x)=>{x.d(Ze,{N:()=>ve});var p=x(4408),W=x(7565);const ve=new class Ce extends W.v{}(class d extends p.o{constructor(ce,Q){super(ce,Q),this.scheduler=ce,this.work=Q}schedule(ce,Q=0){return Q>0?super.schedule(ce,Q):(this.delay=Q,this.state=ce,this.scheduler.flush(this),this)}execute(ce,Q){return Q>0||this.closed?super.execute(ce,Q):this._execute(ce,Q)}requestAsyncId(ce,Q,ee=0){return null!=ee&&ee>0||null==ee&&this.delay>0?super.requestAsyncId(ce,Q,ee):(ce.flush(this),0)}})},3410:(Jt,Ze,x)=>{x.d(Ze,{z:()=>p});const p={setTimeout(d,W,...Ce){const{delegate:ve}=p;return(null==ve?void 0:ve.setTimeout)?ve.setTimeout(d,W,...Ce):setTimeout(d,W,...Ce)},clearTimeout(d){const{delegate:W}=p;return((null==W?void 0:W.clearTimeout)||clearTimeout)(d)},delegate:void 0}},2202:(Jt,Ze,x)=>{x.d(Ze,{h:()=>d});const d=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Jt,Ze,x)=>{x.d(Ze,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Jt,Ze,x)=>{x.d(Ze,{K:()=>d});const d=(0,x(3888).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Jt,Ze,x)=>{x.d(Ze,{_6:()=>ke,jO:()=>Ce,yG:()=>ve});var p=x(576),d=x(3532);function W(be){return be[be.length-1]}function Ce(be){return(0,p.m)(W(be))?be.pop():void 0}function ve(be){return(0,d.K)(W(be))?be.pop():void 0}function ke(be,ce){return"number"==typeof W(be)?be.pop():ce}},4742:(Jt,Ze,x)=>{x.d(Ze,{D:()=>ve});const{isArray:p}=Array,{getPrototypeOf:d,prototype:W,keys:Ce}=Object;function ve(be){if(1===be.length){const ce=be[0];if(p(ce))return{args:ce,keys:null};if(function ke(be){return be&&"object"==typeof be&&d(be)===W}(ce)){const Q=Ce(ce);return{args:Q.map(ee=>ce[ee]),keys:Q}}}return{args:be,keys:null}}},8737:(Jt,Ze,x)=>{function p(d,W){if(d){const Ce=d.indexOf(W);0<=Ce&&d.splice(Ce,1)}}x.d(Ze,{P:()=>p})},3888:(Jt,Ze,x)=>{function p(d){const Ce=d(ve=>{Error.call(ve),ve.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}x.d(Ze,{d:()=>p})},1810:(Jt,Ze,x)=>{function p(d,W){return d.reduce((Ce,ve,ke)=>(Ce[ve]=W[ke],Ce),{})}x.d(Ze,{n:()=>p})},2806:(Jt,Ze,x)=>{x.d(Ze,{O:()=>Ce,x:()=>W});var p=x(2416);let d=null;function W(ve){if(p.v.useDeprecatedSynchronousErrorHandling){const ke=!d;if(ke&&(d={errorThrown:!1,error:null}),ve(),ke){const{errorThrown:be,error:ce}=d;if(d=null,be)throw ce}}else ve()}function Ce(ve){p.v.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=ve)}},9672:(Jt,Ze,x)=>{function p(d,W,Ce,ve=0,ke=!1){const be=W.schedule(function(){Ce(),ke?d.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(d.add(be),!ke)return be}x.d(Ze,{f:()=>p})},4671:(Jt,Ze,x)=>{function p(d){return d}x.d(Ze,{y:()=>p})},1144:(Jt,Ze,x)=>{x.d(Ze,{z:()=>p});const p=d=>d&&"number"==typeof d.length&&"function"!=typeof d},2206:(Jt,Ze,x)=>{x.d(Ze,{D:()=>d});var p=x(576);function d(W){return Symbol.asyncIterator&&(0,p.m)(null==W?void 0:W[Symbol.asyncIterator])}},576:(Jt,Ze,x)=>{function p(d){return"function"==typeof d}x.d(Ze,{m:()=>p})},3670:(Jt,Ze,x)=>{x.d(Ze,{c:()=>W});var p=x(8822),d=x(576);function W(Ce){return(0,d.m)(Ce[p.L])}},6495:(Jt,Ze,x)=>{x.d(Ze,{T:()=>W});var p=x(2202),d=x(576);function W(Ce){return(0,d.m)(null==Ce?void 0:Ce[p.h])}},8239:(Jt,Ze,x)=>{x.d(Ze,{t:()=>d});var p=x(576);function d(W){return(0,p.m)(null==W?void 0:W.then)}},3260:(Jt,Ze,x)=>{x.d(Ze,{L:()=>Ce,Q:()=>W});var p=x(655),d=x(576);function W(ve){return(0,p.FC)(this,arguments,function*(){const be=ve.getReader();try{for(;;){const{value:ce,done:Q}=yield(0,p.qq)(be.read());if(Q)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(ce)}}finally{be.releaseLock()}})}function Ce(ve){return(0,d.m)(null==ve?void 0:ve.getReader)}},3532:(Jt,Ze,x)=>{x.d(Ze,{K:()=>d});var p=x(576);function d(W){return W&&(0,p.m)(W.schedule)}},4482:(Jt,Ze,x)=>{x.d(Ze,{A:()=>d,e:()=>W});var p=x(576);function d(Ce){return(0,p.m)(null==Ce?void 0:Ce.lift)}function W(Ce){return ve=>{if(d(ve))return ve.lift(function(ke){try{return Ce(ke,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Jt,Ze,x)=>{x.d(Ze,{Z:()=>Ce});var p=x(4004);const{isArray:d}=Array;function Ce(ve){return(0,p.U)(ke=>function W(ve,ke){return d(ke)?ve(...ke):ve(ke)}(ve,ke))}},5032:(Jt,Ze,x)=>{function p(){}x.d(Ze,{Z:()=>p})},7849:(Jt,Ze,x)=>{x.d(Ze,{h:()=>W});var p=x(2416),d=x(3410);function W(Ce){d.z.setTimeout(()=>{const{onUnhandledError:ve}=p.v;if(!ve)throw Ce;ve(Ce)})}},4532:(Jt,Ze,x)=>{function p(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(Ze,{z:()=>p})},655:(Jt,Ze,x)=>{function Ce(Le,Ue){var Xe={};for(var nt in Le)Object.prototype.hasOwnProperty.call(Le,nt)&&Ue.indexOf(nt)<0&&(Xe[nt]=Le[nt]);if(null!=Le&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(nt=Object.getOwnPropertySymbols(Le);ot<nt.length;ot++)Ue.indexOf(nt[ot])<0&&Object.prototype.propertyIsEnumerable.call(Le,nt[ot])&&(Xe[nt[ot]]=Le[nt[ot]])}return Xe}function ve(Le,Ue,Xe,nt){var sn,ot=arguments.length,xt=ot<3?Ue:null===nt?nt=Object.getOwnPropertyDescriptor(Ue,Xe):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)xt=Reflect.decorate(Le,Ue,Xe,nt);else for(var gt=Le.length-1;gt>=0;gt--)(sn=Le[gt])&&(xt=(ot<3?sn(xt):ot>3?sn(Ue,Xe,xt):sn(Ue,Xe))||xt);return ot>3&&xt&&Object.defineProperty(Ue,Xe,xt),xt}function be(Le,Ue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Le,Ue)}function ce(Le,Ue,Xe,nt){return new(Xe||(Xe=Promise))(function(xt,sn){function gt(Ae){try{K(nt.next(Ae))}catch(Ge){sn(Ge)}}function pt(Ae){try{K(nt.throw(Ae))}catch(Ge){sn(Ge)}}function K(Ae){Ae.done?xt(Ae.value):function ot(xt){return xt instanceof Xe?xt:new Xe(function(sn){sn(xt)})}(Ae.value).then(gt,pt)}K((nt=nt.apply(Le,Ue||[])).next())})}function Ye(Le){return this instanceof Ye?(this.v=Le,this):new Ye(Le)}function lt(Le,Ue,Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,nt=Xe.apply(Le,Ue||[]),xt=[];return ot={},sn("next"),sn("throw"),sn("return"),ot[Symbol.asyncIterator]=function(){return this},ot;function sn(Rt){nt[Rt]&&(ot[Rt]=function(Nt){return new Promise(function(tn,gn){xt.push([Rt,Nt,tn,gn])>1||gt(Rt,Nt)})})}function gt(Rt,Nt){try{!function pt(Rt){Rt.value instanceof Ye?Promise.resolve(Rt.value.v).then(K,Ae):Ge(xt[0][2],Rt)}(nt[Rt](Nt))}catch(tn){Ge(xt[0][3],tn)}}function K(Rt){gt("next",Rt)}function Ae(Rt){gt("throw",Rt)}function Ge(Rt,Nt){Rt(Nt),xt.shift(),xt.length&&gt(xt[0][0],xt[0][1])}}function yt(Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Ue=Le[Symbol.asyncIterator];return Ue?Ue.call(Le):(Le=function Ne(Le){var Ue="function"==typeof Symbol&&Symbol.iterator,Xe=Ue&&Le[Ue],nt=0;if(Xe)return Xe.call(Le);if(Le&&"number"==typeof Le.length)return{next:function(){return Le&&nt>=Le.length&&(Le=void 0),{value:Le&&Le[nt++],done:!Le}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(Le),Xe={},nt("next"),nt("throw"),nt("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe);function nt(xt){Xe[xt]=Le[xt]&&function(sn){return new Promise(function(gt,pt){!function ot(xt,sn,gt,pt){Promise.resolve(pt).then(function(K){xt({value:K,done:gt})},sn)}(gt,pt,(sn=Le[xt](sn)).done,sn.value)})}}}x.d(Ze,{FC:()=>lt,KL:()=>yt,_T:()=>Ce,gn:()=>ve,mG:()=>ce,qq:()=>Ye,w6:()=>be})},1777:(Jt,Ze,x)=>{x.d(Ze,{LC:()=>d,SB:()=>Q,X$:()=>Ce,ZE:()=>Be,ZN:()=>lt,_j:()=>p,eR:()=>ue,jt:()=>ve,k1:()=>yt,l3:()=>W,oB:()=>ce,vP:()=>be});class p{}class d{}const W="*";function Ce(ge,we){return{type:7,name:ge,definitions:we,options:{}}}function ve(ge,we=null){return{type:4,styles:we,timings:ge}}function be(ge,we=null){return{type:2,steps:ge,options:we}}function ce(ge){return{type:6,styles:ge,offset:null}}function Q(ge,we,et){return{type:0,name:ge,styles:we,options:et}}function ue(ge,we,et=null){return{type:1,expr:ge,animation:we,options:et}}function Ye(ge){Promise.resolve(null).then(ge)}class lt{constructor(we=0,et=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=we+et}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}onStart(we){this._onStartFns.push(we)}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ye(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(we=>we()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(we){this._position=this.totalTime?we*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(we){const et="start"==we?this._onStartFns:this._onDoneFns;et.forEach(wt=>wt()),et.length=0}}class Be{constructor(we){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=we;let et=0,wt=0,q=0;const qe=this.players.length;0==qe?Ye(()=>this._onFinish()):this.players.forEach(tt=>{tt.onDone(()=>{++et==qe&&this._onFinish()}),tt.onDestroy(()=>{++wt==qe&&this._onDestroy()}),tt.onStart(()=>{++q==qe&&this._onStart()})}),this.totalTime=this.players.reduce((tt,Le)=>Math.max(tt,Le.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}init(){this.players.forEach(we=>we.init())}onStart(we){this._onStartFns.push(we)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(we=>we()),this._onStartFns=[])}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(we=>we.play())}pause(){this.players.forEach(we=>we.pause())}restart(){this.players.forEach(we=>we.restart())}finish(){this._onFinish(),this.players.forEach(we=>we.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(we=>we.destroy()),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this.players.forEach(we=>we.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(we){const et=we*this.totalTime;this.players.forEach(wt=>{const q=wt.totalTime?Math.min(1,et/wt.totalTime):1;wt.setPosition(q)})}getPosition(){const we=this.players.reduce((et,wt)=>null===et||wt.totalTime>et.totalTime?wt:et,null);return null!=we?we.getPosition():0}beforeDestroy(){this.players.forEach(we=>{we.beforeDestroy&&we.beforeDestroy()})}triggerCallback(we){const et="start"==we?this._onStartFns:this._onDoneFns;et.forEach(wt=>wt()),et.length=0}}const yt="!"},9808:(Jt,Ze,x)=>{x.d(Ze,{Do:()=>ge,ED:()=>Ai,EM:()=>Fr,HT:()=>ve,JF:()=>Ui,K0:()=>be,Mx:()=>Qr,NF:()=>Ni,O5:()=>wi,Ov:()=>Ht,PC:()=>ms,PM:()=>xr,RF:()=>Ft,S$:()=>Ye,V_:()=>ee,Ye:()=>we,b0:()=>yt,bD:()=>na,ez:()=>Xr,gd:()=>Zi,lw:()=>ce,mk:()=>Wi,mr:()=>Be,n9:()=>qi,q:()=>W,rS:()=>jn,sg:()=>Vi,tP:()=>Ar,uU:()=>us,w_:()=>ke});var p=x(5e3);let d=null;function W(){return d}function ve(V){d||(d=V)}class ke{}const be=new p.OlP("DocumentToken");let ce=(()=>{class V{historyGo(F){throw new Error("Not implemented")}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275prov=p.Yz7({token:V,factory:function(){return function Q(){return(0,p.LFG)(ue)}()},providedIn:"platform"}),V})();const ee=new p.OlP("Location Initialized");let ue=(()=>{class V extends ce{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(F){const se=W().getGlobalEventTarget(this._doc,"window");return se.addEventListener("popstate",F,!1),()=>se.removeEventListener("popstate",F)}onHashChange(F){const se=W().getGlobalEventTarget(this._doc,"window");return se.addEventListener("hashchange",F,!1),()=>se.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,se,Pe){Ne()?this._history.pushState(F,se,Pe):this.location.hash=Pe}replaceState(F,se,Pe){Ne()?this._history.replaceState(F,se,Pe):this.location.hash=Pe}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return V.\u0275fac=function(F){return new(F||V)(p.LFG(be))},V.\u0275prov=p.Yz7({token:V,factory:function(){return function ct(){return new ue((0,p.LFG)(be))}()},providedIn:"platform"}),V})();function Ne(){return!!window.history.pushState}function it(V,ne){if(0==V.length)return ne;if(0==ne.length)return V;let F=0;return V.endsWith("/")&&F++,ne.startsWith("/")&&F++,2==F?V+ne.substring(1):1==F?V+ne:V+"/"+ne}function ft(V){const ne=V.match(/#|\?|$/),F=ne&&ne.index||V.length;return V.slice(0,F-("/"===V[F-1]?1:0))+V.slice(F)}function ut(V){return V&&"?"!==V[0]?"?"+V:V}let Ye=(()=>{class V{historyGo(F){throw new Error("Not implemented")}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275prov=p.Yz7({token:V,factory:function(){return function lt(V){const ne=(0,p.LFG)(be).location;return new yt((0,p.LFG)(ce),ne&&ne.origin||"")}()},providedIn:"root"}),V})();const Be=new p.OlP("appBaseHref");let yt=(()=>{class V extends Ye{constructor(F,se){if(super(),this._platformLocation=F,this._removeListenerFns=[],null==se&&(se=this._platformLocation.getBaseHrefFromDOM()),null==se)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=se}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return it(this._baseHref,F)}path(F=!1){const se=this._platformLocation.pathname+ut(this._platformLocation.search),Pe=this._platformLocation.hash;return Pe&&F?`${se}${Pe}`:se}pushState(F,se,Pe,At){const zt=this.prepareExternalUrl(Pe+ut(At));this._platformLocation.pushState(F,se,zt)}replaceState(F,se,Pe,At){const zt=this.prepareExternalUrl(Pe+ut(At));this._platformLocation.replaceState(F,se,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var se,Pe;null===(Pe=(se=this._platformLocation).historyGo)||void 0===Pe||Pe.call(se,F)}}return V.\u0275fac=function(F){return new(F||V)(p.LFG(ce),p.LFG(Be,8))},V.\u0275prov=p.Yz7({token:V,factory:V.\u0275fac}),V})(),ge=(()=>{class V extends Ye{constructor(F,se){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=se&&(this._baseHref=se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let se=this._platformLocation.hash;return null==se&&(se="#"),se.length>0?se.substring(1):se}prepareExternalUrl(F){const se=it(this._baseHref,F);return se.length>0?"#"+se:se}pushState(F,se,Pe,At){let zt=this.prepareExternalUrl(Pe+ut(At));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.pushState(F,se,zt)}replaceState(F,se,Pe,At){let zt=this.prepareExternalUrl(Pe+ut(At));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.replaceState(F,se,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var se,Pe;null===(Pe=(se=this._platformLocation).historyGo)||void 0===Pe||Pe.call(se,F)}}return V.\u0275fac=function(F){return new(F||V)(p.LFG(ce),p.LFG(Be,8))},V.\u0275prov=p.Yz7({token:V,factory:V.\u0275fac}),V})(),we=(()=>{class V{constructor(F,se){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=F;const Pe=this._platformStrategy.getBaseHref();this._platformLocation=se,this._baseHref=ft(q(Pe)),this._platformStrategy.onPopState(At=>{this._subject.emit({url:this.path(!0),pop:!0,state:At.state,type:At.type})})}path(F=!1){return this.normalize(this._platformStrategy.path(F))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(F,se=""){return this.path()==this.normalize(F+ut(se))}normalize(F){return V.stripTrailingSlash(function wt(V,ne){return V&&ne.startsWith(V)?ne.substring(V.length):ne}(this._baseHref,q(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._platformStrategy.prepareExternalUrl(F)}go(F,se="",Pe=null){this._platformStrategy.pushState(Pe,"",F,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+ut(se)),Pe)}replaceState(F,se="",Pe=null){this._platformStrategy.replaceState(Pe,"",F,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+ut(se)),Pe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(F=0){var se,Pe;null===(Pe=(se=this._platformStrategy).historyGo)||void 0===Pe||Pe.call(se,F)}onUrlChange(F){this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(se=>{this._notifyUrlChangeListeners(se.url,se.state)}))}_notifyUrlChangeListeners(F="",se){this._urlChangeListeners.forEach(Pe=>Pe(F,se))}subscribe(F,se,Pe){return this._subject.subscribe({next:F,error:se,complete:Pe})}}return V.normalizeQueryParams=ut,V.joinWithSlash=it,V.stripTrailingSlash=ft,V.\u0275fac=function(F){return new(F||V)(p.LFG(Ye),p.LFG(ce))},V.\u0275prov=p.Yz7({token:V,factory:function(){return function et(){return new we((0,p.LFG)(Ye),(0,p.LFG)(ce))}()},providedIn:"root"}),V})();function q(V){return V.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Format=0]="Format",Ue[Ue.Standalone=1]="Standalone",Ue))(),Xe=(()=>((Xe=Xe||{})[Xe.Narrow=0]="Narrow",Xe[Xe.Abbreviated=1]="Abbreviated",Xe[Xe.Wide=2]="Wide",Xe[Xe.Short=3]="Short",Xe))(),nt=(()=>((nt=nt||{})[nt.Short=0]="Short",nt[nt.Medium=1]="Medium",nt[nt.Long=2]="Long",nt[nt.Full=3]="Full",nt))(),ot=(()=>((ot=ot||{})[ot.Decimal=0]="Decimal",ot[ot.Group=1]="Group",ot[ot.List=2]="List",ot[ot.PercentSign=3]="PercentSign",ot[ot.PlusSign=4]="PlusSign",ot[ot.MinusSign=5]="MinusSign",ot[ot.Exponential=6]="Exponential",ot[ot.SuperscriptingExponent=7]="SuperscriptingExponent",ot[ot.PerMille=8]="PerMille",ot[ot.Infinity=9]="Infinity",ot[ot.NaN=10]="NaN",ot[ot.TimeSeparator=11]="TimeSeparator",ot[ot.CurrencyDecimal=12]="CurrencyDecimal",ot[ot.CurrencyGroup=13]="CurrencyGroup",ot))();function Nt(V,ne){return qn((0,p.cg1)(V)[p.wAp.DateFormat],ne)}function tn(V,ne){return qn((0,p.cg1)(V)[p.wAp.TimeFormat],ne)}function gn(V,ne){return qn((0,p.cg1)(V)[p.wAp.DateTimeFormat],ne)}function An(V,ne){const F=(0,p.cg1)(V),se=F[p.wAp.NumberSymbols][ne];if(void 0===se){if(ne===ot.CurrencyDecimal)return F[p.wAp.NumberSymbols][ot.Decimal];if(ne===ot.CurrencyGroup)return F[p.wAp.NumberSymbols][ot.Group]}return se}function Mn(V){if(!V[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${V[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function qn(V,ne){for(let F=ne;F>-1;F--)if(void 0!==V[F])return V[F];throw new Error("Locale data API: locale data undefined")}function nn(V){const[ne,F]=V.split(":");return{hours:+ne,minutes:+F}}const Fe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$e={},Ut=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var It=(()=>((It=It||{})[It.Short=0]="Short",It[It.ShortGMT=1]="ShortGMT",It[It.Long=2]="Long",It[It.Extended=3]="Extended",It))(),Bt=(()=>((Bt=Bt||{})[Bt.FullYear=0]="FullYear",Bt[Bt.Month=1]="Month",Bt[Bt.Date=2]="Date",Bt[Bt.Hours=3]="Hours",Bt[Bt.Minutes=4]="Minutes",Bt[Bt.Seconds=5]="Seconds",Bt[Bt.FractionalSeconds=6]="FractionalSeconds",Bt[Bt.Day=7]="Day",Bt))(),Kt=(()=>((Kt=Kt||{})[Kt.DayPeriods=0]="DayPeriods",Kt[Kt.Days=1]="Days",Kt[Kt.Months=2]="Months",Kt[Kt.Eras=3]="Eras",Kt))();function Re(V,ne,F,se){let Pe=function X(V){if(Se(V))return V;if("number"==typeof V&&!isNaN(V))return new Date(V);if("string"==typeof V){if(V=V.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(V)){const[Pe,At=1,zt=1]=V.split("-").map(On=>+On);return xe(Pe,At-1,zt)}const F=parseFloat(V);if(!isNaN(V-F))return new Date(F);let se;if(se=V.match(Fe))return function ie(V){const ne=new Date(0);let F=0,se=0;const Pe=V[8]?ne.setUTCFullYear:ne.setFullYear,At=V[8]?ne.setUTCHours:ne.setHours;V[9]&&(F=Number(V[9]+V[10]),se=Number(V[9]+V[11])),Pe.call(ne,Number(V[1]),Number(V[2])-1,Number(V[3]));const zt=Number(V[4]||0)-F,On=Number(V[5]||0)-se,$n=Number(V[6]||0),yi=Math.floor(1e3*parseFloat("0."+(V[7]||0)));return At.call(ne,zt,On,$n,yi),ne}(se)}const ne=new Date(V);if(!Se(ne))throw new Error(`Unable to convert "${V}" into a date`);return ne}(V);ne=Ee(F,ne)||ne;let On,zt=[];for(;ne;){if(On=Ut.exec(ne),!On){zt.push(ne);break}{zt=zt.concat(On.slice(1));const ei=zt.pop();if(!ei)break;ne=ei}}let $n=Pe.getTimezoneOffset();se&&($n=ye(se,$n),Pe=function $(V,ne,F){const se=F?-1:1,Pe=V.getTimezoneOffset();return function J(V,ne){return(V=new Date(V.getTime())).setMinutes(V.getMinutes()+ne),V}(V,se*(ye(ne,Pe)-Pe))}(Pe,se,!0));let yi="";return zt.forEach(ei=>{const hi=function Oe(V){if(fe[V])return fe[V];let ne;switch(V){case"G":case"GG":case"GGG":ne=wn(Kt.Eras,Xe.Abbreviated);break;case"GGGG":ne=wn(Kt.Eras,Xe.Wide);break;case"GGGGG":ne=wn(Kt.Eras,Xe.Narrow);break;case"y":ne=Tt(Bt.FullYear,1,0,!1,!0);break;case"yy":ne=Tt(Bt.FullYear,2,0,!0,!0);break;case"yyy":ne=Tt(Bt.FullYear,3,0,!1,!0);break;case"yyyy":ne=Tt(Bt.FullYear,4,0,!1,!0);break;case"Y":ne=de(1);break;case"YY":ne=de(2,!0);break;case"YYY":ne=de(3);break;case"YYYY":ne=de(4);break;case"M":case"L":ne=Tt(Bt.Month,1,1);break;case"MM":case"LL":ne=Tt(Bt.Month,2,1);break;case"MMM":ne=wn(Kt.Months,Xe.Abbreviated);break;case"MMMM":ne=wn(Kt.Months,Xe.Wide);break;case"MMMMM":ne=wn(Kt.Months,Xe.Narrow);break;case"LLL":ne=wn(Kt.Months,Xe.Abbreviated,Ue.Standalone);break;case"LLLL":ne=wn(Kt.Months,Xe.Wide,Ue.Standalone);break;case"LLLLL":ne=wn(Kt.Months,Xe.Narrow,Ue.Standalone);break;case"w":ne=Ot(1);break;case"ww":ne=Ot(2);break;case"W":ne=Ot(1,!0);break;case"d":ne=Tt(Bt.Date,1);break;case"dd":ne=Tt(Bt.Date,2);break;case"c":case"cc":ne=Tt(Bt.Day,1);break;case"ccc":ne=wn(Kt.Days,Xe.Abbreviated,Ue.Standalone);break;case"cccc":ne=wn(Kt.Days,Xe.Wide,Ue.Standalone);break;case"ccccc":ne=wn(Kt.Days,Xe.Narrow,Ue.Standalone);break;case"cccccc":ne=wn(Kt.Days,Xe.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":ne=wn(Kt.Days,Xe.Abbreviated);break;case"EEEE":ne=wn(Kt.Days,Xe.Wide);break;case"EEEEE":ne=wn(Kt.Days,Xe.Narrow);break;case"EEEEEE":ne=wn(Kt.Days,Xe.Short);break;case"a":case"aa":case"aaa":ne=wn(Kt.DayPeriods,Xe.Abbreviated);break;case"aaaa":ne=wn(Kt.DayPeriods,Xe.Wide);break;case"aaaaa":ne=wn(Kt.DayPeriods,Xe.Narrow);break;case"b":case"bb":case"bbb":ne=wn(Kt.DayPeriods,Xe.Abbreviated,Ue.Standalone,!0);break;case"bbbb":ne=wn(Kt.DayPeriods,Xe.Wide,Ue.Standalone,!0);break;case"bbbbb":ne=wn(Kt.DayPeriods,Xe.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":ne=wn(Kt.DayPeriods,Xe.Abbreviated,Ue.Format,!0);break;case"BBBB":ne=wn(Kt.DayPeriods,Xe.Wide,Ue.Format,!0);break;case"BBBBB":ne=wn(Kt.DayPeriods,Xe.Narrow,Ue.Format,!0);break;case"h":ne=Tt(Bt.Hours,1,-12);break;case"hh":ne=Tt(Bt.Hours,2,-12);break;case"H":ne=Tt(Bt.Hours,1);break;case"HH":ne=Tt(Bt.Hours,2);break;case"m":ne=Tt(Bt.Minutes,1);break;case"mm":ne=Tt(Bt.Minutes,2);break;case"s":ne=Tt(Bt.Seconds,1);break;case"ss":ne=Tt(Bt.Seconds,2);break;case"S":ne=Tt(Bt.FractionalSeconds,1);break;case"SS":ne=Tt(Bt.FractionalSeconds,2);break;case"SSS":ne=Tt(Bt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=z(It.Short);break;case"ZZZZZ":ne=z(It.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=z(It.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=z(It.Long);break;default:return null}return fe[V]=ne,ne}(ei);yi+=hi?hi(Pe,F,$n):"''"===ei?"'":ei.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),yi}function xe(V,ne,F){const se=new Date(0);return se.setFullYear(V,ne,F),se.setHours(0,0,0),se}function Ee(V,ne){const F=function sn(V){return(0,p.cg1)(V)[p.wAp.LocaleId]}(V);if($e[F]=$e[F]||{},$e[F][ne])return $e[F][ne];let se="";switch(ne){case"shortDate":se=Nt(V,nt.Short);break;case"mediumDate":se=Nt(V,nt.Medium);break;case"longDate":se=Nt(V,nt.Long);break;case"fullDate":se=Nt(V,nt.Full);break;case"shortTime":se=tn(V,nt.Short);break;case"mediumTime":se=tn(V,nt.Medium);break;case"longTime":se=tn(V,nt.Long);break;case"fullTime":se=tn(V,nt.Full);break;case"short":const Pe=Ee(V,"shortTime"),At=Ee(V,"shortDate");se=We(gn(V,nt.Short),[Pe,At]);break;case"medium":const zt=Ee(V,"mediumTime"),On=Ee(V,"mediumDate");se=We(gn(V,nt.Medium),[zt,On]);break;case"long":const $n=Ee(V,"longTime"),yi=Ee(V,"longDate");se=We(gn(V,nt.Long),[$n,yi]);break;case"full":const ei=Ee(V,"fullTime"),hi=Ee(V,"fullDate");se=We(gn(V,nt.Full),[ei,hi])}return se&&($e[F][ne]=se),se}function We(V,ne){return ne&&(V=V.replace(/\{([^}]+)}/g,function(F,se){return null!=ne&&se in ne?ne[se]:F})),V}function bt(V,ne,F="-",se,Pe){let At="";(V<0||Pe&&V<=0)&&(Pe?V=1-V:(V=-V,At=F));let zt=String(V);for(;zt.length<ne;)zt="0"+zt;return se&&(zt=zt.substr(zt.length-ne)),At+zt}function Tt(V,ne,F=0,se=!1,Pe=!1){return function(At,zt){let On=function vn(V,ne){switch(V){case Bt.FullYear:return ne.getFullYear();case Bt.Month:return ne.getMonth();case Bt.Date:return ne.getDate();case Bt.Hours:return ne.getHours();case Bt.Minutes:return ne.getMinutes();case Bt.Seconds:return ne.getSeconds();case Bt.FractionalSeconds:return ne.getMilliseconds();case Bt.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${V}".`)}}(V,At);if((F>0||On>-F)&&(On+=F),V===Bt.Hours)0===On&&-12===F&&(On=12);else if(V===Bt.FractionalSeconds)return function St(V,ne){return bt(V,3).substr(0,ne)}(On,ne);const $n=An(zt,ot.MinusSign);return bt(On,ne,$n,se,Pe)}}function wn(V,ne,F=Ue.Format,se=!1){return function(Pe,At){return function pn(V,ne,F,se,Pe,At){switch(F){case Kt.Months:return function K(V,ne,F){const se=(0,p.cg1)(V),At=qn([se[p.wAp.MonthsFormat],se[p.wAp.MonthsStandalone]],ne);return qn(At,F)}(ne,Pe,se)[V.getMonth()];case Kt.Days:return function pt(V,ne,F){const se=(0,p.cg1)(V),At=qn([se[p.wAp.DaysFormat],se[p.wAp.DaysStandalone]],ne);return qn(At,F)}(ne,Pe,se)[V.getDay()];case Kt.DayPeriods:const zt=V.getHours(),On=V.getMinutes();if(At){const yi=function ci(V){const ne=(0,p.cg1)(V);return Mn(ne),(ne[p.wAp.ExtraData][2]||[]).map(se=>"string"==typeof se?nn(se):[nn(se[0]),nn(se[1])])}(ne),ei=function un(V,ne,F){const se=(0,p.cg1)(V);Mn(se);const At=qn([se[p.wAp.ExtraData][0],se[p.wAp.ExtraData][1]],ne)||[];return qn(At,F)||[]}(ne,Pe,se),hi=yi.findIndex(Qi=>{if(Array.isArray(Qi)){const[Bi,Fi]=Qi,H=zt>=Bi.hours&&On>=Bi.minutes,N=zt<Fi.hours||zt===Fi.hours&&On<Fi.minutes;if(Bi.hours<Fi.hours){if(H&&N)return!0}else if(H||N)return!0}else if(Qi.hours===zt&&Qi.minutes===On)return!0;return!1});if(-1!==hi)return ei[hi]}return function gt(V,ne,F){const se=(0,p.cg1)(V),At=qn([se[p.wAp.DayPeriodsFormat],se[p.wAp.DayPeriodsStandalone]],ne);return qn(At,F)}(ne,Pe,se)[zt<12?0:1];case Kt.Eras:return function Ae(V,ne){return qn((0,p.cg1)(V)[p.wAp.Eras],ne)}(ne,se)[V.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${F}`)}}(Pe,At,V,ne,F,se)}}function z(V){return function(ne,F,se){const Pe=-1*se,At=An(F,ot.MinusSign),zt=Pe>0?Math.floor(Pe/60):Math.ceil(Pe/60);switch(V){case It.Short:return(Pe>=0?"+":"")+bt(zt,2,At)+bt(Math.abs(Pe%60),2,At);case It.ShortGMT:return"GMT"+(Pe>=0?"+":"")+bt(zt,1,At);case It.Long:return"GMT"+(Pe>=0?"+":"")+bt(zt,2,At)+":"+bt(Math.abs(Pe%60),2,At);case It.Extended:return 0===se?"Z":(Pe>=0?"+":"")+bt(zt,2,At)+":"+bt(Math.abs(Pe%60),2,At);default:throw new Error(`Unknown zone width "${V}"`)}}}function vt(V){return xe(V.getFullYear(),V.getMonth(),V.getDate()+(4-V.getDay()))}function Ot(V,ne=!1){return function(F,se){let Pe;if(ne){const At=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,zt=F.getDate();Pe=1+Math.floor((zt+At)/7)}else{const At=vt(F),zt=function Ve(V){const ne=xe(V,0,1).getDay();return xe(V,0,1+(ne<=4?4:11)-ne)}(At.getFullYear()),On=At.getTime()-zt.getTime();Pe=1+Math.round(On/6048e5)}return bt(Pe,V,An(se,ot.MinusSign))}}function de(V,ne=!1){return function(F,se){return bt(vt(F).getFullYear(),V,An(se,ot.MinusSign),ne)}}const fe={};function ye(V,ne){V=V.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+V)/6e4;return isNaN(F)?ne:F}function Se(V){return V instanceof Date&&!isNaN(V.valueOf())}function Qr(V,ne){ne=encodeURIComponent(ne);for(const F of V.split(";")){const se=F.indexOf("="),[Pe,At]=-1==se?[F,""]:[F.slice(0,se),F.slice(se+1)];if(Pe.trim()===ne)return decodeURIComponent(At)}return null}let Wi=(()=>{class V{constructor(F,se,Pe,At){this._iterableDiffers=F,this._keyValueDiffers=se,this._ngEl=Pe,this._renderer=At,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(F){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof F?F.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(F){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof F?F.split(/\s+/):F,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const F=this._iterableDiffer.diff(this._rawClass);F&&this._applyIterableChanges(F)}else if(this._keyValueDiffer){const F=this._keyValueDiffer.diff(this._rawClass);F&&this._applyKeyValueChanges(F)}}_applyKeyValueChanges(F){F.forEachAddedItem(se=>this._toggleClass(se.key,se.currentValue)),F.forEachChangedItem(se=>this._toggleClass(se.key,se.currentValue)),F.forEachRemovedItem(se=>{se.previousValue&&this._toggleClass(se.key,!1)})}_applyIterableChanges(F){F.forEachAddedItem(se=>{if("string"!=typeof se.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(se.item)}`);this._toggleClass(se.item,!0)}),F.forEachRemovedItem(se=>this._toggleClass(se.item,!1))}_applyClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(se=>this._toggleClass(se,!0)):Object.keys(F).forEach(se=>this._toggleClass(se,!!F[se])))}_removeClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(se=>this._toggleClass(se,!1)):Object.keys(F).forEach(se=>this._toggleClass(se,!1)))}_toggleClass(F,se){(F=F.trim())&&F.split(/\s+/g).forEach(Pe=>{se?this._renderer.addClass(this._ngEl.nativeElement,Pe):this._renderer.removeClass(this._ngEl.nativeElement,Pe)})}}return V.\u0275fac=function(F){return new(F||V)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},V.\u0275dir=p.lG2({type:V,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),V})();class nr{constructor(ne,F,se,Pe){this.$implicit=ne,this.ngForOf=F,this.index=se,this.count=Pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vi=(()=>{class V{constructor(F,se,Pe){this._viewContainer=F,this._template=se,this._differs=Pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const se=this._viewContainer;F.forEachOperation((Pe,At,zt)=>{if(null==Pe.previousIndex)se.createEmbeddedView(this._template,new nr(Pe.item,this._ngForOf,-1,-1),null===zt?void 0:zt);else if(null==zt)se.remove(null===At?void 0:At);else if(null!==At){const On=se.get(At);se.move(On,zt),jr(On,Pe)}});for(let Pe=0,At=se.length;Pe<At;Pe++){const On=se.get(Pe).context;On.index=Pe,On.count=At,On.ngForOf=this._ngForOf}F.forEachIdentityChange(Pe=>{jr(se.get(Pe.currentIndex),Pe)})}static ngTemplateContextGuard(F,se){return!0}}return V.\u0275fac=function(F){return new(F||V)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},V.\u0275dir=p.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),V})();function jr(V,ne){V.context.$implicit=ne.item}let wi=(()=>{class V{constructor(F,se){this._viewContainer=F,this._context=new di,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=se}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){mn("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){mn("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,se){return!0}}return V.\u0275fac=function(F){return new(F||V)(p.Y36(p.s_b),p.Y36(p.Rgc))},V.\u0275dir=p.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V})();class di{constructor(){this.$implicit=null,this.ngIf=null}}function mn(V,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,p.AaK)(ne)}'.`)}class Jr{constructor(ne,F){this._viewContainerRef=ne,this._templateRef=F,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ne){ne&&!this._created?this.create():!ne&&this._created&&this.destroy()}}let Ft=(()=>{class V{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(F){this._ngSwitch=F,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(F){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(F)}_matchCase(F){const se=F==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||se,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),se}_updateDefaultCases(F){if(this._defaultViews&&F!==this._defaultUsed){this._defaultUsed=F;for(let se=0;se<this._defaultViews.length;se++)this._defaultViews[se].enforceState(F)}}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275dir=p.lG2({type:V,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),V})(),qi=(()=>{class V{constructor(F,se,Pe){this.ngSwitch=Pe,Pe._addCase(),this._view=new Jr(F,se)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return V.\u0275fac=function(F){return new(F||V)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(Ft,9))},V.\u0275dir=p.lG2({type:V,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),V})(),Ai=(()=>{class V{constructor(F,se,Pe){Pe._addDefault(new Jr(F,se))}}return V.\u0275fac=function(F){return new(F||V)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(Ft,9))},V.\u0275dir=p.lG2({type:V,selectors:[["","ngSwitchDefault",""]]}),V})(),ms=(()=>{class V{constructor(F,se,Pe){this._ngEl=F,this._differs=se,this._renderer=Pe,this._ngStyle=null,this._differ=null}set ngStyle(F){this._ngStyle=F,!this._differ&&F&&(this._differ=this._differs.find(F).create())}ngDoCheck(){if(this._differ){const F=this._differ.diff(this._ngStyle);F&&this._applyChanges(F)}}_setStyle(F,se){const[Pe,At]=F.split(".");null!=(se=null!=se&&At?`${se}${At}`:se)?this._renderer.setStyle(this._ngEl.nativeElement,Pe,se):this._renderer.removeStyle(this._ngEl.nativeElement,Pe)}_applyChanges(F){F.forEachRemovedItem(se=>this._setStyle(se.key,null)),F.forEachAddedItem(se=>this._setStyle(se.key,se.currentValue)),F.forEachChangedItem(se=>this._setStyle(se.key,se.currentValue))}}return V.\u0275fac=function(F){return new(F||V)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))},V.\u0275dir=p.lG2({type:V,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),V})(),Ar=(()=>{class V{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(F){if(F.ngTemplateOutlet){const se=this._viewContainerRef;this._viewRef&&se.remove(se.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?se.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return V.\u0275fac=function(F){return new(F||V)(p.Y36(p.s_b))},V.\u0275dir=p.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[p.TTD]}),V})();function Yi(V,ne){return new p.vHH(2100,"")}class Fs{createSubscription(ne,F){return ne.subscribe({next:F,error:se=>{throw se}})}dispose(ne){ne.unsubscribe()}onDestroy(ne){ne.unsubscribe()}}class st{createSubscription(ne,F){return ne.then(F,se=>{throw se})}dispose(ne){}onDestroy(ne){}}const Ke=new st,ht=new Fs;let Ht=(()=>{class V{constructor(F){this._ref=F,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,se=>this._updateLatestValue(F,se))}_selectStrategy(F){if((0,p.QGY)(F))return Ke;if((0,p.F4k)(F))return ht;throw Yi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,se){F===this._obj&&(this._latestValue=se,this._ref.markForCheck())}}return V.\u0275fac=function(F){return new(F||V)(p.Y36(p.sBO,16))},V.\u0275pipe=p.Yjl({name:"async",type:V,pure:!1}),V})();const bn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let jn=(()=>{class V{transform(F){if(null==F)return null;if("string"!=typeof F)throw Yi();return F.replace(bn,se=>se[0].toUpperCase()+se.substr(1).toLowerCase())}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275pipe=p.Yjl({name:"titlecase",type:V,pure:!0}),V})(),Zi=(()=>{class V{transform(F){if(null==F)return null;if("string"!=typeof F)throw Yi();return F.toUpperCase()}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275pipe=p.Yjl({name:"uppercase",type:V,pure:!0}),V})();const Ri=new p.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let us=(()=>{class V{constructor(F,se){this.locale=F,this.defaultTimezone=se}transform(F,se="mediumDate",Pe,At){var zt;if(null==F||""===F||F!=F)return null;try{return Re(F,se,At||this.locale,null!==(zt=null!=Pe?Pe:this.defaultTimezone)&&void 0!==zt?zt:void 0)}catch(On){throw Yi()}}}return V.\u0275fac=function(F){return new(F||V)(p.Y36(p.soG,16),p.Y36(Ri,24))},V.\u0275pipe=p.Yjl({name:"date",type:V,pure:!0}),V})(),Xr=(()=>{class V{}return V.\u0275fac=function(F){return new(F||V)},V.\u0275mod=p.oAB({type:V}),V.\u0275inj=p.cJS({}),V})();const na="browser";function Ni(V){return V===na}function xr(V){return"server"===V}let Fr=(()=>{class V{}return V.\u0275prov=(0,p.Yz7)({token:V,providedIn:"root",factory:()=>new vo((0,p.LFG)(be),window)}),V})();class vo{constructor(ne,F){this.document=ne,this.window=F,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const F=function ts(V,ne){const F=V.getElementById(ne)||V.getElementsByName(ne)[0];if(F)return F;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const se=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let Pe=se.currentNode;for(;Pe;){const At=Pe.shadowRoot;if(At){const zt=At.getElementById(ne)||At.querySelector(`[name="${ne}"]`);if(zt)return zt}Pe=se.nextNode()}}return null}(this.document,ne);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(ne){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=ne)}}scrollToElement(ne){const F=ne.getBoundingClientRect(),se=F.left+this.window.pageXOffset,Pe=F.top+this.window.pageYOffset,At=this.offset();this.window.scrollTo(se-At[0],Pe-At[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ne=Zs(this.window.history)||Zs(Object.getPrototypeOf(this.window.history));return!(!ne||!ne.writable&&!ne.set)}catch(ne){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ne){return!1}}}function Zs(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class Ui{}},520:(Jt,Ze,x)=>{x.d(Ze,{JF:()=>nn,TP:()=>sn,eN:()=>ot});var p=x(9808),d=x(5e3),W=x(9646),Ce=x(8306),ve=x(4351),ke=x(9300),be=x(4004);class ce{}class Q{}class ee{constructor(Fe){this.normalizedNames=new Map,this.lazyUpdate=null,Fe?this.lazyInit="string"==typeof Fe?()=>{this.headers=new Map,Fe.split("\n").forEach($e=>{const Ut=$e.indexOf(":");if(Ut>0){const It=$e.slice(0,Ut),Bt=It.toLowerCase(),Kt=$e.slice(Ut+1).trim();this.maybeSetNormalizedName(It,Bt),this.headers.has(Bt)?this.headers.get(Bt).push(Kt):this.headers.set(Bt,[Kt])}})}:()=>{this.headers=new Map,Object.keys(Fe).forEach($e=>{let Ut=Fe[$e];const It=$e.toLowerCase();"string"==typeof Ut&&(Ut=[Ut]),Ut.length>0&&(this.headers.set(It,Ut),this.maybeSetNormalizedName($e,It))})}:this.headers=new Map}has(Fe){return this.init(),this.headers.has(Fe.toLowerCase())}get(Fe){this.init();const $e=this.headers.get(Fe.toLowerCase());return $e&&$e.length>0?$e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Fe){return this.init(),this.headers.get(Fe.toLowerCase())||null}append(Fe,$e){return this.clone({name:Fe,value:$e,op:"a"})}set(Fe,$e){return this.clone({name:Fe,value:$e,op:"s"})}delete(Fe,$e){return this.clone({name:Fe,value:$e,op:"d"})}maybeSetNormalizedName(Fe,$e){this.normalizedNames.has($e)||this.normalizedNames.set($e,Fe)}init(){this.lazyInit&&(this.lazyInit instanceof ee?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Fe=>this.applyUpdate(Fe)),this.lazyUpdate=null))}copyFrom(Fe){Fe.init(),Array.from(Fe.headers.keys()).forEach($e=>{this.headers.set($e,Fe.headers.get($e)),this.normalizedNames.set($e,Fe.normalizedNames.get($e))})}clone(Fe){const $e=new ee;return $e.lazyInit=this.lazyInit&&this.lazyInit instanceof ee?this.lazyInit:this,$e.lazyUpdate=(this.lazyUpdate||[]).concat([Fe]),$e}applyUpdate(Fe){const $e=Fe.name.toLowerCase();switch(Fe.op){case"a":case"s":let Ut=Fe.value;if("string"==typeof Ut&&(Ut=[Ut]),0===Ut.length)return;this.maybeSetNormalizedName(Fe.name,$e);const It=("a"===Fe.op?this.headers.get($e):void 0)||[];It.push(...Ut),this.headers.set($e,It);break;case"d":const Bt=Fe.value;if(Bt){let Kt=this.headers.get($e);if(!Kt)return;Kt=Kt.filter(Re=>-1===Bt.indexOf(Re)),0===Kt.length?(this.headers.delete($e),this.normalizedNames.delete($e)):this.headers.set($e,Kt)}else this.headers.delete($e),this.normalizedNames.delete($e)}}forEach(Fe){this.init(),Array.from(this.normalizedNames.keys()).forEach($e=>Fe(this.normalizedNames.get($e),this.headers.get($e)))}}class ue{encodeKey(Fe){return ft(Fe)}encodeValue(Fe){return ft(Fe)}decodeKey(Fe){return decodeURIComponent(Fe)}decodeValue(Fe){return decodeURIComponent(Fe)}}const ct=/%(\d[a-f0-9])/gi,it={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ft(Mt){return encodeURIComponent(Mt).replace(ct,(Fe,$e)=>{var Ut;return null!==(Ut=it[$e])&&void 0!==Ut?Ut:Fe})}function ut(Mt){return`${Mt}`}class Ye{constructor(Fe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Fe.encoder||new ue,Fe.fromString){if(Fe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ne(Mt,Fe){const $e=new Map;return Mt.length>0&&Mt.replace(/^\?/,"").split("&").forEach(It=>{const Bt=It.indexOf("="),[Kt,Re]=-1==Bt?[Fe.decodeKey(It),""]:[Fe.decodeKey(It.slice(0,Bt)),Fe.decodeValue(It.slice(Bt+1))],xe=$e.get(Kt)||[];xe.push(Re),$e.set(Kt,xe)}),$e}(Fe.fromString,this.encoder)}else Fe.fromObject?(this.map=new Map,Object.keys(Fe.fromObject).forEach($e=>{const Ut=Fe.fromObject[$e];this.map.set($e,Array.isArray(Ut)?Ut:[Ut])})):this.map=null}has(Fe){return this.init(),this.map.has(Fe)}get(Fe){this.init();const $e=this.map.get(Fe);return $e?$e[0]:null}getAll(Fe){return this.init(),this.map.get(Fe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Fe,$e){return this.clone({param:Fe,value:$e,op:"a"})}appendAll(Fe){const $e=[];return Object.keys(Fe).forEach(Ut=>{const It=Fe[Ut];Array.isArray(It)?It.forEach(Bt=>{$e.push({param:Ut,value:Bt,op:"a"})}):$e.push({param:Ut,value:It,op:"a"})}),this.clone($e)}set(Fe,$e){return this.clone({param:Fe,value:$e,op:"s"})}delete(Fe,$e){return this.clone({param:Fe,value:$e,op:"d"})}toString(){return this.init(),this.keys().map(Fe=>{const $e=this.encoder.encodeKey(Fe);return this.map.get(Fe).map(Ut=>$e+"="+this.encoder.encodeValue(Ut)).join("&")}).filter(Fe=>""!==Fe).join("&")}clone(Fe){const $e=new Ye({encoder:this.encoder});return $e.cloneFrom=this.cloneFrom||this,$e.updates=(this.updates||[]).concat(Fe),$e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Fe=>this.map.set(Fe,this.cloneFrom.map.get(Fe))),this.updates.forEach(Fe=>{switch(Fe.op){case"a":case"s":const $e=("a"===Fe.op?this.map.get(Fe.param):void 0)||[];$e.push(ut(Fe.value)),this.map.set(Fe.param,$e);break;case"d":if(void 0===Fe.value){this.map.delete(Fe.param);break}{let Ut=this.map.get(Fe.param)||[];const It=Ut.indexOf(ut(Fe.value));-1!==It&&Ut.splice(It,1),Ut.length>0?this.map.set(Fe.param,Ut):this.map.delete(Fe.param)}}}),this.cloneFrom=this.updates=null)}}class Be{constructor(){this.map=new Map}set(Fe,$e){return this.map.set(Fe,$e),this}get(Fe){return this.map.has(Fe)||this.map.set(Fe,Fe.defaultValue()),this.map.get(Fe)}delete(Fe){return this.map.delete(Fe),this}has(Fe){return this.map.has(Fe)}keys(){return this.map.keys()}}function ge(Mt){return"undefined"!=typeof ArrayBuffer&&Mt instanceof ArrayBuffer}function we(Mt){return"undefined"!=typeof Blob&&Mt instanceof Blob}function et(Mt){return"undefined"!=typeof FormData&&Mt instanceof FormData}class q{constructor(Fe,$e,Ut,It){let Bt;if(this.url=$e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Fe.toUpperCase(),function yt(Mt){switch(Mt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||It?(this.body=void 0!==Ut?Ut:null,Bt=It):Bt=Ut,Bt&&(this.reportProgress=!!Bt.reportProgress,this.withCredentials=!!Bt.withCredentials,Bt.responseType&&(this.responseType=Bt.responseType),Bt.headers&&(this.headers=Bt.headers),Bt.context&&(this.context=Bt.context),Bt.params&&(this.params=Bt.params)),this.headers||(this.headers=new ee),this.context||(this.context=new Be),this.params){const Kt=this.params.toString();if(0===Kt.length)this.urlWithParams=$e;else{const Re=$e.indexOf("?");this.urlWithParams=$e+(-1===Re?"?":Re<$e.length-1?"&":"")+Kt}}else this.params=new Ye,this.urlWithParams=$e}serializeBody(){return null===this.body?null:ge(this.body)||we(this.body)||et(this.body)||function wt(Mt){return"undefined"!=typeof URLSearchParams&&Mt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||et(this.body)?null:we(this.body)?this.body.type||null:ge(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Fe={}){var $e;const Ut=Fe.method||this.method,It=Fe.url||this.url,Bt=Fe.responseType||this.responseType,Kt=void 0!==Fe.body?Fe.body:this.body,Re=void 0!==Fe.withCredentials?Fe.withCredentials:this.withCredentials,xe=void 0!==Fe.reportProgress?Fe.reportProgress:this.reportProgress;let Ee=Fe.headers||this.headers,We=Fe.params||this.params;const bt=null!==($e=Fe.context)&&void 0!==$e?$e:this.context;return void 0!==Fe.setHeaders&&(Ee=Object.keys(Fe.setHeaders).reduce((St,Tt)=>St.set(Tt,Fe.setHeaders[Tt]),Ee)),Fe.setParams&&(We=Object.keys(Fe.setParams).reduce((St,Tt)=>St.set(Tt,Fe.setParams[Tt]),We)),new q(Ut,It,Kt,{params:We,headers:Ee,context:bt,reportProgress:xe,responseType:Bt,withCredentials:Re})}}var qe=(()=>((qe=qe||{})[qe.Sent=0]="Sent",qe[qe.UploadProgress=1]="UploadProgress",qe[qe.ResponseHeader=2]="ResponseHeader",qe[qe.DownloadProgress=3]="DownloadProgress",qe[qe.Response=4]="Response",qe[qe.User=5]="User",qe))();class tt{constructor(Fe,$e=200,Ut="OK"){this.headers=Fe.headers||new ee,this.status=void 0!==Fe.status?Fe.status:$e,this.statusText=Fe.statusText||Ut,this.url=Fe.url||null,this.ok=this.status>=200&&this.status<300}}class Le extends tt{constructor(Fe={}){super(Fe),this.type=qe.ResponseHeader}clone(Fe={}){return new Le({headers:Fe.headers||this.headers,status:void 0!==Fe.status?Fe.status:this.status,statusText:Fe.statusText||this.statusText,url:Fe.url||this.url||void 0})}}class Ue extends tt{constructor(Fe={}){super(Fe),this.type=qe.Response,this.body=void 0!==Fe.body?Fe.body:null}clone(Fe={}){return new Ue({body:void 0!==Fe.body?Fe.body:this.body,headers:Fe.headers||this.headers,status:void 0!==Fe.status?Fe.status:this.status,statusText:Fe.statusText||this.statusText,url:Fe.url||this.url||void 0})}}class Xe extends tt{constructor(Fe){super(Fe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Fe.url||"(unknown url)"}`:`Http failure response for ${Fe.url||"(unknown url)"}: ${Fe.status} ${Fe.statusText}`,this.error=Fe.error||null}}function nt(Mt,Fe){return{body:Fe,headers:Mt.headers,context:Mt.context,observe:Mt.observe,params:Mt.params,reportProgress:Mt.reportProgress,responseType:Mt.responseType,withCredentials:Mt.withCredentials}}let ot=(()=>{class Mt{constructor($e){this.handler=$e}request($e,Ut,It={}){let Bt;if($e instanceof q)Bt=$e;else{let xe,Ee;xe=It.headers instanceof ee?It.headers:new ee(It.headers),It.params&&(Ee=It.params instanceof Ye?It.params:new Ye({fromObject:It.params})),Bt=new q($e,Ut,void 0!==It.body?It.body:null,{headers:xe,context:It.context,params:Ee,reportProgress:It.reportProgress,responseType:It.responseType||"json",withCredentials:It.withCredentials})}const Kt=(0,W.of)(Bt).pipe((0,ve.b)(xe=>this.handler.handle(xe)));if($e instanceof q||"events"===It.observe)return Kt;const Re=Kt.pipe((0,ke.h)(xe=>xe instanceof Ue));switch(It.observe||"body"){case"body":switch(Bt.responseType){case"arraybuffer":return Re.pipe((0,be.U)(xe=>{if(null!==xe.body&&!(xe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return xe.body}));case"blob":return Re.pipe((0,be.U)(xe=>{if(null!==xe.body&&!(xe.body instanceof Blob))throw new Error("Response is not a Blob.");return xe.body}));case"text":return Re.pipe((0,be.U)(xe=>{if(null!==xe.body&&"string"!=typeof xe.body)throw new Error("Response is not a string.");return xe.body}));default:return Re.pipe((0,be.U)(xe=>xe.body))}case"response":return Re;default:throw new Error(`Unreachable: unhandled observe type ${It.observe}}`)}}delete($e,Ut={}){return this.request("DELETE",$e,Ut)}get($e,Ut={}){return this.request("GET",$e,Ut)}head($e,Ut={}){return this.request("HEAD",$e,Ut)}jsonp($e,Ut){return this.request("JSONP",$e,{params:(new Ye).append(Ut,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options($e,Ut={}){return this.request("OPTIONS",$e,Ut)}patch($e,Ut,It={}){return this.request("PATCH",$e,nt(It,Ut))}post($e,Ut,It={}){return this.request("POST",$e,nt(It,Ut))}put($e,Ut,It={}){return this.request("PUT",$e,nt(It,Ut))}}return Mt.\u0275fac=function($e){return new($e||Mt)(d.LFG(ce))},Mt.\u0275prov=d.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})();class xt{constructor(Fe,$e){this.next=Fe,this.interceptor=$e}handle(Fe){return this.interceptor.intercept(Fe,this.next)}}const sn=new d.OlP("HTTP_INTERCEPTORS");let gt=(()=>{class Mt{intercept($e,Ut){return Ut.handle($e)}}return Mt.\u0275fac=function($e){return new($e||Mt)},Mt.\u0275prov=d.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})();const An=/^\)\]\}',?\n/;let Xn=(()=>{class Mt{constructor($e){this.xhrFactory=$e}handle($e){if("JSONP"===$e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ce.y(Ut=>{const It=this.xhrFactory.build();if(It.open($e.method,$e.urlWithParams),$e.withCredentials&&(It.withCredentials=!0),$e.headers.forEach((Tt,vn)=>It.setRequestHeader(Tt,vn.join(","))),$e.headers.has("Accept")||It.setRequestHeader("Accept","application/json, text/plain, */*"),!$e.headers.has("Content-Type")){const Tt=$e.detectContentTypeHeader();null!==Tt&&It.setRequestHeader("Content-Type",Tt)}if($e.responseType){const Tt=$e.responseType.toLowerCase();It.responseType="json"!==Tt?Tt:"text"}const Bt=$e.serializeBody();let Kt=null;const Re=()=>{if(null!==Kt)return Kt;const Tt=It.statusText||"OK",vn=new ee(It.getAllResponseHeaders()),wn=function zn(Mt){return"responseURL"in Mt&&Mt.responseURL?Mt.responseURL:/^X-Request-URL:/m.test(Mt.getAllResponseHeaders())?Mt.getResponseHeader("X-Request-URL"):null}(It)||$e.url;return Kt=new Le({headers:vn,status:It.status,statusText:Tt,url:wn}),Kt},xe=()=>{let{headers:Tt,status:vn,statusText:wn,url:pn}=Re(),z=null;204!==vn&&(z=void 0===It.response?It.responseText:It.response),0===vn&&(vn=z?200:0);let he=vn>=200&&vn<300;if("json"===$e.responseType&&"string"==typeof z){const _e=z;z=z.replace(An,"");try{z=""!==z?JSON.parse(z):null}catch(Ve){z=_e,he&&(he=!1,z={error:Ve,text:z})}}he?(Ut.next(new Ue({body:z,headers:Tt,status:vn,statusText:wn,url:pn||void 0})),Ut.complete()):Ut.error(new Xe({error:z,headers:Tt,status:vn,statusText:wn,url:pn||void 0}))},Ee=Tt=>{const{url:vn}=Re(),wn=new Xe({error:Tt,status:It.status||0,statusText:It.statusText||"Unknown Error",url:vn||void 0});Ut.error(wn)};let We=!1;const bt=Tt=>{We||(Ut.next(Re()),We=!0);let vn={type:qe.DownloadProgress,loaded:Tt.loaded};Tt.lengthComputable&&(vn.total=Tt.total),"text"===$e.responseType&&!!It.responseText&&(vn.partialText=It.responseText),Ut.next(vn)},St=Tt=>{let vn={type:qe.UploadProgress,loaded:Tt.loaded};Tt.lengthComputable&&(vn.total=Tt.total),Ut.next(vn)};return It.addEventListener("load",xe),It.addEventListener("error",Ee),It.addEventListener("timeout",Ee),It.addEventListener("abort",Ee),$e.reportProgress&&(It.addEventListener("progress",bt),null!==Bt&&It.upload&&It.upload.addEventListener("progress",St)),It.send(Bt),Ut.next({type:qe.Sent}),()=>{It.removeEventListener("error",Ee),It.removeEventListener("abort",Ee),It.removeEventListener("load",xe),It.removeEventListener("timeout",Ee),$e.reportProgress&&(It.removeEventListener("progress",bt),null!==Bt&&It.upload&&It.upload.removeEventListener("progress",St)),It.readyState!==It.DONE&&It.abort()}})}}return Mt.\u0275fac=function($e){return new($e||Mt)(d.LFG(p.JF))},Mt.\u0275prov=d.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})();const Hn=new d.OlP("XSRF_COOKIE_NAME"),vi=new d.OlP("XSRF_HEADER_NAME");class Kn{}let xi=(()=>{class Mt{constructor($e,Ut,It){this.doc=$e,this.platform=Ut,this.cookieName=It,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const $e=this.doc.cookie||"";return $e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)($e,this.cookieName),this.lastCookieString=$e),this.lastToken}}return Mt.\u0275fac=function($e){return new($e||Mt)(d.LFG(p.K0),d.LFG(d.Lbi),d.LFG(Hn))},Mt.\u0275prov=d.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})(),Mn=(()=>{class Mt{constructor($e,Ut){this.tokenService=$e,this.headerName=Ut}intercept($e,Ut){const It=$e.url.toLowerCase();if("GET"===$e.method||"HEAD"===$e.method||It.startsWith("http://")||It.startsWith("https://"))return Ut.handle($e);const Bt=this.tokenService.getToken();return null!==Bt&&!$e.headers.has(this.headerName)&&($e=$e.clone({headers:$e.headers.set(this.headerName,Bt)})),Ut.handle($e)}}return Mt.\u0275fac=function($e){return new($e||Mt)(d.LFG(Kn),d.LFG(vi))},Mt.\u0275prov=d.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})(),ci=(()=>{class Mt{constructor($e,Ut){this.backend=$e,this.injector=Ut,this.chain=null}handle($e){if(null===this.chain){const Ut=this.injector.get(sn,[]);this.chain=Ut.reduceRight((It,Bt)=>new xt(It,Bt),this.backend)}return this.chain.handle($e)}}return Mt.\u0275fac=function($e){return new($e||Mt)(d.LFG(Q),d.LFG(d.zs3))},Mt.\u0275prov=d.Yz7({token:Mt,factory:Mt.\u0275fac}),Mt})(),qn=(()=>{class Mt{static disable(){return{ngModule:Mt,providers:[{provide:Mn,useClass:gt}]}}static withOptions($e={}){return{ngModule:Mt,providers:[$e.cookieName?{provide:Hn,useValue:$e.cookieName}:[],$e.headerName?{provide:vi,useValue:$e.headerName}:[]]}}}return Mt.\u0275fac=function($e){return new($e||Mt)},Mt.\u0275mod=d.oAB({type:Mt}),Mt.\u0275inj=d.cJS({providers:[Mn,{provide:sn,useExisting:Mn,multi:!0},{provide:Kn,useClass:xi},{provide:Hn,useValue:"XSRF-TOKEN"},{provide:vi,useValue:"X-XSRF-TOKEN"}]}),Mt})(),nn=(()=>{class Mt{}return Mt.\u0275fac=function($e){return new($e||Mt)},Mt.\u0275mod=d.oAB({type:Mt}),Mt.\u0275inj=d.cJS({providers:[ot,{provide:ce,useClass:ci},Xn,{provide:Q,useExisting:Xn}],imports:[[qn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Mt})()},5e3:(Jt,Ze,x)=>{x.d(Ze,{$8M:()=>Co,$Z:()=>Ep,AFp:()=>R0,ALo:()=>e0,AaK:()=>ce,Akn:()=>Po,AsE:()=>cu,BQk:()=>xc,CHM:()=>hl,CRH:()=>d0,CZH:()=>mv,CqO:()=>Tp,DdM:()=>z_,EJc:()=>yw,EiD:()=>Dl,EpF:()=>Xu,F$t:()=>Ip,F4k:()=>rd,FYo:()=>L_,FiY:()=>ho,G48:()=>Bw,Gf:()=>u0,GfV:()=>F_,GkF:()=>Cp,Gpc:()=>ue,Gre:()=>zy,Hsn:()=>Ap,JOm:()=>Rn,JVY:()=>Kl,Jf7:()=>sr,L6J:()=>fw,L6k:()=>Lc,LAX:()=>ql,LFG:()=>an,LSH:()=>Al,Lbi:()=>pw,MAs:()=>$g,NdJ:()=>zd,O4$:()=>ja,OlP:()=>Tr,Oqu:()=>Up,PXZ:()=>Pw,Q6J:()=>au,QGY:()=>id,Qsj:()=>fE,R0b:()=>Ru,RDi:()=>Zs,Rgc:()=>qp,SBq:()=>zp,Sil:()=>_w,Suo:()=>c0,TTD:()=>Ps,TgZ:()=>uu,Tol:()=>ld,Udp:()=>ad,VKq:()=>W_,VLi:()=>xw,W1O:()=>g0,WLB:()=>Z_,X6Q:()=>Uw,XFs:()=>un,Xpm:()=>vt,Y36:()=>$d,YKP:()=>H_,YNc:()=>jg,Yjl:()=>ie,Yz7:()=>Nt,ZZ4:()=>Ov,_Bn:()=>R_,_UZ:()=>wp,_Vd:()=>Dm,_c5:()=>nC,_uU:()=>Gy,aQg:()=>Mv,c2e:()=>gw,cJS:()=>gn,cg1:()=>Zy,d8E:()=>Wy,dDg:()=>U0,deG:()=>oa,dqk:()=>Ee,eBb:()=>ln,eFA:()=>j0,ekj:()=>Lp,g9A:()=>k0,gxx:()=>Jc,h0i:()=>ef,hGG:()=>iC,hYB:()=>Sp,hij:()=>Xd,iGM:()=>l0,ifc:()=>It,ip1:()=>P0,kEZ:()=>K_,kL8:()=>o_,kYT:()=>J,kcU:()=>$i,lG2:()=>X,lcZ:()=>t0,lnq:()=>Bp,mCW:()=>yu,n5z:()=>Ys,oAB:()=>ye,oJD:()=>Uc,oxw:()=>Dp,pB0:()=>Fc,pfw:()=>hw,q3G:()=>Fn,q4F:()=>V_,qLn:()=>_n,qOj:()=>op,qZA:()=>Sc,qzn:()=>fo,s9C:()=>Zd,sBO:()=>Hw,sIi:()=>Fd,s_b:()=>Sm,soG:()=>vv,tBr:()=>Io,tb:()=>L0,tp0:()=>ka,uIk:()=>zi,vHH:()=>ft,vpe:()=>ec,wAp:()=>ui,xp6:()=>_f,yhl:()=>Uu,ynx:()=>Gd,z2F:()=>Tv,z3N:()=>Qo,zSh:()=>Md,zs3:()=>ru});var p=x(7579),d=x(727),W=x(8306),Ce=x(6451),ve=x(3099);function ke(n){for(let i in n)if(n[i]===ke)return i;throw Error("Could not find renamed property on target object.")}function be(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Q(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ee=ke({__forward_ref__:ke});function ue(n){return n.__forward_ref__=ue,n.toString=function(){return ce(this())},n}function Ne(n){return ct(n)?n():n}function ct(n){return"function"==typeof n&&n.hasOwnProperty(ee)&&n.__forward_ref__===ue}class ft extends Error{constructor(i,s){super(function ut(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function Ye(n){return"string"==typeof n?n:null==n?"":String(n)}function lt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ye(n)}function we(n,i){const s=i?` in ${i}`:"";throw new ft(-201,`No provider for ${lt(n)} found${s}`)}function pt(n,i){null==n&&function K(n,i,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function Nt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gn(n){return{providers:n.providers||[],imports:n.imports||[]}}function An(n){return zn(n,Kn)||zn(n,Mn)}function zn(n,i){return n.hasOwnProperty(i)?n[i]:null}function vi(n){return n&&(n.hasOwnProperty(xi)||n.hasOwnProperty(ci))?n[xi]:null}const Kn=ke({\u0275prov:ke}),xi=ke({\u0275inj:ke}),Mn=ke({ngInjectableDef:ke}),ci=ke({ngInjectorDef:ke});var un=(()=>((un=un||{})[un.Default=0]="Default",un[un.Host=1]="Host",un[un.Self=2]="Self",un[un.SkipSelf=4]="SkipSelf",un[un.Optional=8]="Optional",un))();let Pi;function nn(n){const i=Pi;return Pi=n,i}function Li(n,i,s){const l=An(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&un.Optional?null:void 0!==i?i:void we(ce(n),"Injector")}function Mt(n){return{toString:n}.toString()}var Fe=(()=>((Fe=Fe||{})[Fe.OnPush=0]="OnPush",Fe[Fe.Default=1]="Default",Fe))(),It=(()=>{return(n=It||(It={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",It;var n})();const Bt="undefined"!=typeof globalThis&&globalThis,Kt="undefined"!=typeof window&&window,Re="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ee=Bt||"undefined"!=typeof global&&global||Kt||Re,St={},Tt=[],vn=ke({\u0275cmp:ke}),wn=ke({\u0275dir:ke}),pn=ke({\u0275pipe:ke}),z=ke({\u0275mod:ke}),he=ke({\u0275fac:ke}),_e=ke({__NG_ELEMENT_ID__:ke});let Ve=0;function vt(n){return Mt(()=>{const s={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Fe.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Tt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||It.Emulated,id:"c",styles:n.styles||Tt,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.directives,m=n.features,E=n.pipes;return l.id+=Ve++,l.inputs=$(n.inputs,s),l.outputs=$(n.outputs),m&&m.forEach(I=>I(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(de):null,l.pipeDefs=E?()=>("function"==typeof E?E():E).map(fe):null,l})}function de(n){return Se(n)||function Je(n){return n[wn]||null}(n)}function fe(n){return function Lt(n){return n[pn]||null}(n)}const Oe={};function ye(n){return Mt(()=>{const i={type:n.type,bootstrap:n.bootstrap||Tt,declarations:n.declarations||Tt,imports:n.imports||Tt,exports:n.exports||Tt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Oe[n.id]=n.type),i})}function J(n,i){return Mt(()=>{const s=Vt(n,!0);s.declarations=i.declarations||Tt,s.imports=i.imports||Tt,s.exports=i.exports||Tt})}function $(n,i){if(null==n)return St;const s={};for(const l in n)if(n.hasOwnProperty(l)){let h=n[l],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),s[h]=l,i&&(i[h]=m)}return s}const X=vt;function ie(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Se(n){return n[vn]||null}function Vt(n,i){const s=n[z]||null;if(!s&&!0===i)throw new Error(`Type ${ce(n)} does not have '\u0275mod' property.`);return s}function Ft(n){return Array.isArray(n)&&"object"==typeof n[1]}function qi(n){return Array.isArray(n)&&!0===n[1]}function Ai(n){return 0!=(8&n.flags)}function as(n){return 2==(2&n.flags)}function ls(n){return 1==(1&n.flags)}function ar(n){return null!==n.template}function ms(n){return 0!=(512&n[2])}function Un(n,i){return n.hasOwnProperty(he)?n[he]:null}class Cs{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ps(){return Ts}function Ts(n){return n.type.prototype.ngOnChanges&&(n.setInput=ko),Ha}function Ha(){const n=na(this),i=null==n?void 0:n.current;if(i){const s=n.previous;if(s===St)n.previous=i;else for(let l in i)s[l]=i[l];n.current=null,this.ngOnChanges(i)}}function ko(n,i,s,l){const h=na(n)||function zr(n,i){return n[Xr]=i}(n,{previous:St,current:null}),m=h.current||(h.current={}),E=h.previous,I=this.declaredInputs[s],P=E[I];m[I]=new Cs(P&&P.currentValue,i,E===St),n[l]=i}Ps.ngInherit=!0;const Xr="__ngSimpleChanges__";function na(n){return n[Xr]||null}let vo;function Zs(n){vo=n}function ts(){return void 0!==vo?vo:"undefined"!=typeof document?document:void 0}function Ui(n){return!!n.listen}const V={createRenderer:(n,i)=>ts()};function F(n){for(;Array.isArray(n);)n=n[0];return n}function At(n,i){return F(i[n])}function zt(n,i){return F(i[n.index])}function $n(n,i){return n.data[i]}function yi(n,i){return n[i]}function ei(n,i){const s=i[n];return Ft(s)?s:s[0]}function hi(n){return 4==(4&n[2])}function Qi(n){return 128==(128&n[2])}function Fi(n,i){return null==i?null:n[i]}function H(n){n[18]=0}function N(n,i){n[5]+=i;let s=n,l=n[3];for(;null!==l&&(1===i&&1===s[5]||-1===i&&0===s[5]);)l[5]+=i,s=l,l=l[3]}const M={lFrame:Uo(null),bindingsEnabled:!0};function hs(){return M.bindingsEnabled}function Wt(){return M.lFrame.lView}function bi(){return M.lFrame.tView}function hl(n){return M.lFrame.contextLView=n,n[8]}function lr(){let n=ba();for(;null!==n&&64===n.type;)n=n.parent;return n}function ba(){return M.lFrame.currentTNode}function Us(n,i){const s=M.lFrame;s.currentTNode=n,s.isParent=i}function Ea(){return M.lFrame.isParent}function wa(){M.lFrame.isParent=!1}function Wr(){const n=M.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function io(){return M.lFrame.bindingIndex}function bo(){return M.lFrame.bindingIndex++}function ys(n){const i=M.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function Ca(n,i){const s=M.lFrame;s.bindingIndex=s.bindingRootIndex=n,Ta(i)}function Ta(n){M.lFrame.currentDirectiveIndex=n}function Or(n){const i=M.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function tl(){return M.lFrame.currentQueryIndex}function Da(n){M.lFrame.currentQueryIndex=n}function wo(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function Zr(n,i,s){if(s&un.SkipSelf){let h=i,m=n;for(;!(h=h.parent,null!==h||s&un.Host||(h=wo(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;i=h,n=m}const l=M.lFrame=ra();return l.currentTNode=i,l.lView=n,!0}function ro(n){const i=ra(),s=n[1];M.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function ra(){const n=M.lFrame,i=null===n?null:n.child;return null===i?Uo(n):i}function Uo(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Bo(){const n=M.lFrame;return M.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ia=Bo;function so(){const n=Bo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function fs(){return M.lFrame.selectedIndex}function Aa(n){M.lFrame.selectedIndex=n}function ir(){const n=M.lFrame;return $n(n.tView,n.selectedIndex)}function ja(){M.lFrame.currentNamespace="svg"}function $i(){!function Ho(){M.lFrame.currentNamespace=null}()}function ps(n,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const m=n.data[s].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:I,ngAfterViewInit:P,ngAfterViewChecked:G,ngOnDestroy:te}=m;E&&(n.contentHooks||(n.contentHooks=[])).push(-s,E),I&&((n.contentHooks||(n.contentHooks=[])).push(s,I),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,I)),P&&(n.viewHooks||(n.viewHooks=[])).push(-s,P),G&&((n.viewHooks||(n.viewHooks=[])).push(s,G),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,G)),null!=te&&(n.destroyHooks||(n.destroyHooks=[])).push(s,te)}}function Qt(n,i,s){Hs(n,i,3,s)}function Ji(n,i,s,l){(3&n[2])===s&&Hs(n,i,s,l)}function Xi(n,i){let s=n[2];(3&s)===i&&(s&=2047,s+=1,n[2]=s)}function Hs(n,i,s,l){const m=null!=l?l:-1,E=i.length-1;let I=0;for(let P=void 0!==l?65535&n[18]:0;P<E;P++)if("number"==typeof i[P+1]){if(I=i[P],null!=l&&I>=l)break}else i[P]<0&&(n[18]+=65536),(I<m||-1==m)&&(xn(n,s,i,P),n[18]=(4294901760&n[18])+P+2),P++}function xn(n,i,s,l){const h=s[l]<0,m=s[l+1],I=n[h?-s[l]:s[l]];if(h){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{m.call(I)}finally{}}}else try{m.call(I)}finally{}}class jo{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function yl(n,i,s){const l=Ui(n);let h=0;for(;h<s.length;){const m=s[h];if("number"==typeof m){if(0!==m)break;h++;const E=s[h++],I=s[h++],P=s[h++];l?n.setAttribute(i,I,P,E):i.setAttributeNS(E,I,P)}else{const E=m,I=s[++h];xa(E)?l&&n.setProperty(i,E,I):l?n.setAttribute(i,E,I):i.setAttribute(E,I),h++}}return h}function Sa(n){return 3===n||4===n||6===n}function xa(n){return 64===n.charCodeAt(0)}function $o(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const h=i[l];"number"==typeof h?s=h:0===s||Go(n,s,h,null,-1===s||2===s?i[++l]:null)}}return n}function Go(n,i,s,l,h){let m=0,E=n.length;if(-1===i)E=-1;else for(;m<n.length;){const I=n[m++];if("number"==typeof I){if(I===i){E=-1;break}if(I>i){E=m-1;break}}}for(;m<n.length;){const I=n[m];if("number"==typeof I)break;if(I===s){if(null===l)return void(null!==h&&(n[m+1]=h));if(l===n[m+1])return void(n[m+2]=h)}m++,null!==l&&m++,null!==h&&m++}-1!==E&&(n.splice(E,0,i),m=E+1),n.splice(m++,0,s),null!==l&&n.splice(m++,0,l),null!==h&&n.splice(m++,0,h)}function Fl(n){return-1!==n}function Gi(n){return 32767&n}function vs(n,i){let s=function ti(n){return n>>16}(n),l=i;for(;s>0;)l=l[15],s--;return l}let Oa=!0;function ai(n){const i=Oa;return Oa=n,i}let w=0;function L(n,i){const s=Me(n,i);if(-1!==s)return s;const l=i[1];l.firstCreatePass&&(n.injectorIndex=i.length,le(l.data,n),le(i,null),le(l.blueprint,null));const h=He(n,i),m=n.injectorIndex;if(Fl(h)){const E=Gi(h),I=vs(h,i),P=I[1].data;for(let G=0;G<8;G++)i[m+G]=I[E+G]|P[E+G]}return i[m+8]=h,m}function le(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Me(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function He(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,h=i;for(;null!==h;){const m=h[1],E=m.type;if(l=2===E?m.declTNode:1===E?h[6]:null,null===l)return-1;if(s++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function kt(n,i,s){!function k(n,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(_e)&&(l=s[_e]),null==l&&(l=s[_e]=w++);const h=255&l;i.data[n+(h>>5)]|=1<<h}(n,i,s)}function fi(n,i,s){if(s&un.Optional)return n;we(i,"NodeInjector")}function Pn(n,i,s,l){if(s&un.Optional&&void 0===l&&(l=null),0==(s&(un.Self|un.Host))){const h=n[9],m=nn(void 0);try{return h?h.get(i,l,s&un.Optional):Li(i,l,s&un.Optional)}finally{nn(m)}}return fi(l,i,s)}function Ci(n,i,s,l=un.Default,h){if(null!==n){const m=function js(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(_e)?n[_e]:void 0;return"number"==typeof i?i>=0?255&i:ur:i}(s);if("function"==typeof m){if(!Zr(i,n,l))return l&un.Host?fi(h,s,l):Pn(i,s,l,h);try{const E=m(l);if(null!=E||l&un.Optional)return E;we(s)}finally{Ia()}}else if("number"==typeof m){let E=null,I=Me(n,i),P=-1,G=l&un.Host?i[16][6]:null;for((-1===I||l&un.SkipSelf)&&(P=-1===I?He(n,i):i[I+8],-1!==P&&Et(l,!1)?(E=i[1],I=Gi(P),i=vs(P,i)):I=-1);-1!==I;){const te=i[1];if(Ma(m,I,te.data)){const Ie=uo(I,i,s,E,l,G);if(Ie!==Oi)return Ie}P=i[I+8],-1!==P&&Et(l,i[1].data[I+8]===G)&&Ma(m,I,i)?(E=te,I=Gi(P),i=vs(P,i)):I=-1}}}return Pn(i,s,l,h)}const Oi={};function ur(){return new is(lr(),Wt())}function uo(n,i,s,l,h,m){const E=i[1],I=E.data[n+8],te=zo(I,E,s,null==l?as(I)&&Oa:l!=E&&0!=(3&I.type),h&un.Host&&m===I);return null!==te?qs(i,E,te,I):Oi}function zo(n,i,s,l,h){const m=n.providerIndexes,E=i.data,I=1048575&m,P=n.directiveStart,te=m>>20,ze=h?I+te:n.directiveEnd;for(let dt=l?I:I+te;dt<ze;dt++){const Zt=E[dt];if(dt<P&&s===Zt||dt>=P&&Zt.type===s)return dt}if(h){const dt=E[P];if(dt&&ar(dt)&&dt.type===s)return P}return null}function qs(n,i,s,l){let h=n[s];const m=i.data;if(function hn(n){return n instanceof jo}(h)){const E=h;E.resolving&&function Be(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new ft(-200,`Circular dependency in DI detected for ${n}${s}`)}(lt(m[s]));const I=ai(E.canSeeViewProviders);E.resolving=!0;const P=E.injectImpl?nn(E.injectImpl):null;Zr(n,l,un.Default);try{h=n[s]=E.factory(void 0,m,n,l),i.firstCreatePass&&s>=l.directiveStart&&function ao(n,i,s){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:m}=i.type.prototype;if(l){const E=Ts(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,E),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,E)}h&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,h),m&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m))}(s,m[s],i)}finally{null!==P&&nn(P),ai(I),E.resolving=!1,Ia()}}return h}function Ma(n,i,s){return!!(s[i+(n>>5)]&1<<n)}function Et(n,i){return!(n&un.Self||n&un.Host&&i)}class is{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return Ci(this._tNode,this._lView,i,l,s)}}function Ys(n){return Mt(()=>{const i=n.prototype.constructor,s=i[he]||Pa(i),l=Object.prototype;let h=Object.getPrototypeOf(n.prototype).constructor;for(;h&&h!==l;){const m=h[he]||Pa(h);if(m&&m!==s)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Pa(n){return ct(n)?()=>{const i=Pa(Ne(n));return i&&i()}:Un(n)}function Co(n){return function Tn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const l=s.length;let h=0;for(;h<l;){const m=s[h];if(Sa(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<l&&"string"==typeof s[h];)h++;else{if(m===i)return s[h+1];h+=2}}}return null}(lr(),n)}const sa="__parameters__",mr="__prop__metadata__";function Vl(n){return function(...s){if(n){const l=n(...s);for(const h in l)this[h]=l[h]}}}function il(n,i,s){return Mt(()=>{const l=Vl(i);function h(...m){if(this instanceof h)return l.apply(this,m),this;const E=new h(...m);return I.annotation=E,I;function I(P,G,te){const Ie=P.hasOwnProperty(sa)?P[sa]:Object.defineProperty(P,sa,{value:[]})[sa];for(;Ie.length<=te;)Ie.push(null);return(Ie[te]=Ie[te]||[]).push(E),P}}return s&&(h.prototype=Object.create(s.prototype)),h.prototype.ngMetadataName=n,h.annotationCls=h,h})}function Ul(n,i,s,l){return Mt(()=>{const h=Vl(i);function m(...E){if(this instanceof m)return h.apply(this,E),this;const I=new m(...E);return function P(G,te){const Ie=G.constructor,ze=Ie.hasOwnProperty(mr)?Ie[mr]:Object.defineProperty(Ie,mr,{value:{}})[mr];ze[te]=ze.hasOwnProperty(te)&&ze[te]||[],ze[te].unshift(I),l&&l(G,te,...E)}}return s&&(m.prototype=Object.create(s.prototype)),m.prototype.ngMetadataName=n,m.annotationCls=m,m})}class Tr{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Nt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const oa=new Tr("AnalyzeForEntryComponents");function Mr(n,i){void 0===i&&(i=n);for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?(i===n&&(i=n.slice(0,s)),Mr(l,i)):i!==n&&i.push(l)}return i}function As(n,i){n.forEach(s=>Array.isArray(s)?As(s,i):i(s))}function Bl(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function Zo(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Wa(n,i){const s=[];for(let l=0;l<n;l++)s.push(i);return s}function qr(n,i,s){let l=Do(n,i);return l>=0?n[1|l]=s:(l=~l,function Za(n,i,s,l){let h=n.length;if(h==i)n.push(s,l);else if(1===h)n.push(l,n[0]),n[0]=s;else{for(h--,n.push(n[h-1],n[h]);h>i;)n[h]=n[h-2],h--;n[i]=s,n[i+1]=l}}(n,l,i,s)),l}function To(n,i){const s=Do(n,i);if(s>=0)return n[1|s]}function Do(n,i){return function fu(n,i,s){let l=0,h=n.length>>s;for(;h!==l;){const m=l+(h-l>>1),E=n[m<<s];if(i===E)return m<<s;E>i?h=m:l=m+1}return~(h<<s)}(n,i,1)}const ha={},Ka="__NG_DI_FLAG__",$l="ngTempTokenPath",R=/\n/gm,ae="__source",De=ke({provide:String,useValue:ke});let rt;function mt(n){const i=rt;return rt=n,i}function qt(n,i=un.Default){if(void 0===rt)throw new ft(203,"");return null===rt?Li(n,void 0,i):rt.get(n,i&un.Optional?null:void 0,i)}function an(n,i=un.Default){return(function qn(){return Pi}()||qt)(Ne(n),i)}const ri=an;function si(n){const i=[];for(let s=0;s<n.length;s++){const l=Ne(n[s]);if(Array.isArray(l)){if(0===l.length)throw new ft(900,"");let h,m=un.Default;for(let E=0;E<l.length;E++){const I=l[E],P=Rr(I);"number"==typeof P?-1===P?h=I.token:m|=P:h=I}i.push(an(h,m))}else i.push(an(l))}return i}function Bn(n,i){return n[Ka]=i,n.prototype[Ka]=i,n}function Rr(n){return n[Ka]}const Io=Bn(il("Inject",n=>({token:n})),-1),ho=Bn(il("Optional"),8),ka=Bn(il("SkipSelf"),4);let wl,qa;function zl(n){var i;return(null===(i=function Cl(){if(void 0===wl&&(wl=null,Ee.trustedTypes))try{wl=Ee.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return wl}())||void 0===i?void 0:i.createHTML(n))||n}function rc(n){var i;return(null===(i=function pa(){if(void 0===qa&&(qa=null,Ee.trustedTypes))try{qa=Ee.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return qa}())||void 0===i?void 0:i.createHTML(n))||n}class Yo{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class So extends Yo{getTypeName(){return"HTML"}}class oc extends Yo{getTypeName(){return"Style"}}class kc extends Yo{getTypeName(){return"Script"}}class Zl extends Yo{getTypeName(){return"URL"}}class ga extends Yo{getTypeName(){return"ResourceURL"}}function Qo(n){return n instanceof Yo?n.changingThisBreaksApplicationSecurity:n}function fo(n,i){const s=Uu(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function Uu(n){return n instanceof Yo&&n.getTypeName()||null}function Kl(n){return new So(n)}function Lc(n){return new oc(n)}function ln(n){return new kc(n)}function ql(n){return new Zl(n)}function Fc(n){return new ga(n)}class Nr{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(zl(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Yl{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const l=this.inertDocument.createElement("body");s.appendChild(l)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=zl(i),s;const l=this.inertDocument.createElement("body");return l.innerHTML=zl(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const s=i.attributes;for(let h=s.length-1;0<h;h--){const E=s.item(h).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&i.removeAttribute(E)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const lc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,al=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function yu(n){return(n=String(n)).match(lc)||n.match(al)?n:"unsafe:"+n}function T(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function y(...n){const i={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const v=T("area,br,col,hr,img,wbr"),A=T("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Y=T("rp,rt"),cn=y(v,y(A,T("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),y(Y,T("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),y(Y,A)),dn=T("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),li=T("srcset"),Ya=y(dn,li,T("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),T("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bs=T("script,style,template");class ll{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let h=this.checkClobberedElement(s,s.nextSibling);if(h){s=h;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!cn.hasOwnProperty(s))return this.sanitizedSomething=!0,!bs.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let h=0;h<l.length;h++){const m=l.item(h),E=m.name,I=E.toLowerCase();if(!Ya.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let P=m.value;dn[I]&&(P=yu(P)),li[I]&&(n=P,P=(n=String(n)).split(",").map(i=>yu(i.trim())).join(", ")),this.buf.push(" ",E,'="',Ss(P),'"')}var n;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();cn.hasOwnProperty(s)&&!v.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Ss(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const xo=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vu=/([^\#-~ |!])/g;function Ss(n){return n.replace(/&/g,"&amp;").replace(xo,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(vu,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tl;function Dl(n,i){let s=null;try{Tl=Tl||function ac(n){const i=new Yl(n);return function mu(){try{return!!(new window.DOMParser).parseFromString(zl(""),"text/html")}catch(n){return!1}}()?new Nr(i):i}(n);let l=i?String(i):"";s=Tl.getInertBodyElement(l);let h=5,m=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=m,m=s.innerHTML,s=Tl.getInertBodyElement(l)}while(l!==m);return zl((new ll).sanitizeChildren(Hu(s)||s))}finally{if(s){const l=Hu(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Hu(n){return"content"in n&&function uc(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function Uc(n){const i=ju();return i?rc(i.sanitize(Fn.HTML,n)||""):fo(n,"HTML")?rc(Qo(n)):Dl(ts(),Ye(n))}function Al(n){const i=ju();return i?i.sanitize(Fn.URL,n)||"":fo(n,"URL")?Qo(n):yu(Ye(n))}function ju(){const n=Wt();return n&&n[12]}const dd="__ngContext__";function po(n,i){n[dd]=i}function cc(n){const i=function rs(n){return n[dd]||null}(n);return i?Array.isArray(i)?i:i.lView:null}function Qe(n){return n.ngOriginalError}function Xt(n,...i){n.error(...i)}class _n{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),l=function Ct(n){return n&&n.ngErrorLogger||Xt}(i);l(this._console,"ERROR",i),s&&l(this._console,"ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Qe(i);for(;s&&Qe(s);)s=Qe(s);return s||null}}const ma=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ee))();function sr(n){return n.ownerDocument.defaultView}function Va(n){return n instanceof Function?n():n}var Rn=(()=>((Rn=Rn||{})[Rn.Important=1]="Important",Rn[Rn.DashCase=2]="DashCase",Rn))();function oi(n,i){return undefined(n,i)}function Jo(n){const i=n[3];return qi(i)?i[3]:i}function Ur(n){return uh(n[13])}function jc(n){return uh(n[4])}function uh(n){for(;null!==n&&!qi(n);)n=n[4];return n}function Ua(n,i,s,l,h){if(null!=l){let m,E=!1;qi(l)?m=l:Ft(l)&&(E=!0,l=l[0]);const I=F(l);0===n&&null!==s?null==h?cf(i,s,I):Ol(i,s,I,h||null,!0):1===n&&null!==s?Ol(i,s,I,h||null,!0):2===n?function eg(n,i,s){const l=fd(n,i);l&&function df(n,i,s,l){Ui(n)?n.removeChild(i,s,l):i.removeChild(s)}(n,l,i,s)}(i,I,E):3===n&&i.destroyNode(I),null!=m&&function tg(n,i,s,l,h){const m=s[7];m!==F(s)&&Ua(i,n,l,m,h);for(let I=10;I<s.length;I++){const P=s[I];Tu(P[1],P,n,i,l,m)}}(i,n,m,s,h)}}function ch(n,i,s){if(Ui(n))return n.createElement(i,s);{const l=null!==s?function Fr(n){const i=n.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(s):null;return null===l?n.createElement(i):n.createElementNS(l,i)}}function Cu(n,i){const s=n[9],l=s.indexOf(i),h=i[3];1024&i[2]&&(i[2]&=-1025,N(h,-1)),s.splice(l,1)}function dh(n,i){if(n.length<=10)return;const s=10+i,l=n[s];if(l){const h=l[17];null!==h&&h!==n&&Cu(h,l),i>0&&(n[s-1][4]=l[4]);const m=Zo(n,10+i);!function Nm(n,i){Tu(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const E=m[19];null!==E&&E.detachView(m[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Qp(n,i){if(!(256&i[2])){const s=i[11];Ui(s)&&s.destroyNode&&Tu(n,i,s,3,null,null),function af(n){let i=n[13];if(!i)return hh(n[1],n);for(;i;){let s=null;if(Ft(i))s=i[13];else{const l=i[10];l&&(s=l)}if(!s){for(;i&&!i[4]&&i!==n;)Ft(i)&&hh(i[1],i),i=i[3];null===i&&(i=n),Ft(i)&&hh(i[1],i),s=i&&i[4]}i=s}}(i)}}function hh(n,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function hc(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const h=i[s[l]];if(!(h instanceof jo)){const m=s[l+1];if(Array.isArray(m))for(let E=0;E<m.length;E+=2){const I=h[m[E]],P=m[E+1];try{P.call(I)}finally{}}else try{m.call(h)}finally{}}}}(n,i),function fh(n,i){const s=n.cleanup,l=i[7];let h=-1;if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const E=s[m+1],I="function"==typeof E?E(i):F(i[E]),P=l[h=s[m+2]],G=s[m+3];"boolean"==typeof G?I.removeEventListener(s[m],P,G):G>=0?l[h=G]():l[h=-G].unsubscribe(),m+=2}else{const E=l[h=s[m+1]];s[m].call(E)}if(null!==l){for(let m=h+1;m<l.length;m++)l[m]();i[7]=null}}(n,i),1===i[1].type&&Ui(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&qi(i[3])){s!==i[3]&&Cu(s,i);const l=i[19];null!==l&&l.detachView(n)}}}function $u(n,i,s){return function Gu(n,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[0];if(2&l.flags){const h=n.data[l.directiveStart].encapsulation;if(h===It.None||h===It.Emulated)return null}return zt(l,s)}(n,i.parent,s)}function Ol(n,i,s,l,h){Ui(n)?n.insertBefore(i,s,l,h):i.insertBefore(s,l,h)}function cf(n,i,s){Ui(n)?n.appendChild(i,s):i.appendChild(s)}function ph(n,i,s,l,h){null!==l?Ol(n,i,s,l,h):cf(n,i,s)}function fd(n,i){return Ui(n)?n.parentNode(i):i.parentNode}function Xp(n,i,s){return ff(n,i,s)}let ff=function hf(n,i,s){return 40&n.type?zt(n,s):null};function Xl(n,i,s,l){const h=$u(n,l,i),m=i[11],I=Xp(l.parent||i[6],l,i);if(null!=h)if(Array.isArray(s))for(let P=0;P<s.length;P++)ph(m,h,s[P],I,!1);else ph(m,h,s,I,!1)}function gh(n,i){if(null!==i){const s=i.type;if(3&s)return zt(i,n);if(4&s)return gf(-1,n[i.index]);if(8&s){const l=i.child;if(null!==l)return gh(n,l);{const h=n[i.index];return qi(h)?gf(-1,h):F(h)}}if(32&s)return oi(i,n)()||F(n[i.index]);{const l=pf(n,i);return null!==l?Array.isArray(l)?l[0]:gh(Jo(n[16]),l):gh(n,i.next)}}return null}function pf(n,i){return null!==i?n[16][6].projection[i.projection]:null}function gf(n,i){const s=10+n+1;if(s<i.length){const l=i[s],h=l[1].firstChild;if(null!==h)return gh(l,h)}return i[7]}function mf(n,i,s,l,h,m,E){for(;null!=s;){const I=l[s.index],P=s.type;if(E&&0===i&&(I&&po(F(I),l),s.flags|=4),64!=(64&s.flags))if(8&P)mf(n,i,s.child,l,h,m,!1),Ua(i,n,h,I,m);else if(32&P){const G=oi(s,l);let te;for(;te=G();)Ua(i,n,h,te,m);Ua(i,n,h,I,m)}else 16&P?zu(n,i,l,s,h,m):Ua(i,n,h,I,m);s=E?s.projectionNext:s.next}}function Tu(n,i,s,l,h,m){mf(s,l,n.firstChild,i,h,m,!1)}function zu(n,i,s,l,h,m){const E=s[16],P=E[6].projection[l.projection];if(Array.isArray(P))for(let G=0;G<P.length;G++)Ua(i,n,h,P[G],m);else mf(n,i,P,E[3],h,m,!0)}function ng(n,i,s){Ui(n)?n.setAttribute(i,"style",s):i.style.cssText=s}function pd(n,i,s){Ui(n)?""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s):i.className=s}function gd(n,i,s){let l=n.length;for(;;){const h=n.indexOf(i,s);if(-1===h)return h;if(0===h||n.charCodeAt(h-1)<=32){const m=i.length;if(h+m===l||n.charCodeAt(h+m)<=32)return h}s=h+1}}const yf="ng-template";function md(n,i,s){let l=0;for(;l<n.length;){let h=n[l++];if(s&&"class"===h){if(h=n[l],-1!==gd(h.toLowerCase(),i,0))return!0}else if(1===h){for(;l<n.length&&"string"==typeof(h=n[l++]);)if(h.toLowerCase()===i)return!0;return!1}}return!1}function yd(n){return 4===n.type&&n.value!==yf}function vd(n,i,s){return i===(4!==n.type||s?n.value:yf)}function ig(n,i,s){let l=4;const h=n.attrs||[],m=function yh(n){for(let i=0;i<n.length;i++)if(Sa(n[i]))return i;return n.length}(h);let E=!1;for(let I=0;I<i.length;I++){const P=i[I];if("number"!=typeof P){if(!E)if(4&l){if(l=2|1&l,""!==P&&!vd(n,P,s)||""===P&&1===i.length){if(cl(l))return!1;E=!0}}else{const G=8&l?P:i[++I];if(8&l&&null!==n.attrs){if(!md(n.attrs,G,s)){if(cl(l))return!1;E=!0}continue}const Ie=Ba(8&l?"class":P,h,yd(n),s);if(-1===Ie){if(cl(l))return!1;E=!0;continue}if(""!==G){let ze;ze=Ie>m?"":h[Ie+1].toLowerCase();const dt=8&l?ze:null;if(dt&&-1!==gd(dt,G,0)||2&l&&G!==ze){if(cl(l))return!1;E=!0}}}}else{if(!E&&!cl(l)&&!cl(P))return!1;if(E&&cl(P))continue;E=!1,l=P|1&l}}return cl(l)||E}function cl(n){return 0==(1&n)}function Ba(n,i,s,l){if(null===i)return-1;let h=0;if(l||!s){let m=!1;for(;h<i.length;){const E=i[h];if(E===n)return h;if(3===E||6===E)m=!0;else{if(1===E||2===E){let I=i[++h];for(;"string"==typeof I;)I=i[++h];continue}if(4===E)break;if(0===E){h+=4;continue}}h+=m?1:2}return-1}return function rg(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,n)}function vf(n,i,s=!1){for(let l=0;l<i.length;l++)if(ig(n,i[l],s))return!0;return!1}function Wu(n,i){e:for(let s=0;s<i.length;s++){const l=i[s];if(n.length===l.length){for(let h=0;h<n.length;h++)if(n[h]!==l[h])continue e;return!0}}return!1}function pc(n,i){return n?":not("+i.trim()+")":i}function sg(n){let i=n[0],s=1,l=2,h="",m=!1;for(;s<n.length;){let E=n[s];if("string"==typeof E)if(2&l){const I=n[++s];h+="["+E+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?h+="."+E:4&l&&(h+=" "+E);else""!==h&&!cl(E)&&(i+=pc(m,h),h=""),l=E,m=m||!cl(l);s++}return""!==h&&(i+=pc(m,h)),i}const gi={};function _f(n){Du(bi(),Wt(),fs()+n,!1)}function Du(n,i,s,l){if(!l)if(3==(3&i[2])){const m=n.preOrderCheckHooks;null!==m&&Qt(i,m,s)}else{const m=n.preOrderHooks;null!==m&&Ji(i,m,0,s)}Aa(s)}function vh(n,i){return n<<17|i<<2}function Ml(n){return n>>17&32767}function Wc(n){return 2|n}function eu(n){return(131068&n)>>2}function Ef(n,i){return-131069&n|i<<2}function Cf(n){return 1|n}function Th(n,i){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const h=s[l],m=s[l+1];if(-1!==m){const E=n.data[m];Da(h),E.contentQueries(2,i[m],m)}}}function Zc(n,i,s,l,h,m,E,I,P,G){const te=i.blueprint.slice();return te[0]=h,te[2]=140|l,H(te),te[3]=te[15]=n,te[8]=s,te[10]=E||n&&n[10],te[11]=I||n&&n[11],te[12]=P||n&&n[12]||null,te[9]=G||n&&n[9]||null,te[6]=m,te[16]=2==i.type?n[16]:te,te}function yc(n,i,s,l,h){let m=n.data[i];if(null===m)m=function Cd(n,i,s,l,h){const m=ba(),E=Ea(),P=n.data[i]=function Lf(n,i,s,l,h,m){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?m:m&&m.parent,s,i,l,h);return null===n.firstChild&&(n.firstChild=P),null!==m&&(E?null==m.child&&null!==P.parent&&(m.child=P):null===m.next&&(m.next=P)),P}(n,i,s,l,h),function Bs(){return M.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=s,m.value=l,m.attrs=h;const E=function _o(){const n=M.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();m.injectorIndex=null===E?-1:E.injectorIndex}return Us(m,!0),m}function Iu(n,i,s,l){if(0===s)return-1;const h=i.length;for(let m=0;m<s;m++)i.push(l),n.blueprint.push(l),n.data.push(null);return h}function Au(n,i,s){ro(i);try{const l=n.viewQuery;null!==l&&Od(1,l,s);const h=n.template;null!==h&&Dh(n,i,h,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Th(n,i),n.staticViewQueries&&Od(2,n.viewQuery,s);const m=n.components;null!==m&&function Pf(n,i){for(let s=0;s<i.length;s++)Eg(n,i[s])}(i,m)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[2]&=-5,so()}}function Su(n,i,s,l){const h=i[2];if(256!=(256&h)){ro(i);try{H(i),function Vo(n){return M.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Dh(n,i,s,2,l);const E=3==(3&h);if(E){const G=n.preOrderCheckHooks;null!==G&&Qt(i,G,null)}else{const G=n.preOrderHooks;null!==G&&Ji(i,G,0,null),Xi(i,0)}if(function ey(n){for(let i=Ur(n);null!==i;i=jc(i)){if(!i[2])continue;const s=i[9];for(let l=0;l<s.length;l++){const h=s[l],m=h[3];0==(1024&h[2])&&N(m,1),h[2]|=1024}}}(i),function $f(n){for(let i=Ur(n);null!==i;i=jc(i))for(let s=10;s<i.length;s++){const l=i[s],h=l[1];Qi(l)&&Su(h,l,h.template,l[8])}}(i),null!==n.contentQueries&&Th(n,i),E){const G=n.contentCheckHooks;null!==G&&Qt(i,G)}else{const G=n.contentHooks;null!==G&&Ji(i,G,1),Xi(i,1)}!function zm(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const h=s[l];if(h<0)Aa(~h);else{const m=h,E=s[++l],I=s[++l];Ca(E,m),I(2,i[m])}}}finally{Aa(-1)}}(n,i);const I=n.components;null!==I&&function Wm(n,i){for(let s=0;s<i.length;s++)ty(n,i[s])}(i,I);const P=n.viewQuery;if(null!==P&&Od(2,P,l),E){const G=n.viewCheckHooks;null!==G&&Qt(i,G)}else{const G=n.viewHooks;null!==G&&Ji(i,G,2),Xi(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-73,1024&i[2]&&(i[2]&=-1025,N(i[3],-1))}finally{so()}}}function Rf(n,i,s,l){const h=i[10],E=hi(i);try{!E&&h.begin&&h.begin(),E&&Au(n,i,l),Su(n,i,s,l)}finally{!E&&h.end&&h.end()}}function Dh(n,i,s,l,h){const m=fs(),E=2&l;try{Aa(-1),E&&i.length>20&&Du(n,i,20,!1),s(l,h)}finally{Aa(m)}}function Ih(n,i,s){if(Ai(i)){const h=i.directiveEnd;for(let m=i.directiveStart;m<h;m++){const E=n.data[m];E.contentQueries&&E.contentQueries(1,s[m],m)}}}function Ah(n,i,s){!hs()||(function Uf(n,i,s,l){const h=s.directiveStart,m=s.directiveEnd;n.firstCreatePass||L(s,i),po(l,i);const E=s.initialInputs;for(let I=h;I<m;I++){const P=n.data[I],G=ar(P);G&&Hf(i,s,P);const te=qs(i,n,I,s);po(te,i),null!==E&&Mh(0,I-h,te,P,0,E),G&&(ei(s.index,i)[8]=te)}}(n,i,s,zt(s,i)),128==(128&s.flags)&&function vg(n,i,s){const l=s.directiveStart,h=s.directiveEnd,E=s.index,I=function Is(){return M.lFrame.currentDirectiveIndex}();try{Aa(E);for(let P=l;P<h;P++){const G=n.data[P],te=i[P];Ta(P),(null!==G.hostBindings||0!==G.hostVars||null!==G.hostAttrs)&&xh(G,te)}}finally{Aa(-1),Ta(I)}}(n,i,s))}function Nf(n,i,s=zt){const l=i.localNames;if(null!==l){let h=i.index+1;for(let m=0;m<l.length;m+=2){const E=l[m+1],I=-1===E?s(i,n):n[E];n[h++]=I}}}function kf(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Sh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Sh(n,i,s,l,h,m,E,I,P,G){const te=20+l,Ie=te+h,ze=function Zm(n,i){const s=[];for(let l=0;l<i;l++)s.push(l<n?null:gi);return s}(te,Ie),dt="function"==typeof G?G():G;return ze[1]={type:n,blueprint:ze,template:s,queries:null,viewQuery:I,declTNode:i,data:ze.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:P,consts:dt,incompleteFirstPass:!1}}function Kc(n,i,s,l){const h=_c(i);null===s?h.push(l):(h.push(s),n.firstCreatePass&&xu(n).push(l,h.length-1))}function Ff(n,i,s){for(let l in n)if(n.hasOwnProperty(l)){const h=n[l];(s=null===s?{}:s).hasOwnProperty(l)?s[l].push(i,h):s[l]=[i,h]}return s}function Xa(n,i,s,l,h,m,E,I){const P=zt(i,s);let te,G=i.inputs;!I&&null!=G&&(te=G[l])?(Ec(n,s,te,l,h),as(i)&&function Qm(n,i){const s=ei(i,n);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(l=function Ym(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),h=null!=E?E(h,i.value||"",l):h,Ui(m)?m.setProperty(P,l,h):xa(l)||(P.setProperty?P.setProperty(l,h):P[l]=h))}function Dd(n,i,s,l){let h=!1;if(hs()){const m=function Bf(n,i,s){const l=n.directiveRegistry;let h=null;if(l)for(let m=0;m<l.length;m++){const E=l[m];vf(s,E.selectors,!1)&&(h||(h=[]),kt(L(s,i),n,E.type),ar(E)?(tu(n,s),h.unshift(E)):h.push(E))}return h}(n,i,s),E=null===l?null:{"":-1};if(null!==m){h=!0,Oh(s,n.data.length,m.length);for(let te=0;te<m.length;te++){const Ie=m[te];Ie.providersResolver&&Ie.providersResolver(Ie)}let I=!1,P=!1,G=Iu(n,i,m.length,null);for(let te=0;te<m.length;te++){const Ie=m[te];s.mergedAttrs=$o(s.mergedAttrs,Ie.hostAttrs),bg(n,s,i,G,Ie),Jm(G,Ie,E),null!==Ie.contentQueries&&(s.flags|=8),(null!==Ie.hostBindings||null!==Ie.hostAttrs||0!==Ie.hostVars)&&(s.flags|=128);const ze=Ie.type.prototype;!I&&(ze.ngOnChanges||ze.ngOnInit||ze.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),I=!0),!P&&(ze.ngOnChanges||ze.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),P=!0),G++}!function qm(n,i){const l=i.directiveEnd,h=n.data,m=i.attrs,E=[];let I=null,P=null;for(let G=i.directiveStart;G<l;G++){const te=h[G],Ie=te.inputs,ze=null===m||yd(i)?null:jf(Ie,m);E.push(ze),I=Ff(Ie,G,I),P=Ff(te.outputs,G,P)}null!==I&&(I.hasOwnProperty("class")&&(i.flags|=16),I.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=E,i.inputs=I,i.outputs=P}(n,s)}E&&function _g(n,i,s){if(i){const l=n.localNames=[];for(let h=0;h<i.length;h+=2){const m=s[i[h+1]];if(null==m)throw new ft(-301,!1);l.push(i[h],m)}}}(s,l,E)}return s.mergedAttrs=$o(s.mergedAttrs,s.attrs),h}function Id(n,i,s,l,h,m){const E=m.hostBindings;if(E){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const P=~i.index;(function Ad(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(I)!=P&&I.push(P),I.push(l,h,E)}}function xh(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function tu(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function Jm(n,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=n;ar(i)&&(s[""]=n)}}function Oh(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}function bg(n,i,s,l,h){n.data[l]=h;const m=h.factory||(h.factory=Un(h.type)),E=new jo(m,ar(h),null);n.blueprint[l]=E,s[l]=E,Id(n,i,0,l,Iu(n,s,h.hostVars,gi),h)}function Hf(n,i,s){const l=zt(i,n),h=kf(s),m=n[10],E=Qc(n,Zc(n,h,null,s.onPush?64:16,l,i,m,m.createRenderer(l,s),null,null));n[i.index]=E}function nu(n,i,s,l,h,m){const E=zt(n,i);!function Sd(n,i,s,l,h,m,E){if(null==m)Ui(n)?n.removeAttribute(i,h,s):i.removeAttribute(h);else{const I=null==E?Ye(m):E(m,l||"",h);Ui(n)?n.setAttribute(i,h,I,s):s?i.setAttributeNS(s,h,I):i.setAttribute(h,I)}}(i[11],E,m,n.value,s,l,h)}function Mh(n,i,s,l,h,m){const E=m[i];if(null!==E){const I=l.setInput;for(let P=0;P<E.length;){const G=E[P++],te=E[P++],Ie=E[P++];null!==I?l.setInput(s,Ie,G,te):s[te]=Ie}}}function jf(n,i){let s=null,l=0;for(;l<i.length;){const h=i[l];if(0!==h)if(5!==h){if("number"==typeof h)break;n.hasOwnProperty(h)&&(null===s&&(s=[]),s.push(h,n[h],i[l+1])),l+=2}else l+=2;else l+=4}return s}function vc(n,i,s,l){return new Array(n,!0,!1,i,null,0,l,s,null,null)}function ty(n,i){const s=ei(i,n);if(Qi(s)){const l=s[1];80&s[2]?Su(l,s,l.template,s[8]):s[5]>0&&Ph(s)}}function Ph(n){for(let l=Ur(n);null!==l;l=jc(l))for(let h=10;h<l.length;h++){const m=l[h];if(1024&m[2]){const E=m[1];Su(E,m,E.template,m[8])}else m[5]>0&&Ph(m)}const s=n[1].components;if(null!==s)for(let l=0;l<s.length;l++){const h=ei(s[l],n);Qi(h)&&h[5]>0&&Ph(h)}}function Eg(n,i){const s=ei(i,n),l=s[1];(function ny(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(l,s),Au(l,s,s[8])}function Qc(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Gf(n){for(;n;){n[2]|=64;const i=Jo(n);if(ms(n)&&!i)return n;n=i}return null}function wg(n){!function Wf(n){for(let i=0;i<n.components.length;i++){const s=n.components[i],l=cc(s),h=l[1];Rf(h,l,h.template,s)}}(n[8])}function Od(n,i,s){Da(0),i(n,s)}const Zf=(()=>Promise.resolve(null))();function _c(n){return n[7]||(n[7]=[])}function xu(n){return n.cleanup||(n.cleanup=[])}function bc(n,i){const s=n[9],l=s?s.get(_n,null):null;l&&l.handleError(i)}function Ec(n,i,s,l,h){for(let m=0;m<s.length;){const E=s[m++],I=s[m++],P=i[E],G=n.data[E];null!==G.setInput?G.setInput(P,h,l,I):P[I]=h}}function iu(n,i,s){const l=At(i,n);!function Jl(n,i,s){Ui(n)?n.setValue(i,s):i.textContent=s}(n[11],l,s)}function Ou(n,i,s){let l=s?n.styles:null,h=s?n.classes:null,m=0;if(null!==i)for(let E=0;E<i.length;E++){const I=i[E];"number"==typeof I?m=I:1==m?h=Q(h,I):2==m&&(l=Q(l,I+": "+i[++E]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=h:n.classesWithoutHost=h}const Jc=new Tr("INJECTOR",-1);class Nh{get(i,s=ha){if(s===ha){const l=new Error(`NullInjectorError: No provider for ${ce(i)}!`);throw l.name="NullInjectorError",l}return s}}const Md=new Tr("Set Injector scope."),Pd={},oy={};let Rd;function kh(){return void 0===Rd&&(Rd=new Nh),Rd}function Ig(n,i=null,s=null,l){const h=Kf(n,i,s,l);return h._resolveInjectorDefTypes(),h}function Kf(n,i=null,s=null,l){return new ay(n,s,i||kh(),l)}class ay{constructor(i,s,l,h=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];s&&As(s,I=>this.processProvider(I,i,s)),As([i],I=>this.processInjectorType(I,[],m)),this.records.set(Jc,Xc(void 0,this));const E=this.records.get(Md);this.scope=null!=E?E.value:null,this.source=h||("object"==typeof i?null:ce(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=ha,l=un.Default){this.assertNotDestroyed();const h=mt(this),m=nn(void 0);try{if(!(l&un.SkipSelf)){let I=this.records.get(i);if(void 0===I){const P=function Jf(n){return"function"==typeof n||"object"==typeof n&&n instanceof Tr}(i)&&An(i);I=P&&this.injectableDefInScope(P)?Xc(Lh(i),Pd):null,this.records.set(i,I)}if(null!=I)return this.hydrate(i,I)}return(l&un.Self?kh():this.parent).get(i,s=l&un.Optional&&s===ha?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[$l]=E[$l]||[]).unshift(ce(i)),h)throw E;return function Ki(n,i,s,l){const h=n[$l];throw i[ae]&&h.unshift(i[ae]),n.message=function rl(n,i,s,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let h=ce(i);if(Array.isArray(i))h=i.map(ce).join(" -> ");else if("object"==typeof i){let m=[];for(let E in i)if(i.hasOwnProperty(E)){let I=i[E];m.push(E+":"+("string"==typeof I?JSON.stringify(I):ce(I)))}h=`{${m.join(", ")}}`}return`${s}${l?"("+l+")":""}[${h}]: ${n.replace(R,"\n  ")}`}("\n"+n.message,h,s,l),n.ngTokenPath=h,n[$l]=null,n}(E,i,"R3InjectorError",this.source)}throw E}finally{nn(m),mt(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,h)=>i.push(ce(h))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ft(205,!1)}processInjectorType(i,s,l){if(!(i=Ne(i)))return!1;let h=vi(i);const m=null==h&&i.ngModule||void 0,E=void 0===m?i:m,I=-1!==l.indexOf(E);if(void 0!==m&&(h=vi(m)),null==h)return!1;if(null!=h.imports&&!I){let te;l.push(E);try{As(h.imports,Ie=>{this.processInjectorType(Ie,s,l)&&(void 0===te&&(te=[]),te.push(Ie))})}finally{}if(void 0!==te)for(let Ie=0;Ie<te.length;Ie++){const{ngModule:ze,providers:dt}=te[Ie];As(dt,Zt=>this.processProvider(Zt,ze,dt||Tt))}}this.injectorDefTypes.add(E);const P=Un(E)||(()=>new E);this.records.set(E,Xc(P,Pd));const G=h.providers;if(null!=G&&!I){const te=i;As(G,Ie=>this.processProvider(Ie,te,G))}return void 0!==m&&void 0!==i.providers}processProvider(i,s,l){let h=Yu(i=Ne(i))?i:Ne(i&&i.provide);const m=function Sg(n,i,s){return xg(n)?Xc(void 0,n.useValue):Xc(qf(n),Pd)}(i);if(Yu(i)||!0!==i.multi)this.records.get(h);else{let E=this.records.get(h);E||(E=Xc(void 0,Pd,!0),E.factory=()=>si(E.multi),this.records.set(h,E)),h=i,E.multi.push(i)}this.records.set(h,m)}hydrate(i,s){return s.value===Pd&&(s.value=oy,s.value=s.factory()),"object"==typeof s.value&&s.value&&function cy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Ne(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Lh(n){const i=An(n),s=null!==i?i.factory:Un(n);if(null!==s)return s;if(n instanceof Tr)throw new ft(204,!1);if(n instanceof Function)return function Ag(n){const i=n.length;if(i>0)throw Wa(i,"?"),new ft(204,!1);const s=function Xn(n){const i=n&&(n[Kn]||n[Mn]);if(i){const s=function Hn(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ft(204,!1)}function qf(n,i,s){let l;if(Yu(n)){const h=Ne(n);return Un(h)||Lh(h)}if(xg(n))l=()=>Ne(n.useValue);else if(function uy(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...si(n.deps||[]));else if(function ly(n){return!(!n||!n.useExisting)}(n))l=()=>an(Ne(n.useExisting));else{const h=Ne(n&&(n.useClass||n.provide));if(!function Qf(n){return!!n.deps}(n))return Un(h)||Lh(h);l=()=>new h(...si(n.deps))}return l}function Xc(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function xg(n){return null!==n&&"object"==typeof n&&De in n}function Yu(n){return"function"==typeof n}let ru=(()=>{class n{static create(s,l){var h;if(Array.isArray(s))return Ig({name:""},l,s,"");{const m=null!==(h=s.name)&&void 0!==h?h:"";return Ig({name:m},s.parent,s.providers,m)}}}return n.THROW_IF_NOT_FOUND=ha,n.NULL=new Nh,n.\u0275prov=Nt({token:n,providedIn:"any",factory:()=>an(Jc)}),n.__NG_ELEMENT_ID__=-1,n})();function sp(n,i){ps(cc(n)[1],lr())}function op(n){let i=function jh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;i;){let h;if(ar(n))h=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ft(903,"");h=i.\u0275dir}if(h){if(s){l.push(h);const E=n;E.inputs=$h(n.inputs),E.declaredInputs=$h(n.declaredInputs),E.outputs=$h(n.outputs);const I=h.hostBindings;I&&gy(n,I);const P=h.viewQuery,G=h.contentQueries;if(P&&lp(n,P),G&&kg(n,G),be(n.inputs,h.inputs),be(n.declaredInputs,h.declaredInputs),be(n.outputs,h.outputs),ar(h)&&h.data.animation){const te=n.data;te.animation=(te.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let E=0;E<m.length;E++){const I=m[E];I&&I.ngInherit&&I(n),I===op&&(s=!1)}}i=Object.getPrototypeOf(i)}!function ap(n){let i=0,s=null;for(let l=n.length-1;l>=0;l--){const h=n[l];h.hostVars=i+=h.hostVars,h.hostAttrs=$o(h.hostAttrs,s=$o(s,h.hostAttrs))}}(l)}function $h(n){return n===St?{}:n===Tt?[]:n}function lp(n,i){const s=n.viewQuery;n.viewQuery=s?(l,h)=>{i(l,h),s(l,h)}:i}function kg(n,i){const s=n.contentQueries;n.contentQueries=s?(l,h,m)=>{i(l,h,m),s(l,h,m)}:i}function gy(n,i){const s=n.hostBindings;n.hostBindings=s?(l,h)=>{i(l,h),s(l,h)}:i}let ed=null;function Qu(){if(!ed){const n=Ee.Symbol;if(n&&n.iterator)ed=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const l=i[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(ed=l)}}}return ed}function Fd(n){return!!dp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Qu()in n)}function dp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function dl(n,i,s){return n[i]=s}function Mo(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function Ju(n,i,s,l){const h=Mo(n,i,s);return Mo(n,i+1,l)||h}function Vd(n,i,s,l,h){const m=Ju(n,i,s,l);return Mo(n,i+2,h)||m}function zi(n,i,s,l){const h=Wt();return Mo(h,bo(),i)&&(bi(),nu(ir(),h,n,i,s,l)),zi}function Tc(n,i,s,l){return Mo(n,bo(),s)?i+Ye(s)+l:gi}function Dc(n,i,s,l,h,m){const I=Ju(n,io(),s,h);return ys(2),I?i+Ye(s)+l+Ye(h)+m:gi}function jg(n,i,s,l,h,m,E,I){const P=Wt(),G=bi(),te=n+20,Ie=G.firstCreatePass?function _y(n,i,s,l,h,m,E,I,P){const G=i.consts,te=yc(i,n,4,E||null,Fi(G,I));Dd(i,s,te,Fi(G,P)),ps(i,te);const Ie=te.tViews=Sh(2,te,l,h,m,i.directiveRegistry,i.pipeRegistry,null,i.schemas,G);return null!==i.queries&&(i.queries.template(i,te),Ie.queries=i.queries.embeddedTView(te)),te}(te,G,P,i,s,l,h,m,E):G.data[te];Us(Ie,!1);const ze=P[11].createComment("");Xl(G,P,ze,Ie),po(ze,P),Qc(P,P[te]=vc(ze,P,ze,Ie)),ls(Ie)&&Ah(G,P,Ie),null!=E&&Nf(P,Ie,I)}function $g(n){return yi(function pl(){return M.lFrame.contextLView}(),20+n)}function $d(n,i=un.Default){const s=Wt();return null===s?an(n,i):Ci(lr(),s,Ne(n),i)}function Ep(){throw new Error("invalid")}function au(n,i,s){const l=Wt();return Mo(l,bo(),i)&&Xa(bi(),ir(),l,n,i,l[11],s,!1),au}function lu(n,i,s,l,h){const E=h?"class":"style";Ec(n,s,i.inputs[E],E,l)}function uu(n,i,s,l){const h=Wt(),m=bi(),E=20+n,I=h[11],P=h[E]=ch(I,i,function oo(){return M.lFrame.currentNamespace}()),G=m.firstCreatePass?function i_(n,i,s,l,h,m,E){const I=i.consts,G=yc(i,n,2,h,Fi(I,m));return Dd(i,s,G,Fi(I,E)),null!==G.attrs&&Ou(G,G.attrs,!1),null!==G.mergedAttrs&&Ou(G,G.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,G),G}(E,m,h,0,i,s,l):m.data[E];Us(G,!0);const te=G.mergedAttrs;null!==te&&yl(I,P,te);const Ie=G.classes;null!==Ie&&pd(I,P,Ie);const ze=G.styles;return null!==ze&&ng(I,P,ze),64!=(64&G.flags)&&Xl(m,h,P,G),0===function Sn(){return M.lFrame.elementDepthCount}()&&po(P,h),function ki(){M.lFrame.elementDepthCount++}(),ls(G)&&(Ah(m,h,G),Ih(m,G,h)),null!==l&&Nf(h,G),uu}function Sc(){let n=lr();Ea()?wa():(n=n.parent,Us(n,!1));const i=n;!function Ds(){M.lFrame.elementDepthCount--}();const s=bi();return s.firstCreatePass&&(ps(s,n),Ai(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function ml(n){return 0!=(16&n.flags)}(i)&&lu(s,i,Wt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function lo(n){return 0!=(32&n.flags)}(i)&&lu(s,i,Wt(),i.stylesWithoutHost,!1),Sc}function wp(n,i,s,l){return uu(n,i,s,l),Sc(),wp}function Gd(n,i,s){const l=Wt(),h=bi(),m=n+20,E=h.firstCreatePass?function em(n,i,s,l,h){const m=i.consts,E=Fi(m,l),I=yc(i,n,8,"ng-container",E);return null!==E&&Ou(I,E,!0),Dd(i,s,I,Fi(m,h)),null!==i.queries&&i.queries.elementStart(i,I),I}(m,h,l,i,s):h.data[m];Us(E,!0);const I=l[m]=l[11].createComment("");return Xl(h,l,I,E),po(I,l),ls(E)&&(Ah(h,l,E),Ih(h,E,l)),null!=s&&Nf(l,E),Gd}function xc(){let n=lr();const i=bi();return Ea()?wa():(n=n.parent,Us(n,!1)),i.firstCreatePass&&(ps(i,n),Ai(n)&&i.queries.elementEnd(n)),xc}function Cp(n,i,s){return Gd(n,i,s),xc(),Cp}function Xu(){return Wt()}function id(n){return!!n&&"function"==typeof n.then}function rd(n){return!!n&&"function"==typeof n.subscribe}const Tp=rd;function zd(n,i,s,l){const h=Wt(),m=bi(),E=lr();return function nm(n,i,s,l,h,m,E,I){const P=ls(l),te=n.firstCreatePass&&xu(n),Ie=i[8],ze=_c(i);let dt=!0;if(3&l.type||I){const Dn=zt(l,i),Vn=I?I(Dn):Dn,rn=ze.length,ni=I?tr=>I(F(tr[l.index])):l.index;if(Ui(s)){let tr=null;if(!I&&P&&(tr=function xy(n,i,s,l){const h=n.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const E=h[m];if(E===s&&h[m+1]===l){const I=i[7],P=h[m+2];return I.length>P?I[P]:null}"string"==typeof E&&(m+=2)}return null}(n,i,h,l.index)),null!==tr)(tr.__ngLastListenerFn__||tr).__ngNextListenerFn__=m,tr.__ngLastListenerFn__=m,dt=!1;else{m=Wd(l,i,Ie,m,!1);const Lr=s.listen(Vn,h,m);ze.push(m,Lr),te&&te.push(h,ni,rn,rn+1)}}else m=Wd(l,i,Ie,m,!0),Vn.addEventListener(h,m,E),ze.push(m),te&&te.push(h,ni,rn,E)}else m=Wd(l,i,Ie,m,!1);const Zt=l.outputs;let fn;if(dt&&null!==Zt&&(fn=Zt[h])){const Dn=fn.length;if(Dn)for(let Vn=0;Vn<Dn;Vn+=2){const Ll=i[fn[Vn]][fn[Vn+1]].subscribe(m),ih=ze.length;ze.push(m,Ll),te&&te.push(h,l.index,ih,-(ih+1))}}}(m,h,h[11],E,n,i,!!s,l),zd}function qh(n,i,s,l){try{return!1!==s(l)}catch(h){return bc(n,h),!1}}function Wd(n,i,s,l,h){return function m(E){if(E===Function)return l;const I=2&n.flags?ei(n.index,i):i;0==(32&i[2])&&Gf(I);let P=qh(i,0,l,E),G=m.__ngNextListenerFn__;for(;G;)P=qh(i,0,G,E)&&P,G=G.__ngNextListenerFn__;return h&&!1===P&&(E.preventDefault(),E.returnValue=!1),P}}function Dp(n=1){return function du(n){return(M.lFrame.contextLView=function nl(n,i){for(;n>0;)i=i[15],n--;return i}(n,M.lFrame.contextLView))[8]}(n)}function Oc(n,i){let s=null;const l=function mh(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(0==(1&s))return i[s+1]}return null}(n);for(let h=0;h<i.length;h++){const m=i[h];if("*"!==m){if(null===l?vf(n,m,!0):Wu(l,m))return h}else s=h}return s}function Ip(n){const i=Wt()[16][6];if(!i.projection){const l=i.projection=Wa(n?n.length:1,null),h=l.slice();let m=i.child;for(;null!==m;){const E=n?Oc(m,n):0;null!==E&&(h[E]?h[E].projectionNext=m:l[E]=m,h[E]=m),m=m.next}}}function Ap(n,i=0,s){const l=Wt(),h=bi(),m=yc(h,20+n,16,null,s||null);null===m.projection&&(m.projection=i),wa(),64!=(64&m.flags)&&function fc(n,i,s){zu(i[11],0,i,s,$u(n,s,i),Xp(s.parent||i[6],s,i))}(h,l,m)}function Zd(n,i,s){return Kd(n,"",i,"",s),Zd}function Kd(n,i,s,l,h){const m=Wt(),E=Tc(m,i,s,l);return E!==gi&&Xa(bi(),ir(),m,n,E,m[11],h,!1),Kd}function Sp(n,i,s,l,h,m,E){const I=Wt(),P=Dc(I,i,s,l,h,m);return P!==gi&&Xa(bi(),ir(),I,n,P,I[11],E,!1),Sp}function rm(n,i,s,l,h){const m=n[s+1],E=null===i;let I=l?Ml(m):eu(m),P=!1;for(;0!==I&&(!1===P||E);){const te=n[I+1];Py(n[I],i)&&(P=!0,n[I+1]=l?Cf(te):Wc(te)),I=l?Ml(te):eu(te)}P&&(n[s+1]=l?Wc(m):Cf(m))}function Py(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Do(n,i)>=0}const eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Mp(n){return n.substring(eo.key,eo.keyEnd)}function Ry(n){return n.substring(eo.value,eo.valueEnd)}function Pp(n,i){const s=eo.textEnd;return s===i?-1:(i=eo.keyEnd=function Ly(n,i,s){for(;i<s&&n.charCodeAt(i)>32;)i++;return i}(n,eo.key=i,s),od(n,i,s))}function sm(n,i){const s=eo.textEnd;let l=eo.key=od(n,i,s);return s===l?-1:(l=eo.keyEnd=function om(n,i,s){let l;for(;i<s&&(45===(l=n.charCodeAt(i))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)i++;return i}(n,l,s),l=Np(n,l,s),l=eo.value=od(n,l,s),l=eo.valueEnd=function am(n,i,s){let l=-1,h=-1,m=-1,E=i,I=E;for(;E<s;){const P=n.charCodeAt(E++);if(59===P)return I;34===P||39===P?I=E=kp(n,P,E,s):i===E-4&&85===m&&82===h&&76===l&&40===P?I=E=kp(n,41,E,s):P>32&&(I=E),m=h,h=l,l=-33&P}return I}(n,l,s),Np(n,l,s))}function Rp(n){eo.key=0,eo.keyEnd=0,eo.value=0,eo.valueEnd=0,eo.textEnd=n.length}function od(n,i,s){for(;i<s&&n.charCodeAt(i)<=32;)i++;return i}function Np(n,i,s,l){return(i=od(n,i,s))<s&&i++,i}function kp(n,i,s,l){let h=-1,m=s;for(;m<l;){const E=n.charCodeAt(m++);if(E==i&&92!==h)return m;h=92==E&&92===h?0:E}throw new Error}function ad(n,i,s){return Nl(n,i,s,!1),ad}function Lp(n,i){return Nl(n,i,null,!0),Lp}function Po(n){kl(cm,Mc,n,!1)}function Mc(n,i){for(let s=function ky(n){return Rp(n),sm(n,od(n,0,eo.textEnd))}(i);s>=0;s=sm(i,s))cm(n,Mp(i),Ry(i))}function ld(n){kl(qr,ta,n,!0)}function ta(n,i){for(let s=function Ny(n){return Rp(n),Pp(n,od(n,0,eo.textEnd))}(i);s>=0;s=Pp(i,s))qr(n,Mp(i),!0)}function Nl(n,i,s,l){const h=Wt(),m=bi(),E=ys(2);m.firstUpdatePass&&Mu(m,n,E,l),i!==gi&&Mo(h,E,i)&&dm(m,m.data[fs()],h,h[11],n,h[E+1]=function Vp(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ce(Qo(n)))),n}(i,s),l,E)}function kl(n,i,s,l){const h=bi(),m=ys(2);h.firstUpdatePass&&Mu(h,null,m,l);const E=Wt();if(s!==gi&&Mo(E,m,s)){const I=h.data[fs()];if($y(I,l)&&!um(h,m)){let P=l?I.classesWithoutHost:I.stylesWithoutHost;null!==P&&(s=Q(P,s||"")),lu(h,I,E,s,l)}else!function jy(n,i,s,l,h,m,E,I){h===gi&&(h=Tt);let P=0,G=0,te=0<h.length?h[0]:null,Ie=0<m.length?m[0]:null;for(;null!==te||null!==Ie;){const ze=P<h.length?h[P+1]:void 0,dt=G<m.length?m[G+1]:void 0;let fn,Zt=null;te===Ie?(P+=2,G+=2,ze!==dt&&(Zt=Ie,fn=dt)):null===Ie||null!==te&&te<Ie?(P+=2,Zt=te):(G+=2,Zt=Ie,fn=dt),null!==Zt&&dm(n,i,s,l,Zt,fn,E,I),te=P<h.length?h[P]:null,Ie=G<m.length?m[G]:null}}(h,I,E,E[11],E[m+1],E[m+1]=function Hy(n,i,s){if(null==s||""===s)return Tt;const l=[],h=Qo(s);if(Array.isArray(h))for(let m=0;m<h.length;m++)n(l,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&n(l,m,h[m]);else"string"==typeof h&&i(l,h);return l}(n,i,s),l,m)}}function um(n,i){return i>=n.expandoStartIndex}function Mu(n,i,s,l){const h=n.data;if(null===h[s+1]){const m=h[fs()],E=um(n,s);$y(m,l)&&null===i&&!E&&(i=!1),i=function Fy(n,i,s,l){const h=Or(n);let m=l?i.residualClasses:i.residualStyles;if(null===h)0===(l?i.classBindings:i.styleBindings)&&(s=Jd(s=Fp(null,n,i,s,l),i.attrs,l),m=null);else{const E=i.directiveStylingLast;if(-1===E||n[E]!==h)if(s=Fp(h,n,i,s,l),null===m){let P=function Vy(n,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==eu(l))return n[Ml(l)]}(n,i,l);void 0!==P&&Array.isArray(P)&&(P=Fp(null,n,i,P[1],l),P=Jd(P,i.attrs,l),function Uy(n,i,s,l){n[Ml(s?i.classBindings:i.styleBindings)]=l}(n,i,l,P))}else m=function By(n,i,s){let l;const h=i.directiveEnd;for(let m=1+i.directiveStylingLast;m<h;m++)l=Jd(l,n[m].hostAttrs,s);return Jd(l,i.attrs,s)}(n,i,l)}return void 0!==m&&(l?i.residualClasses=m:i.residualStyles=m),s}(h,m,i,l),function Oy(n,i,s,l,h,m){let E=m?i.classBindings:i.styleBindings,I=Ml(E),P=eu(E);n[l]=s;let te,G=!1;if(Array.isArray(s)){const Ie=s;te=Ie[1],(null===te||Do(Ie,te)>0)&&(G=!0)}else te=s;if(h)if(0!==P){const ze=Ml(n[I+1]);n[l+1]=vh(ze,I),0!==ze&&(n[ze+1]=Ef(n[ze+1],l)),n[I+1]=function Fm(n,i){return 131071&n|i<<17}(n[I+1],l)}else n[l+1]=vh(I,0),0!==I&&(n[I+1]=Ef(n[I+1],l)),I=l;else n[l+1]=vh(P,0),0===I?I=l:n[P+1]=Ef(n[P+1],l),P=l;G&&(n[l+1]=Wc(n[l+1])),rm(n,te,l,!0),rm(n,te,l,!1),function My(n,i,s,l,h){const m=h?n.residualClasses:n.residualStyles;null!=m&&"string"==typeof i&&Do(m,i)>=0&&(s[l+1]=Cf(s[l+1]))}(i,te,n,l,m),E=vh(I,P),m?i.classBindings=E:i.styleBindings=E}(h,m,i,s,E,l)}}function Fp(n,i,s,l,h){let m=null;const E=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<E&&(m=i[I],l=Jd(l,m.hostAttrs,h),m!==n);)I++;return null!==n&&(s.directiveStylingLast=I),l}function Jd(n,i,s){const l=s?1:2;let h=-1;if(null!==i)for(let m=0;m<i.length;m++){const E=i[m];"number"==typeof E?h=E:h===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),qr(n,E,!!s||i[++m]))}return void 0===n?null:n}function cm(n,i,s){qr(n,i,Qo(s))}function dm(n,i,s,l,h,m,E,I){if(!(3&i.type))return;const P=n.data,G=P[I+1];Pu(function wf(n){return 1==(1&n)}(G)?hm(P,i,s,h,eu(G),E):void 0)||(Pu(m)||function og(n){return 2==(2&n)}(G)&&(m=hm(P,null,s,h,I,E)),function km(n,i,s,l,h){const m=Ui(n);if(i)h?m?n.addClass(s,l):s.classList.add(l):m?n.removeClass(s,l):s.classList.remove(l);else{let E=-1===l.indexOf("-")?void 0:Rn.DashCase;if(null==h)m?n.removeStyle(s,l,E):s.style.removeProperty(l);else{const I="string"==typeof h&&h.endsWith("!important");I&&(h=h.slice(0,-10),E|=Rn.Important),m?n.setStyle(s,l,h,E):s.style.setProperty(l,h,I?"important":"")}}}(l,E,At(fs(),s),h,m))}function hm(n,i,s,l,h,m){const E=null===i;let I;for(;h>0;){const P=n[h],G=Array.isArray(P),te=G?P[1]:P,Ie=null===te;let ze=s[h+1];ze===gi&&(ze=Ie?Tt:void 0);let dt=Ie?To(ze,l):te===l?ze:void 0;if(G&&!Pu(dt)&&(dt=To(P,l)),Pu(dt)&&(I=dt,E))return I;const Zt=n[h+1];h=E?Ml(Zt):eu(Zt)}if(null!==i){let P=m?i.residualClasses:i.residualStyles;null!=P&&(I=To(P,l))}return I}function Pu(n){return void 0!==n}function $y(n,i){return 0!=(n.flags&(i?16:32))}function Gy(n,i=""){const s=Wt(),l=bi(),h=n+20,m=l.firstCreatePass?yc(l,h,1,i,null):l.data[h],E=s[h]=function Ja(n,i){return Ui(n)?n.createText(i):n.createTextNode(i)}(s[11],i);Xl(l,s,E,m),Us(m,!1)}function Up(n){return Xd("",n,""),Up}function Xd(n,i,s){const l=Wt(),h=Tc(l,n,i,s);return h!==gi&&iu(l,fs(),h),Xd}function cu(n,i,s,l,h){const m=Wt(),E=Dc(m,n,i,s,l,h);return E!==gi&&iu(m,fs(),E),cu}function Bp(n,i,s,l,h,m,E){const I=Wt(),P=function ou(n,i,s,l,h,m,E,I){const G=Vd(n,io(),s,h,E);return ys(3),G?i+Ye(s)+l+Ye(h)+m+Ye(E)+I:gi}(I,n,i,s,l,h,m,E);return P!==gi&&iu(I,fs(),P),Bp}function zy(n,i,s){kl(qr,ta,Tc(Wt(),n,i,s),!0)}function Wy(n,i,s){const l=Wt();if(Mo(l,bo(),i)){const m=bi(),E=ir();Xa(m,E,l,n,i,function Rh(n,i,s){return(null===n||ar(n))&&(s=function se(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[i.index])),s[11]}(Or(m.data),E,l),s,!0)}return Wy}const eh=void 0;var lb=["en",[["a","p"],["AM","PM"],eh],[["AM","PM"],eh,eh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],eh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],eh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",eh,"{1} 'at' {0}",eh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ab(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let Qh={};function Zy(n){const i=function ub(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=a_(i);if(s)return s;const l=i.split("-")[0];if(s=a_(l),s)return s;if("en"===l)return lb;throw new Error(`Missing locale data for the locale "${n}".`)}function o_(n){return Zy(n)[ui.PluralCase]}function a_(n){return n in Qh||(Qh[n]=Ee.ng&&Ee.ng.common&&Ee.ng.common.locales&&Ee.ng.common.locales[n]),Qh[n]}var ui=(()=>((ui=ui||{})[ui.LocaleId=0]="LocaleId",ui[ui.DayPeriodsFormat=1]="DayPeriodsFormat",ui[ui.DayPeriodsStandalone=2]="DayPeriodsStandalone",ui[ui.DaysFormat=3]="DaysFormat",ui[ui.DaysStandalone=4]="DaysStandalone",ui[ui.MonthsFormat=5]="MonthsFormat",ui[ui.MonthsStandalone=6]="MonthsStandalone",ui[ui.Eras=7]="Eras",ui[ui.FirstDayOfWeek=8]="FirstDayOfWeek",ui[ui.WeekendRange=9]="WeekendRange",ui[ui.DateFormat=10]="DateFormat",ui[ui.TimeFormat=11]="TimeFormat",ui[ui.DateTimeFormat=12]="DateTimeFormat",ui[ui.NumberSymbols=13]="NumberSymbols",ui[ui.NumberFormats=14]="NumberFormats",ui[ui.CurrencyCode=15]="CurrencyCode",ui[ui.CurrencySymbol=16]="CurrencySymbol",ui[ui.CurrencyName=17]="CurrencyName",ui[ui.Currencies=18]="Currencies",ui[ui.Directionality=19]="Directionality",ui[ui.PluralCase=20]="PluralCase",ui[ui.ExtraData=21]="ExtraData",ui))();const bm="en-US";let l_=bm;function Yy(n,i,s,l,h){if(n=Ne(n),Array.isArray(n))for(let m=0;m<n.length;m++)Yy(n[m],i,s,l,h);else{const m=bi(),E=Wt();let I=Yu(n)?n:Ne(n.provide),P=qf(n);const G=lr(),te=1048575&G.providerIndexes,Ie=G.directiveStart,ze=G.providerIndexes>>20;if(Yu(n)||!n.multi){const dt=new jo(P,h,$d),Zt=Jy(I,i,h?te:te+ze,Ie);-1===Zt?(kt(L(G,E),m,I),Qy(m,n,i.length),i.push(I),G.directiveStart++,G.directiveEnd++,h&&(G.providerIndexes+=1048576),s.push(dt),E.push(dt)):(s[Zt]=dt,E[Zt]=dt)}else{const dt=Jy(I,i,te+ze,Ie),Zt=Jy(I,i,te,te+ze),fn=dt>=0&&s[dt],Dn=Zt>=0&&s[Zt];if(h&&!Dn||!h&&!fn){kt(L(G,E),m,I);const Vn=function aE(n,i,s,l,h){const m=new jo(n,s,$d);return m.multi=[],m.index=i,m.componentProviders=0,P_(m,h,l&&!s),m}(h?oE:sE,s.length,h,l,P);!h&&Dn&&(s[Zt].providerFactory=Vn),Qy(m,n,i.length,0),i.push(I),G.directiveStart++,G.directiveEnd++,h&&(G.providerIndexes+=1048576),s.push(Vn),E.push(Vn)}else Qy(m,n,dt>-1?dt:Zt,P_(s[h?Zt:dt],P,!h&&l));!h&&l&&Dn&&s[Zt].componentProviders++}}}function Qy(n,i,s,l){const h=Yu(i),m=function Yf(n){return!!n.useClass}(i);if(h||m){const P=(m?Ne(i.useClass):i).prototype.ngOnDestroy;if(P){const G=n.destroyHooks||(n.destroyHooks=[]);if(!h&&i.multi){const te=G.indexOf(s);-1===te?G.push(s,[l,P]):G[te+1].push(l,P)}else G.push(s,P)}}}function P_(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function Jy(n,i,s,l){for(let h=s;h<l;h++)if(i[h]===n)return h;return-1}function sE(n,i,s,l){return Xy(this.multi,[])}function oE(n,i,s,l){const h=this.multi;let m;if(this.providerFactory){const E=this.providerFactory.componentProviders,I=qs(s,s[1],this.providerFactory.index,l);m=I.slice(0,E),Xy(h,m);for(let P=E;P<I.length;P++)m.push(I[P])}else m=[],Xy(h,m);return m}function Xy(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function R_(n,i=[]){return s=>{s.providersResolver=(l,h)=>function rE(n,i,s){const l=bi();if(l.firstCreatePass){const h=ar(n);Yy(s,l.data,l.blueprint,h,!0),Yy(i,l.data,l.blueprint,h,!1)}}(l,h?h(n):n,i)}}class N_{}class cE{resolveComponentFactory(i){throw function uE(n){const i=Error(`No component factory found for ${ce(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Dm=(()=>{class n{}return n.NULL=new cE,n})();function dE(){return Xh(lr(),Wt())}function Xh(n,i){return new zp(zt(n,i))}let zp=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=dE,n})();function hE(n){return n instanceof zp?n.nativeElement:n}class L_{}let fE=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function gE(){const n=Wt(),s=ei(lr().index,n);return function pE(n){return n[11]}(Ft(s)?s:n)}(),n})(),mE=(()=>{class n{}return n.\u0275prov=Nt({token:n,providedIn:"root",factory:()=>null}),n})();class F_{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const V_=new F_("13.3.11"),ev={};function Im(n,i,s,l,h=!1){for(;null!==s;){const m=i[s.index];if(null!==m&&l.push(F(m)),qi(m))for(let I=10;I<m.length;I++){const P=m[I],G=P[1].firstChild;null!==G&&Im(P[1],P,G,l)}const E=s.type;if(8&E)Im(n,i,s.child,l);else if(32&E){const I=oi(s,i);let P;for(;P=I();)l.push(P)}else if(16&E){const I=pf(i,s);if(Array.isArray(I))l.push(...I);else{const P=Jo(i[16]);Im(P[1],P,I,l,!0)}}s=h?s.projectionNext:s.next}return l}class Wp{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return Im(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(qi(i)){const s=i[8],l=s?s.indexOf(this):-1;l>-1&&(dh(i,l),Zo(s,l))}this._attachedToViewContainer=!1}Qp(this._lView[1],this._lView)}onDestroy(i){Kc(this._lView[1],this._lView,null,i)}markForCheck(){Gf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function xd(n,i,s){const l=i[10];l.begin&&l.begin();try{Su(n,i,n.template,s)}catch(h){throw bc(i,h),h}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ft(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function go(n,i){Tu(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ft(902,"");this._appRef=i}}class yE extends Wp{constructor(i){super(i),this._view=i}detectChanges(){wg(this._view)}checkNoChanges(){}get context(){return null}}class U_ extends Dm{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Se(i);return new tv(s,this.ngModule)}}function B_(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class tv extends N_{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function gc(n){return n.map(sg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return B_(this.componentDef.inputs)}get outputs(){return B_(this.componentDef.outputs)}create(i,s,l,h){const m=(h=h||this.ngModule)?function _E(n,i){return{get:(s,l,h)=>{const m=n.get(s,ev,h);return m!==ev||l===ev?m:i.get(s,l,h)}}}(i,h.injector):i,E=m.get(L_,V),I=m.get(mE,null),P=E.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",te=l?function Td(n,i,s){if(Ui(n))return n.selectRootElement(i,s===It.ShadowDom);let l="string"==typeof i?n.querySelector(i):i;return l.textContent="",l}(P,l,this.componentDef.encapsulation):ch(E.createRenderer(null,this.componentDef),G,function vE(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(G)),Ie=this.componentDef.onPush?576:528,ze=function Ng(n,i){return{components:[],scheduler:n||ma,clean:Zf,playerHandler:i||null,flags:0}}(),dt=Sh(0,null,null,1,0,null,null,null,null,null),Zt=Zc(null,dt,ze,Ie,null,null,E,P,I,m);let fn,Dn;ro(Zt);try{const Vn=function Rg(n,i,s,l,h,m){const E=s[1];s[20]=n;const P=yc(E,20,2,"#host",null),G=P.mergedAttrs=i.hostAttrs;null!==G&&(Ou(P,G,!0),null!==n&&(yl(h,n,G),null!==P.classes&&pd(h,n,P.classes),null!==P.styles&&ng(h,n,P.styles)));const te=l.createRenderer(n,i),Ie=Zc(s,kf(i),null,i.onPush?64:16,s[20],P,l,te,m||null,null);return E.firstCreatePass&&(kt(L(P,s),E,i.type),tu(E,P),Oh(P,s.length,1)),Qc(s,Ie),s[20]=Ie}(te,this.componentDef,Zt,E,P);if(te)if(l)yl(P,te,["ng-version",V_.full]);else{const{attrs:rn,classes:ni}=function Lm(n){const i=[],s=[];let l=1,h=2;for(;l<n.length;){let m=n[l];if("string"==typeof m)2===h?""!==m&&i.push(m,n[++l]):8===h&&s.push(m);else{if(!cl(h))break;h=m}l++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);rn&&yl(P,te,rn),ni&&ni.length>0&&pd(P,te,ni.join(" "))}if(Dn=$n(dt,20),void 0!==s){const rn=Dn.projection=[];for(let ni=0;ni<this.ngContentSelectors.length;ni++){const tr=s[ni];rn.push(null!=tr?Array.from(tr):null)}}fn=function Hh(n,i,s,l,h){const m=s[1],E=function Yc(n,i,s){const l=lr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),bg(n,l,i,Iu(n,i,1,null),s));const h=qs(i,n,l.directiveStart,l);po(h,i);const m=zt(l,i);return m&&po(m,i),h}(m,s,i);if(l.components.push(E),n[8]=E,h&&h.forEach(P=>P(E,i)),i.contentQueries){const P=lr();i.contentQueries(1,E,P.directiveStart)}const I=lr();return!m.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Aa(I.index),Id(s[1],I,0,I.directiveStart,I.directiveEnd,i),xh(i,E)),E}(Vn,this.componentDef,Zt,ze,[sp]),Au(dt,Zt,null)}finally{so()}return new EE(this.componentType,fn,Xh(Dn,Zt),Zt,Dn)}}class EE extends class lE{}{constructor(i,s,l,h,m){super(),this.location=l,this._rootLView=h,this._tNode=m,this.instance=s,this.hostView=this.changeDetectorRef=new yE(h),this.componentType=i}get injector(){return new is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class ef{}class H_{}const tf=new Map;class G_ extends ef{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new U_(this);const l=Vt(i);this._bootstrapComponents=Va(l.bootstrap),this._r3Injector=Kf(i,s,[{provide:ef,useValue:this},{provide:Dm,useValue:this.componentFactoryResolver}],ce(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=ru.THROW_IF_NOT_FOUND,l=un.Default){return i===ru||i===ef||i===Jc?this:this._r3Injector.get(i,s,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class nv extends H_{constructor(i){super(),this.moduleType=i,null!==Vt(i)&&function CE(n){const i=new Set;!function s(l){const h=Vt(l,!0),m=h.id;null!==m&&(function j_(n,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${n} - ${ce(i)} vs ${ce(i.name)}`)}(m,tf.get(m),l),tf.set(m,l));const E=Va(h.imports);for(const I of E)i.has(I)||(i.add(I),s(I))}(n)}(i)}create(i){return new G_(this.moduleType,i)}}function z_(n,i,s){const l=Wr()+n,h=Wt();return h[l]===gi?dl(h,l,s?i.call(s):i()):function wc(n,i){return n[i]}(h,l)}function W_(n,i,s,l){return q_(Wt(),Wr(),n,i,s,l)}function Z_(n,i,s,l,h){return function Y_(n,i,s,l,h,m,E){const I=i+s;return Ju(n,I,h,m)?dl(n,I+2,E?l.call(E,h,m):l(h,m)):Zp(n,I+2)}(Wt(),Wr(),n,i,s,l,h)}function K_(n,i,s,l,h,m){return function Q_(n,i,s,l,h,m,E,I){const P=i+s;return Vd(n,P,h,m,E)?dl(n,P+3,I?l.call(I,h,m,E):l(h,m,E)):Zp(n,P+3)}(Wt(),Wr(),n,i,s,l,h,m)}function Zp(n,i){const s=n[i];return s===gi?void 0:s}function q_(n,i,s,l,h,m){const E=i+s;return Mo(n,E,h)?dl(n,E+1,m?l.call(m,h):l(h)):Zp(n,E+1)}function e0(n,i){const s=bi();let l;const h=n+20;s.firstCreatePass?(l=function OE(n,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(n===l.name)return l}}(i,s.pipeRegistry),s.data[h]=l,l.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(h,l.onDestroy)):l=s.data[h];const m=l.factory||(l.factory=Un(l.type)),E=nn($d);try{const I=ai(!1),P=m();return ai(I),function by(n,i,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=l}(s,Wt(),h,P),P}finally{nn(E)}}function t0(n,i,s){const l=n+20,h=Wt(),m=yi(h,l);return function Kp(n,i){return n[1].data[i].pure}(h,l)?q_(h,Wr(),i,m.transform,s,m):m.transform(s)}function iv(n){return i=>{setTimeout(n,void 0,i)}}const ec=class kE extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){var h,m,E;let I=i,P=s||(()=>null),G=l;if(i&&"object"==typeof i){const Ie=i;I=null===(h=Ie.next)||void 0===h?void 0:h.bind(Ie),P=null===(m=Ie.error)||void 0===m?void 0:m.bind(Ie),G=null===(E=Ie.complete)||void 0===E?void 0:E.bind(Ie)}this.__isAsync&&(P=iv(P),I&&(I=iv(I)),G&&(G=iv(G)));const te=super.subscribe({next:I,error:P,complete:G});return i instanceof d.w0&&i.add(te),te}};function LE(){return this._results[Qu()]()}class rv{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Qu(),l=rv.prototype;l[s]||(l[s]=LE)}get changes(){return this._changes||(this._changes=new ec)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const h=Mr(i);(this._changesDetected=!function br(n,i,s){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let h=n[l],m=i[l];if(s&&(h=s(h),m=s(m)),m!==h)return!1}return!0}(l._results,h,s))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let qp=(()=>{class n{}return n.__NG_ELEMENT_ID__=UE,n})();const FE=qp,VE=class extends FE{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(i){const s=this._declarationTContainer.tViews,l=Zc(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(l[19]=m.createEmbeddedView(s)),Au(s,l,i),new Wp(l)}};function UE(){return Am(lr(),Wt())}function Am(n,i){return 4&n.type?new VE(i,n,Xh(n,i)):null}let Sm=(()=>{class n{}return n.__NG_ELEMENT_ID__=BE,n})();function BE(){return s0(lr(),Wt())}const HE=Sm,n0=class extends HE{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return Xh(this._hostTNode,this._hostLView)}get injector(){return new is(this._hostTNode,this._hostLView)}get parentInjector(){const i=He(this._hostTNode,this._hostLView);if(Fl(i)){const s=vs(i,this._hostLView),l=Gi(i);return new is(s[1].data[l+8],s)}return new is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=r0(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,l){const h=i.createEmbeddedView(s||{});return this.insert(h,l),h}createComponent(i,s,l,h,m){const E=i&&!function Ga(n){return"function"==typeof n}(i);let I;if(E)I=s;else{const Ie=s||{};I=Ie.index,l=Ie.injector,h=Ie.projectableNodes,m=Ie.ngModuleRef}const P=E?i:new tv(Se(i)),G=l||this.parentInjector;if(!m&&null==P.ngModule){const ze=(E?G:this.parentInjector).get(ef,null);ze&&(m=ze)}const te=P.create(G,h,void 0,m);return this.insert(te.hostView,I),te}insert(i,s){const l=i._lView,h=l[1];if(function Bi(n){return qi(n[3])}(l)){const te=this.indexOf(i);if(-1!==te)this.detach(te);else{const Ie=l[3],ze=new n0(Ie,Ie[6],Ie[3]);ze.detach(ze.indexOf(i))}}const m=this._adjustIndex(s),E=this._lContainer;!function lf(n,i,s,l){const h=10+l,m=s.length;l>0&&(s[h-1][4]=i),l<m-10?(i[4]=s[h],Bl(s,10+l,i)):(s.push(i),i[4]=null),i[3]=s;const E=i[17];null!==E&&s!==E&&function uf(n,i){const s=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===s?n[9]=[i]:s.push(i)}(E,i);const I=i[19];null!==I&&I.insertView(n),i[2]|=128}(h,l,E,m);const I=gf(m,E),P=l[11],G=fd(P,E[7]);return null!==G&&function of(n,i,s,l,h,m){l[0]=h,l[6]=i,Tu(n,l,s,1,h,m)}(h,E[6],P,l,G,I),i.attachToViewContainerRef(),Bl(sv(E),m,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=r0(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=dh(this._lContainer,s);l&&(Zo(sv(this._lContainer),s),Qp(l[1],l))}detach(i){const s=this._adjustIndex(i,-1),l=dh(this._lContainer,s);return l&&null!=Zo(sv(this._lContainer),s)?new Wp(l):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function r0(n){return n[8]}function sv(n){return n[8]||(n[8]=[])}function s0(n,i){let s;const l=i[n.index];if(qi(l))s=l;else{let h;if(8&n.type)h=F(l);else{const m=i[11];h=m.createComment("");const E=zt(n,i);Ol(m,fd(m,E),h,function Jp(n,i){return Ui(n)?n.nextSibling(i):i.nextSibling}(m,E),!1)}i[n.index]=s=vc(l,i,h,n),Qc(i,s)}return new n0(s,n,i)}class ov{constructor(i){this.queryList=i,this.matches=null}clone(){return new ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class av{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,h=[];for(let m=0;m<l;m++){const E=s.getByIndex(m);h.push(this.queries[E.indexInDeclarationView].clone())}return new av(h)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==p0(i,s).matches&&this.queries[s].setDirty()}}class o0{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class lv{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const h=null!==s?s.length:0,m=this.getByIndex(l).embeddedTView(i,h);m&&(m.indexInDeclarationView=l,null!==s?s.push(m):s=[m])}return null!==s?new lv(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class uv{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new uv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const m=l[h];this.matchTNodeWithReadOption(i,s,GE(s,m)),this.matchTNodeWithReadOption(i,s,zo(s,i,m,!1,!1))}else l===qp?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,zo(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===zp||h===Sm||h===qp&&4&s.type)this.addMatch(s.index,-2);else{const m=zo(s,i,h,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function GE(n,i){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function WE(n,i,s,l){return-1===s?function zE(n,i){return 11&n.type?Xh(n,i):4&n.type?Am(n,i):null}(i,n):-2===s?function ZE(n,i,s){return s===zp?Xh(i,n):s===qp?Am(i,n):s===Sm?s0(i,n):void 0}(n,i,l):qs(n,n[1],s,i)}function a0(n,i,s,l){const h=i[19].queries[l];if(null===h.matches){const m=n.data,E=s.matches,I=[];for(let P=0;P<E.length;P+=2){const G=E[P];I.push(G<0?null:WE(i,m[G],E[P+1],s.metadata.read))}h.matches=I}return h.matches}function cv(n,i,s,l){const h=n.queries.getByIndex(s),m=h.matches;if(null!==m){const E=a0(n,i,h,s);for(let I=0;I<m.length;I+=2){const P=m[I];if(P>0)l.push(E[I/2]);else{const G=m[I+1],te=i[-P];for(let Ie=10;Ie<te.length;Ie++){const ze=te[Ie];ze[17]===ze[3]&&cv(ze[1],ze,G,l)}if(null!==te[9]){const Ie=te[9];for(let ze=0;ze<Ie.length;ze++){const dt=Ie[ze];cv(dt[1],dt,G,l)}}}}}return l}function l0(n){const i=Wt(),s=bi(),l=tl();Da(l+1);const h=p0(s,l);if(n.dirty&&hi(i)===(2==(2&h.metadata.flags))){if(null===h.matches)n.reset([]);else{const m=h.crossesNgTemplate?cv(s,i,l,[]):a0(s,i,h,l);n.reset(m,hE),n.notifyOnChanges()}return!0}return!1}function u0(n,i,s){const l=bi();l.firstCreatePass&&(f0(l,new o0(n,i,s),-1),2==(2&i)&&(l.staticViewQueries=!0)),h0(l,Wt(),i)}function c0(n,i,s,l){const h=bi();if(h.firstCreatePass){const m=lr();f0(h,new o0(i,s,l),m.index),function qE(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(h,n),2==(2&s)&&(h.staticContentQueries=!0)}h0(h,Wt(),s)}function d0(){return function KE(n,i){return n[19].queries[i].queryList}(Wt(),tl())}function h0(n,i,s){const l=new rv(4==(4&s));Kc(n,i,l,l.destroy),null===i[19]&&(i[19]=new av),i[19].queries.push(new ov(l))}function f0(n,i,s){null===n.queries&&(n.queries=new lv),n.queries.track(new uv(i,s))}function p0(n,i){return n.queries.getByIndex(i)}function g0(n,i){return Am(n,i)}const hw=Ul("HostBinding",n=>({hostPropertyName:n})),fw=Ul("HostListener",(n,i)=>({eventName:n,args:i}));function Mm(...n){}const P0=new Tr("Application Initializer");let mv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Mm,this.reject=Mm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(id(m))s.push(m);else if(Tp(m)){const E=new Promise((I,P)=>{m.subscribe({complete:I,error:P})});s.push(E)}}Promise.all(s).then(()=>{l()}).catch(h=>{this.reject(h)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(an(P0,8))},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const R0=new Tr("AppId",{providedIn:"root",factory:function N0(){return`${yv()}${yv()}${yv()}`}});function yv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const k0=new Tr("Platform Initializer"),pw=new Tr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),L0=new Tr("appBootstrapListener");let gw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const vv=new Tr("LocaleId",{providedIn:"root",factory:()=>ri(vv,un.Optional|un.SkipSelf)||function mw(){return"undefined"!=typeof $localize&&$localize.locale||bm}()}),yw=new Tr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vw{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let _w=(()=>{class n{compileModuleSync(s){return new nv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),m=Va(Vt(s).declarations).reduce((E,I)=>{const P=Se(I);return P&&E.push(new tv(P)),E},[]);return new vw(l,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ew=(()=>Promise.resolve(0))();function _v(n){"undefined"==typeof Zone?Ew.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ru{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ec(!1),this.onMicrotaskEmpty=new ec(!1),this.onStable=new ec(!1),this.onError=new ec(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&s,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function ww(){let n=Ee.requestAnimationFrame,i=Ee.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Dw(n){const i=()=>{!function Tw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ee,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ev(n),n.isCheckStableRunning=!0,bv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ev(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,h,m,E,I)=>{try{return F0(n),s.invokeTask(h,m,E,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||n.shouldCoalesceRunChangeDetection)&&i(),V0(n)}},onInvoke:(s,l,h,m,E,I,P)=>{try{return F0(n),s.invoke(h,m,E,I,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),V0(n)}},onHasTask:(s,l,h,m)=>{s.hasTask(h,m),l===h&&("microTask"==m.change?(n._hasPendingMicrotasks=m.microTask,Ev(n),bv(n)):"macroTask"==m.change&&(n.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,l,h,m)=>(s.handleError(h,m),n.runOutsideAngular(()=>n.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ru.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ru.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,h){const m=this._inner,E=m.scheduleEventTask("NgZoneEvent: "+h,i,Cw,Mm,Mm);try{return m.runTask(E,s,l)}finally{m.cancelTask(E)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const Cw={};function bv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ev(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function F0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function V0(n){n._nesting--,bv(n)}class Iw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ec,this.onMicrotaskEmpty=new ec,this.onStable=new ec,this.onError=new ec}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,h){return i.apply(s,l)}}let U0=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ru.assertNotInAngularZone(),_v(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_v(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,h){let m=-1;l&&l>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==m),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:h})}whenStable(s,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,l,h){return[]}}return n.\u0275fac=function(s){return new(s||n)(an(Ru))},n.\u0275prov=Nt({token:n,factory:n.\u0275fac}),n})(),Aw=(()=>{class n{constructor(){this._applications=new Map,wv.addToWindow(this)}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return wv.findTestabilityInTree(this,s,l)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class Sw{addToWindow(i){}findTestabilityInTree(i,s,l){return null}}function xw(n){wv=n}let wv=new Sw,th=null;const B0=new Tr("AllowMultipleToken"),H0=new Tr("PlatformOnDestroy");class Pw{constructor(i,s){this.name=i,this.token=s}}function j0(n,i,s=[]){const l=`Platform: ${i}`,h=new Tr(l);return(m=[])=>{let E=Cv();if(!E||E.injector.get(B0,!1)){const I=[...s,...m,{provide:h,useValue:!0}];n?n(I):function Rw(n){if(th&&!th.get(B0,!1))throw new ft(400,"");th=n;const i=n.get($0),s=n.get(k0,null);s&&s.forEach(l=>l())}(function kw(n=[],i){return ru.create({name:i,providers:[{provide:Md,useValue:"platform"},{provide:H0,useValue:()=>th=null},...n]})}(I,l))}return function Nw(n){const i=Cv();if(!i)throw new ft(401,"");return i}()}}function Cv(){var n;return null!==(n=null==th?void 0:th.get($0))&&void 0!==n?n:null}let $0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const I=function Lw(n,i){let s;return s="noop"===n?new Iw:("zone.js"===n?void 0:n)||new Ru({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),P=[{provide:Ru,useValue:I}];return I.run(()=>{const G=ru.create({providers:P,parent:this.injector,name:s.moduleType.name}),te=s.create(G),Ie=te.injector.get(_n,null);if(!Ie)throw new ft(402,"");return I.runOutsideAngular(()=>{const ze=I.onError.subscribe({next:dt=>{Ie.handleError(dt)}});te.onDestroy(()=>{Dv(this._modules,te),ze.unsubscribe()})}),function Fw(n,i,s){try{const l=s();return id(l)?l.catch(h=>{throw i.runOutsideAngular(()=>n.handleError(h)),h}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(Ie,I,()=>{const ze=te.injector.get(mv);return ze.runInitializers(),ze.donePromise.then(()=>(function fb(n){pt(n,"Expected localeId to be defined"),"string"==typeof n&&(l_=n.toLowerCase().replace(/_/g,"-"))}(te.injector.get(vv,bm)||bm),this._moduleDoBootstrap(te),te))})})}bootstrapModule(s,l=[]){const h=G0({},l);return function Ow(n,i,s){const l=new nv(s);return Promise.resolve(l)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(s){const l=s.injector.get(Tv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!s.instance.ngDoBootstrap)throw new ft(403,"");s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ft(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(H0,null);null==s||s(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(an(ru))},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function G0(n,i){return Array.isArray(i)?i.reduce(G0,n):Object.assign(Object.assign({},n),i)}let Tv=(()=>{class n{constructor(s,l,h,m){this._zone=s,this._injector=l,this._exceptionHandler=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new W.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),I=new W.y(P=>{let G;this._zone.runOutsideAngular(()=>{G=this._zone.onStable.subscribe(()=>{Ru.assertNotInAngularZone(),_v(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const te=this._zone.onUnstable.subscribe(()=>{Ru.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{G.unsubscribe(),te.unsubscribe()}});this.isStable=(0,Ce.T)(E,I.pipe((0,ve.B)()))}bootstrap(s,l){if(!this._initStatus.done)throw new ft(405,"");let h;h=s instanceof N_?s:this._injector.get(Dm).resolveComponentFactory(s),this.componentTypes.push(h.componentType);const m=function Mw(n){return n.isBoundToModule}(h)?void 0:this._injector.get(ef),I=h.create(ru.NULL,[],l||h.selector,m),P=I.location.nativeElement,G=I.injector.get(U0,null),te=G&&I.injector.get(Aw);return G&&te&&te.registerApplication(P,G),I.onDestroy(()=>{this.detachView(I.hostView),Dv(this.components,I),te&&te.unregisterApplication(P)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new ft(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Dv(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(L0,[]).concat(this._bootstrapListeners).forEach(h=>h(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(an(Ru),an(ru),an(_n),an(mv))},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dv(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}let W0=!0,Z0=!1;function Uw(){return Z0=!0,W0}function Bw(){if(Z0)throw new Error("Cannot enable prod mode after platform setup.");W0=!1}let Hw=(()=>{class n{}return n.__NG_ELEMENT_ID__=jw,n})();function jw(n){return function $w(n,i,s){if(as(n)&&!s){const l=ei(n.index,i);return new Wp(l,l)}return 47&n.type?new Wp(i[16],i):null}(lr(),Wt(),16==(16&n))}class Q0{constructor(){}supports(i){return Fd(i)}create(i){return new qw(i)}}const Kw=(n,i)=>i;class qw{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Kw}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,h=0,m=null;for(;s||l;){const E=!l||s&&s.currentIndex<X0(l,h,m)?s:l,I=X0(E,h,m),P=E.currentIndex;if(E===l)h--,l=l._nextRemoved;else if(s=s._next,null==E.previousIndex)h++;else{m||(m=[]);const G=I-h,te=P-h;if(G!=te){for(let ze=0;ze<G;ze++){const dt=ze<m.length?m[ze]:m[ze]=0,Zt=dt+ze;te<=Zt&&Zt<G&&(m[ze]=dt+1)}m[E.previousIndex]=te-G}}I!==P&&i(E,I,P)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Fd(i))throw new ft(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let h,m,E,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let I=0;I<this.length;I++)m=i[I],E=this._trackByFn(I,m),null!==s&&Object.is(s.trackById,E)?(l&&(s=this._verifyReinsertion(s,m,E,I)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,E,I),l=!0),s=s._next}else h=0,function Fg(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Qu()]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,I=>{E=this._trackByFn(h,I),null!==s&&Object.is(s.trackById,E)?(l&&(s=this._verifyReinsertion(s,I,E,h)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,E,h),l=!0),s=s._next,h++}),this.length=h;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,h){let m;return null===i?m=this._itTail:(m=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,m,h)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,m,h)):i=this._addAfter(new Yw(s,l),m,h),i}_verifyReinsertion(i,s,l,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==m?i=this._reinsertAfter(m,i._prev,h):i.currentIndex!=h&&(i.currentIndex=h,this._addToMoves(i,h)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const h=i._prevRemoved,m=i._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const h=null===s?this._itHead:s._next;return i._next=h,i._prev=s,null===h?this._itTail=i:h._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new J0),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new J0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Yw{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class J0{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new Qw,this.map.set(s,l)),l.add(i)}get(i,s){const h=this.map.get(i);return h?h.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function X0(n,i,s){const l=n.previousIndex;if(null===l)return l;let h=0;return s&&l<s.length&&(h=s[l]),l+i+h}class eb{constructor(){}supports(i){return i instanceof Map||dp(i)}create(){return new Jw}}class Jw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||dp(i)))throw new ft(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,h)=>{if(s&&s.key===h)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(h,l);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const h=this._records.get(i);this._maybeAddToChanges(h,s);const m=h._prev,E=h._next;return m&&(m._next=E),E&&(E._prev=m),h._next=null,h._prev=null,h}const l=new Xw(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class Xw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tb(){return new Ov([new Q0])}let Ov=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const h=l.factories.slice();s=s.concat(h)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||tb()),deps:[[n,new ka,new ho]]}}find(s){const l=this.factories.find(h=>h.supports(s));if(null!=l)return l;throw new ft(901,"")}}return n.\u0275prov=Nt({token:n,providedIn:"root",factory:tb}),n})();function nb(){return new Mv([new eb])}let Mv=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const h=l.factories.slice();s=s.concat(h)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||nb()),deps:[[n,new ka,new ho]]}}find(s){const l=this.factories.find(m=>m.supports(s));if(l)return l;throw new ft(901,"")}}return n.\u0275prov=Nt({token:n,providedIn:"root",factory:nb}),n})();const nC=j0(null,"core",[]);let iC=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(an(Tv))},n.\u0275mod=ye({type:n}),n.\u0275inj=gn({}),n})()},3075:(Jt,Ze,x)=>{x.d(Ze,{Cf:()=>Ye,EJ:()=>Un,Fj:()=>it,JJ:()=>un,JL:()=>Pi,JU:()=>ce,Kr:()=>na,NI:()=>Ln,On:()=>as,UX:()=>hi,Wl:()=>ee,YN:()=>Cs,_:()=>st,_Y:()=>ls,a5:()=>vi,cw:()=>Qr,kI:()=>yt,oH:()=>bn,qu:()=>Bi,sg:()=>Zi,u:()=>pr,u5:()=>ei});var p=x(5e3),d=x(9808),W=x(8996),Ce=x(4128),ve=x(4004);let ke=(()=>{class H{constructor(M,re){this._renderer=M,this._elementRef=re,this.onChange=Pt=>{},this.onTouched=()=>{}}setProperty(M,re){this._renderer.setProperty(this._elementRef.nativeElement,M,re)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return H.\u0275fac=function(M){return new(M||H)(p.Y36(p.Qsj),p.Y36(p.SBq))},H.\u0275dir=p.lG2({type:H}),H})(),be=(()=>{class H extends ke{}return H.\u0275fac=function(){let N;return function(re){return(N||(N=p.n5z(H)))(re||H)}}(),H.\u0275dir=p.lG2({type:H,features:[p.qOj]}),H})();const ce=new p.OlP("NgValueAccessor"),Q={provide:ce,useExisting:(0,p.Gpc)(()=>ee),multi:!0};let ee=(()=>{class H extends be{writeValue(M){this.setProperty("checked",M)}}return H.\u0275fac=function(){let N;return function(re){return(N||(N=p.n5z(H)))(re||H)}}(),H.\u0275dir=p.lG2({type:H,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(M,re){1&M&&p.NdJ("change",function(Sn){return re.onChange(Sn.target.checked)})("blur",function(){return re.onTouched()})},features:[p._Bn([Q]),p.qOj]}),H})();const ue={provide:ce,useExisting:(0,p.Gpc)(()=>it),multi:!0},ct=new p.OlP("CompositionEventMode");let it=(()=>{class H extends ke{constructor(M,re,Pt){super(M,re),this._compositionMode=Pt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ne(){const H=(0,d.q)()?(0,d.q)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(M){this.setProperty("value",null==M?"":M)}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return H.\u0275fac=function(M){return new(M||H)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(ct,8))},H.\u0275dir=p.lG2({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,re){1&M&&p.NdJ("input",function(Sn){return re._handleInput(Sn.target.value)})("blur",function(){return re.onTouched()})("compositionstart",function(){return re._compositionStart()})("compositionend",function(Sn){return re._compositionEnd(Sn.target.value)})},features:[p._Bn([ue]),p.qOj]}),H})();function ft(H){return null==H||0===H.length}function ut(H){return null!=H&&"number"==typeof H.length}const Ye=new p.OlP("NgValidators"),lt=new p.OlP("NgAsyncValidators"),Be=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class yt{static min(N){return function ge(H){return N=>{if(ft(N.value)||ft(H))return null;const M=parseFloat(N.value);return!isNaN(M)&&M<H?{min:{min:H,actual:N.value}}:null}}(N)}static max(N){return function we(H){return N=>{if(ft(N.value)||ft(H))return null;const M=parseFloat(N.value);return!isNaN(M)&&M>H?{max:{max:H,actual:N.value}}:null}}(N)}static required(N){return function et(H){return ft(H.value)?{required:!0}:null}(N)}static requiredTrue(N){return function wt(H){return!0===H.value?null:{required:!0}}(N)}static email(N){return function q(H){return ft(H.value)||Be.test(H.value)?null:{email:!0}}(N)}static minLength(N){return function qe(H){return N=>ft(N.value)||!ut(N.value)?null:N.value.length<H?{minlength:{requiredLength:H,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function tt(H){return N=>ut(N.value)&&N.value.length>H?{maxlength:{requiredLength:H,actualLength:N.value.length}}:null}(N)}static pattern(N){return function Le(H){if(!H)return Ue;let N,M;return"string"==typeof H?(M="","^"!==H.charAt(0)&&(M+="^"),M+=H,"$"!==H.charAt(H.length-1)&&(M+="$"),N=new RegExp(M)):(M=H.toString(),N=H),re=>{if(ft(re.value))return null;const Pt=re.value;return N.test(Pt)?null:{pattern:{requiredPattern:M,actualValue:Pt}}}}(N)}static nullValidator(N){return null}static compose(N){return pt(N)}static composeAsync(N){return Ae(N)}}function Ue(H){return null}function Xe(H){return null!=H}function nt(H){const N=(0,p.QGY)(H)?(0,W.D)(H):H;return(0,p.CqO)(N),N}function ot(H){let N={};return H.forEach(M=>{N=null!=M?Object.assign(Object.assign({},N),M):N}),0===Object.keys(N).length?null:N}function xt(H,N){return N.map(M=>M(H))}function gt(H){return H.map(N=>function sn(H){return!H.validate}(N)?N:M=>N.validate(M))}function pt(H){if(!H)return null;const N=H.filter(Xe);return 0==N.length?null:function(M){return ot(xt(M,N))}}function K(H){return null!=H?pt(gt(H)):null}function Ae(H){if(!H)return null;const N=H.filter(Xe);return 0==N.length?null:function(M){const re=xt(M,N).map(nt);return(0,Ce.D)(re).pipe((0,ve.U)(ot))}}function Ge(H){return null!=H?Ae(gt(H)):null}function Rt(H,N){return null===H?[N]:Array.isArray(H)?[...H,N]:[H,N]}function Nt(H){return H._rawValidators}function tn(H){return H._rawAsyncValidators}function gn(H){return H?Array.isArray(H)?H:[H]:[]}function An(H,N){return Array.isArray(H)?H.includes(N):H===N}function zn(H,N){const M=gn(N);return gn(H).forEach(Pt=>{An(M,Pt)||M.push(Pt)}),M}function Xn(H,N){return gn(N).filter(M=>!An(H,M))}class Hn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=K(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=Ge(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,M){return!!this.control&&this.control.hasError(N,M)}getError(N,M){return this.control?this.control.getError(N,M):null}}class vi extends Hn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kn extends Hn{get formDirective(){return null}get path(){return null}}class xi{constructor(N){this._cd=N}is(N){var M,re,Pt;return"submitted"===N?!!(null===(M=this._cd)||void 0===M?void 0:M.submitted):!!(null===(Pt=null===(re=this._cd)||void 0===re?void 0:re.control)||void 0===Pt?void 0:Pt[N])}}let un=(()=>{class H extends xi{constructor(M){super(M)}}return H.\u0275fac=function(M){return new(M||H)(p.Y36(vi,2))},H.\u0275dir=p.lG2({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,re){2&M&&p.ekj("ng-untouched",re.is("untouched"))("ng-touched",re.is("touched"))("ng-pristine",re.is("pristine"))("ng-dirty",re.is("dirty"))("ng-valid",re.is("valid"))("ng-invalid",re.is("invalid"))("ng-pending",re.is("pending"))},features:[p.qOj]}),H})(),Pi=(()=>{class H extends xi{constructor(M){super(M)}}return H.\u0275fac=function(M){return new(M||H)(p.Y36(Kn,10))},H.\u0275dir=p.lG2({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,re){2&M&&p.ekj("ng-untouched",re.is("untouched"))("ng-touched",re.is("touched"))("ng-pristine",re.is("pristine"))("ng-dirty",re.is("dirty"))("ng-valid",re.is("valid"))("ng-invalid",re.is("invalid"))("ng-pending",re.is("pending"))("ng-submitted",re.is("submitted"))},features:[p.qOj]}),H})();function St(H,N){return[...N.path,H]}function Tt(H,N){z(H,N),N.valueAccessor.writeValue(H.value),function _e(H,N){N.valueAccessor.registerOnChange(M=>{H._pendingValue=M,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&vt(H,N)})}(H,N),function Ot(H,N){const M=(re,Pt)=>{N.valueAccessor.writeValue(re),Pt&&N.viewToModelUpdate(re)};H.registerOnChange(M),N._registerOnDestroy(()=>{H._unregisterOnChange(M)})}(H,N),function Ve(H,N){N.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&vt(H,N),"submit"!==H.updateOn&&H.markAsTouched()})}(H,N),function pn(H,N){if(N.valueAccessor.setDisabledState){const M=re=>{N.valueAccessor.setDisabledState(re)};H.registerOnDisabledChange(M),N._registerOnDestroy(()=>{H._unregisterOnDisabledChange(M)})}}(H,N)}function vn(H,N,M=!0){const re=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(re),N.valueAccessor.registerOnTouched(re)),he(H,N),H&&(N._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function wn(H,N){H.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(N)})}function z(H,N){const M=Nt(H);null!==N.validator?H.setValidators(Rt(M,N.validator)):"function"==typeof M&&H.setValidators([M]);const re=tn(H);null!==N.asyncValidator?H.setAsyncValidators(Rt(re,N.asyncValidator)):"function"==typeof re&&H.setAsyncValidators([re]);const Pt=()=>H.updateValueAndValidity();wn(N._rawValidators,Pt),wn(N._rawAsyncValidators,Pt)}function he(H,N){let M=!1;if(null!==H){if(null!==N.validator){const Pt=Nt(H);if(Array.isArray(Pt)&&Pt.length>0){const Sn=Pt.filter(ki=>ki!==N.validator);Sn.length!==Pt.length&&(M=!0,H.setValidators(Sn))}}if(null!==N.asyncValidator){const Pt=tn(H);if(Array.isArray(Pt)&&Pt.length>0){const Sn=Pt.filter(ki=>ki!==N.asyncValidator);Sn.length!==Pt.length&&(M=!0,H.setAsyncValidators(Sn))}}}const re=()=>{};return wn(N._rawValidators,re),wn(N._rawAsyncValidators,re),M}function vt(H,N){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function X(H,N){if(!H.hasOwnProperty("model"))return!1;const M=H.model;return!!M.isFirstChange()||!Object.is(N,M.currentValue)}function Je(H,N){if(!N)return null;let M,re,Pt;return Array.isArray(N),N.forEach(Sn=>{Sn.constructor===it?M=Sn:function ie(H){return Object.getPrototypeOf(H.constructor)===be}(Sn)?re=Sn:Pt=Sn}),Pt||re||M||null}function Lt(H,N){const M=H.indexOf(N);M>-1&&H.splice(M,1)}const yn="VALID",Cn="INVALID",Ei="PENDING",Ti="DISABLED";function wr(H){return(mi(H)?H.validators:H)||null}function Mi(H){return Array.isArray(H)?K(H):H||null}function Yt(H,N){return(mi(N)?N.asyncValidators:H)||null}function Zn(H){return Array.isArray(H)?Ge(H):H||null}function mi(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}const Hi=H=>H instanceof Ln,vr=H=>H instanceof Qr,ji=H=>H instanceof Wi;function or(H){return Hi(H)?H.value:H.getRawValue()}function ii(H,N){const M=vr(H),re=H.controls;if(!(M?Object.keys(re):re).length)throw new p.vHH(1e3,"");if(!re[N])throw new p.vHH(1001,"")}function Cr(H,N){vr(H),H._forEachChild((re,Pt)=>{if(void 0===N[Pt])throw new p.vHH(1002,"")})}class Ii{constructor(N,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=N,this._rawAsyncValidators=M,this._composedValidatorFn=Mi(this._rawValidators),this._composedAsyncValidatorFn=Zn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===yn}get invalid(){return this.status===Cn}get pending(){return this.status==Ei}get disabled(){return this.status===Ti}get enabled(){return this.status!==Ti}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._rawValidators=N,this._composedValidatorFn=Mi(N)}setAsyncValidators(N){this._rawAsyncValidators=N,this._composedAsyncValidatorFn=Zn(N)}addValidators(N){this.setValidators(zn(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(zn(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(Xn(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(Xn(N,this._rawAsyncValidators))}hasValidator(N){return An(this._rawValidators,N)}hasAsyncValidator(N){return An(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=Ei,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const M=this._parentMarkedDirty(N.onlySelf);this.status=Ti,this.errors=null,this._forEachChild(re=>{re.disable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:M})),this._onDisabledChange.forEach(re=>re(!0))}enable(N={}){const M=this._parentMarkedDirty(N.onlySelf);this.status=yn,this._forEachChild(re=>{re.enable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:M})),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yn||this.status===Ei)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ti:yn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=Ei,this._hasOwnPendingAsyncValidator=!0;const M=nt(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(re,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,M={}){this.errors=N,this._updateControlsErrors(!1!==M.emitEvent)}get(N){return function Di(H,N,M){if(null==N||(Array.isArray(N)||(N=N.split(M)),Array.isArray(N)&&0===N.length))return null;let re=H;return N.forEach(Pt=>{re=vr(re)?re.controls.hasOwnProperty(Pt)?re.controls[Pt]:null:ji(re)&&re.at(Pt)||null}),re}(this,N,".")}getError(N,M){const re=M?this.get(M):this;return re&&re.errors?re.errors[N]:null}hasError(N,M){return!!this.getError(N,M)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Ti:this.errors?Cn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ei)?Ei:this._anyControlsHaveStatus(Cn)?Cn:yn}_anyControlsHaveStatus(N){return this._anyControls(M=>M.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_isBoxedValue(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){mi(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ln extends Ii{constructor(N=null,M,re){super(wr(M),Yt(re,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mi(M)&&M.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(N)?N.value:N)}setValue(N,M={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(N,M={}){this.setValue(N,M)}reset(N=this.defaultValue,M={}){this._applyFormState(N),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){Lt(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){Lt(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){this._isBoxedValue(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}}class Qr extends Ii{constructor(N,M,re){super(wr(M),Yt(re,M)),this.controls=N,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,M){return this.controls[N]?this.controls[N]:(this.controls[N]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(N,M,re={}){this.registerControl(N,M),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(N,M={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(N,M,re={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],M&&this.registerControl(N,M),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,M={}){Cr(this,N),Object.keys(N).forEach(re=>{ii(this,re),this.controls[re].setValue(N[re],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(N,M={}){null!=N&&(Object.keys(N).forEach(re=>{this.controls[re]&&this.controls[re].patchValue(N[re],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(N={},M={}){this._forEachChild((re,Pt)=>{re.reset(N[Pt],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(N,M,re)=>(N[re]=or(M),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(M,re)=>!!re._syncPendingControls()||M);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(M=>{const re=this.controls[M];re&&N(re,M)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const M of Object.keys(this.controls)){const re=this.controls[M];if(this.contains(M)&&N(re))return!0}return!1}_reduceValue(){return this._reduceChildren({},(N,M,re)=>((M.enabled||this.disabled)&&(N[re]=M.value),N))}_reduceChildren(N,M){let re=N;return this._forEachChild((Pt,Sn)=>{re=M(re,Pt,Sn)}),re}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Wi extends Ii{constructor(N,M,re){super(wr(M),Yt(re,M)),this.controls=N,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[N]}push(N,M={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(N,M,re={}){this.controls.splice(N,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:re.emitEvent})}removeAt(N,M={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(N,M,re={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),M&&(this.controls.splice(N,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,M={}){Cr(this,N),N.forEach((re,Pt)=>{ii(this,Pt),this.at(Pt).setValue(re,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(N,M={}){null!=N&&(N.forEach((re,Pt)=>{this.at(Pt)&&this.at(Pt).patchValue(re,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(N=[],M={}){this._forEachChild((re,Pt)=>{re.reset(N[Pt],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(N=>or(N))}clear(N={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_syncPendingControls(){let N=this.controls.reduce((M,re)=>!!re._syncPendingControls()||M,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){this.controls.forEach((M,re)=>{N(M,re)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(M=>M.enabled&&N(M))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}}const qi={provide:vi,useExisting:(0,p.Gpc)(()=>as)},Ai=(()=>Promise.resolve(null))();let as=(()=>{class H extends vi{constructor(M,re,Pt,Sn,ki){super(),this._changeDetectorRef=ki,this.control=new Ln,this._registered=!1,this.update=new p.vpe,this._parent=M,this._setValidators(re),this._setAsyncValidators(Pt),this.valueAccessor=Je(0,Sn)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const re=M.name.previousValue;this.formDirective.removeControl({name:re,path:this._getPath(re)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),X(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){Ai.then(()=>{var re;this.control.setValue(M,{emitViewToModelChange:!1}),null===(re=this._changeDetectorRef)||void 0===re||re.markForCheck()})}_updateDisabled(M){const re=M.isDisabled.currentValue,Pt=""===re||re&&"false"!==re;Ai.then(()=>{var Sn;Pt&&!this.control.disabled?this.control.disable():!Pt&&this.control.disabled&&this.control.enable(),null===(Sn=this._changeDetectorRef)||void 0===Sn||Sn.markForCheck()})}_getPath(M){return this._parent?St(M,this._parent):[M]}}return H.\u0275fac=function(M){return new(M||H)(p.Y36(Kn,9),p.Y36(Ye,10),p.Y36(lt,10),p.Y36(ce,10),p.Y36(p.sBO,8))},H.\u0275dir=p.lG2({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([qi]),p.qOj,p.TTD]}),H})(),ls=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275dir=p.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),H})();const Ar={provide:ce,useExisting:(0,p.Gpc)(()=>st),multi:!0};let Yi=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=p.oAB({type:H}),H.\u0275inj=p.cJS({}),H})(),Fs=(()=>{class H{constructor(){this._accessors=[]}add(M,re){this._accessors.push([M,re])}remove(M){for(let re=this._accessors.length-1;re>=0;--re)if(this._accessors[re][1]===M)return void this._accessors.splice(re,1)}select(M){this._accessors.forEach(re=>{this._isSameGroup(re,M)&&re[1]!==M&&re[1].fireUncheck(M.value)})}_isSameGroup(M,re){return!!M[0].control&&M[0]._parent===re._control._parent&&M[1].name===re.name}}return H.\u0275fac=function(M){return new(M||H)},H.\u0275prov=p.Yz7({token:H,factory:H.\u0275fac,providedIn:Yi}),H})(),st=(()=>{class H extends be{constructor(M,re,Pt,Sn){super(M,re),this._registry=Pt,this._injector=Sn,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(vi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(M){this._state=M===this.value,this.setProperty("checked",this._state)}registerOnChange(M){this._fn=M,this.onChange=()=>{M(this.value),this._registry.select(this)}}fireUncheck(M){this.writeValue(M)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return H.\u0275fac=function(M){return new(M||H)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Fs),p.Y36(p.zs3))},H.\u0275dir=p.lG2({type:H,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(M,re){1&M&&p.NdJ("change",function(){return re.onChange()})("blur",function(){return re.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[p._Bn([Ar]),p.qOj]}),H})();const Ht=new p.OlP("NgModelWithFormControlWarning"),on={provide:vi,useExisting:(0,p.Gpc)(()=>bn)};let bn=(()=>{class H extends vi{constructor(M,re,Pt,Sn){super(),this._ngModelWarningConfig=Sn,this.update=new p.vpe,this._ngModelWarningSent=!1,this._setValidators(M),this._setAsyncValidators(re),this.valueAccessor=Je(0,Pt)}set isDisabled(M){}ngOnChanges(M){if(this._isControlChanged(M)){const re=M.form.previousValue;re&&vn(re,this,!1),Tt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}X(M,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&vn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_isControlChanged(M){return M.hasOwnProperty("form")}}return H._ngModelWarningSentOnce=!1,H.\u0275fac=function(M){return new(M||H)(p.Y36(Ye,10),p.Y36(lt,10),p.Y36(ce,10),p.Y36(Ht,8))},H.\u0275dir=p.lG2({type:H,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[p._Bn([on]),p.qOj,p.TTD]}),H})();const jn={provide:Kn,useExisting:(0,p.Gpc)(()=>Zi)};let Zi=(()=>{class H extends Kn{constructor(M,re){super(),this.validators=M,this.asyncValidators=re,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(M),this._setAsyncValidators(re)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(he(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const re=this.form.get(M.path);return Tt(re,M),re.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),re}getControl(M){return this.form.get(M.path)}removeControl(M){vn(M.control||null,M,!1),Lt(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,re){this.form.get(M.path).setValue(re)}onSubmit(M){return this.submitted=!0,function Se(H,N){H._syncPendingControls(),N.forEach(M=>{const re=M.control;"submit"===re.updateOn&&re._pendingChange&&(M.viewToModelUpdate(re._pendingValue),re._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const re=M.control,Pt=this.form.get(M.path);re!==Pt&&(vn(re||null,M),Hi(Pt)&&(Tt(Pt,M),M.control=Pt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const re=this.form.get(M.path);(function de(H,N){z(H,N)})(re,M),re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const re=this.form.get(M.path);re&&function fe(H,N){return he(H,N)}(re,M)&&re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){z(this.form,this),this._oldForm&&he(this._oldForm,this)}_checkFormPresent(){}}return H.\u0275fac=function(M){return new(M||H)(p.Y36(Ye,10),p.Y36(lt,10))},H.\u0275dir=p.lG2({type:H,selectors:[["","formGroup",""]],hostBindings:function(M,re){1&M&&p.NdJ("submit",function(Sn){return re.onSubmit(Sn)})("reset",function(){return re.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([jn]),p.qOj,p.TTD]}),H})();const Gr={provide:vi,useExisting:(0,p.Gpc)(()=>pr)};let pr=(()=>{class H extends vi{constructor(M,re,Pt,Sn,ki){super(),this._ngModelWarningConfig=ki,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(re),this._setAsyncValidators(Pt),this.valueAccessor=Je(0,Sn)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),X(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return St(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return H._ngModelWarningSentOnce=!1,H.\u0275fac=function(M){return new(M||H)(p.Y36(Kn,13),p.Y36(Ye,10),p.Y36(lt,10),p.Y36(ce,10),p.Y36(Ht,8))},H.\u0275dir=p.lG2({type:H,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([Gr]),p.qOj,p.TTD]}),H})();const No={provide:ce,useExisting:(0,p.Gpc)(()=>Un),multi:!0};function Sr(H,N){return null==H?`${N}`:(N&&"object"==typeof N&&(N="Object"),`${H}: ${N}`.slice(0,50))}let Un=(()=>{class H extends be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){this.value=M;const Pt=Sr(this._getOptionId(M),M);this.setProperty("value",Pt)}registerOnChange(M){this.onChange=re=>{this.value=this._getOptionValue(re),M(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(M){for(const re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(re),M))return re;return null}_getOptionValue(M){const re=function Ms(H){return H.split(":")[0]}(M);return this._optionMap.has(re)?this._optionMap.get(re):M}}return H.\u0275fac=function(){let N;return function(re){return(N||(N=p.n5z(H)))(re||H)}}(),H.\u0275dir=p.lG2({type:H,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(M,re){1&M&&p.NdJ("change",function(Sn){return re.onChange(Sn.target.value)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([No]),p.qOj]}),H})(),Cs=(()=>{class H{constructor(M,re,Pt){this._element=M,this._renderer=re,this._select=Pt,this._select&&(this.id=this._select._registerOption())}set ngValue(M){null!=this._select&&(this._select._optionMap.set(this.id,M),this._setElementValue(Sr(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._setElementValue(M),this._select&&this._select.writeValue(this._select.value)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return H.\u0275fac=function(M){return new(M||H)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Un,9))},H.\u0275dir=p.lG2({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),H})();const Ps={provide:ce,useExisting:(0,p.Gpc)(()=>Xr),multi:!0};function Ts(H,N){return null==H?`${N}`:("string"==typeof N&&(N=`'${N}'`),N&&"object"==typeof N&&(N="Object"),`${H}: ${N}`.slice(0,50))}let Xr=(()=>{class H extends be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){let re;if(this.value=M,Array.isArray(M)){const Pt=M.map(Sn=>this._getOptionId(Sn));re=(Sn,ki)=>{Sn._setSelected(Pt.indexOf(ki.toString())>-1)}}else re=(Pt,Sn)=>{Pt._setSelected(!1)};this._optionMap.forEach(re)}registerOnChange(M){this.onChange=re=>{const Pt=[],Sn=re.selectedOptions;if(void 0!==Sn){const ki=Sn;for(let Ds=0;Ds<ki.length;Ds++){const Fo=this._getOptionValue(ki[Ds].value);Pt.push(Fo)}}else{const ki=re.options;for(let Ds=0;Ds<ki.length;Ds++){const hs=ki[Ds];if(hs.selected){const Fo=this._getOptionValue(hs.value);Pt.push(Fo)}}}this.value=Pt,M(Pt)}}_registerOption(M){const re=(this._idCounter++).toString();return this._optionMap.set(re,M),re}_getOptionId(M){for(const re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(re)._value,M))return re;return null}_getOptionValue(M){const re=function Ha(H){return H.split(":")[0]}(M);return this._optionMap.has(re)?this._optionMap.get(re)._value:M}}return H.\u0275fac=function(){let N;return function(re){return(N||(N=p.n5z(H)))(re||H)}}(),H.\u0275dir=p.lG2({type:H,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(M,re){1&M&&p.NdJ("change",function(Sn){return re.onChange(Sn.target)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},features:[p._Bn([Ps]),p.qOj]}),H})(),na=(()=>{class H{constructor(M,re,Pt){this._element=M,this._renderer=re,this._select=Pt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(M){null!=this._select&&(this._value=M,this._setElementValue(Ts(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._select?(this._value=M,this._setElementValue(Ts(this.id,M)),this._select.writeValue(this._select.value)):this._setElementValue(M)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}_setSelected(M){this._renderer.setProperty(this._element.nativeElement,"selected",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return H.\u0275fac=function(M){return new(M||H)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Xr,9))},H.\u0275dir=p.lG2({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),H})(),yi=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=p.oAB({type:H}),H.\u0275inj=p.cJS({imports:[[Yi]]}),H})(),ei=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=p.oAB({type:H}),H.\u0275inj=p.cJS({imports:[yi]}),H})(),hi=(()=>{class H{static withConfig(M){return{ngModule:H,providers:[{provide:Ht,useValue:M.warnOnNgModelWithFormControl}]}}}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=p.oAB({type:H}),H.\u0275inj=p.cJS({imports:[yi]}),H})(),Bi=(()=>{class H{group(M,re=null){const Pt=this._reduceControls(M);let Ds,Sn=null,ki=null;return null!=re&&(function Qi(H){return void 0!==H.asyncValidators||void 0!==H.validators||void 0!==H.updateOn}(re)?(Sn=null!=re.validators?re.validators:null,ki=null!=re.asyncValidators?re.asyncValidators:null,Ds=null!=re.updateOn?re.updateOn:void 0):(Sn=null!=re.validator?re.validator:null,ki=null!=re.asyncValidator?re.asyncValidator:null)),new Qr(Pt,{asyncValidators:ki,updateOn:Ds,validators:Sn})}control(M,re,Pt){return new Ln(M,re,Pt)}array(M,re,Pt){const Sn=M.map(ki=>this._createControl(ki));return new Wi(Sn,re,Pt)}_reduceControls(M){const re={};return Object.keys(M).forEach(Pt=>{re[Pt]=this._createControl(M[Pt])}),re}_createControl(M){return Hi(M)||vr(M)||ji(M)?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return H.\u0275fac=function(M){return new(M||H)},H.\u0275prov=p.Yz7({token:H,factory:H.\u0275fac,providedIn:hi}),H})()},2313:(Jt,Ze,x)=>{x.d(Ze,{H7:()=>fe,b2:()=>Mn,q6:()=>Kn,se:()=>nt});var p=x(9808),d=x(5e3);class W extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends W{static makeCurrent(){(0,p.HT)(new Ce)}onAndCancel(X,ie,Se){return X.addEventListener(ie,Se,!1),()=>{X.removeEventListener(ie,Se,!1)}}dispatchEvent(X,ie){X.dispatchEvent(ie)}remove(X){X.parentNode&&X.parentNode.removeChild(X)}createElement(X,ie){return(ie=ie||this.getDefaultDocument()).createElement(X)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(X){return X.nodeType===Node.ELEMENT_NODE}isShadowRoot(X){return X instanceof DocumentFragment}getGlobalEventTarget(X,ie){return"window"===ie?window:"document"===ie?X:"body"===ie?X.body:null}getBaseHref(X){const ie=function ke(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==ie?null:function ce($){be=be||document.createElement("a"),be.setAttribute("href",$);const X=be.pathname;return"/"===X.charAt(0)?X:`/${X}`}(ie)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(X){return(0,p.Mx)(document.cookie,X)}}let be,ve=null;const Q=new d.OlP("TRANSITION_ID"),ue=[{provide:d.ip1,useFactory:function ee($,X,ie){return()=>{ie.get(d.CZH).donePromise.then(()=>{const Se=(0,p.q)(),Je=X.querySelectorAll(`style[ng-transition="${$}"]`);for(let Lt=0;Lt<Je.length;Lt++)Se.remove(Je[Lt])})}},deps:[Q,p.K0,d.zs3],multi:!0}];class Ne{static init(){(0,d.VLi)(new Ne)}addToWindow(X){d.dqk.getAngularTestability=(Se,Je=!0)=>{const Lt=X.findTestabilityInTree(Se,Je);if(null==Lt)throw new Error("Could not find testability for element.");return Lt},d.dqk.getAllAngularTestabilities=()=>X.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>X.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(Se=>{const Je=d.dqk.getAllAngularTestabilities();let Lt=Je.length,Vt=!1;const En=function(yn){Vt=Vt||yn,Lt--,0==Lt&&Se(Vt)};Je.forEach(function(yn){yn.whenStable(En)})})}findTestabilityInTree(X,ie,Se){if(null==ie)return null;const Je=X.getTestability(ie);return null!=Je?Je:Se?(0,p.q)().isShadowRoot(ie)?this.findTestabilityInTree(X,ie.host,!0):this.findTestabilityInTree(X,ie.parentElement,!0):null}}let ct=(()=>{class ${build(){return new XMLHttpRequest}}return $.\u0275fac=function(ie){return new(ie||$)},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})();const it=new d.OlP("EventManagerPlugins");let ft=(()=>{class ${constructor(ie,Se){this._zone=Se,this._eventNameToPlugin=new Map,ie.forEach(Je=>Je.manager=this),this._plugins=ie.slice().reverse()}addEventListener(ie,Se,Je){return this._findPluginFor(Se).addEventListener(ie,Se,Je)}addGlobalEventListener(ie,Se,Je){return this._findPluginFor(Se).addGlobalEventListener(ie,Se,Je)}getZone(){return this._zone}_findPluginFor(ie){const Se=this._eventNameToPlugin.get(ie);if(Se)return Se;const Je=this._plugins;for(let Lt=0;Lt<Je.length;Lt++){const Vt=Je[Lt];if(Vt.supports(ie))return this._eventNameToPlugin.set(ie,Vt),Vt}throw new Error(`No event manager plugin found for event ${ie}`)}}return $.\u0275fac=function(ie){return new(ie||$)(d.LFG(it),d.LFG(d.R0b))},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})();class ut{constructor(X){this._doc=X}addGlobalEventListener(X,ie,Se){const Je=(0,p.q)().getGlobalEventTarget(this._doc,X);if(!Je)throw new Error(`Unsupported event target ${Je} for event ${ie}`);return this.addEventListener(Je,ie,Se)}}let Ye=(()=>{class ${constructor(){this._stylesSet=new Set}addStyles(ie){const Se=new Set;ie.forEach(Je=>{this._stylesSet.has(Je)||(this._stylesSet.add(Je),Se.add(Je))}),this.onStylesAdded(Se)}onStylesAdded(ie){}getAllStyles(){return Array.from(this._stylesSet)}}return $.\u0275fac=function(ie){return new(ie||$)},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})(),lt=(()=>{class $ extends Ye{constructor(ie){super(),this._doc=ie,this._hostNodes=new Map,this._hostNodes.set(ie.head,[])}_addStylesToHost(ie,Se,Je){ie.forEach(Lt=>{const Vt=this._doc.createElement("style");Vt.textContent=Lt,Je.push(Se.appendChild(Vt))})}addHost(ie){const Se=[];this._addStylesToHost(this._stylesSet,ie,Se),this._hostNodes.set(ie,Se)}removeHost(ie){const Se=this._hostNodes.get(ie);Se&&Se.forEach(Be),this._hostNodes.delete(ie)}onStylesAdded(ie){this._hostNodes.forEach((Se,Je)=>{this._addStylesToHost(ie,Je,Se)})}ngOnDestroy(){this._hostNodes.forEach(ie=>ie.forEach(Be))}}return $.\u0275fac=function(ie){return new(ie||$)(d.LFG(p.K0))},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})();function Be($){(0,p.q)().remove($)}const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ge=/%COMP%/g;function Le($,X,ie){for(let Se=0;Se<X.length;Se++){let Je=X[Se];Array.isArray(Je)?Le($,Je,ie):(Je=Je.replace(ge,$),ie.push(Je))}return ie}function Ue($){return X=>{if("__ngUnwrap__"===X)return $;!1===$(X)&&(X.preventDefault(),X.returnValue=!1)}}let nt=(()=>{class ${constructor(ie,Se,Je){this.eventManager=ie,this.sharedStylesHost=Se,this.appId=Je,this.rendererByCompId=new Map,this.defaultRenderer=new ot(ie)}createRenderer(ie,Se){if(!ie||!Se)return this.defaultRenderer;switch(Se.encapsulation){case d.ifc.Emulated:{let Je=this.rendererByCompId.get(Se.id);return Je||(Je=new gt(this.eventManager,this.sharedStylesHost,Se,this.appId),this.rendererByCompId.set(Se.id,Je)),Je.applyToHost(ie),Je}case 1:case d.ifc.ShadowDom:return new pt(this.eventManager,this.sharedStylesHost,ie,Se);default:if(!this.rendererByCompId.has(Se.id)){const Je=Le(Se.id,Se.styles,[]);this.sharedStylesHost.addStyles(Je),this.rendererByCompId.set(Se.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return $.\u0275fac=function(ie){return new(ie||$)(d.LFG(ft),d.LFG(lt),d.LFG(d.AFp))},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})();class ot{constructor(X){this.eventManager=X,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(X,ie){return ie?document.createElementNS(yt[ie]||ie,X):document.createElement(X)}createComment(X){return document.createComment(X)}createText(X){return document.createTextNode(X)}appendChild(X,ie){X.appendChild(ie)}insertBefore(X,ie,Se){X&&X.insertBefore(ie,Se)}removeChild(X,ie){X&&X.removeChild(ie)}selectRootElement(X,ie){let Se="string"==typeof X?document.querySelector(X):X;if(!Se)throw new Error(`The selector "${X}" did not match any elements`);return ie||(Se.textContent=""),Se}parentNode(X){return X.parentNode}nextSibling(X){return X.nextSibling}setAttribute(X,ie,Se,Je){if(Je){ie=Je+":"+ie;const Lt=yt[Je];Lt?X.setAttributeNS(Lt,ie,Se):X.setAttribute(ie,Se)}else X.setAttribute(ie,Se)}removeAttribute(X,ie,Se){if(Se){const Je=yt[Se];Je?X.removeAttributeNS(Je,ie):X.removeAttribute(`${Se}:${ie}`)}else X.removeAttribute(ie)}addClass(X,ie){X.classList.add(ie)}removeClass(X,ie){X.classList.remove(ie)}setStyle(X,ie,Se,Je){Je&(d.JOm.DashCase|d.JOm.Important)?X.style.setProperty(ie,Se,Je&d.JOm.Important?"important":""):X.style[ie]=Se}removeStyle(X,ie,Se){Se&d.JOm.DashCase?X.style.removeProperty(ie):X.style[ie]=""}setProperty(X,ie,Se){X[ie]=Se}setValue(X,ie){X.nodeValue=ie}listen(X,ie,Se){return"string"==typeof X?this.eventManager.addGlobalEventListener(X,ie,Ue(Se)):this.eventManager.addEventListener(X,ie,Ue(Se))}}class gt extends ot{constructor(X,ie,Se,Je){super(X),this.component=Se;const Lt=Le(Je+"-"+Se.id,Se.styles,[]);ie.addStyles(Lt),this.contentAttr=function qe($){return"_ngcontent-%COMP%".replace(ge,$)}(Je+"-"+Se.id),this.hostAttr=function tt($){return"_nghost-%COMP%".replace(ge,$)}(Je+"-"+Se.id)}applyToHost(X){super.setAttribute(X,this.hostAttr,"")}createElement(X,ie){const Se=super.createElement(X,ie);return super.setAttribute(Se,this.contentAttr,""),Se}}class pt extends ot{constructor(X,ie,Se,Je){super(X),this.sharedStylesHost=ie,this.hostEl=Se,this.shadowRoot=Se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Lt=Le(Je.id,Je.styles,[]);for(let Vt=0;Vt<Lt.length;Vt++){const En=document.createElement("style");En.textContent=Lt[Vt],this.shadowRoot.appendChild(En)}}nodeOrShadowRoot(X){return X===this.hostEl?this.shadowRoot:X}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(X,ie){return super.appendChild(this.nodeOrShadowRoot(X),ie)}insertBefore(X,ie,Se){return super.insertBefore(this.nodeOrShadowRoot(X),ie,Se)}removeChild(X,ie){return super.removeChild(this.nodeOrShadowRoot(X),ie)}parentNode(X){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(X)))}}let K=(()=>{class $ extends ut{constructor(ie){super(ie)}supports(ie){return!0}addEventListener(ie,Se,Je){return ie.addEventListener(Se,Je,!1),()=>this.removeEventListener(ie,Se,Je)}removeEventListener(ie,Se,Je){return ie.removeEventListener(Se,Je)}}return $.\u0275fac=function(ie){return new(ie||$)(d.LFG(p.K0))},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})();const Ae=["alt","control","meta","shift"],Rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},tn={alt:$=>$.altKey,control:$=>$.ctrlKey,meta:$=>$.metaKey,shift:$=>$.shiftKey};let gn=(()=>{class $ extends ut{constructor(ie){super(ie)}supports(ie){return null!=$.parseEventName(ie)}addEventListener(ie,Se,Je){const Lt=$.parseEventName(Se),Vt=$.eventCallback(Lt.fullKey,Je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(ie,Lt.domEventName,Vt))}static parseEventName(ie){const Se=ie.toLowerCase().split("."),Je=Se.shift();if(0===Se.length||"keydown"!==Je&&"keyup"!==Je)return null;const Lt=$._normalizeKey(Se.pop());let Vt="";if(Ae.forEach(yn=>{const Cn=Se.indexOf(yn);Cn>-1&&(Se.splice(Cn,1),Vt+=yn+".")}),Vt+=Lt,0!=Se.length||0===Lt.length)return null;const En={};return En.domEventName=Je,En.fullKey=Vt,En}static getEventFullKey(ie){let Se="",Je=function An($){let X=$.key;if(null==X){if(X=$.keyIdentifier,null==X)return"Unidentified";X.startsWith("U+")&&(X=String.fromCharCode(parseInt(X.substring(2),16)),3===$.location&&Nt.hasOwnProperty(X)&&(X=Nt[X]))}return Rt[X]||X}(ie);return Je=Je.toLowerCase()," "===Je?Je="space":"."===Je&&(Je="dot"),Ae.forEach(Lt=>{Lt!=Je&&tn[Lt](ie)&&(Se+=Lt+".")}),Se+=Je,Se}static eventCallback(ie,Se,Je){return Lt=>{$.getEventFullKey(Lt)===ie&&Je.runGuarded(()=>Se(Lt))}}static _normalizeKey(ie){return"esc"===ie?"escape":ie}}return $.\u0275fac=function(ie){return new(ie||$)(d.LFG(p.K0))},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})();const Kn=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:p.bD},{provide:d.g9A,useValue:function zn(){Ce.makeCurrent(),Ne.init()},multi:!0},{provide:p.K0,useFactory:function Hn(){return(0,d.RDi)(document),document},deps:[]}]),xi=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Xn(){return new d.qLn},deps:[]},{provide:it,useClass:K,multi:!0,deps:[p.K0,d.R0b,d.Lbi]},{provide:it,useClass:gn,multi:!0,deps:[p.K0]},{provide:nt,useClass:nt,deps:[ft,lt,d.AFp]},{provide:d.FYo,useExisting:nt},{provide:Ye,useExisting:lt},{provide:lt,useClass:lt,deps:[p.K0]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:ft,useClass:ft,deps:[it,d.R0b]},{provide:p.JF,useClass:ct,deps:[]}];let Mn=(()=>{class ${constructor(ie){if(ie)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ie){return{ngModule:$,providers:[{provide:d.AFp,useValue:ie.appId},{provide:Q,useExisting:d.AFp},ue]}}}return $.\u0275fac=function(ie){return new(ie||$)(d.LFG($,12))},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({providers:xi,imports:[p.ez,d.hGG]}),$})();"undefined"!=typeof window&&window;let fe=(()=>{class ${}return $.\u0275fac=function(ie){return new(ie||$)},$.\u0275prov=d.Yz7({token:$,factory:function(ie){let Se=null;return Se=ie?new(ie||$):d.LFG(ye),Se},providedIn:"root"}),$})(),ye=(()=>{class $ extends fe{constructor(ie){super(),this._doc=ie}sanitize(ie,Se){if(null==Se)return null;switch(ie){case d.q3G.NONE:return Se;case d.q3G.HTML:return(0,d.qzn)(Se,"HTML")?(0,d.z3N)(Se):(0,d.EiD)(this._doc,String(Se)).toString();case d.q3G.STYLE:return(0,d.qzn)(Se,"Style")?(0,d.z3N)(Se):Se;case d.q3G.SCRIPT:if((0,d.qzn)(Se,"Script"))return(0,d.z3N)(Se);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(Se),(0,d.qzn)(Se,"URL")?(0,d.z3N)(Se):(0,d.mCW)(String(Se));case d.q3G.RESOURCE_URL:if((0,d.qzn)(Se,"ResourceURL"))return(0,d.z3N)(Se);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ie} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ie){return(0,d.JVY)(ie)}bypassSecurityTrustStyle(ie){return(0,d.L6k)(ie)}bypassSecurityTrustScript(ie){return(0,d.eBb)(ie)}bypassSecurityTrustUrl(ie){return(0,d.LAX)(ie)}bypassSecurityTrustResourceUrl(ie){return(0,d.pB0)(ie)}}return $.\u0275fac=function(ie){return new(ie||$)(d.LFG(p.K0))},$.\u0275prov=d.Yz7({token:$,factory:function(ie){let Se=null;return Se=ie?new ie:function Oe($){return new ye($.get(p.K0))}(d.LFG(d.zs3)),Se},providedIn:"root"}),$})()},2094:(Jt,Ze,x)=>{x.d(Ze,{gz:()=>nr,F0:()=>$i,Od:()=>Ji,yS:()=>ps,Bz:()=>$a,lC:()=>es});var p=x(5e3),d=x(8306),W=x(576);function Ce(O,D){const w=(0,W.m)(O)?O:()=>O,k=L=>L.error(w());return new d.y(D?L=>D.schedule(k,0,L):k)}var ve=x(727),ke=x(4482),be=x(5403);function ce(){return(0,ke.e)((O,D)=>{let w=null;O._refCount++;const k=(0,be.x)(D,void 0,void 0,void 0,()=>{if(!O||O._refCount<=0||0<--O._refCount)return void(w=null);const L=O._connection,le=w;w=null,L&&(!le||L===le)&&L.unsubscribe(),D.unsubscribe()});O.subscribe(k),k.closed||(w=O.connect())})}class Q extends d.y{constructor(D,w){super(),this.source=D,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,ke.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new ve.w0;const w=this.getSubject();D.add(this.source.subscribe((0,be.x)(w,void 0,()=>{this._teardown(),w.complete()},k=>{this._teardown(),w.error(k)},()=>this._teardown()))),D.closed&&(this._connection=null,D=ve.w0.EMPTY)}return D}refCount(){return ce()(this)}}var ee=x(8996),ue=x(9646),Ne=x(1135),ct=x(9841),it=x(6805),ft=x(7272),ut=x(9770),Ye=x(515),lt=x(7579),Be=x(8421);function yt(O){return(0,ke.e)((D,w)=>{let le,k=null,L=!1;k=D.subscribe((0,be.x)(w,void 0,void 0,Me=>{le=(0,Be.Xf)(O(Me,yt(O)(D))),k?(k.unsubscribe(),k=null,le.subscribe(w)):L=!0})),L&&(k.unsubscribe(),k=null,le.subscribe(w))})}var ge=x(9300);function we(O){return O<=0?()=>Ye.E:(0,ke.e)((D,w)=>{let k=[];D.subscribe((0,be.x)(w,L=>{k.push(L),O<k.length&&k.shift()},()=>{for(const L of k)w.next(L);w.complete()},void 0,()=>{k=null}))})}var et=x(8068),wt=x(6590),q=x(4671),Le=x(4004),Ue=x(3900),Xe=x(5698),nt=x(8675),ot=x(5026),xt=x(4351),sn=x(590),gt=x(5577),pt=x(8505),K=x(8189),Ae=x(9808);class Ge{constructor(D,w){this.id=D,this.url=w}}class Rt extends Ge{constructor(D,w,k="imperative",L=null){super(D,w),this.navigationTrigger=k,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nt extends Ge{constructor(D,w,k){super(D,w),this.urlAfterRedirects=k}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tn extends Ge{constructor(D,w,k){super(D,w),this.reason=k}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gn extends Ge{constructor(D,w,k){super(D,w),this.error=k}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class An extends Ge{constructor(D,w,k,L){super(D,w),this.urlAfterRedirects=k,this.state=L}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zn extends Ge{constructor(D,w,k,L){super(D,w),this.urlAfterRedirects=k,this.state=L}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xn extends Ge{constructor(D,w,k,L,le){super(D,w),this.urlAfterRedirects=k,this.state=L,this.shouldActivate=le}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hn extends Ge{constructor(D,w,k,L){super(D,w),this.urlAfterRedirects=k,this.state=L}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vi extends Ge{constructor(D,w,k,L){super(D,w),this.urlAfterRedirects=k,this.state=L}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kn{constructor(D){this.route=D}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xi{constructor(D){this.route=D}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mn{constructor(D){this.snapshot=D}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ci{constructor(D){this.snapshot=D}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class un{constructor(D){this.snapshot=D}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pi{constructor(D){this.snapshot=D}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(D,w,k){this.routerEvent=D,this.position=w,this.anchor=k}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const nn="primary";class Li{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const w=this.params[D];return Array.isArray(w)?w[0]:w}return null}getAll(D){if(this.has(D)){const w=this.params[D];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function _i(O){return new Li(O)}const Mt="ngNavigationCancelingError";function Fe(O){const D=Error("NavigationCancelingError: "+O);return D[Mt]=!0,D}function Ut(O,D,w){const k=w.path.split("/");if(k.length>O.length||"full"===w.pathMatch&&(D.hasChildren()||k.length<O.length))return null;const L={};for(let le=0;le<k.length;le++){const Me=k[le],He=O[le];if(Me.startsWith(":"))L[Me.substring(1)]=He;else if(Me!==He.path)return null}return{consumed:O.slice(0,k.length),posParams:L}}function Bt(O,D){const w=O?Object.keys(O):void 0,k=D?Object.keys(D):void 0;if(!w||!k||w.length!=k.length)return!1;let L;for(let le=0;le<w.length;le++)if(L=w[le],!Kt(O[L],D[L]))return!1;return!0}function Kt(O,D){if(Array.isArray(O)&&Array.isArray(D)){if(O.length!==D.length)return!1;const w=[...O].sort(),k=[...D].sort();return w.every((L,le)=>k[le]===L)}return O===D}function Re(O){return Array.prototype.concat.apply([],O)}function xe(O){return O.length>0?O[O.length-1]:null}function We(O,D){for(const w in O)O.hasOwnProperty(w)&&D(O[w],w)}function bt(O){return(0,p.CqO)(O)?O:(0,p.QGY)(O)?(0,ee.D)(Promise.resolve(O)):(0,ue.of)(O)}const Tt={exact:function z(O,D,w){if(!ye(O.segments,D.segments)||!vt(O.segments,D.segments,w)||O.numberOfChildren!==D.numberOfChildren)return!1;for(const k in D.children)if(!O.children[k]||!z(O.children[k],D.children[k],w))return!1;return!0},subset:_e},vn={exact:function pn(O,D){return Bt(O,D)},subset:function he(O,D){return Object.keys(D).length<=Object.keys(O).length&&Object.keys(D).every(w=>Kt(O[w],D[w]))},ignored:()=>!0};function wn(O,D,w){return Tt[w.paths](O.root,D.root,w.matrixParams)&&vn[w.queryParams](O.queryParams,D.queryParams)&&!("exact"===w.fragment&&O.fragment!==D.fragment)}function _e(O,D,w){return Ve(O,D,D.segments,w)}function Ve(O,D,w,k){if(O.segments.length>w.length){const L=O.segments.slice(0,w.length);return!(!ye(L,w)||D.hasChildren()||!vt(L,w,k))}if(O.segments.length===w.length){if(!ye(O.segments,w)||!vt(O.segments,w,k))return!1;for(const L in D.children)if(!O.children[L]||!_e(O.children[L],D.children[L],k))return!1;return!0}{const L=w.slice(0,O.segments.length),le=w.slice(O.segments.length);return!!(ye(O.segments,L)&&vt(O.segments,L,k)&&O.children[nn])&&Ve(O.children[nn],D,le,k)}}function vt(O,D,w){return D.every((k,L)=>vn[w](O[L].parameters,k.parameters))}class Ot{constructor(D,w,k){this.root=D,this.queryParams=w,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_i(this.queryParams)),this._queryParamMap}toString(){return ie.serialize(this)}}class de{constructor(D,w){this.segments=D,this.children=w,this.parent=null,We(w,(k,L)=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Se(this)}}class fe{constructor(D,w){this.path=D,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=_i(this.parameters)),this._parameterMap}toString(){return Ti(this)}}function ye(O,D){return O.length===D.length&&O.every((w,k)=>w.path===D[k].path)}class ${}class X{parse(D){const w=new ji(D);return new Ot(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(D){const w=`/${Je(D.root,!0)}`,k=function wr(O){const D=Object.keys(O).map(w=>{const k=O[w];return Array.isArray(k)?k.map(L=>`${Vt(w)}=${Vt(L)}`).join("&"):`${Vt(w)}=${Vt(k)}`}).filter(w=>!!w);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${w}${k}${"string"==typeof D.fragment?`#${function En(O){return encodeURI(O)}(D.fragment)}`:""}`}}const ie=new X;function Se(O){return O.segments.map(D=>Ti(D)).join("/")}function Je(O,D){if(!O.hasChildren())return Se(O);if(D){const w=O.children[nn]?Je(O.children[nn],!1):"",k=[];return We(O.children,(L,le)=>{le!==nn&&k.push(`${le}:${Je(L,!1)}`)}),k.length>0?`${w}(${k.join("//")})`:w}{const w=function J(O,D){let w=[];return We(O.children,(k,L)=>{L===nn&&(w=w.concat(D(k,L)))}),We(O.children,(k,L)=>{L!==nn&&(w=w.concat(D(k,L)))}),w}(O,(k,L)=>L===nn?[Je(O.children[nn],!1)]:[`${L}:${Je(k,!1)}`]);return 1===Object.keys(O.children).length&&null!=O.children[nn]?`${Se(O)}/${w[0]}`:`${Se(O)}/(${w.join("//")})`}}function Lt(O){return encodeURIComponent(O).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vt(O){return Lt(O).replace(/%3B/gi,";")}function yn(O){return Lt(O).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cn(O){return decodeURIComponent(O)}function Ei(O){return Cn(O.replace(/\+/g,"%20"))}function Ti(O){return`${yn(O.path)}${function Di(O){return Object.keys(O).map(D=>`;${yn(D)}=${yn(O[D])}`).join("")}(O.parameters)}`}const Mi=/^[^\/()?;=#]+/;function Yt(O){const D=O.match(Mi);return D?D[0]:""}const Zn=/^[^=?&#]+/,Hi=/^[^&#]+/;class ji{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(D.length>0||Object.keys(w).length>0)&&(k[nn]=new de(D,w)),k}parseSegment(){const D=Yt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(D),new fe(Cn(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const w=Yt(this.remaining);if(!w)return;this.capture(w);let k="";if(this.consumeOptional("=")){const L=Yt(this.remaining);L&&(k=L,this.capture(k))}D[Cn(w)]=Cn(k)}parseQueryParam(D){const w=function mi(O){const D=O.match(Zn);return D?D[0]:""}(this.remaining);if(!w)return;this.capture(w);let k="";if(this.consumeOptional("=")){const Me=function vr(O){const D=O.match(Hi);return D?D[0]:""}(this.remaining);Me&&(k=Me,this.capture(k))}const L=Ei(w),le=Ei(k);if(D.hasOwnProperty(L)){let Me=D[L];Array.isArray(Me)||(Me=[Me],D[L]=Me),Me.push(le)}else D[L]=le}parseParens(D){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=Yt(this.remaining),L=this.remaining[k.length];if("/"!==L&&")"!==L&&";"!==L)throw new Error(`Cannot parse url '${this.url}'`);let le;k.indexOf(":")>-1?(le=k.substr(0,k.indexOf(":")),this.capture(le),this.capture(":")):D&&(le=nn);const Me=this.parseChildren();w[le]=1===Object.keys(Me).length?Me[nn]:new de([],Me),this.consumeOptional("//")}return w}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new Error(`Expected "${D}".`)}}class or{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const w=this.pathFromRoot(D);return w.length>1?w[w.length-2]:null}children(D){const w=ii(D,this._root);return w?w.children.map(k=>k.value):[]}firstChild(D){const w=ii(D,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(D){const w=Cr(D,this._root);return w.length<2?[]:w[w.length-2].children.map(L=>L.value).filter(L=>L!==D)}pathFromRoot(D){return Cr(D,this._root).map(w=>w.value)}}function ii(O,D){if(O===D.value)return D;for(const w of D.children){const k=ii(O,w);if(k)return k}return null}function Cr(O,D){if(O===D.value)return[D];for(const w of D.children){const k=Cr(O,w);if(k.length)return k.unshift(D),k}return[]}class Ii{constructor(D,w){this.value=D,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ln(O){const D={};return O&&O.children.forEach(w=>D[w.value.outlet]=w),D}class Qr extends or{constructor(D,w){super(D),this.snapshot=w,di(this,D)}toString(){return this.snapshot.toString()}}function Wi(O,D){const w=function ws(O,D){const Me=new $r([],{},{},"",{},nn,D,null,O.root,-1,{});return new wi("",new Ii(Me,[]))}(O,D),k=new Ne.X([new fe("",{})]),L=new Ne.X({}),le=new Ne.X({}),Me=new Ne.X({}),He=new Ne.X(""),kt=new nr(k,L,Me,He,le,nn,D,w.root);return kt.snapshot=w.root,new Qr(new Ii(kt,[]),w)}class nr{constructor(D,w,k,L,le,Me,He,kt){this.url=D,this.params=w,this.queryParams=k,this.fragment=L,this.data=le,this.outlet=Me,this.component=He,this._futureSnapshot=kt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Le.U)(D=>_i(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Le.U)(D=>_i(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vi(O,D="emptyOnly"){const w=O.pathFromRoot;let k=0;if("always"!==D)for(k=w.length-1;k>=1;){const L=w[k],le=w[k-1];if(L.routeConfig&&""===L.routeConfig.path)k--;else{if(le.component)break;k--}}return function jr(O){return O.reduce((D,w)=>({params:Object.assign(Object.assign({},D.params),w.params),data:Object.assign(Object.assign({},D.data),w.data),resolve:Object.assign(Object.assign({},D.resolve),w._resolvedData)}),{params:{},data:{},resolve:{}})}(w.slice(k))}class $r{constructor(D,w,k,L,le,Me,He,kt,Tn,fi,Pn){this.url=D,this.params=w,this.queryParams=k,this.fragment=L,this.data=le,this.outlet=Me,this.component=He,this.routeConfig=kt,this._urlSegment=Tn,this._lastPathIndex=fi,this._resolve=Pn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_i(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_i(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wi extends or{constructor(D,w){super(w),this.url=D,di(this,w)}toString(){return mn(this._root)}}function di(O,D){D.value._routerState=O,D.children.forEach(w=>di(O,w))}function mn(O){const D=O.children.length>0?` { ${O.children.map(mn).join(", ")} } `:"";return`${O.value}${D}`}function Jr(O){if(O.snapshot){const D=O.snapshot,w=O._futureSnapshot;O.snapshot=w,Bt(D.queryParams,w.queryParams)||O.queryParams.next(w.queryParams),D.fragment!==w.fragment&&O.fragment.next(w.fragment),Bt(D.params,w.params)||O.params.next(w.params),function It(O,D){if(O.length!==D.length)return!1;for(let w=0;w<O.length;++w)if(!Bt(O[w],D[w]))return!1;return!0}(D.url,w.url)||O.url.next(w.url),Bt(D.data,w.data)||O.data.next(w.data)}else O.snapshot=O._futureSnapshot,O.data.next(O._futureSnapshot.data)}function Ft(O,D){const w=Bt(O.params,D.params)&&function Oe(O,D){return ye(O,D)&&O.every((w,k)=>Bt(w.parameters,D[k].parameters))}(O.url,D.url);return w&&!(!O.parent!=!D.parent)&&(!O.parent||Ft(O.parent,D.parent))}function Ai(O,D,w){if(w&&O.shouldReuseRoute(D.value,w.value.snapshot)){const k=w.value;k._futureSnapshot=D.value;const L=function as(O,D,w){return D.children.map(k=>{for(const L of w.children)if(O.shouldReuseRoute(k.value,L.value.snapshot))return Ai(O,k,L);return Ai(O,k)})}(O,D,w);return new Ii(k,L)}{if(O.shouldAttach(D.value)){const le=O.retrieve(D.value);if(null!==le){const Me=le.route;return Me.value._futureSnapshot=D.value,Me.children=D.children.map(He=>Ai(O,He)),Me}}const k=function ls(O){return new nr(new Ne.X(O.url),new Ne.X(O.params),new Ne.X(O.queryParams),new Ne.X(O.fragment),new Ne.X(O.data),O.outlet,O.component,O)}(D.value),L=D.children.map(le=>Ai(O,le));return new Ii(k,L)}}function ms(O){return"object"==typeof O&&null!=O&&!O.outlets&&!O.segmentPath}function Ar(O){return"object"==typeof O&&null!=O&&O.outlets}function Ls(O,D,w,k,L){let le={};if(k&&We(k,(He,kt)=>{le[kt]=Array.isArray(He)?He.map(Tn=>`${Tn}`):`${He}`}),O===D)return new Ot(w,le,L);const Me=Yi(O,D,w);return new Ot(Me,le,L)}function Yi(O,D,w){const k={};return We(O.children,(L,le)=>{k[le]=L===D?w:Yi(L,D,w)}),new de(O.segments,k)}class Fs{constructor(D,w,k){if(this.isAbsolute=D,this.numberOfDoubleDots=w,this.commands=k,D&&k.length>0&&ms(k[0]))throw new Error("Root segment cannot have matrix parameters");const L=k.find(Ar);if(L&&L!==xe(k))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ke{constructor(D,w,k){this.segmentGroup=D,this.processChildren=w,this.index=k}}function bn(O,D,w){if(O||(O=new de([],{})),0===O.segments.length&&O.hasChildren())return jn(O,D,w);const k=function Zi(O,D,w){let k=0,L=D;const le={match:!1,pathIndex:0,commandIndex:0};for(;L<O.segments.length;){if(k>=w.length)return le;const Me=O.segments[L],He=w[k];if(Ar(He))break;const kt=`${He}`,Tn=k<w.length-1?w[k+1]:null;if(L>0&&void 0===kt)break;if(kt&&Tn&&"object"==typeof Tn&&void 0===Tn.outlets){if(!cs(kt,Tn,Me))return le;k+=2}else{if(!cs(kt,{},Me))return le;k++}L++}return{match:!0,pathIndex:L,commandIndex:k}}(O,D,w),L=w.slice(k.commandIndex);if(k.match&&k.pathIndex<O.segments.length){const le=new de(O.segments.slice(0,k.pathIndex),{});return le.children[nn]=new de(O.segments.slice(k.pathIndex),O.children),jn(le,0,L)}return k.match&&0===L.length?new de(O.segments,{}):k.match&&!O.hasChildren()?Ri(O,D,w):k.match?jn(O,0,L):Ri(O,D,w)}function jn(O,D,w){if(0===w.length)return new de(O.segments,{});{const k=function on(O){return Ar(O[0])?O[0].outlets:{[nn]:O}}(w),L={};return We(k,(le,Me)=>{"string"==typeof le&&(le=[le]),null!==le&&(L[Me]=bn(O.children[Me],D,le))}),We(O.children,(le,Me)=>{void 0===k[Me]&&(L[Me]=le)}),new de(O.segments,L)}}function Ri(O,D,w){const k=O.segments.slice(0,D);let L=0;for(;L<w.length;){const le=w[L];if(Ar(le)){const kt=us(le.outlets);return new de(k,kt)}if(0===L&&ms(w[0])){k.push(new fe(O.segments[D].path,Os(w[0]))),L++;continue}const Me=Ar(le)?le.outlets[nn]:`${le}`,He=L<w.length-1?w[L+1]:null;Me&&He&&ms(He)?(k.push(new fe(Me,Os(He))),L+=2):(k.push(new fe(Me,{})),L++)}return new de(k,{})}function us(O){const D={};return We(O,(w,k)=>{"string"==typeof w&&(w=[w]),null!==w&&(D[k]=Ri(new de([],{}),0,w))}),D}function Os(O){const D={};return We(O,(w,k)=>D[k]=`${w}`),D}function cs(O,D,w){return O==w.path&&Bt(D,w.parameters)}class Gr{constructor(D,w,k,L){this.routeReuseStrategy=D,this.futureState=w,this.currState=k,this.forwardEvent=L}activate(D){const w=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,k,D),Jr(this.futureState.root),this.activateChildRoutes(w,k,D)}deactivateChildRoutes(D,w,k){const L=Ln(w);D.children.forEach(le=>{const Me=le.value.outlet;this.deactivateRoutes(le,L[Me],k),delete L[Me]}),We(L,(le,Me)=>{this.deactivateRouteAndItsChildren(le,k)})}deactivateRoutes(D,w,k){const L=D.value,le=w?w.value:null;if(L===le)if(L.component){const Me=k.getContext(L.outlet);Me&&this.deactivateChildRoutes(D,w,Me.children)}else this.deactivateChildRoutes(D,w,k);else le&&this.deactivateRouteAndItsChildren(w,k)}deactivateRouteAndItsChildren(D,w){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,w):this.deactivateRouteAndOutlet(D,w)}detachAndStoreRouteSubtree(D,w){const k=w.getContext(D.value.outlet),L=k&&D.value.component?k.children:w,le=Ln(D);for(const Me of Object.keys(le))this.deactivateRouteAndItsChildren(le[Me],L);if(k&&k.outlet){const Me=k.outlet.detach(),He=k.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:Me,route:D,contexts:He})}}deactivateRouteAndOutlet(D,w){const k=w.getContext(D.value.outlet),L=k&&D.value.component?k.children:w,le=Ln(D);for(const Me of Object.keys(le))this.deactivateRouteAndItsChildren(le[Me],L);k&&k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated(),k.attachRef=null,k.resolver=null,k.route=null)}activateChildRoutes(D,w,k){const L=Ln(w);D.children.forEach(le=>{this.activateRoutes(le,L[le.value.outlet],k),this.forwardEvent(new Pi(le.value.snapshot))}),D.children.length&&this.forwardEvent(new ci(D.value.snapshot))}activateRoutes(D,w,k){const L=D.value,le=w?w.value:null;if(Jr(L),L===le)if(L.component){const Me=k.getOrCreateContext(L.outlet);this.activateChildRoutes(D,w,Me.children)}else this.activateChildRoutes(D,w,k);else if(L.component){const Me=k.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const He=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),Me.children.onOutletReAttached(He.contexts),Me.attachRef=He.componentRef,Me.route=He.route.value,Me.outlet&&Me.outlet.attach(He.componentRef,He.route.value),Jr(He.route.value),this.activateChildRoutes(D,null,Me.children)}else{const He=function pr(O){for(let D=O.parent;D;D=D.parent){const w=D.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig;if(w&&w.component)return null}return null}(L.snapshot),kt=He?He.module.componentFactoryResolver:null;Me.attachRef=null,Me.route=L,Me.resolver=kt,Me.outlet&&Me.outlet.activateWith(L,kt),this.activateChildRoutes(D,null,Me.children)}}else this.activateChildRoutes(D,null,k)}}class No{constructor(D,w){this.routes=D,this.module=w}}function Sr(O){return"function"==typeof O}function Un(O){return O instanceof Ot}const ko=Symbol("INITIAL_VALUE");function Xr(){return(0,Ue.w)(O=>(0,ct.a)(O.map(D=>D.pipe((0,Xe.q)(1),(0,nt.O)(ko)))).pipe((0,ot.R)((D,w)=>{let k=!1;return w.reduce((L,le,Me)=>L!==ko?L:(le===ko&&(k=!0),k||!1!==le&&Me!==w.length-1&&!Un(le)?L:le),D)},ko),(0,ge.h)(D=>D!==ko),(0,Le.U)(D=>Un(D)?D:!0===D),(0,Xe.q)(1)))}class na{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new zr,this.attachRef=null}}class zr{constructor(){this.contexts=new Map}onChildOutletCreated(D,w){const k=this.getOrCreateContext(D);k.outlet=w,this.contexts.set(D,k)}onChildOutletDestroyed(D){const w=this.getContext(D);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let w=this.getContext(D);return w||(w=new na,this.contexts.set(D,w)),w}getContext(D){return this.contexts.get(D)||null}}let es=(()=>{class O{constructor(w,k,L,le,Me){this.parentContexts=w,this.location=k,this.resolver=L,this.changeDetector=Me,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=le||nn,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,k){this.activated=w,this._activatedRoute=k,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,k){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;const Me=(k=k||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),He=this.parentContexts.getOrCreateContext(this.name).children,kt=new Vs(w,He,this.location.injector);this.activated=this.location.createComponent(Me,this.location.length,kt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return O.\u0275fac=function(w){return new(w||O)(p.Y36(zr),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},O.\u0275dir=p.lG2({type:O,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),O})();class Vs{constructor(D,w,k){this.route=D,this.childContexts=w,this.parent=k}get(D,w){return D===nr?this.route:D===zr?this.childContexts:this.parent.get(D,w)}}let Ni=(()=>{class O{}return O.\u0275fac=function(w){return new(w||O)},O.\u0275cmp=p.Xpm({type:O,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,k){1&w&&p._UZ(0,"router-outlet")},directives:[es],encapsulation:2}),O})();function xr(O,D=""){for(let w=0;w<O.length;w++){const k=O[w];Lo(k,ia(D,k))}}function Lo(O,D){O.children&&xr(O.children,D)}function ia(O,D){return D?O||D.path?O&&!D.path?`${O}/`:!O&&D.path?D.path:`${O}/${D.path}`:"":O}function ds(O){const D=O.children&&O.children.map(ds),w=D?Object.assign(Object.assign({},O),{children:D}):Object.assign({},O);return!w.component&&(D||w.loadChildren)&&w.outlet&&w.outlet!==nn&&(w.component=Ni),w}function Fr(O){return O.outlet||nn}function vo(O,D){const w=O.filter(k=>Fr(k)===D);return w.push(...O.filter(k=>Fr(k)!==D)),w}const Zs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ts(O,D,w){var k;if(""===D.path)return"full"===D.pathMatch&&(O.hasChildren()||w.length>0)?Object.assign({},Zs):{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const le=(D.matcher||Ut)(w,O,D);if(!le)return Object.assign({},Zs);const Me={};We(le.posParams,(kt,Tn)=>{Me[Tn]=kt.path});const He=le.consumed.length>0?Object.assign(Object.assign({},Me),le.consumed[le.consumed.length-1].parameters):Me;return{matched:!0,consumedSegments:le.consumed,remainingSegments:w.slice(le.consumed.length),parameters:He,positionalParamSegments:null!==(k=le.posParams)&&void 0!==k?k:{}}}function Ks(O,D,w,k,L="corrected"){if(w.length>0&&function ne(O,D,w){return w.some(k=>se(O,D,k)&&Fr(k)!==nn)}(O,w,k)){const Me=new de(D,function V(O,D,w,k){const L={};L[nn]=k,k._sourceSegment=O,k._segmentIndexShift=D.length;for(const le of w)if(""===le.path&&Fr(le)!==nn){const Me=new de([],{});Me._sourceSegment=O,Me._segmentIndexShift=D.length,L[Fr(le)]=Me}return L}(O,D,k,new de(w,O.children)));return Me._sourceSegment=O,Me._segmentIndexShift=D.length,{segmentGroup:Me,slicedSegments:[]}}if(0===w.length&&function F(O,D,w){return w.some(k=>se(O,D,k))}(O,w,k)){const Me=new de(O.segments,function Ui(O,D,w,k,L,le){const Me={};for(const He of k)if(se(O,w,He)&&!L[Fr(He)]){const kt=new de([],{});kt._sourceSegment=O,kt._segmentIndexShift="legacy"===le?O.segments.length:D.length,Me[Fr(He)]=kt}return Object.assign(Object.assign({},L),Me)}(O,D,w,k,O.children,L));return Me._sourceSegment=O,Me._segmentIndexShift=D.length,{segmentGroup:Me,slicedSegments:w}}const le=new de(O.segments,O.children);return le._sourceSegment=O,le._segmentIndexShift=D.length,{segmentGroup:le,slicedSegments:w}}function se(O,D,w){return(!(O.hasChildren()||D.length>0)||"full"!==w.pathMatch)&&""===w.path}function Pe(O,D,w,k){return!!(Fr(O)===k||k!==nn&&se(D,w,O))&&("**"===O.path||ts(D,O,w).matched)}function At(O,D,w){return 0===D.length&&!O.children[w]}class zt{constructor(D){this.segmentGroup=D||null}}class On{constructor(D){this.urlTree=D}}function $n(O){return Ce(new zt(O))}function yi(O){return Ce(new On(O))}class Bi{constructor(D,w,k,L,le){this.configLoader=w,this.urlSerializer=k,this.urlTree=L,this.config=le,this.allowRedirects=!0,this.ngModule=D.get(p.h0i)}apply(){const D=Ks(this.urlTree.root,[],[],this.config).segmentGroup,w=new de(D.segments,D.children);return this.expandSegmentGroup(this.ngModule,this.config,w,nn).pipe((0,Le.U)(le=>this.createUrlTree(H(le),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yt(le=>{if(le instanceof On)return this.allowRedirects=!1,this.match(le.urlTree);throw le instanceof zt?this.noMatchError(le):le}))}match(D){return this.expandSegmentGroup(this.ngModule,this.config,D.root,nn).pipe((0,Le.U)(L=>this.createUrlTree(H(L),D.queryParams,D.fragment))).pipe(yt(L=>{throw L instanceof zt?this.noMatchError(L):L}))}noMatchError(D){return new Error(`Cannot match any routes. URL Segment: '${D.segmentGroup}'`)}createUrlTree(D,w,k){const L=D.segments.length>0?new de([],{[nn]:D}):D;return new Ot(L,w,k)}expandSegmentGroup(D,w,k,L){return 0===k.segments.length&&k.hasChildren()?this.expandChildren(D,w,k).pipe((0,Le.U)(le=>new de([],le))):this.expandSegment(D,k,w,k.segments,L,!0)}expandChildren(D,w,k){const L=[];for(const le of Object.keys(k.children))"primary"===le?L.unshift(le):L.push(le);return(0,ee.D)(L).pipe((0,xt.b)(le=>{const Me=k.children[le],He=vo(w,le);return this.expandSegmentGroup(D,He,Me,le).pipe((0,Le.U)(kt=>({segment:kt,outlet:le})))}),(0,ot.R)((le,Me)=>(le[Me.outlet]=Me.segment,le),{}),function qe(O,D){const w=arguments.length>=2;return k=>k.pipe(O?(0,ge.h)((L,le)=>O(L,le,k)):q.y,we(1),w?(0,wt.d)(D):(0,et.T)(()=>new it.K))}())}expandSegment(D,w,k,L,le,Me){return(0,ee.D)(k).pipe((0,xt.b)(He=>this.expandSegmentAgainstRoute(D,w,k,He,L,le,Me).pipe(yt(Tn=>{if(Tn instanceof zt)return(0,ue.of)(null);throw Tn}))),(0,sn.P)(He=>!!He),yt((He,kt)=>{if(He instanceof it.K||"EmptyError"===He.name)return At(w,L,le)?(0,ue.of)(new de([],{})):$n(w);throw He}))}expandSegmentAgainstRoute(D,w,k,L,le,Me,He){return Pe(L,w,le,Me)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(D,w,L,le,Me):He&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,w,k,L,le,Me):$n(w):$n(w)}expandSegmentAgainstRouteUsingRedirect(D,w,k,L,le,Me){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,k,L,Me):this.expandRegularSegmentAgainstRouteUsingRedirect(D,w,k,L,le,Me)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,w,k,L){const le=this.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?yi(le):this.lineralizeSegments(k,le).pipe((0,gt.z)(Me=>{const He=new de(Me,{});return this.expandSegment(D,He,w,Me,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,w,k,L,le,Me){const{matched:He,consumedSegments:kt,remainingSegments:Tn,positionalParamSegments:fi}=ts(w,L,le);if(!He)return $n(w);const Pn=this.applyRedirectCommands(kt,L.redirectTo,fi);return L.redirectTo.startsWith("/")?yi(Pn):this.lineralizeSegments(L,Pn).pipe((0,gt.z)(Ci=>this.expandSegment(D,w,k,Ci.concat(Tn),Me,!1)))}matchSegmentAgainstRoute(D,w,k,L,le){if("**"===k.path)return k.loadChildren?(k._loadedConfig?(0,ue.of)(k._loadedConfig):this.configLoader.load(D.injector,k)).pipe((0,Le.U)(Pn=>(k._loadedConfig=Pn,new de(L,{})))):(0,ue.of)(new de(L,{}));const{matched:Me,consumedSegments:He,remainingSegments:kt}=ts(w,k,L);return Me?this.getChildConfig(D,k,L).pipe((0,gt.z)(fi=>{const Pn=fi.module,Ci=fi.routes,{segmentGroup:Oi,slicedSegments:ur}=Ks(w,He,kt,Ci),uo=new de(Oi.segments,Oi.children);if(0===ur.length&&uo.hasChildren())return this.expandChildren(Pn,Ci,uo).pipe((0,Le.U)(Ma=>new de(He,Ma)));if(0===Ci.length&&0===ur.length)return(0,ue.of)(new de(He,{}));const zo=Fr(k)===le;return this.expandSegment(Pn,uo,Ci,ur,zo?nn:le,!0).pipe((0,Le.U)(js=>new de(He.concat(js.segments),js.children)))})):$n(w)}getChildConfig(D,w,k){return w.children?(0,ue.of)(new No(w.children,D)):w.loadChildren?void 0!==w._loadedConfig?(0,ue.of)(w._loadedConfig):this.runCanLoadGuards(D.injector,w,k).pipe((0,gt.z)(L=>L?this.configLoader.load(D.injector,w).pipe((0,Le.U)(le=>(w._loadedConfig=le,le))):function hi(O){return Ce(Fe(`Cannot load children because the guard of the route "path: '${O.path}'" returned false`))}(w))):(0,ue.of)(new No([],D))}runCanLoadGuards(D,w,k){const L=w.canLoad;if(!L||0===L.length)return(0,ue.of)(!0);const le=L.map(Me=>{const He=D.get(Me);let kt;if(function Cs(O){return O&&Sr(O.canLoad)}(He))kt=He.canLoad(w,k);else{if(!Sr(He))throw new Error("Invalid CanLoad guard");kt=He(w,k)}return bt(kt)});return(0,ue.of)(le).pipe(Xr(),(0,pt.b)(Me=>{if(!Un(Me))return;const He=Fe(`Redirecting to "${this.urlSerializer.serialize(Me)}"`);throw He.url=Me,He}),(0,Le.U)(Me=>!0===Me))}lineralizeSegments(D,w){let k=[],L=w.root;for(;;){if(k=k.concat(L.segments),0===L.numberOfChildren)return(0,ue.of)(k);if(L.numberOfChildren>1||!L.children[nn])return Ce(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D.redirectTo}'`));L=L.children[nn]}}applyRedirectCommands(D,w,k){return this.applyRedirectCreatreUrlTree(w,this.urlSerializer.parse(w),D,k)}applyRedirectCreatreUrlTree(D,w,k,L){const le=this.createSegmentGroup(D,w.root,k,L);return new Ot(le,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(D,w){const k={};return We(D,(L,le)=>{if("string"==typeof L&&L.startsWith(":")){const He=L.substring(1);k[le]=w[He]}else k[le]=L}),k}createSegmentGroup(D,w,k,L){const le=this.createSegments(D,w.segments,k,L);let Me={};return We(w.children,(He,kt)=>{Me[kt]=this.createSegmentGroup(D,He,k,L)}),new de(le,Me)}createSegments(D,w,k,L){return w.map(le=>le.path.startsWith(":")?this.findPosParam(D,le,L):this.findOrReturn(le,k))}findPosParam(D,w,k){const L=k[w.path.substring(1)];if(!L)throw new Error(`Cannot redirect to '${D}'. Cannot find '${w.path}'.`);return L}findOrReturn(D,w){let k=0;for(const L of w){if(L.path===D.path)return w.splice(k),L;k++}return D}}function H(O){const D={};for(const k of Object.keys(O.children)){const le=H(O.children[k]);(le.segments.length>0||le.hasChildren())&&(D[k]=le)}return function Fi(O){if(1===O.numberOfChildren&&O.children[nn]){const D=O.children[nn];return new de(O.segments.concat(D.segments),D.children)}return O}(new de(O.segments,D))}class M{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class re{constructor(D,w){this.component=D,this.route=w}}function Pt(O,D,w){const k=O._root;return hs(k,D?D._root:null,w,[k.value])}function ki(O,D,w){const k=function Ds(O){if(!O)return null;for(let D=O.parent;D;D=D.parent){const w=D.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig}return null}(D);return(k?k.module.injector:w).get(O)}function hs(O,D,w,k,L={canDeactivateChecks:[],canActivateChecks:[]}){const le=Ln(D);return O.children.forEach(Me=>{(function Fo(O,D,w,k,L={canDeactivateChecks:[],canActivateChecks:[]}){const le=O.value,Me=D?D.value:null,He=w?w.getContext(O.value.outlet):null;if(Me&&le.routeConfig===Me.routeConfig){const kt=function _a(O,D,w){if("function"==typeof w)return w(O,D);switch(w){case"pathParamsChange":return!ye(O.url,D.url);case"pathParamsOrQueryParamsChange":return!ye(O.url,D.url)||!Bt(O.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ft(O,D)||!Bt(O.queryParams,D.queryParams);default:return!Ft(O,D)}}(Me,le,le.routeConfig.runGuardsAndResolvers);kt?L.canActivateChecks.push(new M(k)):(le.data=Me.data,le._resolvedData=Me._resolvedData),hs(O,D,le.component?He?He.children:null:w,k,L),kt&&He&&He.outlet&&He.outlet.isActivated&&L.canDeactivateChecks.push(new re(He.outlet.component,Me))}else Me&&Wt(D,He,L),L.canActivateChecks.push(new M(k)),hs(O,null,le.component?He?He.children:null:w,k,L)})(Me,le[Me.value.outlet],w,k.concat([Me.value]),L),delete le[Me.value.outlet]}),We(le,(Me,He)=>Wt(Me,w.getContext(He),L)),L}function Wt(O,D,w){const k=Ln(O),L=O.value;We(k,(le,Me)=>{Wt(le,L.component?D?D.children.getContext(Me):null:D,w)}),w.canDeactivateChecks.push(new re(L.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,L))}class fl{}function pl(O){return new d.y(D=>D.error(O))}class no{constructor(D,w,k,L,le,Me){this.rootComponentType=D,this.config=w,this.urlTree=k,this.url=L,this.paramsInheritanceStrategy=le,this.relativeLinkResolution=Me}recognize(){const D=Ks(this.urlTree.root,[],[],this.config.filter(Me=>void 0===Me.redirectTo),this.relativeLinkResolution).segmentGroup,w=this.processSegmentGroup(this.config,D,nn);if(null===w)return null;const k=new $r([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new Ii(k,w),le=new wi(this.url,L);return this.inheritParamsAndData(le._root),le}inheritParamsAndData(D){const w=D.value,k=Vi(w,this.paramsInheritanceStrategy);w.params=Object.freeze(k.params),w.data=Object.freeze(k.data),D.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(D,w,k){return 0===w.segments.length&&w.hasChildren()?this.processChildren(D,w):this.processSegment(D,w,w.segments,k)}processChildren(D,w){const k=[];for(const le of Object.keys(w.children)){const Me=w.children[le],He=vo(D,le),kt=this.processSegmentGroup(He,Me,le);if(null===kt)return null;k.push(...kt)}const L=bo(k);return function Wr(O){O.sort((D,w)=>D.value.outlet===nn?-1:w.value.outlet===nn?1:D.value.outlet.localeCompare(w.value.outlet))}(L),L}processSegment(D,w,k,L){for(const le of D){const Me=this.processSegmentAgainstRoute(le,w,k,L);if(null!==Me)return Me}return At(w,k,L)?[]:null}processSegmentAgainstRoute(D,w,k,L){if(D.redirectTo||!Pe(D,w,k,L))return null;let le,Me=[],He=[];if("**"===D.path){const Oi=k.length>0?xe(k).parameters:{};le=new $r(k,Oi,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ca(D),Fr(D),D.component,D,Bs(w),Eo(w)+k.length,Is(D))}else{const Oi=ts(w,D,k);if(!Oi.matched)return null;Me=Oi.consumedSegments,He=Oi.remainingSegments,le=new $r(Me,Oi.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ca(D),Fr(D),D.component,D,Bs(w),Eo(w)+Me.length,Is(D))}const kt=function io(O){return O.children?O.children:O.loadChildren?O._loadedConfig.routes:[]}(D),{segmentGroup:Tn,slicedSegments:fi}=Ks(w,Me,He,kt.filter(Oi=>void 0===Oi.redirectTo),this.relativeLinkResolution);if(0===fi.length&&Tn.hasChildren()){const Oi=this.processChildren(kt,Tn);return null===Oi?null:[new Ii(le,Oi)]}if(0===kt.length&&0===fi.length)return[new Ii(le,[])];const Pn=Fr(D)===L,Ci=this.processSegment(kt,Tn,fi,Pn?nn:L);return null===Ci?null:[new Ii(le,Ci)]}}function Vo(O){const D=O.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function bo(O){const D=[],w=new Set;for(const k of O){if(!Vo(k)){D.push(k);continue}const L=D.find(le=>k.value.routeConfig===le.value.routeConfig);void 0!==L?(L.children.push(...k.children),w.add(L)):D.push(k)}for(const k of w){const L=bo(k.children);D.push(new Ii(k.value,L))}return D.filter(k=>!w.has(k))}function Bs(O){let D=O;for(;D._sourceSegment;)D=D._sourceSegment;return D}function Eo(O){let D=O,w=D._segmentIndexShift?D._segmentIndexShift:0;for(;D._sourceSegment;)D=D._sourceSegment,w+=D._segmentIndexShift?D._segmentIndexShift:0;return w-1}function Ca(O){return O.data||{}}function Is(O){return O.resolve||{}}function wo(O){return[...Object.keys(O),...Object.getOwnPropertySymbols(O)]}function ro(O){return(0,Ue.w)(D=>{const w=O(D);return w?(0,ee.D)(w).pipe((0,Le.U)(()=>D)):(0,ue.of)(D)})}class Bo extends class Uo{shouldDetach(D){return!1}store(D,w){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,w){return D.routeConfig===w.routeConfig}}{}const Ia=new p.OlP("ROUTES");class so{constructor(D,w,k,L){this.injector=D,this.compiler=w,this.onLoadStartListener=k,this.onLoadEndListener=L}load(D,w){if(w._loader$)return w._loader$;this.onLoadStartListener&&this.onLoadStartListener(w);const L=this.loadModuleFactory(w.loadChildren).pipe((0,Le.U)(le=>{this.onLoadEndListener&&this.onLoadEndListener(w);const Me=le.create(D);return new No(Re(Me.injector.get(Ia,void 0,p.XFs.Self|p.XFs.Optional)).map(ds),Me)}),yt(le=>{throw w._loader$=void 0,le}));return w._loader$=new Q(L,()=>new lt.x).pipe(ce()),w._loader$}loadModuleFactory(D){return bt(D()).pipe((0,gt.z)(w=>w instanceof p.YKP?(0,ue.of)(w):(0,ee.D)(this.compiler.compileModuleAsync(w))))}}class nl{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,w){return D}}function fs(O){throw O}function Aa(O,D,w){return D.parse("/")}function ir(O,D){return(0,ue.of)(null)}const ja={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{class O{constructor(w,k,L,le,Me,He,kt){this.rootComponentType=w,this.urlSerializer=k,this.rootContexts=L,this.location=le,this.config=kt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new lt.x,this.errorHandler=fs,this.malformedUriErrorHandler=Aa,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ir,afterPreactivation:ir},this.urlHandlingStrategy=new nl,this.routeReuseStrategy=new Bo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Me.get(p.h0i),this.console=Me.get(p.c2e);const Pn=Me.get(p.R0b);this.isNgZoneEnabled=Pn instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(kt),this.currentUrlTree=function St(){return new Ot(new de([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new so(Me,He,Ci=>this.triggerEvent(new Kn(Ci)),Ci=>this.triggerEvent(new xi(Ci))),this.routerState=Wi(this.currentUrlTree,this.rootComponentType),this.transitions=new Ne.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}setupNavigations(w){const k=this.events;return w.pipe((0,ge.h)(L=>0!==L.id),(0,Le.U)(L=>Object.assign(Object.assign({},L),{extractedUrl:this.urlHandlingStrategy.extract(L.rawUrl)})),(0,Ue.w)(L=>{let le=!1,Me=!1;return(0,ue.of)(L).pipe((0,pt.b)(He=>{this.currentNavigation={id:He.id,initialUrl:He.currentRawUrl,extractedUrl:He.extractedUrl,trigger:He.source,extras:He.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ue.w)(He=>{const kt=this.browserUrlTree.toString(),Tn=!this.navigated||He.extractedUrl.toString()!==kt||kt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Tn)&&this.urlHandlingStrategy.shouldProcessUrl(He.rawUrl))return oo(He.source)&&(this.browserUrlTree=He.extractedUrl),(0,ue.of)(He).pipe((0,Ue.w)(Pn=>{const Ci=this.transitions.getValue();return k.next(new Rt(Pn.id,this.serializeUrl(Pn.extractedUrl),Pn.source,Pn.restoredState)),Ci!==this.transitions.getValue()?Ye.E:Promise.resolve(Pn)}),function N(O,D,w,k){return(0,Ue.w)(L=>function Qi(O,D,w,k,L){return new Bi(O,D,w,k,L).apply()}(O,D,w,L.extractedUrl,k).pipe((0,Le.U)(le=>Object.assign(Object.assign({},L),{urlAfterRedirects:le}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pt.b)(Pn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Pn.urlAfterRedirects})}),function Ta(O,D,w,k,L){return(0,gt.z)(le=>function gl(O,D,w,k,L="emptyOnly",le="legacy"){try{const Me=new no(O,D,w,k,L,le).recognize();return null===Me?pl(new fl):(0,ue.of)(Me)}catch(Me){return pl(Me)}}(O,D,le.urlAfterRedirects,w(le.urlAfterRedirects),k,L).pipe((0,Le.U)(Me=>Object.assign(Object.assign({},le),{targetSnapshot:Me}))))}(this.rootComponentType,this.config,Pn=>this.serializeUrl(Pn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pt.b)(Pn=>{if("eager"===this.urlUpdateStrategy){if(!Pn.extras.skipLocationChange){const Oi=this.urlHandlingStrategy.merge(Pn.urlAfterRedirects,Pn.rawUrl);this.setBrowserUrl(Oi,Pn)}this.browserUrlTree=Pn.urlAfterRedirects}const Ci=new An(Pn.id,this.serializeUrl(Pn.extractedUrl),this.serializeUrl(Pn.urlAfterRedirects),Pn.targetSnapshot);k.next(Ci)}));if(Tn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ci,extractedUrl:Oi,source:ur,restoredState:uo,extras:zo}=He,qs=new Rt(Ci,this.serializeUrl(Oi),ur,uo);k.next(qs);const js=Wi(Oi,this.rootComponentType).snapshot;return(0,ue.of)(Object.assign(Object.assign({},He),{targetSnapshot:js,urlAfterRedirects:Oi,extras:Object.assign(Object.assign({},zo),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=He.rawUrl,He.resolve(null),Ye.E}),ro(He=>{const{targetSnapshot:kt,id:Tn,extractedUrl:fi,rawUrl:Pn,extras:{skipLocationChange:Ci,replaceUrl:Oi}}=He;return this.hooks.beforePreactivation(kt,{navigationId:Tn,appliedUrlTree:fi,rawUrlTree:Pn,skipLocationChange:!!Ci,replaceUrl:!!Oi})}),(0,pt.b)(He=>{const kt=new zn(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot);this.triggerEvent(kt)}),(0,Le.U)(He=>Object.assign(Object.assign({},He),{guards:Pt(He.targetSnapshot,He.currentSnapshot,this.rootContexts)})),function bi(O,D){return(0,gt.z)(w=>{const{targetSnapshot:k,currentSnapshot:L,guards:{canActivateChecks:le,canDeactivateChecks:Me}}=w;return 0===Me.length&&0===le.length?(0,ue.of)(Object.assign(Object.assign({},w),{guardsResult:!0})):function hl(O,D,w,k){return(0,ee.D)(O).pipe((0,gt.z)(L=>function wa(O,D,w,k,L){const le=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,ue.of)(!0);const Me=le.map(He=>{const kt=ki(He,D,L);let Tn;if(function Ha(O){return O&&Sr(O.canDeactivate)}(kt))Tn=bt(kt.canDeactivate(O,D,w,k));else{if(!Sr(kt))throw new Error("Invalid CanDeactivate guard");Tn=bt(kt(O,D,w,k))}return Tn.pipe((0,sn.P)())});return(0,ue.of)(Me).pipe(Xr())}(L.component,L.route,w,D,k)),(0,sn.P)(L=>!0!==L,!0))}(Me,k,L,O).pipe((0,gt.z)(He=>He&&function Ms(O){return"boolean"==typeof O}(He)?function lr(O,D,w,k){return(0,ee.D)(D).pipe((0,xt.b)(L=>(0,ft.z)(function _o(O,D){return null!==O&&D&&D(new Mn(O)),(0,ue.of)(!0)}(L.route.parent,k),function ba(O,D){return null!==O&&D&&D(new un(O)),(0,ue.of)(!0)}(L.route,k),function Ea(O,D,w){const k=D[D.length-1],le=D.slice(0,D.length-1).reverse().map(Me=>function Sn(O){const D=O.routeConfig?O.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:O,guards:D}:null}(Me)).filter(Me=>null!==Me).map(Me=>(0,ut.P)(()=>{const He=Me.guards.map(kt=>{const Tn=ki(kt,Me.node,w);let fi;if(function Ts(O){return O&&Sr(O.canActivateChild)}(Tn))fi=bt(Tn.canActivateChild(k,O));else{if(!Sr(Tn))throw new Error("Invalid CanActivateChild guard");fi=bt(Tn(k,O))}return fi.pipe((0,sn.P)())});return(0,ue.of)(He).pipe(Xr())}));return(0,ue.of)(le).pipe(Xr())}(O,L.path,w),function Us(O,D,w){const k=D.routeConfig?D.routeConfig.canActivate:null;if(!k||0===k.length)return(0,ue.of)(!0);const L=k.map(le=>(0,ut.P)(()=>{const Me=ki(le,D,w);let He;if(function Ps(O){return O&&Sr(O.canActivate)}(Me))He=bt(Me.canActivate(D,O));else{if(!Sr(Me))throw new Error("Invalid CanActivate guard");He=bt(Me(D,O))}return He.pipe((0,sn.P)())}));return(0,ue.of)(L).pipe(Xr())}(O,L.route,w))),(0,sn.P)(L=>!0!==L,!0))}(k,le,O,D):(0,ue.of)(He)),(0,Le.U)(He=>Object.assign(Object.assign({},w),{guardsResult:He})))})}(this.ngModule.injector,He=>this.triggerEvent(He)),(0,pt.b)(He=>{if(Un(He.guardsResult)){const Tn=Fe(`Redirecting to "${this.serializeUrl(He.guardsResult)}"`);throw Tn.url=He.guardsResult,Tn}const kt=new Xn(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot,!!He.guardsResult);this.triggerEvent(kt)}),(0,ge.h)(He=>!!He.guardsResult||(this.restoreHistory(He),this.cancelNavigationTransition(He,""),!1)),ro(He=>{if(He.guards.canActivateChecks.length)return(0,ue.of)(He).pipe((0,pt.b)(kt=>{const Tn=new Hn(kt.id,this.serializeUrl(kt.extractedUrl),this.serializeUrl(kt.urlAfterRedirects),kt.targetSnapshot);this.triggerEvent(Tn)}),(0,Ue.w)(kt=>{let Tn=!1;return(0,ue.of)(kt).pipe(function Or(O,D){return(0,gt.z)(w=>{const{targetSnapshot:k,guards:{canActivateChecks:L}}=w;if(!L.length)return(0,ue.of)(w);let le=0;return(0,ee.D)(L).pipe((0,xt.b)(Me=>function tl(O,D,w,k){return function Da(O,D,w,k){const L=wo(O);if(0===L.length)return(0,ue.of)({});const le={};return(0,ee.D)(L).pipe((0,gt.z)(Me=>function Zr(O,D,w,k){const L=ki(O,D,k);return bt(L.resolve?L.resolve(D,w):L(D,w))}(O[Me],D,w,k).pipe((0,pt.b)(He=>{le[Me]=He}))),we(1),(0,gt.z)(()=>wo(le).length===L.length?(0,ue.of)(le):Ye.E))}(O._resolve,O,D,k).pipe((0,Le.U)(le=>(O._resolvedData=le,O.data=Object.assign(Object.assign({},O.data),Vi(O,w).resolve),null)))}(Me.route,k,O,D)),(0,pt.b)(()=>le++),we(1),(0,gt.z)(Me=>le===L.length?(0,ue.of)(w):Ye.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pt.b)({next:()=>Tn=!0,complete:()=>{Tn||(this.restoreHistory(kt),this.cancelNavigationTransition(kt,"At least one route resolver didn't emit any value."))}}))}),(0,pt.b)(kt=>{const Tn=new vi(kt.id,this.serializeUrl(kt.extractedUrl),this.serializeUrl(kt.urlAfterRedirects),kt.targetSnapshot);this.triggerEvent(Tn)}))}),ro(He=>{const{targetSnapshot:kt,id:Tn,extractedUrl:fi,rawUrl:Pn,extras:{skipLocationChange:Ci,replaceUrl:Oi}}=He;return this.hooks.afterPreactivation(kt,{navigationId:Tn,appliedUrlTree:fi,rawUrlTree:Pn,skipLocationChange:!!Ci,replaceUrl:!!Oi})}),(0,Le.U)(He=>{const kt=function qi(O,D,w){const k=Ai(O,D._root,w?w._root:void 0);return new Qr(k,D)}(this.routeReuseStrategy,He.targetSnapshot,He.currentRouterState);return Object.assign(Object.assign({},He),{targetRouterState:kt})}),(0,pt.b)(He=>{this.currentUrlTree=He.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(He.urlAfterRedirects,He.rawUrl),this.routerState=He.targetRouterState,"deferred"===this.urlUpdateStrategy&&(He.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,He),this.browserUrlTree=He.urlAfterRedirects)}),((O,D,w)=>(0,Le.U)(k=>(new Gr(D,k.targetRouterState,k.currentRouterState,w).activate(O),k)))(this.rootContexts,this.routeReuseStrategy,He=>this.triggerEvent(He)),(0,pt.b)({next(){le=!0},complete(){le=!0}}),function tt(O){return(0,ke.e)((D,w)=>{try{D.subscribe(w)}finally{w.add(O)}})}(()=>{var He;le||Me||this.cancelNavigationTransition(L,`Navigation ID ${L.id} is not equal to the current navigation id ${this.navigationId}`),(null===(He=this.currentNavigation)||void 0===He?void 0:He.id)===L.id&&(this.currentNavigation=null)}),yt(He=>{if(Me=!0,function $e(O){return O&&O[Mt]}(He)){const kt=Un(He.url);kt||(this.navigated=!0,this.restoreHistory(L,!0));const Tn=new tn(L.id,this.serializeUrl(L.extractedUrl),He.message);k.next(Tn),kt?setTimeout(()=>{const fi=this.urlHandlingStrategy.merge(He.url,this.rawUrlTree),Pn={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||oo(L.source)};this.scheduleNavigation(fi,"imperative",null,Pn,{resolve:L.resolve,reject:L.reject,promise:L.promise})},0):L.resolve(!1)}else{this.restoreHistory(L,!0);const kt=new gn(L.id,this.serializeUrl(L.extractedUrl),He);k.next(kt);try{L.resolve(this.errorHandler(He))}catch(Tn){L.reject(Tn)}}return Ye.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}setTransition(w){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),w))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const k="popstate"===w.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{var L;const le={replaceUrl:!0},Me=(null===(L=w.state)||void 0===L?void 0:L.navigationId)?w.state:null;if(Me){const kt=Object.assign({},Me);delete kt.navigationId,delete kt.\u0275routerPageId,0!==Object.keys(kt).length&&(le.state=kt)}const He=this.parseUrl(w.url);this.scheduleNavigation(He,k,Me,le)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){xr(w),this.config=w.map(ds),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,k={}){const{relativeTo:L,queryParams:le,fragment:Me,queryParamsHandling:He,preserveFragment:kt}=k,Tn=L||this.routerState.root,fi=kt?this.currentUrlTree.fragment:Me;let Pn=null;switch(He){case"merge":Pn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),le);break;case"preserve":Pn=this.currentUrlTree.queryParams;break;default:Pn=le||null}return null!==Pn&&(Pn=this.removeEmptyProps(Pn)),function ar(O,D,w,k,L){if(0===w.length)return Ls(D.root,D.root,D.root,k,L);const le=function st(O){if("string"==typeof O[0]&&1===O.length&&"/"===O[0])return new Fs(!0,0,O);let D=0,w=!1;const k=O.reduce((L,le,Me)=>{if("object"==typeof le&&null!=le){if(le.outlets){const He={};return We(le.outlets,(kt,Tn)=>{He[Tn]="string"==typeof kt?kt.split("/"):kt}),[...L,{outlets:He}]}if(le.segmentPath)return[...L,le.segmentPath]}return"string"!=typeof le?[...L,le]:0===Me?(le.split("/").forEach((He,kt)=>{0==kt&&"."===He||(0==kt&&""===He?w=!0:".."===He?D++:""!=He&&L.push(He))}),L):[...L,le]},[]);return new Fs(w,D,k)}(w);if(le.toRoot())return Ls(D.root,D.root,new de([],{}),k,L);const Me=function ht(O,D,w){if(O.isAbsolute)return new Ke(D.root,!0,0);if(-1===w.snapshot._lastPathIndex){const le=w.snapshot._urlSegment;return new Ke(le,le===D.root,0)}const k=ms(O.commands[0])?0:1;return function Ht(O,D,w){let k=O,L=D,le=w;for(;le>L;){if(le-=L,k=k.parent,!k)throw new Error("Invalid number of '../'");L=k.segments.length}return new Ke(k,!1,L-le)}(w.snapshot._urlSegment,w.snapshot._lastPathIndex+k,O.numberOfDoubleDots)}(le,D,O),He=Me.processChildren?jn(Me.segmentGroup,Me.index,le.commands):bn(Me.segmentGroup,Me.index,le.commands);return Ls(D.root,Me.segmentGroup,He,k,L)}(Tn,this.currentUrlTree,w,Pn,null!=fi?fi:null)}navigateByUrl(w,k={skipLocationChange:!1}){const L=Un(w)?w:this.parseUrl(w),le=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(le,"imperative",null,k)}navigate(w,k={skipLocationChange:!1}){return function Ho(O){for(let D=0;D<O.length;D++){const w=O[D];if(null==w)throw new Error(`The requested path contains ${w} segment at index ${D}`)}}(w),this.navigateByUrl(this.createUrlTree(w,k),k)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let k;try{k=this.urlSerializer.parse(w)}catch(L){k=this.malformedUriErrorHandler(L,this.urlSerializer,w)}return k}isActive(w,k){let L;if(L=!0===k?Object.assign({},ja):!1===k?Object.assign({},Nu):k,Un(w))return wn(this.currentUrlTree,w,L);const le=this.parseUrl(w);return wn(this.currentUrlTree,le,L)}removeEmptyProps(w){return Object.keys(w).reduce((k,L)=>{const le=w[L];return null!=le&&(k[L]=le),k},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new Nt(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,k,L,le,Me){var He,kt;if(this.disposed)return Promise.resolve(!1);let Tn,fi,Pn;Me?(Tn=Me.resolve,fi=Me.reject,Pn=Me.promise):Pn=new Promise((ur,uo)=>{Tn=ur,fi=uo});const Ci=++this.navigationId;let Oi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(L=this.location.getState()),Oi=L&&L.\u0275routerPageId?L.\u0275routerPageId:le.replaceUrl||le.skipLocationChange?null!==(He=this.browserPageId)&&void 0!==He?He:0:(null!==(kt=this.browserPageId)&&void 0!==kt?kt:0)+1):Oi=0,this.setTransition({id:Ci,targetPageId:Oi,source:k,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:le,resolve:Tn,reject:fi,promise:Pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pn.catch(ur=>Promise.reject(ur))}setBrowserUrl(w,k){const L=this.urlSerializer.serialize(w),le=Object.assign(Object.assign({},k.extras.state),this.generateNgRouterState(k.id,k.targetPageId));this.location.isCurrentPathEqualTo(L)||k.extras.replaceUrl?this.location.replaceState(L,"",le):this.location.go(L,"",le)}restoreHistory(w,k=!1){var L,le;if("computed"===this.canceledNavigationResolution){const Me=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(L=this.currentNavigation)||void 0===L?void 0:L.finalUrl)||0===Me?this.currentUrlTree===(null===(le=this.currentNavigation)||void 0===le?void 0:le.finalUrl)&&0===Me&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Me)}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,k){const L=new tn(w.id,this.serializeUrl(w.extractedUrl),k);this.triggerEvent(L),w.resolve(!1)}generateNgRouterState(w,k){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:k}:{navigationId:w}}}return O.\u0275fac=function(w){p.$Z()},O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac}),O})();function oo(O){return"imperative"!==O}let ao=(()=>{class O{constructor(w,k,L,le,Me){this.router=w,this.route=k,this.tabIndexAttribute=L,this.renderer=le,this.el=Me,this.commands=null,this.onChanges=new lt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){if(null!=this.tabIndexAttribute)return;const k=this.renderer,L=this.el.nativeElement;null!==w?k.setAttribute(L,"tabindex",w):k.removeAttribute(L,"tabindex")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const w={skipLocationChange:Qt(this.skipLocationChange),replaceUrl:Qt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qt(this.preserveFragment)})}}return O.\u0275fac=function(w){return new(w||O)(p.Y36($i),p.Y36(nr),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},O.\u0275dir=p.lG2({type:O,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,k){1&w&&p.NdJ("click",function(){return k.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),O})(),ps=(()=>{class O{constructor(w,k,L){this.router=w,this.route=k,this.locationStrategy=L,this.commands=null,this.href=null,this.onChanges=new lt.x,this.subscription=w.events.subscribe(le=>{le instanceof Nt&&this.updateTargetUrlAndHref()})}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:null}ngOnChanges(w){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(w,k,L,le,Me){if(0!==w||k||L||le||Me||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const He={skipLocationChange:Qt(this.skipLocationChange),replaceUrl:Qt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,He),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Qt(this.preserveFragment)})}}return O.\u0275fac=function(w){return new(w||O)(p.Y36($i),p.Y36(nr),p.Y36(Ae.S$))},O.\u0275dir=p.lG2({type:O,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(w,k){1&w&&p.NdJ("click",function(le){return k.onClick(le.button,le.ctrlKey,le.shiftKey,le.altKey,le.metaKey)}),2&w&&p.uIk("target",k.target)("href",k.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),O})();function Qt(O){return""===O||!!O}let Ji=(()=>{class O{constructor(w,k,L,le,Me,He){this.router=w,this.element=k,this.renderer=L,this.cdr=le,this.link=Me,this.linkWithHref=He,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new p.vpe,this.routerEventsSubscription=w.events.subscribe(kt=>{kt instanceof Nt&&this.update()})}ngAfterContentInit(){(0,ue.of)(this.links.changes,this.linksWithHrefs.changes,(0,ue.of)(null)).pipe((0,K.J)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var w;null===(w=this.linkInputChangesSubscription)||void 0===w||w.unsubscribe();const k=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(L=>!!L).map(L=>L.onChanges);this.linkInputChangesSubscription=(0,ee.D)(k).pipe((0,K.J)()).subscribe(L=>{this.isActive!==this.isLinkActive(this.router)(L)&&this.update()})}set routerLinkActive(w){const k=Array.isArray(w)?w:w.split(" ");this.classes=k.filter(L=>!!L)}ngOnChanges(w){this.update()}ngOnDestroy(){var w;this.routerEventsSubscription.unsubscribe(),null===(w=this.linkInputChangesSubscription)||void 0===w||w.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const w=this.hasActiveLinks();this.isActive!==w&&(this.isActive=w,this.cdr.markForCheck(),this.classes.forEach(k=>{w?this.renderer.addClass(this.element.nativeElement,k):this.renderer.removeClass(this.element.nativeElement,k)}),this.isActiveChange.emit(w))})}isLinkActive(w){const k=function Xi(O){return!!O.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return L=>!!L.urlTree&&w.isActive(L.urlTree,k)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.linkWithHref&&w(this.linkWithHref)||this.links.some(w)||this.linksWithHrefs.some(w)}}return O.\u0275fac=function(w){return new(w||O)(p.Y36($i),p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(ao,8),p.Y36(ps,8))},O.\u0275dir=p.lG2({type:O,selectors:[["","routerLinkActive",""]],contentQueries:function(w,k,L){if(1&w&&(p.Suo(L,ao,5),p.Suo(L,ps,5)),2&w){let le;p.iGM(le=p.CRH())&&(k.links=le),p.iGM(le=p.CRH())&&(k.linksWithHrefs=le)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[p.TTD]}),O})();class Hs{}class Nn{preload(D,w){return(0,ue.of)(null)}}let jo=(()=>{class O{constructor(w,k,L,le){this.router=w,this.injector=L,this.preloadingStrategy=le,this.loader=new so(L,k,kt=>w.triggerEvent(new Kn(kt)),kt=>w.triggerEvent(new xi(kt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ge.h)(w=>w instanceof Nt),(0,xt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const w=this.injector.get(p.h0i);return this.processRoutes(w,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,k){const L=[];for(const le of k)if(le.loadChildren&&!le.canLoad&&le._loadedConfig){const Me=le._loadedConfig;L.push(this.processRoutes(Me.module,Me.routes))}else le.loadChildren&&!le.canLoad?L.push(this.preloadConfig(w,le)):le.children&&L.push(this.processRoutes(w,le.children));return(0,ee.D)(L).pipe((0,K.J)(),(0,Le.U)(le=>{}))}preloadConfig(w,k){return this.preloadingStrategy.preload(k,()=>(k._loadedConfig?(0,ue.of)(k._loadedConfig):this.loader.load(w.injector,k)).pipe((0,gt.z)(le=>(k._loadedConfig=le,this.processRoutes(le.module,le.routes)))))}}return O.\u0275fac=function(w){return new(w||O)(p.LFG($i),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(Hs))},O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac}),O})(),hn=(()=>{class O{constructor(w,k,L={}){this.router=w,this.viewportScroller=k,this.options=L,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},L.scrollPositionRestoration=L.scrollPositionRestoration||"disabled",L.anchorScrolling=L.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Rt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Nt&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof qn&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,k){this.router.triggerEvent(new qn(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return O.\u0275fac=function(w){p.$Z()},O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac}),O})();const $t=new p.OlP("ROUTER_CONFIGURATION"),gr=new p.OlP("ROUTER_FORROOT_GUARD"),ml=[Ae.Ye,{provide:$,useClass:X},{provide:$i,useFactory:function $o(O,D,w,k,L,le,Me={},He,kt){const Tn=new $i(null,O,D,w,k,L,Re(le));return He&&(Tn.urlHandlingStrategy=He),kt&&(Tn.routeReuseStrategy=kt),function Go(O,D){O.errorHandler&&(D.errorHandler=O.errorHandler),O.malformedUriErrorHandler&&(D.malformedUriErrorHandler=O.malformedUriErrorHandler),O.onSameUrlNavigation&&(D.onSameUrlNavigation=O.onSameUrlNavigation),O.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=O.paramsInheritanceStrategy),O.relativeLinkResolution&&(D.relativeLinkResolution=O.relativeLinkResolution),O.urlUpdateStrategy&&(D.urlUpdateStrategy=O.urlUpdateStrategy),O.canceledNavigationResolution&&(D.canceledNavigationResolution=O.canceledNavigationResolution)}(Me,Tn),Me.enableTracing&&Tn.events.subscribe(fi=>{var Pn,Ci;null===(Pn=console.group)||void 0===Pn||Pn.call(console,`Router Event: ${fi.constructor.name}`),console.log(fi.toString()),console.log(fi),null===(Ci=console.groupEnd)||void 0===Ci||Ci.call(console)}),Tn},deps:[$,zr,Ae.Ye,p.zs3,p.Sil,Ia,$t,[class du{},new p.FiY],[class ra{},new p.FiY]]},zr,{provide:nr,useFactory:function Fl(O){return O.routerState.root},deps:[$i]},jo,Nn,class xn{preload(D,w){return w().pipe(yt(()=>(0,ue.of)(null)))}},{provide:$t,useValue:{enableTracing:!1}}];function lo(){return new p.PXZ("Router",$i)}let $a=(()=>{class O{constructor(w,k){}static forRoot(w,k){return{ngModule:O,providers:[ml,xa(w),{provide:gr,useFactory:Sa,deps:[[$i,new p.FiY,new p.tp0]]},{provide:$t,useValue:k||{}},{provide:Ae.S$,useFactory:yl,deps:[Ae.lw,[new p.tBr(Ae.mr),new p.FiY],$t]},{provide:hn,useFactory:ns,deps:[$i,Ae.EM,$t]},{provide:Hs,useExisting:k&&k.preloadingStrategy?k.preloadingStrategy:Nn},{provide:p.PXZ,multi:!0,useFactory:lo},[Gi,{provide:p.ip1,multi:!0,useFactory:ti,deps:[Gi]},{provide:Oa,useFactory:vs,deps:[Gi]},{provide:p.tb,multi:!0,useExisting:Oa}]]}}static forChild(w){return{ngModule:O,providers:[xa(w)]}}}return O.\u0275fac=function(w){return new(w||O)(p.LFG(gr,8),p.LFG($i,8))},O.\u0275mod=p.oAB({type:O}),O.\u0275inj=p.cJS({}),O})();function ns(O,D,w){return w.scrollOffset&&D.setOffset(w.scrollOffset),new hn(O,D,w)}function yl(O,D,w={}){return w.useHash?new Ae.Do(O,D):new Ae.b0(O,D)}function Sa(O){return"guarded"}function xa(O){return[{provide:p.deG,multi:!0,useValue:O},{provide:Ia,multi:!0,useValue:O}]}let Gi=(()=>{class O{constructor(w){this.injector=w,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new lt.x}appInitializer(){return this.injector.get(Ae.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let k=null;const L=new Promise(He=>k=He),le=this.injector.get($i),Me=this.injector.get($t);return"disabled"===Me.initialNavigation?(le.setUpLocationChangeListener(),k(!0)):"enabled"===Me.initialNavigation||"enabledBlocking"===Me.initialNavigation?(le.hooks.afterPreactivation=()=>this.initNavigation?(0,ue.of)(null):(this.initNavigation=!0,k(!0),this.resultOfPreactivationDone),le.initialNavigation()):k(!0),L})}bootstrapListener(w){const k=this.injector.get($t),L=this.injector.get(jo),le=this.injector.get(hn),Me=this.injector.get($i),He=this.injector.get(p.z2F);w===He.components[0]&&(("enabledNonBlocking"===k.initialNavigation||void 0===k.initialNavigation)&&Me.initialNavigation(),L.setUpPreloading(),le.init(),Me.resetRootComponentType(He.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return O.\u0275fac=function(w){return new(w||O)(p.LFG(p.zs3))},O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac}),O})();function ti(O){return O.appInitializer.bind(O)}function vs(O){return O.bootstrapListener.bind(O)}const Oa=new p.OlP("Router Initializer")},3942:(Jt,Ze,x)=>{x.d(Ze,{Z:()=>ft});var p=x(2090),d=x(4859),W=x(9681),Ce=x(1877);class ve{constructor(Ye,lt){this._delegate=Ye,this.firebase=lt,(0,W._addComponent)(Ye,new d.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Ye,lt=W._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const yt=this._delegate.container.getProvider(Ye);return!yt.isInitialized()&&"EXPLICIT"===(null===(Be=yt.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&yt.initialize(),yt.getImmediate({identifier:lt})}_removeServiceInstance(Ye,lt=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(lt)}_addComponent(Ye){(0,W._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,W._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function Q(){const ut=function ce(ut){const Ye={},lt={__esModule:!0,initializeApp:function ge(q,qe={}){const tt=W.initializeApp(q,qe);if((0,p.r3)(Ye,tt.name))return Ye[tt.name];const Le=new ut(tt,lt);return Ye[tt.name]=Le,Le},app:yt,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function et(q){const qe=q.name,tt=qe.replace("-compat","");if(W._registerComponent(q)&&"PUBLIC"===q.type){const Le=(Ue=yt())=>{if("function"!=typeof Ue[tt])throw be.create("invalid-app-argument",{appName:qe});return Ue[tt]()};void 0!==q.serviceProps&&(0,p.ZB)(Le,q.serviceProps),lt[tt]=Le,ut.prototype[tt]=function(...Ue){return this._getService.bind(this,qe).apply(this,q.multipleInstances?Ue:[])}}return"PUBLIC"===q.type?lt[tt]:null},removeApp:function Be(q){delete Ye[q]},useAsService:function wt(q,qe){return"serverAuth"===qe?null:qe},modularAPIs:W}};function yt(q){if(!(0,p.r3)(Ye,q=q||W._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:q});return Ye[q]}return lt.default=lt,Object.defineProperty(lt,"apps",{get:function we(){return Object.keys(Ye).map(q=>Ye[q])}}),yt.App=ut,lt}(ve);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function Ye(lt){(0,p.ZB)(ut,lt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),ut}(),ue=new Ce.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ft=ee;!function it(ut){(0,W.registerVersion)("@firebase/app-compat","0.1.39",ut)}()},9681:(Jt,Ze,x)=>{x.r(Ze),x.d(Ze,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>Kn,_DEFAULT_ENTRY_NAME:()=>pt,_addComponent:()=>Rt,_addOrOverwriteComponent:()=>Nt,_apps:()=>Ae,_clearComponents:()=>zn,_components:()=>Ge,_getProvider:()=>gn,_registerComponent:()=>tn,_removeServiceInstance:()=>An,deleteApp:()=>un,getApp:()=>Mn,getApps:()=>ci,initializeApp:()=>xi,onLog:()=>nn,registerVersion:()=>qn,setLogLevel:()=>Li});var p=x(5861),d=x(4859),W=x(1877),Ce=x(2090),ve=x(8766);class ke{constructor(he){this.container=he}getPlatformInfoString(){return this.container.getProviders().map(_e=>{if(function be(z){const he=z.getComponent();return"VERSION"===(null==he?void 0:he.type)}(_e)){const Ve=_e.getImmediate();return`${Ve.library}/${Ve.version}`}return null}).filter(_e=>_e).join(" ")}}const ce="@firebase/app",Q="0.8.4",ee=new W.Yd("@firebase/app"),pt="[DEFAULT]",K={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ae=new Map,Ge=new Map;function Rt(z,he){try{z.container.addComponent(he)}catch(_e){ee.debug(`Component ${he.name} failed to register with FirebaseApp ${z.name}`,_e)}}function Nt(z,he){z.container.addOrOverwriteComponent(he)}function tn(z){const he=z.name;if(Ge.has(he))return ee.debug(`There were multiple attempts to register component ${he}.`),!1;Ge.set(he,z);for(const _e of Ae.values())Rt(_e,z);return!0}function gn(z,he){const _e=z.container.getProvider("heartbeat").getImmediate({optional:!0});return _e&&_e.triggerHeartbeat(),z.container.getProvider(he)}function An(z,he,_e=pt){gn(z,he).clearInstance(_e)}function zn(){Ge.clear()}const Hn=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vi{constructor(he,_e,Ve){this._isDeleted=!1,this._options=Object.assign({},he),this._config=Object.assign({},_e),this._name=_e.name,this._automaticDataCollectionEnabled=_e.automaticDataCollectionEnabled,this._container=Ve,this.container.addComponent(new d.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this.checkDestroyed(),this._automaticDataCollectionEnabled=he}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(he){this._isDeleted=he}checkDestroyed(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}const Kn="9.14.0";function xi(z,he={}){let _e=z;"object"!=typeof he&&(he={name:he});const Ve=Object.assign({name:pt,automaticDataCollectionEnabled:!1},he),vt=Ve.name;if("string"!=typeof vt||!vt)throw Hn.create("bad-app-name",{appName:String(vt)});if(_e||(_e=(0,Ce.aH)()),!_e)throw Hn.create("no-options");const Ot=Ae.get(vt);if(Ot){if((0,Ce.vZ)(_e,Ot.options)&&(0,Ce.vZ)(Ve,Ot.config))return Ot;throw Hn.create("duplicate-app",{appName:vt})}const de=new d.H0(vt);for(const Oe of Ge.values())de.addComponent(Oe);const fe=new vi(_e,Ve,de);return Ae.set(vt,fe),fe}function Mn(z=pt){const he=Ae.get(z);if(!he&&z===pt)return xi();if(!he)throw Hn.create("no-app",{appName:z});return he}function ci(){return Array.from(Ae.values())}function un(z){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,p.Z)(function*(z){const he=z.name;Ae.has(he)&&(Ae.delete(he),yield Promise.all(z.container.getProviders().map(_e=>_e.delete())),z.isDeleted=!0)})).apply(this,arguments)}function qn(z,he,_e){var Ve;let vt=null!==(Ve=K[z])&&void 0!==Ve?Ve:z;_e&&(vt+=`-${_e}`);const Ot=vt.match(/\s|\//),de=he.match(/\s|\//);if(Ot||de){const fe=[`Unable to register library "${vt}" with version "${he}":`];return Ot&&fe.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),Ot&&de&&fe.push("and"),de&&fe.push(`version name "${he}" contains illegal characters (whitespace or "/")`),void ee.warn(fe.join(" "))}tn(new d.wA(`${vt}-version`,()=>({library:vt,version:he}),"VERSION"))}function nn(z,he){if(null!==z&&"function"!=typeof z)throw Hn.create("invalid-log-argument");(0,W.Am)(z,he)}function Li(z){(0,W.Ub)(z)}const Fe="firebase-heartbeat-store";let $e=null;function Ut(){return $e||($e=(0,ve.X3)("firebase-heartbeat-database",1,{upgrade:(z,he)=>{0===he&&z.createObjectStore(Fe)}}).catch(z=>{throw Hn.create("idb-open",{originalErrorMessage:z.message})})),$e}function Bt(){return(Bt=(0,p.Z)(function*(z){var he;try{return(yield Ut()).transaction(Fe).objectStore(Fe).get(xe(z))}catch(_e){if(_e instanceof Ce.ZR)ee.warn(_e.message);else{const Ve=Hn.create("idb-get",{originalErrorMessage:null===(he=_e)||void 0===he?void 0:he.message});ee.warn(Ve.message)}}})).apply(this,arguments)}function Kt(z,he){return Re.apply(this,arguments)}function Re(){return(Re=(0,p.Z)(function*(z,he){var _e;try{const vt=(yield Ut()).transaction(Fe,"readwrite");return yield vt.objectStore(Fe).put(he,xe(z)),vt.done}catch(Ve){if(Ve instanceof Ce.ZR)ee.warn(Ve.message);else{const vt=Hn.create("idb-set",{originalErrorMessage:null===(_e=Ve)||void 0===_e?void 0:_e.message});ee.warn(vt.message)}}})).apply(this,arguments)}function xe(z){return`${z.name}!${z.options.appId}`}class bt{constructor(he){this.container=he,this._heartbeatsCache=null;const _e=this.container.getProvider("app").getImmediate();this._storage=new vn(_e),this._heartbeatsCachePromise=this._storage.read().then(Ve=>(this._heartbeatsCache=Ve,Ve))}triggerHeartbeat(){var he=this;return(0,p.Z)(function*(){const Ve=he.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=St();if(null===he._heartbeatsCache&&(he._heartbeatsCache=yield he._heartbeatsCachePromise),he._heartbeatsCache.lastSentHeartbeatDate!==vt&&!he._heartbeatsCache.heartbeats.some(Ot=>Ot.date===vt))return he._heartbeatsCache.heartbeats.push({date:vt,agent:Ve}),he._heartbeatsCache.heartbeats=he._heartbeatsCache.heartbeats.filter(Ot=>{const de=new Date(Ot.date).valueOf();return Date.now()-de<=2592e6}),he._storage.overwrite(he._heartbeatsCache)})()}getHeartbeatsHeader(){var he=this;return(0,p.Z)(function*(){if(null===he._heartbeatsCache&&(yield he._heartbeatsCachePromise),null===he._heartbeatsCache||0===he._heartbeatsCache.heartbeats.length)return"";const _e=St(),{heartbeatsToSend:Ve,unsentEntries:vt}=function Tt(z,he=1024){const _e=[];let Ve=z.slice();for(const vt of z){const Ot=_e.find(de=>de.agent===vt.agent);if(Ot){if(Ot.dates.push(vt.date),wn(_e)>he){Ot.dates.pop();break}}else if(_e.push({agent:vt.agent,dates:[vt.date]}),wn(_e)>he){_e.pop();break}Ve=Ve.slice(1)}return{heartbeatsToSend:_e,unsentEntries:Ve}}(he._heartbeatsCache.heartbeats),Ot=(0,Ce.L)(JSON.stringify({version:2,heartbeats:Ve}));return he._heartbeatsCache.lastSentHeartbeatDate=_e,vt.length>0?(he._heartbeatsCache.heartbeats=vt,yield he._storage.overwrite(he._heartbeatsCache)):(he._heartbeatsCache.heartbeats=[],he._storage.overwrite(he._heartbeatsCache)),Ot})()}}function St(){return(new Date).toISOString().substring(0,10)}class vn{constructor(he){this.app=he,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var he=this;return(0,p.Z)(function*(){return(yield he._canUseIndexedDBPromise)&&(yield function It(z){return Bt.apply(this,arguments)}(he.app))||{heartbeats:[]}})()}overwrite(he){var _e=this;return(0,p.Z)(function*(){var Ve;if(yield _e._canUseIndexedDBPromise){const Ot=yield _e.read();return Kt(_e.app,{lastSentHeartbeatDate:null!==(Ve=he.lastSentHeartbeatDate)&&void 0!==Ve?Ve:Ot.lastSentHeartbeatDate,heartbeats:he.heartbeats})}})()}add(he){var _e=this;return(0,p.Z)(function*(){var Ve;if(yield _e._canUseIndexedDBPromise){const Ot=yield _e.read();return Kt(_e.app,{lastSentHeartbeatDate:null!==(Ve=he.lastSentHeartbeatDate)&&void 0!==Ve?Ve:Ot.lastSentHeartbeatDate,heartbeats:[...Ot.heartbeats,...he.heartbeats]})}})()}}function wn(z){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:z})).length}!function pn(z){tn(new d.wA("platform-logger",he=>new ke(he),"PRIVATE")),tn(new d.wA("heartbeat",he=>new bt(he),"PRIVATE")),qn(ce,Q,z),qn(ce,Q,"esm2017"),qn("fire-js","")}("")},4859:(Jt,Ze,x)=>{x.d(Ze,{H0:()=>ce,wA:()=>W});var p=x(5861),d=x(2090);class W{constructor(ee,ue,Ne){this.name=ee,this.instanceFactory=ue,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Ce="[DEFAULT]";class ve{constructor(ee,ue){this.name=ee,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ue=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ue)){const Ne=new d.BH;if(this.instancesDeferred.set(ue,Ne),this.isInitialized(ue)||this.shouldAutoInitialize())try{const ct=this.getOrInitializeService({instanceIdentifier:ue});ct&&Ne.resolve(ct)}catch(ct){}}return this.instancesDeferred.get(ue).promise}getImmediate(ee){var ue;const Ne=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),ct=null!==(ue=null==ee?void 0:ee.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(it){if(ct)return null;throw it}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function be(Q){return"EAGER"===Q.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch(ue){}for(const[ue,Ne]of this.instancesDeferred.entries()){const ct=this.normalizeInstanceIdentifier(ue);try{const it=this.getOrInitializeService({instanceIdentifier:ct});Ne.resolve(it)}catch(it){}}}}clearInstance(ee=Ce){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,p.Z)(function*(){const ue=Array.from(ee.instances.values());yield Promise.all([...ue.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...ue.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Ce){return this.instances.has(ee)}getOptions(ee=Ce){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ue={}}=ee,Ne=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ct=this.getOrInitializeService({instanceIdentifier:Ne,options:ue});for(const[it,ft]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(it)&&ft.resolve(ct);return ct}onInit(ee,ue){var Ne;const ct=this.normalizeInstanceIdentifier(ue),it=null!==(Ne=this.onInitCallbacks.get(ct))&&void 0!==Ne?Ne:new Set;it.add(ee),this.onInitCallbacks.set(ct,it);const ft=this.instances.get(ct);return ft&&ee(ft,ct),()=>{it.delete(ee)}}invokeOnInitCallbacks(ee,ue){const Ne=this.onInitCallbacks.get(ue);if(Ne)for(const ct of Ne)try{ct(ee,ue)}catch(it){}}getOrInitializeService({instanceIdentifier:ee,options:ue={}}){let Ne=this.instances.get(ee);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=ee,Q===Ce?void 0:Q),options:ue}),this.instances.set(ee,Ne),this.instancesOptions.set(ee,ue),this.invokeOnInitCallbacks(Ne,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Ne)}catch(ct){}var Q;return Ne||null}normalizeInstanceIdentifier(ee=Ce){return this.component?this.component.multipleInstances?ee:Ce:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ue=this.getProvider(ee.name);if(ue.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ue.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ue=new ve(ee,this);return this.providers.set(ee,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(Jt,Ze,x)=>{x.d(Ze,{Am:()=>Q,Ub:()=>ce,Yd:()=>be,in:()=>d});const p=[];var d=(()=>{return(ee=d||(d={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",d;var ee})();const W={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},Ce=d.INFO,ve={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},ke=(ee,ue,...Ne)=>{if(ue<ee.logLevel)return;const ct=(new Date).toISOString(),it=ve[ue];if(!it)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[it](`[${ct}]  ${ee.name}:`,...Ne)};class be{constructor(ue){this.name=ue,this._logLevel=Ce,this._logHandler=ke,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in d))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?W[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...ue),this._logHandler(this,d.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...ue),this._logHandler(this,d.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,d.INFO,...ue),this._logHandler(this,d.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,d.WARN,...ue),this._logHandler(this,d.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...ue),this._logHandler(this,d.ERROR,...ue)}}function ce(ee){p.forEach(ue=>{ue.setLogLevel(ee)})}function Q(ee,ue){for(const Ne of p){let ct=null;ue&&ue.level&&(ct=W[ue.level]),Ne.userLogHandler=null===ee?null:(it,ft,...ut)=>{const Ye=ut.map(lt=>{if(null==lt)return null;if("string"==typeof lt)return lt;if("number"==typeof lt||"boolean"==typeof lt)return lt.toString();if(lt instanceof Error)return lt.message;try{return JSON.stringify(lt)}catch(Be){return null}}).filter(lt=>lt).join(" ");ft>=(null!=ct?ct:it.logLevel)&&ee({level:d[ft].toLowerCase(),message:Ye,args:ut,type:it.name})}}}},8995:(Jt,Ze,x)=>{x.d(Ze,{Zw:()=>it,aw:()=>sn,X$:()=>xt,sK:()=>nt});var p=x(5e3),d=x(8306),W=x(576);function Ce(gt){return!!gt&&(gt instanceof d.y||(0,W.m)(gt.lift)&&(0,W.m)(gt.subscribe))}var ve=x(9646),ke=x(4128),be=x(7272),ce=x(9770),Q=x(5698),ee=x(3151),ue=x(4004),Ne=x(4351),ct=x(3900);class it{}let ft=(()=>{class gt extends it{getTranslation(K){return(0,ve.of)({})}}return gt.\u0275fac=function(){let pt;return function(Ae){return(pt||(pt=p.n5z(gt)))(Ae||gt)}}(),gt.\u0275prov=p.Yz7({token:gt,factory:gt.\u0275fac}),gt})();class ut{}let Ye=(()=>{class gt{handle(K){return K.key}}return gt.\u0275fac=function(K){return new(K||gt)},gt.\u0275prov=p.Yz7({token:gt,factory:gt.\u0275fac}),gt})();function lt(gt,pt){if(gt===pt)return!0;if(null===gt||null===pt)return!1;if(gt!=gt&&pt!=pt)return!0;let Ge,Rt,Nt,K=typeof gt;if(K==typeof pt&&"object"==K){if(!Array.isArray(gt)){if(Array.isArray(pt))return!1;for(Rt in Nt=Object.create(null),gt){if(!lt(gt[Rt],pt[Rt]))return!1;Nt[Rt]=!0}for(Rt in pt)if(!(Rt in Nt)&&void 0!==pt[Rt])return!1;return!0}if(!Array.isArray(pt))return!1;if((Ge=gt.length)==pt.length){for(Rt=0;Rt<Ge;Rt++)if(!lt(gt[Rt],pt[Rt]))return!1;return!0}}return!1}function Be(gt){return null!=gt}function yt(gt){return gt&&"object"==typeof gt&&!Array.isArray(gt)}function ge(gt,pt){let K=Object.assign({},gt);return yt(gt)&&yt(pt)&&Object.keys(pt).forEach(Ae=>{yt(pt[Ae])?Ae in gt?K[Ae]=ge(gt[Ae],pt[Ae]):Object.assign(K,{[Ae]:pt[Ae]}):Object.assign(K,{[Ae]:pt[Ae]})}),K}class we{}let et=(()=>{class gt extends we{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(K,Ae){let Ge;return Ge="string"==typeof K?this.interpolateString(K,Ae):"function"==typeof K?this.interpolateFunction(K,Ae):K,Ge}getValue(K,Ae){let Ge="string"==typeof Ae?Ae.split("."):[Ae];Ae="";do{Ae+=Ge.shift(),!Be(K)||!Be(K[Ae])||"object"!=typeof K[Ae]&&Ge.length?Ge.length?Ae+=".":K=void 0:(K=K[Ae],Ae="")}while(Ge.length);return K}interpolateFunction(K,Ae){return K(Ae)}interpolateString(K,Ae){return Ae?K.replace(this.templateMatcher,(Ge,Rt)=>{let Nt=this.getValue(Ae,Rt);return Be(Nt)?Nt:Ge}):K}}return gt.\u0275fac=function(){let pt;return function(Ae){return(pt||(pt=p.n5z(gt)))(Ae||gt)}}(),gt.\u0275prov=p.Yz7({token:gt,factory:gt.\u0275fac}),gt})();class wt{}let q=(()=>{class gt extends wt{compile(K,Ae){return K}compileTranslations(K,Ae){return K}}return gt.\u0275fac=function(){let pt;return function(Ae){return(pt||(pt=p.n5z(gt)))(Ae||gt)}}(),gt.\u0275prov=p.Yz7({token:gt,factory:gt.\u0275fac}),gt})();class qe{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new p.vpe,this.onLangChange=new p.vpe,this.onDefaultLangChange=new p.vpe}}const tt=new p.OlP("USE_STORE"),Le=new p.OlP("USE_DEFAULT_LANG"),Ue=new p.OlP("DEFAULT_LANGUAGE"),Xe=new p.OlP("USE_EXTEND");let nt=(()=>{class gt{constructor(K,Ae,Ge,Rt,Nt,tn=!0,gn=!1,An=!1,zn){this.store=K,this.currentLoader=Ae,this.compiler=Ge,this.parser=Rt,this.missingTranslationHandler=Nt,this.useDefaultLang=tn,this.isolate=gn,this.extend=An,this.pending=!1,this._onTranslationChange=new p.vpe,this._onLangChange=new p.vpe,this._onDefaultLangChange=new p.vpe,this._langs=[],this._translations={},this._translationRequests={},zn&&this.setDefaultLang(zn)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(K){this.isolate?this._defaultLang=K:this.store.defaultLang=K}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(K){this.isolate?this._currentLang=K:this.store.currentLang=K}get langs(){return this.isolate?this._langs:this.store.langs}set langs(K){this.isolate?this._langs=K:this.store.langs=K}get translations(){return this.isolate?this._translations:this.store.translations}set translations(K){this.isolate?this._translations=K:this.store.translations=K}setDefaultLang(K){if(K===this.defaultLang)return;let Ae=this.retrieveTranslations(K);void 0!==Ae?(null==this.defaultLang&&(this.defaultLang=K),Ae.pipe((0,Q.q)(1)).subscribe(Ge=>{this.changeDefaultLang(K)})):this.changeDefaultLang(K)}getDefaultLang(){return this.defaultLang}use(K){if(K===this.currentLang)return(0,ve.of)(this.translations[K]);let Ae=this.retrieveTranslations(K);return void 0!==Ae?(this.currentLang||(this.currentLang=K),Ae.pipe((0,Q.q)(1)).subscribe(Ge=>{this.changeLang(K)}),Ae):(this.changeLang(K),(0,ve.of)(this.translations[K]))}retrieveTranslations(K){let Ae;return(void 0===this.translations[K]||this.extend)&&(this._translationRequests[K]=this._translationRequests[K]||this.getTranslation(K),Ae=this._translationRequests[K]),Ae}getTranslation(K){this.pending=!0;const Ae=this.currentLoader.getTranslation(K).pipe((0,ee.d)(1),(0,Q.q)(1));return this.loadingTranslations=Ae.pipe((0,ue.U)(Ge=>this.compiler.compileTranslations(Ge,K)),(0,ee.d)(1),(0,Q.q)(1)),this.loadingTranslations.subscribe({next:Ge=>{this.translations[K]=this.extend&&this.translations[K]?Object.assign(Object.assign({},Ge),this.translations[K]):Ge,this.updateLangs(),this.pending=!1},error:Ge=>{this.pending=!1}}),Ae}setTranslation(K,Ae,Ge=!1){Ae=this.compiler.compileTranslations(Ae,K),this.translations[K]=(Ge||this.extend)&&this.translations[K]?ge(this.translations[K],Ae):Ae,this.updateLangs(),this.onTranslationChange.emit({lang:K,translations:this.translations[K]})}getLangs(){return this.langs}addLangs(K){K.forEach(Ae=>{-1===this.langs.indexOf(Ae)&&this.langs.push(Ae)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(K,Ae,Ge){let Rt;if(Ae instanceof Array){let Nt={},tn=!1;for(let gn of Ae)Nt[gn]=this.getParsedResult(K,gn,Ge),Ce(Nt[gn])&&(tn=!0);if(tn){const gn=Ae.map(An=>Ce(Nt[An])?Nt[An]:(0,ve.of)(Nt[An]));return(0,ke.D)(gn).pipe((0,ue.U)(An=>{let zn={};return An.forEach((Xn,Hn)=>{zn[Ae[Hn]]=Xn}),zn}))}return Nt}if(K&&(Rt=this.parser.interpolate(this.parser.getValue(K,Ae),Ge)),void 0===Rt&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Rt=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],Ae),Ge)),void 0===Rt){let Nt={key:Ae,translateService:this};void 0!==Ge&&(Nt.interpolateParams=Ge),Rt=this.missingTranslationHandler.handle(Nt)}return void 0!==Rt?Rt:Ae}get(K,Ae){if(!Be(K)||!K.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Ne.b)(Ge=>Ce(Ge=this.getParsedResult(Ge,K,Ae))?Ge:(0,ve.of)(Ge)));{let Ge=this.getParsedResult(this.translations[this.currentLang],K,Ae);return Ce(Ge)?Ge:(0,ve.of)(Ge)}}getStreamOnTranslationChange(K,Ae){if(!Be(K)||!K.length)throw new Error('Parameter "key" required');return(0,be.z)((0,ce.P)(()=>this.get(K,Ae)),this.onTranslationChange.pipe((0,ct.w)(Ge=>{const Rt=this.getParsedResult(Ge.translations,K,Ae);return"function"==typeof Rt.subscribe?Rt:(0,ve.of)(Rt)})))}stream(K,Ae){if(!Be(K)||!K.length)throw new Error('Parameter "key" required');return(0,be.z)((0,ce.P)(()=>this.get(K,Ae)),this.onLangChange.pipe((0,ct.w)(Ge=>{const Rt=this.getParsedResult(Ge.translations,K,Ae);return Ce(Rt)?Rt:(0,ve.of)(Rt)})))}instant(K,Ae){if(!Be(K)||!K.length)throw new Error('Parameter "key" required');let Ge=this.getParsedResult(this.translations[this.currentLang],K,Ae);if(Ce(Ge)){if(K instanceof Array){let Rt={};return K.forEach((Nt,tn)=>{Rt[K[tn]]=K[tn]}),Rt}return K}return Ge}set(K,Ae,Ge=this.currentLang){this.translations[Ge][K]=this.compiler.compile(Ae,Ge),this.updateLangs(),this.onTranslationChange.emit({lang:Ge,translations:this.translations[Ge]})}changeLang(K){this.currentLang=K,this.onLangChange.emit({lang:K,translations:this.translations[K]}),null==this.defaultLang&&this.changeDefaultLang(K)}changeDefaultLang(K){this.defaultLang=K,this.onDefaultLangChange.emit({lang:K,translations:this.translations[K]})}reloadLang(K){return this.resetLang(K),this.getTranslation(K)}resetLang(K){this._translationRequests[K]=void 0,this.translations[K]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let K=window.navigator.languages?window.navigator.languages[0]:null;return K=K||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==K?(-1!==K.indexOf("-")&&(K=K.split("-")[0]),-1!==K.indexOf("_")&&(K=K.split("_")[0]),K):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let K=window.navigator.languages?window.navigator.languages[0]:null;return K=K||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,K}}return gt.\u0275fac=function(K){return new(K||gt)(p.LFG(qe),p.LFG(it),p.LFG(wt),p.LFG(we),p.LFG(ut),p.LFG(Le),p.LFG(tt),p.LFG(Xe),p.LFG(Ue))},gt.\u0275prov=p.Yz7({token:gt,factory:gt.\u0275fac}),gt})(),xt=(()=>{class gt{constructor(K,Ae){this.translate=K,this._ref=Ae,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(K,Ae,Ge){let Rt=Nt=>{this.value=void 0!==Nt?Nt:K,this.lastKey=K,this._ref.markForCheck()};if(Ge){let Nt=this.translate.getParsedResult(Ge,K,Ae);Ce(Nt.subscribe)?Nt.subscribe(Rt):Rt(Nt)}this.translate.get(K,Ae).subscribe(Rt)}transform(K,...Ae){if(!K||!K.length)return K;if(lt(K,this.lastKey)&&lt(Ae,this.lastParams))return this.value;let Ge;if(Be(Ae[0])&&Ae.length)if("string"==typeof Ae[0]&&Ae[0].length){let Rt=Ae[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{Ge=JSON.parse(Rt)}catch(Nt){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${Ae[0]}`)}}else"object"==typeof Ae[0]&&!Array.isArray(Ae[0])&&(Ge=Ae[0]);return this.lastKey=K,this.lastParams=Ae,this.updateValue(K,Ge),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Rt=>{this.lastKey&&Rt.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(K,Ge,Rt.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Rt=>{this.lastKey&&(this.lastKey=null,this.updateValue(K,Ge,Rt.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(K,Ge))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return gt.\u0275fac=function(K){return new(K||gt)(p.Y36(nt,16),p.Y36(p.sBO,16))},gt.\u0275pipe=p.Yjl({name:"translate",type:gt,pure:!1}),gt.\u0275prov=p.Yz7({token:gt,factory:gt.\u0275fac}),gt})(),sn=(()=>{class gt{static forRoot(K={}){return{ngModule:gt,providers:[K.loader||{provide:it,useClass:ft},K.compiler||{provide:wt,useClass:q},K.parser||{provide:we,useClass:et},K.missingTranslationHandler||{provide:ut,useClass:Ye},qe,{provide:tt,useValue:K.isolate},{provide:Le,useValue:K.useDefaultLang},{provide:Xe,useValue:K.extend},{provide:Ue,useValue:K.defaultLanguage},nt]}}static forChild(K={}){return{ngModule:gt,providers:[K.loader||{provide:it,useClass:ft},K.compiler||{provide:wt,useClass:q},K.parser||{provide:we,useClass:et},K.missingTranslationHandler||{provide:ut,useClass:Ye},{provide:tt,useValue:K.isolate},{provide:Le,useValue:K.useDefaultLang},{provide:Xe,useValue:K.extend},{provide:Ue,useValue:K.defaultLanguage},nt]}}}return gt.\u0275fac=function(K){return new(K||gt)},gt.\u0275mod=p.oAB({type:gt}),gt.\u0275inj=p.cJS({}),gt})()},40:(Jt,Ze,x)=>{x.d(Ze,{w:()=>p});class p{constructor(W,Ce="/assets/i18n/",ve=".json"){this.http=W,this.prefix=Ce,this.suffix=ve}getTranslation(W){return this.http.get(`${this.prefix}${W}${this.suffix}`)}}},8766:(Jt,Ze,x)=>{x.d(Ze,{Lj:()=>ge,X3:()=>yt});var p=x(5861);let W,Ce;const be=new WeakMap,ce=new WeakMap,Q=new WeakMap,ee=new WeakMap,ue=new WeakMap;let it={get(qe,tt,Le){if(qe instanceof IDBTransaction){if("done"===tt)return ce.get(qe);if("objectStoreNames"===tt)return qe.objectStoreNames||Q.get(qe);if("store"===tt)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return lt(qe[tt])},set:(qe,tt,Le)=>(qe[tt]=Le,!0),has:(qe,tt)=>qe instanceof IDBTransaction&&("done"===tt||"store"===tt)||tt in qe};function Ye(qe){return"function"==typeof qe?function ut(qe){return qe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(qe)?function(...tt){return qe.apply(Be(this),tt),lt(be.get(this))}:function(...tt){return lt(qe.apply(Be(this),tt))}:function(tt,...Le){const Ue=qe.call(Be(this),tt,...Le);return Q.set(Ue,tt.sort?tt.sort():[tt]),lt(Ue)}}(qe):(qe instanceof IDBTransaction&&function ct(qe){if(ce.has(qe))return;const tt=new Promise((Le,Ue)=>{const Xe=()=>{qe.removeEventListener("complete",nt),qe.removeEventListener("error",ot),qe.removeEventListener("abort",ot)},nt=()=>{Le(),Xe()},ot=()=>{Ue(qe.error||new DOMException("AbortError","AbortError")),Xe()};qe.addEventListener("complete",nt),qe.addEventListener("error",ot),qe.addEventListener("abort",ot)});ce.set(qe,tt)}(qe),((qe,tt)=>tt.some(Le=>qe instanceof Le))(qe,function ve(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(qe,it):qe)}function lt(qe){if(qe instanceof IDBRequest)return function Ne(qe){const tt=new Promise((Le,Ue)=>{const Xe=()=>{qe.removeEventListener("success",nt),qe.removeEventListener("error",ot)},nt=()=>{Le(lt(qe.result)),Xe()},ot=()=>{Ue(qe.error),Xe()};qe.addEventListener("success",nt),qe.addEventListener("error",ot)});return tt.then(Le=>{Le instanceof IDBCursor&&be.set(Le,qe)}).catch(()=>{}),ue.set(tt,qe),tt}(qe);if(ee.has(qe))return ee.get(qe);const tt=Ye(qe);return tt!==qe&&(ee.set(qe,tt),ue.set(tt,qe)),tt}const Be=qe=>ue.get(qe);function yt(qe,tt,{blocked:Le,upgrade:Ue,blocking:Xe,terminated:nt}={}){const ot=indexedDB.open(qe,tt),xt=lt(ot);return Ue&&ot.addEventListener("upgradeneeded",sn=>{Ue(lt(ot.result),sn.oldVersion,sn.newVersion,lt(ot.transaction))}),Le&&ot.addEventListener("blocked",()=>Le()),xt.then(sn=>{nt&&sn.addEventListener("close",()=>nt()),Xe&&sn.addEventListener("versionchange",()=>Xe())}).catch(()=>{}),xt}function ge(qe,{blocked:tt}={}){const Le=indexedDB.deleteDatabase(qe);return tt&&Le.addEventListener("blocked",()=>tt()),lt(Le).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],wt=new Map;function q(qe,tt){if(!(qe instanceof IDBDatabase)||tt in qe||"string"!=typeof tt)return;if(wt.get(tt))return wt.get(tt);const Le=tt.replace(/FromIndex$/,""),Ue=tt!==Le,Xe=et.includes(Le);if(!(Le in(Ue?IDBIndex:IDBObjectStore).prototype)||!Xe&&!we.includes(Le))return;const nt=function(){var ot=(0,p.Z)(function*(xt,...sn){const gt=this.transaction(xt,Xe?"readwrite":"readonly");let pt=gt.store;return Ue&&(pt=pt.index(sn.shift())),(yield Promise.all([pt[Le](...sn),Xe&&gt.done]))[0]});return function(sn){return ot.apply(this,arguments)}}();return wt.set(tt,nt),nt}!function ft(qe){it=qe(it)}(qe=>ob(sb({},qe),{get:(tt,Le,Ue)=>q(tt,Le)||qe.get(tt,Le,Ue),has:(tt,Le)=>!!q(tt,Le)||qe.has(tt,Le)}))},5351:(Jt,Ze,x)=>{x.d(Ze,{Zf:()=>ut,fx:()=>lt,U_:()=>Ye});var p=x(5e3),d=x(7691),W=x(9808),Ce=x(1777);const ve="400ms cubic-bezier(0.4,0.0,0.2,1)",ke=[(0,Ce.oB)({height:0,visibility:"hidden"}),(0,Ce.jt)(ve,(0,Ce.oB)({height:"*",visibility:"visible"}))],be=[(0,Ce.oB)({height:"*",visibility:"visible"}),(0,Ce.jt)(ve,(0,Ce.oB)({height:0,visibility:"hidden"}))];let ce=(()=>{class Be{constructor(ge,we,et){this._el=ge,this._renderer=we,this.collapsed=new p.vpe,this.collapses=new p.vpe,this.expanded=new p.vpe,this.expands=new p.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=et.build(be),this._factoryExpandAnimation=et.build(ke)}set display(ge){this._display=ge,"none"!==ge?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(ge){this.collapseNewValue=ge,(!this._player||this._isAnimationDone)&&(this.isExpanded=ge,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(ge,we){if(!ge||!this._stylesLoaded)return wt=>wt();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const et=we===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.destroy(),this._player=et.create(this._el.nativeElement),this._player.play(),wt=>{var q;return null===(q=this._player)||void 0===q?void 0:q.onDone(wt)}}}return Be.\u0275fac=function(ge){return new(ge||Be)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Ce._j))},Be.\u0275dir=p.lG2({type:Be,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(ge,we){2&ge&&(p.uIk("aria-hidden",we.isCollapsed),p.ekj("collapse",we.isCollapse)("in",we.isExpanded)("show",we.isExpanded)("collapsing",we.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),Be})(),Q=(()=>{class Be{static forRoot(){return{ngModule:Be,providers:[]}}}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275mod=p.oAB({type:Be}),Be.\u0275inj=p.cJS({}),Be})();const ee=["*"],ue=function(Be){return{"text-muted":Be}};function Ne(Be,yt){if(1&Be&&(p.TgZ(0,"button",7),p._uU(1),p.qZA()),2&Be){const ge=p.oxw();p.Q6J("ngClass",p.VKq(2,ue,ge.isDisabled)),p.xp6(1),p.hij(" ",ge.heading," ")}}const ct=[[["","accordion-heading",""]],"*"],it=["[accordion-heading]","*"];let ft=(()=>{class Be{constructor(){this.closeOthers=!1,this.isAnimated=!1}}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275prov=p.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),ut=(()=>{class Be{constructor(ge){this.isAnimated=!1,this.closeOthers=!1,this.groups=[],Object.assign(this,ge)}closeOtherPanels(ge){!this.closeOthers||this.groups.forEach(we=>{we!==ge&&(we.isOpen=!1)})}addGroup(ge){ge.isAnimated=this.isAnimated,this.groups.push(ge)}removeGroup(ge){const we=this.groups.indexOf(ge);-1!==we&&this.groups.splice(we,1)}}return Be.\u0275fac=function(ge){return new(ge||Be)(p.Y36(ft))},Be.\u0275cmp=p.Xpm({type:Be,selectors:[["accordion"]],hostAttrs:["role","tablist",1,"panel-group",2,"display","block"],hostVars:1,hostBindings:function(ge,we){2&ge&&p.uIk("aria-multiselectable",we.closeOthers)},inputs:{isAnimated:"isAnimated",closeOthers:"closeOthers"},ngContentSelectors:ee,decls:1,vars:0,template:function(ge,we){1&ge&&(p.F$t(),p.Hsn(0))},encapsulation:2}),Be})(),Ye=(()=>{class Be{constructor(ge){this.isAnimated=!1,this.panelClass="panel-default",this.isDisabled=!1,this.isOpenChange=new p.vpe,this._isOpen=!1,this.accordion=ge}get isOpen(){return this._isOpen}set isOpen(ge){ge!==this.isOpen&&(ge&&this.accordion.closeOtherPanels(this),this._isOpen=ge,Promise.resolve(null).then(()=>{this.isOpenChange.emit(ge)}))}get isBs3(){return(0,d.XA)()}ngOnInit(){this.accordion.addGroup(this)}ngOnDestroy(){this.accordion.removeGroup(this)}toggleOpen(){this.isDisabled||(this.isOpen=!this.isOpen)}}return Be.\u0275fac=function(ge){return new(ge||Be)(p.Y36(ut))},Be.\u0275cmp=p.Xpm({type:Be,selectors:[["accordion-group"],["accordion-panel"]],hostAttrs:[1,"panel",2,"display","block"],hostVars:2,hostBindings:function(ge,we){2&ge&&p.ekj("panel-open",we.isOpen)},inputs:{heading:"heading",panelClass:"panelClass",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},ngContentSelectors:it,decls:9,vars:6,consts:[[1,"panel","card",3,"ngClass"],["role","tab",1,"panel-heading","card-header",3,"ngClass","click"],[1,"panel-title"],["role","button",1,"accordion-toggle"],["class","btn btn-link","type","button",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"panel-collapse","collapse",3,"collapse","isAnimated"],[1,"panel-body","card-block","card-body"],["type","button",1,"btn","btn-link",3,"ngClass"]],template:function(ge,we){1&ge&&(p.F$t(ct),p.TgZ(0,"div",0)(1,"div",1),p.NdJ("click",function(){return we.toggleOpen()}),p.TgZ(2,"div",2)(3,"div",3),p.YNc(4,Ne,2,4,"button",4),p.Hsn(5),p.qZA()()(),p.TgZ(6,"div",5)(7,"div",6),p.Hsn(8,1),p.qZA()()()),2&ge&&(p.Q6J("ngClass",we.panelClass),p.xp6(1),p.Q6J("ngClass",we.isDisabled?"panel-disabled":"panel-enabled"),p.xp6(2),p.uIk("aria-expanded",we.isOpen),p.xp6(1),p.Q6J("ngIf",we.heading),p.xp6(2),p.Q6J("collapse",!we.isOpen)("isAnimated",we.isAnimated))},directives:[W.mk,W.O5,ce],styles:["[_nghost-%COMP%]   .card-header.panel-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .card-header.panel-disabled[_ngcontent-%COMP%]   .btn.btn-link[_ngcontent-%COMP%]{cursor:default;text-decoration:none}"]}),Be})(),lt=(()=>{class Be{static forRoot(){return{ngModule:Be,providers:[]}}}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275mod=p.oAB({type:Be}),Be.\u0275inj=p.cJS({imports:[[W.ez,Q]]}),Be})()},9062:(Jt,Ze,x)=>{x.d(Ze,{oj:()=>be});var p=x(5e3),d=x(7691),W=x(5197);class ve{constructor(Q,ee,ue){this.nodes=Q,this.viewRef=ee,this.componentRef=ue}}class ke{constructor(Q,ee,ue,Ne,ct,it,ft,ut){this._viewContainerRef=Q,this._renderer=ee,this._elementRef=ue,this._injector=Ne,this._componentFactoryResolver=ct,this._ngZone=it,this._applicationRef=ft,this._posService=ut,this.onBeforeShow=new p.vpe,this.onShown=new p.vpe,this.onBeforeHide=new p.vpe,this.onHidden=new p.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(Q){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(Q),this}to(Q){return this.container=Q||this.container,this}position(Q){return Q?(this.attachment=Q.attachment||this.attachment,this._elementRef=Q.target||this._elementRef,this):this}provide(Q){return this._providers.push(Q),this}show(Q={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(Q.content,Q.context,Q.initialState);const ee=p.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(ee,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,Q),this.container instanceof p.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const ue=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!ue)return;ue.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(Q.id?{id:Q.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(Q){var ee,ue,Ne,ct,it,ft;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const ut=this._componentRef.location.nativeElement;return null===(ee=ut.parentNode)||void 0===ee||ee.removeChild(ut),null===(Ne=null===(ue=this._contentRef)||void 0===ue?void 0:ue.componentRef)||void 0===Ne||Ne.destroy(),this._viewContainerRef&&(null===(ct=this._contentRef)||void 0===ct?void 0:ct.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(ft=null===(it=this._contentRef)||void 0===it?void 0:it.viewRef)||void 0===ft||ft.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(Q?{id:Q}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(Q){var ee;this.triggers=Q.triggers||this.triggers,this._listenOpts.outsideClick=Q.outsideClick,this._listenOpts.outsideEsc=Q.outsideEsc,Q.target=Q.target||(null===(ee=this._elementRef)||void 0===ee?void 0:ee.nativeElement);const ue=this._listenOpts.hide=()=>Q.hide?Q.hide():void this.hide(),Ne=this._listenOpts.show=it=>{Q.show?Q.show(it):this.show(it),it()};return this._renderer&&(this._unregisterListenersFn=(0,d.wo)(this._renderer,{target:Q.target,triggers:Q.triggers,show:Ne,hide:ue,toggle:it=>{this.isShown?ue():Ne(it)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(Q,ee){return Q&&ee&&(this._inlineViewRef=Q.createEmbeddedView(ee)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const Q=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,d.Rg)(this._renderer,{targets:[Q,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,d.C)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var Q;this._posService.position({element:null===(Q=this._componentRef)||void 0===Q?void 0:Q.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(Q,ee,ue){if(!Q)return new ve([]);if(Q instanceof p.Rgc){if(this._viewContainerRef){const it=this._viewContainerRef.createEmbeddedView(Q,ee);return it.markForCheck(),new ve([it.rootNodes],it)}const ct=Q.createEmbeddedView({});return this._applicationRef.attachView(ct),new ve([ct.rootNodes],ct)}if("function"==typeof Q){const ct=this._componentFactoryResolver.resolveComponentFactory(Q),it=p.zs3.create({providers:this._providers,parent:this._injector}),ft=ct.create(it);return Object.assign(ft.instance,ue),this._applicationRef.attachView(ft.hostView),new ve([[ft.location.nativeElement]],ft.hostView,ft)}const Ne=this._renderer?[this._renderer.createText(`${Q}`)]:[];return new ve([Ne])}}let be=(()=>{class ce{constructor(ee,ue,Ne,ct,it){this._componentFactoryResolver=ee,this._ngZone=ue,this._injector=Ne,this._posService=ct,this._applicationRef=it}createLoader(ee,ue,Ne){return new ke(ue,Ne,ee,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return ce.\u0275fac=function(ee){return new(ee||ce)(p.LFG(p._Vd),p.LFG(p.R0b),p.LFG(p.zs3),p.LFG(W.sA),p.LFG(p.z2F))},ce.\u0275prov=p.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},8274:(Jt,Ze,x)=>{x.d(Ze,{Hz:()=>ut,Mq:()=>Ye,TO:()=>ft,mr:()=>lt});var p=x(5e3),d=x(9300),W=x(7691),Ce=x(1777),ve=x(9808),ke=x(9062),be=x(5197);const ce=function(Be){return{dropdown:Be}},Q=["*"],ue=[(0,Ce.oB)({height:0,overflow:"hidden"}),(0,Ce.jt)("220ms cubic-bezier(0, 0, 0.2, 1)",(0,Ce.oB)({height:"*",overflow:"hidden"}))];let Ne=(()=>{class Be{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new p.vpe,this.isDisabledChange=new p.vpe,this.toggleClick=new p.vpe,this.counts=0,this.dropdownMenu=new Promise(ge=>{this.resolveDropdownMenu=ge})}}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275prov=p.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"platform"}),Be})(),ct=(()=>{class Be{constructor(ge,we,et,wt,q){this._state=ge,this.cd=we,this._renderer=et,this._element=wt,this.isOpen=!1,this._factoryDropDownAnimation=q.build(ue),this._subscription=ge.isOpenChange.subscribe(qe=>{this.isOpen=qe;const tt=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),tt&&!(0,W.XA)()&&(this._renderer.addClass(tt,"show"),(tt.classList.contains("dropdown-menu-right")||tt.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(tt,"left","auto"),this._renderer.setStyle(tt,"right","0")),"up"===this.direction&&(this._renderer.setStyle(tt,"top","auto"),this._renderer.setStyle(tt,"transform","translateY(-101%)"))),tt&&this._state.isAnimated&&this._factoryDropDownAnimation.create(tt).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(ge){return this._element.nativeElement.contains(ge)}ngOnDestroy(){this._subscription.unsubscribe()}}return Be.\u0275fac=function(ge){return new(ge||Be)(p.Y36(Ne),p.Y36(p.sBO),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Ce._j))},Be.\u0275cmp=p.Xpm({type:Be,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:Q,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(ge,we){1&ge&&(p.F$t(),p.TgZ(0,"div",0),p.Hsn(1),p.qZA()),2&ge&&(p.ekj("dropup","up"===we.direction)("show",we.isOpen)("open",we.isOpen),p.Q6J("ngClass",p.VKq(7,ce,"down"===we.direction)))},directives:[ve.mk],encapsulation:2,changeDetection:0}),Be})(),it=(()=>{class Be{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275prov=p.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),ft=(()=>{class Be{constructor(ge,we,et,wt,q,qe,tt){this._elementRef=ge,this._renderer=we,this._viewContainerRef=et,this._cis=wt,this._state=q,this._config=qe,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=tt.build(ue),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:Ne,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(ge){this._state.autoClose=ge}get autoClose(){return this._state.autoClose}set isAnimated(ge){this._state.isAnimated=ge}get isAnimated(){return this._state.isAnimated}set insideClick(ge){this._state.insideClick=ge}get insideClick(){return this._state.insideClick}set isDisabled(ge){this._isDisabled=ge,this._state.isDisabledChange.emit(ge),ge&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(ge){ge?this.show():this.hide()}get isBs4(){return!(0,W.XA)()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(ge=>this.toggle(ge))),this._subscriptions.push(this._state.isDisabledChange.pipe((0,d.h)(ge=>ge)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(ge=>{this._dropdown.attachInline(ge.viewContainer,ge.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(ge=>{const we=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=we?"up":"down";const et=this.placement||(we?"top start":"bottom start");this._dropdown.attach(ct).to(this.container).position({attachment:et}).show({content:ge.templateRef,placement:et}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(ge){return this.isOpen||!ge?this.hide():this.show()}_contains(ge){return this._elementRef.nativeElement.contains(ge.target)||this._dropdown.instance&&this._dropdown.instance._contains(ge.target)}navigationClick(ge){const we=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!we)return;const et=this._elementRef.nativeElement.ownerDocument.activeElement,wt=we.querySelectorAll(".dropdown-item");switch(ge.keyCode){case 38:this._state.counts>0&&wt[--this._state.counts].focus();break;case 40:this._state.counts+1<wt.length&&(et.classList!==wt[this._state.counts].classList?wt[this._state.counts].focus():wt[++this._state.counts].focus())}ge.preventDefault()}ngOnDestroy(){for(const ge of this._subscriptions)ge.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){(0,W.XA)()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const ge=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",ge?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",ge?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return Be.\u0275fac=function(ge){return new(ge||Be)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.s_b),p.Y36(ke.oj),p.Y36(Ne),p.Y36(it),p.Y36(Ce._j))},Be.\u0275dir=p.lG2({type:Be,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(ge,we){1&ge&&p.NdJ("keydown.arrowDown",function(wt){return we.navigationClick(wt)})("keydown.arrowUp",function(wt){return we.navigationClick(wt)}),2&ge&&p.ekj("dropup",we.dropup)("open",we.isOpen)("show",we.isOpen&&we.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[p._Bn([Ne])]}),Be})(),ut=(()=>{class Be{constructor(ge,we,et){ge.resolveDropdownMenu({templateRef:et,viewContainer:we})}}return Be.\u0275fac=function(ge){return new(ge||Be)(p.Y36(Ne),p.Y36(p.s_b),p.Y36(p.Rgc))},Be.\u0275dir=p.lG2({type:Be,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),Be})(),Ye=(()=>{class Be{constructor(ge,we,et,wt,q){this._changeDetectorRef=ge,this._dropdown=we,this._element=et,this._renderer=wt,this._state=q,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(qe=>{this.isOpen=qe,qe?(this._documentClickListener=this._renderer.listen("document","click",tt=>{this._state.autoClose&&2!==tt.button&&!this._element.nativeElement.contains(tt.target)&&(!this._state.insideClick||!this._dropdown._contains(tt))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(qe=>this.isDisabled=qe||void 0))}onClick(ge){this._state.stopOnClickPropagation&&ge.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const ge of this._subscriptions)ge.unsubscribe()}}return Be.\u0275fac=function(ge){return new(ge||Be)(p.Y36(p.sBO),p.Y36(ft),p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Ne))},Be.\u0275dir=p.lG2({type:Be,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(ge,we){1&ge&&p.NdJ("click",function(wt){return we.onClick(wt)}),2&ge&&p.uIk("aria-haspopup",!0)("disabled",we.isDisabled)("aria-expanded",we.isOpen)},exportAs:["bs-dropdown-toggle"]}),Be})(),lt=(()=>{class Be{static forRoot(){return{ngModule:Be,providers:[ke.oj,be.sA,Ne]}}}return Be.\u0275fac=function(ge){return new(ge||Be)},Be.\u0275mod=p.oAB({type:Be}),Be.\u0275inj=p.cJS({imports:[[ve.ez]]}),Be})()},5197:(Jt,Ze,x)=>{x.d(Ze,{Bz:()=>Xe,sA:()=>wn});var p=x(7691),d=x(5e3),W=x(9808),Ce=x(8421),ve=x(8306),ke=x(5577),be=x(1144),ce=x(576),Q=x(3268);const ee=["addListener","removeListener"],ue=["addEventListener","removeEventListener"],Ne=["on","off"];function ct(z,he,_e,Ve){if((0,ce.m)(_e)&&(Ve=_e,_e=void 0),Ve)return ct(z,he,_e).pipe((0,Q.Z)(Ve));const[vt,Ot]=function Ye(z){return(0,ce.m)(z.addEventListener)&&(0,ce.m)(z.removeEventListener)}(z)?ue.map(de=>fe=>z[de](he,fe,_e)):function ft(z){return(0,ce.m)(z.addListener)&&(0,ce.m)(z.removeListener)}(z)?ee.map(it(z,he)):function ut(z){return(0,ce.m)(z.on)&&(0,ce.m)(z.off)}(z)?Ne.map(it(z,he)):[];if(!vt&&(0,be.z)(z))return(0,ke.z)(de=>ct(de,he,_e))((0,Ce.Xf)(z));if(!vt)throw new TypeError("Invalid event target");return new ve.y(de=>{const fe=(...Oe)=>de.next(1<Oe.length?Oe:Oe[0]);return vt(fe),()=>Ot(fe)})}function it(z,he){return _e=>Ve=>z[_e](he,Ve)}var lt=x(4408),Be=x(727);const yt={schedule(z){let he=requestAnimationFrame,_e=cancelAnimationFrame;const{delegate:Ve}=yt;Ve&&(he=Ve.requestAnimationFrame,_e=Ve.cancelAnimationFrame);const vt=he(Ot=>{_e=void 0,z(Ot)});return new Be.w0(()=>null==_e?void 0:_e(vt))},requestAnimationFrame(...z){const{delegate:he}=yt;return((null==he?void 0:he.requestAnimationFrame)||requestAnimationFrame)(...z)},cancelAnimationFrame(...z){const{delegate:he}=yt;return((null==he?void 0:he.cancelAnimationFrame)||cancelAnimationFrame)(...z)},delegate:void 0};var we=x(7565);const wt=new class et extends we.v{flush(he){this._active=!0;const _e=this._scheduled;this._scheduled=void 0;const{actions:Ve}=this;let vt;he=he||Ve.shift();do{if(vt=he.execute(he.state,he.delay))break}while((he=Ve[0])&&he.id===_e&&Ve.shift());if(this._active=!1,vt){for(;(he=Ve[0])&&he.id===_e&&Ve.shift();)he.unsubscribe();throw vt}}}(class ge extends lt.o{constructor(he,_e){super(he,_e),this.scheduler=he,this.work=_e}requestAsyncId(he,_e,Ve=0){return null!==Ve&&Ve>0?super.requestAsyncId(he,_e,Ve):(he.actions.push(this),he._scheduled||(he._scheduled=yt.requestAnimationFrame(()=>he.flush(void 0))))}recycleAsyncId(he,_e,Ve=0){var vt;if(null!=Ve?Ve>0:this.delay>0)return super.recycleAsyncId(he,_e,Ve);const{actions:Ot}=he;null!=_e&&(null===(vt=Ot[Ot.length-1])||void 0===vt?void 0:vt.id)!==_e&&(yt.cancelAnimationFrame(_e),he._scheduled=void 0)}});var qe=x(7579),tt=x(6451),Le=x(9646),Ue=(()=>{return(z=Ue||(Ue={})).top="top",z.bottom="bottom",z.left="left",z.right="right",z.auto="auto",z.end="right",z.start="left",z["top left"]="top left",z["top right"]="top right",z["right top"]="right top",z["right bottom"]="right bottom",z["bottom right"]="bottom right",z["bottom left"]="bottom left",z["left bottom"]="left bottom",z["left top"]="left top",z["top start"]="top left",z["top end"]="top right",z["end top"]="right top",z["end bottom"]="right bottom",z["bottom end"]="bottom right",z["bottom start"]="bottom left",z["start bottom"]="start bottom",z["start top"]="left top",Ue;var z})(),Xe=(()=>{return(z=Xe||(Xe={})).top="top",z.bottom="bottom",z.left="start",z.right="end",z.auto="auto",z.end="end",z.start="start",z["top left"]="top start",z["top right"]="top end",z["right top"]="end top",z["right bottom"]="end bottom",z["bottom right"]="bottom end",z["bottom left"]="bottom start",z["left bottom"]="start bottom",z["left top"]="start top",z["top start"]="top start",z["top end"]="top end",z["end top"]="end top",z["end bottom"]="end bottom",z["bottom end"]="bottom end",z["bottom start"]="bottom start",z["start bottom"]="start bottom",z["start top"]="start top",Xe;var z})();function nt(z,he){if(1!==z.nodeType)return[];const _e=z.ownerDocument.defaultView,Ve=null==_e?void 0:_e.getComputedStyle(z,null);return he?Ve&&Ve[he]:Ve}function ot(z){if(!z)return document.documentElement;let Ve,_e=null==z?void 0:z.offsetParent;for(;null===_e&&z.nextElementSibling&&Ve!==z.nextElementSibling;)Ve=z.nextElementSibling,_e=Ve.offsetParent;const vt=_e&&_e.nodeName;return vt&&"BODY"!==vt&&"HTML"!==vt?_e&&-1!==["TH","TD","TABLE"].indexOf(_e.nodeName)&&"static"===nt(_e,"position")?ot(_e):_e:Ve?Ve.ownerDocument.documentElement:document.documentElement}function sn(z){return null!==z.parentNode?sn(z.parentNode):z}function gt(z,he){if(!(z&&z.nodeType&&he&&he.nodeType))return document.documentElement;const _e=z.compareDocumentPosition(he)&Node.DOCUMENT_POSITION_FOLLOWING,Ve=_e?z:he,vt=_e?he:z,Ot=document.createRange();Ot.setStart(Ve,0),Ot.setEnd(vt,0);const de=Ot.commonAncestorContainer;if(z!==de&&he!==de||Ve.contains(vt))return function xt(z){const{nodeName:he}=z;return"BODY"!==he&&("HTML"===he||ot(z.firstElementChild)===z)}(de)?de:ot(de);const fe=sn(z);return fe.host?gt(fe.host,he):gt(z,sn(he).host)}function pt(z){if(!z||!z.parentElement)return document.documentElement;let he=z.parentElement;for(;(null==he?void 0:he.parentElement)&&"none"===nt(he,"transform");)he=he.parentElement;return he||document.documentElement}function K(z,he){const _e="x"===he?"Left":"Top",Ve="Left"===_e?"Right":"Bottom";return parseFloat(z[`border${_e}Width`])+parseFloat(z[`border${Ve}Width`])}function Ae(z,he,_e,Ve){return Math.max(he[`offset${z}`],he[`scroll${z}`],_e[`client${z}`],_e[`offset${z}`],_e[`scroll${z}`],0)}function Ge(z){const he=z.body,_e=z.documentElement;return{height:Ae("Height",he,_e),width:Ae("Width",he,_e)}}function Rt(z){return Object.assign(Object.assign({},z),{right:(z.left||0)+z.width,bottom:(z.top||0)+z.height})}function tn(z){return"number"==typeof z||"[object Number]"===Object.prototype.toString.call(z)}function gn(z){const he=z.getBoundingClientRect();if(!(he&&tn(he.top)&&tn(he.left)&&tn(he.bottom)&&tn(he.right)))return he;const _e={left:he.left,top:he.top,width:he.right-he.left,height:he.bottom-he.top},Ve="HTML"===z.nodeName?Ge(z.ownerDocument):void 0,vt=(null==Ve?void 0:Ve.width)||z.clientWidth||tn(he.right)&&tn(_e.left)&&he.right-_e.left||0,Ot=(null==Ve?void 0:Ve.height)||z.clientHeight||tn(he.bottom)&&tn(_e.top)&&he.bottom-_e.top||0;let de=z.offsetWidth-vt,fe=z.offsetHeight-Ot;if(de||fe){const Oe=nt(z);de-=K(Oe,"x"),fe-=K(Oe,"y"),_e.width-=de,_e.height-=fe}return Rt(_e)}function An(z){return"HTML"===z.nodeName?z:z.parentNode||z.host}function zn(z){if(!z)return document.body;switch(z.nodeName){case"HTML":case"BODY":return z.ownerDocument.body;case"#document":return z.body}const{overflow:he,overflowX:_e,overflowY:Ve}=nt(z);return/(auto|scroll|overlay)/.test(String(he)+String(Ve)+String(_e))?z:zn(An(z))}function Xn(z,he,_e=!1){var Ve,vt,Ot,de,fe,Oe;const ye="HTML"===he.nodeName,J=gn(z),$=gn(he),ie=(zn(z),nt(he)),Se=parseFloat(ie.borderTopWidth),Je=parseFloat(ie.borderLeftWidth);_e&&ye&&($.top=Math.max(null!==(Ve=$.top)&&void 0!==Ve?Ve:0,0),$.left=Math.max(null!==(vt=$.left)&&void 0!==vt?vt:0,0));const Lt=Rt({top:(null!==(Ot=J.top)&&void 0!==Ot?Ot:0)-(null!==(de=$.top)&&void 0!==de?de:0)-Se,left:(null!==(fe=J.left)&&void 0!==fe?fe:0)-(null!==(Oe=$.left)&&void 0!==Oe?Oe:0)-Je,width:J.width,height:J.height});if(Lt.marginTop=0,Lt.marginLeft=0,ye){const Vt=parseFloat(ie.marginTop),En=parseFloat(ie.marginLeft);tn(Lt.top)&&(Lt.top-=Se-Vt),tn(Lt.bottom)&&(Lt.bottom-=Se-Vt),tn(Lt.left)&&(Lt.left-=Je-En),tn(Lt.right)&&(Lt.right-=Je-En),Lt.marginTop=Vt,Lt.marginLeft=En}return Lt}function Hn(z,he="top"){const _e="top"===he?"scrollTop":"scrollLeft",Ve=z.nodeName;if("BODY"===Ve||"HTML"===Ve){const vt=z.ownerDocument.documentElement;return(z.ownerDocument.scrollingElement||vt)[_e]}return z[_e]}function Kn(z){const he=z.nodeName;return"BODY"!==he&&"HTML"!==he&&("fixed"===nt(z,"position")||Kn(An(z)))}function xi(z,he,_e=0,Ve,vt=!1){let Ot={top:0,left:0};const de=vt?pt(z):gt(z,he);if("viewport"===Ve)Ot=function vi(z,he=!1){const _e=z.ownerDocument.documentElement,Ve=Xn(z,_e),vt=Math.max(_e.clientWidth,window.innerWidth||0),Ot=Math.max(_e.clientHeight,window.innerHeight||0),de=he?0:Hn(_e),fe=he?0:Hn(_e,"left");return Rt({top:de-Number(null==Ve?void 0:Ve.top)+Number(null==Ve?void 0:Ve.marginTop),left:fe-Number(null==Ve?void 0:Ve.left)+Number(null==Ve?void 0:Ve.marginLeft),width:vt,height:Ot})}(de,vt);else{let fe;"scrollParent"===Ve?(fe=zn(An(he)),"BODY"===fe.nodeName&&(fe=z.ownerDocument.documentElement)):fe="window"===Ve?z.ownerDocument.documentElement:Ve;const Oe=Xn(fe,de,vt);if(Oe&&"HTML"===fe.nodeName&&!Kn(de)){const{height:ye,width:J}=Ge(z.ownerDocument);tn(Ot.top)&&tn(Oe.top)&&tn(Oe.marginTop)&&(Ot.top+=Oe.top-Oe.marginTop),tn(Ot.top)&&(Ot.bottom=Number(ye)+Number(Oe.top)),tn(Ot.left)&&tn(Oe.left)&&tn(Oe.marginLeft)&&(Ot.left+=Oe.left-Oe.marginLeft),tn(Ot.top)&&(Ot.right=Number(J)+Number(Oe.left))}else Oe&&(Ot=Oe)}return tn(Ot.left)&&(Ot.left+=_e),tn(Ot.top)&&(Ot.top+=_e),tn(Ot.right)&&(Ot.right-=_e),tn(Ot.bottom)&&(Ot.bottom-=_e),Ot}function Mn({width:z,height:he}){return z*he}function ci(z,he,_e,Ve,vt=["top","bottom","right","left"],Ot="viewport",de=0){var fe,Oe,ye,J,$,X,ie,Se,Je,Lt,Vt,En;if(-1===z.indexOf("auto"))return z;const yn=xi(_e,Ve,de,Ot),Cn={top:{width:null!==(fe=null==yn?void 0:yn.width)&&void 0!==fe?fe:0,height:(null!==(Oe=null==he?void 0:he.top)&&void 0!==Oe?Oe:0)-(null!==(ye=null==yn?void 0:yn.top)&&void 0!==ye?ye:0)},right:{width:(null!==(J=null==yn?void 0:yn.right)&&void 0!==J?J:0)-(null!==($=null==he?void 0:he.right)&&void 0!==$?$:0),height:null!==(X=null==yn?void 0:yn.height)&&void 0!==X?X:0},bottom:{width:null!==(ie=null==yn?void 0:yn.width)&&void 0!==ie?ie:0,height:(null!==(Se=null==yn?void 0:yn.bottom)&&void 0!==Se?Se:0)-(null!==(Je=null==he?void 0:he.bottom)&&void 0!==Je?Je:0)},left:{width:(null!==(Lt=he.left)&&void 0!==Lt?Lt:0)-(null!==(Vt=null==yn?void 0:yn.left)&&void 0!==Vt?Vt:0),height:null!==(En=null==yn?void 0:yn.height)&&void 0!==En?En:0}},Ei=Object.keys(Cn).map(Mi=>Object.assign(Object.assign({position:Mi},Cn[Mi]),{area:Mn(Cn[Mi])})).sort((Mi,Yt)=>Yt.area-Mi.area);let Ti=Ei.filter(({width:Mi,height:Yt})=>Mi>=_e.clientWidth&&Yt>=_e.clientHeight);Ti=Ti.filter(({position:Mi})=>vt.some(Yt=>Yt===Mi));const Di=Ti.length>0?Ti[0].position:Ei[0].position,wr=z.split(" ")[1];return _e.className=_e.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,p.Wl)().isBs5?Xe[Di]:Di}`),Di+(wr?`-${wr}`:"")}const nn=(z,he=0)=>z?parseFloat(z):he;function Li(z){const he=z.ownerDocument.defaultView,_e=null==he?void 0:he.getComputedStyle(z),Ve=nn(null==_e?void 0:_e.marginTop)+nn(null==_e?void 0:_e.marginBottom),vt=nn(null==_e?void 0:_e.marginLeft)+nn(null==_e?void 0:_e.marginRight);return{width:Number(z.offsetWidth)+vt,height:Number(z.offsetHeight)+Ve}}function _i(z,he,_e){return Xn(he,_e?pt(z):gt(z,he),_e)}function Mt(z,he,_e){var Ve,vt,Ot;const de=_e.split(" ")[0],fe=Li(z),Oe={width:fe.width,height:fe.height},ye=-1!==["right","left"].indexOf(de),J=ye?"top":"left",$=ye?"left":"top",X=ye?"height":"width",ie=ye?"width":"height";return Oe[J]=(null!==(Ve=he[J])&&void 0!==Ve?Ve:0)+he[X]/2-fe[X]/2,Oe[$]=de===$?(null!==(vt=he[$])&&void 0!==vt?vt:0)-fe[ie]:null!==(Ot=he[function Pi(z){const he={left:"right",right:"left",bottom:"top",top:"bottom"};return z.replace(/left|right|bottom|top/g,_e=>he[_e])}($)])&&void 0!==Ot?Ot:0,Oe}function Fe(z,he){var _e;return!!(null===(_e=z.modifiers[he])||void 0===_e?void 0:_e.enabled)}const $e={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Ut(z,he){return!!(0,p.Wl)().isBs5&&$e[he].includes(z)}function Kt(z,he,_e){!z||!he||Object.keys(he).forEach(Ve=>{let vt="";-1!==["width","height","top","right","bottom","left"].indexOf(Ve)&&function Nt(z){return""!==z&&!isNaN(parseFloat(z))&&isFinite(Number(z))}(he[Ve])&&(vt="px"),_e?_e.setStyle(z,Ve,`${String(he[Ve])}${vt}`):z.style[Ve]=String(he[Ve])+vt})}function Re(z){var he,_e,Ve,vt,Ot,de;let fe=z.offsets.target;const Oe=z.instance.target.querySelector(".arrow");if(!Oe)return z;const ye=-1!==["left","right"].indexOf(z.placement.split(" ")[0]),J=ye?"height":"width",$=ye?"Top":"Left",X=$.toLowerCase(),ie=ye?"left":"top",Se=ye?"bottom":"right",Je=Li(Oe)[J],Lt=z.placement.split(" ")[1];(null!==(he=z.offsets.host[Se])&&void 0!==he?he:0)-Je<(null!==(_e=fe[X])&&void 0!==_e?_e:0)&&(fe[X]-=(null!==(Ve=fe[X])&&void 0!==Ve?Ve:0)-((null!==(vt=z.offsets.host[Se])&&void 0!==vt?vt:0)-Je)),Number(z.offsets.host[X])+Number(Je)>(null!==(Ot=fe[Se])&&void 0!==Ot?Ot:0)&&(fe[X]+=Number(z.offsets.host[X])+Number(Je)-Number(fe[Se])),fe=Rt(fe);const Vt=nt(z.instance.target),En=parseFloat(Vt[`margin${$}`])||0,yn=parseFloat(Vt[`border${$}Width`])||0;let Cn;if(Lt){const Ti=parseFloat(Vt.borderRadius)||0,Di=Number(En+yn+Ti);Cn=X===Lt?Number(z.offsets.host[X])+Di:Number(z.offsets.host[X])+Number(z.offsets.host[J]-Di)}else Cn=Number(z.offsets.host[X])+Number(z.offsets.host[J]/2-Je/2);let Ei=Cn-(null!==(de=fe[X])&&void 0!==de?de:0)-En-yn;return Ei=Math.max(Math.min(fe[J]-(Je+5),Ei),0),z.offsets.arrow={[X]:Math.round(Ei),[ie]:""},z.instance.arrow=Oe,z}function xe(z){if(z.offsets.target=Rt(z.offsets.target),!Fe(z.options,"flip"))return z.offsets.target=Object.assign(Object.assign({},z.offsets.target),Mt(z.instance.target,z.offsets.host,z.placement)),z;const he=xi(z.instance.target,z.instance.host,0,"viewport",!1);let _e=z.placement.split(" ")[0],Ve=z.placement.split(" ")[1]||"";const fe=ci("auto",z.offsets.host,z.instance.target,z.instance.host,z.options.allowedPositions),Oe=[_e,fe];return Oe.forEach((ye,J)=>{var $,X,ie,Se,Je,Lt,Vt,En,yn,Cn,Ei,Ti,Di,wr,Mi,Yt;if(_e!==ye||Oe.length===J+1)return;_e=z.placement.split(" ")[0];const Zn="left"===_e&&Math.floor(null!==($=z.offsets.target.right)&&void 0!==$?$:0)>Math.floor(null!==(X=z.offsets.host.left)&&void 0!==X?X:0)||"right"===_e&&Math.floor(null!==(ie=z.offsets.target.left)&&void 0!==ie?ie:0)<Math.floor(null!==(Se=z.offsets.host.right)&&void 0!==Se?Se:0)||"top"===_e&&Math.floor(null!==(Je=z.offsets.target.bottom)&&void 0!==Je?Je:0)>Math.floor(null!==(Lt=z.offsets.host.top)&&void 0!==Lt?Lt:0)||"bottom"===_e&&Math.floor(null!==(Vt=z.offsets.target.top)&&void 0!==Vt?Vt:0)<Math.floor(null!==(En=z.offsets.host.bottom)&&void 0!==En?En:0),mi=Math.floor(null!==(yn=z.offsets.target.left)&&void 0!==yn?yn:0)<Math.floor(null!==(Cn=he.left)&&void 0!==Cn?Cn:0),Hi=Math.floor(null!==(Ei=z.offsets.target.right)&&void 0!==Ei?Ei:0)>Math.floor(null!==(Ti=he.right)&&void 0!==Ti?Ti:0),vr=Math.floor(null!==(Di=z.offsets.target.top)&&void 0!==Di?Di:0)<Math.floor(null!==(wr=he.top)&&void 0!==wr?wr:0),ji=Math.floor(null!==(Mi=z.offsets.target.bottom)&&void 0!==Mi?Mi:0)>Math.floor(null!==(Yt=he.bottom)&&void 0!==Yt?Yt:0),or="left"===_e&&mi||"right"===_e&&Hi||"top"===_e&&vr||"bottom"===_e&&ji,ii=-1!==["top","bottom"].indexOf(_e),Cr=ii&&"left"===Ve&&mi||ii&&"right"===Ve&&Hi||!ii&&"left"===Ve&&vr||!ii&&"right"===Ve&&ji;(Zn||or||Cr)&&((Zn||or)&&(_e=Oe[J+1]),Cr&&(Ve=function qn(z){return"right"===z?"left":"left"===z?"right":z}(Ve)),z.placement=_e+(Ve?` ${Ve}`:""),z.offsets.target=Object.assign(Object.assign({},z.offsets.target),Mt(z.instance.target,z.offsets.host,z.placement)))}),z}function We(z){var he;if(!Fe(z.options,"preventOverflow"))return z;const _e="transform",Ve=z.instance.target.style,{top:vt,left:Ot,[_e]:de}=Ve;Ve.top="",Ve.left="",Ve[_e]="";const fe=xi(z.instance.target,z.instance.host,0,(null===(he=z.options.modifiers.preventOverflow)||void 0===he?void 0:he.boundariesElement)||"scrollParent",!1);Ve.top=vt,Ve.left=Ot,Ve[_e]=de;const ye={primary(J){var $,X,ie,Se;let Je=z.offsets.target[J];return(null!==($=z.offsets.target[J])&&void 0!==$?$:0)<(null!==(X=fe[J])&&void 0!==X?X:0)&&(Je=Math.max(null!==(ie=z.offsets.target[J])&&void 0!==ie?ie:0,null!==(Se=fe[J])&&void 0!==Se?Se:0)),{[J]:Je}},secondary(J){var $,X,ie,Se;const Je="right"===J,Lt=Je?"left":"top";let En=z.offsets.target[Lt];return(null!==($=z.offsets.target[J])&&void 0!==$?$:0)>(null!==(X=fe[J])&&void 0!==X?X:0)&&(En=Math.min(null!==(ie=z.offsets.target[Lt])&&void 0!==ie?ie:0,(null!==(Se=fe[J])&&void 0!==Se?Se:0)-z.offsets.target[Je?"width":"height"])),{[Lt]:En}}};return["left","right","top","bottom"].forEach(J=>{const $=-1!==["left","top","start"].indexOf(J)?ye.primary:ye.secondary;z.offsets.target=Object.assign(Object.assign({},z.offsets.target),$(J))}),z}function bt(z){var he;const _e=z.placement,Ve=_e.split(" ")[0],vt=_e.split(" ")[1];if(vt){const{host:Ot,target:de}=z.offsets,fe=-1!==["bottom","top"].indexOf(Ve),Oe=fe?"left":"top",ye=fe?"width":"height",J={start:{[Oe]:Ot[Oe]},end:{[Oe]:(null!==(he=Ot[Oe])&&void 0!==he?he:0)+Ot[ye]-de[ye]}};z.offsets.target=Object.assign(Object.assign({},de),{[Oe]:Oe===vt?J.start[Oe]:J.end[Oe]})}return z}const Tt=new class St{position(he,_e){return this.offset(he,_e)}offset(he,_e){return _i(_e,he)}positionElements(he,_e,Ve,vt,Ot){const de=[xe,bt,We,Re],Oe=function Ee(z,he,_e,Ve){if(!z||!he)return;const vt=_i(z,he);!_e.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!_e.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(_e="auto");const Ot=!!_e.match(/auto/g);let de=_e.match(/auto\s(left|right|top|bottom|start|end)/)?_e.split(" ")[1]||"auto":_e;const fe=de.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return fe&&(de=fe[1]+(fe[2]?` ${fe[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(de)&&(de="auto"),de=ci(de,vt,z,he,Ve?Ve.allowedPositions:void 0),{options:Ve||{modifiers:{}},instance:{target:z,host:he,arrow:void 0},offsets:{target:Mt(z,vt,de),host:vt,arrow:void 0},positionFixed:!1,placement:de,placementAuto:Ot}}(_e,he,Ue[Ve],Ot);if(Oe)return de.reduce((ye,J)=>J(ye),Oe)}};function vn(z,he,_e,Ve,vt,Ot){const de=Tt.positionElements(z,he,_e,Ve,vt);if(!de)return;const fe=function un(z){var he,_e,Ve,vt;return{width:z.offsets.target.width,height:z.offsets.target.height,left:Math.floor(null!==(he=z.offsets.target.left)&&void 0!==he?he:0),top:Math.round(null!==(_e=z.offsets.target.top)&&void 0!==_e?_e:0),bottom:Math.round(null!==(Ve=z.offsets.target.bottom)&&void 0!==Ve?Ve:0),right:Math.floor(null!==(vt=z.offsets.target.right)&&void 0!==vt?vt:0)}}(de);Kt(he,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${fe.left}px, ${fe.top}px, 0px)`},Ot),de.instance.arrow&&Kt(de.instance.arrow,de.offsets.arrow,Ot),function Bt(z,he){const _e=z.instance.target;let Ve=_e.className;const vt=(0,p.Wl)().isBs5?Xe[z.placement]:z.placement;z.placementAuto&&(Ve=Ve.replace(/bs-popover-auto/g,`bs-popover-${vt}`),Ve=Ve.replace(/ms-2|me-2|mb-2|mt-2/g,""),Ve=Ve.replace(/bs-tooltip-auto/g,`bs-tooltip-${vt}`),Ve=Ve.replace(/\sauto/g,` ${vt}`),-1!==Ve.indexOf("popover")&&(Ve=Ve+" "+function It(z){return(0,p.Wl)().isBs5?Ut(z,"end")?"ms-2":Ut(z,"start")?"me-2":Ut(z,"top")?"mb-2":Ut(z,"bottom")?"mt-2":"":""}(vt)),-1!==Ve.indexOf("popover")&&-1===Ve.indexOf("popover-auto")&&(Ve+=" popover-auto"),-1!==Ve.indexOf("tooltip")&&-1===Ve.indexOf("tooltip-auto")&&(Ve+=" tooltip-auto")),Ve=Ve.replace(/left|right|top|bottom|end|start/g,`${vt.split(" ")[0]}`),he?he.setAttribute(_e,"class",Ve):_e.className=Ve}(de,Ot)}let wn=(()=>{class z{constructor(_e,Ve,vt){this.update$$=new qe.x,this.positionElements=new Map,this.isDisabled=!1,(0,W.NF)(vt)&&_e.runOutsideAngular(()=>{this.triggerEvent$=(0,tt.T)(ct(window,"scroll",{passive:!0}),ct(window,"resize",{passive:!0}),(0,Le.of)(0,wt),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(Ot=>{vn(pn(Ot.target),pn(Ot.element),Ot.attachment,Ot.appendToBody,this.options,Ve.createRenderer(null,null))})})})}position(_e){this.addPositionElement(_e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(_e){this.positionElements.set(pn(_e.element),_e)}calcPosition(){this.update$$.next(null)}deletePositionElement(_e){this.positionElements.delete(pn(_e))}setOptions(_e){this.options=_e}}return z.\u0275fac=function(_e){return new(_e||z)(d.LFG(d.R0b),d.LFG(d.FYo),d.LFG(d.Lbi))},z.\u0275prov=d.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();function pn(z){return"string"==typeof z?document.querySelector(z):z instanceof d.SBq?z.nativeElement:null!=z?z:null}},7691:(Jt,Ze,x)=>{x.d(Ze,{AL:()=>Ce,C:()=>ce,Dc:()=>wt,GU:()=>nt,O4:()=>gt,Rg:()=>be,Wl:()=>Le,XA:()=>q,wo:()=>ke});var p=x(5e3);class d{constructor(K,Ae){this.open=K,this.close=Ae||K}isManual(){return"manual"===this.open||"manual"===this.close}}const W={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function Ce(pt,K=W){const Ae=(pt||"").trim();if(0===Ae.length)return[];const Ge=Ae.split(/\s+/).map(Nt=>Nt.split(":")).map(Nt=>{const tn=K[Nt[0]]||Nt;return new d(tn[0],tn[1])}),Rt=Ge.filter(Nt=>Nt.isManual());if(Rt.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Rt.length&&Ge.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return Ge}function ke(pt,K){const Ae=Ce(K.triggers),Ge=K.target;if(1===Ae.length&&Ae[0].isManual())return Function.prototype;const Rt=[],Nt=[],tn=()=>{Nt.forEach(gn=>Rt.push(gn())),Nt.length=0};return Ae.forEach(gn=>{const An=gn.open===gn.close,zn=An?K.toggle:K.show;if(!An&&gn.close&&K.hide){const Xn=pt.listen(Ge,gn.close,K.hide);Nt.push(()=>Xn)}zn&&Rt.push(pt.listen(Ge,gn.open,()=>zn(tn)))}),()=>{Rt.forEach(gn=>gn())}}function be(pt,K){return K.outsideClick?pt.listen("document","click",Ae=>{K.target&&K.target.contains(Ae.target)||K.targets&&K.targets.some(Ge=>Ge.contains(Ae.target))||K.hide&&K.hide()}):Function.prototype}function ce(pt,K){return K.outsideEsc?pt.listen("document","keyup.esc",Ae=>{K.target&&K.target.contains(Ae.target)||K.targets&&K.targets.some(Ge=>Ge.contains(Ae.target))||K.hide&&K.hide()}):Function.prototype}const Q="undefined"!=typeof window&&window||{};let we;function et(){if(void 0===Q.document)return"bs4";const pt=Q.document.createElement("span");pt.innerText="testing bs version",pt.classList.add("d-none"),pt.classList.add("pl-1"),Q.document.head.appendChild(pt);const K=pt.getBoundingClientRect(),Ae=Q.getComputedStyle(pt).paddingLeft;return!K||K&&0!==K.top?(Q.document.head.removeChild(pt),"bs3"):Ae&&parseFloat(Ae)?(Q.document.head.removeChild(pt),"bs4"):(Q.document.head.removeChild(pt),"bs5")}function wt(pt){we=pt}function q(){return void 0===Q||(void 0===Q.__theme?(we||(we=et()),"bs3"===we):"bs3"===Q.__theme)}function qe(){return!q()&&(we||(we=et()),"bs4"===we)}function Le(){return{isBs3:q(),isBs4:qe(),isBs5:!q()&&!qe()&&(we||(we=et()),"bs5"===we)}}function nt(){return function(Ae,Ge){const Rt=` __${Ge}Value`;Object.defineProperty(Ae,Ge,{get(){return this[Rt]},set(Nt){const tn=this[Rt];this[Rt]=Nt,tn!==Nt&&this[Ge+"Change"]&&this[Ge+"Change"].emit(Nt)}})}}const xt={},sn="undefined"==typeof console||!("warn"in console);function gt(pt){!(0,p.X6Q)()||sn||pt in xt||(xt[pt]=!0,console.warn(pt))}},5861:(Jt,Ze,x)=>{function p(W,Ce,ve,ke,be,ce,Q){try{var ee=W[ce](Q),ue=ee.value}catch(Ne){return void ve(Ne)}ee.done?Ce(ue):Promise.resolve(ue).then(ke,be)}function d(W){return function(){var Ce=this,ve=arguments;return new Promise(function(ke,be){var ce=W.apply(Ce,ve);function Q(ue){p(ce,ke,be,Q,ee,"next",ue)}function ee(ue){p(ce,ke,be,Q,ee,"throw",ue)}Q(void 0)})}}x.d(Ze,{Z:()=>d})}},Jt=>{Jt(Jt.s=2771)}]);