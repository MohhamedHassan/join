"use strict";var sC=Object.defineProperty,oC=Object.defineProperties,aC=Object.getOwnPropertyDescriptors,ib=Object.getOwnPropertySymbols,lC=Object.prototype.hasOwnProperty,uC=Object.prototype.propertyIsEnumerable,rb=(qt,Ze,x)=>Ze in qt?sC(qt,Ze,{enumerable:!0,configurable:!0,writable:!0,value:x}):qt[Ze]=x,sb=(qt,Ze)=>{for(var x in Ze||(Ze={}))lC.call(Ze,x)&&rb(qt,x,Ze[x]);if(ib)for(var x of ib(Ze))uC.call(Ze,x)&&rb(qt,x,Ze[x]);return qt},ob=(qt,Ze)=>oC(qt,aC(Ze));(self.webpackChunkjoin=self.webpackChunkjoin||[]).push([[179],{2011:(qt,Ze,x)=>{x.d(Ze,{Dh:()=>ce,GT:()=>Ne,cc:()=>nt,hO:()=>lt,on:()=>te,pX:()=>_e,xv:()=>J});var g=x(5e3),d=x(127),W=x(6351);qt=x.hmd(qt);const Te=["ngOnDestroy"],_e=(rt,Be,pt,me={})=>new Proxy(rt,{get:(we,Xe)=>pt.runOutsideAngular(()=>{var Tt;if(rt[Xe])return(null===(Tt=null==me?void 0:me.spy)||void 0===Tt?void 0:Tt.get)&&me.spy.get(Xe,rt[Xe]),rt[Xe];if(Te.indexOf(Xe)>-1)return()=>{};const Y=Be.toPromise().then(qe=>{const et=qe&&qe[Xe];return"function"==typeof et?et.bind(qe):et&&et.then?et.then(Ve=>pt.run(()=>Ve)):pt.run(()=>et)});return new Proxy(()=>{},{get:(qe,et)=>Y[et],apply:(qe,et,Ve)=>Y.then(Ge=>{var Je;const ot=Ge&&Ge(...Ve);return(null===(Je=null==me?void 0:me.spy)||void 0===Je?void 0:Je.apply)&&me.spy.apply(Xe,Ve,ot),ot})})})}),Ne=(rt,Be)=>{Be.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(me=>{Object.defineProperty(rt.prototype,me,Object.getOwnPropertyDescriptor(pt.prototype||pt,me))})})};class Ce{constructor(Be){return Be}}const ce=new g.OlP("angularfire2.app.options"),J=new g.OlP("angularfire2.app.name");function te(rt,Be,pt){const we="object"==typeof pt&&pt||{};we.name=we.name||"string"==typeof pt&&pt||"[DEFAULT]";const Tt=d.Z.apps.filter(Y=>Y&&Y.name===we.name)[0]||Be.runOutsideAngular(()=>d.Z.initializeApp(rt,we));try{JSON.stringify(rt)!==JSON.stringify(Tt.options)&&ue("error",`${Tt.name} Firebase App already initialized with different options${qt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Y){}return new Ce(Tt)}const ue=(rt,...Be)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[rt](...Be)},ke={provide:Ce,useFactory:te,deps:[ce,g.R0b,[new g.FiY,J]]};let lt=(()=>{class rt{constructor(pt){d.Z.registerVersion("angularfire",W.q4.full,"core"),d.Z.registerVersion("angularfire",W.q4.full,"app-compat"),d.Z.registerVersion("angular",g.q4F.full,pt.toString())}static initializeApp(pt,me){return{ngModule:rt,providers:[{provide:ce,useValue:pt},{provide:J,useValue:me}]}}}return rt.\u0275fac=function(pt){return new(pt||rt)(g.LFG(g.Lbi))},rt.\u0275mod=g.oAB({type:rt}),rt.\u0275inj=g.cJS({providers:[ke]}),rt})();function nt(rt,Be,pt,me,we){const[,Xe,Tt]=globalThis.\u0275AngularfireInstanceCache.find(Y=>Y[0]===rt)||[];if(Xe)return function ht(rt,Be){try{return rt.toString()===Be.toString()}catch(pt){return rt===Be}}(we,Tt)||(Qe("error",`${Be} was already initialized on the ${pt} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:we,was:Tt})),Xe;{const Y=me();return globalThis.\u0275AngularfireInstanceCache.push([rt,Y,we]),Y}}const ut=!!qt.hot,Qe=(rt,...Be)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[rt](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(qt,Ze,x)=>{x.d(Ze,{q4:()=>Yo,iC:()=>ma,HU:()=>Fl,vb:()=>Ou,JM:()=>pa});var g=x(5e3),d=x(5867),W=x(5861),Te=x(9681),_e=x(2090),Ne=x(4859),Ce=x(1877),ce=x(8766);const J="@firebase/installations",te="0.5.16",ke=`w:${te}`,lt="FIS_v2",Be=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pt(R){return R instanceof _e.ZR&&R.code.includes("request-failed")}function me({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function we(R){return{token:R.token,requestStatus:2,expiresIn:Ge(R.expiresIn),creationTime:Date.now()}}function Xe(R,B){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,W.Z)(function*(R,B){const De=(yield B.json()).error;return Be.create("request-failed",{requestName:R,serverCode:De.code,serverMessage:De.message,serverStatus:De.status})})).apply(this,arguments)}function Y({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function qe(R,{refreshToken:B}){const ae=Y(R);return ae.append("Authorization",function Je(R){return`${lt} ${R}`}(B)),ae}function et(R){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,W.Z)(function*(R){const B=yield R();return B.status>=500&&B.status<600?R():B})).apply(this,arguments)}function Ge(R){return Number(R.replace("s","000"))}function ot(R,B){return it.apply(this,arguments)}function it(){return(it=(0,W.Z)(function*({appConfig:R,heartbeatServiceProvider:B},{fid:ae}){const De=me(R),tt=Y(R),dt=B.getImmediate({optional:!0});if(dt){const Qn=yield dt.getHeartbeatsHeader();Qn&&tt.append("x-firebase-client",Qn)}const tn={method:"POST",headers:tt,body:JSON.stringify({fid:ae,authVersion:lt,appId:R.appId,sdkVersion:ke})},Ln=yield et(()=>fetch(De,tn));if(Ln.ok){const Qn=yield Ln.json();return{fid:Qn.fid||ae,registrationStatus:2,refreshToken:Qn.refreshToken,authToken:we(Qn.authToken)}}throw yield Xe("Create Installation",Ln)})).apply(this,arguments)}function Nt(R){return new Promise(B=>{setTimeout(B,R)})}const gt=/^[cdef][\w-]{21}$/;function q(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const ae=function Se(R){return function on(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return gt.test(ae)?ae:""}catch(R){return""}}function Ke(R){return`${R.appName}!${R.appId}`}const Mt=new Map;function Gt(R,B){const ae=Ke(R);In(ae,B),function zn(R,B){const ae=function Kn(){return!di&&"BroadcastChannel"in self&&(di=new BroadcastChannel("[Firebase] FID Change"),di.onmessage=R=>{In(R.data.key,R.data.fid)}),di}();ae&&ae.postMessage({key:R,fid:B}),function Ii(){0===Mt.size&&di&&(di.close(),di=null)}()}(ae,B)}function In(R,B){const ae=Mt.get(R);if(ae)for(const De of ae)De(B)}let di=null;const qn="firebase-installations-store";let Fi=null;function un(){return Fi||(Fi=(0,ce.X3)("firebase-installations-database",1,{upgrade:(R,B)=>{0===B&&R.createObjectStore(qn)}})),Fi}function Oi(R,B){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,W.Z)(function*(R,B){const ae=Ke(R),tt=(yield un()).transaction(qn,"readwrite"),dt=tt.objectStore(qn),$t=yield dt.get(ae);return yield dt.put(B,ae),yield tt.done,(!$t||$t.fid!==B.fid)&&Gt(R,B.fid),B})).apply(this,arguments)}function Jt(R){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,W.Z)(function*(R){const B=Ke(R),De=(yield un()).transaction(qn,"readwrite");yield De.objectStore(qn).delete(B),yield De.done})).apply(this,arguments)}function hi(R,B){return It.apply(this,arguments)}function It(){return(It=(0,W.Z)(function*(R,B){const ae=Ke(R),tt=(yield un()).transaction(qn,"readwrite"),dt=tt.objectStore(qn),$t=yield dt.get(ae),tn=B($t);return void 0===tn?yield dt.delete(ae):yield dt.put(tn,ae),yield tt.done,tn&&(!$t||$t.fid!==tn.fid)&&Gt(R,tn.fid),tn})).apply(this,arguments)}function Le(R){return $e.apply(this,arguments)}function $e(){return($e=(0,W.Z)(function*(R){let B;const ae=yield hi(R.appConfig,De=>{const tt=Ft(De),dt=Ct(R,tt);return B=dt.registrationPromise,dt.installationEntry});return""===ae.fid?{installationEntry:yield B}:{installationEntry:ae,registrationPromise:B}})).apply(this,arguments)}function Ft(R){return We(R||{fid:q(),registrationStatus:0})}function Ct(R,B){if(0===B.registrationStatus){if(!navigator.onLine)return{installationEntry:B,registrationPromise:Promise.reject(Be.create("app-offline"))};const ae={fid:B.fid,registrationStatus:1,registrationTime:Date.now()},De=function Vt(R,B){return zt.apply(this,arguments)}(R,ae);return{installationEntry:ae,registrationPromise:De}}return 1===B.registrationStatus?{installationEntry:B,registrationPromise:Re(R)}:{installationEntry:B}}function zt(){return(zt=(0,W.Z)(function*(R,B){try{const ae=yield ot(R,B);return Oi(R.appConfig,ae)}catch(ae){throw pt(ae)&&409===ae.customData.serverCode?yield Jt(R.appConfig):yield Oi(R.appConfig,{fid:B.fid,registrationStatus:0}),ae}})).apply(this,arguments)}function Re(R){return xe.apply(this,arguments)}function xe(){return(xe=(0,W.Z)(function*(R){let B=yield Ee(R.appConfig);for(;1===B.registrationStatus;)yield Nt(100),B=yield Ee(R.appConfig);if(0===B.registrationStatus){const{installationEntry:ae,registrationPromise:De}=yield Le(R);return De||ae}return B})).apply(this,arguments)}function Ee(R){return hi(R,B=>{if(!B)throw Be.create("installation-not-found");return We(B)})}function We(R){return function _t(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function Dt(R,B){return wt.apply(this,arguments)}function wt(){return(wt=(0,W.Z)(function*({appConfig:R,heartbeatServiceProvider:B},ae){const De=pn(R,ae),tt=qe(R,ae),dt=B.getImmediate({optional:!0});if(dt){const Qn=yield dt.getHeartbeatsHeader();Qn&&tt.append("x-firebase-client",Qn)}const tn={method:"POST",headers:tt,body:JSON.stringify({installation:{sdkVersion:ke,appId:R.appId}})},Ln=yield et(()=>fetch(De,tn));if(Ln.ok)return we(yield Ln.json());throw yield Xe("Generate Auth Token",Ln)})).apply(this,arguments)}function pn(R,{fid:B}){return`${me(R)}/${B}/authTokens:generate`}function _n(R){return ln.apply(this,arguments)}function ln(){return(ln=(0,W.Z)(function*(R,B=!1){let ae;const De=yield hi(R.appConfig,dt=>{if(!St(dt))throw Be.create("not-registered");const $t=dt.authToken;if(!B&&de($t))return dt;if(1===$t.requestStatus)return ae=z(R,B),dt;{if(!navigator.onLine)throw Be.create("app-offline");const tn=Me(dt);return ae=Ue(R,tn),tn}});return ae?yield ae:De.authToken})).apply(this,arguments)}function z(R,B){return he.apply(this,arguments)}function he(){return(he=(0,W.Z)(function*(R,B){let ae=yield be(R.appConfig);for(;1===ae.authToken.requestStatus;)yield Nt(100),ae=yield be(R.appConfig);const De=ae.authToken;return 0===De.requestStatus?_n(R,B):De})).apply(this,arguments)}function be(R){return hi(R,B=>{if(!St(B))throw Be.create("not-registered");return function ve(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(B.authToken)?Object.assign(Object.assign({},B),{authToken:{requestStatus:0}}):B})}function Ue(R,B){return mt.apply(this,arguments)}function mt(){return(mt=(0,W.Z)(function*(R,B){try{const ae=yield Dt(R,B),De=Object.assign(Object.assign({},B),{authToken:ae});return yield Oi(R.appConfig,De),ae}catch(ae){if(!pt(ae)||401!==ae.customData.serverCode&&404!==ae.customData.serverCode){const De=Object.assign(Object.assign({},B),{authToken:{requestStatus:0}});yield Oi(R.appConfig,De)}else yield Jt(R.appConfig);throw ae}})).apply(this,arguments)}function St(R){return void 0!==R&&2===R.registrationStatus}function de(R){return 2===R.requestStatus&&!function fe(R){const B=Date.now();return B<R.creationTime||R.creationTime+R.expiresIn<B+36e5}(R)}function Me(R){const B={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:B})}function $(){return($=(0,W.Z)(function*(R){const B=R,{installationEntry:ae,registrationPromise:De}=yield Le(B);return De?De.catch(console.error):_n(B).catch(console.error),ae.fid})).apply(this,arguments)}function re(){return(re=(0,W.Z)(function*(R,B=!1){const ae=R;return yield Ae(ae),(yield _n(ae,B)).token})).apply(this,arguments)}function Ae(R){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,W.Z)(function*(R){const{registrationPromise:B}=yield Le(R);B&&(yield B)})).apply(this,arguments)}function Pr(R){return Be.create("missing-app-config-values",{valueName:R})}const Ti="installations",Bn=R=>{const B=R.getProvider("app").getImmediate(),ae=function Ci(R){if(!R||!R.options)throw Pr("App Configuration");if(!R.name)throw Pr("App Name");const B=["projectId","apiKey","appId"];for(const ae of B)if(!R.options[ae])throw Pr(ae);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(B);return{app:B,appConfig:ae,heartbeatServiceProvider:(0,Te._getProvider)(B,"heartbeat"),_delete:()=>Promise.resolve()}},fi=R=>{const B=R.getProvider("app").getImmediate(),ae=(0,Te._getProvider)(B,Ti).getImmediate();return{getId:()=>function X(R){return $.apply(this,arguments)}(ae),getToken:tt=>function ee(R){return re.apply(this,arguments)}(ae,tt)}};(function Hi(){(0,Te._registerComponent)(new Ne.wA(Ti,Bn,"PUBLIC")),(0,Te._registerComponent)(new Ne.wA("installations-internal",fi,"PRIVATE"))})(),(0,Te.registerVersion)(J,te),(0,Te.registerVersion)(J,te,"esm2017");const Rr="@firebase/remote-config",mi=new _e.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Nr{constructor(B,ae,De,tt){this.client=B,this.storage=ae,this.storageCache=De,this.logger=tt}isCachedDataFresh(B,ae){if(!ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const De=Date.now()-ae,tt=De<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${De}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${tt}.`),tt}fetch(B){var ae=this;return(0,W.Z)(function*(){const[De,tt]=yield Promise.all([ae.storage.getLastSuccessfulFetchTimestampMillis(),ae.storage.getLastSuccessfulFetchResponse()]);if(tt&&ae.isCachedDataFresh(B.cacheMaxAgeMillis,De))return tt;B.eTag=tt&&tt.eTag;const dt=yield ae.client.fetch(B),$t=[ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===dt.status&&$t.push(ae.storage.setLastSuccessfulFetchResponse(dt)),yield Promise.all($t),dt})()}}function Ws(R=navigator){return R.languages&&R.languages[0]||R.language}class Gi{constructor(B,ae,De,tt,dt,$t){this.firebaseInstallations=B,this.sdkVersion=ae,this.namespace=De,this.projectId=tt,this.apiKey=dt,this.appId=$t}fetch(B){var ae=this;return(0,W.Z)(function*(){var De,tt,dt;const[$t,tn]=yield Promise.all([ae.firebaseInstallations.getId(),ae.firebaseInstallations.getToken()]),Qn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ae.projectId}/namespaces/${ae.namespace}:fetch?key=${ae.apiKey}`,Jn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},Nn={sdk_version:ae.sdkVersion,app_instance_id:$t,app_instance_id_token:tn,app_id:ae.appId,language_code:Ws()},Sr={method:"POST",headers:Jn,body:JSON.stringify(Nn)},Ui=fetch(Qn,Sr),ml=new Promise((ya,ja)=>{B.signal.addEventListener(()=>{const Fs=new Error("The operation was aborted.");Fs.name="AbortError",ja(Fs)})});let Oo;try{yield Promise.race([Ui,ml]),Oo=yield Ui}catch(ya){let ja="fetch-client-network";throw"AbortError"===(null===(De=ya)||void 0===De?void 0:De.name)&&(ja="fetch-timeout"),mi.create(ja,{originalErrorMessage:null===(tt=ya)||void 0===tt?void 0:tt.message})}let _o=Oo.status;const ru=Oo.headers.get("ETag")||void 0;let Ha,yl;if(200===Oo.status){let ya;try{ya=yield Oo.json()}catch(ja){throw mi.create("fetch-client-parse",{originalErrorMessage:null===(dt=ja)||void 0===dt?void 0:dt.message})}Ha=ya.entries,yl=ya.state}if("INSTANCE_STATE_UNSPECIFIED"===yl?_o=500:"NO_CHANGE"===yl?_o=304:("NO_TEMPLATE"===yl||"EMPTY_CONFIG"===yl)&&(Ha={}),304!==_o&&200!==_o)throw mi.create("fetch-status",{httpStatus:_o});return{status:_o,eTag:ru,config:Ha}})()}}class ds{constructor(B,ae){this.client=B,this.storage=ae}fetch(B){var ae=this;return(0,W.Z)(function*(){const De=(yield ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ae.attemptFetch(B,De)})()}attemptFetch(B,{throttleEndTimeMillis:ae,backoffCount:De}){var tt=this;return(0,W.Z)(function*(){yield function Zs(R,B){return new Promise((ae,De)=>{const tt=Math.max(B-Date.now(),0),dt=setTimeout(ae,tt);R.addEventListener(()=>{clearTimeout(dt),De(mi.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,ae);try{const dt=yield tt.client.fetch(B);return yield tt.storage.deleteThrottleMetadata(),dt}catch(dt){if(!function ia(R){if(!(R instanceof _e.ZR&&R.customData))return!1;const B=Number(R.customData.httpStatus);return 429===B||500===B||503===B||504===B}(dt))throw dt;const $t={throttleEndTimeMillis:Date.now()+(0,_e.$s)(De),backoffCount:De+1};return yield tt.storage.setThrottleMetadata($t),tt.attemptFetch(B,$t)}})()}}class ra{constructor(B,ae,De,tt,dt){this.app=B,this._client=ae,this._storageCache=De,this._storage=tt,this._logger=dt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xr(R,B){var ae;const De=R.target.error||void 0;return mi.create(B,{originalErrorMessage:De&&(null===(ae=De)||void 0===ae?void 0:ae.message)})}const wr="app_namespace_store";class Lo{constructor(B,ae,De,tt=function sa(){return new Promise((R,B)=>{var ae;try{const De=indexedDB.open("firebase_remote_config",1);De.onerror=tt=>{B(Xr(tt,"storage-open"))},De.onsuccess=tt=>{R(tt.target.result)},De.onupgradeneeded=tt=>{0===tt.oldVersion&&tt.target.result.createObjectStore(wr,{keyPath:"compositeKey"})}}catch(De){B(mi.create("storage-open",{originalErrorMessage:null===(ae=De)||void 0===ae?void 0:ae.message}))}})}()){this.appId=B,this.appName=ae,this.namespace=De,this.openDbPromise=tt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var ae=this;return(0,W.Z)(function*(){const De=yield ae.openDbPromise;return new Promise((tt,dt)=>{var $t;const Ln=De.transaction([wr],"readonly").objectStore(wr),Qn=ae.createCompositeKey(B);try{const Jn=Ln.get(Qn);Jn.onerror=Nn=>{dt(Xr(Nn,"storage-get"))},Jn.onsuccess=Nn=>{const Sr=Nn.target.result;tt(Sr?Sr.value:void 0)}}catch(Jn){dt(mi.create("storage-get",{originalErrorMessage:null===($t=Jn)||void 0===$t?void 0:$t.message}))}})})()}set(B,ae){var De=this;return(0,W.Z)(function*(){const tt=yield De.openDbPromise;return new Promise((dt,$t)=>{var tn;const Qn=tt.transaction([wr],"readwrite").objectStore(wr),Jn=De.createCompositeKey(B);try{const Nn=Qn.put({compositeKey:Jn,value:ae});Nn.onerror=Sr=>{$t(Xr(Sr,"storage-set"))},Nn.onsuccess=()=>{dt()}}catch(Nn){$t(mi.create("storage-set",{originalErrorMessage:null===(tn=Nn)||void 0===tn?void 0:tn.message}))}})})()}delete(B){var ae=this;return(0,W.Z)(function*(){const De=yield ae.openDbPromise;return new Promise((tt,dt)=>{var $t;const Ln=De.transaction([wr],"readwrite").objectStore(wr),Qn=ae.createCompositeKey(B);try{const Jn=Ln.delete(Qn);Jn.onerror=Nn=>{dt(Xr(Nn,"storage-delete"))},Jn.onsuccess=()=>{tt()}}catch(Jn){dt(mi.create("storage-delete",{originalErrorMessage:null===($t=Jn)||void 0===$t?void 0:$t.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class vs{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,W.Z)(function*(){const ae=B.storage.getLastFetchStatus(),De=B.storage.getLastSuccessfulFetchTimestampMillis(),tt=B.storage.getActiveConfig(),dt=yield ae;dt&&(B.lastFetchStatus=dt);const $t=yield De;$t&&(B.lastSuccessfulFetchTimestampMillis=$t);const tn=yield tt;tn&&(B.activeConfig=tn)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function Fo(){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,W.Z)(function*(){if(!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch(R){return!1}})).apply(this,arguments)}!function Ya(){(0,Te._registerComponent)(new Ne.wA("remote-config",function R(B,{instanceIdentifier:ae}){const De=B.getProvider("app").getImmediate(),tt=B.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw mi.create("registration-window");if(!(0,_e.hl)())throw mi.create("indexed-db-unavailable");const{projectId:dt,apiKey:$t,appId:tn}=De.options;if(!dt)throw mi.create("registration-project-id");if(!$t)throw mi.create("registration-api-key");if(!tn)throw mi.create("registration-app-id");const Ln=new Lo(tn,De.name,ae=ae||"firebase"),Qn=new vs(Ln),Jn=new Ce.Yd(Rr);Jn.logLevel=Ce.in.ERROR;const Nn=new Gi(tt,Te.SDK_VERSION,ae,dt,$t,tn),Sr=new ds(Nn,Ln),Ui=new Nr(Sr,Ln,Qn,Jn),ml=new ra(De,Ui,Qn,Ln,Jn);return function gi(R){const B=(0,_e.m9)(R);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(ml),ml},"PUBLIC").setMultipleInstances(!0)),(0,Te.registerVersion)(Rr,"0.3.15"),(0,Te.registerVersion)(Rr,"0.3.15","esm2017")}();const Ds="/firebase-messaging-sw.js",Rn="/firebase-cloud-messaging-push-scope",_s="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bs="google.c.a.c_id",Qa="google.c.a.c_l",Vo="google.c.a.ts",Wr="google.c.a.e";var Br=(()=>{return(R=Br||(Br={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",Br;var R})();function Zr(R){const B=new Uint8Array(R);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ms(R){const ae=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),De=atob(ae),tt=new Uint8Array(De.length);for(let dt=0;dt<De.length;++dt)tt[dt]=De.charCodeAt(dt);return tt}const Ei="fcm_token_details_db",Uo="fcm_token_object_Store";function aa(R){return es.apply(this,arguments)}function es(){return es=(0,W.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(dt=>dt.name).includes(Ei))return null;let B=null;return(yield(0,ce.X3)(Ei,5,{upgrade:(De=(0,W.Z)(function*(tt,dt,$t,tn){var Ln;if(dt<2||!tt.objectStoreNames.contains(Uo))return;const Qn=tn.objectStore(Uo),Jn=yield Qn.index("fcmSenderId").get(R);if(yield Qn.clear(),Jn)if(2===dt){const Nn=Jn;if(!Nn.auth||!Nn.p256dh||!Nn.endpoint)return;B={token:Nn.fcmToken,createTime:null!==(Ln=Nn.createTime)&&void 0!==Ln?Ln:Date.now(),subscriptionOptions:{auth:Nn.auth,p256dh:Nn.p256dh,endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:"string"==typeof Nn.vapidKey?Nn.vapidKey:Zr(Nn.vapidKey)}}}else if(3===dt){const Nn=Jn;B={token:Nn.fcmToken,createTime:Nn.createTime,subscriptionOptions:{auth:Zr(Nn.auth),p256dh:Zr(Nn.p256dh),endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:Zr(Nn.vapidKey)}}}else if(4===dt){const Nn=Jn;B={token:Nn.fcmToken,createTime:Nn.createTime,subscriptionOptions:{auth:Zr(Nn.auth),p256dh:Zr(Nn.p256dh),endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:Zr(Nn.vapidKey)}}}}),function(dt,$t,tn,Ln){return De.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Ei),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),kr(B)?B:null;var De}),es.apply(this,arguments)}function kr(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:B}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}const Kr="firebase-messaging-store";let Ys=null;function Ai(){return Ys||(Ys=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(R,B)=>{0===B&&R.createObjectStore(Kr)}})),Ys}function U(R){return ie.apply(this,arguments)}function ie(){return(ie=(0,W.Z)(function*(R){const B=Bt(R),De=yield(yield Ai()).transaction(Kr).objectStore(Kr).get(B);if(De)return De;{const tt=yield aa(R.appConfig.senderId);if(tt)return yield V(R,tt),tt}})).apply(this,arguments)}function V(R,B){return oe.apply(this,arguments)}function oe(){return(oe=(0,W.Z)(function*(R,B){const ae=Bt(R),tt=(yield Ai()).transaction(Kr,"readwrite");return yield tt.objectStore(Kr).put(B,ae),yield tt.done,B})).apply(this,arguments)}function Pe(R){return Et.apply(this,arguments)}function Et(){return(Et=(0,W.Z)(function*(R){const B=Bt(R),De=(yield Ai()).transaction(Kr,"readwrite");yield De.objectStore(Kr).delete(B),yield De.done})).apply(this,arguments)}function Bt({appConfig:R}){return R.appId}const kn=new _e.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ai(R,B){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,W.Z)(function*(R,B){var ae;const De=yield N(R),tt=se(B),dt={method:"POST",headers:De,body:JSON.stringify(tt)};let $t;try{$t=yield(yield fetch(H(R.appConfig),dt)).json()}catch(tn){throw kn.create("token-subscribe-failed",{errorInfo:null===(ae=tn)||void 0===ae?void 0:ae.toString()})}if($t.error)throw kn.create("token-subscribe-failed",{errorInfo:$t.error.message});if(!$t.token)throw kn.create("token-subscribe-no-token");return $t.token})).apply(this,arguments)}function ri(R,B){return zi.apply(this,arguments)}function zi(){return(zi=(0,W.Z)(function*(R,B){var ae;const De=yield N(R),tt=se(B.subscriptionOptions),dt={method:"PATCH",headers:De,body:JSON.stringify(tt)};let $t;try{$t=yield(yield fetch(`${H(R.appConfig)}/${B.token}`,dt)).json()}catch(tn){throw kn.create("token-update-failed",{errorInfo:null===(ae=tn)||void 0===ae?void 0:ae.toString()})}if($t.error)throw kn.create("token-update-failed",{errorInfo:$t.error.message});if(!$t.token)throw kn.create("token-update-no-token");return $t.token})).apply(this,arguments)}function Si(R,B){return Di.apply(this,arguments)}function Di(){return(Di=(0,W.Z)(function*(R,B){var ae;const tt={method:"DELETE",headers:yield N(R)};try{const $t=yield(yield fetch(`${H(R.appConfig)}/${B}`,tt)).json();if($t.error)throw kn.create("token-unsubscribe-failed",{errorInfo:$t.error.message})}catch(dt){throw kn.create("token-unsubscribe-failed",{errorInfo:null===(ae=dt)||void 0===ae?void 0:ae.toString()})}})).apply(this,arguments)}function H({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function N(R){return M.apply(this,arguments)}function M(){return(M=(0,W.Z)(function*({appConfig:R,installations:B}){const ae=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${ae}`})})).apply(this,arguments)}function se({p256dh:R,auth:B,endpoint:ae,vapidKey:De}){const tt={web:{endpoint:ae,auth:B,p256dh:R}};return De!==_s&&(tt.web.applicationPubKey=De),tt}const At=6048e5;function En(R){return wi.apply(this,arguments)}function wi(){return(wi=(0,W.Z)(function*(R){const B=yield Ol(R.swRegistration,R.vapidKey),ae={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:B.endpoint,auth:Zr(B.getKey("auth")),p256dh:Zr(B.getKey("p256dh"))},De=yield U(R.firebaseDependencies);if(De){if(Ia(De.subscriptionOptions,ae))return Date.now()>=De.createTime+At?Bo(R,{token:De.token,createTime:Date.now(),subscriptionOptions:ae}):De.token;try{yield Si(R.firebaseDependencies,De.token)}catch(tt){console.warn(tt)}return Ht(R.firebaseDependencies,ae)}return Ht(R.firebaseDependencies,ae)})).apply(this,arguments)}function Es(R){return ts.apply(this,arguments)}function ts(){return(ts=(0,W.Z)(function*(R){const B=yield U(R.firebaseDependencies);B&&(yield Si(R.firebaseDependencies,B.token),yield Pe(R.firebaseDependencies));const ae=yield R.swRegistration.pushManager.getSubscription();return!ae||ae.unsubscribe()})).apply(this,arguments)}function Bo(R,B){return Da.apply(this,arguments)}function Da(){return(Da=(0,W.Z)(function*(R,B){try{const ae=yield ri(R.firebaseDependencies,B),De=Object.assign(Object.assign({},B),{token:ae,createTime:Date.now()});return yield V(R.firebaseDependencies,De),ae}catch(ae){throw yield Es(R),ae}})).apply(this,arguments)}function Ht(R,B){return li.apply(this,arguments)}function li(){return(li=(0,W.Z)(function*(R,B){const De={token:yield ai(R,B),createTime:Date.now(),subscriptionOptions:B};return yield V(R,De),De.token})).apply(this,arguments)}function Ol(R,B){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,W.Z)(function*(R,B){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ms(B)})})).apply(this,arguments)}function Ia(R,B){return B.vapidKey===R.vapidKey&&B.endpoint===R.endpoint&&B.auth===R.auth&&B.p256dh===R.p256dh}function Co(R){const B={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function Ps(R,B){if(!B.notification)return;R.notification={};const ae=B.notification.title;ae&&(R.notification.title=ae);const De=B.notification.body;De&&(R.notification.body=De);const tt=B.notification.image;tt&&(R.notification.image=tt);const dt=B.notification.icon;dt&&(R.notification.icon=dt)}(B,R),function Aa(R,B){!B.data||(R.data=B.data)}(B,R),function Sa(R,B){var ae,De,tt,dt,$t;if(!B.fcmOptions&&!(null===(ae=B.notification)||void 0===ae?void 0:ae.click_action))return;R.fcmOptions={};const tn=null!==(tt=null===(De=B.fcmOptions)||void 0===De?void 0:De.link)&&void 0!==tt?tt:null===(dt=B.notification)||void 0===dt?void 0:dt.click_action;tn&&(R.fcmOptions.link=tn);const Ln=null===($t=B.fcmOptions)||void 0===$t?void 0:$t.analytics_label;Ln&&(R.fcmOptions.analyticsLabel=Ln)}(B,R),B}function Ml(R){return"object"==typeof R&&!!R&&bs in R}function Pl(R,B){const ae=[];for(let De=0;De<R.length;De++)ae.push(R.charAt(De)),De<B.length&&ae.push(B.charAt(De));return ae.join("")}function uo(R){return kn.create("missing-app-config-values",{valueName:R})}Pl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hr{constructor(B,ae,De){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const tt=function Rl(R){if(!R||!R.options)throw uo("App Configuration Object");if(!R.name)throw uo("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:ae}=R;for(const De of B)if(!ae[De])throw uo(De);return{appName:R.name,projectId:ae.projectId,apiKey:ae.apiKey,appId:ae.appId,senderId:ae.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:tt,installations:ae,analyticsProvider:De}}_delete(){return Promise.resolve()}}function co(R){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,W.Z)(function*(R){var B;try{R.swRegistration=yield navigator.serviceWorker.register(Ds,{scope:Rn}),R.swRegistration.update().catch(()=>{})}catch(ae){throw kn.create("failed-service-worker-registration",{browserErrorMessage:null===(B=ae)||void 0===B?void 0:B.message})}})).apply(this,arguments)}function To(R,B){return hs.apply(this,arguments)}function hs(){return(hs=(0,W.Z)(function*(R,B){if(!B&&!R.swRegistration&&(yield co(R)),B||!R.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw kn.create("invalid-sw-registration");R.swRegistration=B}})).apply(this,arguments)}function Rs(R,B){return Do.apply(this,arguments)}function Do(){return(Do=(0,W.Z)(function*(R,B){B?R.vapidKey=B:R.vapidKey||(R.vapidKey=_s)})).apply(this,arguments)}function ws(){return(ws=(0,W.Z)(function*(R,B){if(!navigator)throw kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kn.create("permission-blocked");return yield Rs(R,null==B?void 0:B.vapidKey),yield To(R,null==B?void 0:B.serviceWorkerRegistration),En(R)})).apply(this,arguments)}function Oa(R,B,ae){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,W.Z)(function*(R,B,ae){const De=fl(B);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(De,{message_id:ae[bs],message_name:ae[Qa],message_time:ae[Vo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fl(R){switch(R){case Br.NOTIFICATION_CLICKED:return"notification_open";case Br.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Io(){return(Io=(0,W.Z)(function*(R,B){const ae=B.data;if(!ae.isFirebaseMessaging)return;R.onMessageHandler&&ae.messageType===Br.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(Co(ae)):R.onMessageHandler.next(Co(ae)));const De=ae.data;Ml(De)&&"1"===De[Wr]&&(yield Oa(R,ae.messageType,De))})).apply(this,arguments)}const jr="@firebase/messaging",la=R=>{const B=new Hr(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ae=>function Ma(R,B){return Io.apply(this,arguments)}(B,ae)),B},jo=R=>{const B=R.getProvider("messaging").getImmediate();return{getToken:De=>function xa(R,B){return ws.apply(this,arguments)}(B,De)}};function Pa(){return fo.apply(this,arguments)}function fo(){return(fo=(0,W.Z)(function*(){try{yield(0,_e.eu)()}catch(R){return!1}return"undefined"!=typeof window&&(0,_e.hl)()&&(0,_e.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $o(){(0,Te._registerComponent)(new Ne.wA("messaging",la,"PUBLIC")),(0,Te._registerComponent)(new Ne.wA("messaging-internal",jo,"PRIVATE")),(0,Te.registerVersion)(jr,"0.11.0"),(0,Te.registerVersion)(jr,"0.11.0","esm2017")}();const Go="analytics",po="firebase_id",Zt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wi="https://www.googletagmanager.com/gtag/js",Zi=new Ce.Yd("@firebase/analytics");function Ns(R){return Promise.all(R.map(B=>B.catch(ae=>ae)))}function wn(R,B){const ae=document.createElement("script");ae.src=`${Wi}?l=${R}&id=${B}`,ae.async=!0,document.head.appendChild(ae)}function zo(R,B,ae,De,tt,dt){return sn.apply(this,arguments)}function sn(){return(sn=(0,W.Z)(function*(R,B,ae,De,tt,dt){const $t=De[tt];try{if($t)yield B[$t];else{const Ln=(yield Ns(ae)).find(Qn=>Qn.measurementId===tt);Ln&&(yield B[Ln.appId])}}catch(tn){Zi.error(tn)}R("config",tt,dt)})).apply(this,arguments)}function bt(R,B,ae,De,tt){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,W.Z)(function*(R,B,ae,De,tt){try{let dt=[];if(tt&&tt.send_to){let $t=tt.send_to;Array.isArray($t)||($t=[$t]);const tn=yield Ns(ae);for(const Ln of $t){const Qn=tn.find(Nn=>Nn.measurementId===Ln),Jn=Qn&&B[Qn.appId];if(!Jn){dt=[];break}dt.push(Jn)}}0===dt.length&&(dt=Object.values(B)),yield Promise.all(dt),R("event",De,tt||{})}catch(dt){Zi.error(dt)}})).apply(this,arguments)}function mo(R){const B=window.document.getElementsByTagName("script");for(const ae of Object.values(B))if(ae.src&&ae.src.includes(Wi)&&ae.src.includes(R))return ae;return null}const qr=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Wo=new class ka{constructor(B={},ae=1e3){this.throttleMetadata=B,this.intervalMillis=ae}getThrottleMetadata(B){return this.throttleMetadata[B]}setThrottleMetadata(B,ae){this.throttleMetadata[B]=ae}deleteThrottleMetadata(B){delete this.throttleMetadata[B]}};function Zo(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function Ql(R){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,W.Z)(function*(R){var B;const{appId:ae,apiKey:De}=R,tt={method:"GET",headers:Zo(De)},dt=Zt.replace("{app-id}",ae),$t=yield fetch(dt,tt);if(200!==$t.status&&304!==$t.status){let tn="";try{const Ln=yield $t.json();(null===(B=Ln.error)||void 0===B?void 0:B.message)&&(tn=Ln.error.message)}catch(Ln){}throw qr.create("config-fetch-failed",{httpStatus:$t.status,responseMessage:tn})}return $t.json()})).apply(this,arguments)}function Wn(R){return fs.apply(this,arguments)}function fs(){return(fs=(0,W.Z)(function*(R,B=Wo,ae){const{appId:De,apiKey:tt,measurementId:dt}=R.options;if(!De)throw qr.create("no-app-id");if(!tt){if(dt)return{measurementId:dt,appId:De};throw qr.create("no-api-key")}const $t=B.getThrottleMetadata(De)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tn=new D;return setTimeout((0,W.Z)(function*(){tn.abort()}),void 0!==ae?ae:6e4),La({appId:De,apiKey:tt,measurementId:dt},$t,tn,B)})).apply(this,arguments)}function La(R,B,ae){return ti.apply(this,arguments)}function ti(){return(ti=(0,W.Z)(function*(R,{throttleEndTimeMillis:B,backoffCount:ae},De,tt=Wo){var dt,$t;const{appId:tn,measurementId:Ln}=R;try{yield Un(De,B)}catch(Qn){if(Ln)return Zi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ln} provided in the "measurementId" field in the local Firebase config. [${null===(dt=Qn)||void 0===dt?void 0:dt.message}]`),{appId:tn,measurementId:Ln};throw Qn}try{const Qn=yield Ql(R);return tt.deleteThrottleMetadata(tn),Qn}catch(Qn){const Jn=Qn;if(!O(Jn)){if(tt.deleteThrottleMetadata(tn),Ln)return Zi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ln} provided in the "measurementId" field in the local Firebase config. [${null==Jn?void 0:Jn.message}]`),{appId:tn,measurementId:Ln};throw Qn}const Nn=503===Number(null===($t=null==Jn?void 0:Jn.customData)||void 0===$t?void 0:$t.httpStatus)?(0,_e.$s)(ae,tt.intervalMillis,30):(0,_e.$s)(ae,tt.intervalMillis),Sr={throttleEndTimeMillis:Date.now()+Nn,backoffCount:ae+1};return tt.setThrottleMetadata(tn,Sr),Zi.debug(`Calling attemptFetch again in ${Nn} millis`),La(R,Sr,De,tt)}})).apply(this,arguments)}function Un(R,B){return new Promise((ae,De)=>{const tt=Math.max(B-Date.now(),0),dt=setTimeout(ae,tt);R.addEventListener(()=>{clearTimeout(dt),De(qr.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}function O(R){if(!(R instanceof _e.ZR&&R.customData))return!1;const B=Number(R.customData.httpStatus);return 429===B||500===B||503===B||504===B}class D{constructor(){this.listeners=[]}addEventListener(B){this.listeners.push(B)}abort(){this.listeners.forEach(B=>B())}}let C,yi;function F(){return(F=(0,W.Z)(function*(R,B,ae,De,tt){if(tt&&tt.global)R("event",ae,De);else{const dt=yield B;R("event",ae,Object.assign(Object.assign({},De),{send_to:dt}))}})).apply(this,arguments)}function er(R){yi=R}function yo(R){C=R}function Ko(){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,W.Z)(function*(){var R;if(!(0,_e.hl)())return Zi.warn(qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch(B){return Zi.warn(qr.create("indexeddb-unavailable",{errorInfo:null===(R=B)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function Fa(){return(Fa=(0,W.Z)(function*(R,B,ae,De,tt,dt,$t){var tn;const Ln=Wn(R);Ln.then(Ui=>{ae[Ui.measurementId]=Ui.appId,R.options.measurementId&&Ui.measurementId!==R.options.measurementId&&Zi.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Ui.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ui=>Zi.error(Ui)),B.push(Ln);const Qn=Ko().then(Ui=>{if(Ui)return De.getId()}),[Jn,Nn]=yield Promise.all([Ln,Qn]);mo(dt)||wn(dt,Jn.measurementId),yi&&(tt("consent","default",yi),er(void 0)),tt("js",new Date);const Sr=null!==(tn=null==$t?void 0:$t.config)&&void 0!==tn?tn:{};return Sr.origin="firebase",Sr.update=!0,null!=Nn&&(Sr[po]=Nn),tt("config",Jn.measurementId,Sr),C&&(tt("set",C),yo(void 0)),Jn.measurementId})).apply(this,arguments)}class yt{constructor(B){this.app=B}_delete(){return delete Yr[this.app.options.appId],Promise.resolve()}}let Yr={},Js=[];const Va={};let ua,lr,Ao="dataLayer",Ua=!1;function Xl(R,B,ae){!function gl(){const R=[];if((0,_e.ru)()&&R.push("This is a browser extension environment."),(0,_e.zI)()||R.push("Cookies are not available."),R.length>0){const B=R.map((De,tt)=>`(${tt+1}) ${De}`).join(" "),ae=qr.create("invalid-analytics-context",{errorInfo:B});Zi.warn(ae.message)}}();const De=R.options.appId;if(!De)throw qr.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw qr.create("no-api-key");Zi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yr[De])throw qr.create("already-exists",{id:De});if(!Ua){!function Dn(R){let B=[];Array.isArray(window[R])?B=window[R]:window[R]=B}(Ao);const{wrappedGtag:dt,gtagCore:$t}=function Nl(R,B,ae,De,tt){let dt=function(...$t){window[De].push(arguments)};return window[tt]&&"function"==typeof window[tt]&&(dt=window[tt]),window[tt]=function ar(R,B,ae,De){function dt(){return(dt=(0,W.Z)(function*($t,tn,Ln){try{"event"===$t?yield bt(R,B,ae,tn,Ln):"config"===$t?yield zo(R,B,ae,De,tn,Ln):"consent"===$t?R("consent","update",Ln):R("set",tn)}catch(Qn){Zi.error(Qn)}})).apply(this,arguments)}return function tt($t,tn,Ln){return dt.apply(this,arguments)}}(dt,R,B,ae),{gtagCore:dt,wrappedGtag:window[tt]}}(Yr,Js,Va,Ao,"gtag");lr=dt,ua=$t,Ua=!0}return Yr[De]=function ks(R,B,ae,De,tt,dt,$t){return Fa.apply(this,arguments)}(R,Js,Va,B,ua,Ao,ae),new yt(R)}function ca(){return xu.apply(this,arguments)}function xu(){return(xu=(0,W.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch(R){return!1}})).apply(this,arguments)}const cr="@firebase/analytics";!function el(){(0,Te._registerComponent)(new Ne.wA(Go,(B,{options:ae})=>Xl(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),ae),"PUBLIC")),(0,Te._registerComponent)(new Ne.wA("analytics-internal",function R(B){try{const ae=B.getProvider(Go).getImmediate();return{logEvent:(De,tt,dt)=>function vo(R,B,ae,De){R=(0,_e.m9)(R),function L(R,B,ae,De,tt){return F.apply(this,arguments)}(lr,Yr[R.app.options.appId],B,ae,De).catch(tt=>Zi.error(tt))}(ae,De,tt,dt)}}catch(ae){throw qr.create("interop-component-reg-failed",{reason:ae})}},"PRIVATE")),(0,Te.registerVersion)(cr,"0.8.4"),(0,Te.registerVersion)(cr,"0.8.4","esm2017")}();var tl=x(233),dr=x(4986),Ir=x(8505),Cs=x(9468),eu=x(5363);const Yo=new g.GfV("7.5.0"),nl="__angularfire_symbol__analyticsIsSupportedValue",ps="__angularfire_symbol__analyticsIsSupported",da="__angularfire_symbol__remoteConfigIsSupportedValue",il="__angularfire_symbol__remoteConfigIsSupported",tu="__angularfire_symbol__messagingIsSupportedValue",ha="__angularfire_symbol__messagingIsSupported";function pa(R,B,ae){if(B){if(1===B.length)return B[0];const dt=B.filter($t=>$t.app===ae);if(1===dt.length)return dt[0]}return ae.container.getProvider(R).getImmediate({optional:!0})}globalThis[ps]||(globalThis[ps]=ca().then(R=>globalThis[nl]=R).catch(()=>globalThis[nl]=!1)),globalThis[ha]||(globalThis[ha]=Pa().then(R=>globalThis[tu]=R).catch(()=>globalThis[tu]=!1)),globalThis[il]||(globalThis[il]=Fo().then(R=>globalThis[da]=R).catch(()=>globalThis[da]=!1));const Ou=(R,B)=>{const ae=B?[B]:(0,d.C6)(),De=[];return ae.forEach(tt=>{tt.container.getProvider(R).instances.forEach($t=>{De.includes($t)||De.push($t)})}),De};function eo(){}class nu{constructor(B,ae=tl.N){this.zone=B,this.delegate=ae}now(){return this.delegate.now()}schedule(B,ae,De){const tt=this.zone;return this.delegate.schedule(function($t){tt.runGuarded(()=>{B.apply(this,[$t])})},ae,De)}}class Qo{constructor(B){this.zone=B,this.task=null}call(B,ae){const De=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eo,{},eo,eo)),ae.pipe((0,Ir.b)({next:De,complete:De,error:De})).subscribe(B).add(De)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fl=(()=>{class R{constructor(ae){this.ngZone=ae,this.outsideAngular=ae.runOutsideAngular(()=>new nu(Zone.current)),this.insideAngular=ae.run(()=>new nu(Zone.current,dr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(ae){return new(ae||R)(g.LFG(g.R0b))},R.\u0275prov=g.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Ar(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function ma(R){return Ar(),function rl(R){return function(ae){return(ae=ae.lift(new Qo(R.ngZone))).pipe((0,Cs.R)(R.outsideAngular),(0,eu.Q)(R.insideAngular))}}(Ar())(R)}},8247:(qt,Ze,x)=>{x.d(Ze,{$:()=>H,A:()=>ue,B:()=>nt,G:()=>fi,H:()=>ni,J:()=>ds,L:()=>de,M:()=>Cr,N:()=>Is,P:()=>nl,Q:()=>bs,R:()=>tr,T:()=>Qa,U:()=>_s,V:()=>Br,W:()=>Zr,X:()=>aa,Y:()=>Cn,Z:()=>ai,_:()=>ri,a:()=>Na,a0:()=>En,a1:()=>Es,a2:()=>Bo,a3:()=>Ht,a4:()=>Ol,a5:()=>Ia,a6:()=>Ps,a7:()=>Aa,a8:()=>Ml,a9:()=>Pl,aA:()=>fe,aB:()=>Ui,aC:()=>ic,aD:()=>iu,aE:()=>Kt,aI:()=>Zo,aL:()=>Wr,aa:()=>co,ab:()=>To,ac:()=>Rs,af:()=>Oa,ag:()=>fl,ah:()=>Ma,ak:()=>Kr,al:()=>pl,an:()=>Wi,ao:()=>sn,ap:()=>et,aq:()=>kt,ar:()=>Ae,as:()=>pt,at:()=>sl,au:()=>Fs,av:()=>gn,aw:()=>me,ax:()=>Y,ay:()=>Ha,az:()=>Ge,b:()=>qr,c:()=>xo,d:()=>nu,e:()=>Ou,f:()=>ae,g:()=>Ln,h:()=>dt,i:()=>Qs,j:()=>Nn,k:()=>xr,l:()=>Lr,m:()=>ku,o:()=>ce,r:()=>tl,s:()=>qo,u:()=>eu});var g=x(5861),d=x(2090),W=x(9681),Te=x(1877),_e=x(655),Ne=x(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ue={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const nt=function ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ht=function lt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new d.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new Te.Yd("@firebase/auth");function Be(T,...y){rt.logLevel<=Te.in.ERROR&&rt.error(`Auth (${W.SDK_VERSION}): ${T}`,...y)}function pt(T,...y){throw Tt(T,...y)}function me(T,...y){return Tt(T,...y)}function we(T,y,_){const S=Object.assign(Object.assign({},ht()),{[y]:_});return new d.LL("auth","Firebase",S).create(y,{appName:T.name})}function Xe(T,y,_){if(!(y instanceof _))throw _.name!==y.constructor.name&&pt(T,"argument-error"),we(T,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tt(T,...y){if("string"!=typeof T){const _=y[0],S=[...y.slice(1)];return S[0]&&(S[0].appName=T.name),T._errorFactory.create(_,...S)}return ut.create(T,...y)}function Y(T,y,..._){if(!T)throw Tt(y,..._)}function qe(T){const y="INTERNAL ASSERTION FAILED: "+T;throw Be(y),new Error(y)}function et(T,y){T||qe(y)}const Ve=new Map;function Ge(T){et(T instanceof Function,"Expected a class definition");let y=Ve.get(T);return y?(et(y instanceof T,"Instance stored in cache mismatched with class"),y):(y=new T,Ve.set(T,y),y)}function it(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function Nt(){return"http:"===on()||"https:"===on()}function on(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class q{constructor(y,_){this.shortDelay=y,this.longDelay=_,et(_>y,"Short delay should be less than long delay!"),this.isMobile=(0,d.uI)()||(0,d.b$)()}get(){return function gt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nt()||(0,d.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Se(T,y){et(T.emulator,"Emulator should always be set here");const{url:_}=T.emulator;return y?`${_}${y.startsWith("/")?y.slice(1):y}`:_}class Ke{static initialize(y,_,S){this.fetchImpl=y,_&&(this.headersImpl=_),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Gt=new q(3e4,6e4);function Xt(T,y){return T.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:T.tenantId}):y}function hn(T,y,_,S){return In.apply(this,arguments)}function In(){return(In=(0,g.Z)(function*(T,y,_,S,Q={}){return zn(T,Q,(0,g.Z)(function*(){let pe={},st={};S&&("GET"===y?st=S:pe={body:JSON.stringify(S)});const Wt=(0,d.xO)(Object.assign({key:T.config.apiKey},st)).slice(1),en=yield T._getAdditionalHeaders();return en["Content-Type"]="application/json",T.languageCode&&(en["X-Firebase-Locale"]=T.languageCode),Ke.fetch()(ei(T,T.config.apiHost,_,Wt),Object.assign({method:y,headers:en,referrerPolicy:"no-referrer"},pe))}))})).apply(this,arguments)}function zn(T,y,_){return di.apply(this,arguments)}function di(){return(di=(0,g.Z)(function*(T,y,_){T._canInitEmulator=!1;const S=Object.assign(Object.assign({},Mt),y);try{const Q=new Ni(T),pe=yield Promise.race([_(),Q.promise]);Q.clearNetworkTimeout();const st=yield pe.json();if("needConfirmation"in st)throw qn(T,"account-exists-with-different-credential",st);if(pe.ok&&!("errorMessage"in st))return st;{const Wt=pe.ok?st.errorMessage:st.error.message,[en,rn]=Wt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===en)throw qn(T,"credential-already-in-use",st);if("EMAIL_EXISTS"===en)throw qn(T,"email-already-in-use",st);if("USER_DISABLED"===en)throw qn(T,"user-disabled",st);const oi=S[en]||en.toLowerCase().replace(/[_\s]+/g,"-");if(rn)throw we(T,oi,rn);pt(T,oi)}}catch(Q){if(Q instanceof d.ZR)throw Q;pt(T,"network-request-failed")}})).apply(this,arguments)}function Kn(T,y,_,S){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,g.Z)(function*(T,y,_,S,Q={}){const pe=yield hn(T,y,_,S,Q);return"mfaPendingCredential"in pe&&pt(T,"multi-factor-auth-required",{_serverResponse:pe}),pe})).apply(this,arguments)}function ei(T,y,_,S){const Q=`${y}${_}?${S}`;return T.config.emulator?Se(T.config,Q):`${T.config.apiScheme}://${Q}`}class Ni{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((_,S)=>{this.timer=setTimeout(()=>S(me(this.auth,"network-request-failed")),Gt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(T,y,_){const S={appName:T.name};_.email&&(S.email=_.email),_.phoneNumber&&(S.phoneNumber=_.phoneNumber);const Q=me(T,y,S);return Q.customData._tokenResponse=_,Q}function un(){return(un=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Oi(T,y){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Jt(T,y){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function hi(T){if(T)try{const y=new Date(Number(T));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function $e(){return($e=(0,g.Z)(function*(T,y=!1){const _=(0,d.m9)(T),S=yield _.getIdToken(y),Q=Ct(S);Y(Q&&Q.exp&&Q.auth_time&&Q.iat,_.auth,"internal-error");const pe="object"==typeof Q.firebase?Q.firebase:void 0,st=null==pe?void 0:pe.sign_in_provider;return{claims:Q,token:S,authTime:hi(Ft(Q.auth_time)),issuedAtTime:hi(Ft(Q.iat)),expirationTime:hi(Ft(Q.exp)),signInProvider:st||null,signInSecondFactor:(null==pe?void 0:pe.sign_in_second_factor)||null}})).apply(this,arguments)}function Ft(T){return 1e3*Number(T)}function Ct(T){var y;const[_,S,Q]=T.split(".");if(void 0===_||void 0===S||void 0===Q)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const pe=(0,d.tV)(S);return pe?JSON.parse(pe):(Be("Failed to decode base64 JWT payload"),null)}catch(pe){return Be("Caught error parsing JWT payload as JSON",null===(y=pe)||void 0===y?void 0:y.toString()),null}}function zt(T,y){return Re.apply(this,arguments)}function Re(){return(Re=(0,g.Z)(function*(T,y,_=!1){if(_)return y;try{return yield y}catch(S){throw S instanceof d.ZR&&xe(S)&&T.auth.currentUser===T&&(yield T.auth.signOut()),S}})).apply(this,arguments)}function xe({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}class Ee{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var _;if(y){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const Q=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(y=!1){var _=this;if(!this.isRunning)return;const S=this.getInterval(y);this.timerId=setTimeout((0,g.Z)(function*(){yield _.iteration()}),S)}iteration(){var y=this;return(0,g.Z)(function*(){var _;try{yield y.user.getIdToken(!0)}catch(S){return void("auth/network-request-failed"===(null===(_=S)||void 0===_?void 0:_.code)&&y.schedule(!0))}y.schedule()})()}}class We{constructor(y,_){this.createdAt=y,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=hi(this.lastLoginAt),this.creationTime=hi(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _t(T){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,g.Z)(function*(T){var y;const _=T.auth,S=yield T.getIdToken(),Q=yield zt(T,Jt(_,{idToken:S}));Y(null==Q?void 0:Q.users.length,_,"internal-error");const pe=Q.users[0];T._notifyReloadListener(pe);const st=(null===(y=pe.providerUserInfo)||void 0===y?void 0:y.length)?ln(pe.providerUserInfo):[],Wt=_n(T.providerData,st),oi=!!T.isAnonymous&&!(T.email&&pe.passwordHash||(null==Wt?void 0:Wt.length)),_r={uid:pe.localId,displayName:pe.displayName||null,photoURL:pe.photoUrl||null,email:pe.email||null,emailVerified:pe.emailVerified||!1,phoneNumber:pe.phoneNumber||null,tenantId:pe.tenantId||null,providerData:Wt,metadata:new We(pe.createdAt,pe.lastLoginAt),isAnonymous:oi};Object.assign(T,_r)})).apply(this,arguments)}function pn(){return(pn=(0,g.Z)(function*(T){const y=(0,d.m9)(T);yield _t(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function _n(T,y){return[...T.filter(S=>!y.some(Q=>Q.providerId===S.providerId)),...y]}function ln(T){return T.map(y=>{var{providerId:_}=y,S=(0,_e._T)(y,["providerId"]);return{providerId:_,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function he(){return(he=(0,g.Z)(function*(T,y){const _=yield zn(T,{},(0,g.Z)(function*(){const S=(0,d.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:Q,apiKey:pe}=T.config,st=ei(T,Q,"/v1/token",`key=${pe}`),Wt=yield T._getAdditionalHeaders();return Wt["Content-Type"]="application/x-www-form-urlencoded",Ke.fetch()(st,{method:"POST",headers:Wt,body:S})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class be{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Y(y.idToken,"internal-error"),Y(void 0!==y.idToken,"internal-error"),Y(void 0!==y.refreshToken,"internal-error");const _="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function Vt(T){const y=Ct(T);return Y(y,"internal-error"),Y(void 0!==y.exp,"internal-error"),Y(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,_)}getToken(y,_=!1){var S=this;return(0,g.Z)(function*(){return Y(!S.accessToken||S.refreshToken,y,"user-token-expired"),_||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(y,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,_){var S=this;return(0,g.Z)(function*(){const{accessToken:Q,refreshToken:pe,expiresIn:st}=yield function z(T,y){return he.apply(this,arguments)}(y,_);S.updateTokensAndExpiration(Q,pe,Number(st))})()}updateTokensAndExpiration(y,_,S){this.refreshToken=_||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(y,_){const{refreshToken:S,accessToken:Q,expirationTime:pe}=_,st=new be;return S&&(Y("string"==typeof S,"internal-error",{appName:y}),st.refreshToken=S),Q&&(Y("string"==typeof Q,"internal-error",{appName:y}),st.accessToken=Q),pe&&(Y("number"==typeof pe,"internal-error",{appName:y}),st.expirationTime=pe),st}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new be,this.toJSON())}_performRefresh(){return qe("not implemented")}}function Ue(T,y){Y("string"==typeof T||void 0===T,"internal-error",{appName:y})}class mt{constructor(y){var{uid:_,auth:S,stsTokenManager:Q}=y,pe=(0,_e._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=S,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=pe.displayName||null,this.email=pe.email||null,this.emailVerified=pe.emailVerified||!1,this.phoneNumber=pe.phoneNumber||null,this.photoURL=pe.photoURL||null,this.isAnonymous=pe.isAnonymous||!1,this.tenantId=pe.tenantId||null,this.providerData=pe.providerData?[...pe.providerData]:[],this.metadata=new We(pe.createdAt||void 0,pe.lastLoginAt||void 0)}getIdToken(y){var _=this;return(0,g.Z)(function*(){const S=yield zt(_,_.stsTokenManager.getToken(_.auth,y));return Y(S,_.auth,"internal-error"),_.accessToken!==S&&(_.accessToken=S,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),S})()}getIdTokenResult(y){return function Le(T){return $e.apply(this,arguments)}(this,y)}reload(){return function wt(T){return pn.apply(this,arguments)}(this)}_assign(y){this!==y&&(Y(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(_=>Object.assign({},_)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new mt(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,_=!1){var S=this;return(0,g.Z)(function*(){let Q=!1;y.idToken&&y.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(y),Q=!0),_&&(yield _t(S)),yield S.auth._persistUserIfCurrent(S),Q&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var y=this;return(0,g.Z)(function*(){const _=yield y.getIdToken();return yield zt(y,function Fi(T,y){return un.apply(this,arguments)}(y.auth,{idToken:_})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,_){var S,Q,pe,st,Wt,en,rn,oi;const _r=null!==(S=_.displayName)&&void 0!==S?S:void 0,Hs=null!==(Q=_.email)&&void 0!==Q?Q:void 0,br=null!==(pe=_.phoneNumber)&&void 0!==pe?pe:void 0,As=null!==(st=_.photoURL)&&void 0!==st?st:void 0,au=null!==(Wt=_.tenantId)&&void 0!==Wt?Wt:void 0,ol=null!==(en=_._redirectEventId)&&void 0!==en?en:void 0,Nc=null!==(rn=_.createdAt)&&void 0!==rn?rn:void 0,Xo=null!==(oi=_.lastLoginAt)&&void 0!==oi?oi:void 0,{uid:$l,emailVerified:wl,isAnonymous:uc,providerData:kc,stsTokenManager:Sn}=_;Y($l&&Sn,y,"internal-error");const _d=be.fromJSON(this.name,Sn);Y("string"==typeof $l,y,"internal-error"),Ue(_r,y.name),Ue(Hs,y.name),Y("boolean"==typeof wl,y,"internal-error"),Y("boolean"==typeof uc,y,"internal-error"),Ue(br,y.name),Ue(As,y.name),Ue(au,y.name),Ue(ol,y.name),Ue(Nc,y.name),Ue(Xo,y.name);const ss=new mt({uid:$l,auth:y,email:Hs,emailVerified:wl,displayName:_r,isAnonymous:uc,photoURL:As,phoneNumber:br,tenantId:au,stsTokenManager:_d,createdAt:Nc,lastLoginAt:Xo});return kc&&Array.isArray(kc)&&(ss.providerData=kc.map($a=>Object.assign({},$a))),ol&&(ss._redirectEventId=ol),ss}static _fromIdTokenResponse(y,_,S=!1){return(0,g.Z)(function*(){const Q=new be;Q.updateFromServerResponse(_);const pe=new mt({uid:_.localId,auth:y,stsTokenManager:Q,isAnonymous:S});return yield _t(pe),pe})()}}const de=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(_,S){var Q=this;return(0,g.Z)(function*(){Q.storage[_]=S})()}_get(_){var S=this;return(0,g.Z)(function*(){const Q=S.storage[_];return void 0===Q?null:Q})()}_remove(_){var S=this;return(0,g.Z)(function*(){delete S.storage[_]})()}_addListener(_,S){}_removeListener(_,S){}}return T.type="NONE",T})();function fe(T,y,_){return`firebase:${T}:${y}:${_}`}class Me{constructor(y,_,S){this.persistence=y,this.auth=_,this.userKey=S;const{config:Q,name:pe}=this.auth;this.fullUserKey=fe(this.userKey,Q.apiKey,pe),this.fullPersistenceKey=fe("persistence",Q.apiKey,pe),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,g.Z)(function*(){const _=yield y.persistence._get(y.fullUserKey);return _?mt._fromJSON(y.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var _=this;return(0,g.Z)(function*(){if(_.persistence===y)return;const S=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=y,S?_.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,_,S="authUser"){return(0,g.Z)(function*(){if(!_.length)return new Me(Ge(de),y,S);const Q=(yield Promise.all(_.map(function(){var rn=(0,g.Z)(function*(oi){if(yield oi._isAvailable())return oi});return function(oi){return rn.apply(this,arguments)}}()))).filter(rn=>rn);let pe=Q[0]||Ge(de);const st=fe(S,y.config.apiKey,y.name);let Wt=null;for(const rn of _)try{const oi=yield rn._get(st);if(oi){const _r=mt._fromJSON(y,oi);rn!==pe&&(Wt=_r),pe=rn;break}}catch(oi){}const en=Q.filter(rn=>rn._shouldAllowMigration);return pe._shouldAllowMigration&&en.length?(pe=en[0],Wt&&(yield pe._set(st,Wt.toJSON())),yield Promise.all(_.map(function(){var rn=(0,g.Z)(function*(oi){if(oi!==pe)try{yield oi._remove(st)}catch(_r){}});return function(oi){return rn.apply(this,arguments)}}())),new Me(pe,y,S)):new Me(pe,y,S)})()}}function ve(T){const y=T.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(re(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(X(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Ye(y))return"Blackberry";if(Pt(y))return"Webos";if($(y))return"Safari";if((y.includes("chrome/")||ee(y))&&!y.includes("edge/"))return"Chrome";if(Ae(y))return"Android";{const S=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function X(T=(0,d.z$)()){return/firefox\//i.test(T)}function $(T=(0,d.z$)()){const y=T.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function ee(T=(0,d.z$)()){return/crios\//i.test(T)}function re(T=(0,d.z$)()){return/iemobile/i.test(T)}function Ae(T=(0,d.z$)()){return/android/i.test(T)}function Ye(T=(0,d.z$)()){return/blackberry/i.test(T)}function Pt(T=(0,d.z$)()){return/webos/i.test(T)}function kt(T=(0,d.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function gn(T=(0,d.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function vi(T=(0,d.z$)()){return kt(T)||Ae(T)||Pt(T)||Ye(T)||/windows phone/i.test(T)||re(T)}function Ci(T,y=[]){let _;switch(T){case"Browser":_=ve((0,d.z$)());break;case"Worker":_=`${ve((0,d.z$)())}-${T}`;break;default:_=T}const S=y.length?y.join(","):"FirebaseCore-web";return`${_}/JsCore/${W.SDK_VERSION}/${S}`}class Pr{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,_){const S=pe=>new Promise((st,Wt)=>{try{st(y(pe))}catch(en){Wt(en)}});S.onAbort=_,this.queue.push(S);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(y){var _=this;return(0,g.Z)(function*(){var S;if(_.auth.currentUser===y)return;const Q=[];try{for(const pe of _.queue)yield pe(y),pe.onAbort&&Q.push(pe.onAbort)}catch(pe){Q.reverse();for(const st of Q)try{st()}catch(Wt){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(S=pe)||void 0===S?void 0:S.message})}})()}}class Ti{constructor(y,_,S){this.app=y,this.heartbeatServiceProvider=_,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bn(this),this.idTokenSubscription=new Bn(this),this.beforeStateQueue=new Pr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(y,_){var S=this;return _&&(this._popupRedirectResolver=Ge(_)),this._initializationPromise=this.queue((0,g.Z)(function*(){var Q,pe;if(!S._deleted&&(S.persistenceManager=yield Me.create(S,y),!S._deleted)){if(null===(Q=S._popupRedirectResolver)||void 0===Q?void 0:Q._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch(st){}yield S.initializeCurrentUser(_),S.lastNotifiedUid=(null===(pe=S.currentUser)||void 0===pe?void 0:pe.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,g.Z)(function*(){if(y._deleted)return;const _=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||_){if(y.currentUser&&_&&y.currentUser.uid===_.uid)return y._currentUser._assign(_),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(_,!0)}})()}initializeCurrentUser(y){var _=this;return(0,g.Z)(function*(){var S;const Q=yield _.assertedPersistence.getCurrentUser();let pe=Q,st=!1;if(y&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Wt=null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId,en=null==pe?void 0:pe._redirectEventId,rn=yield _.tryRedirectSignIn(y);(!Wt||Wt===en)&&(null==rn?void 0:rn.user)&&(pe=rn.user,st=!0)}if(!pe)return _.directlySetCurrentUser(null);if(!pe._redirectEventId){if(st)try{yield _.beforeStateQueue.runMiddleware(pe)}catch(Wt){pe=Q,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Wt))}return pe?_.reloadAndSetCurrentUserOrClear(pe):_.directlySetCurrentUser(null)}return Y(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===pe._redirectEventId?_.directlySetCurrentUser(pe):_.reloadAndSetCurrentUserOrClear(pe)})()}tryRedirectSignIn(y){var _=this;return(0,g.Z)(function*(){let S=null;try{S=yield _._popupRedirectResolver._completeRedirectFn(_,y,!0)}catch(Q){yield _._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(y){var _=this;return(0,g.Z)(function*(){var S;try{yield _t(y)}catch(Q){if("auth/network-request-failed"!==(null===(S=Q)||void 0===S?void 0:S.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function vt(){if("undefined"==typeof navigator)return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var y=this;return(0,g.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var _=this;return(0,g.Z)(function*(){const S=y?(0,d.m9)(y):null;return S&&Y(S.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(S&&S._clone(_))})()}_updateCurrentUser(y,_=!1){var S=this;return(0,g.Z)(function*(){if(!S._deleted)return y&&Y(S.tenantId===y.tenantId,S,"tenant-id-mismatch"),_||(yield S.beforeStateQueue.runMiddleware(y)),S.queue((0,g.Z)(function*(){yield S.directlySetCurrentUser(y),S.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,g.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var _=this;return this.queue((0,g.Z)(function*(){yield _.assertedPersistence.setPersistence(Ge(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new d.LL("auth","Firebase",y())}onAuthStateChanged(y,_,S){return this.registerStateListener(this.authStateSubscription,y,_,S)}beforeAuthStateChanged(y,_){return this.beforeStateQueue.pushCallback(y,_)}onIdTokenChanged(y,_,S){return this.registerStateListener(this.idTokenSubscription,y,_,S)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,_){var S=this;return(0,g.Z)(function*(){const Q=yield S.getOrInitRedirectPersistenceManager(_);return null===y?Q.removeCurrentUser():Q.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var _=this;return(0,g.Z)(function*(){if(!_.redirectPersistenceManager){const S=y&&Ge(y)||_._popupRedirectResolver;Y(S,_,"argument-error"),_.redirectPersistenceManager=yield Me.create(_,[Ge(S._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(y){var _=this;return(0,g.Z)(function*(){var S,Q;return _._isInitialized&&(yield _.queue((0,g.Z)(function*(){}))),(null===(S=_._currentUser)||void 0===S?void 0:S._redirectEventId)===y?_._currentUser:(null===(Q=_.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===y?_.redirectUser:null})()}_persistUserIfCurrent(y){var _=this;return(0,g.Z)(function*(){if(y===_.currentUser)return _.queue((0,g.Z)(function*(){return _.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(_=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,_,S,Q){if(this._deleted)return()=>{};const pe="function"==typeof _?_:_.next.bind(_),st=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(st,this,"internal-error"),st.then(()=>pe(this.currentUser)),"function"==typeof _?y.addObserver(_,S,Q):y.addObserver(_)}directlySetCurrentUser(y){var _=this;return(0,g.Z)(function*(){_.currentUser&&_.currentUser!==y&&_._currentUser._stopProactiveRefresh(),y&&_.isProactiveRefreshEnabled&&y._startProactiveRefresh(),_.currentUser=y,y?yield _.assertedPersistence.setCurrentUser(y):yield _.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Ci(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,g.Z)(function*(){var _;const S={"X-Client-Version":y.clientVersion};y.app.options.appId&&(S["X-Firebase-gmpid"]=y.app.options.appId);const Q=yield null===(_=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return Q&&(S["X-Firebase-Client"]=Q),S})()}}function Kt(T){return(0,d.m9)(T)}class Bn{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,d.ne)(_=>this.observer=_)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fi(T,y,_){const S=Kt(T);Y(S._canInitEmulator,S,"emulator-config-failed"),Y(/^https?:\/\//.test(y),S,"invalid-emulator-scheme");const Q=!!(null==_?void 0:_.disableWarnings),pe=Hi(y),{host:st,port:Wt}=function Rr(T){const y=Hi(T),_=/(\/\/)?([^?#/]+)/.exec(T.substr(y.length));if(!_)return{host:"",port:null};const S=_[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(S);if(Q){const pe=Q[1];return{host:pe,port:ji(S.substr(pe.length+1))}}{const[pe,st]=S.split(":");return{host:pe,port:ji(st)}}}(y);S.config.emulator={url:`${pe}//${st}${null===Wt?"":`:${Wt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:st,port:Wt,protocol:pe.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function Ji(){function T(){const y=document.createElement("p"),_=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function Hi(T){const y=T.indexOf(":");return y<0?"":T.substr(0,y+1)}function ji(T){if(!T)return null;const y=Number(T);return isNaN(y)?null:y}class ni{constructor(y,_){this.providerId=y,this.signInMethod=_}toJSON(){return qe("not implemented")}_getIdTokenResponse(y){return qe("not implemented")}_linkToIdToken(y,_){return qe("not implemented")}_getReauthenticationResolver(y){return qe("not implemented")}}function Er(T,y){return mi.apply(this,arguments)}function mi(){return(mi=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:resetPassword",Xt(T,y))})).apply(this,arguments)}function On(T,y){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function $i(T,y){return zs.apply(this,arguments)}function zs(){return(zs=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:update",Xt(T,y))})).apply(this,arguments)}function Vi(){return(Vi=(0,g.Z)(function*(T,y){return Kn(T,"POST","/v1/accounts:signInWithPassword",Xt(T,y))})).apply(this,arguments)}function ms(T,y){return as.apply(this,arguments)}function as(){return(as=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:sendOobCode",Xt(T,y))})).apply(this,arguments)}function pi(T,y){return gi.apply(this,arguments)}function gi(){return(gi=(0,g.Z)(function*(T,y){return ms(T,y)})).apply(this,arguments)}function cn(T,y){return ls.apply(this,arguments)}function ls(){return(ls=(0,g.Z)(function*(T,y){return ms(T,y)})).apply(this,arguments)}function Ot(T,y){return qi.apply(this,arguments)}function qi(){return(qi=(0,g.Z)(function*(T,y){return ms(T,y)})).apply(this,arguments)}function _i(T,y){return us.apply(this,arguments)}function us(){return(us=(0,g.Z)(function*(T,y){return ms(T,y)})).apply(this,arguments)}function sr(){return(sr=(0,g.Z)(function*(T,y){return Kn(T,"POST","/v1/accounts:signInWithEmailLink",Xt(T,y))})).apply(this,arguments)}function Nr(){return(Nr=(0,g.Z)(function*(T,y){return Kn(T,"POST","/v1/accounts:signInWithEmailLink",Xt(T,y))})).apply(this,arguments)}class Ws extends ni{constructor(y,_,S,Q=null){super("password",S),this._email=y,this._password=_,this._tenantId=Q}static _fromEmailAndPassword(y,_){return new Ws(y,_,"password")}static _fromEmailAndCode(y,_,S=null){return new Ws(y,_,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(y){var _=this;return(0,g.Z)(function*(){switch(_.signInMethod){case"password":return function Xi(T,y){return Vi.apply(this,arguments)}(y,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function cs(T,y){return sr.apply(this,arguments)}(y,{email:_._email,oobCode:_._password});default:pt(y,"internal-error")}})()}_linkToIdToken(y,_){var S=this;return(0,g.Z)(function*(){switch(S.signInMethod){case"password":return On(y,{idToken:_,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function ys(T,y){return Nr.apply(this,arguments)}(y,{idToken:_,email:S._email,oobCode:S._password});default:pt(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Gi(T,y){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,g.Z)(function*(T,y){return Kn(T,"POST","/v1/accounts:signInWithIdp",Xt(T,y))})).apply(this,arguments)}class ds extends ni{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const _=new ds(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(_.idToken=y.idToken),y.accessToken&&(_.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(_.nonce=y.nonce),y.pendingToken&&(_.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(_.accessToken=y.oauthToken,_.secret=y.oauthTokenSecret):pt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:S,signInMethod:Q}=_,pe=(0,_e._T)(_,["providerId","signInMethod"]);if(!S||!Q)return null;const st=new ds(S,Q);return st.idToken=pe.idToken||void 0,st.accessToken=pe.accessToken||void 0,st.secret=pe.secret,st.nonce=pe.nonce,st.pendingToken=pe.pendingToken||null,st}_getIdTokenResponse(y){return Gi(y,this.buildRequest())}_linkToIdToken(y,_){const S=this.buildRequest();return S.idToken=_,Gi(y,S)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,Gi(y,_)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),y.postBody=(0,d.xO)(_)}return y}}function ao(T,y){return lo.apply(this,arguments)}function lo(){return(lo=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:sendVerificationCode",Xt(T,y))})).apply(this,arguments)}function Xr(){return(Xr=(0,g.Z)(function*(T,y){return Kn(T,"POST","/v1/accounts:signInWithPhoneNumber",Xt(T,y))})).apply(this,arguments)}function Os(){return(Os=(0,g.Z)(function*(T,y){const _=yield Kn(T,"POST","/v1/accounts:signInWithPhoneNumber",Xt(T,y));if(_.temporaryProof)throw qn(T,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Ta={USER_NOT_FOUND:"user-not-found"};function Lo(){return(Lo=(0,g.Z)(function*(T,y){return Kn(T,"POST","/v1/accounts:signInWithPhoneNumber",Xt(T,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Ta)})).apply(this,arguments)}class vs extends ni{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,_){return new vs({verificationId:y,verificationCode:_})}static _fromTokenResponse(y,_){return new vs({phoneNumber:y,temporaryProof:_})}_getIdTokenResponse(y){return function ra(T,y){return Xr.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,_){return function wr(T,y){return Os.apply(this,arguments)}(y,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function sa(T,y){return Lo.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:_,verificationId:S,verificationCode:Q}=this.params;return y&&_?{temporaryProof:y,phoneNumber:_}:{sessionInfo:S,code:Q}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:_,verificationCode:S,phoneNumber:Q,temporaryProof:pe}=y;return S||_||Q||pe?new vs({verificationId:_,verificationCode:S,phoneNumber:Q,temporaryProof:pe}):null}}class or{constructor(y){var _,S,Q,pe,st,Wt;const en=(0,d.zd)((0,d.pd)(y)),rn=null!==(_=en.apiKey)&&void 0!==_?_:null,oi=null!==(S=en.oobCode)&&void 0!==S?S:null,_r=function Ya(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=en.mode)&&void 0!==Q?Q:null);Y(rn&&oi&&_r,"argument-error"),this.apiKey=rn,this.operation=_r,this.code=oi,this.continueUrl=null!==(pe=en.continueUrl)&&void 0!==pe?pe:null,this.languageCode=null!==(st=en.languageCode)&&void 0!==st?st:null,this.tenantId=null!==(Wt=en.tenantId)&&void 0!==Wt?Wt:null}static parseLink(y){const _=function Ks(T){const y=(0,d.zd)((0,d.pd)(T)).link,_=y?(0,d.zd)((0,d.pd)(y)).deep_link_id:null,S=(0,d.zd)((0,d.pd)(T)).deep_link_id;return(S?(0,d.zd)((0,d.pd)(S)).link:null)||S||_||y||T}(y);try{return new or(_)}catch(S){return null}}}let Cr=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(_,S){return Ws._fromEmailAndPassword(_,S)}static credentialWithLink(_,S){const Q=or.parseLink(S);return Y(Q,"argument-error"),Ws._fromEmailAndCode(_,Q.code,Q.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class Ds{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Rn extends Ds{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class _s extends Rn{static credentialFromJSON(y){const _="string"==typeof y?JSON.parse(y):y;return Y("providerId"in _&&"signInMethod"in _,"argument-error"),ds._fromParams(_)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return Y(y.idToken||y.accessToken,"argument-error"),ds._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return _s.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return _s.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:_,oauthAccessToken:S,oauthTokenSecret:Q,pendingToken:pe,nonce:st,providerId:Wt}=y;if(!S&&!Q&&!_&&!pe||!Wt)return null;try{return new _s(Wt)._credential({idToken:_,accessToken:S,nonce:st,pendingToken:pe})}catch(en){return null}}}let Is=(()=>{class T extends Rn{constructor(){super("facebook.com")}static credential(_){return ds._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return T.credential(_.oauthAccessToken)}catch(S){return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),bs=(()=>{class T extends Rn{constructor(){super("google.com"),this.addScope("profile")}static credential(_,S){return ds._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:S})}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:S,oauthAccessToken:Q}=_;if(!S&&!Q)return null;try{return T.credential(S,Q)}catch(pe){return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),Qa=(()=>{class T extends Rn{constructor(){super("github.com")}static credential(_){return ds._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return T.credential(_.oauthAccessToken)}catch(S){return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Wr extends ni{constructor(y,_){super(y,y),this.pendingToken=_}_getIdTokenResponse(y){return Gi(y,this.buildRequest())}_linkToIdToken(y,_){const S=this.buildRequest();return S.idToken=_,Gi(y,S)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,Gi(y,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:S,signInMethod:Q,pendingToken:pe}=_;return S&&Q&&pe&&S===Q?new Wr(S,pe):null}static _create(y,_){return new Wr(y,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Br extends Ds{constructor(y){Y(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return Br.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return Br.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const _=Wr.fromJSON(y);return Y(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:_,providerId:S}=y;if(!_||!S)return null;try{return Wr._create(S,_)}catch(Q){return null}}}let Zr=(()=>{class T extends Rn{constructor(){super("twitter.com")}static credential(_,S){return ds._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:S})}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:S,oauthTokenSecret:Q}=_;if(!S||!Q)return null;try{return T.credential(S,Q)}catch(pe){return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Ms(T,y){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,g.Z)(function*(T,y){return Kn(T,"POST","/v1/accounts:signUp",Xt(T,y))})).apply(this,arguments)}class Tr{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,_,S,Q=!1){return(0,g.Z)(function*(){const pe=yield mt._fromIdTokenResponse(y,S,Q),st=Uo(S);return new Tr({user:pe,providerId:st,_tokenResponse:S,operationType:_})})()}static _forOperation(y,_,S){return(0,g.Z)(function*(){yield y._updateTokensIfNecessary(S,!0);const Q=Uo(S);return new Tr({user:y,providerId:Q,_tokenResponse:S,operationType:_})})()}}function Uo(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function aa(T){return es.apply(this,arguments)}function es(){return(es=(0,g.Z)(function*(T){var y;const _=Kt(T);if(yield _._initializationPromise,null===(y=_.currentUser)||void 0===y?void 0:y.isAnonymous)return new Tr({user:_.currentUser,providerId:null,operationType:"signIn"});const S=yield Ms(_,{returnSecureToken:!0}),Q=yield Tr._fromIdTokenResponse(_,"signIn",S,!0);return yield _._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class kr extends d.ZR{constructor(y,_,S,Q){var pe;super(_.code,_.message),this.operationType=S,this.user=Q,Object.setPrototypeOf(this,kr.prototype),this.customData={appName:y.name,tenantId:null!==(pe=y.tenantId)&&void 0!==pe?pe:void 0,_serverResponse:_.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(y,_,S,Q){return new kr(y,_,S,Q)}}function wo(T,y,_,S){return("reauthenticate"===y?_._getReauthenticationResolver(T):_._getIdTokenResponse(T)).catch(pe=>{throw"auth/multi-factor-auth-required"===pe.code?kr._fromErrorAndOperation(T,pe,y,S):pe})}function qs(T){return new Set(T.map(({providerId:y})=>y).filter(y=>!!y))}function Kr(T,y){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,g.Z)(function*(T,y){const _=(0,d.m9)(T);yield ie(!0,_,y);const{providerUserInfo:S}=yield Oi(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[y]}),Q=qs(S||[]);return _.providerData=_.providerData.filter(pe=>Q.has(pe.providerId)),Q.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Ai(T,y){return U.apply(this,arguments)}function U(){return(U=(0,g.Z)(function*(T,y,_=!1){const S=yield zt(T,y._linkToIdToken(T.auth,yield T.getIdToken()),_);return Tr._forOperation(T,"link",S)})).apply(this,arguments)}function ie(T,y,_){return V.apply(this,arguments)}function V(){return(V=(0,g.Z)(function*(T,y,_){yield _t(y);const Q=!1===T?"provider-already-linked":"no-such-provider";Y(qs(y.providerData).has(_)===T,y.auth,Q)})).apply(this,arguments)}function oe(T,y){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,g.Z)(function*(T,y,_=!1){var S;const{auth:Q}=T,pe="reauthenticate";try{const st=yield zt(T,wo(Q,pe,y,T),_);Y(st.idToken,Q,"internal-error");const Wt=Ct(st.idToken);Y(Wt,Q,"internal-error");const{sub:en}=Wt;return Y(T.uid===en,Q,"user-mismatch"),Tr._forOperation(T,pe,st)}catch(st){throw"auth/user-not-found"===(null===(S=st)||void 0===S?void 0:S.code)&&pt(Q,"user-mismatch"),st}})).apply(this,arguments)}function Et(T,y){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,g.Z)(function*(T,y,_=!1){const S="signIn",Q=yield wo(T,S,y),pe=yield Tr._fromIdTokenResponse(T,S,Q);return _||(yield T._updateCurrentUser(pe.user)),pe})).apply(this,arguments)}function Cn(T,y){return kn.apply(this,arguments)}function kn(){return(kn=(0,g.Z)(function*(T,y){return Et(Kt(T),y)})).apply(this,arguments)}function ai(T,y){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,g.Z)(function*(T,y){const _=(0,d.m9)(T);return yield ie(!1,_,y.providerId),Ai(_,y)})).apply(this,arguments)}function ri(T,y){return zi.apply(this,arguments)}function zi(){return(zi=(0,g.Z)(function*(T,y){return oe((0,d.m9)(T),y)})).apply(this,arguments)}function Si(T,y){return Di.apply(this,arguments)}function Di(){return(Di=(0,g.Z)(function*(T,y){return Kn(T,"POST","/v1/accounts:signInWithCustomToken",Xt(T,y))})).apply(this,arguments)}function H(T,y){return N.apply(this,arguments)}function N(){return(N=(0,g.Z)(function*(T,y){const _=Kt(T),S=yield Si(_,{token:y,returnSecureToken:!0}),Q=yield Tr._fromIdTokenResponse(_,"signIn",S);return yield _._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class M{constructor(y,_){this.factorId=y,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(y,_){return"phoneInfo"in _?se._fromServerResponse(y,_):pt(y,"internal-error")}}class se extends M{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,_){return new se(_)}}function At(T,y,_){var S;Y((null===(S=_.url)||void 0===S?void 0:S.length)>0,T,"invalid-continue-uri"),Y(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),y.continueUrl=_.url,y.dynamicLinkDomain=_.dynamicLinkDomain,y.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Y(_.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),y.iOSBundleId=_.iOS.bundleId),_.android&&(Y(_.android.packageName.length>0,T,"missing-android-pkg-name"),y.androidInstallApp=_.android.installApp,y.androidMinimumVersionCode=_.android.minimumVersion,y.androidPackageName=_.android.packageName)}function En(T,y,_){return wi.apply(this,arguments)}function wi(){return(wi=(0,g.Z)(function*(T,y,_){const S=(0,d.m9)(T),Q={requestType:"PASSWORD_RESET",email:y};_&&At(S,Q,_),yield cn(S,Q)})).apply(this,arguments)}function Es(T,y,_){return ts.apply(this,arguments)}function ts(){return(ts=(0,g.Z)(function*(T,y,_){yield Er((0,d.m9)(T),{oobCode:y,newPassword:_})})).apply(this,arguments)}function Bo(T,y){return Da.apply(this,arguments)}function Da(){return(Da=(0,g.Z)(function*(T,y){yield $i((0,d.m9)(T),{oobCode:y})})).apply(this,arguments)}function Ht(T,y){return li.apply(this,arguments)}function li(){return(li=(0,g.Z)(function*(T,y){const _=(0,d.m9)(T),S=yield Er(_,{oobCode:y}),Q=S.requestType;switch(Y(Q,_,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(S.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(S.mfaInfo,_,"internal-error");default:Y(S.email,_,"internal-error")}let pe=null;return S.mfaInfo&&(pe=M._fromServerResponse(Kt(_),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:pe},operation:Q}})).apply(this,arguments)}function Ol(T,y){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,g.Z)(function*(T,y){const{data:_}=yield Ht((0,d.m9)(T),y);return _.email})).apply(this,arguments)}function Ia(T,y,_){return Co.apply(this,arguments)}function Co(){return(Co=(0,g.Z)(function*(T,y,_){const S=Kt(T),Q=yield Ms(S,{returnSecureToken:!0,email:y,password:_}),pe=yield Tr._fromIdTokenResponse(S,"signIn",Q);return yield S._updateCurrentUser(pe.user),pe})).apply(this,arguments)}function Ps(T,y,_){return Cn((0,d.m9)(T),Cr.credential(y,_))}function Aa(T,y,_){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,g.Z)(function*(T,y,_){const S=(0,d.m9)(T),Q={requestType:"EMAIL_SIGNIN",email:y};Y(_.handleCodeInApp,S,"argument-error"),_&&At(S,Q,_),yield Ot(S,Q)})).apply(this,arguments)}function Ml(T,y){const _=or.parseLink(y);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function Pl(T,y,_){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,g.Z)(function*(T,y,_){const S=(0,d.m9)(T),Q=Cr.credentialWithLink(y,_||it());return Y(Q._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),Cn(S,Q)})).apply(this,arguments)}function uo(T,y){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:createAuthUri",Xt(T,y))})).apply(this,arguments)}function co(T,y){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,g.Z)(function*(T,y){const S={identifier:y,continueUri:Nt()?it():"http://localhost"},{signinMethods:Q}=yield uo((0,d.m9)(T),S);return Q||[]})).apply(this,arguments)}function To(T,y){return hs.apply(this,arguments)}function hs(){return(hs=(0,g.Z)(function*(T,y){const _=(0,d.m9)(T),Q={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};y&&At(_.auth,Q,y);const{email:pe}=yield pi(_.auth,Q);pe!==T.email&&(yield T.reload())})).apply(this,arguments)}function Rs(T,y,_){return Do.apply(this,arguments)}function Do(){return(Do=(0,g.Z)(function*(T,y,_){const S=(0,d.m9)(T),pe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:y};_&&At(S.auth,pe,_);const{email:st}=yield _i(S.auth,pe);st!==T.email&&(yield T.reload())})).apply(this,arguments)}function xa(T,y){return ws.apply(this,arguments)}function ws(){return(ws=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Oa(T,y){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,g.Z)(function*(T,{displayName:y,photoURL:_}){if(void 0===y&&void 0===_)return;const S=(0,d.m9)(T),pe={idToken:yield S.getIdToken(),displayName:y,photoUrl:_,returnSecureToken:!0},st=yield zt(S,xa(S.auth,pe));S.displayName=st.displayName||null,S.photoURL=st.photoUrl||null;const Wt=S.providerData.find(({providerId:en})=>"password"===en);Wt&&(Wt.displayName=S.displayName,Wt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(st)})).apply(this,arguments)}function fl(T,y){return Io((0,d.m9)(T),y,null)}function Ma(T,y){return Io((0,d.m9)(T),null,y)}function Io(T,y,_){return jr.apply(this,arguments)}function jr(){return(jr=(0,g.Z)(function*(T,y,_){const{auth:S}=T,pe={idToken:yield T.getIdToken(),returnSecureToken:!0};y&&(pe.email=y),_&&(pe.password=_);const st=yield zt(T,On(S,pe));yield T._updateTokensIfNecessary(st,!0)})).apply(this,arguments)}class la{constructor(y,_,S={}){this.isNewUser=y,this.providerId=_,this.profile=S}}class jo extends la{constructor(y,_,S,Q){super(y,_,S),this.username=Q}}class $o extends la{constructor(y,_){super(y,"facebook.com",_)}}class Pa extends jo{constructor(y,_){super(y,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class fo extends la{constructor(y,_){super(y,"google.com",_)}}class Su extends jo{constructor(y,_,S){super(y,"twitter.com",_,S)}}function pl(T){const{user:y,_tokenResponse:_}=T;return y.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function ho(T){var y,_;if(!T)return null;const{providerId:S}=T,Q=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},pe=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!S&&(null==T?void 0:T.idToken)){const st=null===(_=null===(y=Ct(T.idToken))||void 0===y?void 0:y.firebase)||void 0===_?void 0:_.sign_in_provider;if(st)return new la(pe,"anonymous"!==st&&"custom"!==st?st:null)}if(!S)return null;switch(S){case"facebook.com":return new $o(pe,Q);case"github.com":return new Pa(pe,Q);case"google.com":return new fo(pe,Q);case"twitter.com":return new Su(pe,Q,T.screenName||null);case"custom":case"anonymous":return new la(pe,null);default:return new la(pe,S,Q)}}(_)}class is{constructor(y,_,S){this.type=y,this.credential=_,this.auth=S}static _fromIdtoken(y,_){return new is("enroll",y,_)}static _fromMfaPendingCredential(y){return new is("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var _,S;if(null==y?void 0:y.multiFactorSession){if(null===(_=y.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return is._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(S=y.multiFactorSession)||void 0===S?void 0:S.idToken)return is._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Zt{constructor(y,_,S){this.session=y,this.hints=_,this.signInResolver=S}static _fromError(y,_){const S=Kt(y),Q=_.customData._serverResponse,pe=(Q.mfaInfo||[]).map(Wt=>M._fromServerResponse(S,Wt));Y(Q.mfaPendingCredential,S,"internal-error");const st=is._fromMfaPendingCredential(Q.mfaPendingCredential);return new Zt(st,pe,function(){var Wt=(0,g.Z)(function*(en){const rn=yield en._process(S,st);delete Q.mfaInfo,delete Q.mfaPendingCredential;const oi=Object.assign(Object.assign({},Q),{idToken:rn.idToken,refreshToken:rn.refreshToken});switch(_.operationType){case"signIn":const _r=yield Tr._fromIdTokenResponse(S,_.operationType,oi);return yield S._updateCurrentUser(_r.user),_r;case"reauthenticate":return Y(_.user,S,"internal-error"),Tr._forOperation(_.user,_.operationType,oi);default:pt(S,"internal-error")}});return function(en){return Wt.apply(this,arguments)}}())}resolveSignIn(y){var _=this;return(0,g.Z)(function*(){return _.signInResolver(y)})()}}function Wi(T,y){var _;const S=(0,d.m9)(T),Q=y;return Y(y.customData.operationType,S,"argument-error"),Y(null===(_=Q.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,S,"argument-error"),Zt._fromError(S,Q)}function Zi(T,y){return hn(T,"POST","/v2/accounts/mfaEnrollment:start",Xt(T,y))}class Dn{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(S=>M._fromServerResponse(y.auth,S)))})}static _fromUser(y){return new Dn(y)}getSession(){var y=this;return(0,g.Z)(function*(){return is._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,_){var S=this;return(0,g.Z)(function*(){const Q=y,pe=yield S.getSession(),st=yield zt(S.user,Q._process(S.user.auth,pe,_));return yield S.user._updateTokensIfNecessary(st),S.user.reload()})()}unenroll(y){var _=this;return(0,g.Z)(function*(){var S;const Q="string"==typeof y?y:y.uid,pe=yield _.user.getIdToken(),st=yield zt(_.user,function wn(T,y){return hn(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(T,y))}(_.user.auth,{idToken:pe,mfaEnrollmentId:Q}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Wt})=>Wt!==Q),yield _.user._updateTokensIfNecessary(st);try{yield _.user.reload()}catch(Wt){if("auth/user-token-expired"!==(null===(S=Wt)||void 0===S?void 0:S.code))throw Wt}})()}}const zo=new WeakMap;function sn(T){const y=(0,d.m9)(T);return zo.has(y)||zo.set(y,Dn._fromUser(y)),zo.get(y)}const bt="__sak";class Lt{constructor(y,_){this.storageRetriever=y,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(bt,"1"),this.storage.removeItem(bt),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,_){return this.storage.setItem(y,JSON.stringify(_)),Promise.resolve()}_get(y){const _=this.storage.getItem(y);return Promise.resolve(_?JSON.parse(_):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const qr=(()=>{class T extends Lt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,S)=>this.onStorageEvent(_,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ar(){const T=(0,d.z$)();return $(T)||kt(T)}()&&function bi(){try{return!(!window||window===window.top)}catch(T){return!1}}(),this.fallbackToPolling=vi(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const S of Object.keys(this.listeners)){const Q=this.storage.getItem(S),pe=this.localCache[S];Q!==pe&&_(S,pe,Q)}}onStorageEvent(_,S=!1){if(!_.key)return void this.forAllChangedKeys((Wt,en,rn)=>{this.notifyListeners(Wt,rn)});const Q=_.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Wt=this.storage.getItem(Q);if(_.newValue!==Wt)null!==_.newValue?this.storage.setItem(Q,_.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===_.newValue&&!S)return}const pe=()=>{const Wt=this.storage.getItem(Q);!S&&this.localCache[Q]===Wt||this.notifyListeners(Q,Wt)},st=this.storage.getItem(Q);!function bn(){return(0,d.w1)()&&10===document.documentMode}()||st===_.newValue||_.newValue===_.oldValue?pe():setTimeout(pe,10)}notifyListeners(_,S){this.localCache[_]=S;const Q=this.listeners[_];if(Q)for(const pe of Array.from(Q))pe(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,S,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:S,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,S){var Q=()=>super._set,pe=this;return(0,g.Z)(function*(){yield Q().call(pe,_,S),pe.localCache[_]=JSON.stringify(S)})()}_get(_){var S=()=>super._get,Q=this;return(0,g.Z)(function*(){const pe=yield S().call(Q,_);return Q.localCache[_]=JSON.stringify(pe),pe})()}_remove(_){var S=()=>super._remove,Q=this;return(0,g.Z)(function*(){yield S().call(Q,_),delete Q.localCache[_]})()}}return T.type="LOCAL",T})(),Na=(()=>{class T extends Lt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,S){}_removeListener(_,S){}}return T.type="SESSION",T})();let Wo=(()=>{class T{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const S=this.receivers.find(pe=>pe.isListeningto(_));if(S)return S;const Q=new T(_);return this.receivers.push(Q),Q}isListeningto(_){return this.eventTarget===_}handleEvent(_){var S=this;return(0,g.Z)(function*(){const Q=_,{eventId:pe,eventType:st,data:Wt}=Q.data,en=S.handlersMap[st];if(!(null==en?void 0:en.size))return;Q.ports[0].postMessage({status:"ack",eventId:pe,eventType:st});const rn=Array.from(en).map(function(){var _r=(0,g.Z)(function*(Hs){return Hs(Q.origin,Wt)});return function(Hs){return _r.apply(this,arguments)}}()),oi=yield function ka(T){return Promise.all(T.map(function(){var y=(0,g.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(S){return{fulfilled:!1,reason:S}}});return function(_){return y.apply(this,arguments)}}()))}(rn);Q.ports[0].postMessage({status:"done",eventId:pe,eventType:st,response:oi})})()}_subscribe(_,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(S)}_unsubscribe(_,S){this.handlersMap[_]&&S&&this.handlersMap[_].delete(S),(!S||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Zo(T="",y=10){let _="";for(let S=0;S<y;S++)_+=Math.floor(10*Math.random());return T+_}class Ql{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,_,S=50){var Q=this;return(0,g.Z)(function*(){const pe="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!pe)throw new Error("connection_unavailable");let st,Wt;return new Promise((en,rn)=>{const oi=Zo("",20);pe.port1.start();const _r=setTimeout(()=>{rn(new Error("unsupported_event"))},S);Wt={messageChannel:pe,onMessage(Hs){const br=Hs;if(br.data.eventId===oi)switch(br.data.status){case"ack":clearTimeout(_r),st=setTimeout(()=>{rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(st),en(br.data.response);break;default:clearTimeout(_r),clearTimeout(st),rn(new Error("invalid_response"))}}},Q.handlers.add(Wt),pe.port1.addEventListener("message",Wt.onMessage),Q.target.postMessage({eventType:y,eventId:oi,data:_},[pe.port2])}).finally(()=>{Wt&&Q.removeMessageHandler(Wt)})})()}}function Ri(){return window}function fs(){return void 0!==Ri().WorkerGlobalScope&&"function"==typeof Ri().importScripts}function ti(){return(ti=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(T){return null}})).apply(this,arguments)}const D="firebaseLocalStorageDb",L="firebaseLocalStorage",F="fbase_key";class le{constructor(y){this.request=y}toPromise(){return new Promise((y,_)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Oe(T,y){return T.transaction([L],y?"readwrite":"readonly").objectStore(L)}function xt(){const T=indexedDB.open(D,1);return new Promise((y,_)=>{T.addEventListener("error",()=>{_(T.error)}),T.addEventListener("upgradeneeded",()=>{const S=T.result;try{S.createObjectStore(L,{keyPath:F})}catch(Q){_(Q)}}),T.addEventListener("success",(0,g.Z)(function*(){const S=T.result;S.objectStoreNames.contains(L)?y(S):(S.close(),yield function He(){const T=indexedDB.deleteDatabase(D);return new le(T).toPromise()}(),y(yield xt()))}))})}function mn(T,y,_){return si.apply(this,arguments)}function si(){return(si=(0,g.Z)(function*(T,y,_){const S=Oe(T,!0).put({[F]:y,value:_});return new le(S).toPromise()})).apply(this,arguments)}function ui(){return(ui=(0,g.Z)(function*(T,y){const _=Oe(T,!1).get(y),S=yield new le(_).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function yi(T,y){const _=Oe(T,!0).delete(y);return new le(_).toPromise()}const Qs=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,g.Z)(function*(){return _.db||(_.db=yield xt()),_.db})()}_withRetries(_){var S=this;return(0,g.Z)(function*(){let Q=0;for(;;)try{const pe=yield S._openDb();return yield _(pe)}catch(pe){if(Q++>3)throw pe;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,g.Z)(function*(){return fs()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,g.Z)(function*(){_.receiver=Wo._getInstance(function O(){return fs()?self:null}()),_.receiver._subscribe("keyChanged",function(){var S=(0,g.Z)(function*(Q,pe){return{keyProcessed:(yield _._poll()).includes(pe.key)}});return function(Q,pe){return S.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var S=(0,g.Z)(function*(Q,pe){return["keyChanged"]});return function(Q,pe){return S.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,g.Z)(function*(){var S,Q;if(_.activeServiceWorker=yield function La(){return ti.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ql(_.activeServiceWorker);const pe=yield _.sender._send("ping",{},800);!pe||(null===(S=pe[0])||void 0===S?void 0:S.fulfilled)&&(null===(Q=pe[0])||void 0===Q?void 0:Q.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var S=this;return(0,g.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function Un(){var T;return(null===(T=null==navigator?void 0:navigator.serviceWorker)||void 0===T?void 0:T.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:_},S.serviceWorkerReceiverAvailable?800:50)}catch(Q){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const _=yield xt();return yield mn(_,bt,"1"),yield yi(_,bt),!0}catch(_){}return!1})()}_withPendingWrite(_){var S=this;return(0,g.Z)(function*(){S.pendingWrites++;try{yield _()}finally{S.pendingWrites--}})()}_set(_,S){var Q=this;return(0,g.Z)(function*(){return Q._withPendingWrite((0,g.Z)(function*(){return yield Q._withRetries(pe=>mn(pe,_,S)),Q.localCache[_]=S,Q.notifyServiceWorker(_)}))})()}_get(_){var S=this;return(0,g.Z)(function*(){const Q=yield S._withRetries(pe=>function Tn(T,y){return ui.apply(this,arguments)}(pe,_));return S.localCache[_]=Q,Q})()}_remove(_){var S=this;return(0,g.Z)(function*(){return S._withPendingWrite((0,g.Z)(function*(){return yield S._withRetries(Q=>yi(Q,_)),delete S.localCache[_],S.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,g.Z)(function*(){const S=yield _._withRetries(st=>{const Wt=Oe(st,!1).getAll();return new le(Wt).toPromise()});if(!S)return[];if(0!==_.pendingWrites)return[];const Q=[],pe=new Set;for(const{fbase_key:st,value:Wt}of S)pe.add(st),JSON.stringify(_.localCache[st])!==JSON.stringify(Wt)&&(_.notifyListeners(st,Wt),Q.push(st));for(const st of Object.keys(_.localCache))_.localCache[st]&&!pe.has(st)&&(_.notifyListeners(st,null),Q.push(st));return Q})()}notifyListeners(_,S){this.localCache[_]=S;const Q=this.listeners[_];if(Q)for(const pe of Array.from(Q))pe(S)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})();function ks(T,y){return hn(T,"POST","/v2/accounts/mfaSignIn:start",Xt(T,y))}function Yr(){return(Yr=(0,g.Z)(function*(T){return(yield hn(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Va(T){return new Promise((y,_)=>{const S=document.createElement("script");S.setAttribute("src",T),S.onload=y,S.onerror=Q=>{const pe=me("internal-error");pe.customData=Q,_(pe)},S.type="text/javascript",S.charset="UTF-8",function Js(){var T,y;return null!==(y=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==y?y:document}().appendChild(S)})}function Ao(T){return`__${T}${Math.floor(1e6*Math.random())}`}const lr=1e12;class Ua{constructor(y){this.auth=y,this.counter=lr,this._widgets=new Map}render(y,_){const S=this.counter;return this._widgets.set(S,new Jl(y,this.auth.name,_||{})),this.counter++,S}reset(y){var _;const S=y||lr;null===(_=this._widgets.get(S))||void 0===_||_.delete(),this._widgets.delete(S)}getResponse(y){var _;return(null===(_=this._widgets.get(y||lr))||void 0===_?void 0:_.getResponse())||""}execute(y){var _=this;return(0,g.Z)(function*(){var S;return null===(S=_._widgets.get(y||lr))||void 0===S||S.execute(),""})()}}class Jl{constructor(y,_,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof y?document.getElementById(y):y;Y(Q,"argument-error",{appName:_}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function gl(T){const y=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<T;S++)y.push(_.charAt(Math.floor(Math.random()*_.length)));return y.join("")}(50);const{callback:y,"expired-callback":_}=this.params;if(y)try{y(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xl=Ao("rcb"),Xs=new q(3e4,6e4);class ca{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(y=Ri().grecaptcha)||void 0===y?void 0:y.render)}load(y,_=""){return Y(function xu(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(_),y,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Ri().grecaptcha):new Promise((S,Q)=>{const pe=Ri().setTimeout(()=>{Q(me(y,"network-request-failed"))},Xs.get());Ri()[Xl]=()=>{Ri().clearTimeout(pe),delete Ri()[Xl];const Wt=Ri().grecaptcha;if(!Wt)return void Q(me(y,"internal-error"));const en=Wt.render;Wt.render=(rn,oi)=>{const _r=en(rn,oi);return this.counter++,_r},this.hostLanguage=_,S(Wt)},Va(`https://www.google.com/recaptcha/api.js??${(0,d.xO)({onload:Xl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(pe),Q(me(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var _;return!!(null===(_=Ri().grecaptcha)||void 0===_?void 0:_.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vr{load(y){return(0,g.Z)(function*(){return new Ua(y)})()}clearedOneInstance(){}}const Ll="recaptcha",rs={theme:"light",type:"image"};class tr{constructor(y,_=Object.assign({},rs),S){this.parameters=_,this.type=Ll,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kt(S),this.isInvisible="invisible"===this.parameters.size,Y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof y?document.getElementById(y):y;Y(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vr:new ca,this.validateStartingState()}verify(){var y=this;return(0,g.Z)(function*(){y.assertNotDestroyed();const _=yield y.render(),S=y.getAssertedRecaptcha();return S.getResponse(_)||new Promise(pe=>{const st=Wt=>{!Wt||(y.tokenChangeListeners.delete(st),pe(Wt))};y.tokenChangeListeners.add(st),y.isInvisible&&S.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return _=>{if(this.tokenChangeListeners.forEach(S=>S(_)),"function"==typeof y)y(_);else if("string"==typeof y){const S=Ri()[y];"function"==typeof S&&S(_)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,g.Z)(function*(){if(yield y.init(),!y.widgetId){let _=y.container;if(!y.isInvisible){const S=document.createElement("div");_.appendChild(S),_=S}y.widgetId=y.getAssertedRecaptcha().render(_,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,g.Z)(function*(){Y(Nt()&&!fs(),y.auth,"internal-error"),yield function Dc(){let T=null;return new Promise(y=>{"complete"!==document.readyState?(T=()=>y(),window.addEventListener("load",T)):y()}).catch(y=>{throw T&&window.removeEventListener("load",T),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const _=yield function yt(T){return Yr.apply(this,arguments)}(y.auth);Y(_,y.auth,"internal-error"),y.parameters.sitekey=_})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vo{constructor(y,_){this.verificationId=y,this.onConfirmation=_}confirm(y){const _=vs._fromVerification(this.verificationId,y);return this.onConfirmation(_)}}function qo(T,y,_){return cr.apply(this,arguments)}function cr(){return(cr=(0,g.Z)(function*(T,y,_){const S=Kt(T),Q=yield Ir(S,y,(0,d.m9)(_));return new vo(Q,pe=>Cn(S,pe))})).apply(this,arguments)}function Lr(T,y,_){return el.apply(this,arguments)}function el(){return(el=(0,g.Z)(function*(T,y,_){const S=(0,d.m9)(T);yield ie(!1,S,"phone");const Q=yield Ir(S.auth,y,(0,d.m9)(_));return new vo(Q,pe=>ai(S,pe))})).apply(this,arguments)}function tl(T,y,_){return dr.apply(this,arguments)}function dr(){return(dr=(0,g.Z)(function*(T,y,_){const S=(0,d.m9)(T),Q=yield Ir(S.auth,y,(0,d.m9)(_));return new vo(Q,pe=>ri(S,pe))})).apply(this,arguments)}function Ir(T,y,_){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,g.Z)(function*(T,y,_){var S;const Q=yield _.verify();try{let pe;if(Y("string"==typeof Q,T,"argument-error"),Y(_.type===Ll,T,"argument-error"),pe="string"==typeof y?{phoneNumber:y}:y,"session"in pe){const st=pe.session;if("phoneNumber"in pe)return Y("enroll"===st.type,T,"internal-error"),(yield Zi(T,{idToken:st.credential,phoneEnrollmentInfo:{phoneNumber:pe.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{Y("signin"===st.type,T,"internal-error");const Wt=(null===(S=pe.multiFactorHint)||void 0===S?void 0:S.uid)||pe.multiFactorUid;return Y(Wt,T,"missing-multi-factor-info"),(yield ks(T,{mfaPendingCredential:st.credential,mfaEnrollmentId:Wt,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:st}=yield ao(T,{phoneNumber:pe.phoneNumber,recaptchaToken:Q});return st}}finally{_._reset()}})).apply(this,arguments)}function eu(T,y){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,g.Z)(function*(T,y){yield Ai((0,d.m9)(T),y)})).apply(this,arguments)}let nl=(()=>{class T{constructor(_){this.providerId=T.PROVIDER_ID,this.auth=Kt(_)}verifyPhoneNumber(_,S){return Ir(this.auth,_,(0,d.m9)(S))}static credential(_,S){return vs._fromVerification(_,S)}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:S,temporaryProof:Q}=_;return S&&Q?vs._fromTokenResponse(S,Q):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function ps(T,y){return y?Ge(y):(Y(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class da extends ni{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Gi(y,this._buildIdpRequest())}_linkToIdToken(y,_){return Gi(y,this._buildIdpRequest(_))}_getReauthenticationResolver(y){return Gi(y,this._buildIdpRequest())}_buildIdpRequest(y){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(_.idToken=y),_}}function il(T){return Et(T.auth,new da(T),T.bypassAuthState)}function tu(T){const{auth:y,user:_}=T;return Y(_,y,"internal-error"),oe(_,new da(T),T.bypassAuthState)}function ha(T){return fa.apply(this,arguments)}function fa(){return(fa=(0,g.Z)(function*(T){const{auth:y,user:_}=T;return Y(_,y,"internal-error"),Ai(_,new da(T),T.bypassAuthState)})).apply(this,arguments)}class Gr{constructor(y,_,S,Q,pe=!1){this.auth=y,this.resolver=S,this.user=Q,this.bypassAuthState=pe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var y=this;return new Promise(function(){var _=(0,g.Z)(function*(S,Q){y.pendingPromise={resolve:S,reject:Q};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(pe){y.reject(pe)}});return function(S,Q){return _.apply(this,arguments)}}())}onAuthEvent(y){var _=this;return(0,g.Z)(function*(){const{urlResponse:S,sessionId:Q,postBody:pe,tenantId:st,error:Wt,type:en}=y;if(Wt)return void _.reject(Wt);const rn={auth:_.auth,requestUri:S,sessionId:Q,tenantId:st||void 0,postBody:pe||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(en)(rn))}catch(oi){_.reject(oi)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return il;case"linkViaPopup":case"linkViaRedirect":return ha;case"reauthViaPopup":case"reauthViaRedirect":return tu;default:pt(this.auth,"internal-error")}}resolve(y){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const So=new q(2e3,1e4);function xo(T,y,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,g.Z)(function*(T,y,_){const S=Kt(T);Xe(T,y,Ds);const Q=ps(S,_);return new Fl(S,"signInViaPopup",y,Q).executeNotNull()})).apply(this,arguments)}function Ou(T,y,_){return eo.apply(this,arguments)}function eo(){return(eo=(0,g.Z)(function*(T,y,_){const S=(0,d.m9)(T);Xe(S.auth,y,Ds);const Q=ps(S.auth,_);return new Fl(S.auth,"reauthViaPopup",y,Q,S).executeNotNull()})).apply(this,arguments)}function nu(T,y,_){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,g.Z)(function*(T,y,_){const S=(0,d.m9)(T);Xe(S.auth,y,Ds);const Q=ps(S.auth,_);return new Fl(S.auth,"linkViaPopup",y,Q,S).executeNotNull()})).apply(this,arguments)}let Fl=(()=>{class T extends Gr{constructor(_,S,Q,pe,st){super(_,S,pe,st),this.provider=Q,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var _=this;return(0,g.Z)(function*(){const S=yield _.execute();return Y(S,_.auth,"internal-error"),S})()}onExecution(){var _=this;return(0,g.Z)(function*(){et(1===_.filter.length,"Popup operations only handle one event");const S=Zo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],S),_.authWindow.associatedEvent=S,_.resolver._originValidation(_.auth).catch(Q=>{_.reject(Q)}),_.resolver._isIframeWebStorageSupported(_.auth,Q=>{Q||_.reject(me(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const _=()=>{var S,Q;this.pollId=(null===(Q=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===Q?void 0:Q.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,So.get())};_()}}return T.currentPopupAction=null,T})();const ga=new Map;class Ls extends Gr{constructor(y,_,S=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,S),this.eventId=null}execute(){var y=()=>super.execute,_=this;return(0,g.Z)(function*(){let S=ga.get(_.auth._key());if(!S){try{const pe=(yield function Ba(T,y){return Vl.apply(this,arguments)}(_.resolver,_.auth))?yield y().call(_):null;S=()=>Promise.resolve(pe)}catch(Q){S=()=>Promise.reject(Q)}ga.set(_.auth._key(),S)}return _.bypassAuthState||ga.set(_.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(y){var _=()=>super.onAuthEvent,S=this;return(0,g.Z)(function*(){if("signInViaRedirect"===y.type)return _().call(S,y);if("unknown"!==y.type){if(y.eventId){const Q=yield S.auth._redirectUserForId(y.eventId);if(Q)return S.user=Q,_().call(S,y);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Vl(){return(Vl=(0,g.Z)(function*(T,y){const _=B(y),S=R(T);if(!(yield S._isAvailable()))return!1;const Q="true"===(yield S._get(_));return yield S._remove(_),Q})).apply(this,arguments)}function ma(T,y){return rl.apply(this,arguments)}function rl(){return(rl=(0,g.Z)(function*(T,y){return R(T)._set(B(y),"true")})).apply(this,arguments)}function iu(){ga.clear()}function ic(T,y){ga.set(T._key(),y)}function R(T){return Ge(T._redirectPersistence)}function B(T){return fe("pendingRedirect",T.config.apiKey,T.name)}function ae(T,y,_){return function De(T,y,_){return tt.apply(this,arguments)}(T,y,_)}function tt(){return(tt=(0,g.Z)(function*(T,y,_){const S=Kt(T);Xe(T,y,Ds);const Q=ps(S,_);return yield ma(Q,S),Q._openRedirect(S,y,"signInViaRedirect")})).apply(this,arguments)}function dt(T,y,_){return function $t(T,y,_){return tn.apply(this,arguments)}(T,y,_)}function tn(){return(tn=(0,g.Z)(function*(T,y,_){const S=(0,d.m9)(T);Xe(S.auth,y,Ds);const Q=ps(S.auth,_);yield ma(Q,S.auth);const pe=yield Oo(S);return Q._openRedirect(S.auth,y,"reauthViaRedirect",pe)})).apply(this,arguments)}function Ln(T,y,_){return function Qn(T,y,_){return Jn.apply(this,arguments)}(T,y,_)}function Jn(){return(Jn=(0,g.Z)(function*(T,y,_){const S=(0,d.m9)(T);Xe(S.auth,y,Ds);const Q=ps(S.auth,_);yield ie(!1,S,y.providerId),yield ma(Q,S.auth);const pe=yield Oo(S);return Q._openRedirect(S.auth,y,"linkViaRedirect",pe)})).apply(this,arguments)}function Nn(T,y){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,g.Z)(function*(T,y){return yield Kt(T)._initializationPromise,Ui(T,y,!1)})).apply(this,arguments)}function Ui(T,y){return ml.apply(this,arguments)}function ml(){return(ml=(0,g.Z)(function*(T,y,_=!1){const S=Kt(T),Q=ps(S,y),st=yield new Ls(S,Q,_).execute();return st&&!_&&(delete st.user._redirectEventId,yield S._persistUserIfCurrent(st.user),yield S._setRedirectUser(null,y)),st})).apply(this,arguments)}function Oo(T){return _o.apply(this,arguments)}function _o(){return(_o=(0,g.Z)(function*(T){const y=Zo(`${T.uid}:::`);return T._redirectEventId=y,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),y})).apply(this,arguments)}class Ha{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let _=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(y,S)&&(_=!0,this.sendToConsumer(y,S),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function ja(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ya(T);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=y,_=!0)),_}sendToConsumer(y,_){var S;if(y.error&&!ya(y)){const Q=(null===(S=y.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";_.onError(me(this.auth,Q))}else _.onAuthEvent(y)}isEventForConsumer(y,_){const S=null===_.eventId||!!y.eventId&&y.eventId===_.eventId;return _.filter.includes(y.type)&&S}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yl(y))}saveEventToCache(y){this.cachedEventUids.add(yl(y)),this.lastProcessedEventTime=Date.now()}}function yl(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(y=>y).join("-")}function ya({type:T,error:y}){return"unknown"===T&&"auth/no-auth-event"===(null==y?void 0:y.code)}function Fs(T){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,g.Z)(function*(T,y={}){return hn(T,"GET","/v1/projects",y)})).apply(this,arguments)}const gd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,md=/^https?/;function to(){return(to=(0,g.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:y}=yield Fs(T);for(const _ of y)try{if(yd(_))return}catch(S){}pt(T,"unauthorized-domain")})).apply(this,arguments)}function yd(T){const y=it(),{protocol:_,hostname:S}=new URL(y);if(T.startsWith("chrome-extension://")){const st=new URL(T);return""===st.hostname&&""===S?"chrome-extension:"===_&&T.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===_&&st.hostname===S}if(!md.test(_))return!1;if(gd.test(T))return S===T;const Q=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(S)}const Mu=new q(3e4,6e4);function rc(){const T=Ri().___jsl;if(null==T?void 0:T.H)for(const y of Object.keys(T.H))if(T.H[y].r=T.H[y].r||[],T.H[y].L=T.H[y].L||[],T.H[y].r=[...T.H[y].L],T.CP)for(let _=0;_<T.CP.length;_++)T.CP[_]=null}let Pu=null;function sc(T){return Pu=Pu||function Ic(T){return new Promise((y,_)=>{var S,Q,pe;function st(){rc(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{rc(),_(me(T,"network-request-failed"))},timeout:Mu.get()})}if(null===(Q=null===(S=Ri().gapi)||void 0===S?void 0:S.iframes)||void 0===Q?void 0:Q.Iframe)y(gapi.iframes.getContext());else{if(!(null===(pe=Ri().gapi)||void 0===pe?void 0:pe.load)){const Wt=Ao("iframefcb");return Ri()[Wt]=()=>{gapi.load?st():_(me(T,"network-request-failed"))},Va(`https://apis.google.com/js/api.js?onload=${Wt}`).catch(en=>_(en))}st()}}).catch(y=>{throw Pu=null,y})}(T),Pu}const Ul=new q(5e3,15e3),Hl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},su=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oc(T){const y=T.config;Y(y.authDomain,T,"auth-domain-config-required");const _=y.emulator?Se(y,"emulator/auth/iframe"):`https://${T.config.authDomain}/__/auth/iframe`,S={apiKey:y.apiKey,appName:T.name,v:W.SDK_VERSION},Q=su.get(T.config.apiHost);Q&&(S.eid=Q);const pe=T._getFrameworks();return pe.length&&(S.fw=pe.join(",")),`${_}?${(0,d.xO)(S).slice(1)}`}function Ac(){return Ac=(0,g.Z)(function*(T){const y=yield sc(T),_=Ri().gapi;return Y(_,T,"internal-error"),y.open({where:document.body,url:oc(T),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hl,dontclear:!0},S=>new Promise(function(){var Q=(0,g.Z)(function*(pe,st){yield S.restyle({setHideOnLeave:!1});const Wt=me(T,"network-request-failed"),en=Ri().setTimeout(()=>{st(Wt)},Ul.get());function rn(){Ri().clearTimeout(en),pe(S)}S.ping(rn).then(rn,()=>{st(Wt)})});return function(pe,st){return Q.apply(this,arguments)}}()))}),Ac.apply(this,arguments)}const no={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class va{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function sl(T,y,_,S,Q,pe){Y(T.config.authDomain,T,"auth-domain-config-required"),Y(T.config.apiKey,T,"invalid-api-key");const st={apiKey:T.config.apiKey,appName:T.name,authType:_,redirectUrl:S,v:W.SDK_VERSION,eventId:Q};if(y instanceof Ds){y.setDefaultLanguage(T.languageCode),st.providerId=y.providerId||"",(0,d.xb)(y.getCustomParameters())||(st.customParameters=JSON.stringify(y.getCustomParameters()));for(const[en,rn]of Object.entries(pe||{}))st[en]=rn}if(y instanceof Rn){const en=y.getScopes().filter(rn=>""!==rn);en.length>0&&(st.scopes=en.join(","))}T.tenantId&&(st.tid=T.tenantId);const Wt=st;for(const en of Object.keys(Wt))void 0===Wt[en]&&delete Wt[en];return`${function _a({config:T}){return T.emulator?Se(T,"emulator/auth/handler"):`https://${T.authDomain}/__/auth/handler`}(T)}?${(0,d.xO)(Wt).slice(1)}`}const Bs="webStorageSupport",xr=class Nu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Na,this._completeRedirectFn=Ui,this._overrideRedirectResult=ic}_openPopup(y,_,S,Q){var pe=this;return(0,g.Z)(function*(){var st;et(null===(st=pe.eventManagers[y._key()])||void 0===st?void 0:st.manager,"_initialize() not called before _openPopup()");const Wt=sl(y,_,S,it(),Q);return function ac(T,y,_,S=500,Q=600){const pe=Math.max((window.screen.availHeight-Q)/2,0).toString(),st=Math.max((window.screen.availWidth-S)/2,0).toString();let Wt="";const en=Object.assign(Object.assign({},no),{width:S.toString(),height:Q.toString(),top:pe,left:st}),rn=(0,d.z$)().toLowerCase();_&&(Wt=ee(rn)?"_blank":_),X(rn)&&(y=y||"http://localhost",en.scrollbars="yes");const oi=Object.entries(en).reduce((Hs,[br,As])=>`${Hs}${br}=${As},`,"");if(function fn(T=(0,d.z$)()){var y;return kt(T)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(rn)&&"_self"!==Wt)return function El(T,y){const _=document.createElement("a");_.href=T,_.target=y;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(S)}(y||"",Wt),new va(null);const _r=window.open(y||"",Wt,oi);Y(_r,T,"popup-blocked");try{_r.focus()}catch(Hs){}return new va(_r)}(y,Wt,Zo())})()}_openRedirect(y,_,S,Q){var pe=this;return(0,g.Z)(function*(){return yield pe._originValidation(y),function Wn(T){Ri().location.href=T}(sl(y,_,S,it(),Q)),new Promise(()=>{})})()}_initialize(y){const _=y._key();if(this.eventManagers[_]){const{manager:Q,promise:pe}=this.eventManagers[_];return Q?Promise.resolve(Q):(et(pe,"If manager is not set, promise should be"),pe)}const S=this.initAndGetManager(y);return this.eventManagers[_]={promise:S},S.catch(()=>{delete this.eventManagers[_]}),S}initAndGetManager(y){var _=this;return(0,g.Z)(function*(){const S=yield function Us(T){return Ac.apply(this,arguments)}(y),Q=new Ha(y);return S.register("authEvent",pe=>(Y(null==pe?void 0:pe.authEvent,y,"invalid-auth-event"),{status:Q.onEvent(pe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[y._key()]={manager:Q},_.iframes[y._key()]=S,Q})()}_isIframeWebStorageSupported(y,_){this.iframes[y._key()].send(Bs,{type:Bs},Q=>{var pe;const st=null===(pe=null==Q?void 0:Q[0])||void 0===pe?void 0:pe[Bs];void 0!==st&&_(!!st),pt(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const _=y._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function vl(T){return to.apply(this,arguments)}(y)),this.originValidationPromises[_]}get _shouldInitProactively(){return vi()||$()||kt()}};class jl extends class Oc{constructor(y){this.factorId=y}_process(y,_,S){switch(_.type){case"enroll":return this._finalizeEnroll(y,_.credential,S);case"signin":return this._finalizeSignIn(y,_.credential);default:return qe("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new jl(y)}_finalizeEnroll(y,_,S){return function Ns(T,y){return hn(T,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(T,y))}(y,{idToken:_,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,_){return function Fa(T,y){return hn(T,"POST","/v2/accounts/mfaSignIn:finalize",Xt(T,y))}(y,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ku=(()=>{class T{constructor(){}static assertion(_){return jl._fromCredential(_)}}return T.FACTOR_ID="phone",T})();var ih="@firebase/auth",Mc="0.20.11";class hr{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var _=this;return(0,g.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const _=this.auth.onIdTokenChanged(S=>{var Q;y((null===(Q=S)||void 0===Q?void 0:Q.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,_),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const _=this.internalListeners.get(y);!_||(this.internalListeners.delete(y),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,d.Pz)("authIdTokenMaxAge"),function Rc(T){(0,W._registerComponent)(new Ne.wA("auth",(y,{options:_})=>{const S=y.getProvider("app").getImmediate(),Q=y.getProvider("heartbeat"),{apiKey:pe,authDomain:st}=S.options;return((Wt,en)=>{Y(pe&&!pe.includes(":"),"invalid-api-key",{appName:Wt.name}),Y(!(null==st?void 0:st.includes(":")),"argument-error",{appName:Wt.name});const rn={apiKey:pe,authDomain:st,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ci(T)},oi=new Ti(Wt,en,rn);return function ot(T,y){const _=(null==y?void 0:y.persistence)||[],S=(Array.isArray(_)?_:[_]).map(Ge);(null==y?void 0:y.errorMap)&&T._updateErrorMap(y.errorMap),T._initializeWithPersistence(S,null==y?void 0:y.popupRedirectResolver)}(oi,_),oi})(S,Q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,_,S)=>{y.getProvider("auth-internal").initialize()})),(0,W._registerComponent)(new Ne.wA("auth-internal",y=>{const _=Kt(y.getProvider("auth").getImmediate());return new hr(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,W.registerVersion)(ih,Mc,function Pc(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(T)),(0,W.registerVersion)(ih,Mc,"esm2017")}("Browser")},5525:(qt,Ze,x)=>{x.d(Ze,{u7:()=>Rm,Jj:()=>Tu,IX:()=>Em,my:()=>Vr,xU:()=>pd,Lz:()=>Du,WA:()=>Lt,F8:()=>dd,$q:()=>th,W:()=>na,EK:()=>ti,PU:()=>tf,l7:()=>ps,Ky:()=>F,Xb:()=>L,Cf:()=>Li,K9:()=>zo,Me:()=>cr,yq:()=>Zi,Wi:()=>No,ET:()=>qy,Ab:()=>jm,vr:()=>Hm,Fc:()=>Tm,hJ:()=>Kd,B$:()=>um,at:()=>ud,oe:()=>km,AK:()=>Um,TF:()=>ag,JU:()=>Xp,ST:()=>Cm,fH:()=>ky,Ix:()=>e_,Wu:()=>$y,Lx:()=>Xd,qY:()=>xs,GL:()=>ec,QT:()=>Nm,kl:()=>Gy,Xk:()=>zy,PL:()=>Wy,UQ:()=>Zy,zN:()=>Tg,nP:()=>$m,b9:()=>By,vh:()=>Hy,Pb:()=>n_,L$:()=>zh,cf:()=>Lm,sc:()=>Fm,Xo:()=>so,IO:()=>Fy,iE:()=>Qf,Eo:()=>cm,i3:()=>Vm,Bt:()=>Bm,pl:()=>ef,Ub:()=>is,qK:()=>ql,TQ:()=>Om,e0:()=>jy,r7:()=>Ky,Mx:()=>og,ar:()=>xm});var ce,g=x(5861),d=x(9681),W=x(4859),Te=x(1877),_e=x(2090),Ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ce={},J=J||{},te=Ne||self;function ue(){}function ke(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function lt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var ht="closure_uid_"+(1e9*Math.random()>>>0),ut=0;function Qe(r,e,t){return r.call.apply(r.bind,arguments)}function rt(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),r.apply(e,c)}}return function(){return r.apply(e,arguments)}}function Be(r,e,t){return(Be=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qe:rt).apply(null,arguments)}function pt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function me(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(o,c,p){for(var b=Array(arguments.length-2),A=2;A<arguments.length;A++)b[A-2]=arguments[A];return e.prototype[c].apply(o,b)}}function we(){this.s=this.s,this.o=this.o}we.prototype.s=!1,we.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function nt(r){Object.prototype.hasOwnProperty.call(r,ht)&&r[ht]||(r[ht]=++ut)}(this)},we.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Y(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function qe(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(ke(o)){const c=r.length||0,p=o.length||0;r.length=c+p;for(let b=0;b<p;b++)r[c+b]=o[b]}else r.push(o)}}function et(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{te.addEventListener("test",ue,e),te.removeEventListener("test",ue,e)}catch(t){}return r}();function Ge(r){return/^[\s\xa0]*$/.test(r)}var Je=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function ot(r,e){return r<e?-1:r>e?1:0}function it(){var r=te.navigator;return r&&(r=r.userAgent)?r:""}function Nt(r){return-1!=it().indexOf(r)}function on(r){return on[" "](r),r}on[" "]=ue;var hn,r,vt=Nt("Opera"),q=Nt("Trident")||Nt("MSIE"),Se=Nt("Edge"),Ke=Se||q,Mt=Nt("Gecko")&&!(-1!=it().toLowerCase().indexOf("webkit")&&!Nt("Edge"))&&!(Nt("Trident")||Nt("MSIE"))&&!Nt("Edge"),Gt=-1!=it().toLowerCase().indexOf("webkit")&&!Nt("Edge");function Xt(){var r=te.document;return r?r.documentMode:void 0}e:{var In="",zn=(r=it(),Mt?/rv:([^\);]+)(\)|;)/.exec(r):Se?/Edge\/([\d\.]+)/.exec(r):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Gt?/WebKit\/(\S+)/.exec(r):vt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(zn&&(In=zn?zn[1]:""),q){var di=Xt();if(null!=di&&di>parseFloat(In)){hn=String(di);break e}}hn=In}var Kn={};var qn=te.document&&q&&(Xt()||parseInt(hn,10))||void 0;function Fi(r,e){if(et.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Mt){e:{try{on(e.nodeName);var c=!0;break e}catch(p){}c=!1}c||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:un[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Fi.X.h.call(this)}}me(Fi,et);var un={2:"touch",3:"pen",4:"mouse"};Fi.prototype.h=function(){Fi.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Oi="closure_listenable_"+(1e6*Math.random()|0),Yn=0;function Jt(r,e,t,o,c){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=c,this.key=++Yn,this.ba=this.ea=!1}function Mi(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function hi(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function It(r){const e={};for(const t in r)e[t]=r[t];return e}const Le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $e(r,e){let t,o;for(let c=1;c<arguments.length;c++){for(t in o=arguments[c],o)r[t]=o[t];for(let p=0;p<Le.length;p++)t=Le[p],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function Ft(r){this.src=r,this.g={},this.h=0}function Ct(r,e){var t=e.type;if(t in r.g){var p,o=r.g[t],c=Tt(o,e);(p=0<=c)&&Array.prototype.splice.call(o,c,1),p&&(Mi(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Vt(r,e,t,o){for(var c=0;c<r.length;++c){var p=r[c];if(!p.ba&&p.listener==e&&p.capture==!!t&&p.ha==o)return c}return-1}Ft.prototype.add=function(r,e,t,o,c){var p=r.toString();(r=this.g[p])||(r=this.g[p]=[],this.h++);var b=Vt(r,e,o,c);return-1<b?(e=r[b],t||(e.ea=!1)):((e=new Jt(e,this.src,p,!!o,c)).ea=t,r.push(e)),e};var zt="closure_lm_"+(1e6*Math.random()|0),Re={};function xe(r,e,t,o,c){if(o&&o.once)return _t(r,e,t,o,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)xe(r,e[p],t,o,c);return null}return t=he(t),r&&r[Oi]?r.N(e,t,lt(o)?!!o.capture:!!o,c):Ee(r,e,t,!1,o,c)}function Ee(r,e,t,o,c,p){if(!e)throw Error("Invalid event type");var b=lt(c)?!!c.capture:!!c,A=ln(r);if(A||(r[zt]=A=new Ft(r)),(t=A.add(e,t,o,b,p)).proxy)return t;if(o=function We(){const e=_n;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)Ve||(c=b),void 0===c&&(c=!1),r.addEventListener(e.toString(),o,c);else if(r.attachEvent)r.attachEvent(pn(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function _t(r,e,t,o,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)_t(r,e[p],t,o,c);return null}return t=he(t),r&&r[Oi]?r.O(e,t,lt(o)?!!o.capture:!!o,c):Ee(r,e,t,!0,o,c)}function Dt(r,e,t,o,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)Dt(r,e[p],t,o,c);else o=lt(o)?!!o.capture:!!o,t=he(t),r&&r[Oi]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Vt(p=r.g[e],t,o,c))&&(Mi(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete r.g[e],r.h--))):r&&(r=ln(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Vt(e,t,o,c)),(t=-1<r?e[r]:null)&&wt(t))}function wt(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[Oi])Ct(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(pn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=ln(e))?(Ct(t,r),0==t.h&&(t.src=null,e[zt]=null)):Mi(r)}}}function pn(r){return r in Re?Re[r]:Re[r]="on"+r}function _n(r,e){if(r.ba)r=!0;else{e=new Fi(e,this);var t=r.listener,o=r.ha||r.src;r.ea&&wt(r),r=t.call(o,e)}return r}function ln(r){return(r=r[zt])instanceof Ft?r:null}var z="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(r){return"function"==typeof r?r:(r[z]||(r[z]=function(e){return r.handleEvent(e)}),r[z])}function be(){we.call(this),this.i=new Ft(this),this.P=this,this.I=null}function Ue(r,e){var t,o=r.I;if(o)for(t=[];o;o=o.I)t.push(o);if(r=r.P,o=e.type||e,"string"==typeof e)e=new et(e,r);else if(e instanceof et)e.target=e.target||r;else{var c=e;$e(e=new et(o,r),c)}if(c=!0,t)for(var p=t.length-1;0<=p;p--){var b=e.g=t[p];c=mt(b,o,!0,e)&&c}if(c=mt(b=e.g=r,o,!0,e)&&c,c=mt(b,o,!1,e)&&c,t)for(p=0;p<t.length;p++)c=mt(b=e.g=t[p],o,!1,e)&&c}function mt(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var b=e[p];if(b&&!b.ba&&b.capture==t){var A=b.listener,j=b.ha||b.src;b.ea&&Ct(r.i,b),c=!1!==A.call(j,o)&&c}}return c&&!o.defaultPrevented}me(be,we),be.prototype[Oi]=!0,be.prototype.removeEventListener=function(r,e,t,o){Dt(this,r,e,t,o)},be.prototype.M=function(){if(be.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)Mi(t[o]);delete r.g[e],r.h--}}this.I=null},be.prototype.N=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},be.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var St=te.JSON.stringify;function de(){var r=Ye;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var ee,Me=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new ve,r=>r.reset());class ve{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function X(r){te.setTimeout(()=>{throw r},0)}function $(r,e){ee||function re(){var r=te.Promise.resolve(void 0);ee=function(){r.then(Pt)}}(),Ae||(ee(),Ae=!0),Ye.add(r,e)}var Ae=!1,Ye=new class fe{constructor(){this.h=this.g=null}add(e,t){const o=Me.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Pt(){for(var r;r=de();){try{r.h.call(r.g)}catch(t){X(t)}var e=Me;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Ae=!1}function kt(r,e){be.call(this),this.h=r||1,this.g=e||te,this.j=Be(this.lb,this),this.l=Date.now()}function gn(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function fn(r,e,t){if("function"==typeof r)t&&(r=Be(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Be(r.handleEvent,r)}return 2147483647<Number(e)?-1:te.setTimeout(r,e||0)}function bn(r){r.g=fn(()=>{r.g=null,r.i&&(r.i=!1,bn(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}me(kt,be),(ce=kt.prototype).ca=!1,ce.R=null,ce.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ue(this,"tick"),this.ca&&(gn(this),this.start()))}},ce.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){kt.X.M.call(this),gn(this),delete this.g};class vi extends we{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bn(this)}M(){super.M(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(r){we.call(this),this.h=r,this.g={}}me(bi,we);var Ci=[];function Pr(r,e,t,o){Array.isArray(t)||(t&&(Ci[0]=t.toString()),t=Ci);for(var c=0;c<t.length;c++){var p=xe(e,t[c],o||r.handleEvent,!1,r.h||r);if(!p)break;r.g[p.key]=p}}function Ti(r){hi(r.g,function(e,t){this.g.hasOwnProperty(t)&&wt(e)},r),r.g={}}function Kt(){this.g=!0}function Hi(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ji(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var b=1;b<c.length;b++)c[b]=""}}}return St(t)}catch(A){return e}}(r,t)+(o?" "+o:"")})}bi.prototype.M=function(){bi.X.M.call(this),Ti(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kt.prototype.Aa=function(){this.g=!1},Kt.prototype.info=function(){};var Ji={},ni=null;function Er(){return ni=ni||new be}function mi(r){et.call(this,Ji.Pa,r)}function On(r){const e=Er();Ue(e,new mi(e))}function Jr(r,e){et.call(this,Ji.STAT_EVENT,r),this.stat=e}function $i(r){const e=Er();Ue(e,new Jr(e,r))}function zs(r,e){et.call(this,Ji.Qa,r),this.size=e}function Xi(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){r()},e)}Ji.Pa="serverreachability",me(mi,et),Ji.STAT_EVENT="statevent",me(Jr,et),Ji.Qa="timingevent",me(zs,et);var Vi={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ms={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function as(){}function gi(){}as.prototype.h=null;var qi,cn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ls(){et.call(this,"d")}function Ot(){et.call(this,"c")}function _i(){}function us(r,e,t,o){this.l=r,this.j=e,this.m=t,this.U=o||1,this.S=new bi(this),this.O=sr,this.T=new kt(r=Ke?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new cs}function cs(){this.i=null,this.g="",this.h=!1}me(ls,et),me(Ot,et),me(_i,as),_i.prototype.g=function(){return new XMLHttpRequest},_i.prototype.i=function(){return{}},qi=new _i;var sr=45e3,ys={},Nr={};function Ws(r,e,t){r.K=1,r.v=_s(or(e)),r.s=t,r.P=!0,Gi(r,null)}function Gi(r,e){r.F=Date.now(),ao(r),r.A=or(r.v);var t=r.A,o=r.U;Array.isArray(o)||(o=[String(o)]),aa(t.i,"t",o),r.C=0,t=r.l.H,r.h=new cs,r.g=fl(r.l,t?e:null,!r.s),0<r.N&&(r.L=new vi(Be(r.La,r,r.g),r.N)),Pr(r.S,r.g,"readystatechange",r.ib),e=r.H?It(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),On(),function Bn(r,e,t,o,c,p){r.info(function(){if(r.g)if(p)for(var b="",A=p.split("&"),j=0;j<A.length;j++){var Z=A[j].split("=");if(1<Z.length){var ge=Z[0];Z=Z[1];var je=ge.split("_");b=2<=je.length&&"type"==je[1]?b+(ge+"=")+Z+"&":b+(ge+"=redacted&")}}else b=null;else b=p;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+e+"\n"+t+"\n"+b})}(r.j,r.u,r.A,r.m,r.U,r.s)}function Zs(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function ia(r,e,t){let c,o=!0;for(;!r.I&&r.C<t.length;){if(c=ds(r,t),c==Nr){4==e&&(r.o=4,$i(14),o=!1),Hi(r.j,r.m,null,"[Incomplete Response]");break}if(c==ys){r.o=4,$i(15),Hi(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}Hi(r.j,r.m,c,null),Os(r,c)}Zs(r)&&c!=Nr&&c!=ys&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,$i(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),To(e),e.K=!0,$i(11))):(Hi(r.j,r.m,t,"[Invalid Chunked Response]"),wr(r),Xr(r))}function ds(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?Nr:(t=Number(e.substring(t,o)),isNaN(t)?ys:(o+=1)+t>e.length?Nr:(e=e.substr(o,t),r.C=o+t,e))}function ao(r){r.V=Date.now()+r.O,lo(r,r.O)}function lo(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Xi(Be(r.gb,r),e)}function ra(r){r.B&&(te.clearTimeout(r.B),r.B=null)}function Xr(r){0==r.l.G||r.I||Do(r.l,r)}function wr(r){ra(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,gn(r.T),Ti(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function Os(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||U(t.h,r)))if(!r.J&&U(t.h,r)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch(Z){o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0])e:if(t.u)t.Ba=c[1],0<t.Ba-t.T&&37500>c[2]&&t.L&&0==t.A&&!t.v&&(t.v=Xi(Be(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<r.F))break e;Rs(t),Aa(t)}Ho(t),$i(18)}if(1>=Ai(t.h)&&t.ja){try{t.ja()}catch(Z){}t.ja=void 0}}else ws(t,11)}else if((r.J||t.g==r)&&Rs(t),!Ge(e))for(c=t.Fa.g.parse(e),e=0;e<c.length;e++){let Z=c[e];if(t.T=Z[0],Z=Z[1],2==t.G)if("c"==Z[0]){t.I=Z[1],t.ka=Z[2];const ge=Z[3];null!=ge&&(t.ma=ge,t.j.info("VER="+t.ma));const je=Z[4];null!=je&&(t.Ca=je,t.j.info("SVER="+t.Ca));const ft=Z[5];null!=ft&&"number"==typeof ft&&0<ft&&(t.J=o=1.5*ft,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Ut=r.g;if(Ut){const Yt=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yt){var p=o.h;p.g||-1==Yt.indexOf("spdy")&&-1==Yt.indexOf("quic")&&-1==Yt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(ie(p,p.h),p.h=null))}if(o.D){const vn=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;vn&&(o.za=vn,Rn(o.F,o.D,vn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var b=r;if((o=t).sa=Dr(o,o.H?o.ka:null,o.V),b.J){V(o.h,b);var A=b,j=o.J;j&&A.setTimeout(j),A.B&&(ra(A),ao(A)),o.g=b}else co(o);0<t.i.length&&Ml(t)}else"stop"!=Z[0]&&"close"!=Z[0]||ws(t,7);else 3==t.G&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?ws(t,7):Ps(t):"noop"!=Z[0]&&t.l&&t.l.wa(Z),t.A=0)}On()}catch(Z){}}function Lo(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ke(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function sa(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if("undefined"!=typeof Map&&r instanceof Map)return Array.from(r.keys());if(!("undefined"!=typeof Set&&r instanceof Set)){if(ke(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function Ta(r){if(r.W&&"function"==typeof r.W)return r.W();if("undefined"!=typeof Map&&r instanceof Map||"undefined"!=typeof Set&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ke(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),c=o.length,p=0;p<c;p++)e.call(void 0,o[p],t&&t[p],r)}(ce=us.prototype).setTimeout=function(r){this.O=r},ce.ib=function(r){r=r.target;const e=this.L;e&&3==Ht(r)?e.l():this.La(r)},ce.La=function(r){try{if(r==this.g)e:{const ge=Ht(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ge)&&(3!=ge||Ke||this.g&&(this.h.h||this.g.fa()||li(this.g)))){this.I||4!=ge||7==e||On(),ra(this);var t=this.g.aa();this.Y=t;t:if(Zs(this)){var o=li(this.g);r="";var c=o.length,p=4==Ht(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){wr(this),Xr(this);var b="";break t}this.h.i=new te.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:p&&e==c-1});o.splice(0,c),this.h.g+=r,this.C=0,b=this.h.g}else b=this.g.fa();if(this.i=200==t,function fi(r,e,t,o,c,p,b){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+p+" "+b})}(this.j,this.u,this.A,this.m,this.U,ge,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ge(A)){var Z=A;break t}}Z=null}if(!(t=Z)){this.i=!1,this.o=3,$i(12),wr(this),Xr(this);break e}Hi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Os(this,t)}this.P?(ia(this,ge,b),Ke&&this.i&&3==ge&&(Pr(this.S,this.T,"tick",this.hb),this.T.start())):(Hi(this.j,this.m,b,null),Os(this,b)),4==ge&&wr(this),this.i&&!this.I&&(4==ge?Do(this.l,this):(this.i=!1,ao(this)))}else 400==t&&0<b.indexOf("Unknown SID")?(this.o=3,$i(12)):(this.o=0,$i(13)),wr(this),Xr(this)}}}catch(ge){}},ce.hb=function(){if(this.g){var r=Ht(this.g),e=this.g.fa();this.C<e.length&&(ra(this),ia(this,r,e),this.i&&4!=r&&ao(this))}},ce.cancel=function(){this.I=!0,wr(this)},ce.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function Rr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(On(),$i(17)),wr(this),this.o=2,Xr(this)):lo(this,this.V-r)};var vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ks(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Ks){this.h=void 0!==e?e:r.h,Fo(this,r.j),this.s=r.s,this.g=r.g,Cr(this,r.m),this.l=r.l,e=r.i;var t=new Ms;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ds(this,t),this.o=r.o}else r&&(t=String(r).match(vs))?(this.h=!!e,Fo(this,t[1]||"",!0),this.s=Is(t[2]||""),this.g=Is(t[3]||"",!0),Cr(this,t[4]),this.l=Is(t[5]||"",!0),Ds(this,t[6]||"",!0),this.o=Is(t[7]||"")):(this.h=!!e,this.i=new Ms(null,this.h))}function or(r){return new Ks(r)}function Fo(r,e,t){r.j=t?Is(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Cr(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Ds(r,e,t){e instanceof Ms?(r.i=e,function kr(r,e){e&&!r.j&&(Ei(r),r.i=null,r.g.forEach(function(t,o){var c=o.toLowerCase();o!=c&&(Tr(this,o),aa(this,c,t))},r)),r.j=e}(r.i,r.h)):(t||(e=bs(e,Br)),r.i=new Ms(e,r.h))}function Rn(r,e,t){r.i.set(e,t)}function _s(r){return Rn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Is(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function bs(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Qa),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Qa(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Ks.prototype.toString=function(){var r=[],e=this.j;e&&r.push(bs(e,Vo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(bs(e,Vo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(bs(t,"/"==t.charAt(0)?oa:Wr,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",bs(t,Zr)),r.join("")};var Vo=/[#\/\?@]/g,Wr=/[#\?:]/g,oa=/[#\?]/g,Br=/[#\?@]/g,Zr=/#/g;function Ms(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Ei(r){r.g||(r.g=new Map,r.h=0,r.i&&function Ya(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),c=null;if(0<=o){var p=r[t].substring(0,o);c=r[t].substring(o+1)}else p=r[t];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Tr(r,e){Ei(r),e=es(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Uo(r,e){return Ei(r),e=es(r,e),r.g.has(e)}function aa(r,e,t){Tr(r,e),0<t.length&&(r.i=null,r.g.set(es(r,e),Y(t)),r.h+=t.length)}function es(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function qs(r){this.l=r||Kr,r=te.PerformanceNavigationTiming?0<(r=te.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(te.g&&te.g.Ga&&te.g.Ga()&&te.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=Ms.prototype).add=function(r,e){Ei(this),this.i=null,r=es(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ce.forEach=function(r,e){Ei(this),this.g.forEach(function(t,o){t.forEach(function(c){r.call(e,c,o,this)},this)},this)},ce.oa=function(){Ei(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const c=r[o];for(let p=0;p<c.length;p++)t.push(e[o])}return t},ce.W=function(r){Ei(this);let e=[];if("string"==typeof r)Uo(this,r)&&(e=e.concat(this.g.get(es(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ce.set=function(r,e){return Ei(this),this.i=null,Uo(this,r=es(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ce.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const p=encodeURIComponent(String(o)),b=this.W(o);for(o=0;o<b.length;o++){var c=p;""!==b[o]&&(c+="="+encodeURIComponent(String(b[o]))),r.push(c)}}return this.i=r.join("&")};var Kr=10;function Ys(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Ai(r){return r.h?1:r.g?r.g.size:0}function U(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function ie(r,e){r.g?r.g.add(e):r.h=e}function V(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function oe(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return Y(r.i)}function Pe(){}function Et(){this.g=new Pe}function Bt(r,e,t){const o=t||"";try{Lo(r,function(c,p){let b=c;lt(c)&&(b=St(c)),e.push(o+p+"="+encodeURIComponent(b))})}catch(c){throw e.push(o+"type="+encodeURIComponent("_badmap")),c}}function kn(r,e,t,o,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(o)}catch(p){}}function ai(r){this.l=r.ac||null,this.j=r.jb||!1}function Hn(r,e){be.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=ri,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qs.prototype.cancel=function(){if(this.i=oe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Pe.prototype.stringify=function(r){return te.JSON.stringify(r,void 0)},Pe.prototype.parse=function(r){return te.JSON.parse(r,void 0)},me(ai,as),ai.prototype.g=function(){return new Hn(this.l,this.j)},ai.prototype.i=function(r){return function(){return r}}({}),me(Hn,be);var ri=0;function zi(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function Si(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Di(r)}function Di(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ce=Hn.prototype).open=function(r,e){if(this.readyState!=ri)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Di(this)},ce.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||te).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Si(this)),this.readyState=ri},ce.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==te.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zi(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},ce.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Si(this):Di(this),3==this.readyState&&zi(this)}},ce.Va=function(r){this.g&&(this.response=this.responseText=r,Si(this))},ce.Ua=function(r){this.g&&(this.response=r,Si(this))},ce.ga=function(){this.g&&Si(this)},ce.setRequestHeader=function(r,e){this.v.append(r,e)},ce.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Hn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var H=te.JSON.parse;function N(r){be.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=M,this.K=this.L=!1}me(N,be);var M="",se=/^https?$/i,At=["POST","PUT"];function wi(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Es(r),Bo(r)}function Es(r){r.D||(r.D=!0,Ue(r,"complete"),Ue(r,"error"))}function ts(r){if(r.h&&void 0!==J&&(!r.C[1]||4!=Ht(r)||2!=r.aa()))if(r.v&&4==Ht(r))fn(r.Ha,0,r);else if(Ue(r,"readystatechange"),4==Ht(r)){r.h=!1;try{const A=r.aa();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===A){var c=String(r.H).match(vs)[1]||null;if(!c&&te.self&&te.self.location){var p=te.self.location.protocol;c=p.substr(0,p.length-1)}o=!se.test(c?c.toLowerCase():"")}t=o}if(t)Ue(r,"complete"),Ue(r,"success");else{r.m=6;try{var b=2<Ht(r)?r.g.statusText:""}catch(j){b=""}r.j=b+" ["+r.aa()+"]",Es(r)}}finally{Bo(r)}}}function Bo(r,e){if(r.g){Da(r);const t=r.g,o=r.C[0]?ue:null;r.g=null,r.C=null,e||Ue(r,"ready");try{t.onreadystatechange=o}catch(c){}}}function Da(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(te.clearTimeout(r.A),r.A=null)}function Ht(r){return r.g?r.g.readyState:0}function li(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case M:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ol(r){let e="";return hi(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Qi(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Ol(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Rn(r,e,t))}function Ia(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Co(r){this.Ca=0,this.i=[],this.j=new Kt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ia("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ia("baseRetryDelayMs",5e3,r),this.bb=Ia("retryDelaySeedMs",1e4,r),this.$a=Ia("forwardChannelMaxRetries",2,r),this.ta=Ia("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new qs(r&&r.concurrentRequestLimit),this.Fa=new Et,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ps(r){if(Sa(r),3==r.G){var e=r.U++,t=or(r.F);Rn(t,"SID",r.I),Rn(t,"RID",e),Rn(t,"TYPE","terminate"),uo(r,t),(e=new us(r,r.j,e,void 0)).K=2,e.v=_s(or(t)),t=!1,te.navigator&&te.navigator.sendBeacon&&(t=te.navigator.sendBeacon(e.v.toString(),"")),!t&&te.Image&&((new Image).src=e.v,t=!0),t||(e.g=fl(e.l,null),e.g.da(e.v)),e.F=Date.now(),ao(e)}Oa(r)}function Aa(r){r.g&&(To(r),r.g.cancel(),r.g=null)}function Sa(r){Aa(r),r.u&&(te.clearTimeout(r.u),r.u=null),Rs(r),r.h.cancel(),r.m&&("number"==typeof r.m&&te.clearTimeout(r.m),r.m=null)}function Ml(r){Ys(r.h)||r.m||(r.m=!0,$(r.Ja,r),r.C=0)}function Rl(r,e){var t;t=e?e.m:r.U++;const o=or(r.F);Rn(o,"SID",r.I),Rn(o,"RID",t),Rn(o,"AID",r.T),uo(r,o),r.o&&r.s&&Qi(o,r.o,r.s),t=new us(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=Hr(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),ie(r.h,t),Ws(t,o,e)}function uo(r,e){r.ia&&hi(r.ia,function(t,o){Rn(e,o,t)}),r.l&&Lo({},function(t,o){Rn(e,o,t)})}function Hr(r,e,t){t=Math.min(r.i.length,t);var o=r.l?Be(r.l.Ra,r.l,r):null;e:{var c=r.i;let p=-1;for(;;){const b=["count="+t];-1==p?0<t?(p=c[0].h,b.push("ofs="+p)):p=0:b.push("ofs="+p);let A=!0;for(let j=0;j<t;j++){let Z=c[j].h;const ge=c[j].g;if(Z-=p,0>Z)p=Math.max(0,c[j].h-100),A=!1;else try{Bt(ge,b,"req"+Z+"_")}catch(je){o&&o(ge)}}if(A){o=b.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,o}function co(r){r.g||r.u||(r.Z=1,$(r.Ia,r),r.A=0)}function Ho(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=Xi(Be(r.Ia,r),xa(r,r.A)),r.A++,0))}function To(r){null!=r.B&&(te.clearTimeout(r.B),r.B=null)}function hs(r){r.g=new us(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=or(r.sa);Rn(e,"RID","rpc"),Rn(e,"SID",r.I),Rn(e,"CI",r.L?"0":"1"),Rn(e,"AID",r.T),Rn(e,"TYPE","xmlhttp"),uo(r,e),r.o&&r.s&&Qi(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=_s(or(e)),t.s=null,t.P=!0,Gi(t,r)}function Rs(r){null!=r.v&&(te.clearTimeout(r.v),r.v=null)}function Do(r,e){var t=null;if(r.g==e){Rs(r),To(r),r.g=null;var o=2}else{if(!U(r.h,e))return;t=e.D,V(r.h,e),o=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var c=r.C;Ue(o=Er(),new zs(o,t)),Ml(r)}else co(r);else if(3==(c=e.o)||0==c&&0<r.pa||!(1==o&&function Pl(r,e){return!(Ai(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=Xi(Be(r.Ja,r,e),xa(r,r.C)),r.C++,0)))}(r,e)||2==o&&Ho(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),c){case 1:ws(r,5);break;case 4:ws(r,10);break;case 3:ws(r,6);break;default:ws(r,2)}}function xa(r,e){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*e}function ws(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var o=Be(r.kb,r);t||(t=new Ks("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||Fo(t,"https"),_s(t)),function Cn(r,e){const t=new Kt;if(te.Image){const o=new Image;o.onload=pt(kn,t,o,"TestLoadImage: loaded",!0,e),o.onerror=pt(kn,t,o,"TestLoadImage: error",!1,e),o.onabort=pt(kn,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=pt(kn,t,o,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else $i(2);r.G=0,r.l&&r.l.va(e),Oa(r),Sa(r)}function Oa(r){if(r.G=0,r.la=[],r.l){const e=oe(r.h);(0!=e.length||0!=r.i.length)&&(qe(r.la,e),qe(r.la,r.i),r.h.i.length=0,Y(r.i),r.i.length=0),r.l.ua()}}function Dr(r,e,t){var o=t instanceof Ks?or(t):new Ks(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Cr(o,o.m);else{var c=te.location;o=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var p=new Ks(null,void 0);o&&Fo(p,o),e&&(p.g=e),c&&Cr(p,c),t&&(p.l=t),o=p}return e=r.za,(t=r.D)&&e&&Rn(o,t,e),Rn(o,"VER",r.ma),uo(r,o),o}function fl(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new N(t&&r.Da&&!r.ra?new ai({jb:!0}):r.ra)).Ka(r.H),e}function Ma(){}function Io(){if(q&&!(10<=Number(qn)))throw Error("Environmental error: no available transport.")}function jr(r,e){be.call(this),this.g=new Co(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Yb)&&!Ge(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ge(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new jo(this)}function ho(r){ls.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function la(){Ot.call(this),this.status=1}function jo(r){this.g=r}(ce=N.prototype).Ka=function(r){this.L=r},ce.da=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qi.g(),this.C=function pi(r){return r.h||(r.h=r.i())}(this.u?this.u:qi),this.g.onreadystatechange=Be(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(p){return void wi(this,p)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var c in o)t.set(c,o[c]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const p of o.keys())t.set(p,o.get(p))}o=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),c=te.FormData&&r instanceof te.FormData,!(0<=Tt(At,e))||o||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,b]of t)this.g.setRequestHeader(p,b);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Da(this),0<this.B&&((this.K=function En(r){return q&&function Ii(){return function gt(r){var e=Kn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=Je(String(hn)).split("."),t=Je("9").split("."),o=Math.max(e.length,t.length);for(let b=0;0==r&&b<o;b++){var c=e[b]||"",p=t[b]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==c[0].length&&0==p[0].length)break;r=ot(0==c[1].length?0:parseInt(c[1],10),0==p[1].length?0:parseInt(p[1],10))||ot(0==c[2].length,0==p[2].length)||ot(c[2],p[2]),c=c[3],p=p[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Be(this.qa,this)):this.A=fn(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(p){wi(this,p)}},ce.qa=function(){void 0!==J&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ue(this,"timeout"),this.abort(8))},ce.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Ue(this,"complete"),Ue(this,"abort"),Bo(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bo(this,!0)),N.X.M.call(this)},ce.Ha=function(){this.s||(this.F||this.v||this.l?ts(this):this.fb())},ce.fb=function(){ts(this)},ce.aa=function(){try{return 2<Ht(this)?this.g.status:-1}catch(r){return-1}},ce.fa=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},ce.Sa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),H(e)}},ce.Ea=function(){return this.m},ce.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=Co.prototype).ma=8,ce.G=1,ce.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const c=new us(this,this.j,r,void 0);let p=this.s;if(this.S&&(p?(p=It(p),$e(p,this.S)):p=this.S),null!==this.o||this.N||(c.H=p,p=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Hr(this,c,e),Rn(t=or(this.F),"RID",r),Rn(t,"CVER",22),this.D&&Rn(t,"X-HTTP-Session-Id",this.D),uo(this,t),p&&(this.N?e="headers="+encodeURIComponent(String(Ol(p)))+"&"+e:this.o&&Qi(t,this.o,p)),ie(this.h,c),this.Ya&&Rn(t,"TYPE","init"),this.O?(Rn(t,"$req",e),Rn(t,"SID","null"),c.Z=!0,Ws(c,t,null)):Ws(c,t,e),this.G=2}}else 3==this.G&&(r?Rl(this,r):0==this.i.length||Ys(this.h)||Rl(this))},ce.Ia=function(){if(this.u=null,hs(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=Xi(Be(this.eb,this),r)}},ce.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,$i(10),Aa(this),hs(this))},ce.cb=function(){null!=this.v&&(this.v=null,Aa(this),Ho(this),$i(19))},ce.kb=function(r){r?(this.j.info("Successfully pinged google.com"),$i(2)):(this.j.info("Failed to ping google.com"),$i(1))},(ce=Ma.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Ra=function(){},Io.prototype.g=function(r,e){return new jr(r,e)},me(jr,be),jr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;$i(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=Dr(r,null,r.V),Ml(r)},jr.prototype.close=function(){Ps(this.g)},jr.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=St(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.ab++,r)),3==e.G&&Ml(e)},jr.prototype.M=function(){this.g.l=null,delete this.j,Ps(this.g),delete this.g,jr.X.M.call(this)},me(ho,ls),me(la,Ot),me(jo,Ma),jo.prototype.xa=function(){Ue(this.g,"a")},jo.prototype.wa=function(r){Ue(this.g,new ho(r))},jo.prototype.va=function(r){Ue(this.g,new la)},jo.prototype.ua=function(){Ue(this.g,"b")},Io.prototype.createWebChannel=Io.prototype.g,jr.prototype.send=jr.prototype.u,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,Vi.NO_ERROR=0,Vi.TIMEOUT=8,Vi.HTTP_ERROR=6,ms.COMPLETE="complete",gi.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",be.prototype.listen=be.prototype.N,N.prototype.listenOnce=N.prototype.O,N.prototype.getLastError=N.prototype.Oa,N.prototype.getLastErrorCode=N.prototype.Ea,N.prototype.getStatus=N.prototype.aa,N.prototype.getResponseJson=N.prototype.Sa,N.prototype.getResponseText=N.prototype.fa,N.prototype.send=N.prototype.da,N.prototype.setWithCredentials=N.prototype.Ka;var $o=Ce.createWebChannelTransport=function(){return new Io},Pa=Ce.getStatEventTarget=function(){return Er()},fo=Ce.ErrorCode=Vi,Su=Ce.EventType=ms,pl=Ce.Event=Ji,ns=Ce.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ra=Ce.FetchXmlHttpFactory=ai,Yi=Ce.WebChannel=gi,Ja=Ce.XhrIo=N;const nc="@firebase/firestore";class Pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");let Go="9.14.0";const po=new Te.Yd("@firebase/firestore");function go(){return po.logLevel}function is(r){po.setLogLevel(r)}function Zt(r,...e){if(po.logLevel<=Te.in.DEBUG){const t=e.map(Ns);po.debug(`Firestore (${Go}): ${r}`,...t)}}function Wi(r,...e){if(po.logLevel<=Te.in.ERROR){const t=e.map(Ns);po.error(`Firestore (${Go}): ${r}`,...t)}}function Zi(r,...e){if(po.logLevel<=Te.in.WARN){const t=e.map(Ns);po.warn(`Firestore (${Go}): ${r}`,...t)}}function Ns(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function wn(r="Unexpected state"){const e=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+r;throw Wi(e),new Error(e)}function Dn(r,e){r||wn()}function zo(r,e){r||wn()}function sn(r,e){return r}const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends _e.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Nl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pi.UNAUTHENTICATED))}shutdown(){}}class Xa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qr{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let c=this.i;const p=Z=>this.i!==c?(c=this.i,t(Z)):Promise.resolve();let b=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new ar,e.enqueueRetryable(()=>p(this.currentUser))};const A=()=>{const Z=b;e.enqueueRetryable((0,g.Z)(function*(){yield Z.promise,yield p(o.currentUser)}))},j=Z=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(Z=>j(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?j(Z):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new ar)}},0),A()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Dn("string"==typeof o.accessToken),new Nl(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dn(null===e||"string"==typeof e),new Pi(e)}}class kl{constructor(e,t,o,c){this.h=e,this.l=t,this.m=o,this.g=c,this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Dn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Na{constructor(e,t,o,c){this.h=e,this.l=t,this.m=o,this.g=c}getToken(){return Promise.resolve(new kl(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ka{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wo{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=p=>{null!=p.error&&Zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const b=p.token!==this.A;return this.A=p.token,Zt("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const c=p=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.T.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.T.getImmediate({optional:!0});p?c(p):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Dn("string"==typeof t.token),this.A=t.token,new ka(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ql(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class Ri{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const c=Ql(40);for(let p=0;p<c.length;++p)o.length<20&&c[p]<t&&(o+=e.charAt(c[p]%e.length))}return o}}function Wn(r,e){return r<e?-1:r>e?1:0}function fs(r,e,t){return r.length===e.length&&r.every((o,c)=>t(o,e[c]))}function La(r){return r+"\0"}class ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Lt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Lt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Lt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ti.fromMillis(Date.now())}static fromDate(e){return ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new ti(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wn(this.nanoseconds,e.nanoseconds):Wn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Un{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Un(e)}static min(){return new Un(new ti(0,0))}static max(){return new Un(new ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class O{constructor(e,t,o){void 0===t?t=0:t>e.length&&wn(),void 0===o?o=e.length-t:o>e.length-t&&wn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===O.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof O?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let c=0;c<o;c++){const p=e.get(c),b=t.get(c);if(p<b)return-1;if(p>b)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class D extends O{construct(e,t,o){return new D(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Lt(bt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(c=>c.length>0))}return new D(t)}static emptyPath(){return new D([])}}const C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class L extends O{construct(e,t,o){return new L(e,t,o)}static isValidIdentifier(e){return C.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),L.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new L(["__name__"])}static fromServerFormat(e){const t=[];let o="",c=0;const p=()=>{if(0===o.length)throw new Lt(bt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let b=!1;for(;c<e.length;){const A=e[c];if("\\"===A){if(c+1===e.length)throw new Lt(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[c+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new Lt(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=j,c+=2}else"`"===A?(b=!b,c++):"."!==A||b?(o+=A,c++):(p(),c++)}if(p(),b)throw new Lt(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new L(t)}static emptyPath(){return new L([])}}class F{constructor(e){this.path=e}static fromPath(e){return new F(D.fromString(e))}static fromName(e){return new F(D.fromString(e).popFirst(5))}static empty(){return new F(D.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===D.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return D.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new D(e.slice()))}}class le{constructor(e,t,o,c){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=c}}function Oe(r){return r.fields.find(e=>2===e.kind)}function He(r){return r.fields.filter(e=>2!==e.kind)}le.UNKNOWN_ID=-1;class mn{constructor(e,t){this.fieldPath=e,this.kind=t}}class Tn{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Tn(0,er.min())}}function ui(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,c=Un.fromTimestamp(1e9===o?new ti(t+1,0):new ti(t,o));return new er(c,F.empty(),e)}function yi(r){return new er(r.readTime,r.key,-1)}class er{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new er(Un.min(),F.empty(),-1)}static max(){return new er(Un.max(),F.empty(),-1)}}function yo(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=F.comparator(r.documentKey,e.documentKey),0!==t?t:Wn(r.largestBatchId,e.largestBatchId))}const Ko="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ks(r){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,g.Z)(function*(r){if(r.code!==bt.FAILED_PRECONDITION||r.message!==Ko)throw r;Zt("LocalStore","Unexpectedly lost primary lease")}),Fa.apply(this,arguments)}class yt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new yt((o,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,c)},this.catchCallback=p=>{this.wrapFailure(t,p).next(o,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof yt?t:yt.resolve(t)}catch(t){return yt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):yt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):yt.reject(t)}static resolve(e){return new yt((t,o)=>{t(e)})}static reject(e){return new yt((t,o)=>{o(e)})}static waitFor(e){return new yt((t,o)=>{let c=0,p=0,b=!1;e.forEach(A=>{++c,A.next(()=>{++p,b&&p===c&&t()},j=>o(j))}),b=!0,p===c&&t()})}static or(e){let t=yt.resolve(!1);for(const o of e)t=t.next(c=>c?yt.resolve(c):o());return t}static forEach(e,t){const o=[];return e.forEach((c,p)=>{o.push(t.call(this,c,p))}),this.waitFor(o)}static mapArray(e,t){return new yt((o,c)=>{const p=e.length,b=new Array(p);let A=0;for(let j=0;j<p;j++){const Z=j;t(e[Z]).next(ge=>{b[Z]=ge,++A,A===p&&o(b)},ge=>c(ge))}})}static doWhile(e,t){return new yt((o,c)=>{const p=()=>{!0===e()?t().next(()=>{p()},c):o()};p()})}}class Yr{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ar,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Ao(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const c=Jl(o.target.error);this.P.reject(new Ao(e,c))}}static open(e,t,o,c){try{return new Yr(t,e.transaction(c,o))}catch(p){throw new Ao(t,p)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Zt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ua(t)}}class Js{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===Js.D((0,_e.z$)())&&Wi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Zt("SimpleDb","Removing database:",e),lr(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,_e.hl)())return!1;if(Js.N())return!0;const e=(0,_e.z$)(),t=Js.D(e),o=0<t&&t<10,c=Js.k(e),p=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,g.Z)(function*(){return t.db||(Zt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,c)=>{const p=indexedDB.open(t.name,t.version);p.onsuccess=b=>{o(b.target.result)},p.onblocked=()=>{c(new Ao(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=b=>{const A=b.target.error;c("VersionError"===A.name?new Lt(bt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new Lt(bt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new Ao(e,A))},p.onupgradeneeded=b=>{Zt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',b.oldVersion),t.S.$(b.target.result,p.transaction,b.oldVersion,t.version).next(()=>{Zt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,c){var p=this;return(0,g.Z)(function*(){const b="readonly"===t;let A=0;for(;;){++A;try{p.db=yield p.F(e);const j=Yr.open(p.db,e,b?"readonly":"readwrite",o),Z=c(j).next(ge=>(j.V(),ge)).catch(ge=>(j.abort(ge),yt.reject(ge))).toPromise();return Z.catch(()=>{}),yield j.v,Z}catch(j){const Z=j,ge="FirebaseError"!==Z.name&&A<3;if(Zt("SimpleDb","Transaction failed with error:",Z.message,"Retrying:",ge),p.close(),!ge)return Promise.reject(Z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Va{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return lr(this.U.delete())}}class Ao extends Lt{constructor(e,t){super(bt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $r(r){return"IndexedDbTransactionError"===r.name}class ua{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Zt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Zt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),lr(o)}add(e){return Zt("SimpleDb","ADD",this.store.name,e,e),lr(this.store.add(e))}get(e){return lr(this.store.get(e)).next(t=>(void 0===t&&(t=null),Zt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Zt("SimpleDb","DELETE",this.store.name,e),lr(this.store.delete(e))}count(){return Zt("SimpleDb","COUNT",this.store.name),lr(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const c=this.cursor(o),p=[];return this.H(c,(b,A)=>{p.push(A)}).next(()=>p)}{const c=this.store.getAll(o.range);return new yt((p,b)=>{c.onerror=A=>{b(A.target.error)},c.onsuccess=A=>{p(A.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new yt((c,p)=>{o.onerror=b=>{p(b.target.error)},o.onsuccess=b=>{c(b.target.result)}})}Y(e,t){Zt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const c=this.cursor(o);return this.H(c,(p,b,A)=>A.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const c=this.cursor(o);return this.H(c,t)}tt(e){const t=this.cursor({});return new yt((o,c)=>{t.onerror=p=>{const b=Jl(p.target.error);c(b)},t.onsuccess=p=>{const b=p.target.result;b?e(b.primaryKey,b.value).next(A=>{A?b.continue():o()}):o()}})}H(e,t){const o=[];return new yt((c,p)=>{e.onerror=b=>{p(b.target.error)},e.onsuccess=b=>{const A=b.target.result;if(!A)return void c();const j=new Va(A),Z=t(A.primaryKey,A.value,j);if(Z instanceof yt){const ge=Z.catch(je=>(j.done(),yt.reject(je)));o.push(ge)}j.isDone?c():null===j.G?A.continue():A.continue(j.G)}}).next(()=>yt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function lr(r){return new yt((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const c=Jl(o.target.error);t(c)}})}let Ua=!1;function Jl(r){const e=Js.D((0,_e.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new Lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ua||(Ua=!0,setTimeout(()=>{throw o},0)),o}}return r}class gl{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Zt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,g.Z)(function*(){t.task=null;try{Zt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){$r(o)?Zt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield ks(o)}yield t.nt(6e4)}))}}class Xl{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,g.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let c=t,p=!0;return yt.doWhile(()=>!0===p&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!o.has(b))return Zt("IndexBackiller",`Processing collection: ${b}`),this.rt(e,b,c).next(A=>{c-=A,o.add(b)});p=!1})).next(()=>t-c)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,o).next(p=>{const b=p.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.ot(c,p)).next(A=>(Zt("IndexBackiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(e,t,A))).next(()=>b.size)}))}ot(e,t){let o=e;return t.changes.forEach((c,p)=>{const b=yi(p);yo(b,o)>0&&(o=b)}),new er(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Xs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function yr(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ca(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function xu(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}Xs.at=-1;class vr{constructor(e,t){this.comparator=e,this.root=t||rs.EMPTY}insert(e,t){return new vr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rs.BLACK,null,null))}remove(e){return new vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return t+o.left.size;c<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ll(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ll(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ll(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ll(this.root,e,this.comparator,!0)}}class Ll{constructor(e,t,o,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?o(e.key,t):1,t&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rs{constructor(e,t,o,c,p){this.key=e,this.value=t,this.color=null!=o?o:rs.RED,this.left=null!=c?c:rs.EMPTY,this.right=null!=p?p:rs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,c,p){return new rs(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=c?c:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let c=this;const p=o(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,t,o),null):0===p?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return rs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return rs.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wn();const e=this.left.check();if(e!==this.right.check())throw wn();return e+(this.isRed()?0:1)}}rs.EMPTY=null,rs.RED=!0,rs.BLACK=!1,rs.EMPTY=new class{constructor(){this.size=0}get key(){throw wn()}get value(){throw wn()}get color(){throw wn()}get left(){throw wn()}get right(){throw wn()}copy(r,e,t,o,c){return this}insert(r,e,t){return new rs(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tr{constructor(e){this.comparator=e,this.data=new vr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dc(this.data.getIterator())}getIteratorFrom(e){return new Dc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=o.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new tr(this.comparator);return t.data=e,t}}class Dc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vo(r){return r.hasNext()?r.getNext():void 0}class qo{constructor(e){this.fields=e,e.sort(L.comparator)}static empty(){return new qo([])}unionWith(e){let t=new tr(L.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new qo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fs(this.fields,e.fields,(t,o)=>t.isEqual(o))}}function cr(){return"undefined"!=typeof atob}class Lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Lr(t)}static fromUint8Array(e){const t=function(o){let c="";for(let p=0;p<o.length;++p)c+=String.fromCharCode(o[p]);return c}(e);return new Lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lr.EMPTY_BYTE_STRING=new Lr("");const el=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tl(r){if(Dn(!!r),"string"==typeof r){let e=0;const t=el.exec(r);if(Dn(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:dr(r.seconds),nanos:dr(r.nanos)}}function dr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ir(r){return"string"==typeof r?Lr.fromBase64String(r):Lr.fromUint8Array(r)}function Cs(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function eu(r){const e=r.mapValue.fields.__previous_value__;return Cs(e)?eu(e):e}function Yo(r){const e=tl(r.mapValue.fields.__local_write_time__.timestampValue);return new ti(e.seconds,e.nanos)}class nl{constructor(e,t,o,c,p,b,A,j){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=c,this.ssl=p,this.forceLongPolling=b,this.autoDetectLongPolling=A,this.useFetchStreams=j}}class ps{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ps("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ps&&e.projectId===this.projectId&&e.database===this.database}}function da(r){return null==r}function il(r){return 0===r&&1/r==-1/0}function tu(r){return"number"==typeof r&&Number.isInteger(r)&&!il(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const ha={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fa={nullValue:"NULL_VALUE"};function Gr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cs(r)?4:ma(r)?9007199254740991:10:wn()}function So(r,e){if(r===e)return!0;const t=Gr(r);if(t!==Gr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yo(r).isEqual(Yo(e));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const p=tl(o.timestampValue),b=tl(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return c=e,Ir(r.bytesValue).isEqual(Ir(c.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return dr(o.geoPointValue.latitude)===dr(c.geoPointValue.latitude)&&dr(o.geoPointValue.longitude)===dr(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return dr(o.integerValue)===dr(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const p=dr(o.doubleValue),b=dr(c.doubleValue);return p===b?il(p)===il(b):isNaN(p)&&isNaN(b)}return!1}(r,e);case 9:return fs(r.arrayValue.values||[],e.arrayValue.values||[],So);case 10:return function(o,c){const p=o.mapValue.fields||{},b=c.mapValue.fields||{};if(yr(p)!==yr(b))return!1;for(const A in p)if(p.hasOwnProperty(A)&&(void 0===b[A]||!So(p[A],b[A])))return!1;return!0}(r,e);default:return wn()}var c}function xo(r,e){return void 0!==(r.values||[]).find(t=>So(t,e))}function pa(r,e){if(r===e)return 0;const t=Gr(r),o=Gr(e);if(t!==o)return Wn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wn(r.booleanValue,e.booleanValue);case 2:return function(c,p){const b=dr(c.integerValue||c.doubleValue),A=dr(p.integerValue||p.doubleValue);return b<A?-1:b>A?1:b===A?0:isNaN(b)?isNaN(A)?0:-1:1}(r,e);case 3:return Ou(r.timestampValue,e.timestampValue);case 4:return Ou(Yo(r),Yo(e));case 5:return Wn(r.stringValue,e.stringValue);case 6:return function(c,p){const b=Ir(c),A=Ir(p);return b.compareTo(A)}(r.bytesValue,e.bytesValue);case 7:return function(c,p){const b=c.split("/"),A=p.split("/");for(let j=0;j<b.length&&j<A.length;j++){const Z=Wn(b[j],A[j]);if(0!==Z)return Z}return Wn(b.length,A.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,p){const b=Wn(dr(c.latitude),dr(p.latitude));return 0!==b?b:Wn(dr(c.longitude),dr(p.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(c,p){const b=c.values||[],A=p.values||[];for(let j=0;j<b.length&&j<A.length;++j){const Z=pa(b[j],A[j]);if(Z)return Z}return Wn(b.length,A.length)}(r.arrayValue,e.arrayValue);case 10:return function(c,p){if(c===ha.mapValue&&p===ha.mapValue)return 0;if(c===ha.mapValue)return 1;if(p===ha.mapValue)return-1;const b=c.fields||{},A=Object.keys(b),j=p.fields||{},Z=Object.keys(j);A.sort(),Z.sort();for(let ge=0;ge<A.length&&ge<Z.length;++ge){const je=Wn(A[ge],Z[ge]);if(0!==je)return je;const ft=pa(b[A[ge]],j[Z[ge]]);if(0!==ft)return ft}return Wn(A.length,Z.length)}(r.mapValue,e.mapValue);default:throw wn()}}function Ou(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Wn(r,e);const t=tl(r),o=tl(e),c=Wn(t.seconds,o.seconds);return 0!==c?c:Wn(t.nanos,o.nanos)}function eo(r){return nu(r)}function nu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const c=tl(o);return`time(${c.seconds},${c.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ir(r.bytesValue).toBase64():"referenceValue"in r?F.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let c="[",p=!0;for(const b of o.values||[])p?p=!1:c+=",",c+=nu(b);return c+"]"}(r.arrayValue):"mapValue"in r?function(o){const c=Object.keys(o.fields||{}).sort();let p="{",b=!0;for(const A of c)b?b=!1:p+=",",p+=`${A}:${nu(o.fields[A])}`;return p+"}"}(r.mapValue):wn();var e}function Qo(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Fl(r){return!!r&&"integerValue"in r}function Ar(r){return!!r&&"arrayValue"in r}function ga(r){return!!r&&"nullValue"in r}function Ls(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ba(r){return!!r&&"mapValue"in r}function Vl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ca(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Vl(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function ma(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function rl(r){return"nullValue"in r?fa:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Qo(ps.empty(),F.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:wn()}function iu(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Qo(ps.empty(),F.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?ha:wn()}function ic(r,e){const t=pa(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function R(r,e){const t=pa(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class B{constructor(e){this.value=e}static empty(){return new B({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Ba(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(t)}setAll(e){let t=L.emptyPath(),o={},c=[];e.forEach((b,A)=>{if(!t.isImmediateParentOf(A)){const j=this.getFieldsMap(t);this.applyChanges(j,o,c),o={},c=[],t=A.popLast()}b?o[A.lastSegment()]=Vl(b):c.push(A.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,o,c)}delete(e){const t=this.field(e.popLast());Ba(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return So(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=t.mapValue.fields[e.get(o)];Ba(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,o){ca(t,(c,p)=>e[c]=p);for(const c of o)delete e[c]}clone(){return new B(Vl(this.value))}}function ae(r){const e=[];return ca(r.fields,(t,o)=>{const c=new L([t]);if(Ba(o)){const p=ae(o.mapValue).fields;if(0===p.length)e.push(c);else for(const b of p)e.push(c.child(b))}else e.push(c)}),new qo(e)}class De{constructor(e,t,o,c,p,b){this.key=e,this.documentType=t,this.version=o,this.readTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new De(e,0,Un.min(),Un.min(),B.empty(),0)}static newFoundDocument(e,t,o){return new De(e,1,t,Un.min(),o,0)}static newNoDocument(e,t){return new De(e,2,t,Un.min(),B.empty(),0)}static newUnknownDocument(e,t){return new De(e,3,t,Un.min(),B.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=B.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=B.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Un.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof De&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new De(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tt{constructor(e,t=null,o=[],c=[],p=null,b=null,A=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=c,this.limit=p,this.startAt=b,this.endAt=A,this.ht=null}}function dt(r,e=null,t=[],o=[],c=null,p=null,b=null){return new tt(r,e,t,o,c,p,b)}function $t(r){const e=sn(r);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(c=o).field.canonicalString()+c.op.toString()+eo(c.value);var c}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),da(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>eo(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>eo(o)).join(",")),e.ht=t}return e.ht}function Ln(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let c=0;c<r.orderBy.length;c++)if(!gd(r.orderBy[c],e.orderBy[c]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let c=0;c<r.filters.length;c++)if((t=r.filters[c]).op!==(o=e.filters[c]).op||!t.field.isEqual(o.field)||!So(t.value,o.value))return!1;var t,o;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!vl(r.startAt,e.startAt)&&vl(r.endAt,e.endAt)}function Qn(r){return F.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Jn(r,e){return r.filters.filter(t=>t instanceof Ui&&t.field.isEqual(e))}function Nn(r,e,t){let o=fa,c=!0;for(const p of Jn(r,e)){let b=fa,A=!0;switch(p.op){case"<":case"<=":b=rl(p.value);break;case"==":case"in":case">=":b=p.value;break;case">":b=p.value,A=!1;break;case"!=":case"not-in":b=fa}ic({value:o,inclusive:c},{value:b,inclusive:A})<0&&(o=b,c=A)}if(null!==t)for(let p=0;p<r.orderBy.length;++p)if(r.orderBy[p].field.isEqual(e)){const b=t.position[p];ic({value:o,inclusive:c},{value:b,inclusive:t.inclusive})<0&&(o=b,c=t.inclusive);break}return{value:o,inclusive:c}}function Sr(r,e,t){let o=ha,c=!0;for(const p of Jn(r,e)){let b=ha,A=!0;switch(p.op){case">=":case">":b=iu(p.value),A=!1;break;case"==":case"in":case"<=":b=p.value;break;case"<":b=p.value,A=!1;break;case"!=":case"not-in":b=ha}R({value:o,inclusive:c},{value:b,inclusive:A})>0&&(o=b,c=A)}if(null!==t)for(let p=0;p<r.orderBy.length;++p)if(r.orderBy[p].field.isEqual(e)){const b=t.position[p];R({value:o,inclusive:c},{value:b,inclusive:t.inclusive})>0&&(o=b,c=t.inclusive);break}return{value:o,inclusive:c}}class Ui extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new ml(e,t,o):"array-contains"===t?new Ha(e,o):"in"===t?new yl(e,o):"not-in"===t?new ya(e,o):"array-contains-any"===t?new ja(e,o):new Ui(e,t,o)}static lt(e,t,o){return"in"===t?new Oo(e,o):new _o(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(pa(t,this.value)):null!==t&&Gr(this.value)===Gr(t)&&this.ft(pa(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ml extends Ui{constructor(e,t,o){super(e,t,o),this.key=F.fromName(o.referenceValue)}matches(e){const t=F.comparator(e.key,this.key);return this.ft(t)}}class Oo extends Ui{constructor(e,t){super(e,"in",t),this.keys=ru(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _o extends Ui{constructor(e,t){super(e,"not-in",t),this.keys=ru(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ru(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>F.fromName(o.referenceValue))}class Ha extends Ui{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ar(t)&&xo(t.arrayValue,this.value)}}class yl extends Ui{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xo(this.value.arrayValue,t)}}class ya extends Ui{constructor(e,t){super(e,"not-in",t)}matches(e){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xo(this.value.arrayValue,t)}}class ja extends Ui{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ar(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>xo(this.value.arrayValue,o))}}class Fs{constructor(e,t){this.position=e,this.inclusive=t}}class Jo{constructor(e,t="asc"){this.field=e,this.dir=t}}function gd(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function md(r,e,t){let o=0;for(let c=0;c<r.position.length;c++){const p=e[c],b=r.position[c];if(o=p.field.isKeyField()?F.comparator(F.fromName(b.referenceValue),t.key):pa(b,t.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function vl(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!So(r.position[t],e.position[t]))return!1;return!0}class to{constructor(e,t=null,o=[],c=[],p=null,b="F",A=null,j=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=c,this.limit=p,this.limitType=b,this.startAt=A,this.endAt=j,this._t=null,this.wt=null}}function yd(r,e,t,o,c,p,b,A){return new to(r,e,t,o,c,p,b,A)}function Mu(r){return new to(r)}function rc(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Ic(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Pu(r){for(const e of r.filters)if(e.dt())return e.field;return null}function sc(r){return null!==r.collectionGroup}function Ul(r){const e=sn(r);if(null===e._t){e._t=[];const t=Pu(e),o=Ic(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new Jo(t)),e._t.push(new Jo(L.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e._t.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Jo(L.keyField(),p))}}}return e._t}function Vs(r){const e=sn(r);if(!e.wt)if("F"===e.limitType)e.wt=dt(e.path,e.collectionGroup,Ul(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of Ul(e))t.push(new Jo(p.field,"desc"===p.dir?"asc":"desc"));const o=e.endAt?new Fs(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Fs(e.startAt.position,e.startAt.inclusive):null;e.wt=dt(e.path,e.collectionGroup,t,e.filters,e.limit,o,c)}return e.wt}function Bl(r,e,t){return new to(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Hl(r,e){return Ln(Vs(r),Vs(e))&&r.limitType===e.limitType}function su(r){return`${$t(Vs(r))}|lt:${r.limitType}`}function oc(r){return`Query(target=${function tn(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${eo(o.value)}`;var o}).join(", ")}]`),da(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>eo(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>eo(t)).join(",")),`Target(${e})`}(Vs(r))}; limitType=${r.limitType})`}function Us(r,e){return e.isFoundDocument()&&function(t,o){const c=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):F.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(r,e)&&function(t,o){for(const c of t.explicitOrderBy)if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(r,e)&&function(t,o){for(const c of t.filters)if(!c.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(c,p,b){const A=md(c,p,b);return c.inclusive?A<=0:A<0}(t.startAt,Ul(t),o)||t.endAt&&!function(c,p,b){const A=md(c,p,b);return c.inclusive?A>=0:A>0}(t.endAt,Ul(t),o)));var t,o}function Ac(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function no(r){return(e,t)=>{let o=!1;for(const c of Ul(r)){const p=Sc(c,e,t);if(0!==p)return p;o=o||c.field.isKeyField()}return 0}}function Sc(r,e,t){const o=r.field.isKeyField()?F.comparator(e.key,t.key):function(c,p,b){const A=p.data.field(c),j=b.data.field(c);return null!==A&&null!==j?pa(A,j):wn()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return wn()}}function _l(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:il(e)?"-0":e}}function Ru(r){return{integerValue:""+r}}function bl(r,e){return tu(e)?Ru(e):_l(r,e)}class va{constructor(){this._=void 0}}function ac(r,e,t){return r instanceof ou?function(o,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&(p.fields.__previous_value__=c),{mapValue:p}}(t,e):r instanceof sl?_a(r,e):r instanceof Bs?Nu(r,e):function(o,c){const p=xc(o,c),b=Oc(p)+Oc(o.yt);return Fl(p)&&Fl(o.yt)?Ru(b):_l(o.It,b)}(r,e)}function El(r,e,t){return r instanceof sl?_a(r,e):r instanceof Bs?Nu(r,e):t}function xc(r,e){return r instanceof xr?Fl(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class ou extends va{}class sl extends va{constructor(e){super(),this.elements=e}}function _a(r,e){const t=jl(e);for(const o of r.elements)t.some(c=>So(c,o))||t.push(o);return{arrayValue:{values:t}}}class Bs extends va{constructor(e){super(),this.elements=e}}function Nu(r,e){let t=jl(e);for(const o of r.elements)t=t.filter(c=>!So(c,o));return{arrayValue:{values:t}}}class xr extends va{constructor(e,t){super(),this.It=e,this.yt=t}}function Oc(r){return dr(r.integerValue||r.doubleValue)}function jl(r){return Ar(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ku{constructor(e,t){this.field=e,this.transform=t}}class Mc{constructor(e,t){this.version=e,this.transformResults=t}}class hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Rc{}function vd(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new pe(r.key,hr.none()):new T(r.key,r.data,hr.none());{const t=r.data,o=B.empty();let c=new tr(L.comparator);for(let p of e.fields)if(!c.has(p)){let b=t.field(p);null===b&&p.length>1&&(p=p.popLast(),b=t.field(p)),null===b?o.delete(p):o.set(p,b),c=c.add(p)}return new y(r.key,o,new qo(c.toArray()),hr.none())}}function af(r,e,t){r instanceof T?function(o,c,p){const b=o.value.clone(),A=S(o.fieldTransforms,c,p.transformResults);b.setAll(A),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()}(r,e,t):r instanceof y?function(o,c,p){if(!Pc(o.precondition,c))return void c.convertToUnknownDocument(p.version);const b=S(o.fieldTransforms,c,p.transformResults),A=c.data;A.setAll(_(o)),A.setAll(b),c.convertToFoundDocument(p.version,A).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Lu(r,e,t,o){return r instanceof T?function(c,p,b,A){if(!Pc(c.precondition,p))return b;const j=c.value.clone(),Z=Q(c.fieldTransforms,A,p);return j.setAll(Z),p.convertToFoundDocument(p.version,j).setHasLocalMutations(),null}(r,e,t,o):r instanceof y?function(c,p,b,A){if(!Pc(c.precondition,p))return b;const j=Q(c.fieldTransforms,A,p),Z=p.data;return Z.setAll(_(c)),Z.setAll(j),p.convertToFoundDocument(p.version,Z).setHasLocalMutations(),null===b?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(ge=>ge.field))}(r,e,t,o):(b=t,Pc(r.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b);var p,b}function lc(r,e){let t=null;for(const o of r.fieldTransforms){const c=e.data.field(o.field),p=xc(o.transform,c||null);null!=p&&(null===t&&(t=B.empty()),t.set(o.field,p))}return t||null}function rh(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&fs(t,o,(c,p)=>function ih(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof sl&&o instanceof sl||t instanceof Bs&&o instanceof Bs?fs(t.elements,o.elements,So):t instanceof xr&&o instanceof xr?So(t.yt,o.yt):t instanceof ou&&o instanceof ou);var t,o}(c,p))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class T extends Rc{constructor(e,t,o,c=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class y extends Rc{constructor(e,t,o,c,p=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function _(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function S(r,e,t){const o=new Map;Dn(r.length===t.length);for(let c=0;c<t.length;c++){const p=r[c],b=p.transform,A=e.data.field(p.field);o.set(p.field,El(b,A,t[c]))}return o}function Q(r,e,t){const o=new Map;for(const c of r){const p=c.transform,b=t.data.field(c.field);o.set(c.field,ac(p,b,e))}return o}class pe extends Rc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class st extends Rc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wt{constructor(e){this.count=e}}var en,rn;function oi(r){switch(r){default:return wn();case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0}}function _r(r){if(void 0===r)return Wi("GRPC error has no .code"),bt.UNKNOWN;switch(r){case en.OK:return bt.OK;case en.CANCELLED:return bt.CANCELLED;case en.UNKNOWN:return bt.UNKNOWN;case en.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case en.INTERNAL:return bt.INTERNAL;case en.UNAVAILABLE:return bt.UNAVAILABLE;case en.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case en.NOT_FOUND:return bt.NOT_FOUND;case en.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case en.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case en.ABORTED:return bt.ABORTED;case en.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case en.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case en.DATA_LOSS:return bt.DATA_LOSS;default:return wn()}}(rn=en||(en={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";class Hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[c,p]of o)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0===c)return this.inner[o]=[[e,t]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[t]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(t,o)=>{for(const[c,p]of o)e(c,p)})}isEmpty(){return xu(this.inner)}size(){return this.innerSize}}const br=new vr(F.comparator);function As(){return br}const au=new vr(F.comparator);function ol(...r){let e=au;for(const t of r)e=e.insert(t.key,t);return e}function Nc(r){let e=au;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Xo(){return wl()}function $l(){return wl()}function wl(){return new Hs(r=>r.toString(),(r,e)=>r.isEqual(e))}const uc=new vr(F.comparator),kc=new tr(F.comparator);function Sn(...r){let e=kc;for(const t of r)e=e.add(t);return e}const _d=new tr(Wn);function ss(){return _d}class $a{constructor(e,t,o,c,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const c=new Map;return c.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new $a(Un.min(),c,ss(),As(),Sn())}}class Fu{constructor(e,t,o,c,p){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Fu(o,t,Sn(),Sn(),Sn())}}class cc{constructor(e,t,o,c){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=c}}class Lc{constructor(e,t){this.targetId=e,this.At=t}}class bd{constructor(e,t,o=Lr.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=c}}class Ed{constructor(){this.Rt=0,this.bt=hp(),this.Pt=Lr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Sn(),t=Sn(),o=Sn();return this.bt.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:o=o.add(c);break;default:wn()}}),new Fu(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=hp()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class cp{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=As(),this.qt=dp(),this.Kt=new tr(Wn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:wn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,c)=>{this.Ht(c)&&t(c)})}Yt(e){const t=e.targetId,o=e.At.count,c=this.Xt(t);if(c){const p=c.target;if(Qn(p))if(0===o){const b=new F(p.path);this.jt(t,b,De.newNoDocument(b,Un.min()))}else Dn(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((p,b)=>{const A=this.Xt(b);if(A){if(p.current&&Qn(A.target)){const j=new F(A.target.path);null!==this.Ut.get(j)||this.ee(b,j)||this.jt(b,j,De.newNoDocument(j,e))}p.Dt&&(t.set(b,p.xt()),p.Nt())}});let o=Sn();this.qt.forEach((p,b)=>{let A=!0;b.forEachWhile(j=>{const Z=this.Xt(j);return!Z||2===Z.purpose||(A=!1,!1)}),A&&(o=o.add(p))}),this.Ut.forEach((p,b)=>b.setReadTime(e));const c=new $a(e,t,this.Kt,this.Ut,o);return this.Ut=As(),this.qt=dp(),this.Kt=new tr(Wn),c}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const c=this.zt(e);this.ee(e,t)?c.kt(t,1):c.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Ed,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new tr(Wn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Zt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Ed),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function dp(){return new vr(F.comparator)}function hp(){return new vr(F.comparator)}const Fc={asc:"ASCENDING",desc:"DESCENDING"},Mo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Vu{constructor(e,t){this.databaseId=e,this.gt=t}}function Uu(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dc(r,e){return r.gt?e.toBase64():e.toUint8Array()}function io(r,e){return Uu(r,e.toTimestamp())}function os(r){return Dn(!!r),Un.fromTimestamp(function(e){const t=tl(e);return new ti(t.seconds,t.nanos)}(r))}function Vc(r,e){return(t=r,new D(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function lf(r){const e=D.fromString(r);return Dn(ju(e)),e}function Uc(r,e){return Vc(r.databaseId,e.path)}function Ga(r,e){const t=lf(e);if(t.get(1)!==r.databaseId.projectId)throw new Lt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Lt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new F(Cd(t))}function Bc(r,e){return Vc(r.databaseId,e)}function wd(r){const e=lf(r);return 4===e.length?D.emptyPath():Cd(e)}function Bu(r){return new D(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Cd(r){return Dn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function hc(r,e,t){return{name:Uc(r,e),fields:t.value.mapValue.fields}}function uf(r,e,t){const o=Ga(r,e.name),c=os(e.updateTime),p=new B({mapValue:{fields:e.fields}}),b=De.newFoundDocument(o,c,p);return t&&b.setHasCommittedMutations(),t?b.setHasCommittedMutations():b}function jc(r,e){let t;if(e instanceof T)t={update:hc(r,e.key,e.value)};else if(e instanceof pe)t={delete:Uc(r,e.key)};else if(e instanceof y)t={update:hc(r,e.key,e.data),updateMask:pf(e.fieldMask)};else{if(!(e instanceof st))return wn();t={verify:Uc(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(c,p){const b=p.transform;if(b instanceof ou)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof sl)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Bs)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof xr)return{fieldPath:p.field.canonicalString(),increment:b.yt};throw wn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:io(r,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:wn()),t;var c}function Hu(r,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?hr.updateTime(os(c.updateTime)):void 0!==c.exists?hr.exists(c.exists):hr.none():hr.none(),o=e.updateTransforms?e.updateTransforms.map(c=>function(p,b){let A=null;"setToServerValue"in b?(Dn("REQUEST_TIME"===b.setToServerValue),A=new ou):"appendMissingElements"in b?A=new sl(b.appendMissingElements.values||[]):"removeAllFromArray"in b?A=new Bs(b.removeAllFromArray.values||[]):"increment"in b?A=new xr(p,b.increment):wn();const j=L.fromServerFormat(b.fieldPath);return new ku(j,A)}(r,c)):[];var c;if(e.update){const c=Ga(r,e.update.name),p=new B({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new qo((e.updateMask.fieldPaths||[]).map(Z=>L.fromServerFormat(Z)));return new y(c,p,b,t,o)}return new T(c,p,t,o)}if(e.delete){const c=Ga(r,e.delete);return new pe(c,t)}if(e.verify){const c=Ga(r,e.verify);return new st(c,t)}return wn()}function oh(r,e){return{documents:[Bc(r,e.path)]}}function lu(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Bc(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Bc(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function(j){if(0===j.length)return;const Z=j.map(ge=>function(je){if("=="===je.op){if(Ls(je.value))return{unaryFilter:{field:Gl(je.field),op:"IS_NAN"}};if(ga(je.value))return{unaryFilter:{field:Gl(je.field),op:"IS_NULL"}}}else if("!="===je.op){if(Ls(je.value))return{unaryFilter:{field:Gl(je.field),op:"IS_NOT_NAN"}};if(ga(je.value))return{unaryFilter:{field:Gl(je.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gl(je.field),op:ah(je.op),value:je.value}}}(ge));return 1===Z.length?Z[0]:{compositeFilter:{op:"AND",filters:Z}}}(e.filters);c&&(t.structuredQuery.where=c);const p=function(j){if(0!==j.length)return j.map(Z=>{return{field:Gl((ge=Z).field),direction:Td(ge.dir)};var ge})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const b=(Z=e.limit,r.gt||da(Z)?Z:{value:Z});var Z,A,j;return null!==b&&(t.structuredQuery.limit=b),e.startAt&&(t.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(t.structuredQuery.endAt={before:!(j=e.endAt).inclusive,values:j.position}),t}function df(r){let e=wd(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let c=null;if(o>0){Dn(1===o);const ge=t.from[0];ge.allDescendants?c=ge.collectionId:e=e.child(ge.collectionId)}let p=[];t.where&&(p=hf(t.where));let b=[];t.orderBy&&(b=t.orderBy.map(ge=>{return new Jo(uu((je=ge).field),function(ft){switch(ft){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(je.direction));var je}));let A=null;t.limit&&(A=function(ge){let je;return je="object"==typeof ge?ge.value:ge,da(je)?null:je}(t.limit));let j=null;var ge;t.startAt&&(j=new Fs((ge=t.startAt).values||[],!!ge.before));let Z=null;return t.endAt&&(Z=function(ge){return new Fs(ge.values||[],!ge.before)}(t.endAt)),yd(e,c,b,p,A,"F",j,Z)}function hf(r){return r?void 0!==r.unaryFilter?[pp(r)]:void 0!==r.fieldFilter?[ff(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>hf(e)).reduce((e,t)=>e.concat(t)):wn():[]}function Td(r){return Fc[r]}function ah(r){return Mo[r]}function Gl(r){return{fieldPath:r.canonicalString()}}function uu(r){return L.fromServerFormat(r.fieldPath)}function ff(r){return Ui.create(uu(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wn()}}(r.fieldFilter.op),r.fieldFilter.value)}function pp(r){switch(r.unaryFilter.op){case"IS_NAN":const e=uu(r.unaryFilter.field);return Ui.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=uu(r.unaryFilter.field);return Ui.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=uu(r.unaryFilter.field);return Ui.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=uu(r.unaryFilter.field);return Ui.create(c,"!=",{nullValue:"NULL_VALUE"});default:return wn()}}function pf(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ju(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function ro(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=gf(e)),e=gp(r.get(t),e);return gf(e)}function gp(r,e){let t=e;const o=r.length;for(let c=0;c<o;c++){const p=r.charAt(c);switch(p){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=p}}return t}function gf(r){return r+"\x01\x01"}function Po(r){const e=r.length;if(Dn(e>=2),2===e)return Dn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),D.emptyPath();const t=e-2,o=[];let c="";for(let p=0;p<e;){const b=r.indexOf("\x01",p);switch((b<0||b>t)&&wn(),r.charAt(b+1)){case"\x01":const A=r.substring(p,b);let j;0===c.length?j=A:(c+=A,j=c,c=""),o.push(j);break;case"\x10":c+=r.substring(p,b),c+="\0";break;case"\x11":c+=r.substring(p,b+1);break;default:wn()}p=b+2}return new D(o)}const al=["userId","batchId"];function lh(r,e){return[r,ro(e)]}function mp(r,e,t){return[r,ro(e),t]}const mf={},Vg=["prefixPath","collectionGroup","readTime","documentId"],Cl=["prefixPath","collectionGroup","documentId"],fc=["collectionGroup","readTime","prefixPath","documentId"],Dd=["canonicalId","targetId"],yf=["targetId","path"],Id=["path","targetId"],$c=["collectionId","parent"],vf=["indexId","uid"],_f=["uid","sequenceNumber"],Ad=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Sd=["indexId","uid","orderedDocumentKey"],uh=["userId","collectionPath","documentId"],yp=["userId","collectionPath","largestBatchId"],$u=["userId","collectionGroup","largestBatchId"],ch=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bf=[...ch,"documentOverlays"],vp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dh=vp,hh=[...dh,"indexConfiguration","indexState","indexEntries"];class Ef extends Qs{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function js(r,e){const t=sn(r);return Js.M(t.ie,e)}class xd{constructor(e,t,o,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&af(p,e,o[c])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Lu(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Lu(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=$l();return this.mutations.forEach(c=>{const p=e.get(c.key),b=p.overlayedDocument;let A=this.applyToLocalView(b,p.mutatedFields);A=t.has(c.key)?null:A;const j=vd(b,A);null!==j&&o.set(c.key,j),b.isValidDocument()||b.convertToNoDocument(Un.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Sn())}isEqual(e){return this.batchId===e.batchId&&fs(this.mutations,e.mutations,(t,o)=>rh(t,o))&&fs(this.baseMutations,e.baseMutations,(t,o)=>rh(t,o))}}class fh{constructor(e,t,o,c){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=c}static from(e,t,o){Dn(e.mutations.length===o.length);let c=uc;const p=e.mutations;for(let b=0;b<p.length;b++)c=c.insert(p[b].key,o[b].version);return new fh(e,t,o,c)}}class Od{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ll{constructor(e,t,o,c,p=Un.min(),b=Un.min(),A=Lr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=A}withSequenceNumber(e){return new ll(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ll(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class pc{constructor(e){this.re=e}}function gc(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ph(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Uc(c=r.re,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Uu(c,p.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Gu(e.version)};else{if(!e.isUnknownDocument())return wn();o.unknownDocument={path:t.path.toArray(),version:Gu(e.version)}}var c,p;return o}function ph(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Gu(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zu(r){const e=new ti(r.seconds,r.nanoseconds);return Un.fromTimestamp(e)}function cu(r,e){const t=(e.baseMutations||[]).map(p=>Hu(r.re,p));for(let p=0;p<e.mutations.length-1;++p){const b=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(b.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const o=e.mutations.map(p=>Hu(r.re,p)),c=ti.fromMillis(e.localWriteTimeMs);return new xd(e.batchId,c,t,o)}function ul(r){const e=zu(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?zu(r.lastLimboFreeSnapshotVersion):Un.min();let o;var c;return void 0!==r.query.documents?(Dn(1===(c=r.query).documents.length),o=Vs(Mu(wd(c.documents[0])))):o=Vs(df(r.query)),new ll(o,r.targetId,0,r.lastListenSequenceNumber,e,t,Lr.fromBase64String(r.resumeToken))}function wf(r,e){const t=Gu(e.snapshotVersion),o=Gu(e.lastLimboFreeSnapshotVersion);let c;c=Qn(e.target)?oh(r.re,e.target):lu(r.re,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:$t(e.target),readTime:t,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:c}}function gh(r){const e=df({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Bl(e,e.limit,"L"):e}function mh(r,e){return new Od(e.largestBatchId,Hu(r.re,e.overlayMutation))}function Md(r,e){const t=e.path.lastSegment();return[r,ro(e.path.popLast()),t]}function bp(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Gu(o.readTime),documentKey:ro(o.documentKey.path),largestBatchId:o.largestBatchId}}class Ep{getBundleMetadata(e,t){return Cf(e).get(t).next(o=>{if(o)return{id:(c=o).bundleId,createTime:zu(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return Cf(e).put({bundleId:(o=t).id,createTime:Gu(os(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Tf(e).get(t).next(o=>{if(o)return{name:(c=o).name,query:gh(c.bundledQuery),readTime:zu(c.readTime)};var c})}saveNamedQuery(e,t){return Tf(e).put({name:(o=t).name,readTime:Gu(os(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Cf(r){return js(r,"bundles")}function Tf(r){return js(r,"namedQueries")}class Wu{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Wu(e,t.uid||"")}getOverlay(e,t){return mc(e).get(Md(this.userId,t)).next(o=>o?mh(this.It,o):null)}getOverlays(e,t){const o=Xo();return yt.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&o.set(c,p)})).next(()=>o)}saveOverlays(e,t,o){const c=[];return o.forEach((p,b)=>{const A=new Od(t,b);c.push(this.ue(e,A))}),yt.waitFor(c)}removeOverlaysForBatchId(e,t,o){const c=new Set;t.forEach(b=>c.add(ro(b.getCollectionPath())));const p=[];return c.forEach(b=>{const A=IDBKeyRange.bound([this.userId,b,o],[this.userId,b,o+1],!1,!0);p.push(mc(e).Y("collectionPathOverlayIndex",A))}),yt.waitFor(p)}getOverlaysForCollection(e,t,o){const c=Xo(),p=ro(t),b=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return mc(e).W("collectionPathOverlayIndex",b).next(A=>{for(const j of A){const Z=mh(this.It,j);c.set(Z.getKey(),Z)}return c})}getOverlaysForCollectionGroup(e,t,o,c){const p=Xo();let b;const A=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mc(e).Z({index:"collectionGroupOverlayIndex",range:A},(j,Z,ge)=>{const je=mh(this.It,Z);p.size()<c||je.largestBatchId===b?(p.set(je.getKey(),je),b=je.largestBatchId):ge.done()}).next(()=>p)}ue(e,t){return mc(e).put(function(o,c,p){const[b,A,j]=Md(c,p.mutation.key);return{userId:c,collectionPath:A,documentId:j,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:jc(o.re,p.mutation)}}(this.It,this.userId,t))}}function mc(r){return js(r,"documentOverlays")}class cl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(dr(e.integerValue));else if("doubleValue"in e){const o=dr(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),il(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ir(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?ma(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):wn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const c of Object.keys(o))this._e(c,t),this.ae(o[c],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const c of o)this.ae(c,t)}ge(e,t){this.le(t,37),F.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Gc(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function Pd(r){const e=64-function(t){let o=0;for(let c=0;c<8;++c){const p=Gc(255&t[c]);if(o+=p,8!==p)break}return o}(r);return Math.ceil(e/8)}cl.Te=new cl;class Rd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const c=t.codePointAt(0);this.Ae(240|c>>>18),this.Ae(128|63&c>>>12),this.Ae(128|63&c>>>6),this.Ae(128|63&c)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const c=t.codePointAt(0);this.Pe(240|c>>>18),this.Pe(128|63&c>>>12),this.Pe(128|63&c>>>6),this.Pe(128|63&c)}}this.ve()}De(e){const t=this.Ce(e),o=Pd(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let c=t.length-o;c<t.length;++c)this.buffer[this.position++]=255&t[c]}Ne(e){const t=this.Ce(e),o=Pd(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let c=t.length-o;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(c){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,c,!1),new Uint8Array(p.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let c=1;c<t.length;++c)t[c]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const c=new Uint8Array(o);c.set(this.buffer),this.buffer=c}}class yh{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Nd{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Tl{constructor(){this.Be=new Rd,this.Le=new yh(this.Be),this.Ue=new Nd(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class zl{constructor(e,t,o,c){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=c}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new zl(this.indexId,this.documentKey,this.arrayValue,o)}}function du(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Df(r.arrayValue,e.arrayValue),0!==t?t:(t=Df(r.directionalValue,e.directionalValue),0!==t?t:F.comparator(r.documentKey,e.documentKey)))}function Df(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class vh{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=Oe(e);if(void 0!==t&&!this.ze(t))return!1;const o=He(e);let c=0,p=0;for(;c<o.length&&this.ze(o[c]);++c);if(c===o.length)return!0;if(void 0!==this.je){const b=o[c];if(!this.He(this.je,b)||!this.Je(this.Ge[p++],b))return!1;++c}for(;c<o.length;++c){const b=o[c];if(p>=this.Ge.length||!this.Je(this.Ge[p++],b))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class If{constructor(){this.Ye=new zc}addToCollectionParentIndex(e,t){return this.Ye.add(t),yt.resolve()}getCollectionParents(e,t){return yt.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return yt.resolve()}deleteFieldIndex(e,t){return yt.resolve()}getDocumentsMatchingTarget(e,t){return yt.resolve(null)}getIndexType(e,t){return yt.resolve(0)}getFieldIndexes(e,t){return yt.resolve([])}getNextCollectionGroupToUpdate(e){return yt.resolve(null)}getMinOffset(e,t){return yt.resolve(er.min())}getMinOffsetFromCollectionGroup(e,t){return yt.resolve(er.min())}updateCollectionGroup(e,t,o){return yt.resolve()}updateIndexEntries(e,t){return yt.resolve()}}class zc{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),c=this.index[t]||new tr(D.comparator),p=!c.has(o);return this.index[t]=c.add(o),p}has(e){const t=e.lastSegment(),o=e.popLast(),c=this.index[t];return c&&c.has(o)}getEntries(e){return(this.index[e]||new tr(D.comparator)).toArray()}}const Zu=new Uint8Array(0);class Af{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new zc,this.Ze=new Hs(o=>$t(o),(o,c)=>Ln(o,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const p={collectionId:o,parent:ro(c)};return _h(e).put(p)}return yt.resolve()}getCollectionParents(e,t){const o=[],c=IDBKeyRange.bound([t,""],[La(t),""],!1,!0);return _h(e).W(c).next(p=>{for(const b of p){if(b.collectionId!==t)break;o.push(Po(b.parent))}return o})}addFieldIndex(e,t){const o=Wc(e),c={indexId:(b=t).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])};var b;delete c.indexId;const p=o.add(c);if(t.indexState){const b=nn(e);return p.next(A=>{b.put(bp(A,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return p.next()}deleteFieldIndex(e,t){const o=Wc(e),c=nn(e),p=kd(e);return o.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=kd(e);let c=!0;const p=new Map;return yt.forEach(this.tn(t),b=>this.en(e,b).next(A=>{c&&(c=!!A),p.set(b,A)})).next(()=>{if(c){let b=Sn();const A=[];return yt.forEach(p,(j,Z)=>{var ge;Zt("IndexedDbIndexManager",`Using index ${ge=j,`id=${ge.indexId}|cg=${ge.collectionGroup}|f=${ge.fields.map(mr=>`${mr.fieldPath}:${mr.kind}`).join(",")}`} to execute ${$t(t)}`);const je=function(mr,oo){const Or=Oe(oo);if(void 0===Or)return null;for(const ur of Jn(mr,Or.fieldPath))switch(ur.op){case"array-contains-any":return ur.value.arrayValue.values||[];case"array-contains":return[ur.value]}return null}(Z,j),ft=function(mr,oo){const Or=new Map;for(const ur of He(oo))for(const Eo of Jn(mr,ur.fieldPath))switch(Eo.op){case"==":case"in":Or.set(ur.fieldPath.canonicalString(),Eo.value);break;case"not-in":case"!=":return Or.set(ur.fieldPath.canonicalString(),Eo.value),Array.from(Or.values())}return null}(Z,j),Ut=function(mr,oo){const Or=[];let ur=!0;for(const Eo of He(oo)){const nh=0===Eo.kind?Nn(mr,Eo.fieldPath,mr.startAt):Sr(mr,Eo.fieldPath,mr.startAt);Or.push(nh.value),ur&&(ur=nh.inclusive)}return new Fs(Or,ur)}(Z,j),Yt=function(mr,oo){const Or=[];let ur=!0;for(const Eo of He(oo)){const nh=0===Eo.kind?Sr(mr,Eo.fieldPath,mr.endAt):Nn(mr,Eo.fieldPath,mr.endAt);Or.push(nh.value),ur&&(ur=nh.inclusive)}return new Fs(Or,ur)}(Z,j),vn=this.nn(j,Z,Ut),An=this.nn(j,Z,Yt),rr=this.sn(j,Z,ft),Ur=this.rn(j.indexId,je,vn,Ut.inclusive,An,Yt.inclusive,rr);return yt.forEach(Ur,mr=>o.J(mr,t.limit).next(oo=>{oo.forEach(Or=>{const ur=F.fromSegments(Or.documentKey);b.has(ur)||(b=b.add(ur),A.push(ur))})}))}).next(()=>A)}return yt.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,c,p,b,A){const j=(null!=t?t.length:1)*Math.max(o.length,p.length),Z=j/(null!=t?t.length:1),ge=[];for(let je=0;je<j;++je){const ft=t?this.on(t[je/Z]):Zu,Ut=this.un(e,ft,o[je%Z],c),Yt=this.cn(e,ft,p[je%Z],b),vn=A.map(An=>this.un(e,ft,An,!0));ge.push(...this.createRange(Ut,Yt,vn))}return ge}un(e,t,o,c){const p=new zl(e,F.empty(),t,o);return c?p:p.Ke()}cn(e,t,o,c){const p=new zl(e,F.empty(),t,o);return c?p.Ke():p}en(e,t){const o=new vh(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(p=>{let b=null;for(const A of p)o.We(A)&&(!b||A.fields.length>b.fields.length)&&(b=A);return b})}getIndexType(e,t){let o=2;return yt.forEach(this.tn(t),c=>this.en(e,c).next(p=>{p?0!==o&&p.fields.length<function(b){let A=new tr(L.comparator),j=!1;for(const Z of b.filters){const ge=Z;ge.field.isKeyField()||("array-contains"===ge.op||"array-contains-any"===ge.op?j=!0:A=A.add(ge.field))}for(const Z of b.orderBy)Z.field.isKeyField()||(A=A.add(Z.field));return A.size+(j?1:0)}(c)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new Tl;for(const c of He(e)){const p=t.data.field(c.fieldPath);if(null==p)return null;const b=o.qe(c.kind);cl.Te.ce(p,b)}return o.$e()}on(e){const t=new Tl;return cl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new Tl;return cl.Te.ce(Qo(this.databaseId,t),o.qe(function(c){const p=He(c);return 0===p.length?0:p[p.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let c=[];c.push(new Tl);let p=0;for(const b of He(e)){const A=o[p++];for(const j of c)if(this.ln(t,b.fieldPath)&&Ar(A))c=this.fn(c,b,A);else{const Z=j.qe(b.kind);cl.Te.ce(A,Z)}}return this.dn(c)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const c=[...e],p=[];for(const b of o.arrayValue.values||[])for(const A of c){const j=new Tl;j.seed(A.$e()),cl.Te.ce(b,j.qe(t.kind)),p.push(j)}return p}ln(e,t){return!!e.filters.find(o=>o instanceof Ui&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Wc(e),c=nn(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(p=>{const b=[];return yt.forEach(p,A=>c.get([A.indexId,this.uid]).next(j=>{b.push(function(Z,ge){const je=ge?new Tn(ge.sequenceNumber,new er(zu(ge.readTime),new F(Po(ge.documentKey)),ge.largestBatchId)):Tn.empty(),ft=Z.fields.map(([Ut,Yt])=>new mn(L.fromServerFormat(Ut),Yt));return new le(Z.indexId,Z.collectionGroup,ft,je)}(A,j))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,c)=>{const p=o.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==p?p:Wn(o.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const c=Wc(e),p=nn(e);return this._n(e).next(b=>c.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(A=>yt.forEach(A,j=>p.put(bp(j.indexId,this.user,b,o)))))}updateIndexEntries(e,t){const o=new Map;return yt.forEach(t,(c,p)=>{const b=o.get(c.collectionGroup);return(b?yt.resolve(b):this.getFieldIndexes(e,c.collectionGroup)).next(A=>(o.set(c.collectionGroup,A),yt.forEach(A,j=>this.wn(e,c,j).next(Z=>{const ge=this.mn(p,j);return Z.isEqual(ge)?yt.resolve():this.gn(e,p,j,Z,ge)}))))})}yn(e,t,o,c){return kd(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,c){return kd(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const c=kd(e);let p=new tr(du);return c.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(b,A)=>{p=p.add(new zl(o.indexId,t,A.arrayValue,A.directionalValue))}).next(()=>p)}mn(e,t){let o=new tr(du);const c=this.an(t,e);if(null==c)return o;const p=Oe(t);if(null!=p){const b=e.data.field(p.fieldPath);if(Ar(b))for(const A of b.arrayValue.values||[])o=o.add(new zl(t.indexId,e.key,this.on(A),c))}else o=o.add(new zl(t.indexId,e.key,Zu,c));return o}gn(e,t,o,c,p){Zt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const b=[];return function(A,j,Z,ge,je){const ft=A.getIterator(),Ut=j.getIterator();let Yt=vo(ft),vn=vo(Ut);for(;Yt||vn;){let An=!1,rr=!1;if(Yt&&vn){const Ur=Z(Yt,vn);Ur<0?rr=!0:Ur>0&&(An=!0)}else null!=Yt?rr=!0:An=!0;An?(ge(vn),vn=vo(Ut)):rr?(je(Yt),Yt=vo(ft)):(Yt=vo(ft),vn=vo(Ut))}}(c,p,du,A=>{b.push(this.yn(e,t,o,A))},A=>{b.push(this.pn(e,t,o,A))}),yt.waitFor(b)}_n(e){let t=1;return nn(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,c,p)=>{p.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((b,A)=>du(b,A)).filter((b,A,j)=>!A||0!==du(b,j[A-1]));const c=[];c.push(e);for(const b of o){const A=du(b,e),j=du(b,t);if(0===A)c[0]=e.Ke();else if(A>0&&j<0)c.push(b),c.push(b.Ke());else if(j>0)break}c.push(t);const p=[];for(let b=0;b<c.length;b+=2)p.push(IDBKeyRange.bound([c[b].indexId,this.uid,c[b].arrayValue,c[b].directionalValue,Zu,[]],[c[b+1].indexId,this.uid,c[b+1].arrayValue,c[b+1].directionalValue,Zu,[]]));return p}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Sf)}getMinOffset(e,t){return yt.mapArray(this.tn(t),o=>this.en(e,o).next(c=>c||wn())).next(Sf)}}function _h(r){return js(r,"collectionParents")}function kd(r){return js(r,"indexEntries")}function Wc(r){return js(r,"indexConfiguration")}function nn(r){return js(r,"indexState")}function Sf(r){Dn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const c=r[o].indexState.offset;yo(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new er(e.readTime,e.documentKey,t)}const za={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bo{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new bo(e,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ld(r,e,t){const o=r.store("mutations"),c=r.store("documentMutations"),p=[],b=IDBKeyRange.only(t.batchId);let A=0;const j=o.Z({range:b},(ge,je,ft)=>(A++,ft.delete()));p.push(j.next(()=>{Dn(1===A)}));const Z=[];for(const ge of t.mutations){const je=mp(e,ge.key.path,t.batchId);p.push(c.delete(je)),Z.push(ge.key)}return yt.waitFor(p).next(()=>Z)}function Zc(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw wn();e=r.noDocument}return JSON.stringify(e).length}bo.DEFAULT_COLLECTION_PERCENTILE=10,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bo.DEFAULT=new bo(41943040,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bo.DISABLED=new bo(-1,0,0);class hu{constructor(e,t,o,c){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=c,this.In={}}static oe(e,t,o,c){Dn(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new hu(p,t,o,c)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fu(e).Z({index:"userMutationsIndex",range:o},(c,p,b)=>{t=!1,b.done()}).next(()=>t)}addMutationBatch(e,t,o,c){const p=Ku(e),b=fu(e);return b.add({}).next(A=>{Dn("number"==typeof A);const j=new xd(A,t,o,c),Z=function(ft,Ut,Yt){const vn=Yt.baseMutations.map(rr=>jc(ft.re,rr)),An=Yt.mutations.map(rr=>jc(ft.re,rr));return{userId:Ut,batchId:Yt.batchId,localWriteTimeMs:Yt.localWriteTime.toMillis(),baseMutations:vn,mutations:An}}(this.It,this.userId,j),ge=[];let je=new tr((ft,Ut)=>Wn(ft.canonicalString(),Ut.canonicalString()));for(const ft of c){const Ut=mp(this.userId,ft.key.path,A);je=je.add(ft.key.path.popLast()),ge.push(b.put(Z)),ge.push(p.put(Ut,mf))}return je.forEach(ft=>{ge.push(this.indexManager.addToCollectionParentIndex(e,ft))}),e.addOnCommittedListener(()=>{this.In[A]=j.keys()}),yt.waitFor(ge).next(()=>j)})}lookupMutationBatch(e,t){return fu(e).get(t).next(o=>o?(Dn(o.userId===this.userId),cu(this.It,o)):null)}Tn(e,t){return this.In[t]?yt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const c=o.keys();return this.In[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,c=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return fu(e).Z({index:"userMutationsIndex",range:c},(b,A,j)=>{A.userId===this.userId&&(Dn(A.batchId>=o),p=cu(this.It,A)),j.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return fu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(c,p,b)=>{o=p.batchId,b.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fu(e).W("userMutationsIndex",t).next(o=>o.map(c=>cu(this.It,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=lh(this.userId,t.path),c=IDBKeyRange.lowerBound(o),p=[];return Ku(e).Z({range:c},(b,A,j)=>{const[Z,ge,je]=b,ft=Po(ge);if(Z===this.userId&&t.path.isEqual(ft))return fu(e).get(je).next(Ut=>{if(!Ut)throw wn();Dn(Ut.userId===this.userId),p.push(cu(this.It,Ut))});j.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new tr(Wn);const c=[];return t.forEach(p=>{const b=lh(this.userId,p.path),A=IDBKeyRange.lowerBound(b),j=Ku(e).Z({range:A},(Z,ge,je)=>{const[ft,Ut,Yt]=Z,vn=Po(Ut);ft===this.userId&&p.path.isEqual(vn)?o=o.add(Yt):je.done()});c.push(j)}),yt.waitFor(c).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,c=o.length+1,p=lh(this.userId,o),b=IDBKeyRange.lowerBound(p);let A=new tr(Wn);return Ku(e).Z({range:b},(j,Z,ge)=>{const[je,ft,Ut]=j,Yt=Po(ft);je===this.userId&&o.isPrefixOf(Yt)?Yt.length===c&&(A=A.add(Ut)):ge.done()}).next(()=>this.En(e,A))}En(e,t){const o=[],c=[];return t.forEach(p=>{c.push(fu(e).get(p).next(b=>{if(null===b)throw wn();Dn(b.userId===this.userId),o.push(cu(this.It,b))}))}),yt.waitFor(c).next(()=>o)}removeMutationBatch(e,t){return Ld(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),yt.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return yt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),c=[];return Ku(e).Z({range:o},(p,b,A)=>{if(p[0]===this.userId){const j=Po(p[1]);c.push(j)}else A.done()}).next(()=>{Dn(0===c.length)})})}containsKey(e,t){return Fd(e,this.userId,t)}Rn(e){return bh(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Fd(r,e,t){const o=lh(e,t.path),c=o[1],p=IDBKeyRange.lowerBound(o);let b=!1;return Ku(r).Z({range:p,X:!0},(A,j,Z)=>{const[ge,je,ft]=A;ge===e&&je===c&&(b=!0),Z.done()}).next(()=>b)}function fu(r){return js(r,"mutations")}function Ku(r){return js(r,"documentMutations")}function bh(r){return js(r,"mutationQueues")}class Dl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Dl(0)}static vn(){return new Dl(-1)}}class wp{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new Dl(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Un.fromTimestamp(new ti(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(c=>(c.highestListenSequenceNumber=t,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.Sn(e,c)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Xn(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(Dn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let c=0;const p=[];return Xn(e).Z((b,A)=>{const j=ul(A);j.sequenceNumber<=t&&null===o.get(j.targetId)&&(c++,p.push(this.removeTargetData(e,j)))}).next(()=>yt.waitFor(p)).next(()=>c)}forEachTarget(e,t){return Xn(e).Z((o,c)=>{const p=ul(c);t(p)})}Vn(e){return Vd(e).get("targetGlobalKey").next(t=>(Dn(null!==t),t))}Sn(e,t){return Vd(e).put("targetGlobalKey",t)}Dn(e,t){return Xn(e).put(wf(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=$t(t),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return Xn(e).Z({range:c,index:"queryTargetsIndex"},(b,A,j)=>{const Z=ul(A);Ln(t,Z.target)&&(p=Z,j.done())}).next(()=>p)}addMatchingKeys(e,t,o){const c=[],p=Ro(e);return t.forEach(b=>{const A=ro(b.path);c.push(p.put({targetId:o,path:A})),c.push(this.referenceDelegate.addReference(e,o,b))}),yt.waitFor(c)}removeMatchingKeys(e,t,o){const c=Ro(e);return yt.forEach(t,p=>{const b=ro(p.path);return yt.waitFor([c.delete([o,b]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,t){const o=Ro(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),c=Ro(e);let p=Sn();return c.Z({range:o,X:!0},(b,A,j)=>{const Z=Po(b[1]),ge=new F(Z);p=p.add(ge)}).next(()=>p)}containsKey(e,t){const o=ro(t.path),c=IDBKeyRange.bound([o],[La(o)],!1,!0);let p=0;return Ro(e).Z({index:"documentTargetsIndex",X:!0,range:c},([b,A],j,Z)=>{0!==b&&(p++,Z.done())}).next(()=>p>0)}se(e,t){return Xn(e).get(t).next(o=>o?ul(o):null)}}function Xn(r){return js(r,"targets")}function Vd(r){return js(r,"targetGlobal")}function Ro(r){return js(r,"targetDocuments")}function ea([r,e],[t,o]){const c=Wn(r,t);return 0===c?Wn(e,o):c}class $s{constructor(e){this.xn=e,this.buffer=new tr(ea),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();ea(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wa{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Zt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,g.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){$r(o)?Zt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield ks(o)}yield t.Fn(3e5)}))}}class Eh{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return yt.resolve(Xs.at);const o=new $s(t);return this.$n.forEachTarget(e,c=>o.On(c.sequenceNumber)).next(()=>this.$n.Ln(e,c=>o.On(c))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Zt("LruGarbageCollector","Garbage collection skipped; disabled"),yt.resolve(za)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Zt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),za):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,c,p,b,A,j,Z;const ge=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(je=>(je>this.params.maximumSequenceNumbersToCollect?(Zt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${je}`),c=this.params.maximumSequenceNumbersToCollect):c=je,b=Date.now(),this.nthSequenceNumber(e,c))).next(je=>(o=je,A=Date.now(),this.removeTargets(e,o,t))).next(je=>(p=je,j=Date.now(),this.removeOrphanedDocuments(e,o))).next(je=>(Z=Date.now(),go()<=Te.in.DEBUG&&Zt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ge}ms\n\tDetermined least recently used ${c} in `+(A-b)+`ms\n\tRemoved ${p} targets in `+(j-A)+`ms\n\tRemoved ${je} documents in `+(Z-j)+`ms\nTotal Duration: ${Z-ge}ms`),yt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:p,documentsRemoved:je})))}}class Kc{constructor(e,t){this.db=e,this.garbageCollector=new Eh(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(c=>o+c))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,c)=>t(c))}addReference(e,t,o){return Il(e,o)}removeReference(e,t,o){return Il(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Il(e,t)}Gn(e,t){return function(o,c){let p=!1;return bh(o).tt(b=>Fd(o,b,c).next(A=>(A&&(p=!0),yt.resolve(!A)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let p=0;return this.Kn(e,(b,A)=>{if(A<=t){const j=this.Gn(e,b).next(Z=>{if(!Z)return p++,o.getEntry(e,b).next(()=>(o.removeEntry(b,Un.min()),Ro(e).delete([0,ro(b.path)])))});c.push(j)}}).next(()=>yt.waitFor(c)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Il(e,t)}Kn(e,t){const o=Ro(e);let c,p=Xs.at;return o.Z({index:"documentTargetsIndex"},([b,A],{path:j,sequenceNumber:Z})=>{0===b?(p!==Xs.at&&t(new F(Po(c)),p),p=Z,c=j):p=Xs.at}).next(()=>{p!==Xs.at&&t(new F(Po(c)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Il(r,e){return Ro(r).put((o=r.currentSequenceNumber,{targetId:0,path:ro(e.path),sequenceNumber:o}));var o}class zr{constructor(){this.changes=new Hs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,De.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?yt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wh{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Al(e).put(o)}removeEntry(e,t,o){return Al(e).delete(function(c,p){const b=c.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],ph(p),b[b.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=De.newInvalidDocument(t);return Al(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Sl(t))},(c,p)=>{o=this.jn(t,p)}).next(()=>o)}Wn(e,t){let o={size:0,document:De.newInvalidDocument(t)};return Al(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Sl(t))},(c,p)=>{o={document:this.jn(t,p),size:Zc(p)}}).next(()=>o)}getEntries(e,t){let o=As();return this.zn(e,t,(c,p)=>{const b=this.jn(c,p);o=o.insert(c,b)}).next(()=>o)}Hn(e,t){let o=As(),c=new vr(F.comparator);return this.zn(e,t,(p,b)=>{const A=this.jn(p,b);o=o.insert(p,A),c=c.insert(p,Zc(b))}).next(()=>({documents:o,Jn:c}))}zn(e,t,o){if(t.isEmpty())return yt.resolve();let c=new tr(Qc);t.forEach(j=>c=c.add(j));const p=IDBKeyRange.bound(Sl(c.first()),Sl(c.last())),b=c.getIterator();let A=b.getNext();return Al(e).Z({index:"documentKeyIndex",range:p},(j,Z,ge)=>{const je=F.fromSegments([...Z.prefixPath,Z.collectionGroup,Z.documentId]);for(;A&&Qc(A,je)<0;)o(A,null),A=b.getNext();A&&A.isEqual(je)&&(o(A,Z),A=b.hasNext()?b.getNext():null),A?ge.j(Sl(A)):ge.done()}).next(()=>{for(;A;)o(A,null),A=b.hasNext()?b.getNext():null})}getAllFromCollection(e,t,o){const c=[t.popLast().toArray(),t.lastSegment(),ph(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],p=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Al(e).W(IDBKeyRange.bound(c,p,!0)).next(b=>{let A=As();for(const j of b){const Z=this.jn(F.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);A=A.insert(Z.key,Z)}return A})}getAllFromCollectionGroup(e,t,o,c){let p=As();const b=Yc(t,o),A=Yc(t,er.max());return Al(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,A,!0)},(j,Z,ge)=>{const je=this.jn(F.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);p=p.insert(je.key,je),p.size===c&&ge.done()}).next(()=>p)}newChangeBuffer(e){return new pu(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return qu(e).get("remoteDocumentGlobalKey").next(t=>(Dn(!!t),t))}Qn(e,t){return qu(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function _p(r,e){let t;if(e.document)t=uf(r.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=F.fromSegments(e.noDocument.path),c=zu(e.noDocument.readTime);t=De.newNoDocument(o,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return wn();{const o=F.fromSegments(e.unknownDocument.path),c=zu(e.unknownDocument.version);t=De.newUnknownDocument(o,c)}}return e.readTime&&t.setReadTime(function(o){const c=new ti(o[0],o[1]);return Un.fromTimestamp(c)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(Un.min()))return o}return De.newInvalidDocument(e)}}function qc(r){return new wh(r)}class pu extends zr{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Hs(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(e){const t=[];let o=0,c=new tr((p,b)=>Wn(p.canonicalString(),b.canonicalString()));return this.changes.forEach((p,b)=>{const A=this.Xn.get(p);if(t.push(this.Yn.removeEntry(e,p,A.readTime)),b.isValidDocument()){const j=gc(this.Yn.It,b);c=c.add(p.path.popLast()),o+=Zc(j)-A.size,t.push(this.Yn.addEntry(e,p,j))}else if(o-=A.size,this.trackRemovals){const j=gc(this.Yn.It,b.convertToNoDocument(Un.min()));t.push(this.Yn.addEntry(e,p,j))}}),c.forEach(p=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,p))}),t.push(this.Yn.updateMetadata(e,o)),yt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:c})=>(c.forEach((p,b)=>{this.Xn.set(p,{size:b,readTime:o.get(p).readTime})}),o))}}function qu(r){return js(r,"remoteDocumentGlobal")}function Al(r){return js(r,"remoteDocumentsV14")}function Sl(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Yc(r,e){const t=e.documentKey.path.toArray();return[r,ph(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Qc(r,e){const t=r.path.toArray(),o=e.path.toArray();let c=0;for(let p=0;p<t.length-2&&p<o.length-2;++p)if(c=Wn(t[p],o[p]),c)return c;return c=Wn(t.length,o.length),c||(c=Wn(t[t.length-2],o[o.length-2]),c||Wn(t[t.length-1],o[o.length-1]))}class Ch{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ud{constructor(e,t,o,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(o=c,this.getBaseDocument(e,t,o))).next(c=>(null!==o&&Lu(o.mutation,c,qo.empty(),ti.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Sn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Sn()){const c=Xo();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,o).next(p=>{let b=ol();return p.forEach((A,j)=>{b=b.insert(A,j.overlayedDocument)}),b}))}getOverlayedDocuments(e,t){const o=Xo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Sn()))}populateOverlays(e,t,o){const c=[];return o.forEach(p=>{t.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((b,A)=>{t.set(b,A)})})}computeViews(e,t,o,c){let p=As();const b=wl(),A=wl();return t.forEach((j,Z)=>{const ge=o.get(Z.key);c.has(Z.key)&&(void 0===ge||ge.mutation instanceof y)?p=p.insert(Z.key,Z):void 0!==ge&&(b.set(Z.key,ge.mutation.getFieldMask()),Lu(ge.mutation,Z,ge.mutation.getFieldMask(),ti.now()))}),this.recalculateAndSaveOverlays(e,p).next(j=>(j.forEach((Z,ge)=>b.set(Z,ge)),t.forEach((Z,ge)=>{var je;return A.set(Z,new Ch(ge,null!==(je=b.get(Z))&&void 0!==je?je:null))}),A))}recalculateAndSaveOverlays(e,t){const o=wl();let c=new vr((b,A)=>b-A),p=Sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(b=>{for(const A of b)A.keys().forEach(j=>{const Z=t.get(j);if(null===Z)return;let ge=o.get(j)||qo.empty();ge=A.applyToLocalView(Z,ge),o.set(j,ge);const je=(c.get(A.batchId)||Sn()).add(j);c=c.insert(A.batchId,je)})}).next(()=>{const b=[],A=c.getReverseIterator();for(;A.hasNext();){const j=A.getNext(),Z=j.key,ge=j.value,je=$l();ge.forEach(ft=>{if(!p.has(ft)){const Ut=vd(t.get(ft),o.get(ft));null!==Ut&&je.set(ft,Ut),p=p.add(ft)}}),b.push(this.documentOverlayCache.saveOverlays(e,Z,je))}return yt.waitFor(b)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return F.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):sc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var c}getNextDocuments(e,t,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,c).next(p=>{const b=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,c-p.size):yt.resolve(Xo());let A=-1,j=p;return b.next(Z=>yt.forEach(Z,(ge,je)=>(A<je.largestBatchId&&(A=je.largestBatchId),p.get(ge)?yt.resolve():this.getBaseDocument(e,ge,je).next(ft=>{j=j.insert(ge,ft)}))).next(()=>this.populateOverlays(e,Z,p)).next(()=>this.computeViews(e,j,Z,Sn())).next(ge=>({batchId:A,changes:Nc(ge)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new F(t)).next(o=>{let c=ol();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const c=t.collectionGroup;let p=ol();return this.indexManager.getCollectionParents(e,c).next(b=>yt.forEach(b,A=>{const j=(Z=t,ge=A.child(c),new to(ge,null,Z.explicitOrderBy.slice(),Z.filters.slice(),Z.limit,Z.limitType,Z.startAt,Z.endAt));var Z,ge;return this.getDocumentsMatchingCollectionQuery(e,j,o).next(Z=>{Z.forEach((ge,je)=>{p=p.insert(ge,je)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,o){let c;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(p=>(c=p,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(p=>{p.forEach((A,j)=>{const Z=j.getKey();null===c.get(Z)&&(c=c.insert(Z,De.newInvalidDocument(Z)))});let b=ol();return c.forEach((A,j)=>{const Z=p.get(A);void 0!==Z&&Lu(Z.mutation,j,qo.empty(),ti.now()),Us(t,j)&&(b=b.insert(A,j))}),b})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):yt.resolve(De.newInvalidDocument(t))}}class Bd{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return yt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:os(o.createTime)}),yt.resolve()}getNamedQuery(e,t){return yt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:gh(o.bundledQuery),readTime:os(o.readTime)}),yt.resolve();var o}}class Ug{constructor(){this.overlays=new vr(F.comparator),this.es=new Map}getOverlay(e,t){return yt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Xo();return yt.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&o.set(c,p)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((c,p)=>{this.ue(e,t,p)}),yt.resolve()}removeOverlaysForBatchId(e,t,o){const c=this.es.get(o);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.es.delete(o)),yt.resolve()}getOverlaysForCollection(e,t,o){const c=Xo(),p=t.length+1,b=new F(t.child("")),A=this.overlays.getIteratorFrom(b);for(;A.hasNext();){const j=A.getNext().value,Z=j.getKey();if(!t.isPrefixOf(Z.path))break;Z.path.length===p&&j.largestBatchId>o&&c.set(j.getKey(),j)}return yt.resolve(c)}getOverlaysForCollectionGroup(e,t,o,c){let p=new vr((Z,ge)=>Z-ge);const b=this.overlays.getIterator();for(;b.hasNext();){const Z=b.getNext().value;if(Z.getKey().getCollectionGroup()===t&&Z.largestBatchId>o){let ge=p.get(Z.largestBatchId);null===ge&&(ge=Xo(),p=p.insert(Z.largestBatchId,ge)),ge.set(Z.getKey(),Z)}}const A=Xo(),j=p.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((Z,ge)=>A.set(Z,ge)),!(A.size()>=c)););return yt.resolve(A)}ue(e,t,o){const c=this.overlays.get(o.key);if(null!==c){const b=this.es.get(c.largestBatchId).delete(o.key);this.es.set(c.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new Od(t,o));let p=this.es.get(t);void 0===p&&(p=Sn(),this.es.set(t,p)),this.es.set(t,p.add(o.key))}}class Jc{constructor(){this.ns=new tr(gs.ss),this.rs=new tr(gs.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new gs(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new gs(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new F(new D([])),o=new gs(t,e),c=new gs(t,e+1),p=[];return this.rs.forEachInRange([o,c],b=>{this.cs(b),p.push(b.key)}),p}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new F(new D([])),o=new gs(t,e),c=new gs(t,e+1);let p=Sn();return this.rs.forEachInRange([o,c],b=>{p=p.add(b.key)}),p}containsKey(e){const t=new gs(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class gs{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return F.comparator(e.key,t.key)||Wn(e._s,t._s)}static os(e,t){return Wn(e._s,t._s)||F.comparator(e.key,t.key)}}class xf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new tr(gs.ss)}checkEmpty(e){return yt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,c){const p=this.ws;this.ws++;const b=new xd(p,t,o,c);this.mutationQueue.push(b);for(const A of c)this.gs=this.gs.add(new gs(A.key,p)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return yt.resolve(b)}lookupMutationBatch(e,t){return yt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.ps(t+1),p=c<0?0:c;return yt.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return yt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new gs(t,0),c=new gs(t,Number.POSITIVE_INFINITY),p=[];return this.gs.forEachInRange([o,c],b=>{const A=this.ys(b._s);p.push(A)}),yt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new tr(Wn);return t.forEach(c=>{const p=new gs(c,0),b=new gs(c,Number.POSITIVE_INFINITY);this.gs.forEachInRange([p,b],A=>{o=o.add(A._s)})}),yt.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,c=o.length+1;let p=o;F.isDocumentKey(p)||(p=p.child(""));const b=new gs(new F(p),0);let A=new tr(Wn);return this.gs.forEachWhile(j=>{const Z=j.key.path;return!!o.isPrefixOf(Z)&&(Z.length===c&&(A=A.add(j._s)),!0)},b),yt.resolve(this.Is(A))}Is(e){const t=[];return e.forEach(o=>{const c=this.ys(o);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){Dn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return yt.forEach(t.mutations,c=>{const p=new gs(c.key,t.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new gs(t,0),c=this.gs.firstAfterOrEqual(o);return yt.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return yt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Cp{constructor(e){this.Es=e,this.docs=new vr(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,c=this.docs.get(o),p=c?c.size:0,b=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:b}),this.size+=b-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return yt.resolve(o?o.document.mutableCopy():De.newInvalidDocument(t))}getEntries(e,t){let o=As();return t.forEach(c=>{const p=this.docs.get(c);o=o.insert(c,p?p.document.mutableCopy():De.newInvalidDocument(c))}),yt.resolve(o)}getAllFromCollection(e,t,o){let c=As();const p=new F(t.child("")),b=this.docs.getIteratorFrom(p);for(;b.hasNext();){const{key:A,value:{document:j}}=b.getNext();if(!t.isPrefixOf(A.path))break;A.path.length>t.length+1||yo(yi(j),o)<=0||(c=c.insert(j.key,j.mutableCopy()))}return yt.resolve(c)}getAllFromCollectionGroup(e,t,o,c){wn()}As(e,t){return yt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Hd(this)}getSize(e){return yt.resolve(this.size)}}class Hd extends zr{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?t.push(this.Yn.addEntry(e,c)):this.Yn.removeEntry(o)}),yt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Bg{constructor(e){this.persistence=e,this.Rs=new Hs(t=>$t(t),Ln),this.lastRemoteSnapshotVersion=Un.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Jc,this.targetCount=0,this.vs=Dl.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,c)=>t(c)),yt.resolve()}getLastRemoteSnapshotVersion(e){return yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return yt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),yt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),yt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Dl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,yt.resolve()}updateTargetData(e,t){return this.Dn(t),yt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,yt.resolve()}removeTargets(e,t,o){let c=0;const p=[];return this.Rs.forEach((b,A)=>{A.sequenceNumber<=t&&null===o.get(A.targetId)&&(this.Rs.delete(b),p.push(this.removeMatchingKeysForTargetId(e,A.targetId)),c++)}),yt.waitFor(p).next(()=>c)}getTargetCount(e){return yt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return yt.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),yt.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const c=this.persistence.referenceDelegate,p=[];return c&&t.forEach(b=>{p.push(c.markPotentiallyOrphaned(e,b))}),yt.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),yt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return yt.resolve(o)}containsKey(e,t){return yt.resolve(this.Ps.containsKey(t))}}class Th{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Xs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Bg(this),this.indexManager=new If,this.remoteDocumentCache=new Cp(o=>this.referenceDelegate.xs(o)),this.It=new pc(t),this.Ns=new Bd(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ug,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new xf(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Zt("MemoryPersistence","Starting transaction:",e);const c=new Tp(this.Ss.next());return this.referenceDelegate.ks(),o(c).next(p=>this.referenceDelegate.Os(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Ms(e,t){return yt.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Tp extends Qs{constructor(e){super(),this.currentSequenceNumber=e}}class yc{constructor(e){this.persistence=e,this.Fs=new Jc,this.$s=null}static Bs(e){return new yc(e)}get Ls(){if(this.$s)return this.$s;throw wn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),yt.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),yt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),yt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(c=>this.Ls.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(p=>this.Ls.add(p.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.Ls,o=>{const c=F.fromPath(o);return this.Us(e,c).next(p=>{p||t.removeEntry(c,Un.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return yt.or([()=>yt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Of{constructor(e){this.It=e}$(e,t,o,c){const p=new Yr("createOrUpgrade",t);var A;o<1&&c>=1&&(e.createObjectStore("owner"),(A=e).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",al,{unique:!0}),A.createObjectStore("documentMutations"),Dh(e),function(A){A.createObjectStore("remoteDocuments")}(e));let b=yt.resolve();return o<3&&c>=3&&(0!==o&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),Dh(e)),b=b.next(()=>function(A){const j=A.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Un.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",Z)}(p))),o<4&&c>=4&&(0!==o&&(b=b.next(()=>function(A,j){return j.store("mutations").W().next(Z=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",al,{unique:!0});const ge=j.store("mutations"),je=Z.map(ft=>ge.put(ft));return yt.waitFor(je)})}(e,p))),b=b.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&c>=5&&(b=b.next(()=>this.qs(p))),o<6&&c>=6&&(b=b.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(p)))),o<7&&c>=7&&(b=b.next(()=>this.Gs(p))),o<8&&c>=8&&(b=b.next(()=>this.Qs(e,p))),o<9&&c>=9&&(b=b.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&c>=10&&(b=b.next(()=>this.js(p))),o<11&&c>=11&&(b=b.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&c>=12&&(b=b.next(()=>{!function(A){const j=A.createObjectStore("documentOverlays",{keyPath:uh});j.createIndex("collectionPathOverlayIndex",yp,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",$u,{unique:!1})}(e)})),o<13&&c>=13&&(b=b.next(()=>function(A){const j=A.createObjectStore("remoteDocumentsV14",{keyPath:Vg});j.createIndex("documentKeyIndex",Cl),j.createIndex("collectionGroupIndex",fc)}(e)).next(()=>this.Ws(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&c>=14&&(b=b.next(()=>this.zs(e,p))),o<15&&c>=15&&(b=b.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:vf}).createIndex("sequenceNumberIndex",_f,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:Ad}).createIndex("documentKeyIndex",Sd,{unique:!1})}(e))),b}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,c)=>{t+=Zc(c)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(c=>yt.forEach(c,p=>{const b=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",b).next(A=>yt.forEach(A,j=>{Dn(j.userId===p.userId);const Z=cu(this.It,j);return Ld(e,p.userId,Z).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const p=[];return o.Z((b,A)=>{const j=new D(b),Z=[0,ro(j)];p.push(t.get(Z).next(ge=>ge?yt.resolve():t.put({targetId:0,path:ro(j),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>yt.waitFor(p))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:$c});const o=t.store("collectionParents"),c=new zc,p=b=>{if(c.add(b)){const A=b.lastSegment(),j=b.popLast();return o.put({collectionId:A,parent:ro(j)})}};return t.store("remoteDocuments").Z({X:!0},(b,A)=>{const j=new D(b);return p(j.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([b,A,j],Z)=>{const ge=Po(A);return p(ge.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,c)=>{const p=ul(c),b=wf(this.It,p);return t.put(b)})}Ws(e,t){const o=t.store("remoteDocuments"),c=[];return o.Z((p,b)=>{const A=t.store("remoteDocumentsV14"),j=(Z=b,Z.document?new F(D.fromString(Z.document.name).popFirst(5)):Z.noDocument?F.fromSegments(Z.noDocument.path):Z.unknownDocument?F.fromSegments(Z.unknownDocument.path):wn()).path.toArray();var Z;const ge={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};c.push(A.put(ge))}).next(()=>yt.waitFor(c))}zs(e,t){const o=t.store("mutations"),c=qc(this.It),p=new Th(yc.Bs,this.It.re);return o.W().next(b=>{const A=new Map;return b.forEach(j=>{var Z;let ge=null!==(Z=A.get(j.userId))&&void 0!==Z?Z:Sn();cu(this.It,j).keys().forEach(je=>ge=ge.add(je)),A.set(j.userId,ge)}),yt.forEach(A,(j,Z)=>{const ge=new Pi(Z),je=Wu.oe(this.It,ge),ft=p.getIndexManager(ge),Ut=hu.oe(ge,this.It,ft,p.referenceDelegate);return new Ud(c,Ut,je,ft).recalculateAndSaveOverlaysForDocumentKeys(new Ef(t,Xs.at),j).next()})})}}function Dh(r){r.createObjectStore("targetDocuments",{keyPath:yf}).createIndex("documentTargetsIndex",Id,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Dd,{unique:!0}),r.createObjectStore("targetGlobal")}const vc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Mf{constructor(e,t,o,c,p,b,A,j,Z,ge,je=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=p,this.window=b,this.document=A,this.Js=Z,this.Ys=ge,this.Xs=je,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=ft=>Promise.resolve(),!Mf.C())throw new Lt(bt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kc(this,c),this.ii=t+"main",this.It=new pc(j),this.ri=new Js(this.ii,this.Xs,new Of(this.It)),this.Cs=new wp(this.referenceDelegate,this.It),this.remoteDocumentCache=qc(this.It),this.Ns=new Ep,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ge&&Wi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Lt(bt.FAILED_PRECONDITION,vc);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Xs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,g.Z)(function*(c){if(t.started)return e(c)});return function(c){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,g.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,g.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$d(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if($r(e))return Zt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Zt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return jd(e).get("owner").next(t=>yt.resolve(this.mi(t)))}gi(e){return $d(e).delete(this.clientId)}yi(){var e=this;return(0,g.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=js(o,"clientMetadata");return c.W().next(p=>{const b=e.Ii(p,18e5),A=p.filter(j=>-1===b.indexOf(j));return yt.forEach(A,j=>c.delete(j.clientId)).next(()=>A)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?yt.resolve(!0):jd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Lt(bt.FAILED_PRECONDITION,vc);return!1}}return!(!this.networkEnabled||!this.inForeground)||$d(e).W().next(o=>void 0===this.Ii(o,5e3).find(c=>{if(this.clientId!==c.clientId){const b=!this.inForeground&&c.inForeground,A=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||b&&A)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Zt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,g.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Ef(t,Xs.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>$d(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return hu.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Af(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Wu.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Zt("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",p=15===(b=this.Xs)?hh:14===b?dh:13===b?vp:12===b?bf:11===b?ch:void wn();var b;let A;return this.ri.runTransaction(e,c,p,j=>(A=new Ef(j,this.Ss?this.Ss.next():Xs.at),"readwrite-primary"===t?this.fi(A).next(Z=>!!Z||this.di(A)).next(Z=>{if(!Z)throw Wi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Lt(bt.FAILED_PRECONDITION,Ko);return o(A)}).next(Z=>this.wi(A).next(()=>Z)):this.Vi(A).next(()=>o(A)))).then(j=>(A.raiseOnCommittedEvent(),j))}Vi(e){return jd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Lt(bt.FAILED_PRECONDITION,vc)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jd(e).put("owner",t)}static C(){return Js.C()}_i(e){const t=jd(e);return t.get("owner").next(o=>this.mi(o)?(Zt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):yt.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Wi(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,_e.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Zt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Wi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Wi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jd(r){return js(r,"owner")}function $d(r){return js(r,"clientMetadata")}function Pf(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Rf{constructor(e,t,o,c){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=c}static Ci(e,t){let o=Sn(),c=Sn();for(const p of t.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new Rf(e,t.fromCache,o,c)}}class Dp{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,c){return this.ki(e,t).next(p=>p||this.Oi(e,t,c,o)).next(p=>p||this.Mi(e,t))}ki(e,t){if(rc(t))return yt.resolve(null);let o=Vs(t);return this.indexManager.getIndexType(e,o).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=Bl(t,null,"F"),o=Vs(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const b=Sn(...p);return this.Ni.getDocuments(e,b).next(A=>this.indexManager.getMinOffset(e,o).next(j=>{const Z=this.Fi(t,A);return this.$i(t,Z,b,j.readTime)?this.ki(e,Bl(t,null,"F")):this.Bi(e,Z,t,j)}))})))}Oi(e,t,o,c){return rc(t)||c.isEqual(Un.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(p=>{const b=this.Fi(t,p);return this.$i(t,b,o,c)?this.Mi(e,t):(go()<=Te.in.DEBUG&&Zt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),oc(t)),this.Bi(e,b,t,ui(c,-1)))})}Fi(e,t){let o=new tr(no(e));return t.forEach((c,p)=>{Us(e,p)&&(o=o.add(p))}),o}$i(e,t,o,c){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Mi(e,t){return go()<=Te.in.DEBUG&&Zt("QueryEngine","Using full collection scan to execute query:",oc(t)),this.Ni.getDocumentsMatchingQuery(e,t,er.min())}Bi(e,t,o,c){return this.Ni.getDocumentsMatchingQuery(e,o,c).next(p=>(t.forEach(b=>{p=p.insert(b.key,b)}),p))}}class Hg{constructor(e,t,o,c){this.persistence=e,this.Li=t,this.It=c,this.Ui=new vr(Wn),this.qi=new Hs(p=>$t(p),Ln),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ud(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function jg(r,e,t,o){return new Hg(r,e,t,o)}function v(r,e){return u.apply(this,arguments)}function u(){return u=(0,g.Z)(function*(r,e){const t=sn(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let c;return t.mutationQueue.getAllMutationBatches(o).next(p=>(c=p,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(p=>{const b=[],A=[];let j=Sn();for(const Z of c){b.push(Z.batchId);for(const ge of Z.mutations)j=j.add(ge.key)}for(const Z of p){A.push(Z.batchId);for(const ge of Z.mutations)j=j.add(ge.key)}return t.localDocuments.getDocuments(o,j).next(Z=>({ji:Z,removedBatchIds:b,addedBatchIds:A}))})})}),u.apply(this,arguments)}function a(r,e){const t=sn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),p=t.Gi.newChangeBuffer({trackRemovals:!0});return function(b,A,j,Z){const ge=j.batch,je=ge.keys();let ft=yt.resolve();return je.forEach(Ut=>{ft=ft.next(()=>Z.getEntry(A,Ut)).next(Yt=>{const vn=j.docVersions.get(Ut);Dn(null!==vn),Yt.version.compareTo(vn)<0&&(ge.applyToRemoteDocument(Yt,j),Yt.isValidDocument()&&(Yt.setReadTime(j.commitVersion),Z.addEntry(Yt)))})}),ft.next(()=>b.mutationQueue.removeMutationBatch(A,ge))}(t,o,e,p).next(()=>p.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(b){let A=Sn();for(let j=0;j<b.mutationResults.length;++j)b.mutationResults[j].transformResults.length>0&&(A=A.add(b.batch.mutations[j].key));return A}(e))).next(()=>t.localDocuments.getDocuments(o,c))})}function f(r){const e=sn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function E(r,e){const t=sn(r),o=e.snapshotVersion;let c=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const b=t.Gi.newChangeBuffer({trackRemovals:!0});c=t.Ui;const A=[];e.targetChanges.forEach((ge,je)=>{const ft=c.get(je);if(!ft)return;A.push(t.Cs.removeMatchingKeys(p,ge.removedDocuments,je).next(()=>t.Cs.addMatchingKeys(p,ge.addedDocuments,je)));let Ut=ft.withSequenceNumber(p.currentSequenceNumber);var Yt,vn,An;e.targetMismatches.has(je)?Ut=Ut.withResumeToken(Lr.EMPTY_BYTE_STRING,Un.min()).withLastLimboFreeSnapshotVersion(Un.min()):ge.resumeToken.approximateByteSize()>0&&(Ut=Ut.withResumeToken(ge.resumeToken,o)),c=c.insert(je,Ut),vn=Ut,An=ge,(0===(Yt=ft).resumeToken.approximateByteSize()||vn.snapshotVersion.toMicroseconds()-Yt.snapshotVersion.toMicroseconds()>=3e8||An.addedDocuments.size+An.modifiedDocuments.size+An.removedDocuments.size>0)&&A.push(t.Cs.updateTargetData(p,Ut))});let j=As(),Z=Sn();if(e.documentUpdates.forEach(ge=>{e.resolvedLimboDocuments.has(ge)&&A.push(t.persistence.referenceDelegate.updateLimboDocument(p,ge))}),A.push(k(p,b,e.documentUpdates).next(ge=>{j=ge.Wi,Z=ge.zi})),!o.isEqual(Un.min())){const ge=t.Cs.getLastRemoteSnapshotVersion(p).next(je=>t.Cs.setTargetsMetadata(p,p.currentSequenceNumber,o));A.push(ge)}return yt.waitFor(A).next(()=>b.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,j,Z)).next(()=>j)}).then(p=>(t.Ui=c,p))}function k(r,e,t){let o=Sn(),c=Sn();return t.forEach(p=>o=o.add(p)),e.getEntries(r,o).next(p=>{let b=As();return t.forEach((A,j)=>{const Z=p.get(A);j.isFoundDocument()!==Z.isFoundDocument()&&(c=c.add(A)),j.isNoDocument()&&j.version.isEqual(Un.min())?(e.removeEntry(A,j.readTime),b=b.insert(A,j)):!Z.isValidDocument()||j.version.compareTo(Z.version)>0||0===j.version.compareTo(Z.version)&&Z.hasPendingWrites?(e.addEntry(j),b=b.insert(A,j)):Zt("LocalStore","Ignoring outdated watch update for ",A,". Current version:",Z.version," Watch version:",j.version)}),{Wi:b,zi:c}})}function K(r,e){const t=sn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function ye(r,e){const t=sn(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return t.Cs.getTargetData(o,e).next(p=>p?(c=p,yt.resolve(c)):t.Cs.allocateTargetId(o).next(b=>(c=new ll(e,b,0,o.currentSequenceNumber),t.Cs.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=t.Ui.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function Fe(r,e,t){return ct.apply(this,arguments)}function ct(){return ct=(0,g.Z)(function*(r,e,t){const o=sn(r),c=o.Ui.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",p,b=>o.persistence.referenceDelegate.removeTarget(b,c)))}catch(b){if(!$r(b))throw b;Zt("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}o.Ui=o.Ui.remove(e),o.qi.delete(c.target)}),ct.apply(this,arguments)}function Rt(r,e,t){const o=sn(r);let c=Un.min(),p=Sn();return o.persistence.runTransaction("Execute query","readonly",b=>function(A,j,Z){const ge=sn(A),je=ge.qi.get(Z);return void 0!==je?yt.resolve(ge.Ui.get(je)):ge.Cs.getTargetData(j,Z)}(o,b,Vs(e)).next(A=>{if(A)return c=A.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(b,A.targetId).next(j=>{p=j})}).next(()=>o.Li.getDocumentsMatchingQuery(b,e,t?c:Un.min(),t?p:Sn())).next(A=>(Fn(o,Ac(e),A),{documents:A,Hi:p})))}function dn(r,e){const t=sn(r),o=sn(t.Cs),c=t.Ui.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",p=>o.se(p,e).next(b=>b?b.target:null))}function xn(r,e){const t=sn(r),o=t.Ki.get(e)||Un.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Gi.getAllFromCollectionGroup(c,e,ui(o,-1),Number.MAX_SAFE_INTEGER)).then(c=>(Fn(t,e,c),c))}function Fn(r,e,t){let o=r.Ki.get(e)||Un.min();t.forEach((c,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),r.Ki.set(e,o)}function $n(){return $n=(0,g.Z)(function*(r,e,t,o){const c=sn(r);let p=Sn(),b=As();for(const Z of t){const ge=e.Ji(Z.metadata.name);Z.document&&(p=p.add(ge));const je=e.Yi(Z);je.setReadTime(e.Xi(Z.metadata.readTime)),b=b.insert(ge,je)}const A=c.Gi.newChangeBuffer({trackRemovals:!0}),j=yield ye(c,(Z=o,Vs(Mu(D.fromString(`__bundle__/docs/${Z}`)))));var Z;return c.persistence.runTransaction("Apply bundle documents","readwrite",Z=>k(Z,A,b).next(ge=>(A.apply(Z),ge)).next(ge=>c.Cs.removeMatchingKeysForTargetId(Z,j.targetId).next(()=>c.Cs.addMatchingKeys(Z,p,j.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(Z,ge.Wi,ge.zi)).next(()=>ge.Wi)))}),$n.apply(this,arguments)}function ki(r,e){return fr.apply(this,arguments)}function fr(){return fr=(0,g.Z)(function*(r,e,t=Sn()){const o=yield ye(r,Vs(gh(e.bundledQuery))),c=sn(r);return c.persistence.runTransaction("Save named query","readwrite",p=>{const b=os(e.readTime);if(o.snapshotVersion.compareTo(b)>=0)return c.Ns.saveNamedQuery(p,e);const A=o.withResumeToken(Lr.EMPTY_BYTE_STRING,b);return c.Ui=c.Ui.insert(A.targetId,A),c.Cs.updateTargetData(p,A).next(()=>c.Cs.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>c.Cs.addMatchingKeys(p,t,o.targetId)).next(()=>c.Ns.saveNamedQuery(p,e))})}),fr.apply(this,arguments)}function pr(r,e){return`firestore_clients_${r}_${e}`}function nr(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function ci(r,e){return`firestore_targets_${r}_${e}`}class ir{constructor(e,t,o,c){this.user=e,this.batchId=t,this.state=o,this.error=c}static Zi(e,t,o){const c=JSON.parse(o);let p,b="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return b&&c.error&&(b="string"==typeof c.error.message&&"string"==typeof c.error.code,b&&(p=new Lt(c.error.code,c.error.message))),b?new ir(e,t,c.state,p):(Wi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gr{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let c,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(c=new Lt(o.error.code,o.error.message))),p?new gr(e,o.state,c):(Wi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fr{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let c="object"==typeof o&&o.activeTargetIds instanceof Array,p=ss();for(let b=0;c&&b<o.activeTargetIds.length;++b)c=tu(o.activeTargetIds[b]),p=p.add(o.activeTargetIds[b]);return c?new Fr(e,p):(Wi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class dl{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new dl(t.clientId,t.onlineState):(Wi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Za{constructor(){this.activeTargetIds=ss()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ka{constructor(e,t,o,c,p){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new vr(Wn),this.started=!1,this.cr=[];const b=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ar=pr(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Za),this.lr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,g.Z)(function*(){const t=yield e.syncEngine.vi();for(const c of t){if(c===e.sr)continue;const p=e.getItem(pr(e.persistenceKey,c));if(p){const b=Fr.Zi(c,p);b&&(e.ur=e.ur.insert(b.clientId,b))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const c=e.yr(o);c&&e.pr(c)}for(const c of e.cr)e.rr(c);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(ci(this.persistenceKey,e));if(o){const c=gr.Zi(e,o);c&&(t=c.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ci(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(c=>{this.Er(c)}),this.currentUser=e,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Zt("SharedClientState","READ",e,t),t}setItem(e,t){Zt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Zt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Zt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void Wi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,g.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const c=t.vr(o.key);return t.Vr(c,null)}{const c=t.Sr(o.key,o.newValue);if(c)return t.Vr(c.clientId,c)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const c=t.Dr(o.key,o.newValue);if(c)return t.Cr(c)}}else if(t._r.test(o.key)){if(null!==o.newValue){const c=t.Nr(o.key,o.newValue);if(c)return t.kr(c)}}else if(o.key===t.wr){if(null!==o.newValue){const c=t.yr(o.newValue);if(c)return t.pr(c)}}else if(o.key===t.hr){const c=function(p){let b=Xs.at;if(null!=p)try{const A=JSON.parse(p);Dn("number"==typeof A),b=A}catch(A){Wi("SharedClientState","Failed to read sequence number from WebStorage",A)}return b}(o.newValue);c!==Xs.at&&t.sequenceNumberHandler(c)}else if(o.key===t.mr){const c=t.Or(o.newValue);yield Promise.all(c.map(p=>t.syncEngine.Mr(p)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const c=new ir(this.currentUser,e,t,o),p=nr(this.persistenceKey,this.currentUser,e);this.setItem(p,c.tr())}Er(e){const t=nr(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const c=ci(this.persistenceKey,e),p=new gr(e,t,o);this.setItem(c,p.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return Fr.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),c=Number(o[1]);return ir.Zi(new Pi(void 0!==o[2]?o[2]:null),c,t)}Nr(e,t){const o=this._r.exec(e),c=Number(o[1]);return gr.Zi(c,t)}yr(e){return dl.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,g.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Zt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),c=this.Ir(this.ur),p=this.Ir(o),b=[],A=[];return p.forEach(j=>{c.has(j)||b.push(j)}),c.forEach(j=>{p.has(j)||A.push(j)}),this.syncEngine.Br(b,A).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=ss();return e.forEach((o,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class Xc{constructor(){this.Lr=new Za,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Za,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Yu{qr(e){}shutdown(){}}class Wl{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Zt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Zt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ed={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nf{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Mn extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,c,p){const b=this.ho(e,t);Zt("RestConnection","Sending: ",b,o);const A={};return this.lo(A,c,p),this.fo(e,b,A,o).then(j=>(Zt("RestConnection","Received: ",j),j),j=>{throw Zi("RestConnection",`${e} failed with error: `,j,"url: ",b,"request:",o),j})}_o(e,t,o,c,p,b){return this.ao(e,t,o,c,p)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Go,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,p)=>e[p]=c),o&&o.headers.forEach((c,p)=>e[p]=c)}ho(e,t){return`${this.oo}/v1/${t}:${ed[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,c){return new Promise((p,b)=>{const A=new Ja;A.setWithCredentials(!0),A.listenOnce(Su.COMPLETE,()=>{var Z;try{switch(A.getLastErrorCode()){case fo.NO_ERROR:const ge=A.getResponseJson();Zt("Connection","XHR received:",JSON.stringify(ge)),p(ge);break;case fo.TIMEOUT:Zt("Connection",'RPC "'+e+'" timed out'),b(new Lt(bt.DEADLINE_EXCEEDED,"Request time out"));break;case fo.HTTP_ERROR:const je=A.getStatus();if(Zt("Connection",'RPC "'+e+'" failed with status:',je,"response text:",A.getResponseText()),je>0){let ft=A.getResponseJson();Array.isArray(ft)&&(ft=ft[0]);const Ut=null===(Z=ft)||void 0===Z?void 0:Z.error;if(Ut&&Ut.status&&Ut.message){const Yt=function(vn){const An=vn.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(An)>=0?An:bt.UNKNOWN}(Ut.status);b(new Lt(Yt,Ut.message))}else b(new Lt(bt.UNKNOWN,"Server responded with status "+A.getStatus()))}else b(new Lt(bt.UNAVAILABLE,"Connection failed."));break;default:wn()}}finally{Zt("Connection",'RPC "'+e+'" completed.')}});const j=JSON.stringify(c);A.send(t,"POST",j,o,15)})}wo(e,t,o){const c=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=$o(),b=Pa(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new Ra({})),this.lo(A.initMessageHeaders,t,o),A.encodeInitMessageHeaders=!0;const j=c.join("");Zt("Connection","Creating WebChannel: "+j,A);const Z=p.createWebChannel(j,A);let ge=!1,je=!1;const ft=new Nf({Hr:Yt=>{je?Zt("Connection","Not sending because WebChannel is closed:",Yt):(ge||(Zt("Connection","Opening WebChannel transport."),Z.open(),ge=!0),Zt("Connection","WebChannel sending:",Yt),Z.send(Yt))},Jr:()=>Z.close()}),Ut=(Yt,vn,An)=>{Yt.listen(vn,rr=>{try{An(rr)}catch(Ur){setTimeout(()=>{throw Ur},0)}})};return Ut(Z,Yi.EventType.OPEN,()=>{je||Zt("Connection","WebChannel transport opened.")}),Ut(Z,Yi.EventType.CLOSE,()=>{je||(je=!0,Zt("Connection","WebChannel transport closed"),ft.io())}),Ut(Z,Yi.EventType.ERROR,Yt=>{je||(je=!0,Zi("Connection","WebChannel transport errored:",Yt),ft.io(new Lt(bt.UNAVAILABLE,"The operation could not be completed")))}),Ut(Z,Yi.EventType.MESSAGE,Yt=>{var vn;if(!je){const An=Yt.data[0];Dn(!!An);const rr=An,Ur=rr.error||(null===(vn=rr[0])||void 0===vn?void 0:vn.error);if(Ur){Zt("Connection","WebChannel received error:",Ur);const mr=Ur.status;let oo=function(ur){const Eo=en[ur];if(void 0!==Eo)return _r(Eo)}(mr),Or=Ur.message;void 0===oo&&(oo=bt.INTERNAL,Or="Unknown error status: "+mr+" with message "+Ur.message),je=!0,ft.io(new Lt(oo,Or)),Z.close()}else Zt("Connection","WebChannel received:",An),ft.ro(An)}}),Ut(b,pl.STAT_EVENT,Yt=>{Yt.stat===ns.PROXY?Zt("Connection","Detected buffering proxy"):Yt.stat===ns.NOPROXY&&Zt("Connection","Detected no buffering proxy")}),setTimeout(()=>{ft.so()},0),ft}}function jn(){return"undefined"!=typeof window?window:null}function Gn(){return"undefined"!=typeof document?document:null}function xi(r){return new Vu(r,!0)}class Ts{constructor(e,t,o=1e3,c=1.5,p=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=c,this.po=p,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),c=Math.max(0,t-o);c>0&&Zt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,c,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class qa{constructor(e,t,o,c,p,b,A,j){this.Hs=e,this.vo=o,this.Vo=c,this.connection=p,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=A,this.listener=j,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ts(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,g.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,g.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,g.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===bt.RESOURCE_EXHAUSTED?(Wi(t.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===bt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.So===t&&this.Go(o,c)},o=>{e(()=>{const c=new Lt(bt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(c)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(c=>{o(()=>this.Qo(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,g.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Zt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Zt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ba extends qa{constructor(e,t,o,c,p,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,c,b),this.It=p}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function sh(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:wn(),c=e.targetChange.targetIds||[],p=function(j,Z){return j.gt?(Dn(void 0===Z||"string"==typeof Z),Lr.fromBase64String(Z||"")):(Dn(void 0===Z||Z instanceof Uint8Array),Lr.fromUint8Array(Z||new Uint8Array))}(r,e.targetChange.resumeToken),b=e.targetChange.cause,A=b&&function(j){const Z=void 0===j.code?bt.UNKNOWN:_r(j.code);return new Lt(Z,j.message||"")}(b);t=new bd(o,c,p,A||null)}else if("documentChange"in e){const o=e.documentChange,c=Ga(r,o.document.name),p=os(o.document.updateTime),b=new B({mapValue:{fields:o.document.fields}}),A=De.newFoundDocument(c,p,b);t=new cc(o.targetIds||[],o.removedTargetIds||[],A.key,A)}else if("documentDelete"in e){const o=e.documentDelete,c=Ga(r,o.document),p=o.readTime?os(o.readTime):Un.min(),b=De.newNoDocument(c,p);t=new cc([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,c=Ga(r,o.document);t=new cc([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return wn();{const o=e.filter,p=new Wt(o.count||0);t=new Lc(o.targetId,p)}}var j;return t}(this.It,e),o=function(c){if(!("targetChange"in c))return Un.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Un.min():p.readTime?os(p.readTime):Un.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=Bu(this.It),t.addTarget=function(c,p){let b;const A=p.target;return b=Qn(A)?{documents:oh(c,A)}:{query:lu(c,A)},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?b.resumeToken=dc(c,p.resumeToken):p.snapshotVersion.compareTo(Un.min())>0&&(b.readTime=Uu(c,p.snapshotVersion.toTimestamp())),b}(this.It,e);const o=function fp(r,e){const t=function(o,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=Bu(this.It),t.removeTarget=e,this.Bo(t)}}class gu extends qa{constructor(e,t,o,c,p,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,c,b),this.It=p,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Dn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function cf(r,e){return r&&r.length>0?(Dn(void 0!==e),r.map(t=>function(o,c){let p=os(o.updateTime?o.updateTime:c);return p.isEqual(Un.min())&&(p=os(c)),new Mc(p,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=os(e.commitTime);return this.listener.Zo(o,t)}return Dn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Bu(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>jc(this.It,o))};this.Bo(t)}}class Bi extends class{}{constructor(e,t,o,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.It=c,this.nu=!1}su(){if(this.nu)throw new Lt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.ao(e,t,o,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Lt(bt.UNKNOWN,c.toString())})}_o(e,t,o,c){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,b])=>this.connection._o(e,t,o,p,b,c)).catch(p=>{throw"FirebaseError"===p.name?(p.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Lt(bt.UNKNOWN,p.toString())})}terminate(){this.nu=!0}}class ta{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Wi(t),this.ou=!1):Zt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class _c{constructor(e,t,o,c,p){var b=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=p,this.mu.qr(A=>{o.enqueueAndForget((0,g.Z)(function*(){var j;vu(b)&&(Zt("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,g.Z)(function*(Z){const ge=sn(Z);ge._u.add(4),yield yu(ge),ge.gu.set("Unknown"),ge._u.delete(4),yield Ea(ge)}),function(Z){return j.apply(this,arguments)})(b))}))}),this.gu=new ta(o,c)}}function Ea(r){return mu.apply(this,arguments)}function mu(){return mu=(0,g.Z)(function*(r){if(vu(r))for(const e of r.wu)yield e(!0)}),mu.apply(this,arguments)}function yu(r){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,g.Z)(function*(r){for(const e of r.wu)yield e(!1)}),Ah.apply(this,arguments)}function Sh(r,e){const t=sn(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Ap(t)?Lf(t):nd(t).ko()&&Ip(t,e))}function xh(r,e){const t=sn(r),o=nd(t);t.du.delete(e),o.ko()&&$g(t,e),0===t.du.size&&(o.ko()?o.Fo():vu(t)&&t.gu.set("Unknown"))}function Ip(r,e){r.yu.Mt(e.targetId),nd(r).zo(e)}function $g(r,e){r.yu.Mt(e),nd(r).Ho(e)}function Lf(r){r.yu=new cp({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),nd(r).start(),r.gu.uu()}function Ap(r){return vu(r)&&!nd(r).No()&&r.du.size>0}function vu(r){return 0===sn(r)._u.size}function Gg(r){r.yu=void 0}function sy(r){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,g.Z)(function*(r){r.du.forEach((e,t)=>{Ip(r,e)})}),Ff.apply(this,arguments)}function zg(r,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,g.Z)(function*(r,e){Gg(r),Ap(r)?(r.gu.hu(e),Lf(r)):r.gu.set("Unknown")}),Sp.apply(this,arguments)}function _u(r,e,t){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,g.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof bd&&2===e.state&&e.cause)try{yield(o=(0,g.Z)(function*(c,p){const b=p.cause;for(const A of p.targetIds)c.du.has(A)&&(yield c.remoteSyncer.rejectListen(A,b),c.du.delete(A),c.yu.removeTarget(A))}),function(c,p){return o.apply(this,arguments)})(r,e)}catch(o){Zt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Vf(r,o)}else if(e instanceof cc?r.yu.Gt(e):e instanceof Lc?r.yu.Yt(e):r.yu.Wt(e),!t.isEqual(Un.min()))try{const o=yield f(r.localStore);t.compareTo(o)>=0&&(yield function(c,p){const b=c.yu.te(p);return b.targetChanges.forEach((A,j)=>{if(A.resumeToken.approximateByteSize()>0){const Z=c.du.get(j);Z&&c.du.set(j,Z.withResumeToken(A.resumeToken,p))}}),b.targetMismatches.forEach(A=>{const j=c.du.get(A);if(!j)return;c.du.set(A,j.withResumeToken(Lr.EMPTY_BYTE_STRING,j.snapshotVersion)),$g(c,A);const Z=new ll(j.target,A,1,j.sequenceNumber);Ip(c,Z)}),c.remoteSyncer.applyRemoteEvent(b)}(r,t))}catch(o){Zt("RemoteStore","Failed to raise snapshot:",o),yield Vf(r,o)}var o}),Oh.apply(this,arguments)}function Vf(r,e,t){return xp.apply(this,arguments)}function xp(){return xp=(0,g.Z)(function*(r,e,t){if(!$r(e))throw e;r._u.add(1),yield yu(r),r.gu.set("Offline"),t||(t=()=>f(r.localStore)),r.asyncQueue.enqueueRetryable((0,g.Z)(function*(){Zt("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield Ea(r)}))}),xp.apply(this,arguments)}function oy(r,e){return e().catch(t=>Vf(r,t,e))}function td(r){return Op.apply(this,arguments)}function Op(){return Op=(0,g.Z)(function*(r){const e=sn(r),t=Qu(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;ay(e);)try{const c=yield K(e.localStore,o);if(null===c){0===e.fu.length&&t.Fo();break}o=c.batchId,ly(e,c)}catch(c){yield Vf(e,c)}Uf(e)&&Wg(e)}),Op.apply(this,arguments)}function ay(r){return vu(r)&&r.fu.length<10}function ly(r,e){r.fu.push(e);const t=Qu(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Uf(r){return vu(r)&&!Qu(r).No()&&r.fu.length>0}function Wg(r){Qu(r).start()}function uy(r){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,g.Z)(function*(r){Qu(r).eu()}),Gd.apply(this,arguments)}function Mp(r){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,g.Z)(function*(r){const e=Qu(r);for(const t of r.fu)e.Xo(t.mutations)}),Pp.apply(this,arguments)}function Rp(r,e,t){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,g.Z)(function*(r,e,t){const o=r.fu.shift(),c=fh.from(o,e,t);yield oy(r,()=>r.remoteSyncer.applySuccessfulWrite(c)),yield td(r)}),Mh.apply(this,arguments)}function Zg(r,e){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,g.Z)(function*(r,e){var t;e&&Qu(r).Yo&&(yield(t=(0,g.Z)(function*(o,c){if(oi(p=c.code)&&p!==bt.ABORTED){const b=o.fu.shift();Qu(o).Mo(),yield oy(o,()=>o.remoteSyncer.rejectFailedWrite(b.batchId,c)),yield td(o)}var p}),function(o,c){return t.apply(this,arguments)})(r,e)),Uf(r)&&Wg(r)}),Kg.apply(this,arguments)}function cy(r,e){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,g.Z)(function*(r,e){const t=sn(r);t.asyncQueue.verifyOperationInProgress(),Zt("RemoteStore","RemoteStore received new credentials");const o=vu(t);t._u.add(3),yield yu(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Ea(t)}),Ph.apply(this,arguments)}function qg(r,e){return Np.apply(this,arguments)}function Np(){return Np=(0,g.Z)(function*(r,e){const t=sn(r);e?(t._u.delete(2),yield Ea(t)):e||(t._u.add(2),yield yu(t),t.gu.set("Unknown"))}),Np.apply(this,arguments)}function nd(r){return r.pu||(r.pu=function(e,t,o){const c=sn(e);return c.su(),new ba(t,c.connection,c.authCredentials,c.appCheckCredentials,c.It,o)}(r.datastore,r.asyncQueue,{Yr:sy.bind(null,r),Zr:zg.bind(null,r),Wo:_u.bind(null,r)}),r.wu.push(function(){var e=(0,g.Z)(function*(t){t?(r.pu.Mo(),Ap(r)?Lf(r):r.gu.set("Unknown")):(yield r.pu.stop(),Gg(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function Qu(r){return r.Iu||(r.Iu=function(e,t,o){const c=sn(e);return c.su(),new gu(t,c.connection,c.authCredentials,c.appCheckCredentials,c.It,o)}(r.datastore,r.asyncQueue,{Yr:uy.bind(null,r),Zr:Zg.bind(null,r),tu:Mp.bind(null,r),Zo:Rp.bind(null,r)}),r.wu.push(function(){var e=(0,g.Z)(function*(t){t?(r.Iu.Mo(),yield td(r)):(yield r.Iu.stop(),r.fu.length>0&&(Zt("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class Bf{constructor(e,t,o,c,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=c,this.removalCallback=p,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,t,o,c,p){const b=Date.now()+o,A=new Bf(e,t,b,c,p);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lt(bt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function id(r,e){if(Wi("AsyncQueue",`${e}: ${r}`),$r(r))return new Lt(bt.UNAVAILABLE,`${e}: ${r}`);throw r}class rd{constructor(e){this.comparator=e?(t,o)=>e(t,o)||F.comparator(t.key,o.key):(t,o)=>F.comparator(t.key,o.key),this.keyedMap=ol(),this.sortedSet=new vr(this.comparator)}static emptySet(e){return new rd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=o.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new rd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class bu{constructor(){this.Tu=new vr(F.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):wn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Ju{constructor(e,t,o,c,p,b,A,j,Z){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=p,this.fromCache=b,this.syncStateChanged=A,this.excludesMetadataChanges=j,this.hasCachedResults=Z}static fromInitialDocuments(e,t,o,c,p){const b=[];return t.forEach(A=>{b.push({type:0,doc:A})}),new Ju(e,t,rd.emptySet(t),b,o,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==o[c].type||!t[c].doc.isEqual(o[c].doc))return!1;return!0}}class dy{constructor(){this.Au=void 0,this.listeners=[]}}class hy{constructor(){this.queries=new Hs(e=>su(e),Hl),this.onlineState="Unknown",this.Ru=new Set}}function Yg(r,e){return zd.apply(this,arguments)}function zd(){return zd=(0,g.Z)(function*(r,e){const t=sn(r),o=e.query;let c=!1,p=t.queries.get(o);if(p||(c=!0,p=new dy),c)try{p.Au=yield t.onListen(o)}catch(b){const A=id(b,`Initialization of query '${oc(e.query)}' failed`);return void e.onError(A)}t.queries.set(o,p),p.listeners.push(e),e.bu(t.onlineState),p.Au&&e.Pu(p.Au)&&kh(t)}),zd.apply(this,arguments)}function Hf(r,e){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,g.Z)(function*(r,e){const t=sn(r),o=e.query;let c=!1;const p=t.queries.get(o);if(p){const b=p.listeners.indexOf(e);b>=0&&(p.listeners.splice(b,1),c=0===p.listeners.length)}if(c)return t.queries.delete(o),t.onUnlisten(o)}),Rh.apply(this,arguments)}function Nh(r,e){const t=sn(r);let o=!1;for(const c of e){const b=t.queries.get(c.query);if(b){for(const A of b.listeners)A.Pu(c)&&(o=!0);b.Au=c}}o&&kh(t)}function fy(r,e,t){const o=sn(r),c=o.queries.get(e);if(c)for(const p of c.listeners)p.onError(t);o.queries.delete(e)}function kh(r){r.Ru.forEach(e=>{e.next()})}class jf{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new Ju(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ju.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Qg{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class kp{constructor(e){this.It=e}Ji(e){return Ga(this.It,e)}Yi(e){return e.metadata.exists?uf(this.It,e.document,!1):De.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return os(e)}}class py{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$f(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const o=D.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new kp(this.It);for(const c of e)if(c.metadata.queries){const p=o.Ji(c.metadata.name);for(const b of c.metadata.queries){const A=(t.get(b)||Sn()).add(p);t.set(b,A)}}return t}complete(){var e=this;return(0,g.Z)(function*(){const t=yield function Vn(r,e,t,o){return $n.apply(this,arguments)}(e.localStore,new kp(e.It),e.documents,e.Mu.id),o=e.$u(e.documents);for(const c of e.queries)yield ki(e.localStore,c,o.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function $f(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Jg{constructor(e){this.key=e}}class Xg{constructor(e){this.key=e}}class Lp{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Sn(),this.mutatedKeys=Sn(),this.Gu=no(e),this.Qu=new rd(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new bu,c=t?t.Qu:this.Qu;let p=t?t.mutatedKeys:this.mutatedKeys,b=c,A=!1;const j="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,Z="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((ge,je)=>{const ft=c.get(ge),Ut=Us(this.query,je)?je:null,Yt=!!ft&&this.mutatedKeys.has(ft.key),vn=!!Ut&&(Ut.hasLocalMutations||this.mutatedKeys.has(Ut.key)&&Ut.hasCommittedMutations);let An=!1;ft&&Ut?ft.data.isEqual(Ut.data)?Yt!==vn&&(o.track({type:3,doc:Ut}),An=!0):this.Hu(ft,Ut)||(o.track({type:2,doc:Ut}),An=!0,(j&&this.Gu(Ut,j)>0||Z&&this.Gu(Ut,Z)<0)&&(A=!0)):!ft&&Ut?(o.track({type:0,doc:Ut}),An=!0):ft&&!Ut&&(o.track({type:1,doc:ft}),An=!0,(j||Z)&&(A=!0)),An&&(Ut?(b=b.add(Ut),p=vn?p.add(ge):p.delete(ge)):(b=b.delete(ge),p=p.delete(ge)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ge="F"===this.query.limitType?b.last():b.first();b=b.delete(ge.key),p=p.delete(ge.key),o.track({type:1,doc:ge})}return{Qu:b,zu:o,$i:A,mutatedKeys:p}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const c=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const p=e.zu.Eu();p.sort((Z,ge)=>function(je,ft){const Ut=Yt=>{switch(Yt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wn()}};return Ut(je)-Ut(ft)}(Z.type,ge.type)||this.Gu(Z.doc,ge.doc)),this.Ju(o);const b=t?this.Yu():[],A=0===this.Ku.size&&this.current?1:0,j=A!==this.qu;return this.qu=A,0!==p.length||j?{snapshot:new Ju(this.query,e.Qu,c,p,e.mutatedKeys,0===A,j,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:b}:{Xu:b}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new bu,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Sn(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new Xg(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Jg(o))}),t}tc(e){this.Uu=e.Hi,this.Ku=Sn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ju.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Wd{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class em{constructor(e){this.key=e,this.nc=!1}}class gy{constructor(e,t,o,c,p,b){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=b,this.sc={},this.ic=new Hs(A=>su(A),Hl),this.rc=new Map,this.oc=new Set,this.uc=new vr(F.comparator),this.cc=new Map,this.ac=new Jc,this.hc={},this.lc=new Map,this.fc=Dl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function my(r,e){return bc.apply(this,arguments)}function bc(){return bc=(0,g.Z)(function*(r,e){const t=Ec(r);let o,c;const p=t.ic.get(e);if(p)o=p.targetId,t.sharedClientState.addLocalQueryTarget(o),c=p.view.ec();else{const b=yield ye(t.localStore,Vs(e));t.isPrimaryClient&&Sh(t.remoteStore,b);const A=t.sharedClientState.addLocalQueryTarget(b.targetId);o=b.targetId,c=yield Fp(t,e,o,"current"===A,b.resumeToken)}return c}),bc.apply(this,arguments)}function Fp(r,e,t,o,c){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,g.Z)(function*(r,e,t,o,c){r._c=(je,ft,Ut)=>{return(Yt=(0,g.Z)(function*(vn,An,rr,Ur){let mr=An.view.Wu(rr);mr.$i&&(mr=yield Rt(vn.localStore,An.query,!1).then(({documents:ur})=>An.view.Wu(ur,mr)));const oo=Ur&&Ur.targetChanges.get(An.targetId),Or=An.view.applyChanges(mr,vn.isPrimaryClient,oo);return Vh(vn,An.targetId,Or.Xu),Or.snapshot}),function(vn,An,rr,Ur){return Yt.apply(this,arguments)})(r,je,ft,Ut);var Yt};const p=yield Rt(r.localStore,e,!0),b=new Lp(e,p.Hi),A=b.Wu(p.documents),j=Fu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,c),Z=b.applyChanges(A,r.isPrimaryClient,j);Vh(r,t,Z.Xu);const ge=new Wd(e,t,b);return r.ic.set(e,ge),r.rc.has(t)?r.rc.get(t).push(e):r.rc.set(t,[e]),Z.snapshot}),Vp.apply(this,arguments)}function yy(r,e){return Up.apply(this,arguments)}function Up(){return Up=(0,g.Z)(function*(r,e){const t=sn(r),o=t.ic.get(e),c=t.rc.get(o.targetId);if(c.length>1)return t.rc.set(o.targetId,c.filter(p=>!Hl(p,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Fe(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),xh(t.remoteStore,o.targetId),Fh(t,o.targetId)}).catch(ks))):(Fh(t,o.targetId),yield Fe(t.localStore,o.targetId,!0))}),Up.apply(this,arguments)}function Lh(){return Lh=(0,g.Z)(function*(r,e,t){const o=Qp(r);try{const c=yield function(p,b){const A=sn(p),j=ti.now(),Z=b.reduce((ft,Ut)=>ft.add(Ut.key),Sn());let ge,je;return A.persistence.runTransaction("Locally write mutations","readwrite",ft=>{let Ut=As(),Yt=Sn();return A.Gi.getEntries(ft,Z).next(vn=>{Ut=vn,Ut.forEach((An,rr)=>{rr.isValidDocument()||(Yt=Yt.add(An))})}).next(()=>A.localDocuments.getOverlayedDocuments(ft,Ut)).next(vn=>{ge=vn;const An=[];for(const rr of b){const Ur=lc(rr,ge.get(rr.key).overlayedDocument);null!=Ur&&An.push(new y(rr.key,Ur,ae(Ur.value.mapValue),hr.exists(!0)))}return A.mutationQueue.addMutationBatch(ft,j,An,b)}).next(vn=>{je=vn;const An=vn.applyToLocalDocumentSet(ge,Yt);return A.documentOverlayCache.saveOverlays(ft,vn.batchId,An)})}).then(()=>({batchId:je.batchId,changes:Nc(ge)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(p,b,A){let j=p.hc[p.currentUser.toKey()];j||(j=new vr(Wn)),j=j.insert(b,A),p.hc[p.currentUser.toKey()]=j}(o,c.batchId,t),yield wu(o,c.changes),yield td(o.remoteStore)}catch(c){const p=id(c,"Failed to persist write");t.reject(p)}}),Lh.apply(this,arguments)}function Bp(r,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,g.Z)(function*(r,e){const t=sn(r);try{const o=yield E(t.localStore,e);e.targetChanges.forEach((c,p)=>{const b=t.cc.get(p);b&&(Dn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?b.nc=!0:c.modifiedDocuments.size>0?Dn(b.nc):c.removedDocuments.size>0&&(Dn(b.nc),b.nc=!1))}),yield wu(t,o,e)}catch(o){yield ks(o)}}),Gf.apply(this,arguments)}function Hp(r,e,t){const o=sn(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const c=[];o.ic.forEach((p,b)=>{const A=b.view.bu(e);A.snapshot&&c.push(A.snapshot)}),function(p,b){const A=sn(p);A.onlineState=b;let j=!1;A.queries.forEach((Z,ge)=>{for(const je of ge.listeners)je.bu(b)&&(j=!0)}),j&&kh(A)}(o.eventManager,e),c.length&&o.sc.Wo(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function tm(r,e,t){return jp.apply(this,arguments)}function jp(){return jp=(0,g.Z)(function*(r,e,t){const o=sn(r);o.sharedClientState.updateQueryState(e,"rejected",t);const c=o.cc.get(e),p=c&&c.key;if(p){let b=new vr(F.comparator);b=b.insert(p,De.newNoDocument(p,Un.min()));const A=Sn().add(p),j=new $a(Un.min(),new Map,new tr(Wn),b,A);yield Bp(o,j),o.uc=o.uc.remove(p),o.cc.delete(e),Zf(o)}else yield Fe(o.localStore,e,!1).then(()=>Fh(o,e,t)).catch(ks)}),jp.apply(this,arguments)}function vy(r,e){return $p.apply(this,arguments)}function $p(){return $p=(0,g.Z)(function*(r,e){const t=sn(r),o=e.batch.batchId;try{const c=yield a(t.localStore,e);zp(t,o,null),Gp(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield wu(t,c)}catch(c){yield ks(c)}}),$p.apply(this,arguments)}function _y(r,e,t){return zf.apply(this,arguments)}function zf(){return zf=(0,g.Z)(function*(r,e,t){const o=sn(r);try{const c=yield function(p,b){const A=sn(p);return A.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let Z;return A.mutationQueue.lookupMutationBatch(j,b).next(ge=>(Dn(null!==ge),Z=ge.keys(),A.mutationQueue.removeMutationBatch(j,ge))).next(()=>A.mutationQueue.performConsistencyCheck(j)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(j,Z,b)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,Z)).next(()=>A.localDocuments.getDocuments(j,Z))})}(o.localStore,e);zp(o,e,t),Gp(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield wu(o,c)}catch(c){yield ks(c)}}),zf.apply(this,arguments)}function Wf(){return Wf=(0,g.Z)(function*(r,e){const t=sn(r);vu(t.remoteStore)||Zt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(p){const b=sn(p);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>b.mutationQueue.getHighestUnacknowledgedBatchId(A))}(t.localStore);if(-1===o)return void e.resolve();const c=t.lc.get(o)||[];c.push(e),t.lc.set(o,c)}catch(o){const c=id(o,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),Wf.apply(this,arguments)}function Gp(r,e){(r.lc.get(e)||[]).forEach(t=>{t.resolve()}),r.lc.delete(e)}function zp(r,e,t){const o=sn(r);let c=o.hc[o.currentUser.toKey()];if(c){const p=c.get(e);p&&(t?p.reject(t):p.resolve(),c=c.remove(e)),o.hc[o.currentUser.toKey()]=c}}function Fh(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r.rc.get(e))r.ic.delete(o),t&&r.sc.wc(o,t);r.rc.delete(e),r.isPrimaryClient&&r.ac.ls(e).forEach(o=>{r.ac.containsKey(o)||by(r,o)})}function by(r,e){r.oc.delete(e.path.canonicalString());const t=r.uc.get(e);null!==t&&(xh(r.remoteStore,t),r.uc=r.uc.remove(e),r.cc.delete(t),Zf(r))}function Vh(r,e,t){for(const o of t)o instanceof Jg?(r.ac.addReference(o.key,e),Ey(r,o)):o instanceof Xg?(Zt("SyncEngine","Document no longer in limbo: "+o.key),r.ac.removeReference(o.key,e),r.ac.containsKey(o.key)||by(r,o.key)):wn()}function Ey(r,e){const t=e.key,o=t.path.canonicalString();r.uc.get(t)||r.oc.has(o)||(Zt("SyncEngine","New document in limbo: "+t),r.oc.add(o),Zf(r))}function Zf(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const e=r.oc.values().next().value;r.oc.delete(e);const t=new F(D.fromString(e)),o=r.fc.next();r.cc.set(o,new em(t)),r.uc=r.uc.insert(t,o),Sh(r.remoteStore,new ll(Vs(Mu(t.path)),o,2,Xs.at))}}function wu(r,e,t){return nm.apply(this,arguments)}function nm(){return nm=(0,g.Z)(function*(r,e,t){const o=sn(r),c=[],p=[],b=[];var A;o.ic.isEmpty()||(o.ic.forEach((A,j)=>{b.push(o._c(j,e,t).then(Z=>{if((Z||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(j.targetId,(null==Z?void 0:Z.fromCache)?"not-current":"current"),Z){c.push(Z);const ge=Rf.Ci(j.targetId,Z);p.push(ge)}}))}),yield Promise.all(b),o.sc.Wo(c),yield(A=(0,g.Z)(function*(j,Z){const ge=sn(j);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",je=>yt.forEach(Z,ft=>yt.forEach(ft.Si,Ut=>ge.persistence.referenceDelegate.addReference(je,ft.targetId,Ut)).next(()=>yt.forEach(ft.Di,Ut=>ge.persistence.referenceDelegate.removeReference(je,ft.targetId,Ut)))))}catch(je){if(!$r(je))throw je;Zt("LocalStore","Failed to update sequence numbers: "+je)}for(const je of Z){const ft=je.targetId;if(!je.fromCache){const Ut=ge.Ui.get(ft),vn=Ut.withLastLimboFreeSnapshotVersion(Ut.snapshotVersion);ge.Ui=ge.Ui.insert(ft,vn)}}}),function(j,Z){return A.apply(this,arguments)})(o.localStore,p))}),nm.apply(this,arguments)}function Zl(r,e){return im.apply(this,arguments)}function im(){return im=(0,g.Z)(function*(r,e){const t=sn(r);if(!t.currentUser.isEqual(e)){Zt("SyncEngine","User change. New user:",e.toKey());const o=yield v(t.localStore,e);t.currentUser=e,(c=t).lc.forEach(b=>{b.forEach(A=>{A.reject(new Lt(bt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield wu(t,o.ji)}var c}),im.apply(this,arguments)}function qv(r,e){const t=sn(r),o=t.cc.get(e);if(o&&o.nc)return Sn().add(o.key);{let c=Sn();const p=t.rc.get(e);if(!p)return c;for(const b of p){const A=t.ic.get(b);c=c.unionWith(A.view.ju)}return c}}function rm(r,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,g.Z)(function*(r,e){const t=sn(r),o=yield Rt(t.localStore,e.query,!0),c=e.view.tc(o);return t.isPrimaryClient&&Vh(t,e.targetId,c.Xu),c}),Kf.apply(this,arguments)}function sm(r,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,g.Z)(function*(r,e){const t=sn(r);return xn(t.localStore,e).then(o=>wu(t,o))}),Wp.apply(this,arguments)}function Yv(r,e,t,o){return qf.apply(this,arguments)}function qf(){return qf=(0,g.Z)(function*(r,e,t,o){const c=sn(r),p=yield function(b,A){const j=sn(b),Z=sn(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",ge=>Z.Tn(ge,A).next(je=>je?j.localDocuments.getDocuments(ge,je):yt.resolve(null)))}(c.localStore,e);var A;null!==p?("pending"===t?yield td(c.remoteStore):"acknowledged"===t||"rejected"===t?(zp(c,e,o||null),Gp(c,e),A=e,sn(sn(c.localStore).mutationQueue).An(A)):wn(),yield wu(c,p)):Zt("SyncEngine","Cannot apply mutation batch with id: "+e)}),qf.apply(this,arguments)}function Kp(){return Kp=(0,g.Z)(function*(r,e){const t=sn(r);if(Ec(t),Qp(t),!0===e&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),c=yield Yf(t,o.toArray());t.dc=!0,yield qg(t.remoteStore,!0);for(const p of c)Sh(t.remoteStore,p)}else if(!1===e&&!1!==t.dc){const o=[];let c=Promise.resolve();t.rc.forEach((p,b)=>{t.sharedClientState.isLocalQueryTarget(b)?o.push(b):c=c.then(()=>(Fh(t,b),Fe(t.localStore,b,!0))),xh(t.remoteStore,b)}),yield c,yield Yf(t,o),function(p){const b=sn(p);b.cc.forEach((A,j)=>{xh(b.remoteStore,j)}),b.ac.fs(),b.cc=new Map,b.uc=new vr(F.comparator)}(t),t.dc=!1,yield qg(t.remoteStore,!1)}}),Kp.apply(this,arguments)}function Yf(r,e,t){return qp.apply(this,arguments)}function qp(){return qp=(0,g.Z)(function*(r,e,t){const o=sn(r),c=[],p=[];for(const b of e){let A;const j=o.rc.get(b);if(j&&0!==j.length){A=yield ye(o.localStore,Vs(j[0]));for(const Z of j){const ge=o.ic.get(Z),je=yield rm(o,ge);je.snapshot&&p.push(je.snapshot)}}else{const Z=yield dn(o.localStore,b);A=yield ye(o.localStore,Z),yield Fp(o,om(Z),b,!1,A.resumeToken)}c.push(A)}return o.sc.Wo(p),c}),qp.apply(this,arguments)}function om(r){return yd(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function wy(r){const e=sn(r);return sn(sn(e.localStore).persistence).vi()}function Cy(r,e,t,o){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,g.Z)(function*(r,e,t,o){const c=sn(r);if(c.dc)return void Zt("SyncEngine","Ignoring unexpected query state notification.");const p=c.rc.get(e);if(p&&p.length>0)switch(t){case"current":case"not-current":{const b=yield xn(c.localStore,Ac(p[0])),A=$a.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Lr.EMPTY_BYTE_STRING);yield wu(c,b,A);break}case"rejected":yield Fe(c.localStore,e,!0),Fh(c,e,o);break;default:wn()}}),Yp.apply(this,arguments)}function Ty(r,e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,g.Z)(function*(r,e,t){const o=Ec(r);if(o.dc){for(const c of e){if(o.rc.has(c)){Zt("SyncEngine","Adding an already active target "+c);continue}const p=yield dn(o.localStore,c),b=yield ye(o.localStore,p);yield Fp(o,om(p),b.targetId,!1,b.resumeToken),Sh(o.remoteStore,b)}for(const c of t)o.rc.has(c)&&(yield Fe(o.localStore,c,!1).then(()=>{xh(o.remoteStore,c),Fh(o,c)}).catch(ks))}}),Zd.apply(this,arguments)}function Ec(r){const e=sn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tm.bind(null,e),e.sc.Wo=Nh.bind(null,e.eventManager),e.sc.wc=fy.bind(null,e.eventManager),e}function Qp(r){const e=sn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_y.bind(null,e),e}class am{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,g.Z)(function*(){t.It=xi(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return jg(this.persistence,new Dp,e.initialUser,this.It)}yc(e){return new Th(yc.Bs,this.It)}gc(e){return new Xc}terminate(){var e=this;return(0,g.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class lm extends am{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,g.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield Qp(o.Ac.syncEngine),yield td(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return jg(this.persistence,new Dp,e.initialUser,this.It)}Tc(e,t){return new Wa(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new Xl(t,this.persistence);return new gl(e.asyncQueue,o)}yc(e){const t=Pf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?bo.withCacheSize(this.cacheSizeBytes):bo.DEFAULT;return new Mf(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,jn(),Gn(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Xc}}class Jp extends lm{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,g.Z)(function*(){yield t().call(o,e);const c=o.Ac.syncEngine;o.sharedClientState instanceof Ka&&(o.sharedClientState.syncEngine={Fr:Yv.bind(null,c),$r:Cy.bind(null,c),Br:Ty.bind(null,c),vi:wy.bind(null,c),Mr:sm.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var p=(0,g.Z)(function*(b){yield function Zp(r,e){return Kp.apply(this,arguments)}(o.Ac.syncEngine,b),o.gcScheduler&&(b&&!o.gcScheduler.started?o.gcScheduler.start():b||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(b&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():b||o.indexBackfillerScheduler.stop())});return function(b){return p.apply(this,arguments)}}())})()}gc(e){const t=jn();if(!Ka.C(t))throw new Lt(bt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Pf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ka(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class xl{initialize(e,t){var o=this;return(0,g.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>Hp(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=Zl.bind(null,o.syncEngine),yield qg(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hy}createDatastore(e){const t=xi(e.databaseInfo.databaseId),o=new Mn(e.databaseInfo);return new Bi(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,c=e.asyncQueue,p=A=>Hp(this.syncEngine,A,0),b=Wl.C()?new Wl:new Yu,new _c(t,o,c,p,b);var t,o,c,p,b}createSyncEngine(e,t){return function(o,c,p,b,A,j,Z){const ge=new gy(o,c,p,b,A,j);return Z&&(ge.dc=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,g.Z)(function*(t){const o=sn(t);Zt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield yu(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function sd(r,e,t){if(!t)throw new Lt(bt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function No(r,e,t,o){if(!0===e&&!0===o)throw new Lt(bt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function wc(r){if(!F.isDocumentKey(r))throw new Lt(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Bh(r){if(F.isDocumentKey(r))throw new Lt(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wa(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":wn()}function Li(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Lt(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wa(r);throw new Lt(bt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function od(r,e){if(e<=0)throw new Lt(bt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}const ad=new Map;class ld{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Lt(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Lt(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,No("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cu{constructor(e,t,o,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ld({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Lt(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Lt(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ld(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new mo;switch(t.type){case"gapi":return new Na(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Lt(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ad.get(e);t&&(Zt("ComponentProvider","Removing Datastore"),ad.delete(e),t.terminate())}(this),Promise.resolve()}}function ud(r,e,t,o={}){var c;const p=(r=Li(r,Cu))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&Zi("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let b,A;if("string"==typeof o.mockUserToken)b=o.mockUserToken,A=Pi.MOCK_USER;else{b=(0,_e.Sg)(o.mockUserToken,null===(c=r._app)||void 0===c?void 0:c.options.projectId);const j=o.mockUserToken.sub||o.mockUserToken.user_id;if(!j)throw new Lt(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Pi(j)}r._authCredentials=new Xa(new Nl(b,A))}}class Vr{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}}class Ss{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class Ca extends Ss{constructor(e,t,o){super(e,t,Mu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new F(e))}withConverter(e){return new Ca(this.firestore,e,this._path)}}function Kd(r,e,...t){if(r=(0,_e.m9)(r),sd("collection","path",e),r instanceof Cu){const o=D.fromString(e,...t);return Bh(o),new Ca(r,null,o)}{if(!(r instanceof Vr||r instanceof Ca))throw new Lt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(D.fromString(e,...t));return Bh(o),new Ca(r.firestore,null,o)}}function um(r,e){if(r=Li(r,Cu),sd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Lt(bt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ss(r,null,(t=e,new to(D.emptyPath(),t)));var t}function Xp(r,e,...t){if(r=(0,_e.m9)(r),1===arguments.length&&(e=Ri.R()),sd("doc","path",e),r instanceof Cu){const o=D.fromString(e,...t);return wc(o),new Vr(r,null,new F(o))}{if(!(r instanceof Vr||r instanceof Ca))throw new Lt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(D.fromString(e,...t));return wc(o),new Vr(r.firestore,r instanceof Ca?r.converter:null,new F(o))}}function cm(r,e){return r=(0,_e.m9)(r),e=(0,_e.m9)(e),(r instanceof Vr||r instanceof Ca)&&(e instanceof Vr||e instanceof Ca)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Qf(r,e){return r=(0,_e.m9)(r),e=(0,_e.m9)(e),r instanceof Ss&&e instanceof Ss&&r.firestore===e.firestore&&Hl(r._query,e._query)&&r.converter===e.converter}function eg(r,e=10240){let t=0;return{read:()=>(0,g.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,g.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Hh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class dm{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new ar,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.ku)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,g.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,g.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,g.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const o=e.vc.decode(t),c=Number(o);isNaN(c)&&e.Dc(`length string (${o}) is not valid number`);const p=yield e.Cc(c);return new Qg(JSON.parse(p),t.length+c)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,g.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Cc(e){var t=this;return(0,g.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const o=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,g.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class fm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,g.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Lt(bt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(c=(0,g.Z)(function*(p,b){const A=sn(p),j=Bu(A.It)+"/documents",Z={documents:b.map(Ut=>Uc(A.It,Ut))},ge=yield A._o("BatchGetDocuments",j,Z,b.length),je=new Map;ge.forEach(Ut=>{const Yt=function Hc(r,e){return"found"in e?function(t,o){Dn(!!o.found);const c=Ga(t,o.found.name),p=os(o.found.updateTime),b=new B({mapValue:{fields:o.found.fields}});return De.newFoundDocument(c,p,b)}(r,e):"missing"in e?function(t,o){Dn(!!o.missing),Dn(!!o.readTime);const c=Ga(t,o.missing),p=os(o.readTime);return De.newNoDocument(c,p)}(r,e):wn()}(A.It,Ut);je.set(Yt.key.toString(),Yt)});const ft=[];return b.forEach(Ut=>{const Yt=je.get(Ut.toString());Dn(!!Yt),ft.push(Yt)}),ft}),function(p,b){return c.apply(this,arguments)})(t.datastore,e);var c;return o.forEach(c=>t.recordVersion(c)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new pe(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,g.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,c)=>{const p=F.fromPath(c);e.mutations.push(new st(p,e.precondition(p)))}),yield(o=(0,g.Z)(function*(c,p){const b=sn(c),A=Bu(b.It)+"/documents",j={writes:p.map(Z=>jc(b.It,Z))};yield b.ao("Commit",A,j)}),function(c,p){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wn();t=Un.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Lt(bt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Un.min())?hr.exists(!1):hr.updateTime(t):hr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Un.min()))throw new Lt(bt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hr.updateTime(t)}return hr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ay{constructor(e,t,o,c,p){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=c,this.deferred=p,this.kc=o.maxAttempts,this.xo=new Ts(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,g.Z)(function*(){const t=new fm(e.datastore),o=e.Mc(t);o&&o.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(p=>{e.Fc(p)}))}).catch(c=>{e.Fc(c)})}))}Mc(e){try{const t=this.updateFunction(e);return!da(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!oi(t)}return!1}}class pm{constructor(e,t,o,c){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=c,this.user=Pi.UNAUTHENTICATED,this.clientId=Ri.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var b=(0,g.Z)(function*(A){Zt("FirestoreClient","Received user=",A.uid),yield p.authCredentialListener(A),p.user=A});return function(A){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(o,b=>(Zt("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,g.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Lt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const c=id(o,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function tg(r,e){return ng.apply(this,arguments)}function ng(){return ng=(0,g.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Zt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var c=(0,g.Z)(function*(p){o.isEqual(p)||(yield v(e.localStore,p),o=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),ng.apply(this,arguments)}function gm(r,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,g.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield ig(r);Zt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(c=>cy(e.remoteStore,c)),r.setAppCheckTokenChangeListener((c,p)=>cy(e.remoteStore,p)),r.onlineComponents=e}),Jf.apply(this,arguments)}function ig(r){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,g.Z)(function*(r){return r.offlineComponents||(Zt("FirestoreClient","Using default OfflineComponentProvider"),yield tg(r,new am)),r.offlineComponents}),Xf.apply(this,arguments)}function ep(r){return rg.apply(this,arguments)}function rg(){return rg=(0,g.Z)(function*(r){return r.onlineComponents||(Zt("FirestoreClient","Using default OnlineComponentProvider"),yield gm(r,new xl)),r.onlineComponents}),rg.apply(this,arguments)}function Sy(r){return ig(r).then(e=>e.persistence)}function tp(r){return ig(r).then(e=>e.localStore)}function jh(r){return ep(r).then(e=>e.remoteStore)}function $h(r){return ep(r).then(e=>e.syncEngine)}function Gh(r){return ym.apply(this,arguments)}function ym(){return ym=(0,g.Z)(function*(r){const e=yield ep(r),t=e.eventManager;return t.onListen=my.bind(null,e.syncEngine),t.onUnlisten=yy.bind(null,e.syncEngine),t}),ym.apply(this,arguments)}function Oy(r,e,t={}){const o=new ar;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(c,p,b,A,j){const Z=new Hh({next:je=>{p.enqueueAndForget(()=>Hf(c,ge));const ft=je.docs.has(b);!ft&&je.fromCache?j.reject(new Lt(bt.UNAVAILABLE,"Failed to get document because the client is offline.")):ft&&je.fromCache&&A&&"server"===A.source?j.reject(new Lt(bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(je)},error:je=>j.reject(je)}),ge=new jf(Mu(b.path),Z,{includeMetadataChanges:!0,Nu:!0});return Yg(c,ge)}(yield Gh(r),r.asyncQueue,e,t,o)})),o.promise}function cd(r,e,t={}){const o=new ar;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(c,p,b,A,j){const Z=new Hh({next:je=>{p.enqueueAndForget(()=>Hf(c,ge)),je.fromCache&&"server"===A.source?j.reject(new Lt(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(je)},error:je=>j.reject(je)}),ge=new jf(b,Z,{includeMetadataChanges:!0,Nu:!0});return Yg(c,ge)}(yield Gh(r),r.asyncQueue,e,t,o)})),o.promise}class bm{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Ts(this,"async_queue_retry"),this.Wc=()=>{const t=Gn();t&&Zt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Gn();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Gn();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new ar;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,g.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!$r(t))throw t;Zt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Wi("INTERNAL UNHANDLED ERROR: ",function(p){let b=p.message||"";return p.stack&&(b=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),b}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const c=Bf.createAndSchedule(this,e,t,o,p=>this.Yc(p));return this.qc.push(c),c}zc(){this.Kc&&wn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,g.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function qd(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(r)}class Ny{constructor(){this._progressObserver={},this._taskCompletionResolver=new ar,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Em=-1;class Qr extends Cu{constructor(e,t,o,c){super(e,t,o,c),this.type="firestore",this._queue=new bm,this._persistenceKey=(null==c?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wm(this),this._firestoreClient.terminate()}}function xs(r){return r._firestoreClient||wm(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function wm(r){var e;const t=r._freezeSettings(),o=(p=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new nl(r._databaseId,p,r._persistenceKey,(A=t).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,A.useFetchStreams));var p,A;r._firestoreClient=new pm(r._authCredentials,r._appCheckCredentials,r._queue,o)}function Cm(r,e){lg(r=Li(r,Qr));const t=xs(r),o=r._freezeSettings(),c=new xl;return sg(t,c,new lm(c,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function ky(r){lg(r=Li(r,Qr));const e=xs(r),t=r._freezeSettings(),o=new xl;return sg(e,o,new Jp(o,t.cacheSizeBytes))}function sg(r,e,t){const o=new ar;return r.asyncQueue.enqueue((0,g.Z)(function*(){try{yield tg(r,t),yield gm(r,e),o.resolve()}catch(c){const p=c;if(!("FirebaseError"===(b=p).name?b.code===bt.FAILED_PRECONDITION||b.code===bt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&b instanceof DOMException)||22===b.code||20===b.code||11===b.code))throw p;Zi("Error enabling offline persistence. Falling back to persistence disabled: "+p),o.reject(p)}var b})).then(()=>o.promise)}function Tm(r){if(r._initialized&&!r._terminated)throw new Lt(bt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ar;return r._queue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{yield(t=(0,g.Z)(function*(o){if(!Js.C())return Promise.resolve();const c=o+"main";yield Js.delete(c)}),function(o){return t.apply(this,arguments)})(Pf(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function og(r){return function(e){const t=new ar;return e.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function Kv(r,e){return Wf.apply(this,arguments)}(yield $h(e),t)})),t.promise}(xs(r=Li(r,Qr)))}function e_(r){return function Qv(r){return r.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield Sy(r),t=yield jh(r);return e.setNetworkEnabled(!0),function(o){const c=sn(o);return c._u.delete(0),Ea(c)}(t)}))}(xs(r=Li(r,Qr)))}function ag(r){return function xy(r){return r.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield Sy(r),t=yield jh(r);return e.setNetworkEnabled(!1),(o=(0,g.Z)(function*(c){const p=sn(c);p._u.add(0),yield yu(p),p.gu.set("Offline")}),function(c){return o.apply(this,arguments)})(t);var o}))}(xs(r=Li(r,Qr)))}function n_(r,e){const t=xs(r=Li(r,Qr)),o=new Ny;return function _m(r,e,t,o){const c=function(p,b){let A;return A="string"==typeof p?(new TextEncoder).encode(p):p,j=function(j,Z){if(j instanceof Uint8Array)return eg(j,Z);if(j instanceof ArrayBuffer)return eg(new Uint8Array(j),Z);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),new dm(j,b);var j}(t,xi(e));r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){!function Uh(r,e,t){const o=sn(r);var c;(c=(0,g.Z)(function*(p,b,A){try{const j=yield b.getMetadata();if(yield function(ft,Ut){const Yt=sn(ft),vn=os(Ut.createTime);return Yt.persistence.runTransaction("hasNewerBundle","readonly",An=>Yt.Ns.getBundleMetadata(An,Ut.id)).then(An=>!!An&&An.createTime.compareTo(vn)>=0)}(p.localStore,j))return yield b.close(),A._completeWith({taskState:"Success",documentsLoaded:(ft=j).totalDocuments,bytesLoaded:ft.totalBytes,totalDocuments:ft.totalDocuments,totalBytes:ft.totalBytes}),Promise.resolve(new Set);A._updateProgress($f(j));const Z=new py(j,p.localStore,b.It);let ge=yield b.mc();for(;ge;){const ft=yield Z.Fu(ge);ft&&A._updateProgress(ft),ge=yield b.mc()}const je=yield Z.complete();return yield wu(p,je.Lu,void 0),yield function(ft,Ut){const Yt=sn(ft);return Yt.persistence.runTransaction("Save bundle","readwrite",vn=>Yt.Ns.saveBundleMetadata(vn,Ut))}(p.localStore,j),A._completeWith(je.progress),Promise.resolve(je.Bu)}catch(j){return Zi("SyncEngine",`Loading bundle failed with ${j}`),A._failWith(j),Promise.resolve(new Set)}var ft}),function(p,b,A){return c.apply(this,arguments)})(o,e,t).then(c=>{o.sharedClientState.notifyBundleLoaded(c)})}(yield $h(r),c,o)}))}(t,r._databaseId,e,o),o}function zh(r,e){return function Ry(r,e){return r.asyncQueue.enqueue((0,g.Z)(function*(){return function(t,o){const c=sn(t);return c.persistence.runTransaction("Get named query","readonly",p=>c.Ns.getNamedQuery(p,o))}(yield tp(r),e)}))}(xs(r=Li(r,Qr)),e).then(t=>t?new Ss(r,null,t.query):null)}function lg(r){if(r._initialized||r._terminated)throw new Lt(bt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tu(Lr.fromBase64String(e))}catch(t){throw new Lt(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tu(Lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Du{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Lt(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new L(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Iu{constructor(e){this._methodName=e}}class dd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Lt(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Lt(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wn(this._lat,e._lat)||Wn(this._long,e._long)}}const ug=/^__.*__$/;class r_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new y(e,this.data,this.fieldMask,t,this.fieldTransforms):new T(e,this.data,t,this.fieldTransforms)}}class Dm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new y(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Wh(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wn()}}class hd{constructor(e,t,o,c,p,b){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=c,void 0===p&&this.na(),this.fieldTransforms=p||[],this.fieldMask=b||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new hd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:o,oa:!1});return c.ua(e),c}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:o,oa:!1});return c.na(),c}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Jh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Wh(this.sa)&&ug.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class cg{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||xi(e)}da(e,t,o,c=!1){return new hd({sa:e,methodName:t,fa:o,path:L.emptyPath(),oa:!1,la:c},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Cc(r){const e=r._freezeSettings(),t=xi(r._databaseId);return new cg(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Yd(r,e,t,o,c,p={}){const b=r.da(p.merge||p.mergeFields?2:0,e,t,c);qh("Data must be an object, but it was:",b,o);const A=fg(o,b);let j,Z;if(p.merge)j=new qo(b.fieldMask),Z=b.fieldTransforms;else if(p.mergeFields){const ge=[];for(const je of p.mergeFields){const ft=Yh(e,je,t);if(!b.contains(ft))throw new Lt(bt.INVALID_ARGUMENT,`Field '${ft}' is specified in your field mask but missing from your input data.`);mg(ge,ft)||ge.push(ft)}j=new qo(ge),Z=b.fieldTransforms.filter(je=>j.covers(je.field))}else j=null,Z=b.fieldTransforms;return new r_(new B(A),j,Z)}class Qd extends Iu{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qd}}function dg(r,e,t){return new hd({sa:3,fa:e.settings.fa,methodName:r._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Zh extends Iu{_toFieldTransform(e){return new ku(e.path,new ou)}isEqual(e){return e instanceof Zh}}class Im extends Iu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=dg(this,e,!0),o=this._a.map(p=>fd(p,t)),c=new sl(o);return new ku(e.path,c)}isEqual(e){return this===e}}class Ly extends Iu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=dg(this,e,!0),o=this._a.map(p=>fd(p,t)),c=new Bs(o);return new ku(e.path,c)}isEqual(e){return this===e}}class Am extends Iu{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new xr(e.It,bl(e.It,this.wa));return new ku(e.path,t)}isEqual(e){return this===e}}function np(r,e,t,o){const c=r.da(1,e,t);qh("Data must be an object, but it was:",c,o);const p=[],b=B.empty();ca(o,(j,Z)=>{const ge=Qh(e,j,t);Z=(0,_e.m9)(Z);const je=c.ca(ge);if(Z instanceof Qd)p.push(ge);else{const ft=fd(Z,je);null!=ft&&(p.push(ge),b.set(ge,ft))}});const A=new qo(p);return new Dm(b,A,c.fieldTransforms)}function Kh(r,e,t,o,c,p){const b=r.da(1,e,t),A=[Yh(e,o,t)],j=[c];if(p.length%2!=0)throw new Lt(bt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ft=0;ft<p.length;ft+=2)A.push(Yh(e,p[ft])),j.push(p[ft+1]);const Z=[],ge=B.empty();for(let ft=A.length-1;ft>=0;--ft)if(!mg(Z,A[ft])){const Ut=A[ft];let Yt=j[ft];Yt=(0,_e.m9)(Yt);const vn=b.ca(Ut);if(Yt instanceof Qd)Z.push(Ut);else{const An=fd(Yt,vn);null!=An&&(Z.push(Ut),ge.set(Ut,An))}}const je=new qo(Z);return new Dm(ge,je,b.fieldTransforms)}function hg(r,e,t,o=!1){return fd(t,r.da(o?4:3,e))}function fd(r,e){if(pg(r=(0,_e.m9)(r)))return qh("Unsupported field value:",e,r),fg(r,e);if(r instanceof Iu)return function(t,o){if(!Wh(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const c=[];let p=0;for(const b of t){let A=fd(b,o.aa(p));null==A&&(A={nullValue:"NULL_VALUE"}),c.push(A),p++}return{arrayValue:{values:c}}}(r,e)}return function(t,o){if(null===(t=(0,_e.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bl(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=ti.fromDate(t);return{timestampValue:Uu(o.It,c)}}if(t instanceof ti){const c=new ti(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Uu(o.It,c)}}if(t instanceof dd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tu)return{bytesValue:dc(o.It,t._byteString)};if(t instanceof Vr){const c=o.databaseId,p=t.firestore._databaseId;if(!p.isEqual(c))throw o.ha(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vc(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${wa(t)}`)}(r,e)}function fg(r,e){const t={};return xu(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(r,(o,c)=>{const p=fd(c,e.ra(o));null!=p&&(t[o]=p)}),{mapValue:{fields:t}}}function pg(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ti||r instanceof dd||r instanceof Tu||r instanceof Vr||r instanceof Iu)}function qh(r,e,t){if(!pg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=wa(t);throw e.ha("an object"===o?r+" a custom object":r+" "+o)}var o}function Yh(r,e,t){if((e=(0,_e.m9)(e))instanceof Du)return e._internalPath;if("string"==typeof e)return Qh(r,e);throw Jh("Field path arguments must be of type string or ",r,!1,void 0,t)}const gg=new RegExp("[~\\*/\\[\\]]");function Qh(r,e,t){if(e.search(gg)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Du(...e.split("."))._internalPath}catch(o){throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Jh(r,e,t,o,c){const p=o&&!o.isEmpty(),b=void 0!==c;let A=`Function ${e}() called with invalid data`;t&&(A+=" (via `toFirestore()`)"),A+=". ";let j="";return(p||b)&&(j+=" (found",p&&(j+=` in field ${o}`),b&&(j+=` in document ${c}`),j+=")"),new Lt(bt.INVALID_ARGUMENT,A+r+j)}function mg(r,e){return r.some(t=>t.isEqual(e))}class Jd{constructor(e,t,o,c,p){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sm extends Jd{data(){return super.data()}}function Xh(r,e){return"string"==typeof e?Qh(r,e):e instanceof Du?e._internalPath:e._delegate._internalPath}function yg(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Lt(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ip{}function Fy(r,...e){for(const t of e)r=t._apply(r);return r}class Vy extends ip{constructor(e,t,o){super(),this.ma=e,this.ga=t,this.ya=o,this.type="where"}_apply(e){const t=Cc(e.firestore),o=function(c,p,b,A,j,Z,ge){let je;if(j.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new Lt(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){Pm(ge,Z);const Ut=[];for(const Yt of ge)Ut.push(Eg(A,c,Yt));je={arrayValue:{values:Ut}}}else je=Eg(A,c,ge)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||Pm(ge,Z),je=hg(b,"where",ge,"in"===Z||"not-in"===Z);const ft=Ui.create(j,Z,je);return function(Ut,Yt){if(Yt.dt()){const An=Pu(Ut);if(null!==An&&!An.isEqual(Yt.field))throw new Lt(bt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${An.toString()}' and '${Yt.field.toString()}'`);const rr=Ic(Ut);null!==rr&&wg(0,Yt.field,rr)}const vn=function(An,rr){for(const Ur of An.filters)if(rr.indexOf(Ur.op)>=0)return Ur.op;return null}(Ut,function(An){switch(An){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Yt.op));if(null!==vn)throw new Lt(bt.INVALID_ARGUMENT,vn===Yt.op?`Invalid query. You cannot use more than one '${Yt.op.toString()}' filter.`:`Invalid query. You cannot use '${Yt.op.toString()}' filters with '${vn.toString()}' filters.`)}(c,ft),ft}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Ss(e.firestore,e.converter,function(c,p){const b=c.filters.concat([p]);return new to(c.path,c.collectionGroup,c.explicitOrderBy.slice(),b,c.limit,c.limitType,c.startAt,c.endAt)}(e._query,o))}}function xm(r,e,t){const o=e,c=Xh("where",r);return new Vy(c,o,t)}class Uy extends ip{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(o,c,p){if(null!==o.startAt)throw new Lt(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Lt(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new Jo(c,p);return function(A,j){if(null===Ic(A)){const Z=Pu(A);null!==Z&&wg(0,Z,j.field)}}(o,b),b}(e._query,this.ma,this.pa);return new Ss(e.firestore,e.converter,function(o,c){const p=o.explicitOrderBy.concat([c]);return new to(o.path,o.collectionGroup,p,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function so(r,e="asc"){const t=e,o=Xh("orderBy",r);return new Uy(o,t)}class vg extends ip{constructor(e,t,o){super(),this.type=e,this.Ia=t,this.Ta=o}_apply(e){return new Ss(e.firestore,e.converter,Bl(e._query,this.Ia,this.Ta))}}function By(r){return od("limit",r),new vg("limit",r,"F")}function Hy(r){return od("limitToLast",r),new vg("limitToLast",r,"L")}class _g extends ip{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=Mm(e,this.type,this.Ea,this.Aa);return new Ss(e.firestore,e.converter,(c=t,new to((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)));var o,c}}function jy(...r){return new _g("startAt",r,!0)}function Om(...r){return new _g("startAfter",r,!1)}class bg extends ip{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=Mm(e,this.type,this.Ea,this.Aa);return new Ss(e.firestore,e.converter,(c=t,new to((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)));var o,c}}function Xd(...r){return new bg("endBefore",r,!1)}function $y(...r){return new bg("endAt",r,!0)}function Mm(r,e,t,o){if(t[0]=(0,_e.m9)(t[0]),t[0]instanceof Jd)return function(c,p,b,A,j){if(!A)throw new Lt(bt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const Z=[];for(const ge of Ul(c))if(ge.field.isKeyField())Z.push(Qo(p,A.key));else{const je=A.data.field(ge.field);if(Cs(je))throw new Lt(bt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===je){const ft=ge.field.canonicalString();throw new Lt(bt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ft}' (used as the orderBy) does not exist.`)}Z.push(je)}return new Fs(Z,j)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const c=Cc(r.firestore);return function(p,b,A,j,Z,ge){const je=p.explicitOrderBy;if(Z.length>je.length)throw new Lt(bt.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ft=[];for(let Ut=0;Ut<Z.length;Ut++){const Yt=Z[Ut];if(je[Ut].field.isKeyField()){if("string"!=typeof Yt)throw new Lt(bt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof Yt}`);if(!sc(p)&&-1!==Yt.indexOf("/"))throw new Lt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${Yt}' contains a slash.`);const vn=p.path.child(D.fromString(Yt));if(!F.isDocumentKey(vn))throw new Lt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${vn}' is not because it contains an odd number of segments.`);const An=new F(vn);ft.push(Qo(b,An))}else{const vn=hg(A,j,Yt);ft.push(vn)}}return new Fs(ft,ge)}(r._query,r.firestore._databaseId,c,e,t,o)}}function Eg(r,e,t){if("string"==typeof(t=(0,_e.m9)(t))){if(""===t)throw new Lt(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sc(e)&&-1!==t.indexOf("/"))throw new Lt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(D.fromString(t));if(!F.isDocumentKey(o))throw new Lt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Qo(r,new F(o))}if(t instanceof Vr)return Qo(r,t._key);throw new Lt(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wa(t)}.`)}function Pm(r,e){if(!Array.isArray(r)||0===r.length)throw new Lt(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new Lt(bt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function wg(r,e,t){if(!t.isEqual(e))throw new Lt(bt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Rm{convertValue(e,t="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wn()}}convertObject(e,t){const o={};return ca(e.fields,(c,p)=>{o[c]=this.convertValue(p,t)}),o}convertGeoPoint(e){return new dd(dr(e.latitude),dr(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=eu(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){const t=tl(e);return new ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=D.fromString(e);Dn(ju(o));const c=new ps(o.get(1),o.get(3)),p=new F(o.popFirst(5));return c.isEqual(t)||Wi(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function eh(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Cg extends Rm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,t)}}class ko{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pd extends Jd{constructor(e,t,o,c,p,b){super(e,t,o,c,b),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Xh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class th extends pd{data(e={}){return super.data(e)}}class na{constructor(e,t,o,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new ko(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new th(this._firestore,this._userDataWriter,o.key,o,new ko(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Lt(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let p=0;return o._snapshot.docChanges.map(b=>({type:"added",doc:new th(o._firestore,o._userDataWriter,b.doc.key,b.doc,new ko(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:p++}))}{let p=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(b=>c||3!==b.type).map(b=>{const A=new th(o._firestore,o._userDataWriter,b.doc.key,b.doc,new ko(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter);let j=-1,Z=-1;return 0!==b.type&&(j=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),1!==b.type&&(p=p.add(b.doc),Z=p.indexOf(b.doc.key)),{type:Kl(b.type),doc:A,oldIndex:j,newIndex:Z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Kl(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wn()}}function ql(r,e){return r instanceof pd&&e instanceof pd?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof na&&e instanceof na&&r._firestore===e._firestore&&Qf(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function Nm(r){r=Li(r,Vr);const e=Li(r.firestore,Qr);return Oy(xs(e),r._key).then(t=>Dg(e,r,t))}class Xu extends Rm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,t)}}function Gy(r){r=Li(r,Vr);const e=Li(r.firestore,Qr),t=xs(e),o=new Xu(e);return function vm(r,e){const t=new ar;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(o=(0,g.Z)(function*(c,p,b){try{const A=yield function(j,Z){const ge=sn(j);return ge.persistence.runTransaction("read document","readonly",je=>ge.localDocuments.getDocument(je,Z))}(c,p);A.isFoundDocument()?b.resolve(A):A.isNoDocument()?b.resolve(null):b.reject(new Lt(bt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(A){const j=id(A,`Failed to get document '${p} from cache`);b.reject(j)}}),function(c,p,b){return o.apply(this,arguments)})(yield tp(r),e,t);var o})),t.promise}(t,r._key).then(c=>new pd(e,o,r._key,c,new ko(null!==c&&c.hasLocalMutations,!0),r.converter))}function zy(r){r=Li(r,Vr);const e=Li(r.firestore,Qr);return Oy(xs(e),r._key,{source:"server"}).then(t=>Dg(e,r,t))}function Wy(r){r=Li(r,Ss);const e=Li(r.firestore,Qr),t=xs(e),o=new Xu(e);return yg(r._query),cd(t,r._query).then(c=>new na(e,o,r,c))}function Zy(r){r=Li(r,Ss);const e=Li(r.firestore,Qr),t=xs(e),o=new Xu(e);return function My(r,e){const t=new ar;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(o=(0,g.Z)(function*(c,p,b){try{const A=yield Rt(c,p,!0),j=new Lp(p,A.Hi),Z=j.Wu(A.documents),ge=j.applyChanges(Z,!1);b.resolve(ge.snapshot)}catch(A){const j=id(A,`Failed to execute query '${p} against cache`);b.reject(j)}}),function(c,p,b){return o.apply(this,arguments)})(yield tp(r),e,t);var o})),t.promise}(t,r._query).then(c=>new na(e,o,r,c))}function Tg(r){r=Li(r,Ss);const e=Li(r.firestore,Qr),t=xs(e),o=new Xu(e);return cd(t,r._query,{source:"server"}).then(c=>new na(e,o,r,c))}function ef(r,e,t){r=Li(r,Vr);const o=Li(r.firestore,Qr),c=eh(r.converter,e,t);return ec(o,[Yd(Cc(o),"setDoc",r._key,c,null!==r.converter,t).toMutation(r._key,hr.none())])}function Ky(r,e,t,...o){r=Li(r,Vr);const c=Li(r.firestore,Qr),p=Cc(c);let b;return b="string"==typeof(e=(0,_e.m9)(e))||e instanceof Du?Kh(p,"updateDoc",r._key,e,t,o):np(p,"updateDoc",r._key,e),ec(c,[b.toMutation(r._key,hr.exists(!0))])}function km(r){return ec(Li(r.firestore,Qr),[new pe(r._key,hr.none())])}function qy(r,e){const t=Li(r.firestore,Qr),o=Xp(r),c=eh(r.converter,e);return ec(t,[Yd(Cc(r.firestore),"addDoc",o._key,c,null!==r.converter,{}).toMutation(o._key,hr.exists(!1))]).then(()=>o)}function Lm(r,...e){var t,o,c;r=(0,_e.m9)(r);let p={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||qd(e[b])||(p=e[b],b++);const A={includeMetadataChanges:p.includeMetadataChanges};if(qd(e[b])){const je=e[b];e[b]=null===(t=je.next)||void 0===t?void 0:t.bind(je),e[b+1]=null===(o=je.error)||void 0===o?void 0:o.bind(je),e[b+2]=null===(c=je.complete)||void 0===c?void 0:c.bind(je)}let j,Z,ge;if(r instanceof Vr)Z=Li(r.firestore,Qr),ge=Mu(r._key.path),j={next:je=>{e[b]&&e[b](Dg(Z,r,je))},error:e[b+1],complete:e[b+2]};else{const je=Li(r,Ss);Z=Li(je.firestore,Qr),ge=je._query;const ft=new Xu(Z);j={next:Ut=>{e[b]&&e[b](new na(Z,ft,je,Ut))},error:e[b+1],complete:e[b+2]},yg(r._query)}return function(je,ft,Ut,Yt){const vn=new Hh(Yt),An=new jf(ft,vn,Ut);return je.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return Yg(yield Gh(je),An)})),()=>{vn.bc(),je.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return Hf(yield Gh(je),An)}))}}(xs(Z),ge,A,j)}function Fm(r,e){return function Py(r,e){const t=new Hh(e);return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return o=yield Gh(r),c=t,sn(o).Ru.add(c),void c.next();var o,c})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return o=yield Gh(r),c=t,void sn(o).Ru.delete(c);var o,c}))}}(xs(r=Li(r,Qr)),qd(e)?e:{next:e})}function ec(r,e){return function(t,o){const c=new ar;return t.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function Eu(r,e,t){return Lh.apply(this,arguments)}(yield $h(t),o,c)})),c.promise}(xs(r),e)}function Dg(r,e,t){const o=t.docs.get(e._key),c=new Xu(r);return new pd(r,c,e._key,o,new ko(t.hasPendingWrites,t.fromCache),e.converter)}const Ig={maxAttempts:5};class tf{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cc(e)}set(e,t,o){this._verifyNotCommitted();const c=Au(e,this._firestore),p=eh(c.converter,t,o),b=Yd(this._dataReader,"WriteBatch.set",c._key,p,null!==c.converter,o);return this._mutations.push(b.toMutation(c._key,hr.none())),this}update(e,t,o,...c){this._verifyNotCommitted();const p=Au(e,this._firestore);let b;return b="string"==typeof(t=(0,_e.m9)(t))||t instanceof Du?Kh(this._dataReader,"WriteBatch.update",p._key,t,o,c):np(this._dataReader,"WriteBatch.update",p._key,t),this._mutations.push(b.toMutation(p._key,hr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Au(e,this._firestore);return this._mutations=this._mutations.concat(new pe(t._key,hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Lt(bt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Au(r,e){if((r=(0,_e.m9)(r)).firestore!==e)throw new Lt(bt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Ag extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cc(e)}get(e){const t=Au(e,this._firestore),o=new Cg(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return wn();const p=c[0];if(p.isFoundDocument())return new Jd(this._firestore,o,p.key,p,t.converter);if(p.isNoDocument())return new Jd(this._firestore,o,t._key,null,t.converter);throw wn()})}set(e,t,o){const c=Au(e,this._firestore),p=eh(c.converter,t,o),b=Yd(this._dataReader,"Transaction.set",c._key,p,null!==c.converter,o);return this._transaction.set(c._key,b),this}update(e,t,o,...c){const p=Au(e,this._firestore);let b;return b="string"==typeof(t=(0,_e.m9)(t))||t instanceof Du?Kh(this._dataReader,"Transaction.update",p._key,t,o,c):np(this._dataReader,"Transaction.update",p._key,t),this._transaction.update(p._key,b),this}delete(e){const t=Au(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Au(e,this._firestore),o=new Xu(this._firestore);return super.get(e).then(c=>new pd(this._firestore,o,t._key,c._document,new ko(!1,!1),t.converter))}}function Vm(r,e,t){r=Li(r,Qr);const o=Object.assign(Object.assign({},Ig),t);return function(c){if(c.maxAttempts<1)throw new Lt(bt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(c,p,b){const A=new ar;return c.asyncQueue.enqueueAndForget((0,g.Z)(function*(){const j=yield function mm(r){return ep(r).then(e=>e.datastore)}(c);new Ay(c.asyncQueue,j,b,p,A).run()})),A.promise}(xs(r),c=>e(new Ag(r,c)),o)}function Um(){return new Qd("deleteField")}function Bm(){return new Zh("serverTimestamp")}function Hm(...r){return new Im("arrayUnion",r)}function jm(...r){return new Ly("arrayRemove",r)}function $m(r){return new Am("increment",r)}!function(r,e=!0){Go=d.SDK_VERSION,(0,d._registerComponent)(new W.wA("firestore",(t,{instanceIdentifier:o,options:c})=>{const p=t.getProvider("app").getImmediate(),b=new Qr(new qr(t.getProvider("auth-internal")),new Wo(t.getProvider("app-check-internal")),function(A,j){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new Lt(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ps(A.options.projectId,j)}(p,o),p);return c=Object.assign({useFetchStreams:e},c),b._setSettings(c),b},"PUBLIC").setMultipleInstances(!0)),(0,d.registerVersion)(nc,"3.7.3",r),(0,d.registerVersion)(nc,"3.7.3","esm2017")}()},2090:(qt,Ze,x)=>{x.d(Ze,{$s:()=>be,BH:()=>vt,G6:()=>Xe,L:()=>ce,LL:()=>Mt,Pz:()=>gt,Sg:()=>q,UG:()=>ht,US:()=>Ne,ZB:()=>ue,ZR:()=>Ke,aH:()=>on,b$:()=>rt,eu:()=>Y,hl:()=>Tt,jU:()=>ut,m9:()=>St,ne:()=>$e,pd:()=>It,r3:()=>Ni,ru:()=>Qe,tV:()=>J,uI:()=>nt,vZ:()=>Oi,w1:()=>pt,xO:()=>Mi,xb:()=>Fi,z$:()=>lt,zI:()=>qe,zd:()=>hi});const Te=function(de){const fe=[];let Me=0;for(let ve=0;ve<de.length;ve++){let X=de.charCodeAt(ve);X<128?fe[Me++]=X:X<2048?(fe[Me++]=X>>6|192,fe[Me++]=63&X|128):55296==(64512&X)&&ve+1<de.length&&56320==(64512&de.charCodeAt(ve+1))?(X=65536+((1023&X)<<10)+(1023&de.charCodeAt(++ve)),fe[Me++]=X>>18|240,fe[Me++]=X>>12&63|128,fe[Me++]=X>>6&63|128,fe[Me++]=63&X|128):(fe[Me++]=X>>12|224,fe[Me++]=X>>6&63|128,fe[Me++]=63&X|128)}return fe},Ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,fe){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Me=fe?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let X=0;X<de.length;X+=3){const $=de[X],ee=X+1<de.length,re=ee?de[X+1]:0,Ae=X+2<de.length,Ye=Ae?de[X+2]:0;let gn=(15&re)<<2|Ye>>6,fn=63&Ye;Ae||(fn=64,ee||(gn=64)),ve.push(Me[$>>2],Me[(3&$)<<4|re>>4],Me[gn],Me[fn])}return ve.join("")},encodeString(de,fe){return this.HAS_NATIVE_SUPPORT&&!fe?btoa(de):this.encodeByteArray(Te(de),fe)},decodeString(de,fe){return this.HAS_NATIVE_SUPPORT&&!fe?atob(de):function(de){const fe=[];let Me=0,ve=0;for(;Me<de.length;){const X=de[Me++];if(X<128)fe[ve++]=String.fromCharCode(X);else if(X>191&&X<224){const $=de[Me++];fe[ve++]=String.fromCharCode((31&X)<<6|63&$)}else if(X>239&&X<365){const Ae=((7&X)<<18|(63&de[Me++])<<12|(63&de[Me++])<<6|63&de[Me++])-65536;fe[ve++]=String.fromCharCode(55296+(Ae>>10)),fe[ve++]=String.fromCharCode(56320+(1023&Ae))}else{const $=de[Me++],ee=de[Me++];fe[ve++]=String.fromCharCode((15&X)<<12|(63&$)<<6|63&ee)}}return fe.join("")}(this.decodeStringToByteArray(de,fe))},decodeStringToByteArray(de,fe){this.init_();const Me=fe?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let X=0;X<de.length;){const $=Me[de.charAt(X++)],re=X<de.length?Me[de.charAt(X)]:0;++X;const Ye=X<de.length?Me[de.charAt(X)]:64;++X;const kt=X<de.length?Me[de.charAt(X)]:64;if(++X,null==$||null==re||null==Ye||null==kt)throw Error();ve.push($<<2|re>>4),64!==Ye&&(ve.push(re<<4&240|Ye>>2),64!==kt&&ve.push(Ye<<6&192|kt))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}},ce=function(de){return function(de){const fe=Te(de);return Ne.encodeByteArray(fe,!0)}(de).replace(/\./g,"")},J=function(de){try{return Ne.decodeString(de,!0)}catch(fe){console.error("base64Decode failed: ",fe)}return null};function ue(de,fe){if(!(fe instanceof Object))return fe;switch(fe.constructor){case Date:return new Date(fe.getTime());case Object:void 0===de&&(de={});break;case Array:de=[];break;default:return fe}for(const Me in fe)!fe.hasOwnProperty(Me)||!ke(Me)||(de[Me]=ue(de[Me],fe[Me]));return de}function ke(de){return"__proto__"!==de}function lt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function ht(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(de){return!1}}function ut(){return"object"==typeof self&&self.self===self}function Qe(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function rt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pt(){const de=lt();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function Xe(){return!ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tt(){return"object"==typeof indexedDB}function Y(){return new Promise((de,fe)=>{try{let Me=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(ve);X.onsuccess=()=>{X.result.close(),Me||self.indexedDB.deleteDatabase(ve),de(!0)},X.onupgradeneeded=()=>{Me=!1},X.onerror=()=>{var $;fe((null===($=X.error)||void 0===$?void 0:$.message)||"")}}catch(Me){fe(Me)}})}function qe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const ot=()=>{try{return function et(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const de=process.env.__FIREBASE_DEFAULTS__;return de?JSON.parse(de):void 0})()||(()=>{if("undefined"==typeof document)return;let de;try{de=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Me){return}const fe=de&&J(de[1]);return fe&&JSON.parse(fe)})()}catch(de){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${de}`)}},on=()=>{var de;return null===(de=ot())||void 0===de?void 0:de.config},gt=de=>{var fe;return null===(fe=ot())||void 0===fe?void 0:fe[`_${de}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((fe,Me)=>{this.resolve=fe,this.reject=Me})}wrapCallback(fe){return(Me,ve)=>{Me?this.reject(Me):this.resolve(ve),"function"==typeof fe&&(this.promise.catch(()=>{}),1===fe.length?fe(Me):fe(Me,ve))}}}function q(de,fe){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=fe||"demo-project",X=de.iat||0,$=de.sub||de.user_id;if(!$)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:X,exp:X+3600,auth_time:X,sub:$,user_id:$,firebase:{sign_in_provider:"custom",identities:{}}},de);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(ee)),""].join(".")}class Ke extends Error{constructor(fe,Me,ve){super(Me),this.code=fe,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor(fe,Me,ve){this.service=fe,this.serviceName=Me,this.errors=ve}create(fe,...Me){const ve=Me[0]||{},X=`${this.service}/${fe}`,$=this.errors[fe],ee=$?function Gt(de,fe){return de.replace(Xt,(Me,ve)=>{const X=fe[ve];return null!=X?String(X):`<${ve}?>`})}($,ve):"Error";return new Ke(X,`${this.serviceName}: ${ee} (${X}).`,ve)}}const Xt=/\{\$([^}]+)}/g;function Ni(de,fe){return Object.prototype.hasOwnProperty.call(de,fe)}function Fi(de){for(const fe in de)if(Object.prototype.hasOwnProperty.call(de,fe))return!1;return!0}function Oi(de,fe){if(de===fe)return!0;const Me=Object.keys(de),ve=Object.keys(fe);for(const X of Me){if(!ve.includes(X))return!1;const $=de[X],ee=fe[X];if(Yn($)&&Yn(ee)){if(!Oi($,ee))return!1}else if($!==ee)return!1}for(const X of ve)if(!Me.includes(X))return!1;return!0}function Yn(de){return null!==de&&"object"==typeof de}function Mi(de){const fe=[];for(const[Me,ve]of Object.entries(de))Array.isArray(ve)?ve.forEach(X=>{fe.push(encodeURIComponent(Me)+"="+encodeURIComponent(X))}):fe.push(encodeURIComponent(Me)+"="+encodeURIComponent(ve));return fe.length?"&"+fe.join("&"):""}function hi(de){const fe={};return de.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[X,$]=ve.split("=");fe[decodeURIComponent(X)]=decodeURIComponent($)}}),fe}function It(de){const fe=de.indexOf("?");if(!fe)return"";const Me=de.indexOf("#",fe);return de.substring(fe,Me>0?Me:void 0)}function $e(de,fe){const Me=new Ft(de,fe);return Me.subscribe.bind(Me)}class Ft{constructor(fe,Me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Me,this.task.then(()=>{fe(this)}).catch(ve=>{this.error(ve)})}next(fe){this.forEachObserver(Me=>{Me.next(fe)})}error(fe){this.forEachObserver(Me=>{Me.error(fe)}),this.close(fe)}complete(){this.forEachObserver(fe=>{fe.complete()}),this.close()}subscribe(fe,Me,ve){let X;if(void 0===fe&&void 0===Me&&void 0===ve)throw new Error("Missing Observer.");X=function Vt(de,fe){if("object"!=typeof de||null===de)return!1;for(const Me of fe)if(Me in de&&"function"==typeof de[Me])return!0;return!1}(fe,["next","error","complete"])?fe:{next:fe,error:Me,complete:ve},void 0===X.next&&(X.next=zt),void 0===X.error&&(X.error=zt),void 0===X.complete&&(X.complete=zt);const $=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(ee){}}),this.observers.push(X),$}unsubscribeOne(fe){void 0===this.observers||void 0===this.observers[fe]||(delete this.observers[fe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(fe){if(!this.finalized)for(let Me=0;Me<this.observers.length;Me++)this.sendOne(Me,fe)}sendOne(fe,Me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[fe])try{Me(this.observers[fe])}catch(ve){"undefined"!=typeof console&&console.error&&console.error(ve)}})}close(fe){this.finalized||(this.finalized=!0,void 0!==fe&&(this.finalError=fe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zt(){}function be(de,fe=1e3,Me=2){const ve=fe*Math.pow(Me,de),X=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+X)}function St(de){return de&&de._delegate?de._delegate:de}},5089:(qt,Ze,x)=>{x.d(Ze,{e:()=>Ne});var g=x(1135),d=x(4004),W=x(5e3),Te=x(4965),_e=x(520);let Ne=(()=>{class Ce{constructor(J,te){this.glopalService=J,this.http=te,this.arealoading=!1,this.addressesLoading=!1,this.userProfile=new g.X(null),this.addresses=new g.X(null),this.areas=new g.X(null)}isLogin(){return!!localStorage.getItem("joinToken")}signupu(J){return this.http.post(`${this.glopalService.apiUrlOne}signUp`,J)}logIn(J){return this.http.post(`${this.glopalService.apiUrlOne}logIn`,J)}getUserProfile(){return this.http.get(`${this.glopalService.apiUrlOne}user/getProfile`).pipe((0,d.U)(J=>J.payload)).subscribe(J=>this.userProfile.next(J))}updateUserProfile(J){return this.http.post(`${this.glopalService.apiUrlOne}user/updateProfile`,J)}getAllAreas(){return this.arealoading=!0,this.http.get(`${this.glopalService.apiUrlOne}areaList`).pipe((0,d.U)(J=>J.payload)).subscribe(J=>{this.areas.next(J),this.arealoading=!1})}getAddress(J){return this.addressesLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/list_address`,{user_id:J}).pipe((0,d.U)(te=>te.payload)).subscribe(te=>{this.addresses.next(te),this.addressesLoading=!1})}addAddress(J){return this.http.post(`${this.glopalService.apiUrlOne}user/add_address`,J)}deleteAddress(J){return this.http.post(`${this.glopalService.apiUrlOne}user/delete_address`,{address_id:J})}updateAddres(J){return this.http.post(`${this.glopalService.apiUrlOne}user/edit_address`,J)}resetPassword(J){return this.http.post(`${this.glopalService.apiUrlOne}resetPassword`,J)}}return Ce.\u0275fac=function(J){return new(J||Ce)(W.LFG(Te.W),W.LFG(_e.eN))},Ce.\u0275prov=W.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},2169:(qt,Ze,x)=>{x.d(Ze,{Y:()=>Ne});var g=x(1135),d=x(4004),W=x(5e3),Te=x(520),_e=x(4965);let Ne=(()=>{class Ce{constructor(J,te){this.http=J,this.glopalService=te,this.activities=new g.X([]),this.clups=new g.X([]),this.intersts=new g.X([]),this.activitiesLoading=!0,this.clupsLoading=!0,this.interistsLoading=!1,this.ActivitiesRequestComplete=!1}getTopSliderGuest(){return this.http.post(`${this.glopalService.apiUrlOne}promoBannerOpen`,{}).pipe((0,d.U)(J=>Array.isArray(J.payload)?J.payload:[]))}getTopSliderUser(){return this.http.post(`${this.glopalService.apiUrlOne}user/promoBanner`,{}).pipe((0,d.U)(J=>Array.isArray(J.payload)?J.payload:[]))}getActivitiesGuest(J){return this.activitiesLoading=!0,this.ActivitiesRequestComplete=!1,this.http.post(`${this.glopalService.apiUrlOne}getActivityListWeb`,{activity_type:"DATE",limit:10,page:J}).pipe((0,d.U)(ue=>ue.payload)).subscribe(ue=>{Array.isArray(ue)?this.activities.next(ue):this.activities.next([]),this.activitiesLoading=!1,this.ActivitiesRequestComplete=!0})}getActivitiesUser(J){return this.ActivitiesRequestComplete=!1,this.activitiesLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/getActivityList`,{activity_type:"DATE",limit:10,page:J}).pipe((0,d.U)(ue=>ue.payload)).subscribe(ue=>{Array.isArray(ue)?this.activities.next(ue):this.activities.next([]),this.activitiesLoading=!1,this.ActivitiesRequestComplete=!0})}getClupsGuest(){return this.clupsLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}getClubListWeb`,{}).pipe((0,d.U)(J=>J.payload)).subscribe(J=>{Array.isArray(J)?this.clups.next(J):this.clups.next([]),this.clupsLoading=!1})}getClupsUser(){return this.clupsLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/getClubList`,{}).pipe((0,d.U)(J=>J.payload)).subscribe(J=>{Array.isArray(J)?this.clups.next(J):this.clups.next([]),this.clupsLoading=!1})}getIntersts(){return this.interistsLoading=!0,this.http.get(`${this.glopalService.apiUrlOne}interestsList`).pipe((0,d.U)(J=>J.payload)).subscribe(J=>{Array.isArray(J)?this.intersts.next(J):this.intersts.next([]),this.interistsLoading=!1})}getPopular(){return this.http.get(`${this.glopalService.apiUrlOne}mostSelling`).pipe((0,d.U)(J=>Array.isArray(J.payload)?J.payload:[]))}}return Ce.\u0275fac=function(J){return new(J||Ce)(W.LFG(Te.eN),W.LFG(_e.W))},Ce.\u0275prov=W.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},1408:(qt,Ze,x)=>{x.d(Ze,{Z:()=>Ne});var g=x(1135),d=x(4004),W=x(5e3),Te=x(520),_e=x(4965);let Ne=(()=>{class Ce{constructor(J,te){this.http=J,this.glopalService=te,this.members=new g.X(null),this.membersLoading=!1}getAllMembers(){return this.membersLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/userChildDetails`,{}).pipe((0,d.U)(J=>{var te;return null===(te=null==J?void 0:J.payload)||void 0===te?void 0:te.child_data})).subscribe(J=>{Array.isArray(J)?this.members.next(J):this.members.next([]),this.membersLoading=!1})}addMember(J){return this.http.post(`${this.glopalService.apiUrlOne}user/addChild`,J)}updateMember(J){return this.http.post(`${this.glopalService.apiUrlOne}user/updateChild`,J)}deleteMember(J){return this.http.post(`${this.glopalService.apiUrlOne}user/removeChild`,{child_id:J})}}return Ce.\u0275fac=function(J){return new(J||Ce)(W.LFG(Te.eN),W.LFG(_e.W))},Ce.\u0275prov=W.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},3904:(qt,Ze,x)=>{x.d(Ze,{T:()=>Ne});var g=x(1135),d=x(4004),W=x(5e3),Te=x(520),_e=x(4965);let Ne=(()=>{class Ce{constructor(J,te){this.http=J,this.glopalService=te,this.notification=new g.X(null),this.loading=!1}getNotifications(){return this.loading=!0,this.http.post(`${this.glopalService.apiUrlOne}getNotificationLog`,{}).pipe((0,d.U)(J=>Array.isArray(J.payload)?J.payload:[])).subscribe(J=>{this.notification.next(J),this.loading=!1})}deleteNotification(J){return this.http.post(`${this.glopalService.apiUrlOne}deleteNotification`,{id:J})}}return Ce.\u0275fac=function(J){return new(J||Ce)(W.LFG(Te.eN),W.LFG(_e.W))},Ce.\u0275prov=W.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},9863:(qt,Ze,x)=>{x.d(Ze,{d:()=>_e});var g=x(4004),d=x(5e3),W=x(4965),Te=x(520);let _e=(()=>{class Ne{constructor(ce,J){this.glopalService=ce,this.http=J}getStoreTabs(){return this.http.get(`${this.glopalService.apiUrlTwo}categories`)}getCategoryById(ce,J){return this.http.get(`${this.glopalService.apiUrlTwo}category/${ce}/products`,{params:{page:J}}).pipe((0,g.U)(te=>{var ue;return null===(ue=null==te?void 0:te.payload)||void 0===ue?void 0:ue.data}))}getProductDetails(ce){return this.http.get(`${this.glopalService.apiUrlTwo}product/${ce}`).pipe((0,g.U)(J=>({code:J.code,payload:J.payload})))}}return Ne.\u0275fac=function(ce){return new(ce||Ne)(d.LFG(W.W),d.LFG(Te.eN))},Ne.\u0275prov=d.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})()},4965:(qt,Ze,x)=>{x.d(Ze,{W:()=>W});var g=x(1135),d=x(5e3);let W=(()=>{class Te{constructor(){this.hideNavbarAndFooter=new g.X(!1),this.apiUrlOne="https://app.join.com.kw/api/v1/",this.apiUrlTwo="https://app.join.com.kw/api/v2/"}}return Te.\u0275fac=function(Ne){return new(Ne||Te)},Te.\u0275prov=d.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},3341:(qt,Ze,x)=>{var g=x(2313),d=x(5e3),W=x(2094),Te=x(8995);let _e=(()=>{class v{constructor(){}ngOnInit(){}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275cmp=d.Xpm({type:v,selectors:[["app-notfound"]],decls:5,vars:3,consts:[[1,"py-5","container","text-center",2,"min-height","100vh"],["src","assets/images/notfound-page.svg","alt","",1,"img-fluid"],[1,"text-center"]],template:function(a,f){1&a&&(d.TgZ(0,"section",0),d._UZ(1,"img",1),d.TgZ(2,"h1",2),d._uU(3),d.ALo(4,"translate"),d.qZA()()),2&a&&(d.xp6(3),d.hij(" ",d.lcZ(4,1,"notfound")," "))},pipes:[Te.X$],styles:[""]}),v})(),Ne=(()=>{class v{constructor(a){this.router=a}canActivate(a,f){return!!localStorage.getItem("joinToken")||(this.router.navigate(["/auth/login"]),!1)}}return v.\u0275fac=function(a){return new(a||v)(d.LFG(W.F0))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const ce=[{path:"",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(5)]).then(x.bind(x,8005)).then(v=>v.HomeModule)},{path:"auth",canActivate:[(()=>{class v{constructor(a){this.router=a}canActivate(a,f){return!localStorage.getItem("joinToken")||(this.router.navigate(["/"]),!1)}}return v.\u0275fac=function(a){return new(a||v)(d.LFG(W.F0))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(410)]).then(x.bind(x,6269)).then(v=>v.AuthModule)},{path:"store",loadChildren:()=>Promise.all([x.e(466),x.e(592)]).then(x.bind(x,5718)).then(v=>v.StoreModule)},{path:"activities",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(181)]).then(x.bind(x,3181)).then(v=>v.ActivitiesModule)},{path:"activity/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(803)]).then(x.bind(x,8803)).then(v=>v.ActivityDetailsModule)},{path:"interests/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(703)]).then(x.bind(x,5703)).then(v=>v.InterstsModule)},{path:"clup/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(743)]).then(x.bind(x,2743)).then(v=>v.ClupDetailsModule)},{path:"product/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(277)]).then(x.bind(x,3277)).then(v=>v.ProductDetailsModule)},{path:"search/:str",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(998)]).then(x.bind(x,8998)).then(v=>v.SearchResultModule)},{path:"profile",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(908)]).then(x.bind(x,6908)).then(v=>v.ProfileModule)},{path:"favorite",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(356)]).then(x.bind(x,356)).then(v=>v.FavoritModule)},{path:"history",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(862)]).then(x.bind(x,862)).then(v=>v.HistoryModule)},{path:"members",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(655)]).then(x.bind(x,6655)).then(v=>v.MembersModule)},{path:"contact",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(420)]).then(x.bind(x,5420)).then(v=>v.ContactModule)},{path:"notifications",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(515)]).then(x.bind(x,7515)).then(v=>v.NotificationsModule)},{path:"cart",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(202)]).then(x.bind(x,4345)).then(v=>v.CartModule)},{path:"**",component:_e}];let J=(()=>{class v{}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=d.oAB({type:v}),v.\u0275inj=d.cJS({imports:[[W.Bz.forRoot(ce,{initialNavigation:"enabled",scrollPositionRestoration:"enabled",useHash:!0})],W.Bz]}),v})();var te=x(3904),ue=x(1408),ke=x(2169),lt=x(5089),nt=x(9863),ht=x(4965),ut=x(9808),Qe=x(8274),rt=x(5351),Be=x(3075);function pt(v,u){1&v&&d._uU(0),2&v&&d.Oqu(u.index<u.value?"\u2605":"\u2606")}function me(v,u){}const we=function(v,u){return{index:v,value:u}};function Xe(v,u){if(1&v){const a=d.EpF();d.TgZ(0,"span",3),d._uU(1),d.qZA(),d.TgZ(2,"span",4),d.NdJ("mouseenter",function(){const k=d.CHM(a).index;return d.oxw().enter(k+1)})("click",function(){const k=d.CHM(a).index;return d.oxw().rate(k+1)}),d.YNc(3,me,0,0,"ng-template",5),d.qZA()}if(2&v){const a=u.$implicit,f=u.index,E=d.oxw(),k=d.MAs(2);d.xp6(1),d.hij("(",f<E.value?"*":" ",")"),d.xp6(1),d.Udp("cursor",E.readonly?"default":"pointer"),d.ekj("active",f<E.value),d.Q6J("title",a.title),d.xp6(1),d.Q6J("ngTemplateOutlet",E.customTemplate||k)("ngTemplateOutletContext",d.WLB(8,we,f,E.value))}}let Tt=(()=>{class v{constructor(){this.ariaLabel="rating"}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Y={provide:Be.JU,useExisting:(0,d.Gpc)(()=>qe),multi:!0};let qe=(()=>{class v{constructor(a,f){this.changeDetection=a,this.max=5,this.readonly=!1,this.titles=[],this.onHover=new d.vpe,this.onLeave=new d.vpe,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.ariaLabel="rating",this.range=[],this.value=0,Object.assign(this,f)}onKeydown(a){-1!==[37,38,39,40].indexOf(a.which)&&(a.preventDefault(),a.stopPropagation(),this.rate(this.value+(38===a.which||39===a.which?1:-1)))}ngOnInit(){this.max=this.max||5,this.titles=void 0!==this.titles&&this.titles.length>0?this.titles:[],this.range=this.buildTemplateObjects(this.max)}writeValue(a){if(a%1!==a)return this.value=Math.round(a),this.preValue=a,void this.changeDetection.markForCheck();this.preValue=a,this.value=a,this.changeDetection.markForCheck()}enter(a){this.readonly||(this.value=a,this.changeDetection.markForCheck(),this.onHover.emit(a))}reset(){"number"==typeof this.preValue&&(this.value=Math.round(this.preValue),this.changeDetection.markForCheck(),this.onLeave.emit(this.value))}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouched=a}rate(a){!this.readonly&&this.range&&a>=0&&a<=this.range.length&&(this.writeValue(a),this.onChange(a))}buildTemplateObjects(a){const f=[];for(let E=0;E<a;E++)f.push({index:E,title:this.titles[E]||E+1});return f}}return v.\u0275fac=function(a){return new(a||v)(d.Y36(d.sBO),d.Y36(Tt))},v.\u0275cmp=d.Xpm({type:v,selectors:[["rating"]],hostBindings:function(a,f){1&a&&d.NdJ("keydown",function(k){return f.onKeydown(k)})},inputs:{max:"max",readonly:"readonly",titles:"titles",customTemplate:"customTemplate"},outputs:{onHover:"onHover",onLeave:"onLeave"},features:[d._Bn([Y])],decls:4,vars:4,consts:[["tabindex","0","role","slider","aria-valuemin","0",3,"mouseleave","keydown"],["star",""],["ngFor","",3,"ngForOf"],[1,"sr-only","visually-hidden"],[1,"bs-rating-star",3,"title","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(a,f){1&a&&(d.TgZ(0,"span",0),d.NdJ("mouseleave",function(){return f.reset()})("keydown",function(k){return f.onKeydown(k)}),d.YNc(1,pt,1,1,"ng-template",null,1,d.W1O),d.YNc(3,Xe,4,11,"ng-template",2),d.qZA()),2&a&&(d.uIk("aria-label",f.ariaLabel)("aria-valuemax",f.range.length)("aria-valuenow",f.value),d.xp6(3),d.Q6J("ngForOf",f.range))},directives:[ut.sg,ut.tP],encapsulation:2,changeDetection:0}),v})(),et=(()=>{class v{static forRoot(){return{ngModule:v,providers:[]}}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=d.oAB({type:v}),v.\u0275inj=d.cJS({imports:[[ut.ez]]}),v})();function Ve(v){return"function"==typeof v}let Ge=!1;const Je={Promise:void 0,set useDeprecatedSynchronousErrorHandling(v){if(v){const u=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+u.stack)}else Ge&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Ge=v},get useDeprecatedSynchronousErrorHandling(){return Ge}};function ot(v){setTimeout(()=>{throw v},0)}const it={closed:!0,next(v){},error(v){if(Je.useDeprecatedSynchronousErrorHandling)throw v;ot(v)},complete(){}},Nt=Array.isArray||(v=>v&&"number"==typeof v.length),vt=(()=>{function v(u){return Error.call(this),this.message=u?`${u.length} errors occurred during unsubscription:\n${u.map((a,f)=>`${f+1}) ${a.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=u,this}return v.prototype=Object.create(Error.prototype),v})();class q{constructor(u){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,u&&(this._ctorUnsubscribe=!0,this._unsubscribe=u)}unsubscribe(){let u;if(this.closed)return;let{_parentOrParents:a,_ctorUnsubscribe:f,_unsubscribe:E,_subscriptions:k}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof q)a.remove(this);else if(null!==a)for(let K=0;K<a.length;++K)a[K].remove(this);if(Ve(E)){f&&(this._unsubscribe=void 0);try{E.call(this)}catch(K){u=K instanceof vt?Se(K.errors):[K]}}if(Nt(k)){let K=-1,ye=k.length;for(;++K<ye;){const Fe=k[K];if(null!==(v=Fe)&&"object"==typeof v)try{Fe.unsubscribe()}catch(ct){u=u||[],ct instanceof vt?u=u.concat(Se(ct.errors)):u.push(ct)}}}var v;if(u)throw new vt(u)}add(u){let a=u;if(!u)return q.EMPTY;switch(typeof u){case"function":a=new q(u);case"object":if(a===this||a.closed||"function"!=typeof a.unsubscribe)return a;if(this.closed)return a.unsubscribe(),a;if(!(a instanceof q)){const k=a;a=new q,a._subscriptions=[k]}break;default:throw new Error("unrecognized teardown "+u+" added to Subscription.")}let{_parentOrParents:f}=a;if(null===f)a._parentOrParents=this;else if(f instanceof q){if(f===this)return a;a._parentOrParents=[f,this]}else{if(-1!==f.indexOf(this))return a;f.push(this)}const E=this._subscriptions;return null===E?this._subscriptions=[a]:E.push(a),a}remove(u){const a=this._subscriptions;if(a){const f=a.indexOf(u);-1!==f&&a.splice(f,1)}}}var v;function Se(v){return v.reduce((u,a)=>u.concat(a instanceof vt?a.errors:a),[])}q.EMPTY=((v=new q).closed=!0,v);const Ke="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Gt extends q{constructor(u,a,f){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=it;break;case 1:if(!u){this.destination=it;break}if("object"==typeof u){u instanceof Gt?(this.syncErrorThrowable=u.syncErrorThrowable,this.destination=u,u.add(this)):(this.syncErrorThrowable=!0,this.destination=new Xt(this,u));break}default:this.syncErrorThrowable=!0,this.destination=new Xt(this,u,a,f)}}[Ke](){return this}static create(u,a,f){const E=new Gt(u,a,f);return E.syncErrorThrowable=!1,E}next(u){this.isStopped||this._next(u)}error(u){this.isStopped||(this.isStopped=!0,this._error(u))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(u){this.destination.next(u)}_error(u){this.destination.error(u),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:u}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=u,this}}class Xt extends Gt{constructor(u,a,f,E){super(),this._parentSubscriber=u;let k,K=this;Ve(a)?k=a:a&&(k=a.next,f=a.error,E=a.complete,a!==it&&(K=Object.create(a),Ve(K.unsubscribe)&&this.add(K.unsubscribe.bind(K)),K.unsubscribe=this.unsubscribe.bind(this))),this._context=K,this._next=k,this._error=f,this._complete=E}next(u){if(!this.isStopped&&this._next){const{_parentSubscriber:a}=this;Je.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?this.__tryOrSetError(a,this._next,u)&&this.unsubscribe():this.__tryOrUnsub(this._next,u)}}error(u){if(!this.isStopped){const{_parentSubscriber:a}=this,{useDeprecatedSynchronousErrorHandling:f}=Je;if(this._error)f&&a.syncErrorThrowable?(this.__tryOrSetError(a,this._error,u),this.unsubscribe()):(this.__tryOrUnsub(this._error,u),this.unsubscribe());else if(a.syncErrorThrowable)f?(a.syncErrorValue=u,a.syncErrorThrown=!0):ot(u),this.unsubscribe();else{if(this.unsubscribe(),f)throw u;ot(u)}}}complete(){if(!this.isStopped){const{_parentSubscriber:u}=this;if(this._complete){const a=()=>this._complete.call(this._context);Je.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable?(this.__tryOrSetError(u,a),this.unsubscribe()):(this.__tryOrUnsub(a),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(u,a){try{u.call(this._context,a)}catch(f){if(this.unsubscribe(),Je.useDeprecatedSynchronousErrorHandling)throw f;ot(f)}}__tryOrSetError(u,a,f){if(!Je.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{a.call(this._context,f)}catch(E){return Je.useDeprecatedSynchronousErrorHandling?(u.syncErrorValue=E,u.syncErrorThrown=!0,!0):(ot(E),!0)}return!1}_unsubscribe(){const{_parentSubscriber:u}=this;this._context=null,this._parentSubscriber=null,u.unsubscribe()}}const zn="function"==typeof Symbol&&Symbol.observable||"@@observable";function di(v){return v}let ei=(()=>{class v{constructor(a){this._isScalar=!1,a&&(this._subscribe=a)}lift(a){const f=new v;return f.source=this,f.operator=a,f}subscribe(a,f,E){const{operator:k}=this,K=function In(v,u,a){if(v){if(v instanceof Gt)return v;if(v[Ke])return v[Ke]()}return v||u||a?new Gt(v,u,a):new Gt(it)}(a,f,E);if(K.add(k?k.call(K,this.source):this.source||Je.useDeprecatedSynchronousErrorHandling&&!K.syncErrorThrowable?this._subscribe(K):this._trySubscribe(K)),Je.useDeprecatedSynchronousErrorHandling&&K.syncErrorThrowable&&(K.syncErrorThrowable=!1,K.syncErrorThrown))throw K.syncErrorValue;return K}_trySubscribe(a){try{return this._subscribe(a)}catch(f){Je.useDeprecatedSynchronousErrorHandling&&(a.syncErrorThrown=!0,a.syncErrorValue=f),function hn(v){for(;v;){const{closed:u,destination:a,isStopped:f}=v;if(u||f)return!1;v=a&&a instanceof Gt?a:null}return!0}(a)?a.error(f):console.warn(f)}}forEach(a,f){return new(f=Ni(f))((E,k)=>{let K;K=this.subscribe(ye=>{try{a(ye)}catch(Fe){k(Fe),K&&K.unsubscribe()}},k,E)})}_subscribe(a){const{source:f}=this;return f&&f.subscribe(a)}[zn](){return this}pipe(...a){return 0===a.length?this:function Ii(v){return 0===v.length?di:1===v.length?v[0]:function(a){return v.reduce((f,E)=>E(f),a)}}(a)(this)}toPromise(a){return new(a=Ni(a))((f,E)=>{let k;this.subscribe(K=>k=K,K=>E(K),()=>f(k))})}}return v.create=u=>new v(u),v})();function Ni(v){if(v||(v=Je.Promise||Promise),!v)throw new Error("no Promise impl found");return v}const Fi=(()=>{function v(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return v.prototype=Object.create(Error.prototype),v})();class un extends q{constructor(u,a){super(),this.subject=u,this.subscriber=a,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const u=this.subject,a=u.observers;if(this.subject=null,!a||0===a.length||u.isStopped||u.closed)return;const f=a.indexOf(this.subscriber);-1!==f&&a.splice(f,1)}}class Oi extends Gt{constructor(u){super(u),this.destination=u}}let Yn=(()=>{class v extends ei{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ke](){return new Oi(this)}lift(a){const f=new Jt(this,this);return f.operator=a,f}next(a){if(this.closed)throw new Fi;if(!this.isStopped){const{observers:f}=this,E=f.length,k=f.slice();for(let K=0;K<E;K++)k[K].next(a)}}error(a){if(this.closed)throw new Fi;this.hasError=!0,this.thrownError=a,this.isStopped=!0;const{observers:f}=this,E=f.length,k=f.slice();for(let K=0;K<E;K++)k[K].error(a);this.observers.length=0}complete(){if(this.closed)throw new Fi;this.isStopped=!0;const{observers:a}=this,f=a.length,E=a.slice();for(let k=0;k<f;k++)E[k].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(a){if(this.closed)throw new Fi;return super._trySubscribe(a)}_subscribe(a){if(this.closed)throw new Fi;return this.hasError?(a.error(this.thrownError),q.EMPTY):this.isStopped?(a.complete(),q.EMPTY):(this.observers.push(a),new un(this,a))}asObservable(){const a=new ei;return a.source=this,a}}return v.create=(u,a)=>new Jt(u,a),v})();class Jt extends Yn{constructor(u,a){super(),this.destination=u,this.source=a}next(u){const{destination:a}=this;a&&a.next&&a.next(u)}error(u){const{destination:a}=this;a&&a.error&&this.destination.error(u)}complete(){const{destination:u}=this;u&&u.complete&&this.destination.complete()}_subscribe(u){const{source:a}=this;return a?this.source.subscribe(u):q.EMPTY}}class Mi extends q{constructor(u,a){super()}schedule(u,a=0){return this}}let It=(()=>{class v{constructor(a,f=v.now){this.SchedulerAction=a,this.now=f}schedule(a,f=0,E){return new this.SchedulerAction(this,a).schedule(E,f)}}return v.now=()=>Date.now(),v})();class Le extends It{constructor(u,a=It.now){super(u,()=>Le.delegate&&Le.delegate!==this?Le.delegate.now():a()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(u,a=0,f){return Le.delegate&&Le.delegate!==this?Le.delegate.schedule(u,a,f):super.schedule(u,a,f)}flush(u){const{actions:a}=this;if(this.active)return void a.push(u);let f;this.active=!0;do{if(f=u.execute(u.state,u.delay))break}while(u=a.shift());if(this.active=!1,f){for(;u=a.shift();)u.unsubscribe();throw f}}}const Ft=new Le(class hi extends Mi{constructor(u,a){super(u,a),this.scheduler=u,this.work=a,this.pending=!1}schedule(u,a=0){if(this.closed)return this;this.state=u;const f=this.id,E=this.scheduler;return null!=f&&(this.id=this.recycleAsyncId(E,f,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(E,this.id,a),this}requestAsyncId(u,a,f=0){return setInterval(u.flush.bind(u,this),f)}recycleAsyncId(u,a,f=0){if(null!==f&&this.delay===f&&!1===this.pending)return a;clearInterval(a)}execute(u,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const f=this._execute(u,a);if(f)return f;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(u,a){let E,f=!1;try{this.work(u)}catch(k){f=!0,E=!!k&&k||new Error(k)}if(f)return this.unsubscribe(),E}_unsubscribe(){const u=this.id,a=this.scheduler,f=a.actions,E=f.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==E&&f.splice(E,1),null!=u&&(this.id=this.recycleAsyncId(a,u,null)),this.delay=null}}),Ct={leading:!0,trailing:!1};function xe(v,u=Ft,a=Ct){return f=>f.lift(new Ee(v,u,a.leading,a.trailing))}class Ee{constructor(u,a,f,E){this.duration=u,this.scheduler=a,this.leading=f,this.trailing=E}call(u,a){return a.subscribe(new We(u,this.duration,this.scheduler,this.leading,this.trailing))}}class We extends Gt{constructor(u,a,f,E,k){super(u),this.duration=a,this.scheduler=f,this.leading=E,this.trailing=k,this._hasTrailingValue=!1,this._trailingValue=null}_next(u){this.throttled?this.trailing&&(this._trailingValue=u,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(_t,this.duration,{subscriber:this})),this.leading?this.destination.next(u):this.trailing&&(this._trailingValue=u,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const u=this.throttled;u&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),u.unsubscribe(),this.remove(u),this.throttled=null)}}function _t(v){const{subscriber:u}=v;u.clearThrottle()}function Dt(){}function wt(v,u,a){return function(E){return E.lift(new pn(v,u,a))}}class pn{constructor(u,a,f){this.nextOrObserver=u,this.error=a,this.complete=f}call(u,a){return a.subscribe(new _n(u,this.nextOrObserver,this.error,this.complete))}}class _n extends Gt{constructor(u,a,f,E){super(u),this._tapNext=Dt,this._tapError=Dt,this._tapComplete=Dt,this._tapError=f||Dt,this._tapComplete=E||Dt,Ve(a)?(this._context=this,this._tapNext=a):a&&(this._context=a,this._tapNext=a.next||Dt,this._tapError=a.error||Dt,this._tapComplete=a.complete||Dt)}_next(u){try{this._tapNext.call(this._context,u)}catch(a){return void this.destination.error(a)}this.destination.next(u)}_error(u){try{this._tapError.call(this._context,u)}catch(a){return void this.destination.error(a)}this.destination.error(u)}_complete(){try{this._tapComplete.call(this._context)}catch(u){return void this.destination.error(u)}return this.destination.complete()}}function ln(v,u){return a=>a.lift(new z(v,u))}class z{constructor(u,a){this.compare=u,this.keySelector=a}call(u,a){return a.subscribe(new he(u,this.compare,this.keySelector))}}class he extends Gt{constructor(u,a,f){super(u),this.keySelector=f,this.hasKey=!1,"function"==typeof a&&(this.compare=a)}compare(u,a){return u===a}_next(u){let a;try{const{keySelector:E}=this;a=E?E(u):u}catch(E){return this.destination.error(E)}let f=!1;if(this.hasKey)try{const{compare:E}=this;f=E(this.key,a)}catch(E){return this.destination.error(E)}else this.hasKey=!0;f||(this.key=a,this.destination.next(u))}}class Ue{constructor(u,a){this.predicate=u,this.thisArg=a}call(u,a){return a.subscribe(new mt(u,this.predicate,this.thisArg))}}class mt extends Gt{constructor(u,a,f){super(u),this.predicate=a,this.thisArg=f,this.count=0}_next(u){let a;try{a=this.predicate.call(this.thisArg,u,this.count++)}catch(f){return void this.destination.error(f)}a&&this.destination.next(u)}}var St="undefined"!=typeof window?window:{screen:{},navigator:{}},de=(St.matchMedia||function(){return{matches:!1}}).bind(St),fe=!1,ve=function(){};St.addEventListener&&St.addEventListener("p",ve,{get passive(){return fe=!0}}),St.removeEventListener&&St.removeEventListener("p",ve,!1);var X=fe,ee="ontouchstart"in St,Pt=(ee||"TouchEvent"in St&&de("(any-pointer: coarse)"),St.navigator.userAgent||"");de("(pointer: coarse)").matches&&/iPad|Macintosh/.test(Pt)&&Math.min(St.screen.width||0,St.screen.height||0);(de("(pointer: coarse)").matches||!de("(pointer: fine)").matches&&ee)&&/Windows.*Firefox/.test(Pt),de("(any-pointer: fine)").matches||de("(any-hover: hover)");const bi=["tooltipTemplate"],Ci=["leftOuterSelectionBar"],Pr=["rightOuterSelectionBar"],Ti=["fullBar"],Kt=["selectionBar"],Bn=["minHandle"],fi=["maxHandle"],Hi=["floorLabel"],Rr=["ceilLabel"],ji=["minHandleLabel"],Ji=["maxHandleLabel"],ni=["combinedLabel"],Er=["ticksElement"];function mi(v,u){if(1&v&&d._UZ(0,"ngx-slider-tooltip-wrapper",31),2&v){const a=d.oxw().$implicit,f=d.oxw();d.Q6J("template",f.tooltipTemplate)("tooltip",a.valueTooltip)("placement",a.valueTooltipPlacement)("content",a.value)}}function On(v,u){if(1&v&&d._UZ(0,"span",32),2&v){const a=d.oxw().$implicit;d.Q6J("innerHTML",a.legend,d.oJD)}}const Jr=function(v){return{"ngx-slider-selected":v}};function $i(v,u){if(1&v&&(d.TgZ(0,"span",27),d._UZ(1,"ngx-slider-tooltip-wrapper",28),d.YNc(2,mi,1,4,"ngx-slider-tooltip-wrapper",29),d.YNc(3,On,1,1,"span",30),d.qZA()),2&v){const a=u.$implicit,f=d.oxw();d.Q6J("ngClass",d.VKq(7,Jr,a.selected))("ngStyle",a.style),d.xp6(1),d.Q6J("template",f.tooltipTemplate)("tooltip",a.tooltip)("placement",a.tooltipPlacement),d.xp6(1),d.Q6J("ngIf",null!=a.value),d.xp6(1),d.Q6J("ngIf",null!=a.legend)}}function zs(v,u){}function Xi(v,u){1&v&&d.YNc(0,zs,0,0,"ng-template")}const Vi=function(v,u,a){return{tooltip:v,placement:u,content:a}};function ms(v,u){if(1&v&&(d.ynx(0),d.YNc(1,Xi,1,0,null,1),d.BQk()),2&v){const a=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",a.template)("ngTemplateOutletContext",d.kEZ(2,Vi,a.tooltip,a.placement,a.content))}}function as(v,u){if(1&v&&(d.ynx(0),d.TgZ(1,"div",2),d._uU(2),d.qZA(),d.BQk()),2&v){const a=d.oxw();d.xp6(1),d.uIk("title",a.tooltip)("data-tooltip-placement",a.placement),d.xp6(1),d.hij(" ",a.content," ")}}const pi={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};pi[pi.Low]="Low",pi[pi.High]="High",pi[pi.Floor]="Floor",pi[pi.Ceil]="Ceil",pi[pi.TickValue]="TickValue";class gi{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.getStepLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.rotate=0,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel="ngx-slider",this.ariaLabelledBy=null,this.ariaLabelHigh="ngx-slider-max",this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const cn={Min:0,Max:1};cn[cn.Min]="Min",cn[cn.Max]="Max";class ls{}class Ot{static isNullOrUndefined(u){return null==u}static areArraysEqual(u,a){if(u.length!==a.length)return!1;for(let f=0;f<u.length;++f)if(u[f]!==a[f])return!1;return!0}static linearValueToPosition(u,a,f){return(u-a)/(f-a)}static logValueToPosition(u,a,f){return((u=Math.log(u))-(a=Math.log(a)))/((f=Math.log(f))-a)}static linearPositionToValue(u,a,f){return u*(f-a)+a}static logPositionToValue(u,a,f){return a=Math.log(a),f=Math.log(f),Math.exp(u*(f-a)+a)}static findStepIndex(u,a){const f=a.map(k=>Math.abs(u-k.value));let E=0;for(let k=0;k<a.length;k++)f[k]!==f[E]&&f[k]<f[E]&&(E=k);return E}}class qi{static isTouchEvent(u){return void 0!==window.TouchEvent?u instanceof TouchEvent:void 0!==u.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class _i{static roundToPrecisionLimit(u,a){return+u.toPrecision(a)}static isModuloWithinPrecisionLimit(u,a,f){const E=Math.pow(10,-f);return Math.abs(u%a)<=E||Math.abs(Math.abs(u%a)-a)<=E}static clampToRange(u,a,f){return Math.min(Math.max(u,a),f)}}class us{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class cs{constructor(u){this.renderer=u}attachPassiveEventListener(u,a,f,E){if(!0!==X)return this.attachEventListener(u,a,f,E);const k=new us;k.eventName=a,k.events=new Yn;const K=ye=>{k.events.next(ye)};return u.addEventListener(a,K,{passive:!0,capture:!1}),k.teardownCallback=()=>{u.removeEventListener(a,K,{passive:!0,capture:!1})},k.eventsSubscription=k.events.pipe(Ot.isNullOrUndefined(E)?wt(()=>{}):xe(E,void 0,{leading:!0,trailing:!0})).subscribe(ye=>{f(ye)}),k}detachEventListener(u){Ot.isNullOrUndefined(u.eventsSubscription)||(u.eventsSubscription.unsubscribe(),u.eventsSubscription=null),Ot.isNullOrUndefined(u.events)||(u.events.complete(),u.events=null),Ot.isNullOrUndefined(u.teardownCallback)||(u.teardownCallback(),u.teardownCallback=null)}attachEventListener(u,a,f,E){const k=new us;return k.eventName=a,k.events=new Yn,k.teardownCallback=this.renderer.listen(u,a,ye=>{k.events.next(ye)}),k.eventsSubscription=k.events.pipe(Ot.isNullOrUndefined(E)?wt(()=>{}):xe(E,void 0,{leading:!0,trailing:!0})).subscribe(ye=>{f(ye)}),k}}let sr=(()=>{class v{constructor(a,f,E){this.elemRef=a,this.renderer=f,this.changeDetectionRef=E,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this._rotate=0,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.transform="",this.eventListeners=[],this.eventListenerHelper=new cs(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}get rotate(){return this._rotate}setAlwaysHide(a){this._alwaysHide=a,this.visibility=a?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(a){this._vertical=a,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(a){this._scale=a}setRotate(a){this._rotate=a,this.transform="rotate("+a+"deg)"}getRotate(){return this._rotate}setPosition(a){this._position!==a&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=a,this._vertical?this.bottom=Math.round(a)+"px":this.left=Math.round(a)+"px"}calculateDimension(){const a=this.getBoundingClientRect();this._dimension=this.vertical?(a.bottom-a.top)*this.scale:(a.right-a.left)*this.scale}setDimension(a){this._dimension!==a&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=a,this._vertical?this.height=Math.round(a)+"px":this.width=Math.round(a)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(a,f,E){const k=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,a,f,E);this.eventListeners.push(k)}onPassive(a,f,E){const k=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,a,f,E);this.eventListeners.push(k)}off(a){let f,E;Ot.isNullOrUndefined(a)?(f=[],E=this.eventListeners):(f=this.eventListeners.filter(k=>k.eventName!==a),E=this.eventListeners.filter(k=>k.eventName===a));for(const k of E)this.eventListenerHelper.detachEventListener(k);this.eventListeners=f}isRefDestroyed(){return Ot.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return v.\u0275fac=function(a){return new(a||v)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO))},v.\u0275dir=d.lG2({type:v,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(a,f){2&a&&d.Udp("opacity",f.opacity)("visibility",f.visibility)("left",f.left)("bottom",f.bottom)("height",f.height)("width",f.width)("transform",f.transform)}}),v})(),ys=(()=>{class v extends sr{constructor(a,f,E){super(a,f,E),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return v.\u0275fac=function(a){return new(a||v)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO))},v.\u0275dir=d.lG2({type:v,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(a,f){2&a&&(d.uIk("role",f.role)("tabindex",f.tabindex)("aria-orientation",f.ariaOrientation)("aria-label",f.ariaLabel)("aria-labelledby",f.ariaLabelledBy)("aria-valuenow",f.ariaValueNow)("aria-valuetext",f.ariaValueText)("aria-valuemin",f.ariaValueMin)("aria-valuemax",f.ariaValueMax),d.ekj("ngx-slider-active",f.active))},features:[d.qOj]}),v})(),Nr=(()=>{class v extends sr{constructor(a,f,E){super(a,f,E),this._value=null}get value(){return this._value}setValue(a){let f=!1;!this.alwaysHide&&(Ot.isNullOrUndefined(this.value)||this.value.length!==a.length||this.value.length>0&&0===this.dimension)&&(f=!0),this._value=a,this.elemRef.nativeElement.innerHTML=a,f&&this.calculateDimension()}}return v.\u0275fac=function(a){return new(a||v)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO))},v.\u0275dir=d.lG2({type:v,selectors:[["","ngxSliderLabel",""]],features:[d.qOj]}),v})();class Ws{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class Gi{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class Zs{static compare(u,a){return!(Ot.isNullOrUndefined(u)&&Ot.isNullOrUndefined(a)||Ot.isNullOrUndefined(u)!==Ot.isNullOrUndefined(a))&&u.value===a.value&&u.highValue===a.highValue}}class ia extends Zs{static compare(u,a){return!(Ot.isNullOrUndefined(u)&&Ot.isNullOrUndefined(a)||Ot.isNullOrUndefined(u)!==Ot.isNullOrUndefined(a))&&u.value===a.value&&u.highValue===a.highValue&&u.forceChange===a.forceChange}}const ds={provide:Be.JU,useExisting:(0,d.Gpc)(()=>ao),multi:!0};let ao=(()=>{class v{constructor(a,f,E,k){this.renderer=a,this.elementRef=f,this.changeDetectionRef=E,this.zone=k,this.value=null,this.valueChange=new d.vpe,this.highValue=null,this.highValueChange=new d.vpe,this.options=new gi,this.userChangeStart=new d.vpe,this.userChange=new d.vpe,this.userChangeEnd=new d.vpe,this.initHasRun=!1,this.inputModelChangeSubject=new Yn,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new Yn,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new gi,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new Gi,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.sliderElementAriaLabel="ngx-slider",this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new cs(this.renderer)}set manualRefresh(a){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=a.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(a){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=a.subscribe(f=>{this.focusPointer(f)})}get range(){return!Ot.isNullOrUndefined(this.value)&&!Ot.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new gi,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(a){!Ot.isNullOrUndefined(a.options)&&JSON.stringify(a.options.previousValue)!==JSON.stringify(a.options.currentValue)&&this.onChangeOptions(),(!Ot.isNullOrUndefined(a.value)||!Ot.isNullOrUndefined(a.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(a){a instanceof Array?(this.value=a[0],this.highValue=a[1]):this.value=a,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(a){this.onChangeCallback=a}registerOnTouched(a){this.onTouchedCallback=a}setDisabledState(a){this.viewOptions.disabled=a,this.updateDisabledState()}setAriaLabel(a){this.viewOptions.ariaLabel=a,this.updateAriaLabel()}onResize(a){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(ln(ia.compare),function be(v,u){return function(f){return f.lift(new Ue(v,u))}}(a=>!a.forceChange&&!a.internalChange)).subscribe(a=>this.applyInputModelChange(a))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(ln(ia.compare)).subscribe(a=>this.publishOutputModelChange(a))}subscribeResizeObserver(){qi.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){qi.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){Ot.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){Ot.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){Ot.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){Ot.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){Ot.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){Ot.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(a){return a===cn.Min?this.minHandleElement:a===cn.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===cn.Min?this.viewLowValue:this.currentTrackingPointer===cn.Max?this.viewHighValue:null}modelValueToViewValue(a){return Ot.isNullOrUndefined(a)?NaN:Ot.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+a:Ot.findStepIndex(+a,this.viewOptions.stepsArray)}viewValueToModelValue(a){return Ot.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?a:this.getStepValue(a)}getStepValue(a){const f=this.viewOptions.stepsArray[a];return Ot.isNullOrUndefined(f)?NaN:f.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(a){const f=this.normaliseModelValues(a),E=!Zs.compare(a,f);E&&(this.value=f.value,this.highValue=f.highValue),this.viewLowValue=this.modelValueToViewValue(f.value),this.viewHighValue=this.range?this.modelValueToViewValue(f.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:f.value,highValue:f.highValue,forceChange:E,userEventInitiated:!1})}publishOutputModelChange(a){const f=()=>{this.valueChange.emit(a.value),this.range&&this.highValueChange.emit(a.highValue),Ot.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[a.value,a.highValue]:a.value),Ot.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[a.value,a.highValue]:a.value)};a.userEventInitiated?(f(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{f()})}normaliseModelValues(a){const f=new Zs;if(f.value=a.value,f.highValue=a.highValue,!Ot.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const E=Ot.findStepIndex(f.value,this.viewOptions.stepsArray);if(f.value=this.viewOptions.stepsArray[E].value,this.range){const k=Ot.findStepIndex(f.highValue,this.viewOptions.stepsArray);f.highValue=this.viewOptions.stepsArray[k].value}}return f}if(this.viewOptions.enforceStep&&(f.value=this.roundStep(f.value),this.range&&(f.highValue=this.roundStep(f.highValue))),this.viewOptions.enforceRange&&(f.value=_i.clampToRange(f.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(f.highValue=_i.clampToRange(f.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&a.value>a.highValue))if(this.viewOptions.noSwitching)f.value=f.highValue;else{const E=a.value;f.value=a.highValue,f.highValue=E}return f}renormaliseModelValues(){const a={value:this.value,highValue:this.highValue},f=this.normaliseModelValues(a);Zs.compare(f,a)||(this.value=f.value,this.highValue=f.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const a=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const f=this.getOptionsInfluencingEventBindings(this.viewOptions),E=!Ot.areArraysEqual(a,f);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(E)}applyOptions(){if(this.viewOptions=new gi,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!Ot.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!Ot.isNullOrUndefined(this.viewOptions.tickStep)||!Ot.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!Ot.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),Ot.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),Ot.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(a,f)=>a+" - "+f),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,Ot.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=a=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(a):a))}applyFloorCeilOptions(){if(Ot.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),Ot.isNullOrUndefined(this.viewOptions.ceil)||Ot.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,Ot.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=a=>String(a))}resetSlider(a=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),a&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(a){a!==cn.Min&&a!==cn.Max&&(a=cn.Min),a===cn.Min?this.minHandleElement.focus():this.range&&a===cn.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){Ot.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const a=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(a||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(a||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(a||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const a of this.getAllSliderElements())Ot.isNullOrUndefined(a)||a.setVertical(this.viewOptions.vertical)}updateScale(){for(const a of this.getAllSliderElements())a.setScale(this.viewOptions.scale)}updateRotate(){for(const a of this.getAllSliderElements())a.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",Ot.isNullOrUndefined(this.viewOptions.ariaLabel)?Ot.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",Ot.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?Ot.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,pi.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,pi.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){Ot.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const a=this.minHandleElement.dimension;this.handleHalfDimension=a/2,Ot.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-a,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const a=Ot.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,f=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&a.reverse();const E=Ot.isNullOrUndefined(this.viewOptions.tickValueStep)?Ot.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let k=!1;const K=a.map(ye=>{let Fe=this.valueToPosition(ye);this.viewOptions.vertical&&(Fe=this.maxHandlePosition-Fe);const ct=f+"("+Math.round(Fe)+"px)",Rt=new Ws;Rt.selected=this.isTickSelected(ye),Rt.style={"-webkit-transform":ct,"-moz-transform":ct,"-o-transform":ct,"-ms-transform":ct,transform:ct},Rt.selected&&!Ot.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(Rt.style["background-color"]=this.getSelectionBarColor()),!Rt.selected&&!Ot.isNullOrUndefined(this.viewOptions.getTickColor)&&(Rt.style["background-color"]=this.getTickColor(ye)),Ot.isNullOrUndefined(this.viewOptions.ticksTooltip)||(Rt.tooltip=this.viewOptions.ticksTooltip(ye),Rt.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!Ot.isNullOrUndefined(E)&&_i.isModuloWithinPrecisionLimit(ye,E,this.viewOptions.precisionLimit)&&(Rt.value=this.getDisplayValue(ye,pi.TickValue),Ot.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(Rt.valueTooltip=this.viewOptions.ticksValuesTooltip(ye),Rt.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let dn=null;if(Ot.isNullOrUndefined(this.viewOptions.stepsArray))Ot.isNullOrUndefined(this.viewOptions.getLegend)||(dn=this.viewOptions.getLegend(ye));else{const xn=this.viewOptions.stepsArray[ye];Ot.isNullOrUndefined(this.viewOptions.getStepLegend)?Ot.isNullOrUndefined(xn)||(dn=xn.legend):dn=this.viewOptions.getStepLegend(xn)}return Ot.isNullOrUndefined(dn)||(Rt.legend=dn,k=!0),Rt});if(setTimeout(()=>{this.sliderElementWithLegendClass=k}),Ot.isNullOrUndefined(this.ticks)||this.ticks.length!==K.length)this.ticks=K;else for(let ye=0;ye<K.length;++ye)Object.assign(this.ticks[ye],K[ye]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const a=Ot.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,f=[],E=1+Math.floor(_i.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/a,this.viewOptions.precisionLimit));for(let k=0;k<E;++k)f.push(_i.roundToPrecisionLimit(this.viewOptions.floor+a*k,this.viewOptions.precisionLimit));return f}isTickSelected(a){if(!this.range)if(Ot.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(a>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&a<=this.viewLowValue)return!0}else{const f=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>f&&a>=f&&a<=this.viewLowValue)return!0;if(this.viewLowValue<f&&a<=f&&a>=this.viewLowValue)return!0}return!!(this.range&&a>=this.viewLowValue&&a<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,pi.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,pi.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(a,f){a===cn.Min?this.updateLowHandle(f):a===cn.Max&&this.updateHighHandle(f),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(a,f){const E=a===cn.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,k=f-E/2+this.handleHalfDimension,K=this.fullBarElement.dimension-E;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&a===cn.Min||!this.viewOptions.rightToLeft&&a===cn.Max?Math.min(k,K):Math.min(Math.max(k,0),K):k}updateLowHandle(a){this.minHandleElement.setPosition(a),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,pi.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(cn.Min,a)),Ot.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(cn.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(a){this.maxHandleElement.setPosition(a),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,pi.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(cn.Max,a)),Ot.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(cn.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let a=!1,f=!1;const E=this.isLabelBelowFloorLabel(this.minHandleLabelElement),k=this.isLabelAboveCeilLabel(this.minHandleLabelElement),K=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),ye=this.isLabelBelowFloorLabel(this.combinedLabelElement),Fe=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(E?(a=!0,this.floorLabelElement.hide()):(a=!1,this.floorLabelElement.show()),k?(f=!0,this.ceilLabelElement.hide()):(f=!1,this.ceilLabelElement.show()),this.range){const ct=this.combinedLabelElement.isVisible()?Fe:K,Rt=this.combinedLabelElement.isVisible()?ye:E;ct?this.ceilLabelElement.hide():f||this.ceilLabelElement.show(),Rt?this.floorLabelElement.hide():a||this.floorLabelElement.show()}}isLabelBelowFloorLabel(a){const f=a.position,k=this.floorLabelElement.position;return this.viewOptions.rightToLeft?f+a.dimension>=k-2:f<=k+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(a){const f=a.position,k=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?f<=k+this.ceilLabelElement.dimension+2:f+a.dimension>=k-2}updateSelectionBar(){let a=0,f=0;const E=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,k=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)f=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),a=k;else if(Ot.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))E?(f=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),a=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(f=this.minHandleElement.position+this.handleHalfDimension,a=0);else{const K=this.viewOptions.showSelectionBarFromValue,ye=this.valueToPosition(K);(this.viewOptions.rightToLeft?this.viewLowValue<=K:this.viewLowValue>K)?(f=this.minHandleElement.position-ye,a=ye+this.handleHalfDimension):(f=ye-this.minHandleElement.position,a=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(f),this.selectionBarElement.setPosition(a),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(a),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(a+f)),this.leftOuterSelectionBarElement.setPosition(a+f)):(this.leftOuterSelectionBarElement.setDimension(a),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(a+f)),this.rightOuterSelectionBarElement.setPosition(a+f))),Ot.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!Ot.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const K=Ot.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),ye=K-a>0&&!E||K-a<=0&&E;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?ye?"bottom":"top":ye?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(K+f+a+(ye?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=K-a+(ye?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const K=this.getSelectionBarColor();this.barStyle={backgroundColor:K}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(a){return this.viewOptions.getPointerColor(a===cn.Max?this.highValue:this.value,a)}getTickColor(a){return this.viewOptions.getTickColor(a)}updateCombinedLabel(){let a=null;if(a=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,a){const f=this.getDisplayValue(this.viewLowValue,pi.Low),E=this.getDisplayValue(this.viewHighValue,pi.High),k=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(E,f):this.viewOptions.combineLabels(f,E);this.combinedLabelElement.setValue(k);const K=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(K),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(a,f){return!Ot.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(a=this.getStepValue(a)),this.viewOptions.translate(a,f)}roundStep(a,f){const E=Ot.isNullOrUndefined(f)?this.viewOptions.step:f;let k=_i.roundToPrecisionLimit((a-this.viewOptions.floor)/E,this.viewOptions.precisionLimit);return k=Math.round(k)*E,_i.roundToPrecisionLimit(this.viewOptions.floor+k,this.viewOptions.precisionLimit)}valueToPosition(a){let f=Ot.linearValueToPosition;Ot.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(f=Ot.logValueToPosition):f=this.viewOptions.customValueToPosition;let E=f(a=_i.clampToRange(a,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return Ot.isNullOrUndefined(E)&&(E=0),this.viewOptions.rightToLeft&&(E=1-E),E*this.maxHandlePosition}positionToValue(a){let f=a/this.maxHandlePosition;this.viewOptions.rightToLeft&&(f=1-f);let E=Ot.linearPositionToValue;Ot.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(E=Ot.logPositionToValue):E=this.viewOptions.customPositionToValue;const k=E(f,this.viewOptions.floor,this.viewOptions.ceil);return Ot.isNullOrUndefined(k)?0:k}getEventXY(a,f){if(a instanceof MouseEvent)return this.viewOptions.vertical||0!==this.viewOptions.rotate?a.clientY:a.clientX;let E=0;const k=a.touches;if(!Ot.isNullOrUndefined(f))for(let K=0;K<k.length;K++)if(k[K].identifier===f){E=K;break}return this.viewOptions.vertical||0!==this.viewOptions.rotate?k[E].clientY:k[E].clientX}getEventPosition(a,f){const E=this.elementRef.nativeElement.getBoundingClientRect(),k=this.viewOptions.vertical||0!==this.viewOptions.rotate?E.bottom:E.left;let K=0;return K=this.viewOptions.vertical||0!==this.viewOptions.rotate?-this.getEventXY(a,f)+k:this.getEventXY(a,f)-k,K*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(a){if(!this.range)return cn.Min;const f=this.getEventPosition(a),E=Math.abs(f-this.minHandleElement.position),k=Math.abs(f-this.maxHandleElement.position);return E<k?cn.Min:E>k?cn.Max:this.viewOptions.rightToLeft?f>this.minHandleElement.position?cn.Min:cn.Max:f<this.minHandleElement.position?cn.Min:cn.Max}bindEvents(){const a=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",f=>this.onBarStart(null,a,f,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",f=>this.onBarStart(cn.Min,a,f,!0,!0)),this.maxHandleElement.on("mousedown",f=>this.onBarStart(cn.Max,a,f,!0,!0))):(this.minHandleElement.on("mousedown",f=>this.onStart(cn.Min,f,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",f=>this.onStart(cn.Max,f,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",f=>this.onStart(null,f,!0,!0,!0)),this.ticksElement.on("mousedown",f=>this.onStart(null,f,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",f=>this.onBarStart(null,a,f,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",f=>this.onBarStart(cn.Min,a,f,!0,!0)),this.maxHandleElement.onPassive("touchstart",f=>this.onBarStart(cn.Max,a,f,!0,!0))):(this.minHandleElement.onPassive("touchstart",f=>this.onStart(cn.Min,f,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",f=>this.onStart(cn.Max,f,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",f=>this.onStart(null,f,!0,!0,!0)),this.ticksElement.onPassive("touchstart",f=>this.onStart(null,f,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(cn.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(cn.Max)))}getOptionsInfluencingEventBindings(a){return[a.disabled,a.readOnly,a.draggableRange,a.draggableRangeOnly,a.onlyBindHandles,a.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const a of this.getAllSliderElements())Ot.isNullOrUndefined(a)||a.off()}onBarStart(a,f,E,k,K,ye,Fe){f?this.onDragStart(a,E,k,K):this.onStart(a,E,k,K,ye,Fe)}onStart(a,f,E,k,K,ye){f.stopPropagation(),!qi.isTouchEvent(f)&&!X&&f.preventDefault(),this.moving=!1,this.calculateViewDimensions(),Ot.isNullOrUndefined(a)&&(a=this.getNearestHandle(f)),this.currentTrackingPointer=a;const Fe=this.getPointerElement(a);if(Fe.active=!0,this.viewOptions.keyboardSupport&&Fe.focus(),E){this.unsubscribeOnMove();const ct=Rt=>this.dragging.active?this.onDragMove(Rt):this.onMove(Rt);this.onMoveEventListener=qi.isTouchEvent(f)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",ct):this.eventListenerHelper.attachEventListener(document,"mousemove",ct)}if(k){this.unsubscribeOnEnd();const ct=Rt=>this.onEnd(Rt);this.onEndEventListener=qi.isTouchEvent(f)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",ct):this.eventListenerHelper.attachEventListener(document,"mouseup",ct)}this.userChangeStart.emit(this.getChangeContext()),qi.isTouchEvent(f)&&!Ot.isNullOrUndefined(f.changedTouches)&&Ot.isNullOrUndefined(this.touchId)&&(this.touchId=f.changedTouches[0].identifier),K&&this.onMove(f,!0),ye&&this.onEnd(f)}onMove(a,f){let E=null;if(qi.isTouchEvent(a)){const ct=a.changedTouches;for(let Rt=0;Rt<ct.length;Rt++)if(ct[Rt].identifier===this.touchId){E=ct[Rt];break}if(Ot.isNullOrUndefined(E))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const k=Ot.isNullOrUndefined(E)?this.getEventPosition(a):this.getEventPosition(a,E.identifier);let K;k<=0?K=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:k>=this.maxHandlePosition?K=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(K=this.positionToValue(k),K=f&&!Ot.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(K,this.viewOptions.tickStep):this.roundStep(K)),this.positionTrackingHandle(K)}onEnd(a){qi.isTouchEvent(a)&&a.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(a){const f=this.getPointerElement(a);f.on("blur",()=>this.onPointerBlur(f)),f.on("keydown",E=>this.onKeyboardEvent(E)),f.on("keyup",()=>this.onKeyUp()),f.active=!0,this.currentTrackingPointer=a,this.currentFocusPointer=a,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(a){a.off("blur"),a.off("keydown"),a.off("keyup"),a.active=!1,Ot.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(a){const f=this.viewOptions.ceil-this.viewOptions.floor;let E=a+this.viewOptions.step,k=a-this.viewOptions.step,K=a+f/10,ye=a-f/10;this.viewOptions.reversedControls&&(E=a-this.viewOptions.step,k=a+this.viewOptions.step,K=a-f/10,ye=a+f/10);const Fe={UP:E,DOWN:k,LEFT:k,RIGHT:E,PAGEUP:K,PAGEDOWN:ye,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(Fe.LEFT=E,Fe.RIGHT=k,(this.viewOptions.vertical||0!==this.viewOptions.rotate)&&(Fe.UP=k,Fe.DOWN=E)),Fe}onKeyboardEvent(a){const f=this.getCurrentTrackingValue(),E=Ot.isNullOrUndefined(a.keyCode)?a.which:a.keyCode,Fe=this.getKeyActions(f)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[E]];if(Ot.isNullOrUndefined(Fe)||Ot.isNullOrUndefined(this.currentTrackingPointer))return;a.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const ct=_i.clampToRange(Fe,this.viewOptions.floor,this.viewOptions.ceil),Rt=this.roundStep(ct);if(this.viewOptions.draggableRangeOnly){const dn=this.viewHighValue-this.viewLowValue;let xn,Fn;this.currentTrackingPointer===cn.Min?(xn=Rt,Fn=Rt+dn,Fn>this.viewOptions.ceil&&(Fn=this.viewOptions.ceil,xn=Fn-dn)):this.currentTrackingPointer===cn.Max&&(Fn=Rt,xn=Rt-dn,xn<this.viewOptions.floor&&(xn=this.viewOptions.floor,Fn=xn+dn)),this.positionTrackingBar(xn,Fn)}else this.positionTrackingHandle(Rt)}onDragStart(a,f,E,k){const K=this.getEventPosition(f);this.dragging=new Gi,this.dragging.active=!0,this.dragging.value=this.positionToValue(K),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-K:K-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?K-this.maxHandleElement.position:this.maxHandleElement.position-K,this.onStart(a,f,E,k)}getMinValue(a,f,E){const k=this.viewOptions.rightToLeft;let K=null;return K=f?E?k?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:k?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(k?a+this.dragging.lowLimit:a-this.dragging.lowLimit),this.roundStep(K)}getMaxValue(a,f,E){const k=this.viewOptions.rightToLeft;let K=null;return K=f?E?k?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:k?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:k?this.positionToValue(a+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(a-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(K)}onDragMove(a){const f=this.getEventPosition(a);let E,k,K,ye;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(E=this.dragging.lowLimit,k=this.dragging.highLimit,K=this.maxHandleElement,ye=this.minHandleElement):(E=this.dragging.highLimit,k=this.dragging.lowLimit,K=this.minHandleElement,ye=this.maxHandleElement);const ct=f>=this.maxHandlePosition-E;let Rt,dn;if(f<=k){if(0===K.position)return;Rt=this.getMinValue(f,!0,!1),dn=this.getMaxValue(f,!0,!1)}else if(ct){if(ye.position===this.maxHandlePosition)return;dn=this.getMaxValue(f,!0,!0),Rt=this.getMinValue(f,!0,!0)}else Rt=this.getMinValue(f,!1,!1),dn=this.getMaxValue(f,!1,!1);this.positionTrackingBar(Rt,dn)}positionTrackingBar(a,f){!Ot.isNullOrUndefined(this.viewOptions.minLimit)&&a<this.viewOptions.minLimit&&(f=_i.roundToPrecisionLimit((a=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!Ot.isNullOrUndefined(this.viewOptions.maxLimit)&&f>this.viewOptions.maxLimit&&(a=_i.roundToPrecisionLimit((f=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=a,this.viewHighValue=f,this.applyViewChange(),this.updateHandles(cn.Min,this.valueToPosition(a)),this.updateHandles(cn.Max,this.valueToPosition(f))}positionTrackingHandle(a){a=this.applyMinMaxLimit(a),this.range&&(this.viewOptions.pushRange?a=this.applyPushRange(a):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===cn.Min&&a>this.viewHighValue?a=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===cn.Max&&a<this.viewLowValue&&(a=this.applyMinMaxRange(this.viewLowValue))),a=this.applyMinMaxRange(a),this.currentTrackingPointer===cn.Min&&a>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(cn.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=cn.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===cn.Max&&a<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(cn.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=cn.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==a&&(this.currentTrackingPointer===cn.Min?(this.viewLowValue=a,this.applyViewChange()):this.currentTrackingPointer===cn.Max&&(this.viewHighValue=a,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(a)),this.updateAriaAttributes())}applyMinMaxLimit(a){return!Ot.isNullOrUndefined(this.viewOptions.minLimit)&&a<this.viewOptions.minLimit?this.viewOptions.minLimit:!Ot.isNullOrUndefined(this.viewOptions.maxLimit)&&a>this.viewOptions.maxLimit?this.viewOptions.maxLimit:a}applyMinMaxRange(a){const E=Math.abs(a-(this.currentTrackingPointer===cn.Min?this.viewHighValue:this.viewLowValue));if(!Ot.isNullOrUndefined(this.viewOptions.minRange)&&E<this.viewOptions.minRange){if(this.currentTrackingPointer===cn.Min)return _i.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===cn.Max)return _i.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!Ot.isNullOrUndefined(this.viewOptions.maxRange)&&E>this.viewOptions.maxRange){if(this.currentTrackingPointer===cn.Min)return _i.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===cn.Max)return _i.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return a}applyPushRange(a){const f=this.currentTrackingPointer===cn.Min?this.viewHighValue-a:a-this.viewLowValue,E=Ot.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,k=this.viewOptions.maxRange;return f<E?(this.currentTrackingPointer===cn.Min?(this.viewHighValue=_i.roundToPrecisionLimit(Math.min(a+E,this.viewOptions.ceil),this.viewOptions.precisionLimit),a=_i.roundToPrecisionLimit(this.viewHighValue-E,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(cn.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===cn.Max&&(this.viewLowValue=_i.roundToPrecisionLimit(Math.max(a-E,this.viewOptions.floor),this.viewOptions.precisionLimit),a=_i.roundToPrecisionLimit(this.viewLowValue+E,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(cn.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!Ot.isNullOrUndefined(k)&&f>k&&(this.currentTrackingPointer===cn.Min?(this.viewHighValue=_i.roundToPrecisionLimit(a+k,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(cn.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===cn.Max&&(this.viewLowValue=_i.roundToPrecisionLimit(a-k,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(cn.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),a}getChangeContext(){const a=new ls;return a.pointerType=this.currentTrackingPointer,a.value=+this.value,this.range&&(a.highValue=+this.highValue),a}}return v.\u0275fac=function(a){return new(a||v)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.R0b))},v.\u0275cmp=d.Xpm({type:v,selectors:[["ngx-slider"]],contentQueries:function(a,f,E){if(1&a&&d.Suo(E,bi,5),2&a){let k;d.iGM(k=d.CRH())&&(f.tooltipTemplate=k.first)}},viewQuery:function(a,f){if(1&a&&(d.Gf(Ci,5,sr),d.Gf(Pr,5,sr),d.Gf(Ti,5,sr),d.Gf(Kt,5,sr),d.Gf(Bn,5,ys),d.Gf(fi,5,ys),d.Gf(Hi,5,Nr),d.Gf(Rr,5,Nr),d.Gf(ji,5,Nr),d.Gf(Ji,5,Nr),d.Gf(ni,5,Nr),d.Gf(Er,5,sr)),2&a){let E;d.iGM(E=d.CRH())&&(f.leftOuterSelectionBarElement=E.first),d.iGM(E=d.CRH())&&(f.rightOuterSelectionBarElement=E.first),d.iGM(E=d.CRH())&&(f.fullBarElement=E.first),d.iGM(E=d.CRH())&&(f.selectionBarElement=E.first),d.iGM(E=d.CRH())&&(f.minHandleElement=E.first),d.iGM(E=d.CRH())&&(f.maxHandleElement=E.first),d.iGM(E=d.CRH())&&(f.floorLabelElement=E.first),d.iGM(E=d.CRH())&&(f.ceilLabelElement=E.first),d.iGM(E=d.CRH())&&(f.minHandleLabelElement=E.first),d.iGM(E=d.CRH())&&(f.maxHandleLabelElement=E.first),d.iGM(E=d.CRH())&&(f.combinedLabelElement=E.first),d.iGM(E=d.CRH())&&(f.ticksElement=E.first)}},hostAttrs:[1,"ngx-slider"],hostVars:8,hostBindings:function(a,f){1&a&&d.NdJ("resize",function(k){return f.onResize(k)},!1,d.Jf7),2&a&&(d.uIk("disabled",f.sliderElementDisabledAttr)("aria-label",f.sliderElementAriaLabel),d.ekj("vertical",f.sliderElementVerticalClass)("animate",f.sliderElementAnimateClass)("with-legend",f.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[d._Bn([ds]),d.TTD],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(a,f){1&a&&(d.TgZ(0,"span",0,1),d._UZ(2,"span",2),d.qZA(),d.TgZ(3,"span",3,4),d._UZ(5,"span",2),d.qZA(),d.TgZ(6,"span",5,6),d._UZ(8,"span",2),d.qZA(),d.TgZ(9,"span",7,8),d._UZ(11,"span",9),d.qZA(),d._UZ(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),d.TgZ(26,"span",24,25),d.YNc(28,$i,4,9,"span",26),d.qZA()),2&a&&(d.xp6(6),d.ekj("ngx-slider-transparent",f.fullBarTransparentClass),d.xp6(3),d.ekj("ngx-slider-draggable",f.selectionBarDraggableClass),d.xp6(2),d.Q6J("ngStyle",f.barStyle),d.xp6(1),d.Q6J("ngStyle",f.minPointerStyle),d.xp6(2),d.Udp("display",f.range?"inherit":"none"),d.Q6J("ngStyle",f.maxPointerStyle),d.xp6(12),d.ekj("ngx-slider-ticks-values-under",f.ticksUnderValuesClass),d.Q6J("hidden",!f.showTicks),d.xp6(2),d.Q6J("ngForOf",f.ticks))},directives:function(){return[sr,ut.PC,ys,Nr,ut.sg,ut.mk,lo,ut.O5]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-pointer:after{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),v})(),lo=(()=>{class v{}return v.\u0275fac=function(a){return new(a||v)},v.\u0275cmp=d.Xpm({type:v,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(a,f){1&a&&(d.YNc(0,ms,2,6,"ng-container",0),d.YNc(1,as,3,3,"ng-container",0)),2&a&&(d.Q6J("ngIf",f.template),d.xp6(1),d.Q6J("ngIf",!f.template))},directives:[ut.O5,ut.tP],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),v})(),ra=(()=>{class v{}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=d.oAB({type:v}),v.\u0275inj=d.cJS({imports:[[ut.ez]]}),v})();function Xr(v,u){if(1&v){const a=d.EpF();d.TgZ(0,"li",17)(1,"input",18),d.NdJ("ngModelChange",function(E){return d.CHM(a).$implicit.selected=E}),d.qZA(),d.TgZ(2,"label",19),d._uU(3),d.qZA()()}if(2&v){const a=u.$implicit,f=u.index;d.xp6(1),d.Q6J("id",(null==a?null:a.sub_interests_name)+f)("ngModel",a.selected),d.xp6(1),d.Q6J("for",(null==a?null:a.sub_interests_name)+f),d.xp6(1),d.hij(" ",null==a?null:a.sub_interests_name," ")}}function wr(v,u){if(1&v&&(d.TgZ(0,"ul",13)(1,"li")(2,"span",14),d._uU(3),d.qZA(),d.TgZ(4,"ul",15),d.YNc(5,Xr,4,4,"li",16),d.qZA()()()),2&v){const a=u.$implicit;d.xp6(3),d.hij(" ",null==a?null:a.name," "),d.xp6(2),d.Q6J("ngForOf",null==a?null:a.sub_interests)}}function Os(v,u){1&v&&d._UZ(0,"i",20)}function Ta(v,u){if(1&v){const a=d.EpF();d.TgZ(0,"li",22)(1,"input",18),d.NdJ("ngModelChange",function(E){return d.CHM(a).$implicit.selected=E}),d.qZA(),d.TgZ(2,"label",19),d._uU(3),d.qZA()()}if(2&v){const a=u.$implicit,f=u.index;d.xp6(1),d.Q6J("id",(null==a?null:a.name)+f)("ngModel",a.selected),d.xp6(1),d.Q6J("for",(null==a?null:a.name)+f),d.xp6(1),d.hij(" ",null==a?null:a.name," ")}}function sa(v,u){if(1&v&&(d.TgZ(0,"ul",13)(1,"li")(2,"span",14),d._uU(3),d.qZA(),d.TgZ(4,"ul",15),d.YNc(5,Ta,4,4,"li",21),d.qZA()()()),2&v){const a=u.$implicit;d.xp6(3),d.hij(" ",null==a?null:a.gov," "),d.xp6(2),d.Q6J("ngForOf",null==a?null:a.areas)}}function Lo(v,u){1&v&&d._UZ(0,"i",20)}function vs(v,u){if(1&v){const a=d.EpF();d.TgZ(0,"li",22)(1,"input",18),d.NdJ("ngModelChange",function(E){return d.CHM(a).$implicit.selected=E}),d.qZA(),d.TgZ(2,"label",19),d._uU(3),d.qZA()()}if(2&v){const a=u.$implicit,f=u.index;d.xp6(1),d.Q6J("id",(null==a?null:a.child_name)+f)("ngModel",a.selected),d.xp6(1),d.Q6J("for",(null==a?null:a.child_name)+f),d.xp6(1),d.hij(" ",null==a?null:a.child_name," ")}}function Ya(v,u){1&v&&d._UZ(0,"i",20)}function Ks(v,u){if(1&v&&(d.TgZ(0,"div",3)(1,"div")(2,"accordion",4)(3,"accordion-group",5),d.ALo(4,"translate"),d.TgZ(5,"ul",13),d.YNc(6,vs,4,4,"li",21),d.qZA(),d.TgZ(7,"div",7),d.YNc(8,Ya,1,0,"i",8),d.qZA()()()()()),2&v){const a=d.oxw();d.xp6(2),d.Q6J("isAnimated",!0),d.xp6(1),d.s9C("heading",d.lcZ(4,4,"members")),d.xp6(3),d.Q6J("ngForOf",a.members),d.xp6(2),d.Q6J("ngIf",null==a.membersservice?null:a.membersservice.membersLoading)}}let or=(()=>{class v{constructor(a,f,E,k){this.homeService=a,this.router=f,this.membersservice=E,this.authService=k,this.interst=[],this.areas=[],this.members=[],this.rate=0,this.value=0,this.highValue=60,this.options={floor:0,ceil:60},this.value2=0,this.highValue2=3e3,this.options2={floor:0,ceil:3e3},this.closefilterpopup=new d.vpe}ngOnInit(){localStorage.getItem("joinToken")&&this.membersservice.getAllMembers(),this.homeService.getIntersts(),this.authService.getAllAreas(),this.homeService.intersts.subscribe(a=>{this.interst=a,this.interst.forEach(f=>{var E;(null===(E=null==f?void 0:f.sub_interests)||void 0===E?void 0:E.length)&&(null==f||f.sub_interests.map(k=>{k.selected=!1}))})}),this.authService.areas.subscribe(a=>{a&&(this.areas=a,this.areas.forEach(f=>{var E;(null===(E=null==f?void 0:f.areas)||void 0===E?void 0:E.length)&&(null==f||f.areas.map(k=>{k.selected=!1}))}))}),this.membersservice.members.subscribe(a=>{a&&(this.members=a,this.members.forEach(f=>{f.selected=!1}))})}isLogin(){return!!localStorage.getItem("joinToken")}doneFilter(){let a=[{interests_id:[],child_id:[],area_id:[],age_from:this.value,age_to:this.highValue,price_from:this.value2,price_to:this.highValue2,rating:this.rate}];this.interst.forEach(f=>{f.sub_interests.forEach(E=>{(null==E?void 0:E.selected)&&a[0].interests_id.push(null==E?void 0:E.sub_interests_id)})}),this.areas.forEach(f=>{f.areas.forEach(E=>{(null==E?void 0:E.selected)&&a[0].area_id.push(null==E?void 0:E.id)})}),this.members.forEach(f=>{(null==f?void 0:f.selected)&&a[0].child_id.push(null==f?void 0:f.child_id)}),this.closefilterpopup.emit(!0),this.router.navigate(["/search/-1"],{queryParams:{filterbody:JSON.stringify(a)}})}}return v.\u0275fac=function(a){return new(a||v)(d.Y36(ke.Y),d.Y36(W.F0),d.Y36(ue.Z),d.Y36(lt.e))},v.\u0275cmp=d.Xpm({type:v,selectors:[["app-filter"]],outputs:{closefilterpopup:"closefilterpopup"},decls:44,vars:39,consts:[[1,"container"],[2,"font-weight","400","font-size","20px","line-height","30px"],[1,"row","body"],[1,"col-lg-6","col-xl-4","mb-3"],[3,"isAnimated"],[3,"heading"],["class","list-unstyled p-0",4,"ngFor","ngForOf"],[1,"text-center"],["class","fas fa-circle-notch fa-spin",4,"ngIf"],["class","col-lg-6 col-xl-4 mb-3",4,"ngIf"],[3,"ngModel","max","ngModelChange"],[3,"value","highValue","options","valueChange","highValueChange"],[1,"orangebtn",3,"click"],[1,"list-unstyled","p-0"],[1,"d-block","rounded","text-white","p-2","mb-2",2,"background-color","#F89416"],[1,"list-unstyled","p-0","mx-2"],["class","mb-2 d-flex",4,"ngFor","ngForOf"],[1,"mb-2","d-flex"],["type","checkbox",3,"id","ngModel","ngModelChange"],[1,"mx-2",3,"for"],[1,"fas","fa-circle-notch","fa-spin"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"]],template:function(a,f){1&a&&(d.TgZ(0,"div",0)(1,"h2",1),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.TgZ(4,"div",2)(5,"div",3)(6,"div")(7,"accordion",4)(8,"accordion-group",5),d.ALo(9,"translate"),d.YNc(10,wr,6,2,"ul",6),d.TgZ(11,"div",7),d.YNc(12,Os,1,0,"i",8),d.qZA()()()()(),d.TgZ(13,"div",3)(14,"div")(15,"accordion",4)(16,"accordion-group",5),d.ALo(17,"translate"),d.YNc(18,sa,6,2,"ul",6),d.TgZ(19,"div",7),d.YNc(20,Lo,1,0,"i",8),d.qZA()()()()(),d.YNc(21,Ks,9,6,"div",9),d.TgZ(22,"div",3)(23,"div")(24,"accordion",4)(25,"accordion-group",5),d.ALo(26,"translate"),d.TgZ(27,"div",7)(28,"rating",10),d.NdJ("ngModelChange",function(k){return f.rate=k}),d.qZA()()()()()(),d.TgZ(29,"div",3)(30,"div")(31,"accordion",4)(32,"accordion-group",5),d.ALo(33,"translate"),d.TgZ(34,"ngx-slider",11),d.NdJ("valueChange",function(k){return f.value2=k})("highValueChange",function(k){return f.highValue2=k}),d.qZA()()()()(),d.TgZ(35,"div",3)(36,"div")(37,"accordion",4)(38,"accordion-group",5),d.ALo(39,"translate"),d.TgZ(40,"ngx-slider",11),d.NdJ("valueChange",function(k){return f.value=k})("highValueChange",function(k){return f.highValue=k}),d.qZA()()()()()(),d.TgZ(41,"button",12),d.NdJ("click",function(){return f.doneFilter()}),d._uU(42),d.ALo(43,"translate"),d.qZA()()),2&a&&(d.xp6(2),d.Oqu(d.lcZ(3,25,"Filter")),d.xp6(5),d.Q6J("isAnimated",!0),d.xp6(1),d.s9C("heading",d.lcZ(9,27,"Interests")),d.xp6(2),d.Q6J("ngForOf",f.interst),d.xp6(2),d.Q6J("ngIf",null==f.homeService?null:f.homeService.interistsLoading),d.xp6(3),d.Q6J("isAnimated",!0),d.xp6(1),d.s9C("heading",d.lcZ(17,29,"area")),d.xp6(2),d.Q6J("ngForOf",f.areas),d.xp6(2),d.Q6J("ngIf",null==f.authService?null:f.authService.arealoading),d.xp6(1),d.Q6J("ngIf",f.isLogin()),d.xp6(3),d.Q6J("isAnimated",!0),d.xp6(1),d.s9C("heading",d.lcZ(26,31,"rating")),d.xp6(3),d.Q6J("ngModel",f.rate)("max",5),d.xp6(3),d.Q6J("isAnimated",!0),d.xp6(1),d.s9C("heading",d.lcZ(33,33,"price")),d.xp6(2),d.Q6J("value",f.value2)("highValue",f.highValue2)("options",f.options2),d.xp6(3),d.Q6J("isAnimated",!0),d.xp6(1),d.s9C("heading",d.lcZ(39,35,"age")),d.xp6(2),d.Q6J("value",f.value)("highValue",f.highValue)("options",f.options),d.xp6(2),d.hij(" ",d.lcZ(43,37,"search")," "))},directives:[rt.Zf,rt.U_,ut.sg,Be.Wl,Be.JJ,Be.On,ut.O5,qe,ao],pipes:[Te.X$],styles:[".accordion-toggle .btn.btn-link{color:#000!important;text-decoration:none!important}  .bs-rating-star{font-size:30px!important}"]}),v})();const Fo=function(v){return{id:v}};function Cr(v,u){if(1&v&&(d.TgZ(0,"div",34)(1,"a",35),d._uU(2),d.qZA()()),2&v){const a=u.$implicit,f=d.oxw(3);d.xp6(1),d.Q6J("queryParams",d.VKq(2,Fo,null==a?null:a.id)),d.xp6(1),d.hij(" ","ar"==f.lang?null==a?null:a.name_ar:null==a?null:a.name_en," ")}}function Ds(v,u){if(1&v&&(d.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"p",32),d._uU(4),d.ALo(5,"translate"),d.qZA(),d._UZ(6,"hr"),d.qZA(),d.YNc(7,Cr,3,4,"div",33),d.qZA()()),2&v){const a=d.oxw(2);d.xp6(4),d.hij(" ",d.lcZ(5,2,"categories")," "),d.xp6(3),d.Q6J("ngForOf",a.categories)}}const Rn=function(){return{exact:!0}};function _s(v,u){if(1&v){const a=d.EpF();d.ynx(0),d.TgZ(1,"li",14)(2,"a",36),d.NdJ("click",function(){d.CHM(a);const E=d.oxw(2);return E.openNavbar=!E.openNavbar}),d._uU(3),d.ALo(4,"translate"),d.qZA()(),d.TgZ(5,"li",14)(6,"a",37),d.NdJ("click",function(){d.CHM(a);const E=d.oxw(2);return E.openNavbar=!E.openNavbar}),d._uU(7),d.ALo(8,"translate"),d.qZA()(),d.TgZ(9,"li",14)(10,"a",38),d.NdJ("click",function(){d.CHM(a);const E=d.oxw(2);return E.openNavbar=!E.openNavbar}),d._uU(11),d.ALo(12,"translate"),d.qZA()(),d.TgZ(13,"li",14)(14,"a",39),d.NdJ("click",function(){d.CHM(a);const E=d.oxw(2);return E.openNavbar=!E.openNavbar}),d._uU(15),d.ALo(16,"translate"),d.qZA()(),d.TgZ(17,"li",14)(18,"a",40),d._uU(19),d.ALo(20,"translate"),d.qZA()(),d.TgZ(21,"li",14)(22,"a",41),d.NdJ("click",function(){d.CHM(a);const E=d.oxw(2);return E.openNavbar=!E.openNavbar}),d._uU(23),d.ALo(24,"translate"),d.qZA()(),d.BQk()}2&v&&(d.xp6(2),d.Q6J("routerLinkActiveOptions",d.DdM(23,Rn)),d.xp6(1),d.Oqu(d.lcZ(4,11,"myaccount")),d.xp6(3),d.Q6J("routerLinkActiveOptions",d.DdM(24,Rn)),d.xp6(1),d.Oqu(d.lcZ(8,13,"history")),d.xp6(3),d.Q6J("routerLinkActiveOptions",d.DdM(25,Rn)),d.xp6(1),d.Oqu(d.lcZ(12,15,"notifications")),d.xp6(3),d.Q6J("routerLinkActiveOptions",d.DdM(26,Rn)),d.xp6(1),d.Oqu(d.lcZ(16,17,"favorite")),d.xp6(4),d.Oqu(d.lcZ(20,19,"follow")),d.xp6(3),d.Q6J("routerLinkActiveOptions",d.DdM(27,Rn)),d.xp6(1),d.Oqu(d.lcZ(24,21,"contactus")))}function Is(v,u){if(1&v&&(d.TgZ(0,"span",42),d._uU(1),d.qZA()),2&v){const a=d.oxw(2);d.xp6(1),d.Oqu(a.cartitemsCount)}}function bs(v,u){1&v&&(d.ynx(0),d.TgZ(1,"a",43),d._UZ(2,"i",44),d.qZA(),d.TgZ(3,"a",45),d._UZ(4,"i",46),d.qZA(),d.BQk())}function Qa(v,u){if(1&v){const a=d.EpF();d.TgZ(0,"ul",52)(1,"li",53),d._UZ(2,"img",54),d.qZA(),d.TgZ(3,"li",55)(4,"span",56),d._uU(5),d.ALo(6,"titlecase"),d.ALo(7,"titlecase"),d.qZA(),d.TgZ(8,"span",57),d._uU(9),d.qZA()(),d.TgZ(10,"li",58)(11,"a",59),d._UZ(12,"i",60),d._uU(13),d.ALo(14,"translate"),d.qZA()(),d.TgZ(15,"li",58)(16,"a",61),d._UZ(17,"i",62),d._uU(18),d.ALo(19,"translate"),d.qZA()(),d.TgZ(20,"li",58)(21,"a",45),d._UZ(22,"i",63),d._uU(23),d.ALo(24,"translate"),d.qZA()(),d.TgZ(25,"li",58)(26,"a",64),d._UZ(27,"i",65),d._uU(28),d.ALo(29,"translate"),d.qZA()(),d.TgZ(30,"li",58)(31,"a",40),d._UZ(32,"i",66),d._uU(33),d.ALo(34,"translate"),d.qZA()(),d.TgZ(35,"li",58)(36,"a",67),d._UZ(37,"i",68),d._uU(38),d.ALo(39,"translate"),d.qZA()(),d.TgZ(40,"li",58)(41,"a",21),d.NdJ("click",function(){return d.CHM(a),d.oxw(3).logout()}),d._UZ(42,"i",69),d._uU(43),d.ALo(44,"translate"),d.qZA()()()}if(2&v){const a=d.oxw(3);d.xp6(5),d.AsE(" ",d.lcZ(6,10,null==a.userdata?null:a.userdata.fname)," ",d.lcZ(7,12,null==a.userdata?null:a.userdata.lname)," "),d.xp6(4),d.hij(" ",null==a.userdata?null:a.userdata.email," "),d.xp6(4),d.hij(" ",d.lcZ(14,14,"myaccount")," "),d.xp6(5),d.hij(" ",d.lcZ(19,16,"history")," "),d.xp6(5),d.hij(" ",d.lcZ(24,18,"notifications")," "),d.xp6(5),d.hij(" ",d.lcZ(29,20,"favorite")," "),d.xp6(5),d.hij(" ",d.lcZ(34,22,"follow")," "),d.xp6(5),d.hij(" ",d.lcZ(39,24,"contactus")," "),d.xp6(5),d.hij(" ",d.lcZ(44,26,"logout")," ")}}function Vo(v,u){if(1&v&&(d.TgZ(0,"li",47)(1,"div",48)(2,"a",49),d._uU(3),d.ALo(4,"uppercase"),d._UZ(5,"span",50),d.qZA(),d.YNc(6,Qa,45,28,"ul",51),d.qZA()()),2&v){const a=d.oxw(2);d.xp6(3),d.hij(" ",d.lcZ(4,1,a.userName)," ")}}function Wr(v,u){if(1&v){const a=d.EpF();d.TgZ(0,"li",70)(1,"a",71),d.NdJ("click",function(){return d.CHM(a),d.oxw(2).logout()}),d._uU(2),d.ALo(3,"translate"),d.qZA()()}2&v&&(d.xp6(2),d.Oqu(d.lcZ(3,1,"logout")))}function oa(v,u){if(1&v){const a=d.EpF();d.TgZ(0,"li",72)(1,"a",73),d.NdJ("click",function(){d.CHM(a);const E=d.oxw(2);return E.openNavbar=!E.openNavbar}),d._uU(2),d.ALo(3,"translate"),d.qZA()()}2&v&&(d.xp6(2),d.Oqu(d.lcZ(3,1,"signin")))}const Br=function(v,u){return{"padding-right":v,"padding-left":u}},Zr=function(v,u){return{right:v,left:u}},Ms=function(v,u){return{"d-flex":v,"d-none":u}};function Ei(v,u){if(1&v){const a=d.EpF();d.TgZ(0,"nav")(1,"div",2)(2,"div",3)(3,"a",4),d.NdJ("click",function(){d.CHM(a);const E=d.oxw();return E.openNavbar=!E.openNavbar}),d._UZ(4,"img",5),d.qZA(),d._UZ(5,"span",6),d.TgZ(6,"div",7)(7,"input",8,9),d.NdJ("keyup.enter",function(){d.CHM(a);const E=d.MAs(8);return d.oxw().inputSearch(E.value)}),d.ALo(9,"translate"),d.qZA(),d.TgZ(10,"i",10),d.NdJ("click",function(){return d.CHM(a),d.oxw().filterPopup=!0}),d.qZA()(),d.TgZ(11,"i",11),d.NdJ("click",function(){d.CHM(a);const E=d.oxw();return E.openNavbar=!E.openNavbar}),d.qZA()(),d.TgZ(12,"ul",12)(13,"li")(14,"a",13),d.NdJ("click",function(){d.CHM(a);const E=d.oxw();return E.openNavbar=!E.openNavbar}),d._uU(15),d.ALo(16,"translate"),d.qZA()(),d.TgZ(17,"li",14)(18,"a",15),d.NdJ("click",function(){d.CHM(a);const E=d.oxw();return E.openNavbar=!E.openNavbar}),d._uU(19),d.ALo(20,"translate"),d.qZA()(),d.TgZ(21,"li",16)(22,"a",17),d.NdJ("click",function(){d.CHM(a);const E=d.oxw();return E.openNavbar=!E.openNavbar}),d._uU(23),d.ALo(24,"translate"),d.qZA(),d.YNc(25,Ds,8,4,"div",18),d.qZA(),d.TgZ(26,"li")(27,"a",19),d.NdJ("click",function(){d.CHM(a);const E=d.oxw();return E.openNavbar=!E.openNavbar}),d._uU(28),d.ALo(29,"translate"),d.qZA()(),d.YNc(30,_s,25,28,"ng-container",0),d.TgZ(31,"li",20)(32,"a",21),d.NdJ("click",function(){d.CHM(a);const E=d.oxw();return E.selectLang("ar"==E.lang?"en":"ar"),E.openNavbar=!E.openNavbar}),d._uU(33),d.qZA()(),d.TgZ(34,"li",20)(35,"div",22)(36,"a",23),d._UZ(37,"i",24),d.YNc(38,Is,2,1,"span",25),d.qZA(),d.YNc(39,bs,5,0,"ng-container",0),d.qZA()(),d.YNc(40,Vo,7,3,"li",26),d.YNc(41,Wr,4,3,"li",27),d.YNc(42,oa,4,3,"li",28),d.qZA()()()}if(2&v){const a=d.oxw();d.xp6(7),d.s9C("placeholder",d.lcZ(9,18,"lets_explore")),d.Q6J("ngStyle",d.WLB(28,Br,"ar"==a.lang?"30px":"7px","ar"==a.lang?"7px":"30px")),d.xp6(3),d.Q6J("ngStyle",d.WLB(31,Zr,"ar"==a.lang?"10px":"auto","ar"==a.lang?"auto":"10px")),d.xp6(2),d.Q6J("ngClass",d.WLB(34,Ms,a.openNavbar,!a.openNavbar)),d.xp6(2),d.Q6J("routerLinkActiveOptions",d.DdM(37,Rn)),d.xp6(1),d.Oqu(d.lcZ(16,20,"home")),d.xp6(3),d.Q6J("routerLinkActiveOptions",d.DdM(38,Rn)),d.xp6(1),d.Oqu(d.lcZ(20,22,"store")),d.xp6(4),d.Oqu(d.lcZ(24,24,"store")),d.xp6(4),d.Q6J("routerLinkActiveOptions",d.DdM(39,Rn)),d.xp6(1),d.Oqu(d.lcZ(29,26,"activities")),d.xp6(2),d.Q6J("ngIf",a.isLogin()),d.xp6(3),d.hij(" ","ar"==a.lang?"en":"ar",""),d.xp6(5),d.Q6J("ngIf",a.cartitemsCount),d.xp6(1),d.Q6J("ngIf",a.isLogin()),d.xp6(1),d.Q6J("ngIf",a.isLogin()),d.xp6(1),d.Q6J("ngIf",a.isLogin()),d.xp6(1),d.Q6J("ngIf",!a.isLogin())}}const Tr=function(v,u){return{left:v,right:u}};function Uo(v,u){if(1&v){const a=d.EpF();d.TgZ(0,"div",74)(1,"div",75)(2,"i",76),d.NdJ("click",function(){return d.CHM(a),d.oxw().filterPopup=!1}),d.qZA(),d.TgZ(3,"app-filter",77),d.NdJ("closefilterpopup",function(){return d.CHM(a),d.oxw().filterPopup=!1}),d.qZA()()()}if(2&v){const a=d.oxw();d.Q6J("ngClass",d.WLB(2,Ms,a.filterPopup,!a.filterPopup)),d.xp6(2),d.Q6J("ngStyle",d.WLB(5,Tr,"ar"==a.lang?"20px":"auto","ar"==a.lang?"auto":"20px"))}}let aa=(()=>{class v{constructor(a,f,E,k,K){this.authService=a,this.storeSerive=f,this.glopalService=E,this.router=k,this.translateService=K,this.openNavbar=!1,this.currentLang="",this.hidenave=!1,this.userName="",this.filterPopup=!1,this.userdata=null,this.categories=[],this.currentLang=localStorage.getItem("lang")||"en",this.translateService.use(this.currentLang),"ar"==this.currentLang?document.body.classList.add("custom-rtl"):document.body.classList.remove("custom-rtl")}isLogin(){return!!localStorage.getItem("joinToken")}selectLang(a){location.reload(),this.translateService.use(a),"ar"==a?document.body.classList.add("custom-rtl"):document.body.classList.remove("custom-rtl"),localStorage.setItem("lang",a)}get lang(){return localStorage.getItem("lang")||"en"}ngOnInit(){this.storeSerive.getStoreTabs().subscribe(a=>{var f;return this.categories=null===(f=null==a?void 0:a.payload)||void 0===f?void 0:f.data}),localStorage.getItem("joinToken")&&this.userName.toUpperCase(),this.authService.userProfile.subscribe(a=>{if(a){let f="",E="";(null==a?void 0:a.fname)&&(f=null==a?void 0:a.fname.slice(0,1)),(null==a?void 0:a.lname)&&(E=null==a?void 0:a.lname.slice(0,1)),this.userName=`${f}${E}`,this.userdata=a}}),this.glopalService.hideNavbarAndFooter.subscribe(a=>{this.hidenave=a})}inputSearch(a){a.trim().length>0&&this.router.navigate([`/search/${a}`])}get cartitemsCount(){let a=localStorage.getItem("joincart");return a=a?JSON.parse(a):[],null==a?void 0:a.length}logout(){localStorage.removeItem("joincart"),localStorage.removeItem("joinToken"),this.router.navigate(["/"])}}return v.\u0275fac=function(a){return new(a||v)(d.Y36(lt.e),d.Y36(nt.d),d.Y36(ht.W),d.Y36(W.F0),d.Y36(Te.sK))},v.\u0275cmp=d.Xpm({type:v,selectors:[["app-navbar"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","cstmpopup",3,"ngClass",4,"ngIf"],[1,"container","flex-column","flex-lg-row","d-flex","justify-content-lg-between","py-2","align-items-lg-center"],[1,"logo","d-flex","justify-content-between","justify-content-lg-start","align-items-center"],["routerLink","/",3,"click"],["src","assets/images/mainlogo.png","alt","join"],[1,"d-none","d-lg-block","mx-2"],[1,"position-relative"],["type","text",3,"ngStyle","placeholder","keyup.enter"],["searchInput",""],[1,"fa-solid","fa-filter","maincolor",3,"ngStyle","click"],[1,"fa-solid","fa-bars","d-lg-none",2,"cursor","pointer",3,"click"],[1,"links","main","list-unstyled","m-0","py-1","px-0","d-lg-flex","align-items-lg-center","flex-column","flex-lg-row",3,"ngClass"],["routerLinkActive","active","routerLink","/",3,"routerLinkActiveOptions","click"],[1,"d-lg-none"],["routerLinkActive","active","routerLink","/store",3,"routerLinkActiveOptions","click"],["dropdown","",1,"btn-group","d-none","d-lg-block"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",3,"click"],["id","dropdown-basic","class","dropdown-menu store ","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["routerLinkActive","active","routerLink","/activities",3,"routerLinkActiveOptions","click"],[1,"lang"],[2,"cursor","pointer",3,"click"],[1,"additionicons"],["routerLink","/cart",1,"position-relative"],[1,"fa-solid","fa-cart-shopping"],["class","cartcount",4,"ngIf"],["class","d-none d-lg-block lang position-relative subparent lang",4,"ngIf"],["style","cursor: pointer;","class","d-lg-none",4,"ngIf"],["class","lang signinbtn",4,"ngIf"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","store"],[1,"row","p-3"],[1,"col-md-12"],[1,"fw-bold","maincolor","m-0"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],["routerLink","/store",1,"p-0",3,"queryParams"],["routerLinkActive","active","routerLink","/profile",3,"routerLinkActiveOptions","click"],["routerLinkActive","active","routerLink","/history",3,"routerLinkActiveOptions","click"],["routerLinkActive","active","routerLink","/notifications",3,"routerLinkActiveOptions","click"],["routerLinkActive","active","routerLink","/favorite",3,"routerLinkActiveOptions","click"],["href","https://reach.link/Join_App","target","_blank"],["routerLinkActive","active","routerLink","/contact",3,"routerLinkActiveOptions","click"],[1,"cartcount"],["routerLink","/favorite",1,"mx-2"],[1,"fa-solid","fa-heart"],["routerLink","/notifications"],[1,"fa-solid","fa-bell"],[1,"d-none","d-lg-block","lang","position-relative","subparent","lang"],["dropdown","",1,"btn-group"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"username",2,"-webkit-user-select","none","/* safari */\n                    -ms-user-select","none","/* ie 10 and ie 11 */\n                    user-select","none"],[1,"caret"],["style","max-height: 90vh;overflow: auto;","id","dropdown-basic","class","dropdown-menu cstm","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","cstm",2,"max-height","90vh","overflow","auto"],["role","menuitem"],["src","assets/images/bg.jpg","alt","join",1,"w-100",2,"height","130px","object-fit","cover"],[1,"text-center","first"],[1,"maincolor","d-block"],[1,"text-secondary","d-block",2,"word-wrap","break-word"],["role","menuitem",1,"lang"],["routerLink","/profile"],[1,"fa-regular","fa-user","maincolor"],["routerLink","/history"],[1,"fa-regular","fa-clock","maincolor"],[1,"fa-solid","fa-bell","maincolor"],["routerLink","/favorite"],[1,"fa-solid","fa-heart","maincolor"],[1,"fa-solid","fa-headset","maincolor"],["routerLink","/contact"],[1,"fa-solid","fa-phone","maincolor"],[1,"fa-solid","fa-arrow-right-from-bracket","maincolor"],[1,"d-lg-none",2,"cursor","pointer"],[3,"click"],[1,"lang","signinbtn"],["routerLink","/auth/login",3,"click"],[1,"cstmpopup",3,"ngClass"],[1,"content"],[1,"fa-solid","fa-x",3,"ngStyle","click"],[3,"closefilterpopup"]],template:function(a,f){1&a&&(d.YNc(0,Ei,43,40,"nav",0),d.YNc(1,Uo,4,8,"div",1)),2&a&&(d.Q6J("ngIf",!f.hidenave),d.xp6(1),d.Q6J("ngIf",f.filterPopup))},directives:[ut.O5,W.yS,ut.PC,ut.mk,W.Od,Qe.TO,Qe.Mq,Qe.Hz,ut.sg,or],pipes:[Te.X$,ut.gd,ut.rS],styles:['.swiper-button-next,   .swiper-button-prev{background:#F89416!important;color:#fff!important;border-radius:50%!important;width:40px;height:40px;text-align:center;line-height:40px}  .swiper-button-next:after,   .swiper-button-prev:after{font-size:20px;font-weight:700}  .swiper-pagination-bullet-active{background-color:#f89416!important}  .dropdown-menu.cstm{inset:105% auto auto -270px!important;width:300px;padding:0!important;border-radius:0!important}  .dropdown-menu.store{min-width:400px}  .dropdown-menu.store a:hover{color:#00dcdc!important}  .custom-rtl .dropdown-menu.cstm{inset:105% -270px auto 0!important;width:300px;direction:rtl;text-align:right}  .accordion-toggle[aria-expanded=true]:after{font-family:"Font Awesome 5 Free";content:"\\f077";display:inline-block;padding-left:3px;vertical-align:middle;font-weight:900;position:absolute;color:#00dcdc;right:1rem;top:1rem}  .card{background-color:transparent;border:1px solid #e7e7e7;box-shadow:0 8px 16px #0000000d;margin-bottom:10px}  .card .btn.btn-link{width:90%;display:flex;justify-content:flex-start;font-size:small;text-align:left}  .card-header{border-bottom:none;background-color:transparent;padding:10px 0}  .accordion-toggle[aria-expanded=false]:after{font-family:"Font Awesome 5 Free";content:"\\f078";color:#00dcdc;display:inline-block;padding-left:3px;vertical-align:middle;font-weight:900;position:absolute;right:1rem;top:1rem}  .btn-link{font-weight:500;color:#000;text-decoration:none}  .btn.focus,   .btn:focus{box-shadow:none}  .btn-link:hover{color:#000;text-decoration:none}  .custom-rtl .accordion-toggle[aria-expanded=false]:after{left:1rem;right:auto}  .custom-rtl .accordion-toggle[aria-expanded=true]:after{left:1rem;right:auto}  .custom-rtl .card .btn.btn-link{text-align:right}  bs-datepicker-container,   bs-daterangepicker-container{z-index:11111111111111111000000}  bs-datepicker-container{top:-50%!important}.subparent[_ngcontent-%COMP%]:hover   .submenu[_ngcontent-%COMP%]{display:block}.subparent[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{max-height:70vh;overflow:auto;box-shadow:0 2px 12px #0000001a;border:1px solid #ebeef5;border-radius:10px;position:absolute;z-index:111;background:white;top:40px;width:200px;display:none}.subparent[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block}.additionicons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}']}),v})();function es(v,u){if(1&v&&(d.TgZ(0,"li"),d._UZ(1,"i",5),d.TgZ(2,"span",6),d._uU(3),d.ALo(4,"translate"),d.qZA()()),2&v){const a=u.$implicit;d.xp6(3),d.hij(" ",d.lcZ(4,1,a)," ")}}let kr=(()=>{class v{constructor(){this.h2="",this.p="",this.src=""}ngOnInit(){}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275cmp=d.Xpm({type:v,selectors:[["app-reusable-footer-cart"]],inputs:{h2:"h2",p:"p",src:"src",li:"li"},decls:11,vars:8,consts:[[1,"footerCart"],["alt","join",1,"mb-2",3,"src"],[2,"min-height","70px"],[1,"m-0","p-0","list-unstyled"],[4,"ngFor","ngForOf"],[1,"fa-solid","fa-circle-check"],[1,"mx-2"]],template:function(a,f){1&a&&(d.TgZ(0,"article",0),d._UZ(1,"img",1),d.TgZ(2,"h2"),d._uU(3),d.ALo(4,"translate"),d.qZA(),d.TgZ(5,"div",2)(6,"p"),d._uU(7),d.ALo(8,"translate"),d.qZA()(),d.TgZ(9,"ul",3),d.YNc(10,es,5,3,"li",4),d.qZA()()),2&a&&(d.xp6(1),d.Q6J("src",f.src,d.LSH),d.xp6(2),d.Oqu(d.lcZ(4,4,f.h2)),d.xp6(4),d.Oqu(d.lcZ(8,6,f.p)),d.xp6(3),d.Q6J("ngForOf",f.li))},directives:[ut.sg],pipes:[Te.X$],styles:[""]}),v})();function wo(v,u){if(1&v&&(d.TgZ(0,"div",6)(1,"div"),d._UZ(2,"app-reusable-footer-cart",38),d.qZA()()),2&v){const a=u.$implicit;d.xp6(2),d.Q6J("h2",a.h2)("p",a.p)("src",a.img)("li",a.li)}}function qs(v,u){1&v&&(d.ynx(0),d.TgZ(1,"li")(2,"a",39),d._uU(3),d.ALo(4,"translate"),d.qZA()(),d.BQk()),2&v&&(d.xp6(3),d.Oqu(d.lcZ(4,1,"wishlist")))}function Kr(v,u){if(1&v&&(d.TgZ(0,"footer",1)(1,"div",2)(2,"div",3)(3,"div",4),d.YNc(4,wo,3,4,"div",5),d.TgZ(5,"div",6)(6,"article",7),d._UZ(7,"img",8),d.TgZ(8,"h2"),d._uU(9),d.ALo(10,"translate"),d.qZA(),d.TgZ(11,"p",9),d._uU(12),d.ALo(13,"translate"),d.qZA(),d._UZ(14,"img",10)(15,"span",11)(16,"img",12),d.qZA()(),d.TgZ(17,"div",6)(18,"article"),d._UZ(19,"img",13),d.TgZ(20,"p",14),d._uU(21),d.ALo(22,"translate"),d.qZA()()(),d.TgZ(23,"div",6)(24,"article")(25,"h2"),d._uU(26),d.ALo(27,"translate"),d.qZA(),d.TgZ(28,"ul",15)(29,"li")(30,"a",16),d._uU(31),d.ALo(32,"translate"),d.qZA()(),d.TgZ(33,"li")(34,"a",17),d._uU(35),d.ALo(36,"translate"),d.qZA()(),d.TgZ(37,"li")(38,"a",18),d._uU(39),d.ALo(40,"translate"),d.qZA()(),d.YNc(41,qs,5,3,"ng-container",19),d.qZA()()(),d.TgZ(42,"div",6)(43,"article")(44,"h2"),d._uU(45),d.ALo(46,"translate"),d.qZA(),d.TgZ(47,"p",20),d._uU(48),d.ALo(49,"translate"),d.qZA(),d.TgZ(50,"ul",21)(51,"li"),d._uU(52),d.ALo(53,"translate"),d.qZA(),d.TgZ(54,"li"),d._uU(55),d.ALo(56,"translate"),d.qZA(),d.TgZ(57,"li"),d._uU(58),d.ALo(59,"translate"),d.qZA()(),d.TgZ(60,"p",22),d._UZ(61,"i",23),d._uU(62," 1881010"),d.qZA()()(),d.TgZ(63,"div",6)(64,"article")(65,"h2"),d._uU(66),d.ALo(67,"translate"),d.qZA(),d.TgZ(68,"ul",24)(69,"li")(70,"a",25),d._UZ(71,"i",26),d.qZA()(),d.TgZ(72,"li")(73,"a",27),d._UZ(74,"i",28),d.qZA()(),d.TgZ(75,"li")(76,"a",29),d._UZ(77,"i",30),d.qZA()()(),d.TgZ(78,"h2"),d._uU(79),d.ALo(80,"translate"),d.qZA(),d._UZ(81,"img",31),d.qZA()()()(),d.TgZ(82,"div",32)(83,"div",33)(84,"p",34),d._uU(85,"Copyright \xa9Join KUIT 2022"),d.qZA(),d.TgZ(86,"ul",35)(87,"li")(88,"a",36),d._uU(89),d.ALo(90,"translate"),d.qZA()(),d._UZ(91,"li",37),d.TgZ(92,"li")(93,"a",36),d._uU(94),d.ALo(95,"translate"),d.qZA()()()()()()()),2&v){const a=d.oxw();d.xp6(4),d.Q6J("ngForOf",a.footerCart),d.xp6(5),d.Oqu(d.lcZ(10,18,"Download_Center")),d.xp6(3),d.Oqu(d.lcZ(13,20,"Use_mobile_app_and_get_biggest_discounts")),d.xp6(9),d.Oqu(d.lcZ(22,22,"long")),d.xp6(5),d.Oqu(d.lcZ(27,24,"links")),d.xp6(5),d.Oqu(d.lcZ(32,26,"home")),d.xp6(4),d.Oqu(d.lcZ(36,28,"store")),d.xp6(4),d.Oqu(d.lcZ(40,30,"cart")),d.xp6(2),d.Q6J("ngIf",a.islogin()),d.xp6(4),d.Oqu(d.lcZ(46,32,"contactus")),d.xp6(3),d.Oqu(d.lcZ(49,34,"address")),d.xp6(4),d.hij("",d.lcZ(53,36,"email:")," info@royal_pharm.com"),d.xp6(3),d.hij("",d.lcZ(56,38,"tel")," 2930-3303-22"),d.xp6(3),d.hij("",d.lcZ(59,40,"fax")," (+202) 2268 1308"),d.xp6(8),d.Oqu(d.lcZ(67,42,"Follow_Us")),d.xp6(13),d.Oqu(d.lcZ(80,44,"Accepted_Payment_Methods")),d.xp6(10),d.hij(" ",d.lcZ(90,46,"privacy")," "),d.xp6(5),d.hij(" ",d.lcZ(95,48,"termsandconditions")," ")}}let Ys=(()=>{class v{constructor(a){this.glopalService=a,this.footerCart=[{h2:"Assured_Purchase",p:"Provide_genuine",img:"assets/images/car.53532650.svg",li:["100%_genuine_products","Deliver_items_at_door","Free_return_products"]},{h2:"Easy_To_Buy_Return",p:"Single_click_buy_return_products",img:"assets/images/money.2faef535.svg",li:["Same_day_delivery_available","Click_to_return_products","Quick_support_links_available"]},{h2:"Secure_Payments",p:"Accepts_all_credit_debit_cards",img:"assets/images/visa.daa9ad19.svg",li:["payment_security","Confirmation_authentity","Delivery_items_at_door"]}],this.hideFooter=!1}ngOnInit(){this.footerCart.length=3,this.glopalService.hideNavbarAndFooter.subscribe(a=>{this.hideFooter=a})}islogin(){return!!localStorage.getItem("joinToken")}}return v.\u0275fac=function(a){return new(a||v)(d.Y36(ht.W))},v.\u0275cmp=d.Xpm({type:v,selectors:[["app-footer"]],decls:1,vars:1,consts:[["style","background-image: url('assets/images/bg.jpg');","class","pt-5",4,"ngIf"],[1,"pt-5",2,"background-image","url('assets/images/bg.jpg')"],[2,"position","relative","z-index","111"],[1,"container"],[1,"row"],["class","col-md-6 col-lg-3 mb-5",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-3","mb-5"],[1,"footerCart"],["src","assets/images/download.90e934e8.svg","alt","join",1,"mb-2"],[2,"min-height","70px"],["src","assets/images/googleplay.png","alt","googleplay",2,"width","100px"],[1,"mx-1"],["src","assets/images/appstore.png","alt","googleplay",2,"width","100px"],["src","assets/images/footerjoin.svg","alt","join",2,"width","100px"],[1,"mt-3"],[1,"m-0","p-0","list-unstyled","links"],["routerLink","/"],["routerLink","/store"],["routerLink","/cart"],[4,"ngIf"],[1,"mb-4"],[1,"p-0","list-unstyled"],[1,"phone"],[1,"fa-solid","fa-phone"],[1,"mb-5","p-0","list-unstyled","socialmedia"],["target","_blank","href","https://www.facebook.com/justt.joinn/"],[1,"fa-brands","fa-square-facebook"],["target","_blank","href","https://twitter.com/join_app"],[1,"fa-brands","fa-square-twitter"],["target","_blank","href","https://www.snapchat.com/add/join.co"],[1,"fa-brands","fa-square-snapchat"],["src","assets/images/visa.svg","alt","join",1,"img-fluid"],[1,"orangeSection","text-white","py-3"],[1,"container","flex-column","flex-md-row","d-flex","justify-content-between","align-items-md-center"],[1,"m-0"],[1,"d-flex","list-unstyled","p-0","m-0"],["href",""],[1,"mx-2"],[3,"h2","p","src","li"],["routerLink","/favorite"]],template:function(a,f){1&a&&d.YNc(0,Kr,96,50,"footer",0),2&a&&d.Q6J("ngIf",!f.hideFooter)},directives:[ut.O5,ut.sg,kr,W.yS],pipes:[Te.X$],styles:[""]}),v})(),Ai=(()=>{class v{constructor(a,f,E,k){this.notficationsService=a,this.membersservice=f,this.homeService=E,this.authService=k}ngOnInit(){localStorage.getItem("joinToken")&&(this.notficationsService.getNotifications(),this.membersservice.getAllMembers(),this.authService.getUserProfile()),this.authService.getAllAreas(),this.homeService.getIntersts()}}return v.\u0275fac=function(a){return new(a||v)(d.Y36(te.T),d.Y36(ue.Z),d.Y36(ke.Y),d.Y36(lt.e))},v.\u0275cmp=d.Xpm({type:v,selectors:[["app-root"]],decls:3,vars:0,template:function(a,f){1&a&&d._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},directives:[aa,W.lC,Ys],styles:[""]}),v})();var U=x(40),ie=x(520);let V=(()=>{class v{intercept(a,f){let E=a.clone({setHeaders:{"auth-token":`${localStorage.getItem("joinToken")}`,Lang:localStorage.getItem("lang")||"en"}});return f.handle(E)}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac}),v})();var oe=x(1777);const Pe=!1;function Bt(v){return new d.vHH(3e3,Pe)}function To(){return"undefined"!=typeof window&&void 0!==window.document}function hs(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Rs(v){switch(v.length){case 0:return new oe.ZN;case 1:return v[0];default:return new oe.ZE(v)}}function Do(v,u,a,f,E={},k={}){const K=[],ye=[];let Fe=-1,ct=null;if(f.forEach(Rt=>{const dn=Rt.offset,xn=dn==Fe,Fn=xn&&ct||{};Object.keys(Rt).forEach(Vn=>{let $n=Vn,ki=Rt[Vn];if("offset"!==Vn)switch($n=u.normalizePropertyName($n,K),ki){case oe.k1:ki=E[Vn];break;case oe.l3:ki=k[Vn];break;default:ki=u.normalizeStyleValue(Vn,$n,ki,K)}Fn[$n]=ki}),xn||ye.push(Fn),ct=Fn,Fe=dn}),K.length)throw function Ia(v){return new d.vHH(3502,Pe)}();return ye}function xa(v,u,a,f){switch(u){case"start":v.onStart(()=>f(a&&ws(a,"start",v)));break;case"done":v.onDone(()=>f(a&&ws(a,"done",v)));break;case"destroy":v.onDestroy(()=>f(a&&ws(a,"destroy",v)))}}function ws(v,u,a){const f=a.totalTime,k=Oa(v.element,v.triggerName,v.fromState,v.toState,u||v.phaseName,null==f?v.totalTime:f,!!a.disabled),K=v._data;return null!=K&&(k._data=K),k}function Oa(v,u,a,f,E="",k=0,K){return{element:v,triggerName:u,fromState:a,toState:f,phaseName:E,totalTime:k,disabled:!!K}}function Dr(v,u,a){let f;return v instanceof Map?(f=v.get(u),f||v.set(u,f=a)):(f=v[u],f||(f=v[u]=a)),f}function fl(v){const u=v.indexOf(":");return[v.substring(1,u),v.substr(u+1)]}let Ma=(v,u)=>!1,Io=(v,u,a)=>[],jr=null;function ho(v){const u=v.parentNode||v.host;return u===jr?null:u}(hs()||"undefined"!=typeof Element)&&(To()?(jr=(()=>document.documentElement)(),Ma=(v,u)=>{for(;u;){if(u===v)return!0;u=ho(u)}return!1}):Ma=(v,u)=>v.contains(u),Io=(v,u,a)=>{if(a)return Array.from(v.querySelectorAll(u));const f=v.querySelector(u);return f?[f]:[]});let $o=null,Pa=!1;function fo(v){$o||($o=function Su(){return"undefined"!=typeof document?document.body:null}()||{},Pa=!!$o.style&&"WebkitAppearance"in $o.style);let u=!0;return $o.style&&!function jo(v){return"ebkit"==v.substring(1,6)}(v)&&(u=v in $o.style,!u&&Pa&&(u="Webkit"+v.charAt(0).toUpperCase()+v.substr(1)in $o.style)),u}const pl=Ma,ns=Io;let Yi=(()=>{class v{validateStyleProperty(a){return fo(a)}matchesElement(a,f){return!1}containsElement(a,f){return pl(a,f)}getParentElement(a){return ho(a)}query(a,f,E){return ns(a,f,E)}computeStyle(a,f,E){return E||""}animate(a,f,E,k,K,ye=[],Fe){return new oe.ZN(E,k)}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac}),v})(),Ja=(()=>{class v{}return v.NOOP=new Yi,v})();const po="ng-enter",go="ng-leave",is="ng-trigger",Zt=".ng-trigger",Wi="ng-animating",Zi=".ng-animating";function Ns(v){if("number"==typeof v)return v;const u=v.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:wn(parseFloat(u[1]),u[2])}function wn(v,u){return"s"===u?1e3*v:v}function Dn(v,u,a){return v.hasOwnProperty("duration")?v:function zo(v,u,a){let E,k=0,K="";if("string"==typeof v){const ye=v.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ye)return u.push(Bt()),{duration:0,delay:0,easing:""};E=wn(parseFloat(ye[1]),ye[2]);const Fe=ye[3];null!=Fe&&(k=wn(parseFloat(Fe),ye[4]));const ct=ye[5];ct&&(K=ct)}else E=v;if(!a){let ye=!1,Fe=u.length;E<0&&(u.push(function Cn(){return new d.vHH(3100,Pe)}()),ye=!0),k<0&&(u.push(function kn(){return new d.vHH(3101,Pe)}()),ye=!0),ye&&u.splice(Fe,0,Bt())}return{duration:E,delay:k,easing:K}}(v,u,a)}function sn(v,u={}){return Object.keys(v).forEach(a=>{u[a]=v[a]}),u}function Lt(v,u,a={}){if(u)for(let f in v)a[f]=v[f];else sn(v,a);return a}function ar(v,u,a){return a?u+":"+a+";":""}function Nl(v){let u="";for(let a=0;a<v.style.length;a++){const f=v.style.item(a);u+=ar(0,f,v.style.getPropertyValue(f))}for(const a in v.style)v.style.hasOwnProperty(a)&&!a.startsWith("_")&&(u+=ar(0,Wn(a),v.style[a]));v.setAttribute("style",u)}function mo(v,u,a){v.style&&(Object.keys(u).forEach(f=>{const E=Ri(f);a&&!a.hasOwnProperty(f)&&(a[f]=v.style[E]),v.style[E]=u[f]}),hs()&&Nl(v))}function Xa(v,u){v.style&&(Object.keys(u).forEach(a=>{const f=Ri(a);v.style[f]=""}),hs()&&Nl(v))}function qr(v){return Array.isArray(v)?1==v.length?v[0]:(0,oe.vP)(v):v}const Na=new RegExp("{{\\s*(.+?)\\s*}}","g");function ka(v){let u=[];if("string"==typeof v){let a;for(;a=Na.exec(v);)u.push(a[1]);Na.lastIndex=0}return u}function Wo(v,u,a){const f=v.toString(),E=f.replace(Na,(k,K)=>{let ye=u[K];return u.hasOwnProperty(K)||(a.push(function Hn(v){return new d.vHH(3003,Pe)}()),ye=""),ye.toString()});return E==f?v:E}function Zo(v){const u=[];let a=v.next();for(;!a.done;)u.push(a.value),a=v.next();return u}const Ql=/-+([a-z0-9])/g;function Ri(v){return v.replace(Ql,(...u)=>u[1].toUpperCase())}function Wn(v){return v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ti(v,u,a){switch(u.type){case 7:return v.visitTrigger(u,a);case 0:return v.visitState(u,a);case 1:return v.visitTransition(u,a);case 2:return v.visitSequence(u,a);case 3:return v.visitGroup(u,a);case 4:return v.visitAnimate(u,a);case 5:return v.visitKeyframes(u,a);case 6:return v.visitStyle(u,a);case 8:return v.visitReference(u,a);case 9:return v.visitAnimateChild(u,a);case 10:return v.visitAnimateRef(u,a);case 11:return v.visitQuery(u,a);case 12:return v.visitStagger(u,a);default:throw function ri(v){return new d.vHH(3004,Pe)}()}}function Un(v,u){return window.getComputedStyle(v)[u]}function xt(v,u){const a=[];return"string"==typeof v?v.split(/\s*,\s*/).forEach(f=>function mn(v,u,a){if(":"==v[0]){const Fe=function si(v,u){switch(v){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,f)=>parseFloat(f)>parseFloat(a);case":decrement":return(a,f)=>parseFloat(f)<parseFloat(a);default:return u.push(function Ht(v){return new d.vHH(3016,Pe)}()),"* => *"}}(v,a);if("function"==typeof Fe)return void u.push(Fe);v=Fe}const f=v.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==f||f.length<4)return a.push(function Da(v){return new d.vHH(3015,Pe)}()),u;const E=f[1],k=f[2],K=f[3];u.push(yi(E,K));"<"==k[0]&&!("*"==E&&"*"==K)&&u.push(yi(K,E))}(f,a,u)):a.push(v),a}const Tn=new Set(["true","1"]),ui=new Set(["false","0"]);function yi(v,u){const a=Tn.has(v)||ui.has(v),f=Tn.has(u)||ui.has(u);return(E,k)=>{let K="*"==v||v==E,ye="*"==u||u==k;return!K&&a&&"boolean"==typeof E&&(K=E?Tn.has(v):ui.has(v)),!ye&&f&&"boolean"==typeof k&&(ye=k?Tn.has(u):ui.has(u)),K&&ye}}const yo=new RegExp("s*:selfs*,?","g");function Ko(v,u,a,f){return new ks(v).build(u,a,f)}class ks{constructor(u){this._driver=u}build(u,a,f){const E=new Yr(a);this._resetContextStyleTimingState(E);const k=ti(this,qr(u),E);return E.unsupportedCSSPropertiesFound.size&&E.unsupportedCSSPropertiesFound.keys(),k}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles={},u.collectedStyles[""]={},u.currentTime=0}visitTrigger(u,a){let f=a.queryCount=0,E=a.depCount=0;const k=[],K=[];return"@"==u.name.charAt(0)&&a.errors.push(function Si(){return new d.vHH(3006,Pe)}()),u.definitions.forEach(ye=>{if(this._resetContextStyleTimingState(a),0==ye.type){const Fe=ye,ct=Fe.name;ct.toString().split(/\s*,\s*/).forEach(Rt=>{Fe.name=Rt,k.push(this.visitState(Fe,a))}),Fe.name=ct}else if(1==ye.type){const Fe=this.visitTransition(ye,a);f+=Fe.queryCount,E+=Fe.depCount,K.push(Fe)}else a.errors.push(function Di(){return new d.vHH(3007,Pe)}())}),{type:7,name:u.name,states:k,transitions:K,queryCount:f,depCount:E,options:null}}visitState(u,a){const f=this.visitStyle(u.styles,a),E=u.options&&u.options.params||null;if(f.containsDynamicStyles){const k=new Set,K=E||{};f.styles.forEach(ye=>{if(Va(ye)){const Fe=ye;Object.keys(Fe).forEach(ct=>{ka(Fe[ct]).forEach(Rt=>{K.hasOwnProperty(Rt)||k.add(Rt)})})}}),k.size&&(Zo(k.values()),a.errors.push(function H(v,u){return new d.vHH(3008,Pe)}()))}return{type:0,name:u.name,style:f,options:E?{params:E}:null}}visitTransition(u,a){a.queryCount=0,a.depCount=0;const f=ti(this,qr(u.animation),a);return{type:1,matchers:xt(u.expr,a.errors),animation:f,queryCount:a.queryCount,depCount:a.depCount,options:$r(u.options)}}visitSequence(u,a){return{type:2,steps:u.steps.map(f=>ti(this,f,a)),options:$r(u.options)}}visitGroup(u,a){const f=a.currentTime;let E=0;const k=u.steps.map(K=>{a.currentTime=f;const ye=ti(this,K,a);return E=Math.max(E,a.currentTime),ye});return a.currentTime=E,{type:3,steps:k,options:$r(u.options)}}visitAnimate(u,a){const f=function Ao(v,u){if(v.hasOwnProperty("duration"))return v;if("number"==typeof v)return ua(Dn(v,u).duration,0,"");const a=v;if(a.split(/\s+/).some(k=>"{"==k.charAt(0)&&"{"==k.charAt(1))){const k=ua(0,0,"");return k.dynamic=!0,k.strValue=a,k}const E=Dn(a,u);return ua(E.duration,E.delay,E.easing)}(u.timings,a.errors);a.currentAnimateTimings=f;let E,k=u.styles?u.styles:(0,oe.oB)({});if(5==k.type)E=this.visitKeyframes(k,a);else{let K=u.styles,ye=!1;if(!K){ye=!0;const ct={};f.easing&&(ct.easing=f.easing),K=(0,oe.oB)(ct)}a.currentTime+=f.duration+f.delay;const Fe=this.visitStyle(K,a);Fe.isEmptyStep=ye,E=Fe}return a.currentAnimateTimings=null,{type:4,timings:f,style:E,options:null}}visitStyle(u,a){const f=this._makeStyleAst(u,a);return this._validateStyleAst(f,a),f}_makeStyleAst(u,a){const f=[];Array.isArray(u.styles)?u.styles.forEach(K=>{"string"==typeof K?K==oe.l3?f.push(K):a.errors.push(function N(v){return new d.vHH(3002,Pe)}()):f.push(K)}):f.push(u.styles);let E=!1,k=null;return f.forEach(K=>{if(Va(K)){const ye=K,Fe=ye.easing;if(Fe&&(k=Fe,delete ye.easing),!E)for(let ct in ye)if(ye[ct].toString().indexOf("{{")>=0){E=!0;break}}}),{type:6,styles:f,easing:k,offset:u.offset,containsDynamicStyles:E,options:null}}_validateStyleAst(u,a){const f=a.currentAnimateTimings;let E=a.currentTime,k=a.currentTime;f&&k>0&&(k-=f.duration+f.delay),u.styles.forEach(K=>{"string"!=typeof K&&Object.keys(K).forEach(ye=>{if(!this._driver.validateStyleProperty(ye))return delete K[ye],void a.unsupportedCSSPropertiesFound.add(ye);const Fe=a.collectedStyles[a.currentQuerySelector],ct=Fe[ye];let Rt=!0;ct&&(k!=E&&k>=ct.startTime&&E<=ct.endTime&&(a.errors.push(function se(v,u,a,f,E){return new d.vHH(3010,Pe)}()),Rt=!1),k=ct.startTime),Rt&&(Fe[ye]={startTime:k,endTime:E}),a.options&&function kl(v,u,a){const f=u.params||{},E=ka(v);E.length&&E.forEach(k=>{f.hasOwnProperty(k)||a.push(function ai(v){return new d.vHH(3001,Pe)}())})}(K[ye],a.options,a.errors)})})}visitKeyframes(u,a){const f={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function At(){return new d.vHH(3011,Pe)}()),f;let k=0;const K=[];let ye=!1,Fe=!1,ct=0;const Rt=u.steps.map(fr=>{const pr=this._makeStyleAst(fr,a);let nr=null!=pr.offset?pr.offset:function Js(v){if("string"==typeof v)return null;let u=null;if(Array.isArray(v))v.forEach(a=>{if(Va(a)&&a.hasOwnProperty("offset")){const f=a;u=parseFloat(f.offset),delete f.offset}});else if(Va(v)&&v.hasOwnProperty("offset")){const a=v;u=parseFloat(a.offset),delete a.offset}return u}(pr.styles),ci=0;return null!=nr&&(k++,ci=pr.offset=nr),Fe=Fe||ci<0||ci>1,ye=ye||ci<ct,ct=ci,K.push(ci),pr});Fe&&a.errors.push(function En(){return new d.vHH(3012,Pe)}()),ye&&a.errors.push(function wi(){return new d.vHH(3200,Pe)}());const dn=u.steps.length;let xn=0;k>0&&k<dn?a.errors.push(function Es(){return new d.vHH(3202,Pe)}()):0==k&&(xn=1/(dn-1));const Fn=dn-1,Vn=a.currentTime,$n=a.currentAnimateTimings,ki=$n.duration;return Rt.forEach((fr,pr)=>{const nr=xn>0?pr==Fn?1:xn*pr:K[pr],ci=nr*ki;a.currentTime=Vn+$n.delay+ci,$n.duration=ci,this._validateStyleAst(fr,a),fr.offset=nr,f.styles.push(fr)}),f}visitReference(u,a){return{type:8,animation:ti(this,qr(u.animation),a),options:$r(u.options)}}visitAnimateChild(u,a){return a.depCount++,{type:9,options:$r(u.options)}}visitAnimateRef(u,a){return{type:10,animation:this.visitReference(u.animation,a),options:$r(u.options)}}visitQuery(u,a){const f=a.currentQuerySelector,E=u.options||{};a.queryCount++,a.currentQuery=u;const[k,K]=function Fa(v){const u=!!v.split(/\s*,\s*/).find(a=>":self"==a);return u&&(v=v.replace(yo,"")),v=v.replace(/@\*/g,Zt).replace(/@\w+/g,a=>Zt+"-"+a.substr(1)).replace(/:animating/g,Zi),[v,u]}(u.selector);a.currentQuerySelector=f.length?f+" "+k:k,Dr(a.collectedStyles,a.currentQuerySelector,{});const ye=ti(this,qr(u.animation),a);return a.currentQuery=null,a.currentQuerySelector=f,{type:11,selector:k,limit:E.limit||0,optional:!!E.optional,includeSelf:K,animation:ye,originalSelector:u.selector,options:$r(u.options)}}visitStagger(u,a){a.currentQuery||a.errors.push(function ts(){return new d.vHH(3013,Pe)}());const f="full"===u.timings?{duration:0,delay:0,easing:"full"}:Dn(u.timings,a.errors,!0);return{type:12,animation:ti(this,qr(u.animation),a),timings:f,options:null}}}class Yr{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Va(v){return!Array.isArray(v)&&"object"==typeof v}function $r(v){return v?(v=sn(v)).params&&(v.params=function yt(v){return v?sn(v):null}(v.params)):v={},v}function ua(v,u,a){return{duration:v,delay:u,easing:a}}function lr(v,u,a,f,E,k,K=null,ye=!1){return{type:1,element:v,keyframes:u,preStyleProps:a,postStyleProps:f,duration:E,delay:k,totalTime:E+k,easing:K,subTimeline:ye}}class Ua{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,a){let f=this._map.get(u);f||this._map.set(u,f=[]),f.push(...a)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const Xl=new RegExp(":enter","g"),yr=new RegExp(":leave","g");function ca(v,u,a,f,E,k={},K={},ye,Fe,ct=[]){return(new xu).buildKeyframes(v,u,a,f,E,k,K,ye,Fe,ct)}class xu{buildKeyframes(u,a,f,E,k,K,ye,Fe,ct,Rt=[]){ct=ct||new Ua;const dn=new Ll(u,a,ct,E,k,Rt,[]);dn.options=Fe,dn.currentTimeline.setStyles([K],null,dn.errors,Fe),ti(this,f,dn);const xn=dn.timelines.filter(Fn=>Fn.containsAnimation());if(Object.keys(ye).length){let Fn;for(let Vn=xn.length-1;Vn>=0;Vn--){const $n=xn[Vn];if($n.element===a){Fn=$n;break}}Fn&&!Fn.allowOnlyTimelineStyles()&&Fn.setStyles([ye],null,dn.errors,Fe)}return xn.length?xn.map(Fn=>Fn.buildKeyframes()):[lr(a,[],[],[],0,0,"",!1)]}visitTrigger(u,a){}visitState(u,a){}visitTransition(u,a){}visitAnimateChild(u,a){const f=a.subInstructions.get(a.element);if(f){const E=a.createSubContext(u.options),k=a.currentTimeline.currentTime,K=this._visitSubInstructions(f,E,E.options);k!=K&&a.transformIntoNewTimeline(K)}a.previousNode=u}visitAnimateRef(u,a){const f=a.createSubContext(u.options);f.transformIntoNewTimeline(),this.visitReference(u.animation,f),a.transformIntoNewTimeline(f.currentTimeline.currentTime),a.previousNode=u}_visitSubInstructions(u,a,f){let k=a.currentTimeline.currentTime;const K=null!=f.duration?Ns(f.duration):null,ye=null!=f.delay?Ns(f.delay):null;return 0!==K&&u.forEach(Fe=>{const ct=a.appendInstructionToTimeline(Fe,K,ye);k=Math.max(k,ct.duration+ct.delay)}),k}visitReference(u,a){a.updateOptions(u.options,!0),ti(this,u.animation,a),a.previousNode=u}visitSequence(u,a){const f=a.subContextCount;let E=a;const k=u.options;if(k&&(k.params||k.delay)&&(E=a.createSubContext(k),E.transformIntoNewTimeline(),null!=k.delay)){6==E.previousNode.type&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=vr);const K=Ns(k.delay);E.delayNextStep(K)}u.steps.length&&(u.steps.forEach(K=>ti(this,K,E)),E.currentTimeline.applyStylesToKeyframe(),E.subContextCount>f&&E.transformIntoNewTimeline()),a.previousNode=u}visitGroup(u,a){const f=[];let E=a.currentTimeline.currentTime;const k=u.options&&u.options.delay?Ns(u.options.delay):0;u.steps.forEach(K=>{const ye=a.createSubContext(u.options);k&&ye.delayNextStep(k),ti(this,K,ye),E=Math.max(E,ye.currentTimeline.currentTime),f.push(ye.currentTimeline)}),f.forEach(K=>a.currentTimeline.mergeTimelineCollectedStyles(K)),a.transformIntoNewTimeline(E),a.previousNode=u}_visitTiming(u,a){if(u.dynamic){const f=u.strValue;return Dn(a.params?Wo(f,a.params,a.errors):f,a.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,a){const f=a.currentAnimateTimings=this._visitTiming(u.timings,a),E=a.currentTimeline;f.delay&&(a.incrementTime(f.delay),E.snapshotCurrentStyles());const k=u.style;5==k.type?this.visitKeyframes(k,a):(a.incrementTime(f.duration),this.visitStyle(k,a),E.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=u}visitStyle(u,a){const f=a.currentTimeline,E=a.currentAnimateTimings;!E&&f.getCurrentStyleProperties().length&&f.forwardFrame();const k=E&&E.easing||u.easing;u.isEmptyStep?f.applyEmptyStep(k):f.setStyles(u.styles,k,a.errors,a.options),a.previousNode=u}visitKeyframes(u,a){const f=a.currentAnimateTimings,E=a.currentTimeline.duration,k=f.duration,ye=a.createSubContext().currentTimeline;ye.easing=f.easing,u.styles.forEach(Fe=>{ye.forwardTime((Fe.offset||0)*k),ye.setStyles(Fe.styles,Fe.easing,a.errors,a.options),ye.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(ye),a.transformIntoNewTimeline(E+k),a.previousNode=u}visitQuery(u,a){const f=a.currentTimeline.currentTime,E=u.options||{},k=E.delay?Ns(E.delay):0;k&&(6===a.previousNode.type||0==f&&a.currentTimeline.getCurrentStyleProperties().length)&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=vr);let K=f;const ye=a.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!E.optional,a.errors);a.currentQueryTotal=ye.length;let Fe=null;ye.forEach((ct,Rt)=>{a.currentQueryIndex=Rt;const dn=a.createSubContext(u.options,ct);k&&dn.delayNextStep(k),ct===a.element&&(Fe=dn.currentTimeline),ti(this,u.animation,dn),dn.currentTimeline.applyStylesToKeyframe(),K=Math.max(K,dn.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(K),Fe&&(a.currentTimeline.mergeTimelineCollectedStyles(Fe),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=u}visitStagger(u,a){const f=a.parentContext,E=a.currentTimeline,k=u.timings,K=Math.abs(k.duration),ye=K*(a.currentQueryTotal-1);let Fe=K*a.currentQueryIndex;switch(k.duration<0?"reverse":k.easing){case"reverse":Fe=ye-Fe;break;case"full":Fe=f.currentStaggerTime}const Rt=a.currentTimeline;Fe&&Rt.delayNextStep(Fe);const dn=Rt.currentTime;ti(this,u.animation,a),a.previousNode=u,f.currentStaggerTime=E.currentTime-dn+(E.startTime-f.currentTimeline.startTime)}}const vr={};class Ll{constructor(u,a,f,E,k,K,ye,Fe){this._driver=u,this.element=a,this.subInstructions=f,this._enterClassName=E,this._leaveClassName=k,this.errors=K,this.timelines=ye,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Fe||new rs(this._driver,a,0),ye.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,a){if(!u)return;const f=u;let E=this.options;null!=f.duration&&(E.duration=Ns(f.duration)),null!=f.delay&&(E.delay=Ns(f.delay));const k=f.params;if(k){let K=E.params;K||(K=this.options.params={}),Object.keys(k).forEach(ye=>{(!a||!K.hasOwnProperty(ye))&&(K[ye]=Wo(k[ye],K,this.errors))})}}_copyOptions(){const u={};if(this.options){const a=this.options.params;if(a){const f=u.params={};Object.keys(a).forEach(E=>{f[E]=a[E]})}}return u}createSubContext(u=null,a,f){const E=a||this.element,k=new Ll(this._driver,E,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(E,f||0));return k.previousNode=this.previousNode,k.currentAnimateTimings=this.currentAnimateTimings,k.options=this._copyOptions(),k.updateOptions(u),k.currentQueryIndex=this.currentQueryIndex,k.currentQueryTotal=this.currentQueryTotal,k.parentContext=this,this.subContextCount++,k}transformIntoNewTimeline(u){return this.previousNode=vr,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,a,f){const E={duration:null!=a?a:u.duration,delay:this.currentTimeline.currentTime+(null!=f?f:0)+u.delay,easing:""},k=new tr(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,E,u.stretchStartingKeyframe);return this.timelines.push(k),E}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,a,f,E,k,K){let ye=[];if(E&&ye.push(this.element),u.length>0){u=(u=u.replace(Xl,"."+this._enterClassName)).replace(yr,"."+this._leaveClassName);let ct=this._driver.query(this.element,u,1!=f);0!==f&&(ct=f<0?ct.slice(ct.length+f,ct.length):ct.slice(0,f)),ye.push(...ct)}return!k&&0==ye.length&&K.push(function Bo(v){return new d.vHH(3014,Pe)}()),ye}}class rs{constructor(u,a,f,E){this._driver=u,this.element=a,this.startTime=f,this._elementTimelineStylesLookup=E,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const a=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||a?(this.forwardTime(this.currentTime+u),a&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,a){return this.applyStylesToKeyframe(),new rs(this._driver,u,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,a){this._localTimelineStyles[u]=a,this._globalTimelineStyles[u]=a,this._styleSummary[u]={time:this.currentTime,value:a}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&(this._previousKeyframe.easing=u),Object.keys(this._globalTimelineStyles).forEach(a=>{this._backFill[a]=this._globalTimelineStyles[a]||oe.l3,this._currentKeyframe[a]=oe.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,a,f,E){a&&(this._previousKeyframe.easing=a);const k=E&&E.params||{},K=function vo(v,u){const a={};let f;return v.forEach(E=>{"*"===E?(f=f||Object.keys(u),f.forEach(k=>{a[k]=oe.l3})):Lt(E,!1,a)}),a}(u,this._globalTimelineStyles);Object.keys(K).forEach(ye=>{const Fe=Wo(K[ye],k,f);this._pendingStyles[ye]=Fe,this._localTimelineStyles.hasOwnProperty(ye)||(this._backFill[ye]=this._globalTimelineStyles.hasOwnProperty(ye)?this._globalTimelineStyles[ye]:oe.l3),this._updateStyle(ye,Fe)})}applyStylesToKeyframe(){const u=this._pendingStyles,a=Object.keys(u);0!=a.length&&(this._pendingStyles={},a.forEach(f=>{this._currentKeyframe[f]=u[f]}),Object.keys(this._localTimelineStyles).forEach(f=>{this._currentKeyframe.hasOwnProperty(f)||(this._currentKeyframe[f]=this._localTimelineStyles[f])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(u=>{const a=this._localTimelineStyles[u];this._pendingStyles[u]=a,this._updateStyle(u,a)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let a in this._currentKeyframe)u.push(a);return u}mergeTimelineCollectedStyles(u){Object.keys(u._styleSummary).forEach(a=>{const f=this._styleSummary[a],E=u._styleSummary[a];(!f||E.time>f.time)&&this._updateStyle(a,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,a=new Set,f=1===this._keyframes.size&&0===this.duration;let E=[];this._keyframes.forEach((ye,Fe)=>{const ct=Lt(ye,!0);Object.keys(ct).forEach(Rt=>{const dn=ct[Rt];dn==oe.k1?u.add(Rt):dn==oe.l3&&a.add(Rt)}),f||(ct.offset=Fe/this.duration),E.push(ct)});const k=u.size?Zo(u.values()):[],K=a.size?Zo(a.values()):[];if(f){const ye=E[0],Fe=sn(ye);ye.offset=0,Fe.offset=1,E=[ye,Fe]}return lr(this.element,E,k,K,this.duration,this.startTime,this.easing,!1)}}class tr extends rs{constructor(u,a,f,E,k,K,ye=!1){super(u,a,K.delay),this.keyframes=f,this.preStyleProps=E,this.postStyleProps=k,this._stretchStartingKeyframe=ye,this.timings={duration:K.duration,delay:K.delay,easing:K.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:a,duration:f,easing:E}=this.timings;if(this._stretchStartingKeyframe&&a){const k=[],K=f+a,ye=a/K,Fe=Lt(u[0],!1);Fe.offset=0,k.push(Fe);const ct=Lt(u[0],!1);ct.offset=Dc(ye),k.push(ct);const Rt=u.length-1;for(let dn=1;dn<=Rt;dn++){let xn=Lt(u[dn],!1);xn.offset=Dc((a+xn.offset*f)/K),k.push(xn)}f=K,a=0,E="",u=k}return lr(this.element,u,this.preStyleProps,this.postStyleProps,f,a,E,!0)}}function Dc(v,u=3){const a=Math.pow(10,u-1);return Math.round(v*a)/a}class cr{}class el extends cr{normalizePropertyName(u,a){return Ri(u)}normalizeStyleValue(u,a,f,E){let k="";const K=f.toString().trim();if(tl[a]&&0!==f&&"0"!==f)if("number"==typeof f)k="px";else{const ye=f.match(/^[+-]?[\d\.]+([a-z]*)$/);ye&&0==ye[1].length&&E.push(function zi(v,u){return new d.vHH(3005,Pe)}())}return K+k}}const tl=(()=>function dr(v){const u={};return v.forEach(a=>u[a]=!0),u}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ir(v,u,a,f,E,k,K,ye,Fe,ct,Rt,dn,xn){return{type:0,element:v,triggerName:u,isRemovalTransition:E,fromState:a,fromStyles:k,toState:f,toStyles:K,timelines:ye,queriedElements:Fe,preStyleProps:ct,postStyleProps:Rt,totalTime:dn,errors:xn}}const Cs={};class eu{constructor(u,a,f){this._triggerName=u,this.ast=a,this._stateStyles=f}match(u,a,f,E){return function Yo(v,u,a,f,E){return v.some(k=>k(u,a,f,E))}(this.ast.matchers,u,a,f,E)}buildStyles(u,a,f){const E=this._stateStyles["*"],k=this._stateStyles[u],K=E?E.buildStyles(a,f):{};return k?k.buildStyles(a,f):K}build(u,a,f,E,k,K,ye,Fe,ct,Rt){const dn=[],xn=this.ast.options&&this.ast.options.params||Cs,Vn=this.buildStyles(f,ye&&ye.params||Cs,dn),$n=Fe&&Fe.params||Cs,ki=this.buildStyles(E,$n,dn),fr=new Set,pr=new Map,nr=new Map,ci="void"===E,ir={params:Object.assign(Object.assign({},xn),$n)},gr=Rt?[]:ca(u,a,this.ast.animation,k,K,Vn,ki,ir,ct,dn);let Fr=0;if(gr.forEach(Za=>{Fr=Math.max(Za.duration+Za.delay,Fr)}),dn.length)return Ir(a,this._triggerName,f,E,ci,Vn,ki,[],[],pr,nr,Fr,dn);gr.forEach(Za=>{const Ka=Za.element,Xc=Dr(pr,Ka,{});Za.preStyleProps.forEach(Wl=>Xc[Wl]=!0);const Yu=Dr(nr,Ka,{});Za.postStyleProps.forEach(Wl=>Yu[Wl]=!0),Ka!==a&&fr.add(Ka)});const dl=Zo(fr.values());return Ir(a,this._triggerName,f,E,ci,Vn,ki,gr,dl,pr,nr,Fr)}}class nl{constructor(u,a,f){this.styles=u,this.defaultParams=a,this.normalizer=f}buildStyles(u,a){const f={},E=sn(this.defaultParams);return Object.keys(u).forEach(k=>{const K=u[k];null!=K&&(E[k]=K)}),this.styles.styles.forEach(k=>{if("string"!=typeof k){const K=k;Object.keys(K).forEach(ye=>{let Fe=K[ye];Fe.length>1&&(Fe=Wo(Fe,E,a));const ct=this.normalizer.normalizePropertyName(ye,a);Fe=this.normalizer.normalizeStyleValue(ye,ct,Fe,a),f[ct]=Fe})}}),f}}class da{constructor(u,a,f){this.name=u,this.ast=a,this._normalizer=f,this.transitionFactories=[],this.states={},a.states.forEach(E=>{this.states[E.name]=new nl(E.style,E.options&&E.options.params||{},f)}),tu(this.states,"true","1"),tu(this.states,"false","0"),a.transitions.forEach(E=>{this.transitionFactories.push(new eu(u,E,this.states))}),this.fallbackTransition=function il(v,u,a){return new eu(v,{type:1,animation:{type:2,steps:[],options:null},matchers:[(K,ye)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,a,f,E){return this.transitionFactories.find(K=>K.match(u,a,f,E))||null}matchStyles(u,a,f){return this.fallbackTransition.buildStyles(u,a,f)}}function tu(v,u,a){v.hasOwnProperty(u)?v.hasOwnProperty(a)||(v[a]=v[u]):v.hasOwnProperty(a)&&(v[u]=v[a])}const ha=new Ua;class fa{constructor(u,a,f){this.bodyNode=u,this._driver=a,this._normalizer=f,this._animations={},this._playersById={},this.players=[]}register(u,a){const f=[],k=Ko(this._driver,a,f,[]);if(f.length)throw function Co(v){return new d.vHH(3503,Pe)}();this._animations[u]=k}_buildPlayer(u,a,f){const E=u.element,k=Do(0,this._normalizer,0,u.keyframes,a,f);return this._driver.animate(E,k,u.duration,u.delay,u.easing,[],!0)}create(u,a,f={}){const E=[],k=this._animations[u];let K;const ye=new Map;if(k?(K=ca(this._driver,a,k,po,go,{},{},f,ha,E),K.forEach(Rt=>{const dn=Dr(ye,Rt.element,{});Rt.postStyleProps.forEach(xn=>dn[xn]=null)})):(E.push(function Ps(){return new d.vHH(3300,Pe)}()),K=[]),E.length)throw function Aa(v){return new d.vHH(3504,Pe)}();ye.forEach((Rt,dn)=>{Object.keys(Rt).forEach(xn=>{Rt[xn]=this._driver.computeStyle(dn,xn,oe.l3)})});const ct=Rs(K.map(Rt=>{const dn=ye.get(Rt.element);return this._buildPlayer(Rt,{},dn)}));return this._playersById[u]=ct,ct.onDestroy(()=>this.destroy(u)),this.players.push(ct),ct}destroy(u){const a=this._getPlayer(u);a.destroy(),delete this._playersById[u];const f=this.players.indexOf(a);f>=0&&this.players.splice(f,1)}_getPlayer(u){const a=this._playersById[u];if(!a)throw function Sa(v){return new d.vHH(3301,Pe)}();return a}listen(u,a,f,E){const k=Oa(a,"","","");return xa(this._getPlayer(u),f,k,E),()=>{}}command(u,a,f,E){if("register"==f)return void this.register(u,E[0]);if("create"==f)return void this.create(u,a,E[0]||{});const k=this._getPlayer(u);switch(f){case"play":k.play();break;case"pause":k.pause();break;case"reset":k.reset();break;case"restart":k.restart();break;case"finish":k.finish();break;case"init":k.init();break;case"setPosition":k.setPosition(parseFloat(E[0]));break;case"destroy":this.destroy(u)}}}const Gr="ng-animate-queued",xo="ng-animate-disabled",nu=[],Qo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ar="__ng_removed";class ga{constructor(u,a=""){this.namespaceId=a;const f=u&&u.hasOwnProperty("value");if(this.value=function ic(v){return null!=v?v:null}(f?u.value:u),f){const k=sn(u);delete k.value,this.options=k}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(u){const a=u.params;if(a){const f=this.options.params;Object.keys(a).forEach(E=>{null==f[E]&&(f[E]=a[E])})}}}const Ls="void",Ba=new ga(Ls);class Vl{constructor(u,a,f){this.id=u,this.hostElement=a,this._engine=f,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,dt(a,this._hostClassName)}listen(u,a,f,E){if(!this._triggers.hasOwnProperty(a))throw function Ml(v,u){return new d.vHH(3302,Pe)}();if(null==f||0==f.length)throw function Pl(v){return new d.vHH(3303,Pe)}();if(!function B(v){return"start"==v||"done"==v}(f))throw function Rl(v,u){return new d.vHH(3400,Pe)}();const k=Dr(this._elementListeners,u,[]),K={name:a,phase:f,callback:E};k.push(K);const ye=Dr(this._engine.statesByElement,u,{});return ye.hasOwnProperty(a)||(dt(u,is),dt(u,is+"-"+a),ye[a]=Ba),()=>{this._engine.afterFlush(()=>{const Fe=k.indexOf(K);Fe>=0&&k.splice(Fe,1),this._triggers[a]||delete ye[a]})}}register(u,a){return!this._triggers[u]&&(this._triggers[u]=a,!0)}_getTrigger(u){const a=this._triggers[u];if(!a)throw function uo(v){return new d.vHH(3401,Pe)}();return a}trigger(u,a,f,E=!0){const k=this._getTrigger(a),K=new rl(this.id,a,u);let ye=this._engine.statesByElement.get(u);ye||(dt(u,is),dt(u,is+"-"+a),this._engine.statesByElement.set(u,ye={}));let Fe=ye[a];const ct=new ga(f,this.id);if(!(f&&f.hasOwnProperty("value"))&&Fe&&ct.absorbOptions(Fe.options),ye[a]=ct,Fe||(Fe=Ba),ct.value!==Ls&&Fe.value===ct.value){if(!function Jn(v,u){const a=Object.keys(v),f=Object.keys(u);if(a.length!=f.length)return!1;for(let E=0;E<a.length;E++){const k=a[E];if(!u.hasOwnProperty(k)||v[k]!==u[k])return!1}return!0}(Fe.params,ct.params)){const $n=[],ki=k.matchStyles(Fe.value,Fe.params,$n),fr=k.matchStyles(ct.value,ct.params,$n);$n.length?this._engine.reportError($n):this._engine.afterFlush(()=>{Xa(u,ki),mo(u,fr)})}return}const xn=Dr(this._engine.playersByElement,u,[]);xn.forEach($n=>{$n.namespaceId==this.id&&$n.triggerName==a&&$n.queued&&$n.destroy()});let Fn=k.matchTransition(Fe.value,ct.value,u,ct.params),Vn=!1;if(!Fn){if(!E)return;Fn=k.fallbackTransition,Vn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:a,transition:Fn,fromState:Fe,toState:ct,player:K,isFallbackTransition:Vn}),Vn||(dt(u,Gr),K.onStart(()=>{$t(u,Gr)})),K.onDone(()=>{let $n=this.players.indexOf(K);$n>=0&&this.players.splice($n,1);const ki=this._engine.playersByElement.get(u);if(ki){let fr=ki.indexOf(K);fr>=0&&ki.splice(fr,1)}}),this.players.push(K),xn.push(K),K}deregister(u){delete this._triggers[u],this._engine.statesByElement.forEach((a,f)=>{delete a[u]}),this._elementListeners.forEach((a,f)=>{this._elementListeners.set(f,a.filter(E=>E.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const a=this._engine.playersByElement.get(u);a&&(a.forEach(f=>f.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,a){const f=this._engine.driver.query(u,Zt,!0);f.forEach(E=>{if(E[Ar])return;const k=this._engine.fetchNamespacesByElement(E);k.size?k.forEach(K=>K.triggerLeaveAnimation(E,a,!1,!0)):this.clearElementCache(E)}),this._engine.afterFlushAnimationsDone(()=>f.forEach(E=>this.clearElementCache(E)))}triggerLeaveAnimation(u,a,f,E){const k=this._engine.statesByElement.get(u),K=new Map;if(k){const ye=[];if(Object.keys(k).forEach(Fe=>{if(K.set(Fe,k[Fe].value),this._triggers[Fe]){const ct=this.trigger(u,Fe,Ls,E);ct&&ye.push(ct)}}),ye.length)return this._engine.markElementAsRemoved(this.id,u,!0,a,K),f&&Rs(ye).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const a=this._elementListeners.get(u),f=this._engine.statesByElement.get(u);if(a&&f){const E=new Set;a.forEach(k=>{const K=k.name;if(E.has(K))return;E.add(K);const Fe=this._triggers[K].fallbackTransition,ct=f[K]||Ba,Rt=new ga(Ls),dn=new rl(this.id,K,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:K,transition:Fe,fromState:ct,toState:Rt,player:dn,isFallbackTransition:!0})})}}removeNode(u,a){const f=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,a),this.triggerLeaveAnimation(u,a,!0))return;let E=!1;if(f.totalAnimations){const k=f.players.length?f.playersByQueriedElement.get(u):[];if(k&&k.length)E=!0;else{let K=u;for(;K=K.parentNode;)if(f.statesByElement.get(K)){E=!0;break}}}if(this.prepareLeaveAnimationListeners(u),E)f.markElementAsRemoved(this.id,u,!1,a);else{const k=u[Ar];(!k||k===Qo)&&(f.afterFlush(()=>this.clearElementCache(u)),f.destroyInnerAnimations(u),f._onRemovalComplete(u,a))}}insertNode(u,a){dt(u,this._hostClassName)}drainQueuedTransitions(u){const a=[];return this._queue.forEach(f=>{const E=f.player;if(E.destroyed)return;const k=f.element,K=this._elementListeners.get(k);K&&K.forEach(ye=>{if(ye.name==f.triggerName){const Fe=Oa(k,f.triggerName,f.fromState.value,f.toState.value);Fe._data=u,xa(f.player,ye.phase,Fe,ye.callback)}}),E.markedForDestroy?this._engine.afterFlush(()=>{E.destroy()}):a.push(f)}),this._queue=[],a.sort((f,E)=>{const k=f.transition.ast.depCount,K=E.transition.ast.depCount;return 0==k||0==K?k-K:this._engine.driver.containsElement(f.element,E.element)?1:-1})}destroy(u){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}elementContainsData(u){let a=!1;return this._elementListeners.has(u)&&(a=!0),a=!!this._queue.find(f=>f.element===u)||a,a}}class ma{constructor(u,a,f){this.bodyNode=u,this.driver=a,this._normalizer=f,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(E,k)=>{}}_onRemovalComplete(u,a){this.onRemovalComplete(u,a)}get queuedPlayers(){const u=[];return this._namespaceList.forEach(a=>{a.players.forEach(f=>{f.queued&&u.push(f)})}),u}createNamespace(u,a){const f=new Vl(u,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(f,a):(this.newHostElements.set(a,f),this.collectEnterElement(a)),this._namespaceLookup[u]=f}_balanceNamespaceList(u,a){const f=this._namespaceList,E=this.namespacesByHostElement,k=f.length-1;if(k>=0){let K=!1;if(void 0!==this.driver.getParentElement){let ye=this.driver.getParentElement(a);for(;ye;){const Fe=E.get(ye);if(Fe){const ct=f.indexOf(Fe);f.splice(ct+1,0,u),K=!0;break}ye=this.driver.getParentElement(ye)}}else for(let ye=k;ye>=0;ye--)if(this.driver.containsElement(f[ye].hostElement,a)){f.splice(ye+1,0,u),K=!0;break}K||f.unshift(u)}else f.push(u);return E.set(a,u),u}register(u,a){let f=this._namespaceLookup[u];return f||(f=this.createNamespace(u,a)),f}registerTrigger(u,a,f){let E=this._namespaceLookup[u];E&&E.register(a,f)&&this.totalAnimations++}destroy(u,a){if(!u)return;const f=this._fetchNamespace(u);this.afterFlush(()=>{this.namespacesByHostElement.delete(f.hostElement),delete this._namespaceLookup[u];const E=this._namespaceList.indexOf(f);E>=0&&this._namespaceList.splice(E,1)}),this.afterFlushAnimationsDone(()=>f.destroy(a))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const a=new Set,f=this.statesByElement.get(u);if(f){const E=Object.keys(f);for(let k=0;k<E.length;k++){const K=f[E[k]].namespaceId;if(K){const ye=this._fetchNamespace(K);ye&&a.add(ye)}}}return a}trigger(u,a,f,E){if(R(a)){const k=this._fetchNamespace(u);if(k)return k.trigger(a,f,E),!0}return!1}insertNode(u,a,f,E){if(!R(a))return;const k=a[Ar];if(k&&k.setForRemoval){k.setForRemoval=!1,k.setForMove=!0;const K=this.collectedLeaveElements.indexOf(a);K>=0&&this.collectedLeaveElements.splice(K,1)}if(u){const K=this._fetchNamespace(u);K&&K.insertNode(a,f)}E&&this.collectEnterElement(a)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,a){a?this.disabledNodes.has(u)||(this.disabledNodes.add(u),dt(u,xo)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),$t(u,xo))}removeNode(u,a,f,E){if(R(a)){const k=u?this._fetchNamespace(u):null;if(k?k.removeNode(a,E):this.markElementAsRemoved(u,a,!1,E),f){const K=this.namespacesByHostElement.get(a);K&&K.id!==u&&K.removeNode(a,E)}}else this._onRemovalComplete(a,E)}markElementAsRemoved(u,a,f,E,k){this.collectedLeaveElements.push(a),a[Ar]={namespaceId:u,setForRemoval:E,hasAnimation:f,removedBeforeQueried:!1,previousTriggersValues:k}}listen(u,a,f,E,k){return R(a)?this._fetchNamespace(u).listen(a,f,E,k):()=>{}}_buildInstruction(u,a,f,E,k){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,f,E,u.fromState.options,u.toState.options,a,k)}destroyInnerAnimations(u){let a=this.driver.query(u,Zt,!0);a.forEach(f=>this.destroyActiveAnimationsForElement(f)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(u,Zi,!0),a.forEach(f=>this.finishActiveQueriedAnimationOnElement(f)))}destroyActiveAnimationsForElement(u){const a=this.playersByElement.get(u);a&&a.forEach(f=>{f.queued?f.markedForDestroy=!0:f.destroy()})}finishActiveQueriedAnimationOnElement(u){const a=this.playersByQueriedElement.get(u);a&&a.forEach(f=>f.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return Rs(this.players).onDone(()=>u());u()})}processLeaveNode(u){var a;const f=u[Ar];if(f&&f.setForRemoval){if(u[Ar]=Qo,f.namespaceId){this.destroyInnerAnimations(u);const E=this._fetchNamespace(f.namespaceId);E&&E.clearElementCache(u)}this._onRemovalComplete(u,f.setForRemoval)}(null===(a=u.classList)||void 0===a?void 0:a.contains(xo))&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(E=>{this.markElementAsDisabled(E,!1)})}flush(u=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((f,E)=>this._balanceNamespaceList(f,E)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let f=0;f<this.collectedEnterElements.length;f++)dt(this.collectedEnterElements[f],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const f=[];try{a=this._flushAnimations(f,u)}finally{for(let E=0;E<f.length;E++)f[E]()}}else for(let f=0;f<this.collectedLeaveElements.length;f++)this.processLeaveNode(this.collectedLeaveElements[f]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(f=>f()),this._flushFns=[],this._whenQuietFns.length){const f=this._whenQuietFns;this._whenQuietFns=[],a.length?Rs(a).onDone(()=>{f.forEach(E=>E())}):f.forEach(E=>E())}}reportError(u){throw function Hr(v){return new d.vHH(3402,Pe)}()}_flushAnimations(u,a){const f=new Ua,E=[],k=new Map,K=[],ye=new Map,Fe=new Map,ct=new Map,Rt=new Set;this.disabledNodes.forEach(Mn=>{Rt.add(Mn);const jn=this.driver.query(Mn,".ng-animate-queued",!0);for(let Gn=0;Gn<jn.length;Gn++)Rt.add(jn[Gn])});const dn=this.bodyNode,xn=Array.from(this.statesByElement.keys()),Fn=tt(xn,this.collectedEnterElements),Vn=new Map;let $n=0;Fn.forEach((Mn,jn)=>{const Gn=po+$n++;Vn.set(jn,Gn),Mn.forEach(xi=>dt(xi,Gn))});const ki=[],fr=new Set,pr=new Set;for(let Mn=0;Mn<this.collectedLeaveElements.length;Mn++){const jn=this.collectedLeaveElements[Mn],Gn=jn[Ar];Gn&&Gn.setForRemoval&&(ki.push(jn),fr.add(jn),Gn.hasAnimation?this.driver.query(jn,".ng-star-inserted",!0).forEach(xi=>fr.add(xi)):pr.add(jn))}const nr=new Map,ci=tt(xn,Array.from(fr));ci.forEach((Mn,jn)=>{const Gn=go+$n++;nr.set(jn,Gn),Mn.forEach(xi=>dt(xi,Gn))}),u.push(()=>{Fn.forEach((Mn,jn)=>{const Gn=Vn.get(jn);Mn.forEach(xi=>$t(xi,Gn))}),ci.forEach((Mn,jn)=>{const Gn=nr.get(jn);Mn.forEach(xi=>$t(xi,Gn))}),ki.forEach(Mn=>{this.processLeaveNode(Mn)})});const ir=[],gr=[];for(let Mn=this._namespaceList.length-1;Mn>=0;Mn--)this._namespaceList[Mn].drainQueuedTransitions(a).forEach(Gn=>{const xi=Gn.player,Ts=Gn.element;if(ir.push(xi),this.collectedEnterElements.length){const ta=Ts[Ar];if(ta&&ta.setForMove){if(ta.previousTriggersValues&&ta.previousTriggersValues.has(Gn.triggerName)){const _c=ta.previousTriggersValues.get(Gn.triggerName),Ea=this.statesByElement.get(Gn.element);Ea&&Ea[Gn.triggerName]&&(Ea[Gn.triggerName].value=_c)}return void xi.destroy()}}const qa=!dn||!this.driver.containsElement(dn,Ts),ba=nr.get(Ts),gu=Vn.get(Ts),Bi=this._buildInstruction(Gn,f,gu,ba,qa);if(Bi.errors&&Bi.errors.length)return void gr.push(Bi);if(qa)return xi.onStart(()=>Xa(Ts,Bi.fromStyles)),xi.onDestroy(()=>mo(Ts,Bi.toStyles)),void E.push(xi);if(Gn.isFallbackTransition)return xi.onStart(()=>Xa(Ts,Bi.fromStyles)),xi.onDestroy(()=>mo(Ts,Bi.toStyles)),void E.push(xi);const kf=[];Bi.timelines.forEach(ta=>{ta.stretchStartingKeyframe=!0,this.disabledNodes.has(ta.element)||kf.push(ta)}),Bi.timelines=kf,f.append(Ts,Bi.timelines),K.push({instruction:Bi,player:xi,element:Ts}),Bi.queriedElements.forEach(ta=>Dr(ye,ta,[]).push(xi)),Bi.preStyleProps.forEach((ta,_c)=>{const Ea=Object.keys(ta);if(Ea.length){let mu=Fe.get(_c);mu||Fe.set(_c,mu=new Set),Ea.forEach(yu=>mu.add(yu))}}),Bi.postStyleProps.forEach((ta,_c)=>{const Ea=Object.keys(ta);let mu=ct.get(_c);mu||ct.set(_c,mu=new Set),Ea.forEach(yu=>mu.add(yu))})});if(gr.length){const Mn=[];gr.forEach(jn=>{Mn.push(function Ho(v,u){return new d.vHH(3505,Pe)}())}),ir.forEach(jn=>jn.destroy()),this.reportError(Mn)}const Fr=new Map,dl=new Map;K.forEach(Mn=>{const jn=Mn.element;f.has(jn)&&(dl.set(jn,jn),this._beforeAnimationBuild(Mn.player.namespaceId,Mn.instruction,Fr))}),E.forEach(Mn=>{const jn=Mn.element;this._getPreviousPlayers(jn,!1,Mn.namespaceId,Mn.triggerName,null).forEach(xi=>{Dr(Fr,jn,[]).push(xi),xi.destroy()})});const Za=ki.filter(Mn=>Nn(Mn,Fe,ct)),Ka=new Map;De(Ka,this.driver,pr,ct,oe.l3).forEach(Mn=>{Nn(Mn,Fe,ct)&&Za.push(Mn)});const Yu=new Map;Fn.forEach((Mn,jn)=>{De(Yu,this.driver,new Set(Mn),Fe,oe.k1)}),Za.forEach(Mn=>{const jn=Ka.get(Mn),Gn=Yu.get(Mn);Ka.set(Mn,Object.assign(Object.assign({},jn),Gn))});const Wl=[],ed=[],Nf={};K.forEach(Mn=>{const{element:jn,player:Gn,instruction:xi}=Mn;if(f.has(jn)){if(Rt.has(jn))return Gn.onDestroy(()=>mo(jn,xi.toStyles)),Gn.disabled=!0,Gn.overrideTotalTime(xi.totalTime),void E.push(Gn);let Ts=Nf;if(dl.size>1){let ba=jn;const gu=[];for(;ba=ba.parentNode;){const Bi=dl.get(ba);if(Bi){Ts=Bi;break}gu.push(ba)}gu.forEach(Bi=>dl.set(Bi,Ts))}const qa=this._buildAnimation(Gn.namespaceId,xi,Fr,k,Yu,Ka);if(Gn.setRealPlayer(qa),Ts===Nf)Wl.push(Gn);else{const ba=this.playersByElement.get(Ts);ba&&ba.length&&(Gn.parentPlayer=Rs(ba)),E.push(Gn)}}else Xa(jn,xi.fromStyles),Gn.onDestroy(()=>mo(jn,xi.toStyles)),ed.push(Gn),Rt.has(jn)&&E.push(Gn)}),ed.forEach(Mn=>{const jn=k.get(Mn.element);if(jn&&jn.length){const Gn=Rs(jn);Mn.setRealPlayer(Gn)}}),E.forEach(Mn=>{Mn.parentPlayer?Mn.syncPlayerEvents(Mn.parentPlayer):Mn.destroy()});for(let Mn=0;Mn<ki.length;Mn++){const jn=ki[Mn],Gn=jn[Ar];if($t(jn,go),Gn&&Gn.hasAnimation)continue;let xi=[];if(ye.size){let qa=ye.get(jn);qa&&qa.length&&xi.push(...qa);let ba=this.driver.query(jn,Zi,!0);for(let gu=0;gu<ba.length;gu++){let Bi=ye.get(ba[gu]);Bi&&Bi.length&&xi.push(...Bi)}}const Ts=xi.filter(qa=>!qa.destroyed);Ts.length?tn(this,jn,Ts):this.processLeaveNode(jn)}return ki.length=0,Wl.forEach(Mn=>{this.players.push(Mn),Mn.onDone(()=>{Mn.destroy();const jn=this.players.indexOf(Mn);this.players.splice(jn,1)}),Mn.play()}),Wl}elementContainsData(u,a){let f=!1;const E=a[Ar];return E&&E.setForRemoval&&(f=!0),this.playersByElement.has(a)&&(f=!0),this.playersByQueriedElement.has(a)&&(f=!0),this.statesByElement.has(a)&&(f=!0),this._fetchNamespace(u).elementContainsData(a)||f}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,a,f,E,k){let K=[];if(a){const ye=this.playersByQueriedElement.get(u);ye&&(K=ye)}else{const ye=this.playersByElement.get(u);if(ye){const Fe=!k||k==Ls;ye.forEach(ct=>{ct.queued||!Fe&&ct.triggerName!=E||K.push(ct)})}}return(f||E)&&(K=K.filter(ye=>!(f&&f!=ye.namespaceId||E&&E!=ye.triggerName))),K}_beforeAnimationBuild(u,a,f){const k=a.element,K=a.isRemovalTransition?void 0:u,ye=a.isRemovalTransition?void 0:a.triggerName;for(const Fe of a.timelines){const ct=Fe.element,Rt=ct!==k,dn=Dr(f,ct,[]);this._getPreviousPlayers(ct,Rt,K,ye,a.toState).forEach(Fn=>{const Vn=Fn.getRealPlayer();Vn.beforeDestroy&&Vn.beforeDestroy(),Fn.destroy(),dn.push(Fn)})}Xa(k,a.fromStyles)}_buildAnimation(u,a,f,E,k,K){const ye=a.triggerName,Fe=a.element,ct=[],Rt=new Set,dn=new Set,xn=a.timelines.map(Vn=>{const $n=Vn.element;Rt.add($n);const ki=$n[Ar];if(ki&&ki.removedBeforeQueried)return new oe.ZN(Vn.duration,Vn.delay);const fr=$n!==Fe,pr=function Ln(v){const u=[];return Qn(v,u),u}((f.get($n)||nu).map(Fr=>Fr.getRealPlayer())).filter(Fr=>!!Fr.element&&Fr.element===$n),nr=k.get($n),ci=K.get($n),ir=Do(0,this._normalizer,0,Vn.keyframes,nr,ci),gr=this._buildPlayer(Vn,ir,pr);if(Vn.subTimeline&&E&&dn.add($n),fr){const Fr=new rl(u,ye,$n);Fr.setRealPlayer(gr),ct.push(Fr)}return gr});ct.forEach(Vn=>{Dr(this.playersByQueriedElement,Vn.element,[]).push(Vn),Vn.onDone(()=>function iu(v,u,a){let f;if(v instanceof Map){if(f=v.get(u),f){if(f.length){const E=f.indexOf(a);f.splice(E,1)}0==f.length&&v.delete(u)}}else if(f=v[u],f){if(f.length){const E=f.indexOf(a);f.splice(E,1)}0==f.length&&delete v[u]}return f}(this.playersByQueriedElement,Vn.element,Vn))}),Rt.forEach(Vn=>dt(Vn,Wi));const Fn=Rs(xn);return Fn.onDestroy(()=>{Rt.forEach(Vn=>$t(Vn,Wi)),mo(Fe,a.toStyles)}),dn.forEach(Vn=>{Dr(E,Vn,[]).push(Fn)}),Fn}_buildPlayer(u,a,f){return a.length>0?this.driver.animate(u.element,a,u.duration,u.delay,u.easing,f):new oe.ZN(u.duration,u.delay)}}class rl{constructor(u,a,f){this.namespaceId=u,this.triggerName=a,this.element=f,this._player=new oe.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,Object.keys(this._queuedCallbacks).forEach(a=>{this._queuedCallbacks[a].forEach(f=>xa(u,a,void 0,f))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const a=this._player;a.triggerCallback&&u.onStart(()=>a.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,a){Dr(this._queuedCallbacks,u,[]).push(a)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const a=this._player;a.triggerCallback&&a.triggerCallback(u)}}function R(v){return v&&1===v.nodeType}function ae(v,u){const a=v.style.display;return v.style.display=null!=u?u:"none",a}function De(v,u,a,f,E){const k=[];a.forEach(Fe=>k.push(ae(Fe)));const K=[];f.forEach((Fe,ct)=>{const Rt={};Fe.forEach(dn=>{const xn=Rt[dn]=u.computeStyle(ct,dn,E);(!xn||0==xn.length)&&(ct[Ar]=Fl,K.push(ct))}),v.set(ct,Rt)});let ye=0;return a.forEach(Fe=>ae(Fe,k[ye++])),K}function tt(v,u){const a=new Map;if(v.forEach(ye=>a.set(ye,[])),0==u.length)return a;const E=new Set(u),k=new Map;function K(ye){if(!ye)return 1;let Fe=k.get(ye);if(Fe)return Fe;const ct=ye.parentNode;return Fe=a.has(ct)?ct:E.has(ct)?1:K(ct),k.set(ye,Fe),Fe}return u.forEach(ye=>{const Fe=K(ye);1!==Fe&&a.get(Fe).push(ye)}),a}function dt(v,u){var a;null===(a=v.classList)||void 0===a||a.add(u)}function $t(v,u){var a;null===(a=v.classList)||void 0===a||a.remove(u)}function tn(v,u,a){Rs(a).onDone(()=>v.processLeaveNode(u))}function Qn(v,u){for(let a=0;a<v.length;a++){const f=v[a];f instanceof oe.ZE?Qn(f.players,u):u.push(f)}}function Nn(v,u,a){const f=a.get(v);if(!f)return!1;let E=u.get(v);return E?f.forEach(k=>E.add(k)):u.set(v,f),a.delete(v),!0}class Sr{constructor(u,a,f){this.bodyNode=u,this._driver=a,this._normalizer=f,this._triggerCache={},this.onRemovalComplete=(E,k)=>{},this._transitionEngine=new ma(u,a,f),this._timelineEngine=new fa(u,a,f),this._transitionEngine.onRemovalComplete=(E,k)=>this.onRemovalComplete(E,k)}registerTrigger(u,a,f,E,k){const K=u+"-"+E;let ye=this._triggerCache[K];if(!ye){const Fe=[],Rt=Ko(this._driver,k,Fe,[]);if(Fe.length)throw function Qi(v,u){return new d.vHH(3404,Pe)}();ye=function ps(v,u,a){return new da(v,u,a)}(E,Rt,this._normalizer),this._triggerCache[K]=ye}this._transitionEngine.registerTrigger(a,E,ye)}register(u,a){this._transitionEngine.register(u,a)}destroy(u,a){this._transitionEngine.destroy(u,a)}onInsert(u,a,f,E){this._transitionEngine.insertNode(u,a,f,E)}onRemove(u,a,f,E){this._transitionEngine.removeNode(u,a,E||!1,f)}disableAnimations(u,a){this._transitionEngine.markElementAsDisabled(u,a)}process(u,a,f,E){if("@"==f.charAt(0)){const[k,K]=fl(f);this._timelineEngine.command(k,a,K,E)}else this._transitionEngine.trigger(u,a,f,E)}listen(u,a,f,E,k){if("@"==f.charAt(0)){const[K,ye]=fl(f);return this._timelineEngine.listen(K,a,ye,k)}return this._transitionEngine.listen(u,a,f,E,k)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ml=(()=>{class v{constructor(a,f,E){this._element=a,this._startStyles=f,this._endStyles=E,this._state=0;let k=v.initialStylesByElement.get(a);k||v.initialStylesByElement.set(a,k={}),this._initialStyles=k}start(){this._state<1&&(this._startStyles&&mo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mo(this._element,this._initialStyles),this._endStyles&&(mo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(v.initialStylesByElement.delete(this._element),this._startStyles&&(Xa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xa(this._element,this._endStyles),this._endStyles=null),mo(this._element,this._initialStyles),this._state=3)}}return v.initialStylesByElement=new WeakMap,v})();function Oo(v){let u=null;const a=Object.keys(v);for(let f=0;f<a.length;f++){const E=a[f];_o(E)&&(u=u||{},u[E]=v[E])}return u}function _o(v){return"display"===v||"position"===v}class ru{constructor(u,a,f,E){this.element=u,this.keyframes=a,this.options=f,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=f.duration,this._delay=f.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(u,a,f){return u.animate(a,f)}onStart(u){this._onStartFns.push(u)}onDone(u){this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u={};if(this.hasStarted()){const a=this._finalKeyframe;Object.keys(a).forEach(f=>{"offset"!=f&&(u[f]=this._finished?a[f]:Un(this.element,f))})}this.currentSnapshot=u}triggerCallback(u){const a="start"==u?this._onStartFns:this._onDoneFns;a.forEach(f=>f()),a.length=0}}class Ha{validateStyleProperty(u){return fo(u)}matchesElement(u,a){return!1}containsElement(u,a){return pl(u,a)}getParentElement(u){return ho(u)}query(u,a,f){return ns(u,a,f)}computeStyle(u,a,f){return window.getComputedStyle(u)[a]}animate(u,a,f,E,k,K=[]){const Fe={duration:f,delay:E,fill:0==E?"both":"forwards"};k&&(Fe.easing=k);const ct={},Rt=K.filter(xn=>xn instanceof ru);(function fs(v,u){return 0===v||0===u})(f,E)&&Rt.forEach(xn=>{let Fn=xn.currentSnapshot;Object.keys(Fn).forEach(Vn=>ct[Vn]=Fn[Vn])}),a=function La(v,u,a){const f=Object.keys(a);if(f.length&&u.length){let k=u[0],K=[];if(f.forEach(ye=>{k.hasOwnProperty(ye)||K.push(ye),k[ye]=a[ye]}),K.length)for(var E=1;E<u.length;E++){let ye=u[E];K.forEach(function(Fe){ye[Fe]=Un(v,Fe)})}}return u}(u,a=a.map(xn=>Lt(xn,!1)),ct);const dn=function Ui(v,u){let a=null,f=null;return Array.isArray(u)&&u.length?(a=Oo(u[0]),u.length>1&&(f=Oo(u[u.length-1]))):u&&(a=Oo(u)),a||f?new ml(v,a,f):null}(u,a);return new ru(u,a,Fe,dn)}}let yl=(()=>{class v extends oe._j{constructor(a,f){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(f.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(a){const f=this._nextAnimationId.toString();this._nextAnimationId++;const E=Array.isArray(a)?(0,oe.vP)(a):a;return Fs(this._renderer,null,f,"register",[E]),new ya(f,this._renderer)}}return v.\u0275fac=function(a){return new(a||v)(d.LFG(d.FYo),d.LFG(ut.K0))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac}),v})();class ya extends oe.LC{constructor(u,a){super(),this._id=u,this._renderer=a}create(u,a){return new ja(this._id,u,a||{},this._renderer)}}class ja{constructor(u,a,f,E){this.id=u,this.element=a,this._renderer=E,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",f)}_listen(u,a){return this._renderer.listen(this.element,`@@${this.id}:${u}`,a)}_command(u,...a){return Fs(this._renderer,this.element,this.id,u,a)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){var u,a;return null!==(a=null===(u=this._renderer.engine.players[+this.id])||void 0===u?void 0:u.getPosition())&&void 0!==a?a:0}}function Fs(v,u,a,f,E){return v.setProperty(u,`@@${a}:${f}`,E)}const gd="@.disabled";let md=(()=>{class v{constructor(a,f,E){this.delegate=a,this.engine=f,this._zone=E,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),f.onRemovalComplete=(k,K)=>{const ye=null==K?void 0:K.parentNode(k);ye&&K.removeChild(ye,k)}}createRenderer(a,f){const k=this.delegate.createRenderer(a,f);if(!(a&&f&&f.data&&f.data.animation)){let Rt=this._rendererCache.get(k);return Rt||(Rt=new vl("",k,this.engine),this._rendererCache.set(k,Rt)),Rt}const K=f.id,ye=f.id+"-"+this._currentId;this._currentId++,this.engine.register(ye,a);const Fe=Rt=>{Array.isArray(Rt)?Rt.forEach(Fe):this.engine.registerTrigger(K,ye,a,Rt.name,Rt)};return f.data.animation.forEach(Fe),new to(this,ye,k,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(a,f,E){a>=0&&a<this._microtaskId?this._zone.run(()=>f(E)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(k=>{const[K,ye]=k;K(ye)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([f,E]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return v.\u0275fac=function(a){return new(a||v)(d.LFG(d.FYo),d.LFG(Sr),d.LFG(d.R0b))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac}),v})();class vl{constructor(u,a,f){this.namespaceId=u,this.delegate=a,this.engine=f,this.destroyNode=this.delegate.destroyNode?E=>a.destroyNode(E):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(u,a){return this.delegate.createElement(u,a)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,a){this.delegate.appendChild(u,a),this.engine.onInsert(this.namespaceId,a,u,!1)}insertBefore(u,a,f,E=!0){this.delegate.insertBefore(u,a,f),this.engine.onInsert(this.namespaceId,a,u,E)}removeChild(u,a,f){this.engine.onRemove(this.namespaceId,a,this.delegate,f)}selectRootElement(u,a){return this.delegate.selectRootElement(u,a)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,a,f,E){this.delegate.setAttribute(u,a,f,E)}removeAttribute(u,a,f){this.delegate.removeAttribute(u,a,f)}addClass(u,a){this.delegate.addClass(u,a)}removeClass(u,a){this.delegate.removeClass(u,a)}setStyle(u,a,f,E){this.delegate.setStyle(u,a,f,E)}removeStyle(u,a,f){this.delegate.removeStyle(u,a,f)}setProperty(u,a,f){"@"==a.charAt(0)&&a==gd?this.disableAnimations(u,!!f):this.delegate.setProperty(u,a,f)}setValue(u,a){this.delegate.setValue(u,a)}listen(u,a,f){return this.delegate.listen(u,a,f)}disableAnimations(u,a){this.engine.disableAnimations(u,a)}}class to extends vl{constructor(u,a,f,E){super(a,f,E),this.factory=u,this.namespaceId=a}setProperty(u,a,f){"@"==a.charAt(0)?"."==a.charAt(1)&&a==gd?this.disableAnimations(u,f=void 0===f||!!f):this.engine.process(this.namespaceId,u,a.substr(1),f):this.delegate.setProperty(u,a,f)}listen(u,a,f){if("@"==a.charAt(0)){const E=function yd(v){switch(v){case"body":return document.body;case"document":return document;case"window":return window;default:return v}}(u);let k=a.substr(1),K="";return"@"!=k.charAt(0)&&([k,K]=function Mu(v){const u=v.indexOf(".");return[v.substring(0,u),v.substr(u+1)]}(k)),this.engine.listen(this.namespaceId,E,k,K,ye=>{this.factory.scheduleListenerCallback(ye._data||-1,f,ye)})}return this.delegate.listen(u,a,f)}}let rc=(()=>{class v extends Sr{constructor(a,f,E){super(a.body,f,E)}ngOnDestroy(){this.flush()}}return v.\u0275fac=function(a){return new(a||v)(d.LFG(ut.K0),d.LFG(Ja),d.LFG(cr))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac}),v})();const sc=new d.OlP("AnimationModuleType"),Ul=[{provide:oe._j,useClass:yl},{provide:cr,useFactory:function Ic(){return new el}},{provide:Sr,useClass:rc},{provide:d.FYo,useFactory:function Pu(v,u,a){return new md(v,u,a)},deps:[g.se,Sr,d.R0b]}],Vs=[{provide:Ja,useFactory:()=>new Ha},{provide:sc,useValue:"BrowserAnimations"},...Ul],Bl=[{provide:Ja,useClass:Yi},{provide:sc,useValue:"NoopAnimations"},...Ul];let Hl=(()=>{class v{static withConfig(a){return{ngModule:v,providers:a.disableAnimations?Bl:Vs}}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=d.oAB({type:v}),v.\u0275inj=d.cJS({providers:Vs,imports:[g.b2]}),v})();var oc=x(8968),Us=x(4004);let Ac=(()=>{class v{constructor(a,f){this.toastr=a,this.router=f}intercept(a,f){return f.handle(a).pipe((0,Us.U)(E=>{let k=null==E?void 0:E.body;return 0==(null==k?void 0:k.code)&&(null==k?void 0:k.message)?this.toastr.error(null==k?void 0:k.message,"",{timeOut:7e3}):3==(null==k?void 0:k.code)&&("ar"==localStorage.getItem("lang")?this.toastr.error("\u064a\u062c\u0628 \u0639\u0644\u064a\u0643  \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0645\u0624\u0629 \u0627\u062e\u0631\u064a","",{timeOut:7e3}):this.toastr.error("You Have To Login Again","",{timeOut:7e3}),localStorage.removeItem("joincart"),localStorage.removeItem("joinToken"),this.router.navigate(["/auth/login"])),E}))}}return v.\u0275fac=function(a){return new(a||v)(d.LFG(oc._W),d.LFG(W.F0))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac}),v})();var no=x(2011),Sc=x(7579),_l=x(9646),Ru=x(8306),bl=x(8996),va=x(6451),ac=x(5363),El=x(3900),xc=x(3151),ou=x(590),sl=x(576);function _a(v,u){return(0,sl.m)(u)?(0,El.w)(()=>v,u):(0,El.w)(()=>v)}var Bs=x(9468),Nu=x(9300),xr=x(6351);x(5867);var pe=x(5861),st=x(9681),Wt=x(4859),en=x(2090),rn=x(1877);const oi=new Map,_r={activated:!1,tokenObservers:[]},Hs={initialized:!1,enabled:!1};function br(v){return oi.get(v)||Object.assign({},_r)}function au(){return Hs}class kc{constructor(u,a,f,E,k){if(this.operation=u,this.retryPolicy=a,this.getWaitDuration=f,this.lowerBound=E,this.upperBound=k,this.pending=null,this.nextErrorWaitInterval=E,E>k)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(u){var a=this;return(0,pe.Z)(function*(){a.stop();try{a.pending=new en.BH,yield function Sn(v){return new Promise(u=>{setTimeout(u,v)})}(a.getNextRun(u)),a.pending.resolve(),yield a.pending.promise,a.pending=new en.BH,yield a.operation(),a.pending.resolve(),yield a.pending.promise,a.process(!0).catch(()=>{})}catch(f){a.retryPolicy(f)?a.process(!1).catch(()=>{}):a.stop()}})()}getNextRun(u){if(u)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const a=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),a}}}const ss=new en.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Fu(v){if(!br(v).activated)throw ss.create("use-before-activation",{appName:v.name})}function bd(v,u){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,pe.Z)(function*({url:v,body:u},a){var f,E;const k={"Content-Type":"application/json"},K=a.getImmediate({optional:!0});if(K){const Fn=yield K.getHeartbeatsHeader();Fn&&(k["X-Firebase-Client"]=Fn)}const ye={method:"POST",body:JSON.stringify(u),headers:k};let Fe,ct;try{Fe=yield fetch(v,ye)}catch(Fn){throw ss.create("fetch-network-error",{originalErrorMessage:null===(f=Fn)||void 0===f?void 0:f.message})}if(200!==Fe.status)throw ss.create("fetch-status-error",{httpStatus:Fe.status});try{ct=yield Fe.json()}catch(Fn){throw ss.create("fetch-parse-error",{originalErrorMessage:null===(E=Fn)||void 0===E?void 0:E.message})}const Rt=ct.ttl.match(/^([\d.]+)(s)$/);if(!Rt||!Rt[2]||isNaN(Number(Rt[1])))throw ss.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ct.ttl}`});const dn=1e3*Number(Rt[1]),xn=Date.now();return{token:ct.token,expireTimeMillis:xn+dn,issuedAtTimeMillis:xn}}),Ed.apply(this,arguments)}function hp(v,u){const{projectId:a,appId:f,apiKey:E}=v.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${a}/apps/${f}:exchangeDebugToken?key=${E}`,body:{debug_token:u}}}const Vu="firebase-app-check-store";let dc=null;function io(){return dc||(dc=new Promise((v,u)=>{var a;try{const f=indexedDB.open("firebase-app-check-database",1);f.onsuccess=E=>{v(E.target.result)},f.onerror=E=>{var k;u(ss.create("storage-open",{originalErrorMessage:null===(k=E.target.error)||void 0===k?void 0:k.message}))},f.onupgradeneeded=E=>{0===E.oldVersion&&E.target.result.createObjectStore(Vu,{keyPath:"compositeKey"})}}catch(f){u(ss.create("storage-open",{originalErrorMessage:null===(a=f)||void 0===a?void 0:a.message}))}}),dc)}function Bc(){return Bc=(0,pe.Z)(function*(v,u){const f=(yield io()).transaction(Vu,"readwrite"),k=f.objectStore(Vu).put({compositeKey:v,value:u});return new Promise((K,ye)=>{k.onsuccess=Fe=>{K()},f.onerror=Fe=>{var ct;ye(ss.create("storage-set",{originalErrorMessage:null===(ct=Fe.target.error)||void 0===ct?void 0:ct.message}))}})}),Bc.apply(this,arguments)}const hc=new rn.Yd("@firebase/app-check");function sh(v,u){return(0,en.hl)()?function Vc(v,u){return function Ga(v,u){return Bc.apply(this,arguments)}(function Cd(v){return`${v.options.appId}-${v.name}`}(v),u)}(v,u).catch(a=>{hc.warn(`Failed to write token to IndexedDB. Error: ${a}`)}):Promise.resolve()}function cf(){return au().enabled}function oh(){return lu.apply(this,arguments)}function lu(){return lu=(0,pe.Z)(function*(){const v=au();if(v.enabled&&v.token)return v.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),lu.apply(this,arguments)}const fp={error:"UNKNOWN_ERROR"};function hf(v){return en.US.encodeString(JSON.stringify(v),!1)}function Td(v){return ah.apply(this,arguments)}function ah(){return ah=(0,pe.Z)(function*(v,u=!1){const a=v.app;Fu(a);const f=br(a);let k,E=f.token;if(E&&!ju(E)&&(f.token=void 0,E=void 0),!E){const Fe=yield f.cachedTokenPromise;Fe&&(ju(Fe)?E=Fe:yield sh(a,void 0))}if(!u&&E&&ju(E))return{token:E.token};let ye,K=!1;if(cf()){f.exchangeTokenPromise||(f.exchangeTokenPromise=bd(hp(a,yield oh()),v.heartbeatServiceProvider).finally(()=>{f.exchangeTokenPromise=void 0}),K=!0);const Fe=yield f.exchangeTokenPromise;return yield sh(a,Fe),f.token=Fe,{token:Fe.token}}try{f.exchangeTokenPromise||(f.exchangeTokenPromise=f.provider.getToken().finally(()=>{f.exchangeTokenPromise=void 0}),K=!0),E=yield br(a).exchangeTokenPromise}catch(Fe){"appCheck/throttled"===Fe.code?hc.warn(Fe.message):hc.error(Fe),k=Fe}return E?k?ye=ju(E)?{token:E.token,internalError:k}:ro(k):(ye={token:E.token},f.token=E,yield sh(a,E)):ye=ro(k),K&&pf(a,ye),ye}),ah.apply(this,arguments)}function uu(v,u){const a=br(v),f=a.tokenObservers.filter(E=>E.next!==u);0===f.length&&a.tokenRefresher&&a.tokenRefresher.isRunning()&&a.tokenRefresher.stop(),a.tokenObservers=f}function ff(v){const{app:u}=v,a=br(u);let f=a.tokenRefresher;f||(f=function pp(v){const{app:u}=v;return new kc((0,pe.Z)(function*(){let f;if(f=br(u).token?yield Td(v,!0):yield Td(v),f.error)throw f.error;if(f.internalError)throw f.internalError}),()=>!0,()=>{const a=br(u);if(a.token){let f=a.token.issuedAtTimeMillis+.5*(a.token.expireTimeMillis-a.token.issuedAtTimeMillis)+3e5;return f=Math.min(f,a.token.expireTimeMillis-3e5),Math.max(0,f-Date.now())}return 0},3e4,96e4)}(v),a.tokenRefresher=f),!f.isRunning()&&a.isTokenAutoRefreshEnabled&&f.start()}function pf(v,u){const a=br(v).tokenObservers;for(const f of a)try{"EXTERNAL"===f.type&&null!=u.error?f.error(u.error):f.next(u)}catch(E){}}function ju(v){return v.expireTimeMillis-Date.now()>0}function ro(v){return{token:hf(fp),error:v}}class gp{constructor(u,a){this.app=u,this.heartbeatServiceProvider=a}_delete(){const{tokenObservers:u}=br(this.app);for(const a of u)uu(this.app,a.next);return Promise.resolve()}}const xd="app-check-internal";!function fh(){(0,st._registerComponent)(new Wt.wA("app-check",v=>function gf(v,u){return new gp(v,u)}(v.getProvider("app").getImmediate(),v.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,u,a)=>{v.getProvider(xd).initialize()})),(0,st._registerComponent)(new Wt.wA(xd,v=>function Po(v){return{getToken:u=>Td(v,u),addTokenListener:u=>function Gl(v,u,a,f){const{app:E}=v,k=br(E);if(k.tokenObservers=[...k.tokenObservers,{next:a,error:f,type:u}],k.token&&ju(k.token)){const ye=k.token;Promise.resolve().then(()=>{a({token:ye.token}),ff(v)}).catch(()=>{})}k.cachedTokenPromise.then(()=>ff(v))}(v,"INTERNAL",u),removeTokenListener:u=>uu(v.app,u)}}(v.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,st.registerVersion)("@firebase/app-check","0.5.17")}();class pc{constructor(){return(0,xr.vb)("app-check")}}"undefined"!=typeof window&&window;var Wu=x(127);const cl=new d.OlP("angularfire2.auth.use-emulator"),Gc=new d.OlP("angularfire2.auth.settings"),Pd=new d.OlP("angularfire2.auth.tenant-id"),Rd=new d.OlP("angularfire2.auth.langugage-code"),yh=new d.OlP("angularfire2.auth.use-device-language"),Nd=new d.OlP("angularfire.auth.persistence"),Tl=(v,u,a,f,E,k,K,ye)=>(0,no.cc)(`${v.name}.auth`,"AngularFireAuth",v.name,()=>{const Fe=u.runOutsideAngular(()=>v.auth());if(a&&Fe.useEmulator(...a),f&&(Fe.tenantId=f),Fe.languageCode=E,k&&Fe.useDeviceLanguage(),K)for(const[ct,Rt]of Object.entries(K))Fe.settings[ct]=Rt;return ye&&Fe.setPersistence(ye),Fe},[a,f,E,k,K,ye]);let zl=(()=>{class v{constructor(a,f,E,k,K,ye,Fe,ct,Rt,dn,xn,Fn){const Vn=new Sc.x,$n=(0,_l.of)(void 0).pipe((0,ac.Q)(K.outsideAngular),(0,El.w)(()=>k.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,5881)))),(0,Us.U)(()=>(0,no.on)(a,k,f)),(0,Us.U)(ki=>Tl(ki,k,ye,ct,Rt,dn,Fe,xn)),(0,xc.d)({bufferSize:1,refCount:!1}));if((0,ut.PM)(E))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_l.of)(null);else{$n.pipe((0,ou.P)()).subscribe();const fr=$n.pipe((0,El.w)(ci=>ci.getRedirectResult().then(ir=>ir,()=>null)),xr.iC,(0,xc.d)({bufferSize:1,refCount:!1})),pr=$n.pipe((0,El.w)(ci=>new Ru.y(ir=>({unsubscribe:k.runOutsideAngular(()=>ci.onAuthStateChanged(gr=>ir.next(gr),gr=>ir.error(gr),()=>ir.complete()))})))),nr=$n.pipe((0,El.w)(ci=>new Ru.y(ir=>({unsubscribe:k.runOutsideAngular(()=>ci.onIdTokenChanged(gr=>ir.next(gr),gr=>ir.error(gr),()=>ir.complete()))}))));this.authState=fr.pipe(_a(pr),(0,Bs.R)(K.outsideAngular),(0,ac.Q)(K.insideAngular)),this.user=fr.pipe(_a(nr),(0,Bs.R)(K.outsideAngular),(0,ac.Q)(K.insideAngular)),this.idToken=this.user.pipe((0,El.w)(ci=>ci?(0,bl.D)(ci.getIdToken()):(0,_l.of)(null))),this.idTokenResult=this.user.pipe((0,El.w)(ci=>ci?(0,bl.D)(ci.getIdTokenResult()):(0,_l.of)(null))),this.credential=(0,va.T)(fr,Vn,this.authState.pipe((0,Nu.h)(ci=>!ci))).pipe((0,Us.U)(ci=>(null==ci?void 0:ci.user)?ci:null),(0,Bs.R)(K.outsideAngular),(0,ac.Q)(K.insideAngular))}return(0,no.pX)(this,$n,k,{spy:{apply:(ki,fr,pr)=>{(ki.startsWith("signIn")||ki.startsWith("createUser"))&&pr.then(nr=>Vn.next(nr))}}})}}return v.\u0275fac=function(a){return new(a||v)(d.LFG(no.Dh),d.LFG(no.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(xr.HU),d.LFG(cl,8),d.LFG(Gc,8),d.LFG(Pd,8),d.LFG(Rd,8),d.LFG(yh,8),d.LFG(Nd,8),d.LFG(pc,8))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),du=(()=>{class v{constructor(){Wu.Z.registerVersion("angularfire",xr.q4.full,"auth-compat")}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=d.oAB({type:v}),v.\u0275inj=d.cJS({providers:[zl]}),v})();var Df=x(4986),vh=x(8675),If=x(4482),zc=x(5403);function Zu(){return(0,If.e)((v,u)=>{let a,f=!1;v.subscribe((0,zc.x)(u,E=>{const k=a;a=E,f&&u.next([k,E]),f=!0}))})}var Af=x(5026),_h=x(1884),Wc=(x(5881),x(3942)),nn=x(5525);function bo(v,u){if(void 0===u)return{merge:!1};if(void 0!==u.mergeFields&&void 0!==u.merge)throw new nn.WA("invalid-argument",`Invalid options passed to function ${v}(): You cannot specify both "merge" and "mergeFields".`);return u}function Ld(){if("undefined"==typeof Uint8Array)throw new nn.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Zc(){if(!(0,nn.Me)())throw new nn.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class hu{constructor(u){this._delegate=u}static fromBase64String(u){return Zc(),new hu(nn.Jj.fromBase64String(u))}static fromUint8Array(u){return Ld(),new hu(nn.Jj.fromUint8Array(u))}toBase64(){return Zc(),this._delegate.toBase64()}toUint8Array(){return Ld(),this._delegate.toUint8Array()}isEqual(u){return this._delegate.isEqual(u._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Fd(v){return function fu(v,u){if("object"!=typeof v||null===v)return!1;const a=v;for(const f of u)if(f in a&&"function"==typeof a[f])return!0;return!1}(v,["next","error","complete"])}class Ku{enableIndexedDbPersistence(u,a){return(0,nn.ST)(u._delegate,{forceOwnership:a})}enableMultiTabIndexedDbPersistence(u){return(0,nn.fH)(u._delegate)}clearIndexedDbPersistence(u){return(0,nn.Fc)(u._delegate)}}class bh{constructor(u,a,f){this._delegate=a,this._persistenceProvider=f,this.INTERNAL={delete:()=>this.terminate()},u instanceof nn.l7||(this._appCompat=u)}get _databaseId(){return this._delegate._databaseId}settings(u){const a=this._delegate._getSettings();!u.merge&&a.host!==u.host&&(0,nn.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),u.merge&&delete(u=Object.assign(Object.assign({},a),u)).merge,this._delegate._setSettings(u)}useEmulator(u,a,f={}){(0,nn.at)(this._delegate,u,a,f)}enableNetwork(){return(0,nn.Ix)(this._delegate)}disableNetwork(){return(0,nn.TF)(this._delegate)}enablePersistence(u){let a=!1,f=!1;return u&&(a=!!u.synchronizeTabs,f=!!u.experimentalForceOwningTab,(0,nn.Wi)("synchronizeTabs",a,"experimentalForceOwningTab",f)),a?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,f)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,nn.Mx)(this._delegate)}onSnapshotsInSync(u){return(0,nn.sc)(this._delegate,u)}get app(){if(!this._appCompat)throw new nn.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(u){try{return new pu(this,(0,nn.hJ)(this._delegate,u))}catch(a){throw $s(a,"collection()","Firestore.collection()")}}doc(u){try{return new ea(this,(0,nn.JU)(this._delegate,u))}catch(a){throw $s(a,"doc()","Firestore.doc()")}}collectionGroup(u){try{return new zr(this,(0,nn.B$)(this._delegate,u))}catch(a){throw $s(a,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(u){return(0,nn.i3)(this._delegate,a=>u(new Xn(this,a)))}batch(){return(0,nn.qY)(this._delegate),new Vd(new nn.PU(this._delegate,u=>(0,nn.GL)(this._delegate,u)))}loadBundle(u){return(0,nn.Pb)(this._delegate,u)}namedQuery(u){return(0,nn.L$)(this._delegate,u).then(a=>a?new zr(this,a):null)}}class Dl extends nn.u7{constructor(u){super(),this.firestore=u}convertBytes(u){return new hu(new nn.Jj(u))}convertReference(u){const a=this.convertDocumentKey(u,this.firestore._databaseId);return ea.forKey(a,this.firestore,null)}}class Xn{constructor(u,a){this._firestore=u,this._delegate=a,this._userDataWriter=new Dl(u)}get(u){const a=qu(u);return this._delegate.get(a).then(f=>new Kc(this._firestore,new nn.xU(this._firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,a.converter)))}set(u,a,f){const E=qu(u);return f?(bo("Transaction.set",f),this._delegate.set(E,a,f)):this._delegate.set(E,a),this}update(u,a,f,...E){const k=qu(u);return 2===arguments.length?this._delegate.update(k,a):this._delegate.update(k,a,f,...E),this}delete(u){const a=qu(u);return this._delegate.delete(a),this}}class Vd{constructor(u){this._delegate=u}set(u,a,f){const E=qu(u);return f?(bo("WriteBatch.set",f),this._delegate.set(E,a,f)):this._delegate.set(E,a),this}update(u,a,f,...E){const k=qu(u);return 2===arguments.length?this._delegate.update(k,a):this._delegate.update(k,a,f,...E),this}delete(u){const a=qu(u);return this._delegate.delete(a),this}commit(){return this._delegate.commit()}}class Ro{constructor(u,a,f){this._firestore=u,this._userDataWriter=a,this._delegate=f}fromFirestore(u,a){const f=new nn.$q(this._firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,null);return this._delegate.fromFirestore(new Il(this._firestore,f),null!=a?a:{})}toFirestore(u,a){return a?this._delegate.toFirestore(u,a):this._delegate.toFirestore(u)}static getInstance(u,a){const f=Ro.INSTANCES;let E=f.get(u);E||(E=new WeakMap,f.set(u,E));let k=E.get(a);return k||(k=new Ro(u,new Dl(u),a),E.set(a,k)),k}}Ro.INSTANCES=new WeakMap;class ea{constructor(u,a){this.firestore=u,this._delegate=a,this._userDataWriter=new Dl(u)}static forPath(u,a,f){if(u.length%2!=0)throw new nn.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${u.canonicalString()} has ${u.length}`);return new ea(a,new nn.my(a._delegate,f,new nn.Ky(u)))}static forKey(u,a,f){return new ea(a,new nn.my(a._delegate,f,u))}get id(){return this._delegate.id}get parent(){return new pu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(u){try{return new pu(this.firestore,(0,nn.hJ)(this._delegate,u))}catch(a){throw $s(a,"collection()","DocumentReference.collection()")}}isEqual(u){return(u=(0,en.m9)(u))instanceof nn.my&&(0,nn.Eo)(this._delegate,u)}set(u,a){a=bo("DocumentReference.set",a);try{return a?(0,nn.pl)(this._delegate,u,a):(0,nn.pl)(this._delegate,u)}catch(f){throw $s(f,"setDoc()","DocumentReference.set()")}}update(u,a,...f){try{return 1===arguments.length?(0,nn.r7)(this._delegate,u):(0,nn.r7)(this._delegate,u,a,...f)}catch(E){throw $s(E,"updateDoc()","DocumentReference.update()")}}delete(){return(0,nn.oe)(this._delegate)}onSnapshot(...u){const a=Wa(u),f=Eh(u,E=>new Kc(this.firestore,new nn.xU(this.firestore._delegate,this._userDataWriter,E._key,E._document,E.metadata,this._delegate.converter)));return(0,nn.cf)(this._delegate,a,f)}get(u){let a;return a="cache"===(null==u?void 0:u.source)?(0,nn.kl)(this._delegate):"server"===(null==u?void 0:u.source)?(0,nn.Xk)(this._delegate):(0,nn.QT)(this._delegate),a.then(f=>new Kc(this.firestore,new nn.xU(this.firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,this._delegate.converter)))}withConverter(u){return new ea(this.firestore,this._delegate.withConverter(u?Ro.getInstance(this.firestore,u):null))}}function $s(v,u,a){return v.message=v.message.replace(u,a),v}function Wa(v){for(const u of v)if("object"==typeof u&&!Fd(u))return u;return{}}function Eh(v,u){var a,f;let E;return E=Fd(v[0])?v[0]:Fd(v[1])?v[1]:"function"==typeof v[0]?{next:v[0],error:v[1],complete:v[2]}:{next:v[1],error:v[2],complete:v[3]},{next:k=>{E.next&&E.next(u(k))},error:null===(a=E.error)||void 0===a?void 0:a.bind(E),complete:null===(f=E.complete)||void 0===f?void 0:f.bind(E)}}class Kc{constructor(u,a){this._firestore=u,this._delegate=a}get ref(){return new ea(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(u){return this._delegate.data(u)}get(u,a){return this._delegate.get(u,a)}isEqual(u){return(0,nn.qK)(this._delegate,u._delegate)}}class Il extends Kc{data(u){const a=this._delegate.data(u);return(0,nn.K9)(void 0!==a,"Document in a QueryDocumentSnapshot should exist"),a}}class zr{constructor(u,a){this.firestore=u,this._delegate=a,this._userDataWriter=new Dl(u)}where(u,a,f){try{return new zr(this.firestore,(0,nn.IO)(this._delegate,(0,nn.ar)(u,a,f)))}catch(E){throw $s(E,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(u,a){try{return new zr(this.firestore,(0,nn.IO)(this._delegate,(0,nn.Xo)(u,a)))}catch(f){throw $s(f,/(orderBy|where)\(\)/,"Query.$1()")}}limit(u){try{return new zr(this.firestore,(0,nn.IO)(this._delegate,(0,nn.b9)(u)))}catch(a){throw $s(a,"limit()","Query.limit()")}}limitToLast(u){try{return new zr(this.firestore,(0,nn.IO)(this._delegate,(0,nn.vh)(u)))}catch(a){throw $s(a,"limitToLast()","Query.limitToLast()")}}startAt(...u){try{return new zr(this.firestore,(0,nn.IO)(this._delegate,(0,nn.e0)(...u)))}catch(a){throw $s(a,"startAt()","Query.startAt()")}}startAfter(...u){try{return new zr(this.firestore,(0,nn.IO)(this._delegate,(0,nn.TQ)(...u)))}catch(a){throw $s(a,"startAfter()","Query.startAfter()")}}endBefore(...u){try{return new zr(this.firestore,(0,nn.IO)(this._delegate,(0,nn.Lx)(...u)))}catch(a){throw $s(a,"endBefore()","Query.endBefore()")}}endAt(...u){try{return new zr(this.firestore,(0,nn.IO)(this._delegate,(0,nn.Wu)(...u)))}catch(a){throw $s(a,"endAt()","Query.endAt()")}}isEqual(u){return(0,nn.iE)(this._delegate,u._delegate)}get(u){let a;return a="cache"===(null==u?void 0:u.source)?(0,nn.UQ)(this._delegate):"server"===(null==u?void 0:u.source)?(0,nn.zN)(this._delegate):(0,nn.PL)(this._delegate),a.then(f=>new qc(this.firestore,new nn.W(this.firestore._delegate,this._userDataWriter,this._delegate,f._snapshot)))}onSnapshot(...u){const a=Wa(u),f=Eh(u,E=>new qc(this.firestore,new nn.W(this.firestore._delegate,this._userDataWriter,this._delegate,E._snapshot)));return(0,nn.cf)(this._delegate,a,f)}withConverter(u){return new zr(this.firestore,this._delegate.withConverter(u?Ro.getInstance(this.firestore,u):null))}}class wh{constructor(u,a){this._firestore=u,this._delegate=a}get type(){return this._delegate.type}get doc(){return new Il(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qc{constructor(u,a){this._firestore=u,this._delegate=a}get query(){return new zr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(u=>new Il(this._firestore,u))}docChanges(u){return this._delegate.docChanges(u).map(a=>new wh(this._firestore,a))}forEach(u,a){this._delegate.forEach(f=>{u.call(a,new Il(this._firestore,f))})}isEqual(u){return(0,nn.qK)(this._delegate,u._delegate)}}class pu extends zr{constructor(u,a){super(u,a),this.firestore=u,this._delegate=a}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const u=this._delegate.parent;return u?new ea(this.firestore,u):null}doc(u){try{return new ea(this.firestore,void 0===u?(0,nn.JU)(this._delegate):(0,nn.JU)(this._delegate,u))}catch(a){throw $s(a,"doc()","CollectionReference.doc()")}}add(u){return(0,nn.ET)(this._delegate,u).then(a=>new ea(this.firestore,a))}isEqual(u){return(0,nn.Eo)(this._delegate,u._delegate)}withConverter(u){return new pu(this.firestore,this._delegate.withConverter(u?Ro.getInstance(this.firestore,u):null))}}function qu(v){return(0,nn.Cf)(v,nn.my)}class Al{constructor(...u){this._delegate=new nn.Lz(...u)}static documentId(){return new Al(nn.Xb.keyField().canonicalString())}isEqual(u){return(u=(0,en.m9)(u))instanceof nn.Lz&&this._delegate._internalPath.isEqual(u._internalPath)}}class Sl{constructor(u){this._delegate=u}static serverTimestamp(){const u=(0,nn.Bt)();return u._methodName="FieldValue.serverTimestamp",new Sl(u)}static delete(){const u=(0,nn.AK)();return u._methodName="FieldValue.delete",new Sl(u)}static arrayUnion(...u){const a=(0,nn.vr)(...u);return a._methodName="FieldValue.arrayUnion",new Sl(a)}static arrayRemove(...u){const a=(0,nn.Ab)(...u);return a._methodName="FieldValue.arrayRemove",new Sl(a)}static increment(u){const a=(0,nn.nP)(u);return a._methodName="FieldValue.increment",new Sl(a)}isEqual(u){return this._delegate.isEqual(u._delegate)}}const Yc={Firestore:bh,GeoPoint:nn.F8,Timestamp:nn.EK,Blob:hu,Transaction:Xn,WriteBatch:Vd,DocumentReference:ea,DocumentSnapshot:Kc,Query:zr,QueryDocumentSnapshot:Il,QuerySnapshot:qc,CollectionReference:pu,FieldPath:Al,FieldValue:Sl,setLogLevel:function wp(v){(0,nn.Ub)(v)},CACHE_SIZE_UNLIMITED:nn.IX};function Bd(v,u){return function Ud(v,u=Df.z){return new Ru.y(a=>{let f;return null!=u?u.schedule(()=>{f=v.onSnapshot({includeMetadataChanges:!0},a)}):f=v.onSnapshot({includeMetadataChanges:!0},a),()=>{null!=f&&f()}})}(v,u)}function Jc(v,u){return Bd(v,u).pipe((0,Us.U)(a=>({payload:a,type:"query"})))}function gs(v,u){return Jc(v,u).pipe((0,vh.O)(void 0),Zu(),(0,Us.U)(([a,f])=>{const E=f.payload.docChanges(),k=E.map(K=>({type:K.type,payload:K}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(f.payload.metadata)&&f.payload.docs.forEach((K,ye)=>{const Fe=E.find(Rt=>Rt.doc.ref.isEqual(K.ref)),ct=null==a?void 0:a.payload.docs.find(Rt=>Rt.ref.isEqual(K.ref));Fe&&JSON.stringify(Fe.doc.metadata)===JSON.stringify(K.metadata)||!Fe&&ct&&JSON.stringify(ct.metadata)===JSON.stringify(K.metadata)||k.push({type:"modified",payload:{oldIndex:ye,newIndex:ye,type:"modified",doc:K}})}),k}))}function xf(v,u,a){return gs(v,a).pipe((0,Af.R)((f,E)=>function Cp(v,u,a){return u.forEach(f=>{a.indexOf(f.type)>-1&&(v=function Bg(v,u){switch(u.type){case"added":if(!v[u.newIndex]||!v[u.newIndex].doc.ref.isEqual(u.doc.ref))return Hd(v,u.newIndex,0,u);break;case"modified":if(null==v[u.oldIndex]||v[u.oldIndex].doc.ref.isEqual(u.doc.ref)){if(u.oldIndex!==u.newIndex){const a=v.slice();return a.splice(u.oldIndex,1),a.splice(u.newIndex,0,u),a}return Hd(v,u.newIndex,1,u)}break;case"removed":if(v[u.oldIndex]&&v[u.oldIndex].doc.ref.isEqual(u.doc.ref))return Hd(v,u.oldIndex,1)}return v}(v,f))}),v}(f,E.map(k=>k.payload),u),[]),(0,_h.x)(),(0,Us.U)(f=>f.map(E=>({type:E.type,payload:E}))))}function Hd(v,u,a,...f){const E=v.slice();return E.splice(u,a,...f),E}function Th(v){return(!v||0===v.length)&&(v=["added","removed","modified"]),v}!function Ch(v){(function Qc(v,u){v.INTERNAL.registerComponent(new Wt.wA("firestore-compat",a=>{const f=a.getProvider("app-compat").getImmediate(),E=a.getProvider("firestore").getImmediate();return u(f,E)},"PUBLIC").setServiceProps(Object.assign({},Yc)))})(v,(u,a)=>new bh(u,a,new Ku)),v.registerVersion("@firebase/firestore-compat","0.2.3")}(Wc.Z);class Tp{constructor(u,a,f){this.ref=u,this.query=a,this.afs=f}stateChanges(u){let a=gs(this.query,this.afs.schedulers.outsideAngular);return u&&u.length>0&&(a=a.pipe((0,Us.U)(f=>f.filter(E=>u.indexOf(E.type)>-1)))),a.pipe((0,vh.O)(void 0),Zu(),(0,Nu.h)(([f,E])=>E.length>0||!f),(0,Us.U)(([f,E])=>E),xr.iC)}auditTrail(u){return this.stateChanges(u).pipe((0,Af.R)((a,f)=>[...a,...f],[]))}snapshotChanges(u){const a=Th(u);return xf(this.query,a,this.afs.schedulers.outsideAngular).pipe(xr.iC)}valueChanges(u={}){return Jc(this.query,this.afs.schedulers.outsideAngular).pipe((0,Us.U)(a=>a.payload.docs.map(f=>u.idField?Object.assign(Object.assign({},f.data()),{[u.idField]:f.id}):f.data())),xr.iC)}get(u){return(0,bl.D)(this.query.get(u)).pipe(xr.iC)}add(u){return this.ref.add(u)}doc(u){return new yc(this.ref.doc(u),this.afs)}}class yc{constructor(u,a){this.ref=u,this.afs=a}set(u,a){return this.ref.set(u,a)}update(u){return this.ref.update(u)}delete(){return this.ref.delete()}collection(u,a){const f=this.ref.collection(u),{ref:E,query:k}=$d(f,a);return new Tp(E,k,this.afs)}snapshotChanges(){return function Ug(v,u){return Bd(v,u).pipe((0,vh.O)(void 0),Zu(),(0,Us.U)(([a,f])=>f.exists?(null==a?void 0:a.exists)?{payload:f,type:"modified"}:{payload:f,type:"added"}:{payload:f,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xr.iC)}valueChanges(u={}){return this.snapshotChanges().pipe((0,Us.U)(({payload:a})=>u.idField?Object.assign(Object.assign({},a.data()),{[u.idField]:a.id}):a.data()))}get(u){return(0,bl.D)(this.ref.get(u)).pipe(xr.iC)}}class Of{constructor(u,a){this.query=u,this.afs=a}stateChanges(u){return u&&0!==u.length?gs(this.query,this.afs.schedulers.outsideAngular).pipe((0,Us.U)(a=>a.filter(f=>u.indexOf(f.type)>-1)),(0,Nu.h)(a=>a.length>0),xr.iC):gs(this.query,this.afs.schedulers.outsideAngular).pipe(xr.iC)}auditTrail(u){return this.stateChanges(u).pipe((0,Af.R)((a,f)=>[...a,...f],[]))}snapshotChanges(u){const a=Th(u);return xf(this.query,a,this.afs.schedulers.outsideAngular).pipe(xr.iC)}valueChanges(u={}){return Jc(this.query,this.afs.schedulers.outsideAngular).pipe((0,Us.U)(f=>f.payload.docs.map(E=>u.idField?Object.assign({[u.idField]:E.id},E.data()):E.data())),xr.iC)}get(u){return(0,bl.D)(this.query.get(u)).pipe(xr.iC)}}const Dh=new d.OlP("angularfire2.enableFirestorePersistence"),vc=new d.OlP("angularfire2.firestore.persistenceSettings"),Mf=new d.OlP("angularfire2.firestore.settings"),jd=new d.OlP("angularfire2.firestore.use-emulator");function $d(v,u=(a=>a)){return{query:u(v),ref:v}}let Pf=(()=>{class v{constructor(a,f,E,k,K,ye,Fe,ct,Rt,dn,xn,Fn,Vn,$n,ki,fr,pr){this.schedulers=Fe;const nr=(0,no.on)(a,ye,f),ci=Rt;dn&&Tl(nr,ye,xn,Vn,$n,ki,Fn,fr),[this.firestore,this.persistenceEnabled$]=(0,no.cc)(`${nr.name}.firestore`,"AngularFirestore",nr.name,()=>{const ir=ye.runOutsideAngular(()=>nr.firestore());if(k&&ir.settings(k),ci&&ir.useEmulator(...ci),E&&!(0,ut.PM)(K)){const gr=()=>{try{return(0,bl.D)(ir.enablePersistence(ct||void 0).then(()=>!0,()=>!1))}catch(Fr){return"undefined"!=typeof console&&console.warn(Fr),(0,_l.of)(!1)}};return[ir,ye.runOutsideAngular(gr)]}return[ir,(0,_l.of)(!1)]},[k,ci,E])}collection(a,f){let E;E="string"==typeof a?this.firestore.collection(a):a;const{ref:k,query:K}=$d(E,f),ye=this.schedulers.ngZone.run(()=>k);return new Tp(ye,K,this)}collectionGroup(a,f){const E=f||(K=>K),k=this.firestore.collectionGroup(a);return new Of(E(k),this)}doc(a){let f;f="string"==typeof a?this.firestore.doc(a):a;const E=this.schedulers.ngZone.run(()=>f);return new yc(E,this)}createId(){return this.firestore.collection("_").doc().id}}return v.\u0275fac=function(a){return new(a||v)(d.LFG(no.Dh),d.LFG(no.xv,8),d.LFG(Dh,8),d.LFG(Mf,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(xr.HU),d.LFG(vc,8),d.LFG(jd,8),d.LFG(zl,8),d.LFG(cl,8),d.LFG(Gc,8),d.LFG(Pd,8),d.LFG(Rd,8),d.LFG(yh,8),d.LFG(Nd,8),d.LFG(pc,8))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),Rf=(()=>{class v{constructor(){Wu.Z.registerVersion("angularfire",xr.q4.full,"fst-compat")}static enablePersistence(a){return{ngModule:v,providers:[{provide:Dh,useValue:!0},{provide:vc,useValue:a}]}}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=d.oAB({type:v}),v.\u0275inj=d.cJS({providers:[Pf]}),v})(),Dp=(()=>{class v{}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=d.oAB({type:v,bootstrap:[Ai]}),v.\u0275inj=d.cJS({providers:[{provide:ie.TP,useClass:V,multi:!0},{provide:ie.TP,useClass:Ac,multi:!0}],imports:[[ra,Be.UX,Be.u5,Rf,du,no.hO.initializeApp({apiKey:"AIzaSyBspMnWz9iq5Evt11YwGkcEPqghHyIGwuo",authDomain:"joinapp-515e6.firebaseapp.com",databaseURL:"https://joinapp-515e6.firebaseio.com",projectId:"joinapp-515e6",storageBucket:"joinapp-515e6.appspot.com",messagingSenderId:"794053292456",appId:"1:794053292456:web:36878b6a9a02cff3"}),et.forRoot(),rt.fx.forRoot(),ut.ez,oc.Rh.forRoot(),g.b2,ie.JF,J,Qe.mr.forRoot(),Te.aw.forRoot({defaultLanguage:"en",loader:{provide:Te.Zw,useFactory:Hg,deps:[ie.eN]}}),Hl]]}),v})();function Hg(v){return new U.w(v,"./assets/i18n/",".json")}(0,d.G48)(),g.q6().bootstrapModule(Dp).catch(v=>console.error(v))},5867:(qt,Ze,x)=>{x.d(Ze,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=x(9681);(0,g.registerVersion)("firebase","9.14.0","app")},127:(qt,Ze,x)=>{x.d(Ze,{Z:()=>g.Z});var g=x(3942);g.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(qt,Ze,x)=>{x.r(Ze);var g=x(5861),d=x(3942),W=x(8247),Te=x(2090),Ce=(x(9681),x(1877),x(4859));function ce(){return window}function ue(){return(ue=(0,g.Z)(function*(ve,X,$){var ee;const{BuildInfo:re}=ce();(0,W.ap)(X.sessionId,"AuthEvent did not contain a session ID");const Ae=yield rt(X.sessionId),Ye={};return(0,W.aq)()?Ye.ibi=re.packageName:(0,W.ar)()?Ye.apn=re.packageName:(0,W.as)(ve,"operation-not-supported-in-this-environment"),re.displayName&&(Ye.appDisplayName=re.displayName),Ye.sessionId=Ae,(0,W.at)(ve,$,X.type,void 0,null!==(ee=X.eventId)&&void 0!==ee?ee:void 0,Ye)})).apply(this,arguments)}function lt(){return(lt=(0,g.Z)(function*(ve){const{BuildInfo:X}=ce(),$={};(0,W.aq)()?$.iosBundleId=X.packageName:(0,W.ar)()?$.androidPackageName=X.packageName:(0,W.as)(ve,"operation-not-supported-in-this-environment"),yield(0,W.au)(ve,$)})).apply(this,arguments)}function ut(){return(ut=(0,g.Z)(function*(ve,X,$){const{cordova:ee}=ce();let re=()=>{};try{yield new Promise((Ae,Ye)=>{let Pt=null;function kt(){var bn;Ae();const vi=null===(bn=ee.plugins.browsertab)||void 0===bn?void 0:bn.close;"function"==typeof vi&&vi(),"function"==typeof(null==$?void 0:$.close)&&$.close()}function gn(){Pt||(Pt=window.setTimeout(()=>{Ye((0,W.aw)(ve,"redirect-cancelled-by-user"))},2e3))}function fn(){"visible"===(null==document?void 0:document.visibilityState)&&gn()}X.addPassiveListener(kt),document.addEventListener("resume",gn,!1),(0,W.ar)()&&document.addEventListener("visibilitychange",fn,!1),re=()=>{X.removePassiveListener(kt),document.removeEventListener("resume",gn,!1),document.removeEventListener("visibilitychange",fn,!1),Pt&&window.clearTimeout(Pt)}})}finally{re()}})).apply(this,arguments)}function rt(ve){return Be.apply(this,arguments)}function Be(){return(Be=(0,g.Z)(function*(ve){const X=pt(ve),$=yield crypto.subtle.digest("SHA-256",X);return Array.from(new Uint8Array($)).map(re=>re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pt(ve){if((0,W.ap)(/[0-9a-zA-Z]+/.test(ve),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ve);const X=new ArrayBuffer(ve.length),$=new Uint8Array(X);for(let ee=0;ee<ve.length;ee++)$[ee]=ve.charCodeAt(ee);return $}class we extends W.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(X=>{this.resolveInialized=X})}addPassiveListener(X){this.passiveListeners.add(X)}removePassiveListener(X){this.passiveListeners.delete(X)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(X){return this.resolveInialized(),this.passiveListeners.forEach($=>$(X)),super.onEvent(X)}initialized(){var X=this;return(0,g.Z)(function*(){yield X.initPromise})()}}function Y(ve){return qe.apply(this,arguments)}function qe(){return(qe=(0,g.Z)(function*(ve){const X=yield Ge()._get(Je(ve));return X&&(yield Ge()._remove(Je(ve))),X})).apply(this,arguments)}function Ve(){const ve=[],X="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let $=0;$<20;$++){const ee=Math.floor(Math.random()*X.length);ve.push(X.charAt(ee))}return ve.join("")}function Ge(){return(0,W.az)(W.b)}function Je(ve){return(0,W.aA)("authEvent",ve.config.apiKey,ve.name)}function Nt(ve){if(!(null==ve?void 0:ve.includes("?")))return{};const[X,...$]=ve.split("?");return(0,Te.zd)($.join("?"))}function q(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,W.aw)("no-auth-event")}}function Xt(){var ve;return(null===(ve=null==self?void 0:self.location)||void 0===ve?void 0:ve.protocol)||null}function In(ve=(0,Te.z$)()){return!("file:"!==Xt()&&"ionic:"!==Xt()&&"capacitor:"!==Xt()||!ve.toLowerCase().match(/iphone|ipad|ipod|android/))}function ei(){try{const ve=self.localStorage,X=W.aI();if(ve)return ve.setItem(X,"1"),ve.removeItem(X),!function Ii(ve=(0,Te.z$)()){return function di(){return(0,Te.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Kn(ve=(0,Te.z$)()){return/Edge\/\d+/.test(ve)}(ve)}()||(0,Te.hl)()}catch(ve){return Ni()&&(0,Te.hl)()}return!1}function Ni(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function qn(){return(function hn(){return"http:"===Xt()||"https:"===Xt()}()||(0,Te.ru)()||In())&&!function zn(){return(0,Te.b$)()||(0,Te.UG)()}()&&ei()&&!Ni()}function Fi(){return In()&&"undefined"!=typeof document}function Oi(){return(Oi=(0,g.Z)(function*(){return!!Fi()&&new Promise(ve=>{const X=setTimeout(()=>{ve(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(X),ve(!0)})})})).apply(this,arguments)}const Jt={LOCAL:"local",NONE:"none",SESSION:"session"},Mi=W.ax,hi="persistence";function Le(ve){return $e.apply(this,arguments)}function $e(){return($e=(0,g.Z)(function*(ve){yield ve._initializationPromise;const X=Ct(),$=W.aA(hi,ve.config.apiKey,ve.name);X&&X.setItem($,ve._getPersistence())})).apply(this,arguments)}function Ct(){var ve;try{return(null===(ve=function Yn(){return"undefined"!=typeof window?window:null}())||void 0===ve?void 0:ve.sessionStorage)||null}catch(X){return null}}const Vt=W.ax;class zt{constructor(){this.browserResolver=W.az(W.k),this.cordovaResolver=W.az(class gt{constructor(){this._redirectPersistence=W.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=W.aB,this._overrideRedirectResult=W.aC}_initialize(X){var $=this;return(0,g.Z)(function*(){const ee=X._key();let re=$.eventManagers.get(ee);return re||(re=new we(X),$.eventManagers.set(ee,re),$.attachCallbackListeners(X,re)),re})()}_openPopup(X){(0,W.as)(X,"operation-not-supported-in-this-environment")}_openRedirect(X,$,ee,re){var Ae=this;return(0,g.Z)(function*(){!function Qe(ve){var X,$,ee,re,Ae,Ye,Pt,kt,gn,fn;const bn=ce();(0,W.ax)("function"==typeof(null===(X=null==bn?void 0:bn.universalLinks)||void 0===X?void 0:X.subscribe),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,W.ax)(void 0!==(null===($=null==bn?void 0:bn.BuildInfo)||void 0===$?void 0:$.packageName),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,W.ax)("function"==typeof(null===(Ae=null===(re=null===(ee=null==bn?void 0:bn.cordova)||void 0===ee?void 0:ee.plugins)||void 0===re?void 0:re.browsertab)||void 0===Ae?void 0:Ae.openUrl),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.ax)("function"==typeof(null===(kt=null===(Pt=null===(Ye=null==bn?void 0:bn.cordova)||void 0===Ye?void 0:Ye.plugins)||void 0===Pt?void 0:Pt.browsertab)||void 0===kt?void 0:kt.isAvailable),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.ax)("function"==typeof(null===(fn=null===(gn=null==bn?void 0:bn.cordova)||void 0===gn?void 0:gn.InAppBrowser)||void 0===fn?void 0:fn.open),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(X);const Ye=yield Ae._initialize(X);yield Ye.initialized(),Ye.resetRedirect(),(0,W.aD)(),yield Ae._originValidation(X);const Pt=function Xe(ve,X,$=null){return{type:X,eventId:$,urlResponse:null,sessionId:Ve(),postBody:null,tenantId:ve.tenantId,error:(0,W.aw)(ve,"no-auth-event")}}(X,ee,re);yield function Tt(ve,X){return Ge()._set(Je(ve),X)}(X,Pt);const kt=yield function te(ve,X,$){return ue.apply(this,arguments)}(X,Pt,$),gn=yield function nt(ve){const{cordova:X}=ce();return new Promise($=>{X.plugins.browsertab.isAvailable(ee=>{let re=null;ee?X.plugins.browsertab.openUrl(ve):re=X.InAppBrowser.open(ve,(0,W.av)()?"_blank":"_system","location=yes"),$(re)})})}(kt);return function ht(ve,X,$){return ut.apply(this,arguments)}(X,Ye,gn)})()}_isIframeWebStorageSupported(X,$){throw new Error("Method not implemented.")}_originValidation(X){const $=X._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function ke(ve){return lt.apply(this,arguments)}(X)),this.originValidationPromises[$]}attachCallbackListeners(X,$){const{universalLinks:ee,handleOpenURL:re,BuildInfo:Ae}=ce(),Ye=setTimeout((0,g.Z)(function*(){yield Y(X),$.onEvent(q())}),500),Pt=function(){var fn=(0,g.Z)(function*(bn){clearTimeout(Ye);const vi=yield Y(X);let bi=null;vi&&(null==bn?void 0:bn.url)&&(bi=function et(ve,X){var $,ee;const re=function it(ve){const X=Nt(ve),$=X.link?decodeURIComponent(X.link):void 0,ee=Nt($).link,re=X.deep_link_id?decodeURIComponent(X.deep_link_id):void 0;return Nt(re).link||re||ee||$||ve}(X);if(re.includes("/__/auth/callback")){const Ae=Nt(re),Ye=Ae.firebaseError?function ot(ve){try{return JSON.parse(ve)}catch(X){return null}}(decodeURIComponent(Ae.firebaseError)):null,Pt=null===(ee=null===($=null==Ye?void 0:Ye.code)||void 0===$?void 0:$.split("auth/"))||void 0===ee?void 0:ee[1],kt=Pt?(0,W.aw)(Pt):null;return kt?{type:ve.type,eventId:ve.eventId,tenantId:ve.tenantId,error:kt,urlResponse:null,sessionId:null,postBody:null}:{type:ve.type,eventId:ve.eventId,tenantId:ve.tenantId,sessionId:ve.sessionId,urlResponse:re,postBody:null}}return null}(vi,bn.url)),$.onEvent(bi||q())});return function(vi){return fn.apply(this,arguments)}}();void 0!==ee&&"function"==typeof ee.subscribe&&ee.subscribe(null,Pt);const kt=re,gn=`${Ae.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var fn=(0,g.Z)(function*(bn){if(bn.toLowerCase().startsWith(gn)&&Pt({url:bn}),"function"==typeof kt)try{kt(bn)}catch(vi){console.error(vi)}});return function(bn){return fn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=W.a,this._completeRedirectFn=W.aB,this._overrideRedirectResult=W.aC}_initialize(X){var $=this;return(0,g.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(X)})()}_openPopup(X,$,ee,re){var Ae=this;return(0,g.Z)(function*(){return yield Ae.selectUnderlyingResolver(),Ae.assertedUnderlyingResolver._openPopup(X,$,ee,re)})()}_openRedirect(X,$,ee,re){var Ae=this;return(0,g.Z)(function*(){return yield Ae.selectUnderlyingResolver(),Ae.assertedUnderlyingResolver._openRedirect(X,$,ee,re)})()}_isIframeWebStorageSupported(X,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(X,$)}_originValidation(X){return this.assertedUnderlyingResolver._originValidation(X)}get _shouldInitProactively(){return Fi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var X=this;return(0,g.Z)(function*(){if(X.underlyingResolver)return;const $=yield function un(){return Oi.apply(this,arguments)}();X.underlyingResolver=$?X.cordovaResolver:X.browserResolver})()}}function Re(ve){return ve.unwrap()}function Ee(ve){return _t(ve)}function _t(ve){const{_tokenResponse:X}=ve instanceof Te.ZR?ve.customData:ve;if(!X)return null;if(!(ve instanceof Te.ZR)&&"temporaryProof"in X&&"phoneNumber"in X)return W.P.credentialFromResult(ve);const $=X.providerId;if(!$||$===W.o.PASSWORD)return null;let ee;switch($){case W.o.GOOGLE:ee=W.Q;break;case W.o.FACEBOOK:ee=W.N;break;case W.o.GITHUB:ee=W.T;break;case W.o.TWITTER:ee=W.W;break;default:const{oauthIdToken:re,oauthAccessToken:Ae,oauthTokenSecret:Ye,pendingToken:Pt,nonce:kt}=X;return Ae||Ye||re||Pt?Pt?$.startsWith("saml.")?W.aL._create($,Pt):W.J._fromParams({providerId:$,signInMethod:$,pendingToken:Pt,idToken:re,accessToken:Ae}):new W.U($).credential({idToken:re,accessToken:Ae,rawNonce:kt}):null}return ve instanceof Te.ZR?ee.credentialFromError(ve):ee.credentialFromResult(ve)}function Dt(ve,X){return X.catch($=>{throw $ instanceof Te.ZR&&function We(ve,X){var $,ee;const re=null===($=X.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ee=X)||void 0===ee?void 0:ee.code))X.resolver=new _n(ve,W.an(ve,X));else if(re){const Ae=_t(X),Ye=X;Ae&&(Ye.credential=Ae,Ye.tenantId=re.tenantId||void 0,Ye.email=re.email||void 0,Ye.phoneNumber=re.phoneNumber||void 0)}}(ve,$),$}).then($=>{const re=$.user;return{operationType:$.operationType,credential:Ee($),additionalUserInfo:W.al($),user:ln.getOrCreate(re)}})}function wt(ve,X){return pn.apply(this,arguments)}function pn(){return(pn=(0,g.Z)(function*(ve,X){const $=yield X;return{verificationId:$.verificationId,confirm:ee=>Dt(ve,$.confirm(ee))}})).apply(this,arguments)}class _n{constructor(X,$){this.resolver=$,this.auth=function xe(ve){return ve.wrapped()}(X)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(X){return Dt(Re(this.auth),this.resolver.resolveSignIn(X))}}class ln{constructor(X){this._delegate=X,this.multiFactor=W.ao(X)}static getOrCreate(X){return ln.USER_MAP.has(X)||ln.USER_MAP.set(X,new ln(X)),ln.USER_MAP.get(X)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(X){return this._delegate.getIdTokenResult(X)}getIdToken(X){return this._delegate.getIdToken(X)}linkAndRetrieveDataWithCredential(X){return this.linkWithCredential(X)}linkWithCredential(X){var $=this;return(0,g.Z)(function*(){return Dt($.auth,W.Z($._delegate,X))})()}linkWithPhoneNumber(X,$){var ee=this;return(0,g.Z)(function*(){return wt(ee.auth,W.l(ee._delegate,X,$))})()}linkWithPopup(X){var $=this;return(0,g.Z)(function*(){return Dt($.auth,W.d($._delegate,X,zt))})()}linkWithRedirect(X){var $=this;return(0,g.Z)(function*(){return yield Le(W.aE($.auth)),W.g($._delegate,X,zt)})()}reauthenticateAndRetrieveDataWithCredential(X){return this.reauthenticateWithCredential(X)}reauthenticateWithCredential(X){var $=this;return(0,g.Z)(function*(){return Dt($.auth,W._($._delegate,X))})()}reauthenticateWithPhoneNumber(X,$){return wt(this.auth,W.r(this._delegate,X,$))}reauthenticateWithPopup(X){return Dt(this.auth,W.e(this._delegate,X,zt))}reauthenticateWithRedirect(X){var $=this;return(0,g.Z)(function*(){return yield Le(W.aE($.auth)),W.h($._delegate,X,zt)})()}sendEmailVerification(X){return W.ab(this._delegate,X)}unlink(X){var $=this;return(0,g.Z)(function*(){return yield W.ak($._delegate,X),$})()}updateEmail(X){return W.ag(this._delegate,X)}updatePassword(X){return W.ah(this._delegate,X)}updatePhoneNumber(X){return W.u(this._delegate,X)}updateProfile(X){return W.af(this._delegate,X)}verifyBeforeUpdateEmail(X,$){return W.ac(this._delegate,X,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ln.USER_MAP=new WeakMap;const z=W.ax;let he=(()=>{class ve{constructor($,ee){if(this.app=$,ee.isInitialized())return this._delegate=ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:re}=$.options;z(re,"invalid-api-key",{appName:$.name}),z(re,"invalid-api-key",{appName:$.name});const Ae="undefined"!=typeof window?zt:void 0;this._delegate=ee.initialize({options:{persistence:Ue(re,$.name),popupRedirectResolver:Ae}}),this._delegate._updateErrorMap(W.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ln.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,ee){W.G(this._delegate,$,ee)}applyActionCode($){return W.a2(this._delegate,$)}checkActionCode($){return W.a3(this._delegate,$)}confirmPasswordReset($,ee){return W.a1(this._delegate,$,ee)}createUserWithEmailAndPassword($,ee){var re=this;return(0,g.Z)(function*(){return Dt(re._delegate,W.a5(re._delegate,$,ee))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return W.aa(this._delegate,$)}isSignInWithEmailLink($){return W.a8(this._delegate,$)}getRedirectResult(){var $=this;return(0,g.Z)(function*(){z(qn(),$._delegate,"operation-not-supported-in-this-environment");const ee=yield W.j($._delegate,zt);return ee?Dt($._delegate,Promise.resolve(ee)):{credential:null,user:null}})()}addFrameworkForLogging($){!function Se(ve,X){(0,W.aE)(ve)._logFramework(X)}(this._delegate,$)}onAuthStateChanged($,ee,re){const{next:Ae,error:Ye,complete:Pt}=be($,ee,re);return this._delegate.onAuthStateChanged(Ae,Ye,Pt)}onIdTokenChanged($,ee,re){const{next:Ae,error:Ye,complete:Pt}=be($,ee,re);return this._delegate.onIdTokenChanged(Ae,Ye,Pt)}sendSignInLinkToEmail($,ee){return W.a7(this._delegate,$,ee)}sendPasswordResetEmail($,ee){return W.a0(this._delegate,$,ee||void 0)}setPersistence($){var ee=this;return(0,g.Z)(function*(){let re;switch(function It(ve,X){Mi(Object.values(Jt).includes(X),ve,"invalid-persistence-type"),(0,Te.b$)()?Mi(X!==Jt.SESSION,ve,"unsupported-persistence-type"):(0,Te.UG)()?Mi(X===Jt.NONE,ve,"unsupported-persistence-type"):Ni()?Mi(X===Jt.NONE||X===Jt.LOCAL&&(0,Te.hl)(),ve,"unsupported-persistence-type"):Mi(X===Jt.NONE||ei(),ve,"unsupported-persistence-type")}(ee._delegate,$),$){case Jt.SESSION:re=W.a;break;case Jt.LOCAL:re=(yield W.az(W.i)._isAvailable())?W.i:W.b;break;case Jt.NONE:re=W.L;break;default:return W.as("argument-error",{appName:ee._delegate.name})}return ee._delegate.setPersistence(re)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return Dt(this._delegate,W.X(this._delegate))}signInWithCredential($){return Dt(this._delegate,W.Y(this._delegate,$))}signInWithCustomToken($){return Dt(this._delegate,W.$(this._delegate,$))}signInWithEmailAndPassword($,ee){return Dt(this._delegate,W.a6(this._delegate,$,ee))}signInWithEmailLink($,ee){return Dt(this._delegate,W.a9(this._delegate,$,ee))}signInWithPhoneNumber($,ee){return wt(this._delegate,W.s(this._delegate,$,ee))}signInWithPopup($){var ee=this;return(0,g.Z)(function*(){return z(qn(),ee._delegate,"operation-not-supported-in-this-environment"),Dt(ee._delegate,W.c(ee._delegate,$,zt))})()}signInWithRedirect($){var ee=this;return(0,g.Z)(function*(){return z(qn(),ee._delegate,"operation-not-supported-in-this-environment"),yield Le(ee._delegate),W.f(ee._delegate,$,zt)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return W.a4(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ve.Persistence=Jt,ve})();function be(ve,X,$){let ee=ve;"function"!=typeof ve&&({next:ee,error:X,complete:$}=ve);const re=ee;return{next:Ye=>re(Ye&&ln.getOrCreate(Ye)),error:X,complete:$}}function Ue(ve,X){const $=function Ft(ve,X){const $=Ct();if(!$)return[];const ee=W.aA(hi,ve,X);switch($.getItem(ee)){case Jt.NONE:return[W.L];case Jt.LOCAL:return[W.i,W.a];case Jt.SESSION:return[W.a];default:return[]}}(ve,X);if("undefined"!=typeof self&&!$.includes(W.i)&&$.push(W.i),"undefined"!=typeof window)for(const ee of[W.b,W.a])$.includes(ee)||$.push(ee);return $.includes(W.L)||$.push(W.L),$}class mt{constructor(){this.providerId="phone",this._delegate=new W.P(Re(d.Z.auth()))}static credential(X,$){return W.P.credential(X,$)}verifyPhoneNumber(X,$){return this._delegate.verifyPhoneNumber(X,$)}unwrap(){return this._delegate}}mt.PHONE_SIGN_IN_METHOD=W.P.PHONE_SIGN_IN_METHOD,mt.PROVIDER_ID=W.P.PROVIDER_ID;const St=W.ax;class de{constructor(X,$,ee=d.Z.app()){var re;St(null===(re=ee.options)||void 0===re?void 0:re.apiKey,"invalid-api-key",{appName:ee.name}),this._delegate=new W.R(X,$,ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Me(ve){ve.INTERNAL.registerComponent(new Ce.wA("auth-compat",X=>{const $=X.getProvider("app-compat").getImmediate(),ee=X.getProvider("auth");return new he($,ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:W.A.EMAIL_SIGNIN,PASSWORD_RESET:W.A.PASSWORD_RESET,RECOVER_EMAIL:W.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:W.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:W.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:W.A.VERIFY_EMAIL}},EmailAuthProvider:W.M,FacebookAuthProvider:W.N,GithubAuthProvider:W.T,GoogleAuthProvider:W.Q,OAuthProvider:W.U,SAMLAuthProvider:W.V,PhoneAuthProvider:mt,PhoneMultiFactorGenerator:W.m,RecaptchaVerifier:de,TwitterAuthProvider:W.W,Auth:he,AuthCredential:W.H,Error:Te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ve.registerVersion("@firebase/auth-compat","0.2.24")}(d.Z)},8968:(qt,Ze,x)=>{function _e(Re,xe,Ee,We){var wt,_t=arguments.length,Dt=_t<3?xe:null===We?We=Object.getOwnPropertyDescriptor(xe,Ee):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Dt=Reflect.decorate(Re,xe,Ee,We);else for(var pn=Re.length-1;pn>=0;pn--)(wt=Re[pn])&&(Dt=(_t<3?wt(Dt):_t>3?wt(xe,Ee,Dt):wt(xe,Ee))||Dt);return _t>3&&Dt&&Object.defineProperty(xe,Ee,Dt),Dt}function Ne(Re,xe){return function(Ee,We){xe(Ee,We,Re)}}function Ce(Re,xe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Re,xe)}x.d(Ze,{Rh:()=>Le,_W:()=>Jt});var Y=x(5e3),qe=x(1777),et=x(7579),Ve=x(2313),Ge=x(9808);const Je=["toast-component",""];function ot(Re,xe){if(1&Re){const Ee=Y.EpF();Y.TgZ(0,"button",5),Y.NdJ("click",function(){return Y.CHM(Ee),Y.oxw().remove()}),Y.TgZ(1,"span",6),Y._uU(2,"\xd7"),Y.qZA()()}}function it(Re,xe){if(1&Re&&(Y.ynx(0),Y._uU(1),Y.BQk()),2&Re){const Ee=Y.oxw(2);Y.xp6(1),Y.hij("[",Ee.duplicatesCount+1,"]")}}function Nt(Re,xe){if(1&Re&&(Y.TgZ(0,"div"),Y._uU(1),Y.YNc(2,it,2,1,"ng-container",4),Y.qZA()),2&Re){const Ee=Y.oxw();Y.Tol(Ee.options.titleClass),Y.uIk("aria-label",Ee.title),Y.xp6(1),Y.hij(" ",Ee.title," "),Y.xp6(1),Y.Q6J("ngIf",Ee.duplicatesCount)}}function on(Re,xe){if(1&Re&&Y._UZ(0,"div",7),2&Re){const Ee=Y.oxw();Y.Tol(Ee.options.messageClass),Y.Q6J("innerHTML",Ee.message,Y.oJD)}}function gt(Re,xe){if(1&Re&&(Y.TgZ(0,"div",8),Y._uU(1),Y.qZA()),2&Re){const Ee=Y.oxw();Y.Tol(Ee.options.messageClass),Y.uIk("aria-label",Ee.message),Y.xp6(1),Y.hij(" ",Ee.message," ")}}function vt(Re,xe){if(1&Re&&(Y.TgZ(0,"div"),Y._UZ(1,"div",9),Y.qZA()),2&Re){const Ee=Y.oxw();Y.xp6(1),Y.Udp("width",Ee.width+"%")}}function q(Re,xe){if(1&Re){const Ee=Y.EpF();Y.TgZ(0,"button",5),Y.NdJ("click",function(){return Y.CHM(Ee),Y.oxw().remove()}),Y.TgZ(1,"span",6),Y._uU(2,"\xd7"),Y.qZA()()}}function Se(Re,xe){if(1&Re&&(Y.ynx(0),Y._uU(1),Y.BQk()),2&Re){const Ee=Y.oxw(2);Y.xp6(1),Y.hij("[",Ee.duplicatesCount+1,"]")}}function Ke(Re,xe){if(1&Re&&(Y.TgZ(0,"div"),Y._uU(1),Y.YNc(2,Se,2,1,"ng-container",4),Y.qZA()),2&Re){const Ee=Y.oxw();Y.Tol(Ee.options.titleClass),Y.uIk("aria-label",Ee.title),Y.xp6(1),Y.hij(" ",Ee.title," "),Y.xp6(1),Y.Q6J("ngIf",Ee.duplicatesCount)}}function Mt(Re,xe){if(1&Re&&Y._UZ(0,"div",7),2&Re){const Ee=Y.oxw();Y.Tol(Ee.options.messageClass),Y.Q6J("innerHTML",Ee.message,Y.oJD)}}function Gt(Re,xe){if(1&Re&&(Y.TgZ(0,"div",8),Y._uU(1),Y.qZA()),2&Re){const Ee=Y.oxw();Y.Tol(Ee.options.messageClass),Y.uIk("aria-label",Ee.message),Y.xp6(1),Y.hij(" ",Ee.message," ")}}function Xt(Re,xe){if(1&Re&&(Y.TgZ(0,"div"),Y._UZ(1,"div",9),Y.qZA()),2&Re){const Ee=Y.oxw();Y.xp6(1),Y.Udp("width",Ee.width+"%")}}class zn{constructor(xe,Ee,We,_t,Dt,wt){this.toastId=xe,this.config=Ee,this.message=We,this.title=_t,this.toastType=Dt,this.toastRef=wt,this._onTap=new et.x,this._onAction=new et.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(xe){this._onAction.next(xe)}onAction(){return this._onAction.asObservable()}}const di={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Kn=new Y.OlP("ToastConfig");class Ii{constructor(xe,Ee){this.component=xe,this.injector=Ee}attach(xe,Ee){return this._attachedHost=xe,xe.attach(this,Ee)}detach(){const xe=this._attachedHost;if(xe)return this._attachedHost=void 0,xe.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(xe){this._attachedHost=xe}}class Ni extends class ei{attach(xe,Ee){return this._attachedPortal=xe,this.attachComponentPortal(xe,Ee)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(xe){this._disposeFn=xe}}{constructor(xe,Ee,We){super(),this._hostDomElement=xe,this._componentFactoryResolver=Ee,this._appRef=We}attachComponentPortal(xe,Ee){const We=this._componentFactoryResolver.resolveComponentFactory(xe.component);let _t;return _t=We.create(xe.injector),this._appRef.attachView(_t.hostView),this.setDisposeFn(()=>{this._appRef.detachView(_t.hostView),_t.destroy()}),Ee?this._hostDomElement.insertBefore(this._getComponentRootNode(_t),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(_t)),_t}_getComponentRootNode(xe){return xe.hostView.rootNodes[0]}}let qn=class{constructor(xe){this._document=xe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const xe=this._document.createElement("div");xe.classList.add("overlay-container"),this._document.body.appendChild(xe),this._containerElement=xe}};qn.\u0275fac=function(xe){return new(xe||qn)(Y.LFG(Ge.K0))},qn.\u0275prov=Y.Yz7({token:qn,factory:function(Re){return qn.\u0275fac(Re)},providedIn:"root"}),qn.ngInjectableDef=(0,Y.Yz7)({factory:function(){return new qn((0,Y.LFG)(Ge.K0))},token:qn,providedIn:"root"}),qn=_e([Ne(0,(0,Y.tBr)(Ge.K0)),Ce("design:paramtypes",[Object])],qn);class Fi{constructor(xe){this._portalHost=xe}attach(xe,Ee=!0){return this._portalHost.attach(xe,Ee)}detach(){return this._portalHost.detach()}}let un=class{constructor(xe,Ee,We,_t){this._overlayContainer=xe,this._componentFactoryResolver=Ee,this._appRef=We,this._document=_t,this._paneElements=new Map}create(xe,Ee){return this._createOverlayRef(this.getPaneElement(xe,Ee))}getPaneElement(xe="",Ee){return this._paneElements.get(Ee)||this._paneElements.set(Ee,{}),this._paneElements.get(Ee)[xe]||(this._paneElements.get(Ee)[xe]=this._createPaneElement(xe,Ee)),this._paneElements.get(Ee)[xe]}_createPaneElement(xe,Ee){const We=this._document.createElement("div");return We.id="toast-container",We.classList.add(xe),We.classList.add("toast-container"),Ee?Ee.getContainerElement().appendChild(We):this._overlayContainer.getContainerElement().appendChild(We),We}_createPortalHost(xe){return new Ni(xe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(xe){return new Fi(this._createPortalHost(xe))}};un.\u0275fac=function(xe){return new(xe||un)(Y.LFG(qn),Y.LFG(Y._Vd),Y.LFG(Y.z2F),Y.LFG(Ge.K0))},un.\u0275prov=Y.Yz7({token:un,factory:function(Re){return un.\u0275fac(Re)},providedIn:"root"}),un.ngInjectableDef=(0,Y.Yz7)({factory:function(){return new un((0,Y.LFG)(qn),(0,Y.LFG)(Y._Vd),(0,Y.LFG)(Y.z2F),(0,Y.LFG)(Ge.K0))},token:un,providedIn:"root"}),un=_e([Ne(3,(0,Y.tBr)(Ge.K0)),Ce("design:paramtypes",[qn,Y._Vd,Y.z2F,Object])],un);class Oi{constructor(xe){this._overlayRef=xe,this.duplicatesCount=0,this._afterClosed=new et.x,this._activate=new et.x,this._manualClose=new et.x,this._resetTimeout=new et.x,this._countDuplicate=new et.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(xe,Ee){xe&&this._resetTimeout.next(),Ee&&this._countDuplicate.next(++this.duplicatesCount)}}class Yn{constructor(xe,Ee){this._toastPackage=xe,this._parentInjector=Ee}get(xe,Ee,We){return xe===zn?this._toastPackage:this._parentInjector.get(xe,Ee,We)}}let Jt=class{constructor(xe,Ee,We,_t,Dt){this.overlay=Ee,this._injector=We,this.sanitizer=_t,this.ngZone=Dt,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign({},xe.default,xe.config),xe.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign({},xe.default.iconClasses,xe.config.iconClasses))}show(xe,Ee,We={},_t=""){return this._preBuildNotification(_t,xe,Ee,this.applyConfig(We))}success(xe,Ee,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",xe,Ee,this.applyConfig(We))}error(xe,Ee,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",xe,Ee,this.applyConfig(We))}info(xe,Ee,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",xe,Ee,this.applyConfig(We))}warning(xe,Ee,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",xe,Ee,this.applyConfig(We))}clear(xe){for(const Ee of this.toasts)if(void 0!==xe){if(Ee.toastId===xe)return void Ee.toastRef.manualClose()}else Ee.toastRef.manualClose()}remove(xe){const Ee=this._findToast(xe);if(!Ee||(Ee.activeToast.toastRef.close(),this.toasts.splice(Ee.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const We=this.toasts[this.currentlyActive].toastRef;We.isInactive()||(this.currentlyActive=this.currentlyActive+1,We.activate())}return!0}findDuplicate(xe,Ee,We){for(const _t of this.toasts)if(_t.message===xe)return _t.toastRef.onDuplicate(Ee,We),_t;return null}applyConfig(xe={}){return Object.assign({},this.toastrConfig,xe)}_findToast(xe){for(let Ee=0;Ee<this.toasts.length;Ee++)if(this.toasts[Ee].toastId===xe)return{index:Ee,activeToast:this.toasts[Ee]};return null}_preBuildNotification(xe,Ee,We,_t){return _t.onActivateTick?this.ngZone.run(()=>this._buildNotification(xe,Ee,We,_t)):this._buildNotification(xe,Ee,We,_t)}_buildNotification(xe,Ee,We,_t){if(!_t.toastComponent)throw new Error("toastComponent required");const Dt=this.findDuplicate(Ee,this.toastrConfig.resetTimeoutOnDuplicate&&_t.timeOut>0,this.toastrConfig.countDuplicates);if(Ee&&this.toastrConfig.preventDuplicates&&null!==Dt)return Dt;this.previousToastMessage=Ee;let wt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(wt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const pn=this.overlay.create(_t.positionClass,this.overlayContainer);this.index=this.index+1;let _n=Ee;Ee&&_t.enableHtml&&(_n=this.sanitizer.sanitize(Y.q3G.HTML,Ee));const ln=new Oi(pn),z=new zn(this.index,_t,_n,We,xe,ln),he=new Yn(z,this._injector),be=new Ii(_t.toastComponent,he),Ue=pn.attach(be,this.toastrConfig.newestOnTop);ln.componentInstance=Ue._component;const mt={toastId:this.index,message:Ee||"",toastRef:ln,onShown:ln.afterActivate(),onHidden:ln.afterClosed(),onTap:z.onTap(),onAction:z.onAction(),portal:Ue};return wt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{mt.toastRef.activate()})),this.toasts.push(mt),mt}};Jt.\u0275fac=function(xe){return new(xe||Jt)(Y.LFG(Kn),Y.LFG(un),Y.LFG(Y.zs3),Y.LFG(Ve.H7),Y.LFG(Y.R0b))},Jt.\u0275prov=Y.Yz7({token:Jt,factory:function(Re){return Jt.\u0275fac(Re)},providedIn:"root"}),Jt.ngInjectableDef=(0,Y.Yz7)({factory:function(){return new Jt((0,Y.LFG)(Kn),(0,Y.LFG)(un),(0,Y.LFG)(Y.gxx),(0,Y.LFG)(Ve.H7),(0,Y.LFG)(Y.R0b))},token:Jt,providedIn:"root"}),Jt=_e([Ne(0,(0,Y.tBr)(Kn)),Ce("design:paramtypes",[Object,un,Y.zs3,Ve.H7,Y.R0b])],Jt);let Mi=(()=>{let Re=class{constructor(Ee,We,_t){this.toastrService=Ee,this.toastPackage=We,this.ngZone=_t,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=We.message,this.title=We.title,this.options=We.config,this.originalTimeout=We.config.timeOut,this.toastClasses=`${We.toastType} ${We.config.toastClass}`,this.sub=We.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=We.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=We.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=We.toastRef.countDuplicate().subscribe(Dt=>{this.duplicatesCount=Dt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign({},this.state,{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ee=(new Date).getTime();this.width=(this.hideTime-Ee)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign({},this.state,{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign({},this.state,{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ee,We){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ee),We)):this.timeout=setTimeout(()=>Ee(),We)}outsideInterval(Ee,We){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ee),We)):this.intervalId=setInterval(()=>Ee(),We)}runInsideAngular(Ee){this.ngZone?this.ngZone.run(()=>Ee()):Ee()}};return Re.\u0275fac=function(Ee){return new(Ee||Re)(Y.Y36(Jt),Y.Y36(zn),Y.Y36(Y.R0b))},Re.\u0275cmp=Y.Xpm({type:Re,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ee,We){1&Ee&&Y.NdJ("click",function(){return We.tapToast()})("mouseenter",function(){return We.stickAround()})("mouseleave",function(){return We.delayedHideToast()}),2&Ee&&(Y.d8E("@flyInOut",We.state),Y.Tol(We.toastClasses),Y.Udp("display",We.displayStyle))},attrs:Je,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(Ee,We){1&Ee&&(Y.YNc(0,ot,3,0,"button",0),Y.YNc(1,Nt,3,5,"div",1),Y.YNc(2,on,1,3,"div",2),Y.YNc(3,gt,2,4,"div",3),Y.YNc(4,vt,2,2,"div",4)),2&Ee&&(Y.Q6J("ngIf",We.options.closeButton),Y.xp6(1),Y.Q6J("ngIf",We.title),Y.xp6(1),Y.Q6J("ngIf",We.message&&We.options.enableHtml),Y.xp6(1),Y.Q6J("ngIf",We.message&&!We.options.enableHtml),Y.xp6(1),Y.Q6J("ngIf",We.options.progressBar))},directives:[Ge.O5],encapsulation:2,data:{animation:[(0,qe.X$)("flyInOut",[(0,qe.SB)("inactive",(0,qe.oB)({opacity:0})),(0,qe.SB)("active",(0,qe.oB)({opacity:1})),(0,qe.SB)("removed",(0,qe.oB)({opacity:0})),(0,qe.eR)("inactive => active",(0,qe.jt)("{{ easeTime }}ms {{ easing }}")),(0,qe.eR)("active => removed",(0,qe.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),_e([(0,Y.pfw)("class"),Ce("design:type",Object)],Re.prototype,"toastClasses",void 0),_e([(0,Y.pfw)("@flyInOut"),Ce("design:type",Object)],Re.prototype,"state",void 0),_e([(0,Y.pfw)("style.display"),Ce("design:type",Object),Ce("design:paramtypes",[])],Re.prototype,"displayStyle",null),_e([(0,Y.L6J)("click"),Ce("design:type",Function),Ce("design:paramtypes",[]),Ce("design:returntype",void 0)],Re.prototype,"tapToast",null),_e([(0,Y.L6J)("mouseenter"),Ce("design:type",Function),Ce("design:paramtypes",[]),Ce("design:returntype",void 0)],Re.prototype,"stickAround",null),_e([(0,Y.L6J)("mouseleave"),Ce("design:type",Function),Ce("design:paramtypes",[]),Ce("design:returntype",void 0)],Re.prototype,"delayedHideToast",null),Re=_e([Ce("design:paramtypes",[Jt,zn,Y.R0b])],Re),Re})();var hi;const It=Object.assign({},di,{toastComponent:Mi});let Le=hi=class{static forRoot(xe={}){return{ngModule:hi,providers:[{provide:Kn,useValue:{default:It,config:xe}}]}}};var Ft;Le.\u0275fac=function(xe){return new(xe||Le)},Le.\u0275mod=Y.oAB({type:Le}),Le.\u0275inj=Y.cJS({imports:[[Ge.ez]]});const Vt=Object.assign({},di,{toastComponent:(()=>{let Re=class{constructor(Ee,We,_t){this.toastrService=Ee,this.toastPackage=We,this.appRef=_t,this.width=-1,this.toastClasses="",this.state="inactive",this.message=We.message,this.title=We.title,this.options=We.config,this.originalTimeout=We.config.timeOut,this.toastClasses=`${We.toastType} ${We.config.toastClass}`,this.sub=We.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=We.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=We.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=We.toastRef.countDuplicate().subscribe(Dt=>{this.duplicatesCount=Dt})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ee=(new Date).getTime();this.width=(this.hideTime-Ee)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}};return Re.\u0275fac=function(Ee){return new(Ee||Re)(Y.Y36(Jt),Y.Y36(zn),Y.Y36(Y.z2F))},Re.\u0275cmp=Y.Xpm({type:Re,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(Ee,We){1&Ee&&Y.NdJ("click",function(){return We.tapToast()})("mouseenter",function(){return We.stickAround()})("mouseleave",function(){return We.delayedHideToast()}),2&Ee&&(Y.Tol(We.toastClasses),Y.Udp("display",We.displayStyle))},attrs:Je,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(Ee,We){1&Ee&&(Y.YNc(0,q,3,0,"button",0),Y.YNc(1,Ke,3,5,"div",1),Y.YNc(2,Mt,1,3,"div",2),Y.YNc(3,Gt,2,4,"div",3),Y.YNc(4,Xt,2,2,"div",4)),2&Ee&&(Y.Q6J("ngIf",We.options.closeButton),Y.xp6(1),Y.Q6J("ngIf",We.title),Y.xp6(1),Y.Q6J("ngIf",We.message&&We.options.enableHtml),Y.xp6(1),Y.Q6J("ngIf",We.message&&!We.options.enableHtml),Y.xp6(1),Y.Q6J("ngIf",We.options.progressBar))},directives:[Ge.O5],encapsulation:2}),_e([(0,Y.pfw)("class"),Ce("design:type",Object)],Re.prototype,"toastClasses",void 0),_e([(0,Y.pfw)("style.display"),Ce("design:type",Object),Ce("design:paramtypes",[])],Re.prototype,"displayStyle",null),_e([(0,Y.L6J)("click"),Ce("design:type",Function),Ce("design:paramtypes",[]),Ce("design:returntype",void 0)],Re.prototype,"tapToast",null),_e([(0,Y.L6J)("mouseenter"),Ce("design:type",Function),Ce("design:paramtypes",[]),Ce("design:returntype",void 0)],Re.prototype,"stickAround",null),_e([(0,Y.L6J)("mouseleave"),Ce("design:type",Function),Ce("design:paramtypes",[]),Ce("design:returntype",void 0)],Re.prototype,"delayedHideToast",null),Re=_e([Ce("design:paramtypes",[Jt,zn,Y.z2F])],Re),Re})()});let zt=Ft=class{static forRoot(xe={}){return{ngModule:Ft,providers:[{provide:Kn,useValue:{default:Vt,config:xe}}]}}};zt.\u0275fac=function(xe){return new(xe||zt)},zt.\u0275mod=Y.oAB({type:zt}),zt.\u0275inj=Y.cJS({imports:[[Ge.ez]]})},1135:(qt,Ze,x)=>{x.d(Ze,{X:()=>d});var g=x(7579);class d extends g.x{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const _e=super._subscribe(Te);return!_e.closed&&Te.next(this._value),_e}getValue(){const{hasError:Te,thrownError:_e,_value:Ne}=this;if(Te)throw _e;return this._throwIfClosed(),Ne}next(Te){super.next(this._value=Te)}}},8306:(qt,Ze,x)=>{x.d(Ze,{y:()=>te});var g=x(930),d=x(727),W=x(8822),Te=x(4671);var Ce=x(2416),ce=x(576),J=x(2806);let te=(()=>{class nt{constructor(ut){ut&&(this._subscribe=ut)}lift(ut){const Qe=new nt;return Qe.source=this,Qe.operator=ut,Qe}subscribe(ut,Qe,rt){const Be=function lt(nt){return nt&&nt instanceof g.Lv||function ke(nt){return nt&&(0,ce.m)(nt.next)&&(0,ce.m)(nt.error)&&(0,ce.m)(nt.complete)}(nt)&&(0,d.Nn)(nt)}(ut)?ut:new g.Hp(ut,Qe,rt);return(0,J.x)(()=>{const{operator:pt,source:me}=this;Be.add(pt?pt.call(Be,me):me?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(ut){try{return this._subscribe(ut)}catch(Qe){ut.error(Qe)}}forEach(ut,Qe){return new(Qe=ue(Qe))((rt,Be)=>{const pt=new g.Hp({next:me=>{try{ut(me)}catch(we){Be(we),pt.unsubscribe()}},error:Be,complete:rt});this.subscribe(pt)})}_subscribe(ut){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(ut)}[W.L](){return this}pipe(...ut){return function Ne(nt){return 0===nt.length?Te.y:1===nt.length?nt[0]:function(ut){return nt.reduce((Qe,rt)=>rt(Qe),ut)}}(ut)(this)}toPromise(ut){return new(ut=ue(ut))((Qe,rt)=>{let Be;this.subscribe(pt=>Be=pt,pt=>rt(pt),()=>Qe(Be))})}}return nt.create=ht=>new nt(ht),nt})();function ue(nt){var ht;return null!==(ht=null!=nt?nt:Ce.v.Promise)&&void 0!==ht?ht:Promise}},7579:(qt,Ze,x)=>{x.d(Ze,{x:()=>Ce});var g=x(8306),d=x(727);const Te=(0,x(3888).d)(J=>function(){J(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=x(8737),Ne=x(2806);let Ce=(()=>{class J extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const ke=new ce(this,this);return ke.operator=ue,ke}_throwIfClosed(){if(this.closed)throw new Te}next(ue){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ke of this.currentObservers)ke.next(ue)}})}error(ue){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:ke}=this;for(;ke.length;)ke.shift().error(ue)}})}complete(){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:ke,isStopped:lt,observers:nt}=this;return ke||lt?d.Lc:(this.currentObservers=null,nt.push(ue),new d.w0(()=>{this.currentObservers=null,(0,_e.P)(nt,ue)}))}_checkFinalizedStatuses(ue){const{hasError:ke,thrownError:lt,isStopped:nt}=this;ke?ue.error(lt):nt&&ue.complete()}asObservable(){const ue=new g.y;return ue.source=this,ue}}return J.create=(te,ue)=>new ce(te,ue),J})();class ce extends Ce{constructor(te,ue){super(),this.destination=te,this.source=ue}next(te){var ue,ke;null===(ke=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===ke||ke.call(ue,te)}error(te){var ue,ke;null===(ke=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===ke||ke.call(ue,te)}complete(){var te,ue;null===(ue=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===ue||ue.call(te)}_subscribe(te){var ue,ke;return null!==(ke=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(te))&&void 0!==ke?ke:d.Lc}}},930:(qt,Ze,x)=>{x.d(Ze,{Hp:()=>ut,Lv:()=>ke});var g=x(576),d=x(727),W=x(2416),Te=x(7849),_e=x(5032);const Ne=J("C",void 0,void 0);function J(me,we,Xe){return{kind:me,value:we,error:Xe}}var te=x(3410),ue=x(2806);class ke extends d.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,d.Nn)(we)&&we.add(this)):this.destination=pt}static create(we,Xe,Tt){return new ut(we,Xe,Tt)}next(we){this.isStopped?Be(function ce(me){return J("N",me,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Be(function Ce(me){return J("E",void 0,me)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Be(Ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const lt=Function.prototype.bind;function nt(me,we){return lt.call(me,we)}class ht{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Xe}=this;if(Xe.next)try{Xe.next(we)}catch(Tt){Qe(Tt)}}error(we){const{partialObserver:Xe}=this;if(Xe.error)try{Xe.error(we)}catch(Tt){Qe(Tt)}else Qe(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Xe){Qe(Xe)}}}class ut extends ke{constructor(we,Xe,Tt){let Y;if(super(),(0,g.m)(we)||!we)Y={next:null!=we?we:void 0,error:null!=Xe?Xe:void 0,complete:null!=Tt?Tt:void 0};else{let qe;this&&W.v.useDeprecatedNextContext?(qe=Object.create(we),qe.unsubscribe=()=>this.unsubscribe(),Y={next:we.next&&nt(we.next,qe),error:we.error&&nt(we.error,qe),complete:we.complete&&nt(we.complete,qe)}):Y=we}this.destination=new ht(Y)}}function Qe(me){W.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(me):(0,Te.h)(me)}function Be(me,we){const{onStoppedNotification:Xe}=W.v;Xe&&te.z.setTimeout(()=>Xe(me,we))}const pt={closed:!0,next:_e.Z,error:function rt(me){throw me},complete:_e.Z}},727:(qt,Ze,x)=>{x.d(Ze,{Lc:()=>Ne,w0:()=>_e,Nn:()=>Ce});var g=x(576);const W=(0,x(3888).d)(J=>function(ue){J(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((ke,lt)=>`${lt+1}) ${ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var Te=x(8737);class _e{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const nt of ue)nt.remove(this);else ue.remove(this);const{initialTeardown:ke}=this;if((0,g.m)(ke))try{ke()}catch(nt){te=nt instanceof W?nt.errors:[nt]}const{_finalizers:lt}=this;if(lt){this._finalizers=null;for(const nt of lt)try{ce(nt)}catch(ht){te=null!=te?te:[],ht instanceof W?te=[...te,...ht.errors]:te.push(ht)}}if(te)throw new W(te)}}add(te){var ue;if(te&&te!==this)if(this.closed)ce(te);else{if(te instanceof _e){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(te)}}_hasParent(te){const{_parentage:ue}=this;return ue===te||Array.isArray(ue)&&ue.includes(te)}_addParent(te){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(te),ue):ue?[ue,te]:te}_removeParent(te){const{_parentage:ue}=this;ue===te?this._parentage=null:Array.isArray(ue)&&(0,Te.P)(ue,te)}remove(te){const{_finalizers:ue}=this;ue&&(0,Te.P)(ue,te),te instanceof _e&&te._removeParent(this)}}_e.EMPTY=(()=>{const J=new _e;return J.closed=!0,J})();const Ne=_e.EMPTY;function Ce(J){return J instanceof _e||J&&"closed"in J&&(0,g.m)(J.remove)&&(0,g.m)(J.add)&&(0,g.m)(J.unsubscribe)}function ce(J){(0,g.m)(J)?J():J.unsubscribe()}},2416:(qt,Ze,x)=>{x.d(Ze,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(qt,Ze,x)=>{x.d(Ze,{a:()=>te});var g=x(8306),d=x(4742),W=x(8996),Te=x(4671),_e=x(3268),Ne=x(3269),Ce=x(1810),ce=x(5403),J=x(9672);function te(...lt){const nt=(0,Ne.yG)(lt),ht=(0,Ne.jO)(lt),{args:ut,keys:Qe}=(0,d.D)(lt);if(0===ut.length)return(0,W.D)([],nt);const rt=new g.y(function ue(lt,nt,ht=Te.y){return ut=>{ke(nt,()=>{const{length:Qe}=lt,rt=new Array(Qe);let Be=Qe,pt=Qe;for(let me=0;me<Qe;me++)ke(nt,()=>{const we=(0,W.D)(lt[me],nt);let Xe=!1;we.subscribe((0,ce.x)(ut,Tt=>{rt[me]=Tt,Xe||(Xe=!0,pt--),pt||ut.next(ht(rt.slice()))},()=>{--Be||ut.complete()}))},ut)},ut)}}(ut,nt,Qe?Be=>(0,Ce.n)(Qe,Be):Te.y));return ht?rt.pipe((0,_e.Z)(ht)):rt}function ke(lt,nt,ht){lt?(0,J.f)(ht,lt,nt):nt()}},7272:(qt,Ze,x)=>{x.d(Ze,{z:()=>_e});var g=x(8189),W=x(3269),Te=x(8996);function _e(...Ne){return function d(){return(0,g.J)(1)}()((0,Te.D)(Ne,(0,W.yG)(Ne)))}},9770:(qt,Ze,x)=>{x.d(Ze,{P:()=>W});var g=x(8306),d=x(8421);function W(Te){return new g.y(_e=>{(0,d.Xf)(Te()).subscribe(_e)})}},515:(qt,Ze,x)=>{x.d(Ze,{E:()=>d});const d=new(x(8306).y)(_e=>_e.complete())},4128:(qt,Ze,x)=>{x.d(Ze,{D:()=>ce});var g=x(8306),d=x(4742),W=x(8421),Te=x(3269),_e=x(5403),Ne=x(3268),Ce=x(1810);function ce(...J){const te=(0,Te.jO)(J),{args:ue,keys:ke}=(0,d.D)(J),lt=new g.y(nt=>{const{length:ht}=ue;if(!ht)return void nt.complete();const ut=new Array(ht);let Qe=ht,rt=ht;for(let Be=0;Be<ht;Be++){let pt=!1;(0,W.Xf)(ue[Be]).subscribe((0,_e.x)(nt,me=>{pt||(pt=!0,rt--),ut[Be]=me},()=>Qe--,void 0,()=>{(!Qe||!pt)&&(rt||nt.next(ke?(0,Ce.n)(ke,ut):ut),nt.complete())}))}});return te?lt.pipe((0,Ne.Z)(te)):lt}},8996:(qt,Ze,x)=>{x.d(Ze,{D:()=>we});var g=x(8421),d=x(5363),W=x(9468),Ne=x(8306),ce=x(2202),J=x(576),te=x(9672);function ke(Xe,Tt){if(!Xe)throw new Error("Iterable cannot be null");return new Ne.y(Y=>{(0,te.f)(Y,Tt,()=>{const qe=Xe[Symbol.asyncIterator]();(0,te.f)(Y,Tt,()=>{qe.next().then(et=>{et.done?Y.complete():Y.next(et.value)})},0,!0)})})}var lt=x(3670),nt=x(8239),ht=x(1144),ut=x(6495),Qe=x(2206),rt=x(4532),Be=x(3260);function we(Xe,Tt){return Tt?function me(Xe,Tt){if(null!=Xe){if((0,lt.c)(Xe))return function Te(Xe,Tt){return(0,g.Xf)(Xe).pipe((0,W.R)(Tt),(0,d.Q)(Tt))}(Xe,Tt);if((0,ht.z)(Xe))return function Ce(Xe,Tt){return new Ne.y(Y=>{let qe=0;return Tt.schedule(function(){qe===Xe.length?Y.complete():(Y.next(Xe[qe++]),Y.closed||this.schedule())})})}(Xe,Tt);if((0,nt.t)(Xe))return function _e(Xe,Tt){return(0,g.Xf)(Xe).pipe((0,W.R)(Tt),(0,d.Q)(Tt))}(Xe,Tt);if((0,Qe.D)(Xe))return ke(Xe,Tt);if((0,ut.T)(Xe))return function ue(Xe,Tt){return new Ne.y(Y=>{let qe;return(0,te.f)(Y,Tt,()=>{qe=Xe[ce.h](),(0,te.f)(Y,Tt,()=>{let et,Ve;try{({value:et,done:Ve}=qe.next())}catch(Ge){return void Y.error(Ge)}Ve?Y.complete():Y.next(et)},0,!0)}),()=>(0,J.m)(null==qe?void 0:qe.return)&&qe.return()})}(Xe,Tt);if((0,Be.L)(Xe))return function pt(Xe,Tt){return ke((0,Be.Q)(Xe),Tt)}(Xe,Tt)}throw(0,rt.z)(Xe)}(Xe,Tt):(0,g.Xf)(Xe)}},8421:(qt,Ze,x)=>{x.d(Ze,{Xf:()=>lt});var g=x(655),d=x(1144),W=x(8239),Te=x(8306),_e=x(3670),Ne=x(2206),Ce=x(4532),ce=x(6495),J=x(3260),te=x(576),ue=x(7849),ke=x(8822);function lt(me){if(me instanceof Te.y)return me;if(null!=me){if((0,_e.c)(me))return function nt(me){return new Te.y(we=>{const Xe=me[ke.L]();if((0,te.m)(Xe.subscribe))return Xe.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(me);if((0,d.z)(me))return function ht(me){return new Te.y(we=>{for(let Xe=0;Xe<me.length&&!we.closed;Xe++)we.next(me[Xe]);we.complete()})}(me);if((0,W.t)(me))return function ut(me){return new Te.y(we=>{me.then(Xe=>{we.closed||(we.next(Xe),we.complete())},Xe=>we.error(Xe)).then(null,ue.h)})}(me);if((0,Ne.D)(me))return rt(me);if((0,ce.T)(me))return function Qe(me){return new Te.y(we=>{for(const Xe of me)if(we.next(Xe),we.closed)return;we.complete()})}(me);if((0,J.L)(me))return function Be(me){return rt((0,J.Q)(me))}(me)}throw(0,Ce.z)(me)}function rt(me){return new Te.y(we=>{(function pt(me,we){var Xe,Tt,Y,qe;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Xe=(0,g.KL)(me);!(Tt=yield Xe.next()).done;)if(we.next(Tt.value),we.closed)return}catch(et){Y={error:et}}finally{try{Tt&&!Tt.done&&(qe=Xe.return)&&(yield qe.call(Xe))}finally{if(Y)throw Y.error}}we.complete()})})(me,we).catch(Xe=>we.error(Xe))})}},6451:(qt,Ze,x)=>{x.d(Ze,{T:()=>Ne});var g=x(8189),d=x(8421),W=x(515),Te=x(3269),_e=x(8996);function Ne(...Ce){const ce=(0,Te.yG)(Ce),J=(0,Te._6)(Ce,1/0),te=Ce;return te.length?1===te.length?(0,d.Xf)(te[0]):(0,g.J)(J)((0,_e.D)(te,ce)):W.E}},9646:(qt,Ze,x)=>{x.d(Ze,{of:()=>W});var g=x(3269),d=x(8996);function W(...Te){const _e=(0,g.yG)(Te);return(0,d.D)(Te,_e)}},5403:(qt,Ze,x)=>{x.d(Ze,{x:()=>d});var g=x(930);function d(Te,_e,Ne,Ce,ce){return new W(Te,_e,Ne,Ce,ce)}class W extends g.Lv{constructor(_e,Ne,Ce,ce,J,te){super(_e),this.onFinalize=J,this.shouldUnsubscribe=te,this._next=Ne?function(ue){try{Ne(ue)}catch(ke){_e.error(ke)}}:super._next,this._error=ce?function(ue){try{ce(ue)}catch(ke){_e.error(ke)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(ue){_e.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ne}=this;super.unsubscribe(),!Ne&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},4351:(qt,Ze,x)=>{x.d(Ze,{b:()=>W});var g=x(5577),d=x(576);function W(Te,_e){return(0,d.m)(_e)?(0,g.z)(Te,_e,1):(0,g.z)(Te,1)}},6590:(qt,Ze,x)=>{x.d(Ze,{d:()=>W});var g=x(4482),d=x(5403);function W(Te){return(0,g.e)((_e,Ne)=>{let Ce=!1;_e.subscribe((0,d.x)(Ne,ce=>{Ce=!0,Ne.next(ce)},()=>{Ce||Ne.next(Te),Ne.complete()}))})}},1884:(qt,Ze,x)=>{x.d(Ze,{x:()=>Te});var g=x(4671),d=x(4482),W=x(5403);function Te(Ne,Ce=g.y){return Ne=null!=Ne?Ne:_e,(0,d.e)((ce,J)=>{let te,ue=!0;ce.subscribe((0,W.x)(J,ke=>{const lt=Ce(ke);(ue||!Ne(te,lt))&&(ue=!1,te=lt,J.next(ke))}))})}function _e(Ne,Ce){return Ne===Ce}},9300:(qt,Ze,x)=>{x.d(Ze,{h:()=>W});var g=x(4482),d=x(5403);function W(Te,_e){return(0,g.e)((Ne,Ce)=>{let ce=0;Ne.subscribe((0,d.x)(Ce,J=>Te.call(_e,J,ce++)&&Ce.next(J)))})}},590:(qt,Ze,x)=>{x.d(Ze,{P:()=>Ce});var g=x(6805),d=x(9300),W=x(5698),Te=x(6590),_e=x(8068),Ne=x(4671);function Ce(ce,J){const te=arguments.length>=2;return ue=>ue.pipe(ce?(0,d.h)((ke,lt)=>ce(ke,lt,ue)):Ne.y,(0,W.q)(1),te?(0,Te.d)(J):(0,_e.T)(()=>new g.K))}},4004:(qt,Ze,x)=>{x.d(Ze,{U:()=>W});var g=x(4482),d=x(5403);function W(Te,_e){return(0,g.e)((Ne,Ce)=>{let ce=0;Ne.subscribe((0,d.x)(Ce,J=>{Ce.next(Te.call(_e,J,ce++))}))})}},8189:(qt,Ze,x)=>{x.d(Ze,{J:()=>W});var g=x(5577),d=x(4671);function W(Te=1/0){return(0,g.z)(d.y,Te)}},5577:(qt,Ze,x)=>{x.d(Ze,{z:()=>ce});var g=x(4004),d=x(8421),W=x(4482),Te=x(9672),_e=x(5403),Ce=x(576);function ce(J,te,ue=1/0){return(0,Ce.m)(te)?ce((ke,lt)=>(0,g.U)((nt,ht)=>te(ke,nt,lt,ht))((0,d.Xf)(J(ke,lt))),ue):("number"==typeof te&&(ue=te),(0,W.e)((ke,lt)=>function Ne(J,te,ue,ke,lt,nt,ht,ut){const Qe=[];let rt=0,Be=0,pt=!1;const me=()=>{pt&&!Qe.length&&!rt&&te.complete()},we=Tt=>rt<ke?Xe(Tt):Qe.push(Tt),Xe=Tt=>{nt&&te.next(Tt),rt++;let Y=!1;(0,d.Xf)(ue(Tt,Be++)).subscribe((0,_e.x)(te,qe=>{null==lt||lt(qe),nt?we(qe):te.next(qe)},()=>{Y=!0},void 0,()=>{if(Y)try{for(rt--;Qe.length&&rt<ke;){const qe=Qe.shift();ht?(0,Te.f)(te,ht,()=>Xe(qe)):Xe(qe)}me()}catch(qe){te.error(qe)}}))};return J.subscribe((0,_e.x)(te,we,()=>{pt=!0,me()})),()=>{null==ut||ut()}}(ke,lt,J,ue)))}},5363:(qt,Ze,x)=>{x.d(Ze,{Q:()=>Te});var g=x(9672),d=x(4482),W=x(5403);function Te(_e,Ne=0){return(0,d.e)((Ce,ce)=>{Ce.subscribe((0,W.x)(ce,J=>(0,g.f)(ce,_e,()=>ce.next(J),Ne),()=>(0,g.f)(ce,_e,()=>ce.complete(),Ne),J=>(0,g.f)(ce,_e,()=>ce.error(J),Ne)))})}},5026:(qt,Ze,x)=>{x.d(Ze,{R:()=>Te});var g=x(4482),d=x(5403);function W(_e,Ne,Ce,ce,J){return(te,ue)=>{let ke=Ce,lt=Ne,nt=0;te.subscribe((0,d.x)(ue,ht=>{const ut=nt++;lt=ke?_e(lt,ht,ut):(ke=!0,ht),ce&&ue.next(lt)},J&&(()=>{ke&&ue.next(lt),ue.complete()})))}}function Te(_e,Ne){return(0,g.e)(W(_e,Ne,arguments.length>=2,!0))}},3099:(qt,Ze,x)=>{x.d(Ze,{B:()=>_e});var g=x(8421),d=x(7579),W=x(930),Te=x(4482);function _e(Ce={}){const{connector:ce=(()=>new d.x),resetOnError:J=!0,resetOnComplete:te=!0,resetOnRefCountZero:ue=!0}=Ce;return ke=>{let lt,nt,ht,ut=0,Qe=!1,rt=!1;const Be=()=>{null==nt||nt.unsubscribe(),nt=void 0},pt=()=>{Be(),lt=ht=void 0,Qe=rt=!1},me=()=>{const we=lt;pt(),null==we||we.unsubscribe()};return(0,Te.e)((we,Xe)=>{ut++,!rt&&!Qe&&Be();const Tt=ht=null!=ht?ht:ce();Xe.add(()=>{ut--,0===ut&&!rt&&!Qe&&(nt=Ne(me,ue))}),Tt.subscribe(Xe),!lt&&ut>0&&(lt=new W.Hp({next:Y=>Tt.next(Y),error:Y=>{rt=!0,Be(),nt=Ne(pt,J,Y),Tt.error(Y)},complete:()=>{Qe=!0,Be(),nt=Ne(pt,te),Tt.complete()}}),(0,g.Xf)(we).subscribe(lt))})(ke)}}function Ne(Ce,ce,...J){if(!0===ce)return void Ce();if(!1===ce)return;const te=new W.Hp({next:()=>{te.unsubscribe(),Ce()}});return ce(...J).subscribe(te)}},3151:(qt,Ze,x)=>{x.d(Ze,{d:()=>_e});var g=x(7579),d=x(6063);class W extends g.x{constructor(Ce=1/0,ce=1/0,J=d.l){super(),this._bufferSize=Ce,this._windowTime=ce,this._timestampProvider=J,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ce===1/0,this._bufferSize=Math.max(1,Ce),this._windowTime=Math.max(1,ce)}next(Ce){const{isStopped:ce,_buffer:J,_infiniteTimeWindow:te,_timestampProvider:ue,_windowTime:ke}=this;ce||(J.push(Ce),!te&&J.push(ue.now()+ke)),this._trimBuffer(),super.next(Ce)}_subscribe(Ce){this._throwIfClosed(),this._trimBuffer();const ce=this._innerSubscribe(Ce),{_infiniteTimeWindow:J,_buffer:te}=this,ue=te.slice();for(let ke=0;ke<ue.length&&!Ce.closed;ke+=J?1:2)Ce.next(ue[ke]);return this._checkFinalizedStatuses(Ce),ce}_trimBuffer(){const{_bufferSize:Ce,_timestampProvider:ce,_buffer:J,_infiniteTimeWindow:te}=this,ue=(te?1:2)*Ce;if(Ce<1/0&&ue<J.length&&J.splice(0,J.length-ue),!te){const ke=ce.now();let lt=0;for(let nt=1;nt<J.length&&J[nt]<=ke;nt+=2)lt=nt;lt&&J.splice(0,lt+1)}}}var Te=x(3099);function _e(Ne,Ce,ce){let J,te=!1;return Ne&&"object"==typeof Ne?({bufferSize:J=1/0,windowTime:Ce=1/0,refCount:te=!1,scheduler:ce}=Ne):J=null!=Ne?Ne:1/0,(0,Te.B)({connector:()=>new W(J,Ce,ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:te})}},8675:(qt,Ze,x)=>{x.d(Ze,{O:()=>Te});var g=x(7272),d=x(3269),W=x(4482);function Te(..._e){const Ne=(0,d.yG)(_e);return(0,W.e)((Ce,ce)=>{(Ne?(0,g.z)(_e,Ce,Ne):(0,g.z)(_e,Ce)).subscribe(ce)})}},9468:(qt,Ze,x)=>{x.d(Ze,{R:()=>d});var g=x(4482);function d(W,Te=0){return(0,g.e)((_e,Ne)=>{Ne.add(W.schedule(()=>_e.subscribe(Ne),Te))})}},3900:(qt,Ze,x)=>{x.d(Ze,{w:()=>Te});var g=x(8421),d=x(4482),W=x(5403);function Te(_e,Ne){return(0,d.e)((Ce,ce)=>{let J=null,te=0,ue=!1;const ke=()=>ue&&!J&&ce.complete();Ce.subscribe((0,W.x)(ce,lt=>{null==J||J.unsubscribe();let nt=0;const ht=te++;(0,g.Xf)(_e(lt,ht)).subscribe(J=(0,W.x)(ce,ut=>ce.next(Ne?Ne(lt,ut,ht,nt++):ut),()=>{J=null,ke()}))},()=>{ue=!0,ke()}))})}},5698:(qt,Ze,x)=>{x.d(Ze,{q:()=>Te});var g=x(515),d=x(4482),W=x(5403);function Te(_e){return _e<=0?()=>g.E:(0,d.e)((Ne,Ce)=>{let ce=0;Ne.subscribe((0,W.x)(Ce,J=>{++ce<=_e&&(Ce.next(J),_e<=ce&&Ce.complete())}))})}},8505:(qt,Ze,x)=>{x.d(Ze,{b:()=>_e});var g=x(576),d=x(4482),W=x(5403),Te=x(4671);function _e(Ne,Ce,ce){const J=(0,g.m)(Ne)||Ce||ce?{next:Ne,error:Ce,complete:ce}:Ne;return J?(0,d.e)((te,ue)=>{var ke;null===(ke=J.subscribe)||void 0===ke||ke.call(J);let lt=!0;te.subscribe((0,W.x)(ue,nt=>{var ht;null===(ht=J.next)||void 0===ht||ht.call(J,nt),ue.next(nt)},()=>{var nt;lt=!1,null===(nt=J.complete)||void 0===nt||nt.call(J),ue.complete()},nt=>{var ht;lt=!1,null===(ht=J.error)||void 0===ht||ht.call(J,nt),ue.error(nt)},()=>{var nt,ht;lt&&(null===(nt=J.unsubscribe)||void 0===nt||nt.call(J)),null===(ht=J.finalize)||void 0===ht||ht.call(J)}))}):Te.y}},8068:(qt,Ze,x)=>{x.d(Ze,{T:()=>Te});var g=x(6805),d=x(4482),W=x(5403);function Te(Ne=_e){return(0,d.e)((Ce,ce)=>{let J=!1;Ce.subscribe((0,W.x)(ce,te=>{J=!0,ce.next(te)},()=>J?ce.complete():ce.error(Ne())))})}function _e(){return new g.K}},4408:(qt,Ze,x)=>{x.d(Ze,{o:()=>_e});var g=x(727);class d extends g.w0{constructor(Ce,ce){super()}schedule(Ce,ce=0){return this}}const W={setInterval(Ne,Ce,...ce){const{delegate:J}=W;return(null==J?void 0:J.setInterval)?J.setInterval(Ne,Ce,...ce):setInterval(Ne,Ce,...ce)},clearInterval(Ne){const{delegate:Ce}=W;return((null==Ce?void 0:Ce.clearInterval)||clearInterval)(Ne)},delegate:void 0};var Te=x(8737);class _e extends d{constructor(Ce,ce){super(Ce,ce),this.scheduler=Ce,this.work=ce,this.pending=!1}schedule(Ce,ce=0){var J;if(this.closed)return this;this.state=Ce;const te=this.id,ue=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(ue,te,ce)),this.pending=!0,this.delay=ce,this.id=null!==(J=this.id)&&void 0!==J?J:this.requestAsyncId(ue,this.id,ce),this}requestAsyncId(Ce,ce,J=0){return W.setInterval(Ce.flush.bind(Ce,this),J)}recycleAsyncId(Ce,ce,J=0){if(null!=J&&this.delay===J&&!1===this.pending)return ce;null!=ce&&W.clearInterval(ce)}execute(Ce,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute(Ce,ce);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,ce){let te,J=!1;try{this.work(Ce)}catch(ue){J=!0,te=ue||new Error("Scheduled action threw falsy error")}if(J)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:ce}=this,{actions:J}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.P)(J,this),null!=Ce&&(this.id=this.recycleAsyncId(ce,Ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(qt,Ze,x)=>{x.d(Ze,{v:()=>W});var g=x(6063);class d{constructor(_e,Ne=d.now){this.schedulerActionCtor=_e,this.now=Ne}schedule(_e,Ne=0,Ce){return new this.schedulerActionCtor(this,_e).schedule(Ce,Ne)}}d.now=g.l.now;class W extends d{constructor(_e,Ne=d.now){super(_e,Ne),this.actions=[],this._active=!1}flush(_e){const{actions:Ne}=this;if(this._active)return void Ne.push(_e);let Ce;this._active=!0;do{if(Ce=_e.execute(_e.state,_e.delay))break}while(_e=Ne.shift());if(this._active=!1,Ce){for(;_e=Ne.shift();)_e.unsubscribe();throw Ce}}}},4986:(qt,Ze,x)=>{x.d(Ze,{P:()=>Te,z:()=>W});var g=x(4408);const W=new(x(7565).v)(g.o),Te=W},6063:(qt,Ze,x)=>{x.d(Ze,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},233:(qt,Ze,x)=>{x.d(Ze,{N:()=>_e});var g=x(4408),W=x(7565);const _e=new class Te extends W.v{}(class d extends g.o{constructor(ce,J){super(ce,J),this.scheduler=ce,this.work=J}schedule(ce,J=0){return J>0?super.schedule(ce,J):(this.delay=J,this.state=ce,this.scheduler.flush(this),this)}execute(ce,J){return J>0||this.closed?super.execute(ce,J):this._execute(ce,J)}requestAsyncId(ce,J,te=0){return null!=te&&te>0||null==te&&this.delay>0?super.requestAsyncId(ce,J,te):(ce.flush(this),0)}})},3410:(qt,Ze,x)=>{x.d(Ze,{z:()=>g});const g={setTimeout(d,W,...Te){const{delegate:_e}=g;return(null==_e?void 0:_e.setTimeout)?_e.setTimeout(d,W,...Te):setTimeout(d,W,...Te)},clearTimeout(d){const{delegate:W}=g;return((null==W?void 0:W.clearTimeout)||clearTimeout)(d)},delegate:void 0}},2202:(qt,Ze,x)=>{x.d(Ze,{h:()=>d});const d=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(qt,Ze,x)=>{x.d(Ze,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(qt,Ze,x)=>{x.d(Ze,{K:()=>d});const d=(0,x(3888).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(qt,Ze,x)=>{x.d(Ze,{_6:()=>Ne,jO:()=>Te,yG:()=>_e});var g=x(576),d=x(3532);function W(Ce){return Ce[Ce.length-1]}function Te(Ce){return(0,g.m)(W(Ce))?Ce.pop():void 0}function _e(Ce){return(0,d.K)(W(Ce))?Ce.pop():void 0}function Ne(Ce,ce){return"number"==typeof W(Ce)?Ce.pop():ce}},4742:(qt,Ze,x)=>{x.d(Ze,{D:()=>_e});const{isArray:g}=Array,{getPrototypeOf:d,prototype:W,keys:Te}=Object;function _e(Ce){if(1===Ce.length){const ce=Ce[0];if(g(ce))return{args:ce,keys:null};if(function Ne(Ce){return Ce&&"object"==typeof Ce&&d(Ce)===W}(ce)){const J=Te(ce);return{args:J.map(te=>ce[te]),keys:J}}}return{args:Ce,keys:null}}},8737:(qt,Ze,x)=>{function g(d,W){if(d){const Te=d.indexOf(W);0<=Te&&d.splice(Te,1)}}x.d(Ze,{P:()=>g})},3888:(qt,Ze,x)=>{function g(d){const Te=d(_e=>{Error.call(_e),_e.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}x.d(Ze,{d:()=>g})},1810:(qt,Ze,x)=>{function g(d,W){return d.reduce((Te,_e,Ne)=>(Te[_e]=W[Ne],Te),{})}x.d(Ze,{n:()=>g})},2806:(qt,Ze,x)=>{x.d(Ze,{O:()=>Te,x:()=>W});var g=x(2416);let d=null;function W(_e){if(g.v.useDeprecatedSynchronousErrorHandling){const Ne=!d;if(Ne&&(d={errorThrown:!1,error:null}),_e(),Ne){const{errorThrown:Ce,error:ce}=d;if(d=null,Ce)throw ce}}else _e()}function Te(_e){g.v.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=_e)}},9672:(qt,Ze,x)=>{function g(d,W,Te,_e=0,Ne=!1){const Ce=W.schedule(function(){Te(),Ne?d.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(d.add(Ce),!Ne)return Ce}x.d(Ze,{f:()=>g})},4671:(qt,Ze,x)=>{function g(d){return d}x.d(Ze,{y:()=>g})},1144:(qt,Ze,x)=>{x.d(Ze,{z:()=>g});const g=d=>d&&"number"==typeof d.length&&"function"!=typeof d},2206:(qt,Ze,x)=>{x.d(Ze,{D:()=>d});var g=x(576);function d(W){return Symbol.asyncIterator&&(0,g.m)(null==W?void 0:W[Symbol.asyncIterator])}},576:(qt,Ze,x)=>{function g(d){return"function"==typeof d}x.d(Ze,{m:()=>g})},3670:(qt,Ze,x)=>{x.d(Ze,{c:()=>W});var g=x(8822),d=x(576);function W(Te){return(0,d.m)(Te[g.L])}},6495:(qt,Ze,x)=>{x.d(Ze,{T:()=>W});var g=x(2202),d=x(576);function W(Te){return(0,d.m)(null==Te?void 0:Te[g.h])}},8239:(qt,Ze,x)=>{x.d(Ze,{t:()=>d});var g=x(576);function d(W){return(0,g.m)(null==W?void 0:W.then)}},3260:(qt,Ze,x)=>{x.d(Ze,{L:()=>Te,Q:()=>W});var g=x(655),d=x(576);function W(_e){return(0,g.FC)(this,arguments,function*(){const Ce=_e.getReader();try{for(;;){const{value:ce,done:J}=yield(0,g.qq)(Ce.read());if(J)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(ce)}}finally{Ce.releaseLock()}})}function Te(_e){return(0,d.m)(null==_e?void 0:_e.getReader)}},3532:(qt,Ze,x)=>{x.d(Ze,{K:()=>d});var g=x(576);function d(W){return W&&(0,g.m)(W.schedule)}},4482:(qt,Ze,x)=>{x.d(Ze,{A:()=>d,e:()=>W});var g=x(576);function d(Te){return(0,g.m)(null==Te?void 0:Te.lift)}function W(Te){return _e=>{if(d(_e))return _e.lift(function(Ne){try{return Te(Ne,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(qt,Ze,x)=>{x.d(Ze,{Z:()=>Te});var g=x(4004);const{isArray:d}=Array;function Te(_e){return(0,g.U)(Ne=>function W(_e,Ne){return d(Ne)?_e(...Ne):_e(Ne)}(_e,Ne))}},5032:(qt,Ze,x)=>{function g(){}x.d(Ze,{Z:()=>g})},7849:(qt,Ze,x)=>{x.d(Ze,{h:()=>W});var g=x(2416),d=x(3410);function W(Te){d.z.setTimeout(()=>{const{onUnhandledError:_e}=g.v;if(!_e)throw Te;_e(Te)})}},4532:(qt,Ze,x)=>{function g(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(Ze,{z:()=>g})},655:(qt,Ze,x)=>{function Te(Ve,Ge){var Je={};for(var ot in Ve)Object.prototype.hasOwnProperty.call(Ve,ot)&&Ge.indexOf(ot)<0&&(Je[ot]=Ve[ot]);if(null!=Ve&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(ot=Object.getOwnPropertySymbols(Ve);it<ot.length;it++)Ge.indexOf(ot[it])<0&&Object.prototype.propertyIsEnumerable.call(Ve,ot[it])&&(Je[ot[it]]=Ve[ot[it]])}return Je}function _e(Ve,Ge,Je,ot){var on,it=arguments.length,Nt=it<3?Ge:null===ot?ot=Object.getOwnPropertyDescriptor(Ge,Je):ot;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Nt=Reflect.decorate(Ve,Ge,Je,ot);else for(var gt=Ve.length-1;gt>=0;gt--)(on=Ve[gt])&&(Nt=(it<3?on(Nt):it>3?on(Ge,Je,Nt):on(Ge,Je))||Nt);return it>3&&Nt&&Object.defineProperty(Ge,Je,Nt),Nt}function Ce(Ve,Ge){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Ve,Ge)}function ce(Ve,Ge,Je,ot){return new(Je||(Je=Promise))(function(Nt,on){function gt(Se){try{q(ot.next(Se))}catch(Ke){on(Ke)}}function vt(Se){try{q(ot.throw(Se))}catch(Ke){on(Ke)}}function q(Se){Se.done?Nt(Se.value):function it(Nt){return Nt instanceof Je?Nt:new Je(function(on){on(Nt)})}(Se.value).then(gt,vt)}q((ot=ot.apply(Ve,Ge||[])).next())})}function Qe(Ve){return this instanceof Qe?(this.v=Ve,this):new Qe(Ve)}function rt(Ve,Ge,Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,ot=Je.apply(Ve,Ge||[]),Nt=[];return it={},on("next"),on("throw"),on("return"),it[Symbol.asyncIterator]=function(){return this},it;function on(Mt){ot[Mt]&&(it[Mt]=function(Gt){return new Promise(function(Xt,hn){Nt.push([Mt,Gt,Xt,hn])>1||gt(Mt,Gt)})})}function gt(Mt,Gt){try{!function vt(Mt){Mt.value instanceof Qe?Promise.resolve(Mt.value.v).then(q,Se):Ke(Nt[0][2],Mt)}(ot[Mt](Gt))}catch(Xt){Ke(Nt[0][3],Xt)}}function q(Mt){gt("next",Mt)}function Se(Mt){gt("throw",Mt)}function Ke(Mt,Gt){Mt(Gt),Nt.shift(),Nt.length&&gt(Nt[0][0],Nt[0][1])}}function pt(Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,Ge=Ve[Symbol.asyncIterator];return Ge?Ge.call(Ve):(Ve=function ke(Ve){var Ge="function"==typeof Symbol&&Symbol.iterator,Je=Ge&&Ve[Ge],ot=0;if(Je)return Je.call(Ve);if(Ve&&"number"==typeof Ve.length)return{next:function(){return Ve&&ot>=Ve.length&&(Ve=void 0),{value:Ve&&Ve[ot++],done:!Ve}}};throw new TypeError(Ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ve),Je={},ot("next"),ot("throw"),ot("return"),Je[Symbol.asyncIterator]=function(){return this},Je);function ot(Nt){Je[Nt]=Ve[Nt]&&function(on){return new Promise(function(gt,vt){!function it(Nt,on,gt,vt){Promise.resolve(vt).then(function(q){Nt({value:q,done:gt})},on)}(gt,vt,(on=Ve[Nt](on)).done,on.value)})}}}x.d(Ze,{FC:()=>rt,KL:()=>pt,_T:()=>Te,gn:()=>_e,mG:()=>ce,qq:()=>Qe,w6:()=>Ce})},1777:(qt,Ze,x)=>{x.d(Ze,{LC:()=>d,SB:()=>J,X$:()=>Te,ZE:()=>Be,ZN:()=>rt,_j:()=>g,eR:()=>ue,jt:()=>_e,k1:()=>pt,l3:()=>W,oB:()=>ce,vP:()=>Ce});class g{}class d{}const W="*";function Te(me,we){return{type:7,name:me,definitions:we,options:{}}}function _e(me,we=null){return{type:4,styles:we,timings:me}}function Ce(me,we=null){return{type:2,steps:me,options:we}}function ce(me){return{type:6,styles:me,offset:null}}function J(me,we,Xe){return{type:0,name:me,styles:we,options:Xe}}function ue(me,we,Xe=null){return{type:1,expr:me,animation:we,options:Xe}}function Qe(me){Promise.resolve(null).then(me)}class rt{constructor(we=0,Xe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=we+Xe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}onStart(we){this._onStartFns.push(we)}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Qe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(we=>we()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(we){this._position=this.totalTime?we*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(we){const Xe="start"==we?this._onStartFns:this._onDoneFns;Xe.forEach(Tt=>Tt()),Xe.length=0}}class Be{constructor(we){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=we;let Xe=0,Tt=0,Y=0;const qe=this.players.length;0==qe?Qe(()=>this._onFinish()):this.players.forEach(et=>{et.onDone(()=>{++Xe==qe&&this._onFinish()}),et.onDestroy(()=>{++Tt==qe&&this._onDestroy()}),et.onStart(()=>{++Y==qe&&this._onStart()})}),this.totalTime=this.players.reduce((et,Ve)=>Math.max(et,Ve.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}init(){this.players.forEach(we=>we.init())}onStart(we){this._onStartFns.push(we)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(we=>we()),this._onStartFns=[])}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(we=>we.play())}pause(){this.players.forEach(we=>we.pause())}restart(){this.players.forEach(we=>we.restart())}finish(){this._onFinish(),this.players.forEach(we=>we.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(we=>we.destroy()),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this.players.forEach(we=>we.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(we){const Xe=we*this.totalTime;this.players.forEach(Tt=>{const Y=Tt.totalTime?Math.min(1,Xe/Tt.totalTime):1;Tt.setPosition(Y)})}getPosition(){const we=this.players.reduce((Xe,Tt)=>null===Xe||Tt.totalTime>Xe.totalTime?Tt:Xe,null);return null!=we?we.getPosition():0}beforeDestroy(){this.players.forEach(we=>{we.beforeDestroy&&we.beforeDestroy()})}triggerCallback(we){const Xe="start"==we?this._onStartFns:this._onDoneFns;Xe.forEach(Tt=>Tt()),Xe.length=0}}const pt="!"},9808:(qt,Ze,x)=>{x.d(Ze,{Do:()=>me,ED:()=>_i,EM:()=>kr,HT:()=>_e,JF:()=>Ai,K0:()=>Ce,Mx:()=>Jr,NF:()=>Ei,O5:()=>pi,Ov:()=>lo,PC:()=>ys,PM:()=>Tr,RF:()=>Ot,S$:()=>Qe,V_:()=>te,Ye:()=>we,b0:()=>pt,bD:()=>oa,ez:()=>Wr,gd:()=>Os,lw:()=>ce,mk:()=>$i,mr:()=>Be,n9:()=>qi,q:()=>W,rS:()=>wr,sg:()=>Vi,tP:()=>Nr,uU:()=>sa,w_:()=>Ne});var g=x(5e3);let d=null;function W(){return d}function _e(U){d||(d=U)}class Ne{}const Ce=new g.OlP("DocumentToken");let ce=(()=>{class U{historyGo(V){throw new Error("Not implemented")}}return U.\u0275fac=function(V){return new(V||U)},U.\u0275prov=g.Yz7({token:U,factory:function(){return function J(){return(0,g.LFG)(ue)}()},providedIn:"platform"}),U})();const te=new g.OlP("Location Initialized");let ue=(()=>{class U extends ce{constructor(V){super(),this._doc=V,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(V){const oe=W().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("popstate",V,!1),()=>oe.removeEventListener("popstate",V)}onHashChange(V){const oe=W().getGlobalEventTarget(this._doc,"window");return oe.addEventListener("hashchange",V,!1),()=>oe.removeEventListener("hashchange",V)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(V){this.location.pathname=V}pushState(V,oe,Pe){ke()?this._history.pushState(V,oe,Pe):this.location.hash=Pe}replaceState(V,oe,Pe){ke()?this._history.replaceState(V,oe,Pe):this.location.hash=Pe}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return U.\u0275fac=function(V){return new(V||U)(g.LFG(Ce))},U.\u0275prov=g.Yz7({token:U,factory:function(){return function lt(){return new ue((0,g.LFG)(Ce))}()},providedIn:"platform"}),U})();function ke(){return!!window.history.pushState}function nt(U,ie){if(0==U.length)return ie;if(0==ie.length)return U;let V=0;return U.endsWith("/")&&V++,ie.startsWith("/")&&V++,2==V?U+ie.substring(1):1==V?U+ie:U+"/"+ie}function ht(U){const ie=U.match(/#|\?|$/),V=ie&&ie.index||U.length;return U.slice(0,V-("/"===U[V-1]?1:0))+U.slice(V)}function ut(U){return U&&"?"!==U[0]?"?"+U:U}let Qe=(()=>{class U{historyGo(V){throw new Error("Not implemented")}}return U.\u0275fac=function(V){return new(V||U)},U.\u0275prov=g.Yz7({token:U,factory:function(){return function rt(U){const ie=(0,g.LFG)(Ce).location;return new pt((0,g.LFG)(ce),ie&&ie.origin||"")}()},providedIn:"root"}),U})();const Be=new g.OlP("appBaseHref");let pt=(()=>{class U extends Qe{constructor(V,oe){if(super(),this._platformLocation=V,this._removeListenerFns=[],null==oe&&(oe=this._platformLocation.getBaseHrefFromDOM()),null==oe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=oe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return nt(this._baseHref,V)}path(V=!1){const oe=this._platformLocation.pathname+ut(this._platformLocation.search),Pe=this._platformLocation.hash;return Pe&&V?`${oe}${Pe}`:oe}pushState(V,oe,Pe,Et){const Bt=this.prepareExternalUrl(Pe+ut(Et));this._platformLocation.pushState(V,oe,Bt)}replaceState(V,oe,Pe,Et){const Bt=this.prepareExternalUrl(Pe+ut(Et));this._platformLocation.replaceState(V,oe,Bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var oe,Pe;null===(Pe=(oe=this._platformLocation).historyGo)||void 0===Pe||Pe.call(oe,V)}}return U.\u0275fac=function(V){return new(V||U)(g.LFG(ce),g.LFG(Be,8))},U.\u0275prov=g.Yz7({token:U,factory:U.\u0275fac}),U})(),me=(()=>{class U extends Qe{constructor(V,oe){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=oe&&(this._baseHref=oe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let oe=this._platformLocation.hash;return null==oe&&(oe="#"),oe.length>0?oe.substring(1):oe}prepareExternalUrl(V){const oe=nt(this._baseHref,V);return oe.length>0?"#"+oe:oe}pushState(V,oe,Pe,Et){let Bt=this.prepareExternalUrl(Pe+ut(Et));0==Bt.length&&(Bt=this._platformLocation.pathname),this._platformLocation.pushState(V,oe,Bt)}replaceState(V,oe,Pe,Et){let Bt=this.prepareExternalUrl(Pe+ut(Et));0==Bt.length&&(Bt=this._platformLocation.pathname),this._platformLocation.replaceState(V,oe,Bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var oe,Pe;null===(Pe=(oe=this._platformLocation).historyGo)||void 0===Pe||Pe.call(oe,V)}}return U.\u0275fac=function(V){return new(V||U)(g.LFG(ce),g.LFG(Be,8))},U.\u0275prov=g.Yz7({token:U,factory:U.\u0275fac}),U})(),we=(()=>{class U{constructor(V,oe){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=V;const Pe=this._platformStrategy.getBaseHref();this._platformLocation=oe,this._baseHref=ht(Y(Pe)),this._platformStrategy.onPopState(Et=>{this._subject.emit({url:this.path(!0),pop:!0,state:Et.state,type:Et.type})})}path(V=!1){return this.normalize(this._platformStrategy.path(V))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(V,oe=""){return this.path()==this.normalize(V+ut(oe))}normalize(V){return U.stripTrailingSlash(function Tt(U,ie){return U&&ie.startsWith(U)?ie.substring(U.length):ie}(this._baseHref,Y(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._platformStrategy.prepareExternalUrl(V)}go(V,oe="",Pe=null){this._platformStrategy.pushState(Pe,"",V,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+ut(oe)),Pe)}replaceState(V,oe="",Pe=null){this._platformStrategy.replaceState(Pe,"",V,oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+ut(oe)),Pe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(V=0){var oe,Pe;null===(Pe=(oe=this._platformStrategy).historyGo)||void 0===Pe||Pe.call(oe,V)}onUrlChange(V){this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(oe=>{this._notifyUrlChangeListeners(oe.url,oe.state)}))}_notifyUrlChangeListeners(V="",oe){this._urlChangeListeners.forEach(Pe=>Pe(V,oe))}subscribe(V,oe,Pe){return this._subject.subscribe({next:V,error:oe,complete:Pe})}}return U.normalizeQueryParams=ut,U.joinWithSlash=nt,U.stripTrailingSlash=ht,U.\u0275fac=function(V){return new(V||U)(g.LFG(Qe),g.LFG(ce))},U.\u0275prov=g.Yz7({token:U,factory:function(){return function Xe(){return new we((0,g.LFG)(Qe),(0,g.LFG)(ce))}()},providedIn:"root"}),U})();function Y(U){return U.replace(/\/index.html$/,"")}var Ge=(()=>((Ge=Ge||{})[Ge.Format=0]="Format",Ge[Ge.Standalone=1]="Standalone",Ge))(),Je=(()=>((Je=Je||{})[Je.Narrow=0]="Narrow",Je[Je.Abbreviated=1]="Abbreviated",Je[Je.Wide=2]="Wide",Je[Je.Short=3]="Short",Je))(),ot=(()=>((ot=ot||{})[ot.Short=0]="Short",ot[ot.Medium=1]="Medium",ot[ot.Long=2]="Long",ot[ot.Full=3]="Full",ot))(),it=(()=>((it=it||{})[it.Decimal=0]="Decimal",it[it.Group=1]="Group",it[it.List=2]="List",it[it.PercentSign=3]="PercentSign",it[it.PlusSign=4]="PlusSign",it[it.MinusSign=5]="MinusSign",it[it.Exponential=6]="Exponential",it[it.SuperscriptingExponent=7]="SuperscriptingExponent",it[it.PerMille=8]="PerMille",it[it.Infinity=9]="Infinity",it[it.NaN=10]="NaN",it[it.TimeSeparator=11]="TimeSeparator",it[it.CurrencyDecimal=12]="CurrencyDecimal",it[it.CurrencyGroup=13]="CurrencyGroup",it))();function Gt(U,ie){return Yn((0,g.cg1)(U)[g.wAp.DateFormat],ie)}function Xt(U,ie){return Yn((0,g.cg1)(U)[g.wAp.TimeFormat],ie)}function hn(U,ie){return Yn((0,g.cg1)(U)[g.wAp.DateTimeFormat],ie)}function In(U,ie){const V=(0,g.cg1)(U),oe=V[g.wAp.NumberSymbols][ie];if(void 0===oe){if(ie===it.CurrencyDecimal)return V[g.wAp.NumberSymbols][it.Decimal];if(ie===it.CurrencyGroup)return V[g.wAp.NumberSymbols][it.Group]}return oe}function qn(U){if(!U[g.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[g.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Yn(U,ie){for(let V=ie;V>-1;V--)if(void 0!==U[V])return U[V];throw new Error("Locale data API: locale data undefined")}function Jt(U){const[ie,V]=U.split(":");return{hours:+ie,minutes:+V}}const Le=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$e={},Ft=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ct=(()=>((Ct=Ct||{})[Ct.Short=0]="Short",Ct[Ct.ShortGMT=1]="ShortGMT",Ct[Ct.Long=2]="Long",Ct[Ct.Extended=3]="Extended",Ct))(),Vt=(()=>((Vt=Vt||{})[Vt.FullYear=0]="FullYear",Vt[Vt.Month=1]="Month",Vt[Vt.Date=2]="Date",Vt[Vt.Hours=3]="Hours",Vt[Vt.Minutes=4]="Minutes",Vt[Vt.Seconds=5]="Seconds",Vt[Vt.FractionalSeconds=6]="FractionalSeconds",Vt[Vt.Day=7]="Day",Vt))(),zt=(()=>((zt=zt||{})[zt.DayPeriods=0]="DayPeriods",zt[zt.Days=1]="Days",zt[zt.Months=2]="Months",zt[zt.Eras=3]="Eras",zt))();function Re(U,ie,V,oe){let Pe=function ee(U){if(Ae(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[Pe,Et=1,Bt=1]=U.split("-").map(Cn=>+Cn);return xe(Pe,Et-1,Bt)}const V=parseFloat(U);if(!isNaN(U-V))return new Date(V);let oe;if(oe=U.match(Le))return function re(U){const ie=new Date(0);let V=0,oe=0;const Pe=U[8]?ie.setUTCFullYear:ie.setFullYear,Et=U[8]?ie.setUTCHours:ie.setHours;U[9]&&(V=Number(U[9]+U[10]),oe=Number(U[9]+U[11])),Pe.call(ie,Number(U[1]),Number(U[2])-1,Number(U[3]));const Bt=Number(U[4]||0)-V,Cn=Number(U[5]||0)-oe,kn=Number(U[6]||0),ai=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return Et.call(ie,Bt,Cn,kn,ai),ie}(oe)}const ie=new Date(U);if(!Ae(ie))throw new Error(`Unable to convert "${U}" into a date`);return ie}(U);ie=Ee(V,ie)||ie;let Cn,Bt=[];for(;ie;){if(Cn=Ft.exec(ie),!Cn){Bt.push(ie);break}{Bt=Bt.concat(Cn.slice(1));const Hn=Bt.pop();if(!Hn)break;ie=Hn}}let kn=Pe.getTimezoneOffset();oe&&(kn=ve(oe,kn),Pe=function $(U,ie,V){const oe=V?-1:1,Pe=U.getTimezoneOffset();return function X(U,ie){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+ie),U}(U,oe*(ve(ie,Pe)-Pe))}(Pe,oe,!0));let ai="";return Bt.forEach(Hn=>{const ri=function Me(U){if(fe[U])return fe[U];let ie;switch(U){case"G":case"GG":case"GGG":ie=_n(zt.Eras,Je.Abbreviated);break;case"GGGG":ie=_n(zt.Eras,Je.Wide);break;case"GGGGG":ie=_n(zt.Eras,Je.Narrow);break;case"y":ie=wt(Vt.FullYear,1,0,!1,!0);break;case"yy":ie=wt(Vt.FullYear,2,0,!0,!0);break;case"yyy":ie=wt(Vt.FullYear,3,0,!1,!0);break;case"yyyy":ie=wt(Vt.FullYear,4,0,!1,!0);break;case"Y":ie=de(1);break;case"YY":ie=de(2,!0);break;case"YYY":ie=de(3);break;case"YYYY":ie=de(4);break;case"M":case"L":ie=wt(Vt.Month,1,1);break;case"MM":case"LL":ie=wt(Vt.Month,2,1);break;case"MMM":ie=_n(zt.Months,Je.Abbreviated);break;case"MMMM":ie=_n(zt.Months,Je.Wide);break;case"MMMMM":ie=_n(zt.Months,Je.Narrow);break;case"LLL":ie=_n(zt.Months,Je.Abbreviated,Ge.Standalone);break;case"LLLL":ie=_n(zt.Months,Je.Wide,Ge.Standalone);break;case"LLLLL":ie=_n(zt.Months,Je.Narrow,Ge.Standalone);break;case"w":ie=St(1);break;case"ww":ie=St(2);break;case"W":ie=St(1,!0);break;case"d":ie=wt(Vt.Date,1);break;case"dd":ie=wt(Vt.Date,2);break;case"c":case"cc":ie=wt(Vt.Day,1);break;case"ccc":ie=_n(zt.Days,Je.Abbreviated,Ge.Standalone);break;case"cccc":ie=_n(zt.Days,Je.Wide,Ge.Standalone);break;case"ccccc":ie=_n(zt.Days,Je.Narrow,Ge.Standalone);break;case"cccccc":ie=_n(zt.Days,Je.Short,Ge.Standalone);break;case"E":case"EE":case"EEE":ie=_n(zt.Days,Je.Abbreviated);break;case"EEEE":ie=_n(zt.Days,Je.Wide);break;case"EEEEE":ie=_n(zt.Days,Je.Narrow);break;case"EEEEEE":ie=_n(zt.Days,Je.Short);break;case"a":case"aa":case"aaa":ie=_n(zt.DayPeriods,Je.Abbreviated);break;case"aaaa":ie=_n(zt.DayPeriods,Je.Wide);break;case"aaaaa":ie=_n(zt.DayPeriods,Je.Narrow);break;case"b":case"bb":case"bbb":ie=_n(zt.DayPeriods,Je.Abbreviated,Ge.Standalone,!0);break;case"bbbb":ie=_n(zt.DayPeriods,Je.Wide,Ge.Standalone,!0);break;case"bbbbb":ie=_n(zt.DayPeriods,Je.Narrow,Ge.Standalone,!0);break;case"B":case"BB":case"BBB":ie=_n(zt.DayPeriods,Je.Abbreviated,Ge.Format,!0);break;case"BBBB":ie=_n(zt.DayPeriods,Je.Wide,Ge.Format,!0);break;case"BBBBB":ie=_n(zt.DayPeriods,Je.Narrow,Ge.Format,!0);break;case"h":ie=wt(Vt.Hours,1,-12);break;case"hh":ie=wt(Vt.Hours,2,-12);break;case"H":ie=wt(Vt.Hours,1);break;case"HH":ie=wt(Vt.Hours,2);break;case"m":ie=wt(Vt.Minutes,1);break;case"mm":ie=wt(Vt.Minutes,2);break;case"s":ie=wt(Vt.Seconds,1);break;case"ss":ie=wt(Vt.Seconds,2);break;case"S":ie=wt(Vt.FractionalSeconds,1);break;case"SS":ie=wt(Vt.FractionalSeconds,2);break;case"SSS":ie=wt(Vt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ie=z(Ct.Short);break;case"ZZZZZ":ie=z(Ct.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ie=z(Ct.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ie=z(Ct.Long);break;default:return null}return fe[U]=ie,ie}(Hn);ai+=ri?ri(Pe,V,kn):"''"===Hn?"'":Hn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ai}function xe(U,ie,V){const oe=new Date(0);return oe.setFullYear(U,ie,V),oe.setHours(0,0,0),oe}function Ee(U,ie){const V=function on(U){return(0,g.cg1)(U)[g.wAp.LocaleId]}(U);if($e[V]=$e[V]||{},$e[V][ie])return $e[V][ie];let oe="";switch(ie){case"shortDate":oe=Gt(U,ot.Short);break;case"mediumDate":oe=Gt(U,ot.Medium);break;case"longDate":oe=Gt(U,ot.Long);break;case"fullDate":oe=Gt(U,ot.Full);break;case"shortTime":oe=Xt(U,ot.Short);break;case"mediumTime":oe=Xt(U,ot.Medium);break;case"longTime":oe=Xt(U,ot.Long);break;case"fullTime":oe=Xt(U,ot.Full);break;case"short":const Pe=Ee(U,"shortTime"),Et=Ee(U,"shortDate");oe=We(hn(U,ot.Short),[Pe,Et]);break;case"medium":const Bt=Ee(U,"mediumTime"),Cn=Ee(U,"mediumDate");oe=We(hn(U,ot.Medium),[Bt,Cn]);break;case"long":const kn=Ee(U,"longTime"),ai=Ee(U,"longDate");oe=We(hn(U,ot.Long),[kn,ai]);break;case"full":const Hn=Ee(U,"fullTime"),ri=Ee(U,"fullDate");oe=We(hn(U,ot.Full),[Hn,ri])}return oe&&($e[V][ie]=oe),oe}function We(U,ie){return ie&&(U=U.replace(/\{([^}]+)}/g,function(V,oe){return null!=ie&&oe in ie?ie[oe]:V})),U}function _t(U,ie,V="-",oe,Pe){let Et="";(U<0||Pe&&U<=0)&&(Pe?U=1-U:(U=-U,Et=V));let Bt=String(U);for(;Bt.length<ie;)Bt="0"+Bt;return oe&&(Bt=Bt.substr(Bt.length-ie)),Et+Bt}function wt(U,ie,V=0,oe=!1,Pe=!1){return function(Et,Bt){let Cn=function pn(U,ie){switch(U){case Vt.FullYear:return ie.getFullYear();case Vt.Month:return ie.getMonth();case Vt.Date:return ie.getDate();case Vt.Hours:return ie.getHours();case Vt.Minutes:return ie.getMinutes();case Vt.Seconds:return ie.getSeconds();case Vt.FractionalSeconds:return ie.getMilliseconds();case Vt.Day:return ie.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,Et);if((V>0||Cn>-V)&&(Cn+=V),U===Vt.Hours)0===Cn&&-12===V&&(Cn=12);else if(U===Vt.FractionalSeconds)return function Dt(U,ie){return _t(U,3).substr(0,ie)}(Cn,ie);const kn=In(Bt,it.MinusSign);return _t(Cn,ie,kn,oe,Pe)}}function _n(U,ie,V=Ge.Format,oe=!1){return function(Pe,Et){return function ln(U,ie,V,oe,Pe,Et){switch(V){case zt.Months:return function q(U,ie,V){const oe=(0,g.cg1)(U),Et=Yn([oe[g.wAp.MonthsFormat],oe[g.wAp.MonthsStandalone]],ie);return Yn(Et,V)}(ie,Pe,oe)[U.getMonth()];case zt.Days:return function vt(U,ie,V){const oe=(0,g.cg1)(U),Et=Yn([oe[g.wAp.DaysFormat],oe[g.wAp.DaysStandalone]],ie);return Yn(Et,V)}(ie,Pe,oe)[U.getDay()];case zt.DayPeriods:const Bt=U.getHours(),Cn=U.getMinutes();if(Et){const ai=function Fi(U){const ie=(0,g.cg1)(U);return qn(ie),(ie[g.wAp.ExtraData][2]||[]).map(oe=>"string"==typeof oe?Jt(oe):[Jt(oe[0]),Jt(oe[1])])}(ie),Hn=function un(U,ie,V){const oe=(0,g.cg1)(U);qn(oe);const Et=Yn([oe[g.wAp.ExtraData][0],oe[g.wAp.ExtraData][1]],ie)||[];return Yn(Et,V)||[]}(ie,Pe,oe),ri=ai.findIndex(zi=>{if(Array.isArray(zi)){const[Si,Di]=zi,H=Bt>=Si.hours&&Cn>=Si.minutes,N=Bt<Di.hours||Bt===Di.hours&&Cn<Di.minutes;if(Si.hours<Di.hours){if(H&&N)return!0}else if(H||N)return!0}else if(zi.hours===Bt&&zi.minutes===Cn)return!0;return!1});if(-1!==ri)return Hn[ri]}return function gt(U,ie,V){const oe=(0,g.cg1)(U),Et=Yn([oe[g.wAp.DayPeriodsFormat],oe[g.wAp.DayPeriodsStandalone]],ie);return Yn(Et,V)}(ie,Pe,oe)[Bt<12?0:1];case zt.Eras:return function Se(U,ie){return Yn((0,g.cg1)(U)[g.wAp.Eras],ie)}(ie,oe)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(Pe,Et,U,ie,V,oe)}}function z(U){return function(ie,V,oe){const Pe=-1*oe,Et=In(V,it.MinusSign),Bt=Pe>0?Math.floor(Pe/60):Math.ceil(Pe/60);switch(U){case Ct.Short:return(Pe>=0?"+":"")+_t(Bt,2,Et)+_t(Math.abs(Pe%60),2,Et);case Ct.ShortGMT:return"GMT"+(Pe>=0?"+":"")+_t(Bt,1,Et);case Ct.Long:return"GMT"+(Pe>=0?"+":"")+_t(Bt,2,Et)+":"+_t(Math.abs(Pe%60),2,Et);case Ct.Extended:return 0===oe?"Z":(Pe>=0?"+":"")+_t(Bt,2,Et)+":"+_t(Math.abs(Pe%60),2,Et);default:throw new Error(`Unknown zone width "${U}"`)}}}function mt(U){return xe(U.getFullYear(),U.getMonth(),U.getDate()+(4-U.getDay()))}function St(U,ie=!1){return function(V,oe){let Pe;if(ie){const Et=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,Bt=V.getDate();Pe=1+Math.floor((Bt+Et)/7)}else{const Et=mt(V),Bt=function Ue(U){const ie=xe(U,0,1).getDay();return xe(U,0,1+(ie<=4?4:11)-ie)}(Et.getFullYear()),Cn=Et.getTime()-Bt.getTime();Pe=1+Math.round(Cn/6048e5)}return _t(Pe,U,In(oe,it.MinusSign))}}function de(U,ie=!1){return function(V,oe){return _t(mt(V).getFullYear(),U,In(oe,it.MinusSign),ie)}}const fe={};function ve(U,ie){U=U.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN(V)?ie:V}function Ae(U){return U instanceof Date&&!isNaN(U.valueOf())}function Jr(U,ie){ie=encodeURIComponent(ie);for(const V of U.split(";")){const oe=V.indexOf("="),[Pe,Et]=-1==oe?[V,""]:[V.slice(0,oe),V.slice(oe+1)];if(Pe.trim()===ie)return decodeURIComponent(Et)}return null}let $i=(()=>{class U{constructor(V,oe,Pe,Et){this._iterableDiffers=V,this._keyValueDiffers=oe,this._ngEl=Pe,this._renderer=Et,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(V){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof V?V.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(V){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof V?V.split(/\s+/):V,this._rawClass&&((0,g.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const V=this._iterableDiffer.diff(this._rawClass);V&&this._applyIterableChanges(V)}else if(this._keyValueDiffer){const V=this._keyValueDiffer.diff(this._rawClass);V&&this._applyKeyValueChanges(V)}}_applyKeyValueChanges(V){V.forEachAddedItem(oe=>this._toggleClass(oe.key,oe.currentValue)),V.forEachChangedItem(oe=>this._toggleClass(oe.key,oe.currentValue)),V.forEachRemovedItem(oe=>{oe.previousValue&&this._toggleClass(oe.key,!1)})}_applyIterableChanges(V){V.forEachAddedItem(oe=>{if("string"!=typeof oe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,g.AaK)(oe.item)}`);this._toggleClass(oe.item,!0)}),V.forEachRemovedItem(oe=>this._toggleClass(oe.item,!1))}_applyClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(oe=>this._toggleClass(oe,!0)):Object.keys(V).forEach(oe=>this._toggleClass(oe,!!V[oe])))}_removeClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(oe=>this._toggleClass(oe,!1)):Object.keys(V).forEach(oe=>this._toggleClass(oe,!1)))}_toggleClass(V,oe){(V=V.trim())&&V.split(/\s+/g).forEach(Pe=>{oe?this._renderer.addClass(this._ngEl.nativeElement,Pe):this._renderer.removeClass(this._ngEl.nativeElement,Pe)})}}return U.\u0275fac=function(V){return new(V||U)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),U})();class Xi{constructor(ie,V,oe,Pe){this.$implicit=ie,this.ngForOf=V,this.index=oe,this.count=Pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vi=(()=>{class U{constructor(V,oe,Pe){this._viewContainer=V,this._template=oe,this._differs=Pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const oe=this._viewContainer;V.forEachOperation((Pe,Et,Bt)=>{if(null==Pe.previousIndex)oe.createEmbeddedView(this._template,new Xi(Pe.item,this._ngForOf,-1,-1),null===Bt?void 0:Bt);else if(null==Bt)oe.remove(null===Et?void 0:Et);else if(null!==Et){const Cn=oe.get(Et);oe.move(Cn,Bt),ms(Cn,Pe)}});for(let Pe=0,Et=oe.length;Pe<Et;Pe++){const Cn=oe.get(Pe).context;Cn.index=Pe,Cn.count=Et,Cn.ngForOf=this._ngForOf}V.forEachIdentityChange(Pe=>{ms(oe.get(Pe.currentIndex),Pe)})}static ngTemplateContextGuard(V,oe){return!0}}return U.\u0275fac=function(V){return new(V||U)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();function ms(U,ie){U.context.$implicit=ie.item}let pi=(()=>{class U{constructor(V,oe){this._viewContainer=V,this._context=new gi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=oe}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){cn("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){cn("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,oe){return!0}}return U.\u0275fac=function(V){return new(V||U)(g.Y36(g.s_b),g.Y36(g.Rgc))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class gi{constructor(){this.$implicit=null,this.ngIf=null}}function cn(U,ie){if(ie&&!ie.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,g.AaK)(ie)}'.`)}class ls{constructor(ie,V){this._viewContainerRef=ie,this._templateRef=V,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ie){ie&&!this._created?this.create():!ie&&this._created&&this.destroy()}}let Ot=(()=>{class U{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(V){this._ngSwitch=V,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(V){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(V)}_matchCase(V){const oe=V==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||oe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),oe}_updateDefaultCases(V){if(this._defaultViews&&V!==this._defaultUsed){this._defaultUsed=V;for(let oe=0;oe<this._defaultViews.length;oe++)this._defaultViews[oe].enforceState(V)}}}return U.\u0275fac=function(V){return new(V||U)},U.\u0275dir=g.lG2({type:U,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),U})(),qi=(()=>{class U{constructor(V,oe,Pe){this.ngSwitch=Pe,Pe._addCase(),this._view=new ls(V,oe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return U.\u0275fac=function(V){return new(V||U)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(Ot,9))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),U})(),_i=(()=>{class U{constructor(V,oe,Pe){Pe._addDefault(new ls(V,oe))}}return U.\u0275fac=function(V){return new(V||U)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(Ot,9))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngSwitchDefault",""]]}),U})(),ys=(()=>{class U{constructor(V,oe,Pe){this._ngEl=V,this._differs=oe,this._renderer=Pe,this._ngStyle=null,this._differ=null}set ngStyle(V){this._ngStyle=V,!this._differ&&V&&(this._differ=this._differs.find(V).create())}ngDoCheck(){if(this._differ){const V=this._differ.diff(this._ngStyle);V&&this._applyChanges(V)}}_setStyle(V,oe){const[Pe,Et]=V.split(".");null!=(oe=null!=oe&&Et?`${oe}${Et}`:oe)?this._renderer.setStyle(this._ngEl.nativeElement,Pe,oe):this._renderer.removeStyle(this._ngEl.nativeElement,Pe)}_applyChanges(V){V.forEachRemovedItem(oe=>this._setStyle(oe.key,null)),V.forEachAddedItem(oe=>this._setStyle(oe.key,oe.currentValue)),V.forEachChangedItem(oe=>this._setStyle(oe.key,oe.currentValue))}}return U.\u0275fac=function(V){return new(V||U)(g.Y36(g.SBq),g.Y36(g.aQg),g.Y36(g.Qsj))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),U})(),Nr=(()=>{class U{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(V){if(V.ngTemplateOutlet){const oe=this._viewContainerRef;this._viewRef&&oe.remove(oe.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?oe.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(V){return new(V||U)(g.Y36(g.s_b))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[g.TTD]}),U})();function Gi(U,ie){return new g.vHH(2100,"")}class Zs{createSubscription(ie,V){return ie.subscribe({next:V,error:oe=>{throw oe}})}dispose(ie){ie.unsubscribe()}onDestroy(ie){ie.unsubscribe()}}class ia{createSubscription(ie,V){return ie.then(V,oe=>{throw oe})}dispose(ie){}onDestroy(ie){}}const ds=new ia,ao=new Zs;let lo=(()=>{class U{constructor(V){this._ref=V,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(V){return this._obj?V!==this._obj?(this._dispose(),this.transform(V)):this._latestValue:(V&&this._subscribe(V),this._latestValue)}_subscribe(V){this._obj=V,this._strategy=this._selectStrategy(V),this._subscription=this._strategy.createSubscription(V,oe=>this._updateLatestValue(V,oe))}_selectStrategy(V){if((0,g.QGY)(V))return ds;if((0,g.F4k)(V))return ao;throw Gi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(V,oe){V===this._obj&&(this._latestValue=oe,this._ref.markForCheck())}}return U.\u0275fac=function(V){return new(V||U)(g.Y36(g.sBO,16))},U.\u0275pipe=g.Yjl({name:"async",type:U,pure:!1}),U})();const Xr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let wr=(()=>{class U{transform(V){if(null==V)return null;if("string"!=typeof V)throw Gi();return V.replace(Xr,oe=>oe[0].toUpperCase()+oe.substr(1).toLowerCase())}}return U.\u0275fac=function(V){return new(V||U)},U.\u0275pipe=g.Yjl({name:"titlecase",type:U,pure:!0}),U})(),Os=(()=>{class U{transform(V){if(null==V)return null;if("string"!=typeof V)throw Gi();return V.toUpperCase()}}return U.\u0275fac=function(V){return new(V||U)},U.\u0275pipe=g.Yjl({name:"uppercase",type:U,pure:!0}),U})();const Ta=new g.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let sa=(()=>{class U{constructor(V,oe){this.locale=V,this.defaultTimezone=oe}transform(V,oe="mediumDate",Pe,Et){var Bt;if(null==V||""===V||V!=V)return null;try{return Re(V,oe,Et||this.locale,null!==(Bt=null!=Pe?Pe:this.defaultTimezone)&&void 0!==Bt?Bt:void 0)}catch(Cn){throw Gi()}}}return U.\u0275fac=function(V){return new(V||U)(g.Y36(g.soG,16),g.Y36(Ta,24))},U.\u0275pipe=g.Yjl({name:"date",type:U,pure:!0}),U})(),Wr=(()=>{class U{}return U.\u0275fac=function(V){return new(V||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({}),U})();const oa="browser";function Ei(U){return U===oa}function Tr(U){return"server"===U}let kr=(()=>{class U{}return U.\u0275prov=(0,g.Yz7)({token:U,providedIn:"root",factory:()=>new wo((0,g.LFG)(Ce),window)}),U})();class wo{constructor(ie,V){this.document=ie,this.window=V,this.offset=()=>[0,0]}setOffset(ie){this.offset=Array.isArray(ie)?()=>ie:ie}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ie){this.supportsScrolling()&&this.window.scrollTo(ie[0],ie[1])}scrollToAnchor(ie){if(!this.supportsScrolling())return;const V=function Kr(U,ie){const V=U.getElementById(ie)||U.getElementsByName(ie)[0];if(V)return V;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const oe=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Pe=oe.currentNode;for(;Pe;){const Et=Pe.shadowRoot;if(Et){const Bt=Et.getElementById(ie)||Et.querySelector(`[name="${ie}"]`);if(Bt)return Bt}Pe=oe.nextNode()}}return null}(this.document,ie);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(ie){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=ie)}}scrollToElement(ie){const V=ie.getBoundingClientRect(),oe=V.left+this.window.pageXOffset,Pe=V.top+this.window.pageYOffset,Et=this.offset();this.window.scrollTo(oe-Et[0],Pe-Et[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ie=qs(this.window.history)||qs(Object.getPrototypeOf(this.window.history));return!(!ie||!ie.writable&&!ie.set)}catch(ie){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ie){return!1}}}function qs(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class Ai{}},520:(qt,Ze,x)=>{x.d(Ze,{JF:()=>Jt,TP:()=>on,eN:()=>it});var g=x(9808),d=x(5e3),W=x(9646),Te=x(8306),_e=x(4351),Ne=x(9300),Ce=x(4004);class ce{}class J{}class te{constructor(Le){this.normalizedNames=new Map,this.lazyUpdate=null,Le?this.lazyInit="string"==typeof Le?()=>{this.headers=new Map,Le.split("\n").forEach($e=>{const Ft=$e.indexOf(":");if(Ft>0){const Ct=$e.slice(0,Ft),Vt=Ct.toLowerCase(),zt=$e.slice(Ft+1).trim();this.maybeSetNormalizedName(Ct,Vt),this.headers.has(Vt)?this.headers.get(Vt).push(zt):this.headers.set(Vt,[zt])}})}:()=>{this.headers=new Map,Object.keys(Le).forEach($e=>{let Ft=Le[$e];const Ct=$e.toLowerCase();"string"==typeof Ft&&(Ft=[Ft]),Ft.length>0&&(this.headers.set(Ct,Ft),this.maybeSetNormalizedName($e,Ct))})}:this.headers=new Map}has(Le){return this.init(),this.headers.has(Le.toLowerCase())}get(Le){this.init();const $e=this.headers.get(Le.toLowerCase());return $e&&$e.length>0?$e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Le){return this.init(),this.headers.get(Le.toLowerCase())||null}append(Le,$e){return this.clone({name:Le,value:$e,op:"a"})}set(Le,$e){return this.clone({name:Le,value:$e,op:"s"})}delete(Le,$e){return this.clone({name:Le,value:$e,op:"d"})}maybeSetNormalizedName(Le,$e){this.normalizedNames.has($e)||this.normalizedNames.set($e,Le)}init(){this.lazyInit&&(this.lazyInit instanceof te?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Le=>this.applyUpdate(Le)),this.lazyUpdate=null))}copyFrom(Le){Le.init(),Array.from(Le.headers.keys()).forEach($e=>{this.headers.set($e,Le.headers.get($e)),this.normalizedNames.set($e,Le.normalizedNames.get($e))})}clone(Le){const $e=new te;return $e.lazyInit=this.lazyInit&&this.lazyInit instanceof te?this.lazyInit:this,$e.lazyUpdate=(this.lazyUpdate||[]).concat([Le]),$e}applyUpdate(Le){const $e=Le.name.toLowerCase();switch(Le.op){case"a":case"s":let Ft=Le.value;if("string"==typeof Ft&&(Ft=[Ft]),0===Ft.length)return;this.maybeSetNormalizedName(Le.name,$e);const Ct=("a"===Le.op?this.headers.get($e):void 0)||[];Ct.push(...Ft),this.headers.set($e,Ct);break;case"d":const Vt=Le.value;if(Vt){let zt=this.headers.get($e);if(!zt)return;zt=zt.filter(Re=>-1===Vt.indexOf(Re)),0===zt.length?(this.headers.delete($e),this.normalizedNames.delete($e)):this.headers.set($e,zt)}else this.headers.delete($e),this.normalizedNames.delete($e)}}forEach(Le){this.init(),Array.from(this.normalizedNames.keys()).forEach($e=>Le(this.normalizedNames.get($e),this.headers.get($e)))}}class ue{encodeKey(Le){return ht(Le)}encodeValue(Le){return ht(Le)}decodeKey(Le){return decodeURIComponent(Le)}decodeValue(Le){return decodeURIComponent(Le)}}const lt=/%(\d[a-f0-9])/gi,nt={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ht(It){return encodeURIComponent(It).replace(lt,(Le,$e)=>{var Ft;return null!==(Ft=nt[$e])&&void 0!==Ft?Ft:Le})}function ut(It){return`${It}`}class Qe{constructor(Le={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Le.encoder||new ue,Le.fromString){if(Le.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ke(It,Le){const $e=new Map;return It.length>0&&It.replace(/^\?/,"").split("&").forEach(Ct=>{const Vt=Ct.indexOf("="),[zt,Re]=-1==Vt?[Le.decodeKey(Ct),""]:[Le.decodeKey(Ct.slice(0,Vt)),Le.decodeValue(Ct.slice(Vt+1))],xe=$e.get(zt)||[];xe.push(Re),$e.set(zt,xe)}),$e}(Le.fromString,this.encoder)}else Le.fromObject?(this.map=new Map,Object.keys(Le.fromObject).forEach($e=>{const Ft=Le.fromObject[$e];this.map.set($e,Array.isArray(Ft)?Ft:[Ft])})):this.map=null}has(Le){return this.init(),this.map.has(Le)}get(Le){this.init();const $e=this.map.get(Le);return $e?$e[0]:null}getAll(Le){return this.init(),this.map.get(Le)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Le,$e){return this.clone({param:Le,value:$e,op:"a"})}appendAll(Le){const $e=[];return Object.keys(Le).forEach(Ft=>{const Ct=Le[Ft];Array.isArray(Ct)?Ct.forEach(Vt=>{$e.push({param:Ft,value:Vt,op:"a"})}):$e.push({param:Ft,value:Ct,op:"a"})}),this.clone($e)}set(Le,$e){return this.clone({param:Le,value:$e,op:"s"})}delete(Le,$e){return this.clone({param:Le,value:$e,op:"d"})}toString(){return this.init(),this.keys().map(Le=>{const $e=this.encoder.encodeKey(Le);return this.map.get(Le).map(Ft=>$e+"="+this.encoder.encodeValue(Ft)).join("&")}).filter(Le=>""!==Le).join("&")}clone(Le){const $e=new Qe({encoder:this.encoder});return $e.cloneFrom=this.cloneFrom||this,$e.updates=(this.updates||[]).concat(Le),$e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Le=>this.map.set(Le,this.cloneFrom.map.get(Le))),this.updates.forEach(Le=>{switch(Le.op){case"a":case"s":const $e=("a"===Le.op?this.map.get(Le.param):void 0)||[];$e.push(ut(Le.value)),this.map.set(Le.param,$e);break;case"d":if(void 0===Le.value){this.map.delete(Le.param);break}{let Ft=this.map.get(Le.param)||[];const Ct=Ft.indexOf(ut(Le.value));-1!==Ct&&Ft.splice(Ct,1),Ft.length>0?this.map.set(Le.param,Ft):this.map.delete(Le.param)}}}),this.cloneFrom=this.updates=null)}}class Be{constructor(){this.map=new Map}set(Le,$e){return this.map.set(Le,$e),this}get(Le){return this.map.has(Le)||this.map.set(Le,Le.defaultValue()),this.map.get(Le)}delete(Le){return this.map.delete(Le),this}has(Le){return this.map.has(Le)}keys(){return this.map.keys()}}function me(It){return"undefined"!=typeof ArrayBuffer&&It instanceof ArrayBuffer}function we(It){return"undefined"!=typeof Blob&&It instanceof Blob}function Xe(It){return"undefined"!=typeof FormData&&It instanceof FormData}class Y{constructor(Le,$e,Ft,Ct){let Vt;if(this.url=$e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Le.toUpperCase(),function pt(It){switch(It){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ct?(this.body=void 0!==Ft?Ft:null,Vt=Ct):Vt=Ft,Vt&&(this.reportProgress=!!Vt.reportProgress,this.withCredentials=!!Vt.withCredentials,Vt.responseType&&(this.responseType=Vt.responseType),Vt.headers&&(this.headers=Vt.headers),Vt.context&&(this.context=Vt.context),Vt.params&&(this.params=Vt.params)),this.headers||(this.headers=new te),this.context||(this.context=new Be),this.params){const zt=this.params.toString();if(0===zt.length)this.urlWithParams=$e;else{const Re=$e.indexOf("?");this.urlWithParams=$e+(-1===Re?"?":Re<$e.length-1?"&":"")+zt}}else this.params=new Qe,this.urlWithParams=$e}serializeBody(){return null===this.body?null:me(this.body)||we(this.body)||Xe(this.body)||function Tt(It){return"undefined"!=typeof URLSearchParams&&It instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Xe(this.body)?null:we(this.body)?this.body.type||null:me(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Le={}){var $e;const Ft=Le.method||this.method,Ct=Le.url||this.url,Vt=Le.responseType||this.responseType,zt=void 0!==Le.body?Le.body:this.body,Re=void 0!==Le.withCredentials?Le.withCredentials:this.withCredentials,xe=void 0!==Le.reportProgress?Le.reportProgress:this.reportProgress;let Ee=Le.headers||this.headers,We=Le.params||this.params;const _t=null!==($e=Le.context)&&void 0!==$e?$e:this.context;return void 0!==Le.setHeaders&&(Ee=Object.keys(Le.setHeaders).reduce((Dt,wt)=>Dt.set(wt,Le.setHeaders[wt]),Ee)),Le.setParams&&(We=Object.keys(Le.setParams).reduce((Dt,wt)=>Dt.set(wt,Le.setParams[wt]),We)),new Y(Ft,Ct,zt,{params:We,headers:Ee,context:_t,reportProgress:xe,responseType:Vt,withCredentials:Re})}}var qe=(()=>((qe=qe||{})[qe.Sent=0]="Sent",qe[qe.UploadProgress=1]="UploadProgress",qe[qe.ResponseHeader=2]="ResponseHeader",qe[qe.DownloadProgress=3]="DownloadProgress",qe[qe.Response=4]="Response",qe[qe.User=5]="User",qe))();class et{constructor(Le,$e=200,Ft="OK"){this.headers=Le.headers||new te,this.status=void 0!==Le.status?Le.status:$e,this.statusText=Le.statusText||Ft,this.url=Le.url||null,this.ok=this.status>=200&&this.status<300}}class Ve extends et{constructor(Le={}){super(Le),this.type=qe.ResponseHeader}clone(Le={}){return new Ve({headers:Le.headers||this.headers,status:void 0!==Le.status?Le.status:this.status,statusText:Le.statusText||this.statusText,url:Le.url||this.url||void 0})}}class Ge extends et{constructor(Le={}){super(Le),this.type=qe.Response,this.body=void 0!==Le.body?Le.body:null}clone(Le={}){return new Ge({body:void 0!==Le.body?Le.body:this.body,headers:Le.headers||this.headers,status:void 0!==Le.status?Le.status:this.status,statusText:Le.statusText||this.statusText,url:Le.url||this.url||void 0})}}class Je extends et{constructor(Le){super(Le,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Le.url||"(unknown url)"}`:`Http failure response for ${Le.url||"(unknown url)"}: ${Le.status} ${Le.statusText}`,this.error=Le.error||null}}function ot(It,Le){return{body:Le,headers:It.headers,context:It.context,observe:It.observe,params:It.params,reportProgress:It.reportProgress,responseType:It.responseType,withCredentials:It.withCredentials}}let it=(()=>{class It{constructor($e){this.handler=$e}request($e,Ft,Ct={}){let Vt;if($e instanceof Y)Vt=$e;else{let xe,Ee;xe=Ct.headers instanceof te?Ct.headers:new te(Ct.headers),Ct.params&&(Ee=Ct.params instanceof Qe?Ct.params:new Qe({fromObject:Ct.params})),Vt=new Y($e,Ft,void 0!==Ct.body?Ct.body:null,{headers:xe,context:Ct.context,params:Ee,reportProgress:Ct.reportProgress,responseType:Ct.responseType||"json",withCredentials:Ct.withCredentials})}const zt=(0,W.of)(Vt).pipe((0,_e.b)(xe=>this.handler.handle(xe)));if($e instanceof Y||"events"===Ct.observe)return zt;const Re=zt.pipe((0,Ne.h)(xe=>xe instanceof Ge));switch(Ct.observe||"body"){case"body":switch(Vt.responseType){case"arraybuffer":return Re.pipe((0,Ce.U)(xe=>{if(null!==xe.body&&!(xe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return xe.body}));case"blob":return Re.pipe((0,Ce.U)(xe=>{if(null!==xe.body&&!(xe.body instanceof Blob))throw new Error("Response is not a Blob.");return xe.body}));case"text":return Re.pipe((0,Ce.U)(xe=>{if(null!==xe.body&&"string"!=typeof xe.body)throw new Error("Response is not a string.");return xe.body}));default:return Re.pipe((0,Ce.U)(xe=>xe.body))}case"response":return Re;default:throw new Error(`Unreachable: unhandled observe type ${Ct.observe}}`)}}delete($e,Ft={}){return this.request("DELETE",$e,Ft)}get($e,Ft={}){return this.request("GET",$e,Ft)}head($e,Ft={}){return this.request("HEAD",$e,Ft)}jsonp($e,Ft){return this.request("JSONP",$e,{params:(new Qe).append(Ft,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options($e,Ft={}){return this.request("OPTIONS",$e,Ft)}patch($e,Ft,Ct={}){return this.request("PATCH",$e,ot(Ct,Ft))}post($e,Ft,Ct={}){return this.request("POST",$e,ot(Ct,Ft))}put($e,Ft,Ct={}){return this.request("PUT",$e,ot(Ct,Ft))}}return It.\u0275fac=function($e){return new($e||It)(d.LFG(ce))},It.\u0275prov=d.Yz7({token:It,factory:It.\u0275fac}),It})();class Nt{constructor(Le,$e){this.next=Le,this.interceptor=$e}handle(Le){return this.interceptor.intercept(Le,this.next)}}const on=new d.OlP("HTTP_INTERCEPTORS");let gt=(()=>{class It{intercept($e,Ft){return Ft.handle($e)}}return It.\u0275fac=function($e){return new($e||It)},It.\u0275prov=d.Yz7({token:It,factory:It.\u0275fac}),It})();const In=/^\)\]\}',?\n/;let di=(()=>{class It{constructor($e){this.xhrFactory=$e}handle($e){if("JSONP"===$e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Te.y(Ft=>{const Ct=this.xhrFactory.build();if(Ct.open($e.method,$e.urlWithParams),$e.withCredentials&&(Ct.withCredentials=!0),$e.headers.forEach((wt,pn)=>Ct.setRequestHeader(wt,pn.join(","))),$e.headers.has("Accept")||Ct.setRequestHeader("Accept","application/json, text/plain, */*"),!$e.headers.has("Content-Type")){const wt=$e.detectContentTypeHeader();null!==wt&&Ct.setRequestHeader("Content-Type",wt)}if($e.responseType){const wt=$e.responseType.toLowerCase();Ct.responseType="json"!==wt?wt:"text"}const Vt=$e.serializeBody();let zt=null;const Re=()=>{if(null!==zt)return zt;const wt=Ct.statusText||"OK",pn=new te(Ct.getAllResponseHeaders()),_n=function zn(It){return"responseURL"in It&&It.responseURL?It.responseURL:/^X-Request-URL:/m.test(It.getAllResponseHeaders())?It.getResponseHeader("X-Request-URL"):null}(Ct)||$e.url;return zt=new Ve({headers:pn,status:Ct.status,statusText:wt,url:_n}),zt},xe=()=>{let{headers:wt,status:pn,statusText:_n,url:ln}=Re(),z=null;204!==pn&&(z=void 0===Ct.response?Ct.responseText:Ct.response),0===pn&&(pn=z?200:0);let he=pn>=200&&pn<300;if("json"===$e.responseType&&"string"==typeof z){const be=z;z=z.replace(In,"");try{z=""!==z?JSON.parse(z):null}catch(Ue){z=be,he&&(he=!1,z={error:Ue,text:z})}}he?(Ft.next(new Ge({body:z,headers:wt,status:pn,statusText:_n,url:ln||void 0})),Ft.complete()):Ft.error(new Je({error:z,headers:wt,status:pn,statusText:_n,url:ln||void 0}))},Ee=wt=>{const{url:pn}=Re(),_n=new Je({error:wt,status:Ct.status||0,statusText:Ct.statusText||"Unknown Error",url:pn||void 0});Ft.error(_n)};let We=!1;const _t=wt=>{We||(Ft.next(Re()),We=!0);let pn={type:qe.DownloadProgress,loaded:wt.loaded};wt.lengthComputable&&(pn.total=wt.total),"text"===$e.responseType&&!!Ct.responseText&&(pn.partialText=Ct.responseText),Ft.next(pn)},Dt=wt=>{let pn={type:qe.UploadProgress,loaded:wt.loaded};wt.lengthComputable&&(pn.total=wt.total),Ft.next(pn)};return Ct.addEventListener("load",xe),Ct.addEventListener("error",Ee),Ct.addEventListener("timeout",Ee),Ct.addEventListener("abort",Ee),$e.reportProgress&&(Ct.addEventListener("progress",_t),null!==Vt&&Ct.upload&&Ct.upload.addEventListener("progress",Dt)),Ct.send(Vt),Ft.next({type:qe.Sent}),()=>{Ct.removeEventListener("error",Ee),Ct.removeEventListener("abort",Ee),Ct.removeEventListener("load",xe),Ct.removeEventListener("timeout",Ee),$e.reportProgress&&(Ct.removeEventListener("progress",_t),null!==Vt&&Ct.upload&&Ct.upload.removeEventListener("progress",Dt)),Ct.readyState!==Ct.DONE&&Ct.abort()}})}}return It.\u0275fac=function($e){return new($e||It)(d.LFG(g.JF))},It.\u0275prov=d.Yz7({token:It,factory:It.\u0275fac}),It})();const Kn=new d.OlP("XSRF_COOKIE_NAME"),Ii=new d.OlP("XSRF_HEADER_NAME");class ei{}let Ni=(()=>{class It{constructor($e,Ft,Ct){this.doc=$e,this.platform=Ft,this.cookieName=Ct,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const $e=this.doc.cookie||"";return $e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,g.Mx)($e,this.cookieName),this.lastCookieString=$e),this.lastToken}}return It.\u0275fac=function($e){return new($e||It)(d.LFG(g.K0),d.LFG(d.Lbi),d.LFG(Kn))},It.\u0275prov=d.Yz7({token:It,factory:It.\u0275fac}),It})(),qn=(()=>{class It{constructor($e,Ft){this.tokenService=$e,this.headerName=Ft}intercept($e,Ft){const Ct=$e.url.toLowerCase();if("GET"===$e.method||"HEAD"===$e.method||Ct.startsWith("http://")||Ct.startsWith("https://"))return Ft.handle($e);const Vt=this.tokenService.getToken();return null!==Vt&&!$e.headers.has(this.headerName)&&($e=$e.clone({headers:$e.headers.set(this.headerName,Vt)})),Ft.handle($e)}}return It.\u0275fac=function($e){return new($e||It)(d.LFG(ei),d.LFG(Ii))},It.\u0275prov=d.Yz7({token:It,factory:It.\u0275fac}),It})(),Fi=(()=>{class It{constructor($e,Ft){this.backend=$e,this.injector=Ft,this.chain=null}handle($e){if(null===this.chain){const Ft=this.injector.get(on,[]);this.chain=Ft.reduceRight((Ct,Vt)=>new Nt(Ct,Vt),this.backend)}return this.chain.handle($e)}}return It.\u0275fac=function($e){return new($e||It)(d.LFG(J),d.LFG(d.zs3))},It.\u0275prov=d.Yz7({token:It,factory:It.\u0275fac}),It})(),Yn=(()=>{class It{static disable(){return{ngModule:It,providers:[{provide:qn,useClass:gt}]}}static withOptions($e={}){return{ngModule:It,providers:[$e.cookieName?{provide:Kn,useValue:$e.cookieName}:[],$e.headerName?{provide:Ii,useValue:$e.headerName}:[]]}}}return It.\u0275fac=function($e){return new($e||It)},It.\u0275mod=d.oAB({type:It}),It.\u0275inj=d.cJS({providers:[qn,{provide:on,useExisting:qn,multi:!0},{provide:ei,useClass:Ni},{provide:Kn,useValue:"XSRF-TOKEN"},{provide:Ii,useValue:"X-XSRF-TOKEN"}]}),It})(),Jt=(()=>{class It{}return It.\u0275fac=function($e){return new($e||It)},It.\u0275mod=d.oAB({type:It}),It.\u0275inj=d.cJS({providers:[it,{provide:ce,useClass:Fi},di,{provide:J,useExisting:di}],imports:[[Yn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),It})()},5e3:(qt,Ze,x)=>{x.d(Ze,{$8M:()=>Ao,$Z:()=>lg,AFp:()=>R0,ALo:()=>e0,AaK:()=>ce,Akn:()=>ko,AsE:()=>Au,BQk:()=>hd,CHM:()=>Ol,CRH:()=>d0,CZH:()=>Cv,CqO:()=>dg,DdM:()=>z_,EJc:()=>yw,EiD:()=>wl,EpF:()=>Cc,F$t:()=>fg,F4k:()=>Qd,FYo:()=>L_,FiY:()=>_o,G48:()=>Bw,Gf:()=>u0,GfV:()=>F_,GkF:()=>cg,Gpc:()=>ue,Gre:()=>Jy,Hsn:()=>pg,JOm:()=>Cl,JVY:()=>xr,Jf7:()=>ro,L6J:()=>fw,L6k:()=>Oc,LAX:()=>ku,LFG:()=>tn,LSH:()=>$a,Lbi:()=>pw,MAs:()=>pm,NdJ:()=>Zh,O4$:()=>Ja,OlP:()=>yr,Oqu:()=>Ig,PXZ:()=>Pw,Q6J:()=>Tu,QGY:()=>Yd,Qsj:()=>fE,R0b:()=>tc,RDi:()=>qs,Rgc:()=>Lg,SBq:()=>Pg,Sil:()=>_w,Suo:()=>c0,TTD:()=>Is,TgZ:()=>Iu,Tol:()=>th,Udp:()=>eh,VKq:()=>W_,VLi:()=>xw,W1O:()=>g0,WLB:()=>Z_,X6Q:()=>Uw,XFs:()=>un,Xpm:()=>mt,Y36:()=>zh,YKP:()=>H_,YNc:()=>fm,Yjl:()=>re,Yz7:()=>Gt,ZZ4:()=>Fv,_Bn:()=>R_,_UZ:()=>ug,_Vd:()=>Ym,_c5:()=>nC,_uU:()=>Qy,aQg:()=>Vv,c2e:()=>gw,cJS:()=>hn,cg1:()=>ev,d8E:()=>Xy,dDg:()=>U0,deG:()=>ca,dqk:()=>Ee,eBb:()=>jl,eFA:()=>j0,ekj:()=>Cg,g9A:()=>k0,gxx:()=>zd,h0i:()=>ap,hGG:()=>iC,hYB:()=>gg,hij:()=>tf,iGM:()=>l0,ifc:()=>Ct,ip1:()=>P0,kEZ:()=>K_,kL8:()=>o_,kYT:()=>X,kcU:()=>Pi,lG2:()=>ee,lcZ:()=>t0,lnq:()=>Ag,mCW:()=>lc,n5z:()=>Js,oAB:()=>ve,oJD:()=>_d,oxw:()=>hg,pB0:()=>ih,pfw:()=>hw,q3G:()=>Sn,q4F:()=>V_,qLn:()=>lu,qOj:()=>Zp,qZA:()=>dd,qzn:()=>Bs,s9C:()=>qh,sBO:()=>Hw,sIi:()=>Uh,s_b:()=>Xm,soG:()=>Dv,tBr:()=>Oo,tb:()=>L0,tp0:()=>Ha,uIk:()=>Li,vHH:()=>ht,vpe:()=>Tc,wAp:()=>ii,xp6:()=>Vd,yhl:()=>Nu,ynx:()=>Wh,z2F:()=>Mv,z3N:()=>_a,zSh:()=>Rh,zs3:()=>Eu});var g=x(7579),d=x(727),W=x(8306),Te=x(6451),_e=x(3099);function Ne(n){for(let i in n)if(n[i]===Ne)return i;throw Error("Could not find renamed property on target object.")}function Ce(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function J(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const te=Ne({__forward_ref__:Ne});function ue(n){return n.__forward_ref__=ue,n.toString=function(){return ce(this())},n}function ke(n){return lt(n)?n():n}function lt(n){return"function"==typeof n&&n.hasOwnProperty(te)&&n.__forward_ref__===ue}class ht extends Error{constructor(i,s){super(function ut(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function Qe(n){return"string"==typeof n?n:null==n?"":String(n)}function rt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Qe(n)}function we(n,i){const s=i?` in ${i}`:"";throw new ht(-201,`No provider for ${rt(n)} found${s}`)}function vt(n,i){null==n&&function q(n,i,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function Gt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function hn(n){return{providers:n.providers||[],imports:n.imports||[]}}function In(n){return zn(n,ei)||zn(n,qn)}function zn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Ii(n){return n&&(n.hasOwnProperty(Ni)||n.hasOwnProperty(Fi))?n[Ni]:null}const ei=Ne({\u0275prov:Ne}),Ni=Ne({\u0275inj:Ne}),qn=Ne({ngInjectableDef:Ne}),Fi=Ne({ngInjectorDef:Ne});var un=(()=>((un=un||{})[un.Default=0]="Default",un[un.Host=1]="Host",un[un.Self=2]="Self",un[un.SkipSelf=4]="SkipSelf",un[un.Optional=8]="Optional",un))();let Oi;function Jt(n){const i=Oi;return Oi=n,i}function Mi(n,i,s){const l=In(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&un.Optional?null:void 0!==i?i:void we(ce(n),"Injector")}function It(n){return{toString:n}.toString()}var Le=(()=>((Le=Le||{})[Le.OnPush=0]="OnPush",Le[Le.Default=1]="Default",Le))(),Ct=(()=>{return(n=Ct||(Ct={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ct;var n})();const Vt="undefined"!=typeof globalThis&&globalThis,zt="undefined"!=typeof window&&window,Re="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ee=Vt||"undefined"!=typeof global&&global||zt||Re,Dt={},wt=[],pn=Ne({\u0275cmp:Ne}),_n=Ne({\u0275dir:Ne}),ln=Ne({\u0275pipe:Ne}),z=Ne({\u0275mod:Ne}),he=Ne({\u0275fac:Ne}),be=Ne({__NG_ELEMENT_ID__:Ne});let Ue=0;function mt(n){return It(()=>{const s={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Le.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||wt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ct.Emulated,id:"c",styles:n.styles||wt,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.directives,m=n.features,w=n.pipes;return l.id+=Ue++,l.inputs=$(n.inputs,s),l.outputs=$(n.outputs),m&&m.forEach(I=>I(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(de):null,l.pipeDefs=w?()=>("function"==typeof w?w():w).map(fe):null,l})}function de(n){return Ae(n)||function Ye(n){return n[_n]||null}(n)}function fe(n){return function Pt(n){return n[ln]||null}(n)}const Me={};function ve(n){return It(()=>{const i={type:n.type,bootstrap:n.bootstrap||wt,declarations:n.declarations||wt,imports:n.imports||wt,exports:n.exports||wt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Me[n.id]=n.type),i})}function X(n,i){return It(()=>{const s=kt(n,!0);s.declarations=i.declarations||wt,s.imports=i.imports||wt,s.exports=i.exports||wt})}function $(n,i){if(null==n)return Dt;const s={};for(const l in n)if(n.hasOwnProperty(l)){let h=n[l],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),s[h]=l,i&&(i[h]=m)}return s}const ee=mt;function re(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ae(n){return n[pn]||null}function kt(n,i){const s=n[z]||null;if(!s&&!0===i)throw new Error(`Type ${ce(n)} does not have '\u0275mod' property.`);return s}function Ot(n){return Array.isArray(n)&&"object"==typeof n[1]}function qi(n){return Array.isArray(n)&&!0===n[1]}function _i(n){return 0!=(8&n.flags)}function us(n){return 2==(2&n.flags)}function cs(n){return 1==(1&n.flags)}function sr(n){return null!==n.template}function ys(n){return 0!=(512&n[2])}function Rn(n,i){return n.hasOwnProperty(he)?n[he]:null}class _s{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Is(){return bs}function bs(n){return n.type.prototype.ngOnChanges&&(n.setInput=Vo),Qa}function Qa(){const n=oa(this),i=null==n?void 0:n.current;if(i){const s=n.previous;if(s===Dt)n.previous=i;else for(let l in i)s[l]=i[l];n.current=null,this.ngOnChanges(i)}}function Vo(n,i,s,l){const h=oa(n)||function Br(n,i){return n[Wr]=i}(n,{previous:Dt,current:null}),m=h.current||(h.current={}),w=h.previous,I=this.declaredInputs[s],P=w[I];m[I]=new _s(P&&P.currentValue,i,w===Dt),n[l]=i}Is.ngInherit=!0;const Wr="__ngSimpleChanges__";function oa(n){return n[Wr]||null}let wo;function qs(n){wo=n}function Kr(){return void 0!==wo?wo:"undefined"!=typeof document?document:void 0}function Ai(n){return!!n.listen}const U={createRenderer:(n,i)=>Kr()};function V(n){for(;Array.isArray(n);)n=n[0];return n}function Et(n,i){return V(i[n])}function Bt(n,i){return V(i[n.index])}function kn(n,i){return n.data[i]}function ai(n,i){return n[i]}function Hn(n,i){const s=i[n];return Ot(s)?s:s[0]}function ri(n){return 4==(4&n[2])}function zi(n){return 128==(128&n[2])}function Di(n,i){return null==i?null:n[i]}function H(n){n[18]=0}function N(n,i){n[5]+=i;let s=n,l=n[3];for(;null!==l&&(1===i&&1===s[5]||-1===i&&0===s[5]);)l[5]+=i,s=l,l=l[3]}const M={lFrame:jo(null),bindingsEnabled:!0};function ts(){return M.bindingsEnabled}function Ht(){return M.lFrame.lView}function li(){return M.lFrame.tView}function Ol(n){return M.lFrame.contextLView=n,n[8]}function Qi(){let n=Ia();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ia(){return M.lFrame.currentTNode}function Ps(n,i){const s=M.lFrame;s.currentTNode=n,s.isParent=i}function Aa(){return M.lFrame.isParent}function Sa(){M.lFrame.isParent=!1}function Hr(){const n=M.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function co(){return M.lFrame.bindingIndex}function To(){return M.lFrame.bindingIndex++}function hs(n){const i=M.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function xa(n,i){const s=M.lFrame;s.bindingIndex=s.bindingRootIndex=n,Oa(i)}function Oa(n){M.lFrame.currentDirectiveIndex=n}function Dr(n){const i=M.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function fl(){return M.lFrame.currentQueryIndex}function Ma(n){M.lFrame.currentQueryIndex=n}function Io(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function jr(n,i,s){if(s&un.SkipSelf){let h=i,m=n;for(;!(h=h.parent,null!==h||s&un.Host||(h=Io(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;i=h,n=m}const l=M.lFrame=la();return l.currentTNode=i,l.lView=n,!0}function ho(n){const i=la(),s=n[1];M.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function la(){const n=M.lFrame,i=null===n?null:n.child;return null===i?jo(n):i}function jo(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function $o(){const n=M.lFrame;return M.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Pa=$o;function fo(){const n=$o();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ns(){return M.lFrame.selectedIndex}function Ra(n){M.lFrame.selectedIndex=n}function Yi(){const n=M.lFrame;return kn(n.tView,n.selectedIndex)}function Ja(){M.lFrame.currentNamespace="svg"}function Pi(){!function Go(){M.lFrame.currentNamespace=null}()}function is(n,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const m=n.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:I,ngAfterViewInit:P,ngAfterViewChecked:G,ngOnDestroy:ne}=m;w&&(n.contentHooks||(n.contentHooks=[])).push(-s,w),I&&((n.contentHooks||(n.contentHooks=[])).push(s,I),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,I)),P&&(n.viewHooks||(n.viewHooks=[])).push(-s,P),G&&((n.viewHooks||(n.viewHooks=[])).push(s,G),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,G)),null!=ne&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ne)}}function Zt(n,i,s){Ns(n,i,3,s)}function Wi(n,i,s,l){(3&n[2])===s&&Ns(n,i,s,l)}function Zi(n,i){let s=n[2];(3&s)===i&&(s&=2047,s+=1,n[2]=s)}function Ns(n,i,s,l){const m=null!=l?l:-1,w=i.length-1;let I=0;for(let P=void 0!==l?65535&n[18]:0;P<w;P++)if("number"==typeof i[P+1]){if(I=i[P],null!=l&&I>=l)break}else i[P]<0&&(n[18]+=65536),(I<m||-1==m)&&(wn(n,s,i,P),n[18]=(4294901760&n[18])+P+2),P++}function wn(n,i,s,l){const h=s[l]<0,m=s[l+1],I=n[h?-s[l]:s[l]];if(h){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{m.call(I)}finally{}}}else try{m.call(I)}finally{}}class zo{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function kl(n,i,s){const l=Ai(n);let h=0;for(;h<s.length;){const m=s[h];if("number"==typeof m){if(0!==m)break;h++;const w=s[h++],I=s[h++],P=s[h++];l?n.setAttribute(i,I,P,w):i.setAttributeNS(w,I,P)}else{const w=m,I=s[++h];ka(w)?l&&n.setProperty(i,w,I):l?n.setAttribute(i,w,I):i.setAttribute(w,I),h++}}return h}function Na(n){return 3===n||4===n||6===n}function ka(n){return 64===n.charCodeAt(0)}function Wo(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const h=i[l];"number"==typeof h?s=h:0===s||Zo(n,s,h,null,-1===s||2===s?i[++l]:null)}}return n}function Zo(n,i,s,l,h){let m=0,w=n.length;if(-1===i)w=-1;else for(;m<n.length;){const I=n[m++];if("number"==typeof I){if(I===i){w=-1;break}if(I>i){w=m-1;break}}}for(;m<n.length;){const I=n[m];if("number"==typeof I)break;if(I===s){if(null===l)return void(null!==h&&(n[m+1]=h));if(l===n[m+1])return void(n[m+2]=h)}m++,null!==l&&m++,null!==h&&m++}-1!==w&&(n.splice(w,0,i),m=w+1),n.splice(m++,0,s),null!==l&&n.splice(m++,0,l),null!==h&&n.splice(m++,0,h)}function Ql(n){return-1!==n}function Ri(n){return 32767&n}function fs(n,i){let s=function Wn(n){return n>>16}(n),l=i;for(;s>0;)l=l[15],s--;return l}let La=!0;function ti(n){const i=La;return La=n,i}let C=0;function F(n,i){const s=Oe(n,i);if(-1!==s)return s;const l=i[1];l.firstCreatePass&&(n.injectorIndex=i.length,le(l.data,n),le(i,null),le(l.blueprint,null));const h=He(n,i),m=n.injectorIndex;if(Ql(h)){const w=Ri(h),I=fs(h,i),P=I[1].data;for(let G=0;G<8;G++)i[m+G]=I[w+G]|P[w+G]}return i[m+8]=h,m}function le(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Oe(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function He(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,h=i;for(;null!==h;){const m=h[1],w=m.type;if(l=2===w?m.declTNode:1===w?h[6]:null,null===l)return-1;if(s++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function xt(n,i,s){!function L(n,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(be)&&(l=s[be]),null==l&&(l=s[be]=C++);const h=255&l;i.data[n+(h>>5)]|=1<<h}(n,i,s)}function si(n,i,s){if(s&un.Optional)return n;we(i,"NodeInjector")}function Tn(n,i,s,l){if(s&un.Optional&&void 0===l&&(l=null),0==(s&(un.Self|un.Host))){const h=n[9],m=Jt(void 0);try{return h?h.get(i,l,s&un.Optional):Mi(i,l,s&un.Optional)}finally{Jt(m)}}return si(l,i,s)}function ui(n,i,s,l=un.Default,h){if(null!==n){const m=function ks(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(be)?n[be]:void 0;return"number"==typeof i?i>=0?255&i:er:i}(s);if("function"==typeof m){if(!jr(i,n,l))return l&un.Host?si(h,s,l):Tn(i,s,l,h);try{const w=m(l);if(null!=w||l&un.Optional)return w;we(s)}finally{Pa()}}else if("number"==typeof m){let w=null,I=Oe(n,i),P=-1,G=l&un.Host?i[16][6]:null;for((-1===I||l&un.SkipSelf)&&(P=-1===I?He(n,i):i[I+8],-1!==P&&yt(l,!1)?(w=i[1],I=Ri(P),i=fs(P,i)):I=-1);-1!==I;){const ne=i[1];if(Fa(m,I,ne.data)){const Ie=yo(I,i,s,w,l,G);if(Ie!==yi)return Ie}P=i[I+8],-1!==P&&yt(l,i[1].data[I+8]===G)&&Fa(m,I,i)?(w=ne,I=Ri(P),i=fs(P,i)):I=-1}}}return Tn(i,s,l,h)}const yi={};function er(){return new Yr(Qi(),Ht())}function yo(n,i,s,l,h,m){const w=i[1],I=w.data[n+8],ne=Ko(I,w,s,null==l?us(I)&&La:l!=w&&0!=(3&I.type),h&un.Host&&m===I);return null!==ne?Qs(i,w,ne,I):yi}function Ko(n,i,s,l,h){const m=n.providerIndexes,w=i.data,I=1048575&m,P=n.directiveStart,ne=m>>20,ze=h?I+ne:n.directiveEnd;for(let at=l?I:I+ne;at<ze;at++){const jt=w[at];if(at<P&&s===jt||at>=P&&jt.type===s)return at}if(h){const at=w[P];if(at&&sr(at)&&at.type===s)return P}return null}function Qs(n,i,s,l){let h=n[s];const m=i.data;if(function sn(n){return n instanceof zo}(h)){const w=h;w.resolving&&function Be(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new ht(-200,`Circular dependency in DI detected for ${n}${s}`)}(rt(m[s]));const I=ti(w.canSeeViewProviders);w.resolving=!0;const P=w.injectImpl?Jt(w.injectImpl):null;jr(n,l,un.Default);try{h=n[s]=w.factory(void 0,m,n,l),i.firstCreatePass&&s>=l.directiveStart&&function go(n,i,s){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:m}=i.type.prototype;if(l){const w=bs(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,w),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,w)}h&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,h),m&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m))}(s,m[s],i)}finally{null!==P&&Jt(P),ti(I),w.resolving=!1,Pa()}}return h}function Fa(n,i,s){return!!(s[i+(n>>5)]&1<<n)}function yt(n,i){return!(n&un.Self||n&un.Host&&i)}class Yr{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return ui(this._tNode,this._lView,i,l,s)}}function Js(n){return It(()=>{const i=n.prototype.constructor,s=i[he]||Va(i),l=Object.prototype;let h=Object.getPrototypeOf(n.prototype).constructor;for(;h&&h!==l;){const m=h[he]||Va(h);if(m&&m!==s)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Va(n){return lt(n)?()=>{const i=Va(ke(n));return i&&i()}:Rn(n)}function Ao(n){return function mn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const l=s.length;let h=0;for(;h<l;){const m=s[h];if(Na(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<l&&"string"==typeof s[h];)h++;else{if(m===i)return s[h+1];h+=2}}}return null}(Qi(),n)}const ua="__parameters__",lr="__prop__metadata__";function Jl(n){return function(...s){if(n){const l=n(...s);for(const h in l)this[h]=l[h]}}}function gl(n,i,s){return It(()=>{const l=Jl(i);function h(...m){if(this instanceof h)return l.apply(this,m),this;const w=new h(...m);return I.annotation=w,I;function I(P,G,ne){const Ie=P.hasOwnProperty(ua)?P[ua]:Object.defineProperty(P,ua,{value:[]})[ua];for(;Ie.length<=ne;)Ie.push(null);return(Ie[ne]=Ie[ne]||[]).push(w),P}}return s&&(h.prototype=Object.create(s.prototype)),h.prototype.ngMetadataName=n,h.annotationCls=h,h})}function Xl(n,i,s,l){return It(()=>{const h=Jl(i);function m(...w){if(this instanceof m)return h.apply(this,w),this;const I=new m(...w);return function P(G,ne){const Ie=G.constructor,ze=Ie.hasOwnProperty(lr)?Ie[lr]:Object.defineProperty(Ie,lr,{value:{}})[lr];ze[ne]=ze.hasOwnProperty(ne)&&ze[ne]||[],ze[ne].unshift(I),l&&l(G,ne,...w)}}return s&&(m.prototype=Object.create(s.prototype)),m.prototype.ngMetadataName=n,m.annotationCls=m,m})}class yr{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Gt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ca=new yr("AnalyzeForEntryComponents");function Ir(n,i){void 0===i&&(i=n);for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?(i===n&&(i=n.slice(0,s)),Ir(l,i)):i!==n&&i.push(l)}return i}function Cs(n,i){n.forEach(s=>Array.isArray(s)?Cs(s,i):i(s))}function eu(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function Yo(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function nl(n,i){const s=[];for(let l=0;l<n;l++)s.push(i);return s}function Gr(n,i,s){let l=xo(n,i);return l>=0?n[1|l]=s:(l=~l,function il(n,i,s,l){let h=n.length;if(h==i)n.push(s,l);else if(1===h)n.push(l,n[0]),n[0]=s;else{for(h--,n.push(n[h-1],n[h]);h>i;)n[h]=n[h-2],h--;n[i]=s,n[i+1]=l}}(n,l,i,s)),l}function So(n,i){const s=xo(n,i);if(s>=0)return n[1|s]}function xo(n,i){return function Ou(n,i,s){let l=0,h=n.length>>s;for(;h!==l;){const m=l+(h-l>>1),w=n[m<<s];if(i===w)return m<<s;w>i?h=m:l=m+1}return~(h<<s)}(n,i,1)}const ma={},rl="__NG_DI_FLAG__",iu="ngTempTokenPath",R=/\n/gm,ae="__source",De=Ne({provide:String,useValue:Ne});let tt;function dt(n){const i=tt;return tt=n,i}function $t(n,i=un.Default){if(void 0===tt)throw new ht(203,"");return null===tt?Mi(n,void 0,i):tt.get(n,i&un.Optional?null:void 0,i)}function tn(n,i=un.Default){return(function Yn(){return Oi}()||$t)(ke(n),i)}const Qn=tn;function Jn(n){const i=[];for(let s=0;s<n.length;s++){const l=ke(n[s]);if(Array.isArray(l)){if(0===l.length)throw new ht(900,"");let h,m=un.Default;for(let w=0;w<l.length;w++){const I=l[w],P=Sr(I);"number"==typeof P?-1===P?h=I.token:m|=P:h=I}i.push(tn(h,m))}else i.push(tn(l))}return i}function Nn(n,i){return n[rl]=i,n.prototype[rl]=i,n}function Sr(n){return n[rl]}const Oo=Nn(gl("Inject",n=>({token:n})),-1),_o=Nn(gl("Optional"),8),Ha=Nn(gl("SkipSelf"),4);let Bl,no;function su(n){var i;return(null===(i=function Hl(){if(void 0===Bl&&(Bl=null,Ee.trustedTypes))try{Bl=Ee.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Bl}())||void 0===i?void 0:i.createHTML(n))||n}function _l(n){var i;return(null===(i=function Sc(){if(void 0===no&&(no=null,Ee.trustedTypes))try{no=Ee.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return no}())||void 0===i?void 0:i.createHTML(n))||n}class va{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ac extends va{getTypeName(){return"HTML"}}class El extends va{getTypeName(){return"Style"}}class xc extends va{getTypeName(){return"Script"}}class ou extends va{getTypeName(){return"URL"}}class sl extends va{getTypeName(){return"ResourceURL"}}function _a(n){return n instanceof va?n.changingThisBreaksApplicationSecurity:n}function Bs(n,i){const s=Nu(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function Nu(n){return n instanceof va&&n.getTypeName()||null}function xr(n){return new ac(n)}function Oc(n){return new El(n)}function jl(n){return new xc(n)}function ku(n){return new ou(n)}function ih(n){return new sl(n)}class hr{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(su(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Pc{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const l=this.inertDocument.createElement("body");s.appendChild(l)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=su(i),s;const l=this.inertDocument.createElement("body");return l.innerHTML=su(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const s=i.attributes;for(let h=s.length-1;0<h;h--){const w=s.item(h).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&i.removeAttribute(w)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const vd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Lu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function lc(n){return(n=String(n)).match(vd)||n.match(Lu)?n:"unsafe:"+n}function T(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function y(...n){const i={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const _=T("area,br,col,hr,img,wbr"),S=T("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Q=T("rp,rt"),en=y(_,y(S,T("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),y(Q,T("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),y(Q,S)),rn=T("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oi=T("srcset"),br=y(rn,oi,T("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),T("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),As=T("script,style,template");class au{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let h=this.checkClobberedElement(s,s.nextSibling);if(h){s=h;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!en.hasOwnProperty(s))return this.sanitizedSomething=!0,!As.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let h=0;h<l.length;h++){const m=l.item(h),w=m.name,I=w.toLowerCase();if(!br.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let P=m.value;rn[I]&&(P=lc(P)),oi[I]&&(n=P,P=(n=String(n)).split(",").map(i=>lc(i.trim())).join(", ")),this.buf.push(" ",w,'="',Xo(P),'"')}var n;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();en.hasOwnProperty(s)&&!_.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Xo(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const ol=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nc=/([^\#-~ |!])/g;function Xo(n){return n.replace(/&/g,"&amp;").replace(ol,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Nc,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $l;function wl(n,i){let s=null;try{$l=$l||function Mc(n){const i=new Pc(n);return function Rc(){try{return!!(new window.DOMParser).parseFromString(su(""),"text/html")}catch(n){return!1}}()?new hr(i):i}(n);let l=i?String(i):"";s=$l.getInertBodyElement(l);let h=5,m=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=m,m=s.innerHTML,s=$l.getInertBodyElement(l)}while(l!==m);return su((new au).sanitizeChildren(uc(s)||s))}finally{if(s){const l=uc(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function uc(n){return"content"in n&&function kc(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function _d(n){const i=Fc();return i?_l(i.sanitize(Sn.HTML,n)||""):Bs(n,"HTML")?_l(_a(n)):wl(Kr(),Qe(n))}function $a(n){const i=Fc();return i?i.sanitize(Sn.URL,n)||"":Bs(n,"URL")?_a(n):lc(Qe(n))}function Fc(){const n=Ht();return n&&n[12]}const dc="__ngContext__";function io(n,i){n[dc]=i}function Vc(n){const i=function os(n){return n[dc]||null}(n);return i?Array.isArray(i)?i:i.lView:null}function Hu(n){return n.ngOriginalError}function oh(n,...i){n.error(...i)}class lu{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),l=function cf(n){return n&&n.ngErrorLogger||oh}(i);l(this._console,"ERROR",i),s&&l(this._console,"ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Hu(i);for(;s&&Hu(s);)s=Hu(s);return s||null}}const ju=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ee))();function ro(n){return n.ownerDocument.defaultView}function al(n){return n instanceof Function?n():n}var Cl=(()=>((Cl=Cl||{})[Cl.Important=1]="Important",Cl[Cl.DashCase=2]="DashCase",Cl))();function Dd(n,i){return undefined(n,i)}function $c(n){const i=n[3];return qi(i)?i[3]:i}function Ad(n){return uh(n[13])}function Sd(n){return uh(n[4])}function uh(n){for(;null!==n&&!qi(n);)n=n[4];return n}function $u(n,i,s,l,h){if(null!=l){let m,w=!1;qi(l)?m=l:Ot(l)&&(w=!0,l=l[0]);const I=V(l);0===n&&null!==s?null==h?wf(i,s,I):ul(i,s,I,h||null,!0):1===n&&null!==s?ul(i,s,I,h||null,!0):2===n?function yh(n,i,s){const l=Md(n,i);l&&function mh(n,i,s,l){Ai(n)?n.removeChild(i,s,l):i.removeChild(s)}(n,l,i,s)}(i,I,w):3===n&&i.destroyNode(I),null!=m&&function Df(n,i,s,l,h){const m=s[7];m!==V(s)&&$u(i,n,l,m,h);for(let I=10;I<s.length;I++){const P=s[I];Tl(P[1],P,n,i,l,m)}}(i,n,m,s,h)}}function dh(n,i,s){if(Ai(n))return n.createElement(i,s);{const l=null!==s?function kr(n){const i=n.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(s):null;return null===l?n.createElement(i):n.createElementNS(l,i)}}function ll(n,i){const s=n[9],l=s.indexOf(i),h=i[3];1024&i[2]&&(i[2]&=-1025,N(h,-1)),s.splice(l,1)}function pc(n,i){if(n.length<=10)return;const s=10+i,l=n[s];if(l){const h=l[17];null!==h&&h!==n&&ll(h,l),i>0&&(n[s-1][4]=l[4]);const m=Yo(n,10+i);!function hh(n,i){Tl(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const w=m[19];null!==w&&w.detachView(m[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function _p(n,i){if(!(256&i[2])){const s=i[11];Ai(s)&&s.destroyNode&&Tl(n,i,s,3,null,null),function xd(n){let i=n[13];if(!i)return gc(n[1],n);for(;i;){let s=null;if(Ot(i))s=i[13];else{const l=i[10];l&&(s=l)}if(!s){for(;i&&!i[4]&&i!==n;)Ot(i)&&gc(i[1],i),i=i[3];null===i&&(i=n),Ot(i)&&gc(i[1],i),s=i&&i[4]}i=s}}(i)}}function gc(n,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function Gu(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const h=i[s[l]];if(!(h instanceof zo)){const m=s[l+1];if(Array.isArray(m))for(let w=0;w<m.length;w+=2){const I=h[m[w]],P=m[w+1];try{P.call(I)}finally{}}else try{m.call(h)}finally{}}}}(n,i),function ph(n,i){const s=n.cleanup,l=i[7];let h=-1;if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const w=s[m+1],I="function"==typeof w?w(i):V(i[w]),P=l[h=s[m+2]],G=s[m+3];"boolean"==typeof G?I.removeEventListener(s[m],P,G):G>=0?l[h=G]():l[h=-G].unsubscribe(),m+=2}else{const w=l[h=s[m+1]];s[m].call(w)}if(null!==l){for(let m=h+1;m<l.length;m++)l[m]();i[7]=null}}(n,i),1===i[1].type&&Ai(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&qi(i[3])){s!==i[3]&&ll(s,i);const l=i[19];null!==l&&l.detachView(n)}}}function zu(n,i,s){return function cu(n,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[0];if(2&l.flags){const h=n.data[l.directiveStart].encapsulation;if(h===Ct.None||h===Ct.Emulated)return null}return Bt(l,s)}(n,i.parent,s)}function ul(n,i,s,l,h){Ai(n)?n.insertBefore(i,s,l,h):i.insertBefore(s,l,h)}function wf(n,i,s){Ai(n)?n.appendChild(i,s):i.appendChild(s)}function gh(n,i,s,l,h){null!==l?ul(n,i,s,l,h):wf(n,i,s)}function Md(n,i){return Ai(n)?n.parentNode(i):i.parentNode}function Ep(n,i,s){return Tf(n,i,s)}let Tf=function Cf(n,i,s){return 40&n.type?Bt(n,s):null};function cl(n,i,s,l){const h=zu(n,l,i),m=i[11],I=Ep(l.parent||i[6],l,i);if(null!=h)if(Array.isArray(s))for(let P=0;P<s.length;P++)gh(m,h,s[P],I,!1);else gh(m,h,s,I,!1)}function Gc(n,i){if(null!==i){const s=i.type;if(3&s)return Bt(i,n);if(4&s)return Rd(-1,n[i.index]);if(8&s){const l=i.child;if(null!==l)return Gc(n,l);{const h=n[i.index];return qi(h)?Rd(-1,h):V(h)}}if(32&s)return Dd(i,n)()||V(n[i.index]);{const l=Pd(n,i);return null!==l?Array.isArray(l)?l[0]:Gc($c(n[16]),l):Gc(n,i.next)}}return null}function Pd(n,i){return null!==i?n[16][6].projection[i.projection]:null}function Rd(n,i){const s=10+n+1;if(s<i.length){const l=i[s],h=l[1].firstChild;if(null!==h)return Gc(l,h)}return i[7]}function Nd(n,i,s,l,h,m,w){for(;null!=s;){const I=l[s.index],P=s.type;if(w&&0===i&&(I&&io(V(I),l),s.flags|=4),64!=(64&s.flags))if(8&P)Nd(n,i,s.child,l,h,m,!1),$u(i,n,h,I,m);else if(32&P){const G=Dd(s,l);let ne;for(;ne=G();)$u(i,n,h,ne,m);$u(i,n,h,I,m)}else 16&P?du(n,i,l,s,h,m):$u(i,n,h,I,m);s=w?s.projectionNext:s.next}}function Tl(n,i,s,l,h,m){Nd(s,l,n.firstChild,i,h,m,!1)}function du(n,i,s,l,h,m){const w=s[16],P=w[6].projection[l.projection];if(Array.isArray(P))for(let G=0;G<P.length;G++)$u(i,n,h,P[G],m);else Nd(n,i,P,w[3],h,m,!0)}function If(n,i,s){Ai(n)?n.setAttribute(i,"style",s):i.style.cssText=s}function zc(n,i,s){Ai(n)?""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s):i.className=s}function Zu(n,i,s){let l=n.length;for(;;){const h=n.indexOf(i,s);if(-1===h)return h;if(0===h||n.charCodeAt(h-1)<=32){const m=i.length;if(h+m===l||n.charCodeAt(h+m)<=32)return h}s=h+1}}const _h="ng-template";function kd(n,i,s){let l=0;for(;l<n.length;){let h=n[l++];if(s&&"class"===h){if(h=n[l],-1!==Zu(h.toLowerCase(),i,0))return!0}else if(1===h){for(;l<n.length&&"string"==typeof(h=n[l++]);)if(h.toLowerCase()===i)return!0;return!1}}return!1}function Wc(n){return 4===n.type&&n.value!==_h}function nn(n,i,s){return i===(4!==n.type||s?n.value:_h)}function Sf(n,i,s){let l=4;const h=n.attrs||[],m=function hu(n){for(let i=0;i<n.length;i++)if(Na(n[i]))return i;return n.length}(h);let w=!1;for(let I=0;I<i.length;I++){const P=i[I];if("number"!=typeof P){if(!w)if(4&l){if(l=2|1&l,""!==P&&!nn(n,P,s)||""===P&&1===i.length){if(za(l))return!1;w=!0}}else{const G=8&l?P:i[++I];if(8&l&&null!==n.attrs){if(!kd(n.attrs,G,s)){if(za(l))return!1;w=!0}continue}const Ie=bo(8&l?"class":P,h,Wc(n),s);if(-1===Ie){if(za(l))return!1;w=!0;continue}if(""!==G){let ze;ze=Ie>m?"":h[Ie+1].toLowerCase();const at=8&l?ze:null;if(at&&-1!==Zu(at,G,0)||2&l&&G!==ze){if(za(l))return!1;w=!0}}}}else{if(!w&&!za(l)&&!za(P))return!1;if(w&&za(P))continue;w=!1,l=P|1&l}}return za(l)||w}function za(n){return 0==(1&n)}function bo(n,i,s,l){if(null===i)return-1;let h=0;if(l||!s){let m=!1;for(;h<i.length;){const w=i[h];if(w===n)return h;if(3===w||6===w)m=!0;else{if(1===w||2===w){let I=i[++h];for(;"string"==typeof I;)I=i[++h];continue}if(4===w)break;if(0===w){h+=4;continue}}h+=m?1:2}return-1}return function Fd(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,n)}function Ld(n,i,s=!1){for(let l=0;l<i.length;l++)if(Sf(n,i[l],s))return!0;return!1}function fu(n,i){e:for(let s=0;s<i.length;s++){const l=i[s];if(n.length===l.length){for(let h=0;h<n.length;h++)if(n[h]!==l[h])continue e;return!0}}return!1}function Ku(n,i){return n?":not("+i.trim()+")":i}function bh(n){let i=n[0],s=1,l=2,h="",m=!1;for(;s<n.length;){let w=n[s];if("string"==typeof w)if(2&l){const I=n[++s];h+="["+w+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?h+="."+w:4&l&&(h+=" "+w);else""!==h&&!za(w)&&(i+=Ku(m,h),h=""),l=w,m=m||!za(l);s++}return""!==h&&(i+=Ku(m,h)),i}const Xn={};function Vd(n){Ro(li(),Ht(),ns()+n,!1)}function Ro(n,i,s,l){if(!l)if(3==(3&i[2])){const m=n.preOrderCheckHooks;null!==m&&Zt(i,m,s)}else{const m=n.preOrderHooks;null!==m&&Wi(i,m,0,s)}Ra(s)}function $s(n,i){return n<<17|i<<2}function Wa(n){return n>>17&32767}function Il(n){return 2|n}function zr(n){return(131068&n)>>2}function wh(n,i){return-131069&n|i<<2}function pu(n){return 1|n}function $n(n,i){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const h=s[l],m=s[l+1];if(-1!==m){const w=n.data[m];Ma(h),w.contentQueries(2,i[m],m)}}}function pr(n,i,s,l,h,m,w,I,P,G){const ne=i.blueprint.slice();return ne[0]=h,ne[2]=140|l,H(ne),ne[3]=ne[15]=n,ne[8]=s,ne[10]=w||n&&n[10],ne[11]=I||n&&n[11],ne[12]=P||n&&n[12]||null,ne[9]=G||n&&n[9]||null,ne[6]=m,ne[16]=2==i.type?n[16]:ne,ne}function nr(n,i,s,l,h){let m=n.data[i];if(null===m)m=function ci(n,i,s,l,h){const m=Ia(),w=Aa(),P=n.data[i]=function Ts(n,i,s,l,h,m){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?m:m&&m.parent,s,i,l,h);return null===n.firstChild&&(n.firstChild=P),null!==m&&(w?null==m.child&&null!==P.parent&&(m.child=P):null===m.next&&(m.next=P)),P}(n,i,s,l,h),function Rs(){return M.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=s,m.value=l,m.attrs=h;const w=function Co(){const n=M.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();m.injectorIndex=null===w?-1:w.injectorIndex}return Ps(m,!0),m}function ir(n,i,s,l){if(0===s)return-1;const h=i.length;for(let m=0;m<s;m++)i.push(l),n.blueprint.push(l),n.data.push(null);return h}function gr(n,i,s){ho(i);try{const l=n.viewQuery;null!==l&&Ph(1,l,s);const h=n.template;null!==h&&Za(n,i,h,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&$n(n,i),n.staticViewQueries&&Ph(2,n.viewQuery,s);const m=n.components;null!==m&&function fr(n,i){for(let s=0;s<i.length;s++)Wg(n,i[s])}(i,m)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[2]&=-5,fo()}}function Fr(n,i,s,l){const h=i[2];if(256!=(256&h)){ho(i);try{H(i),function Ho(n){return M.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Za(n,i,s,2,l);const w=3==(3&h);if(w){const G=n.preOrderCheckHooks;null!==G&&Zt(i,G,null)}else{const G=n.preOrderHooks;null!==G&&Wi(i,G,0,null),Zi(i,0)}if(function ay(n){for(let i=Ad(n);null!==i;i=Sd(i)){if(!i[2])continue;const s=i[9];for(let l=0;l<s.length;l++){const h=s[l],m=h[3];0==(1024&h[2])&&N(m,1),h[2]|=1024}}}(i),function Op(n){for(let i=Ad(n);null!==i;i=Sd(i))for(let s=10;s<i.length;s++){const l=i[s],h=l[1];zi(l)&&Fr(h,l,h.template,l[8])}}(i),null!==n.contentQueries&&$n(n,i),w){const G=n.contentCheckHooks;null!==G&&Zt(i,G)}else{const G=n.contentHooks;null!==G&&Wi(i,G,1),Zi(i,1)}!function Vn(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const h=s[l];if(h<0)Ra(~h);else{const m=h,w=s[++l],I=s[++l];xa(w,m),I(2,i[m])}}}finally{Ra(-1)}}(n,i);const I=n.components;null!==I&&function ki(n,i){for(let s=0;s<i.length;s++)ly(n,i[s])}(i,I);const P=n.viewQuery;if(null!==P&&Ph(2,P,l),w){const G=n.viewCheckHooks;null!==G&&Zt(i,G)}else{const G=n.viewHooks;null!==G&&Wi(i,G,2),Zi(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-73,1024&i[2]&&(i[2]&=-1025,N(i[3],-1))}finally{fo()}}}function dl(n,i,s,l){const h=i[10],w=ri(i);try{!w&&h.begin&&h.begin(),w&&gr(n,i,l),Fr(n,i,s,l)}finally{!w&&h.end&&h.end()}}function Za(n,i,s,l,h){const m=ns(),w=2&l;try{Ra(-1),w&&i.length>20&&Ro(n,i,20,!1),s(l,h)}finally{Ra(m)}}function Ka(n,i,s){if(_i(i)){const h=i.directiveEnd;for(let m=i.directiveStart;m<h;m++){const w=n.data[m];w.contentQueries&&w.contentQueries(1,s[m],m)}}}function Xc(n,i,s){!ts()||(function Ip(n,i,s,l){const h=s.directiveStart,m=s.directiveEnd;n.firstCreatePass||F(s,i),io(l,i);const w=s.initialInputs;for(let I=h;I<m;I++){const P=n.data[I],G=sr(P);G&&Sp(i,s,P);const ne=Qs(i,n,I,s);io(ne,i),null!==w&&Vf(0,I-h,ne,P,0,w),G&&(Hn(s.index,i)[8]=ne)}}(n,i,s,Bt(s,i)),128==(128&s.flags)&&function $g(n,i,s){const l=s.directiveStart,h=s.directiveEnd,w=s.index,I=function ws(){return M.lFrame.currentDirectiveIndex}();try{Ra(w);for(let P=l;P<h;P++){const G=n.data[P],ne=i[P];Oa(P),(null!==G.hostBindings||0!==G.hostVars||null!==G.hostAttrs)&&Lf(G,ne)}}finally{Ra(-1),Oa(I)}}(n,i,s))}function Yu(n,i,s=Bt){const l=i.localNames;if(null!==l){let h=i.index+1;for(let m=0;m<l.length;m+=2){const w=l[m+1],I=-1===w?s(i,n):n[w];n[h++]=I}}}function Wl(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=ed(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function ed(n,i,s,l,h,m,w,I,P,G){const ne=20+l,Ie=ne+h,ze=function Nf(n,i){const s=[];for(let l=0;l<i;l++)s.push(l<n?null:Xn);return s}(ne,Ie),at="function"==typeof G?G():G;return ze[1]={type:n,blueprint:ze,template:s,queries:null,viewQuery:I,declTNode:i,data:ze.slice().fill(null,ne),bindingStartIndex:ne,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:P,consts:at,incompleteFirstPass:!1}}function xi(n,i,s,l){const h=nd(i);null===s?h.push(l):(h.push(s),n.firstCreatePass&&Qu(n).push(l,h.length-1))}function qa(n,i,s){for(let l in n)if(n.hasOwnProperty(l)){const h=n[l];(s=null===s?{}:s).hasOwnProperty(l)?s[l].push(i,h):s[l]=[i,h]}return s}function Bi(n,i,s,l,h,m,w,I){const P=Bt(i,s);let ne,G=i.inputs;!I&&null!=G&&(ne=G[l])?(rd(n,s,ne,l,h),us(i)&&function kf(n,i){const s=Hn(i,n);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(l=function gu(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),h=null!=w?w(h,i.value||"",l):h,Ai(m)?m.setProperty(P,l,h):ka(l)||(P.setProperty?P.setProperty(l,h):P[l]=h))}function Ah(n,i,s,l){let h=!1;if(ts()){const m=function Ap(n,i,s){const l=n.directiveRegistry;let h=null;if(l)for(let m=0;m<l.length;m++){const w=l[m];Ld(s,w.selectors,!1)&&(h||(h=[]),xt(F(s,i),n,w.type),sr(w)?(vu(n,s),h.unshift(w)):h.push(w))}return h}(n,i,s),w=null===l?null:{"":-1};if(null!==m){h=!0,Ff(s,n.data.length,m.length);for(let ne=0;ne<m.length;ne++){const Ie=m[ne];Ie.providersResolver&&Ie.providersResolver(Ie)}let I=!1,P=!1,G=ir(n,i,m.length,null);for(let ne=0;ne<m.length;ne++){const Ie=m[ne];s.mergedAttrs=Wo(s.mergedAttrs,Ie.hostAttrs),zg(n,s,i,G,Ie),sy(G,Ie,w),null!==Ie.contentQueries&&(s.flags|=8),(null!==Ie.hostBindings||null!==Ie.hostAttrs||0!==Ie.hostVars)&&(s.flags|=128);const ze=Ie.type.prototype;!I&&(ze.ngOnChanges||ze.ngOnInit||ze.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),I=!0),!P&&(ze.ngOnChanges||ze.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),P=!0),G++}!function ba(n,i){const l=i.directiveEnd,h=n.data,m=i.attrs,w=[];let I=null,P=null;for(let G=i.directiveStart;G<l;G++){const ne=h[G],Ie=ne.inputs,ze=null===m||Wc(i)?null:xp(Ie,m);w.push(ze),I=qa(Ie,G,I),P=qa(ne.outputs,G,P)}null!==I&&(I.hasOwnProperty("class")&&(i.flags|=16),I.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=w,i.inputs=I,i.outputs=P}(n,s)}w&&function Gg(n,i,s){if(i){const l=n.localNames=[];for(let h=0;h<i.length;h+=2){const m=s[i[h+1]];if(null==m)throw new ht(-301,!1);l.push(i[h],m)}}}(s,l,w)}return s.mergedAttrs=Wo(s.mergedAttrs,s.attrs),h}function Sh(n,i,s,l,h,m){const w=m.hostBindings;if(w){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const P=~i.index;(function xh(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(I)!=P&&I.push(P),I.push(l,h,w)}}function Lf(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function vu(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function sy(n,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=n;sr(i)&&(s[""]=n)}}function Ff(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}function zg(n,i,s,l,h){n.data[l]=h;const m=h.factory||(h.factory=Rn(h.type)),w=new zo(m,sr(h),null);n.blueprint[l]=w,s[l]=w,Sh(n,i,0,l,ir(n,s,h.hostVars,Xn),h)}function Sp(n,i,s){const l=Bt(i,n),h=Wl(s),m=n[10],w=Gd(n,pr(n,h,null,s.onPush?64:16,l,i,m,m.createRenderer(l,s),null,null));n[i.index]=w}function _u(n,i,s,l,h,m){const w=Bt(n,i);!function Oh(n,i,s,l,h,m,w){if(null==m)Ai(n)?n.removeAttribute(i,h,s):i.removeAttribute(h);else{const I=null==w?Qe(m):w(m,l||"",h);Ai(n)?n.setAttribute(i,h,I,s):s?i.setAttributeNS(s,h,I):i.setAttribute(h,I)}}(i[11],w,m,n.value,s,l,h)}function Vf(n,i,s,l,h,m){const w=m[i];if(null!==w){const I=l.setInput;for(let P=0;P<w.length;){const G=w[P++],ne=w[P++],Ie=w[P++];null!==I?l.setInput(s,Ie,G,ne):s[ne]=Ie}}}function xp(n,i){let s=null,l=0;for(;l<i.length;){const h=i[l];if(0!==h)if(5!==h){if("number"==typeof h)break;n.hasOwnProperty(h)&&(null===s&&(s=[]),s.push(h,n[h],i[l+1])),l+=2}else l+=2;else l+=4}return s}function td(n,i,s,l){return new Array(n,!0,!1,i,null,0,l,s,null,null)}function ly(n,i){const s=Hn(i,n);if(zi(s)){const l=s[1];80&s[2]?Fr(l,s,l.template,s[8]):s[5]>0&&Uf(s)}}function Uf(n){for(let l=Ad(n);null!==l;l=Sd(l))for(let h=10;h<l.length;h++){const m=l[h];if(1024&m[2]){const w=m[1];Fr(w,m,w.template,m[8])}else m[5]>0&&Uf(m)}const s=n[1].components;if(null!==s)for(let l=0;l<s.length;l++){const h=Hn(s[l],n);zi(h)&&h[5]>0&&Uf(h)}}function Wg(n,i){const s=Hn(i,n),l=s[1];(function uy(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(l,s),gr(l,s,s[8])}function Gd(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Mp(n){for(;n;){n[2]|=64;const i=$c(n);if(ys(n)&&!i)return n;n=i}return null}function Zg(n){!function Rp(n){for(let i=0;i<n.components.length;i++){const s=n.components[i],l=Vc(s),h=l[1];dl(h,l,h.template,s)}}(n[8])}function Ph(n,i,s){Ma(0),i(n,s)}const Np=(()=>Promise.resolve(null))();function nd(n){return n[7]||(n[7]=[])}function Qu(n){return n.cleanup||(n.cleanup=[])}function id(n,i){const s=n[9],l=s?s.get(lu,null):null;l&&l.handleError(i)}function rd(n,i,s,l,h){for(let m=0;m<s.length;){const w=s[m++],I=s[m++],P=i[w],G=n.data[w];null!==G.setInput?G.setInput(P,h,l,I):P[I]=h}}function bu(n,i,s){const l=Et(i,n);!function bf(n,i,s){Ai(n)?n.setValue(i,s):i.textContent=s}(n[11],l,s)}function Ju(n,i,s){let l=s?n.styles:null,h=s?n.classes:null,m=0;if(null!==i)for(let w=0;w<i.length;w++){const I=i[w];"number"==typeof I?m=I:1==m?h=J(h,I):2==m&&(l=J(l,I+": "+i[++w]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=h:n.classesWithoutHost=h}const zd=new yr("INJECTOR",-1);class Hf{get(i,s=ma){if(s===ma){const l=new Error(`NullInjectorError: No provider for ${ce(i)}!`);throw l.name="NullInjectorError",l}return s}}const Rh=new yr("Set Injector scope."),Nh={},fy={};let kh;function jf(){return void 0===kh&&(kh=new Hf),kh}function Qg(n,i=null,s=null,l){const h=kp(n,i,s,l);return h._resolveInjectorDefTypes(),h}function kp(n,i=null,s=null,l){return new py(n,s,i||jf(),l)}class py{constructor(i,s,l,h=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];s&&Cs(s,I=>this.processProvider(I,i,s)),Cs([i],I=>this.processInjectorType(I,[],m)),this.records.set(zd,Wd(void 0,this));const w=this.records.get(Rh);this.scope=null!=w?w.value:null,this.source=h||("object"==typeof i?null:ce(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=ma,l=un.Default){this.assertNotDestroyed();const h=dt(this),m=Jt(void 0);try{if(!(l&un.SkipSelf)){let I=this.records.get(i);if(void 0===I){const P=function Up(n){return"function"==typeof n||"object"==typeof n&&n instanceof yr}(i)&&In(i);I=P&&this.injectableDefInScope(P)?Wd($f(i),Nh):null,this.records.set(i,I)}if(null!=I)return this.hydrate(i,I)}return(l&un.Self?jf():this.parent).get(i,s=l&un.Optional&&s===ma?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[iu]=w[iu]||[]).unshift(ce(i)),h)throw w;return function Ui(n,i,s,l){const h=n[iu];throw i[ae]&&h.unshift(i[ae]),n.message=function ml(n,i,s,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let h=ce(i);if(Array.isArray(i))h=i.map(ce).join(" -> ");else if("object"==typeof i){let m=[];for(let w in i)if(i.hasOwnProperty(w)){let I=i[w];m.push(w+":"+("string"==typeof I?JSON.stringify(I):ce(I)))}h=`{${m.join(", ")}}`}return`${s}${l?"("+l+")":""}[${h}]: ${n.replace(R,"\n  ")}`}("\n"+n.message,h,s,l),n.ngTokenPath=h,n[iu]=null,n}(w,i,"R3InjectorError",this.source)}throw w}finally{Jt(m),dt(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,h)=>i.push(ce(h))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ht(205,!1)}processInjectorType(i,s,l){if(!(i=ke(i)))return!1;let h=Ii(i);const m=null==h&&i.ngModule||void 0,w=void 0===m?i:m,I=-1!==l.indexOf(w);if(void 0!==m&&(h=Ii(m)),null==h)return!1;if(null!=h.imports&&!I){let ne;l.push(w);try{Cs(h.imports,Ie=>{this.processInjectorType(Ie,s,l)&&(void 0===ne&&(ne=[]),ne.push(Ie))})}finally{}if(void 0!==ne)for(let Ie=0;Ie<ne.length;Ie++){const{ngModule:ze,providers:at}=ne[Ie];Cs(at,jt=>this.processProvider(jt,ze,at||wt))}}this.injectorDefTypes.add(w);const P=Rn(w)||(()=>new w);this.records.set(w,Wd(P,Nh));const G=h.providers;if(null!=G&&!I){const ne=i;Cs(G,Ie=>this.processProvider(Ie,ne,G))}return void 0!==m&&void 0!==i.providers}processProvider(i,s,l){let h=bc(i=ke(i))?i:ke(i&&i.provide);const m=function Xg(n,i,s){return em(n)?Wd(void 0,n.useValue):Wd(Lp(n),Nh)}(i);if(bc(i)||!0!==i.multi)this.records.get(h);else{let w=this.records.get(h);w||(w=Wd(void 0,Nh,!0),w.factory=()=>Jn(w.multi),this.records.set(h,w)),h=i,w.multi.push(i)}this.records.set(h,m)}hydrate(i,s){return s.value===Nh&&(s.value=fy,s.value=s.factory()),"object"==typeof s.value&&s.value&&function yy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=ke(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function $f(n){const i=In(n),s=null!==i?i.factory:Rn(n);if(null!==s)return s;if(n instanceof yr)throw new ht(204,!1);if(n instanceof Function)return function Jg(n){const i=n.length;if(i>0)throw nl(i,"?"),new ht(204,!1);const s=function di(n){const i=n&&(n[ei]||n[qn]);if(i){const s=function Kn(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ht(204,!1)}function Lp(n,i,s){let l;if(bc(n)){const h=ke(n);return Rn(h)||$f(h)}if(em(n))l=()=>ke(n.useValue);else if(function my(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...Jn(n.deps||[]));else if(function gy(n){return!(!n||!n.useExisting)}(n))l=()=>tn(ke(n.useExisting));else{const h=ke(n&&(n.useClass||n.provide));if(!function Vp(n){return!!n.deps}(n))return Rn(h)||$f(h);l=()=>new h(...Jn(n.deps))}return l}function Wd(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function em(n){return null!==n&&"object"==typeof n&&De in n}function bc(n){return"function"==typeof n}let Eu=(()=>{class n{static create(s,l){var h;if(Array.isArray(s))return Qg({name:""},l,s,"");{const m=null!==(h=s.name)&&void 0!==h?h:"";return Qg({name:m},s.parent,s.providers,m)}}}return n.THROW_IF_NOT_FOUND=ma,n.NULL=new Hf,n.\u0275prov=Gt({token:n,providedIn:"any",factory:()=>tn(zd)}),n.__NG_ELEMENT_ID__=-1,n})();function Wp(n,i){is(Vc(n)[1],Qi())}function Zp(n){let i=function qf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;i;){let h;if(sr(n))h=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ht(903,"");h=i.\u0275dir}if(h){if(s){l.push(h);const w=n;w.inputs=Yf(n.inputs),w.declaredInputs=Yf(n.declaredInputs),w.outputs=Yf(n.outputs);const I=h.hostBindings;I&&wy(n,I);const P=h.viewQuery,G=h.contentQueries;if(P&&qp(n,P),G&&om(n,G),Ce(n.inputs,h.inputs),Ce(n.declaredInputs,h.declaredInputs),Ce(n.outputs,h.outputs),sr(h)&&h.data.animation){const ne=n.data;ne.animation=(ne.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let w=0;w<m.length;w++){const I=m[w];I&&I.ngInherit&&I(n),I===Zp&&(s=!1)}}i=Object.getPrototypeOf(i)}!function Kp(n){let i=0,s=null;for(let l=n.length-1;l>=0;l--){const h=n[l];h.hostVars=i+=h.hostVars,h.hostAttrs=Wo(h.hostAttrs,s=Wo(s,h.hostAttrs))}}(l)}function Yf(n){return n===Dt?{}:n===wt?[]:n}function qp(n,i){const s=n.viewQuery;n.viewQuery=s?(l,h)=>{i(l,h),s(l,h)}:i}function om(n,i){const s=n.contentQueries;n.contentQueries=s?(l,h,m)=>{i(l,h,m),s(l,h,m)}:i}function wy(n,i){const s=n.hostBindings;n.hostBindings=s?(l,h)=>{i(l,h),s(l,h)}:i}let Zd=null;function Ec(){if(!Zd){const n=Ee.Symbol;if(n&&n.iterator)Zd=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const l=i[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Zd=l)}}}return Zd}function Uh(n){return!!Jp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ec()in n)}function Jp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function xl(n,i,s){return n[i]=s}function No(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function wc(n,i,s,l){const h=No(n,i,s);return No(n,i+1,l)||h}function Bh(n,i,s,l,h){const m=wc(n,i,s,l);return No(n,i+2,h)||m}function Li(n,i,s,l){const h=Ht();return No(h,To(),i)&&(li(),_u(Yi(),h,n,i,s,l)),Li}function ad(n,i,s,l){return No(n,To(),s)?i+Qe(s)+l:Xn}function ld(n,i,s,l,h,m){const I=wc(n,co(),s,h);return hs(2),I?i+Qe(s)+l+Qe(h)+m:Xn}function fm(n,i,s,l,h,m,w,I){const P=Ht(),G=li(),ne=n+20,Ie=G.firstCreatePass?function Iy(n,i,s,l,h,m,w,I,P){const G=i.consts,ne=nr(i,n,4,w||null,Di(G,I));Ah(i,s,ne,Di(G,P)),is(i,ne);const Ie=ne.tViews=ed(2,ne,l,h,m,i.directiveRegistry,i.pipeRegistry,null,i.schemas,G);return null!==i.queries&&(i.queries.template(i,ne),Ie.queries=i.queries.embeddedTView(ne)),ne}(ne,G,P,i,s,l,h,m,w):G.data[ne];Ps(Ie,!1);const ze=P[11].createComment("");cl(G,P,ze,Ie),io(ze,P),Gd(P,P[ne]=td(ze,P,ze,Ie)),cs(Ie)&&Xc(G,P,Ie),null!=w&&Yu(P,Ie,I)}function pm(n){return ai(function Pl(){return M.lFrame.contextLView}(),20+n)}function zh(n,i=un.Default){const s=Ht();return null===s?tn(n,i):ui(Qi(),s,ke(n),i)}function lg(){throw new Error("invalid")}function Tu(n,i,s){const l=Ht();return No(l,To(),i)&&Bi(li(),Yi(),l,n,i,l[11],s,!1),Tu}function Du(n,i,s,l,h){const w=h?"class":"style";rd(n,s,i.inputs[w],w,l)}function Iu(n,i,s,l){const h=Ht(),m=li(),w=20+n,I=h[11],P=h[w]=dh(I,i,function po(){return M.lFrame.currentNamespace}()),G=m.firstCreatePass?function i_(n,i,s,l,h,m,w){const I=i.consts,G=nr(i,n,2,h,Di(I,m));return Ah(i,s,G,Di(I,w)),null!==G.attrs&&Ju(G,G.attrs,!1),null!==G.mergedAttrs&&Ju(G,G.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,G),G}(w,m,h,0,i,s,l):m.data[w];Ps(G,!0);const ne=G.mergedAttrs;null!==ne&&kl(I,P,ne);const Ie=G.classes;null!==Ie&&zc(I,P,Ie);const ze=G.styles;return null!==ze&&If(I,P,ze),64!=(64&G.flags)&&cl(m,h,P,G),0===function En(){return M.lFrame.elementDepthCount}()&&io(P,h),function wi(){M.lFrame.elementDepthCount++}(),cs(G)&&(Xc(m,h,G),Ka(m,G,h)),null!==l&&Yu(h,G),Iu}function dd(){let n=Qi();Aa()?Sa():(n=n.parent,Ps(n,!1));const i=n;!function Es(){M.lFrame.elementDepthCount--}();const s=li();return s.firstCreatePass&&(is(s,n),_i(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Nl(n){return 0!=(16&n.flags)}(i)&&Du(s,i,Ht(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function mo(n){return 0!=(32&n.flags)}(i)&&Du(s,i,Ht(),i.stylesWithoutHost,!1),dd}function ug(n,i,s,l){return Iu(n,i,s,l),dd(),ug}function Wh(n,i,s){const l=Ht(),h=li(),m=n+20,w=h.firstCreatePass?function Dm(n,i,s,l,h){const m=i.consts,w=Di(m,l),I=nr(i,n,8,"ng-container",w);return null!==w&&Ju(I,w,!0),Ah(i,s,I,Di(m,h)),null!==i.queries&&i.queries.elementStart(i,I),I}(m,h,l,i,s):h.data[m];Ps(w,!0);const I=l[m]=l[11].createComment("");return cl(h,l,I,w),io(I,l),cs(w)&&(Xc(h,l,w),Ka(h,w,l)),null!=s&&Yu(l,w),Wh}function hd(){let n=Qi();const i=li();return Aa()?Sa():(n=n.parent,Ps(n,!1)),i.firstCreatePass&&(is(i,n),_i(n)&&i.queries.elementEnd(n)),hd}function cg(n,i,s){return Wh(n,i,s),hd(),cg}function Cc(){return Ht()}function Yd(n){return!!n&&"function"==typeof n.then}function Qd(n){return!!n&&"function"==typeof n.subscribe}const dg=Qd;function Zh(n,i,s,l){const h=Ht(),m=li(),w=Qi();return function Am(n,i,s,l,h,m,w,I){const P=cs(l),ne=n.firstCreatePass&&Qu(n),Ie=i[8],ze=nd(i);let at=!0;if(3&l.type||I){const yn=Bt(l,i),Pn=I?I(yn):yn,Qt=ze.length,Zn=I?Ki=>I(V(Ki[l.index])):l.index;if(Ai(s)){let Ki=null;if(!I&&P&&(Ki=function Ly(n,i,s,l){const h=n.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const w=h[m];if(w===s&&h[m+1]===l){const I=i[7],P=h[m+2];return I.length>P?I[P]:null}"string"==typeof w&&(m+=2)}return null}(n,i,h,l.index)),null!==Ki)(Ki.__ngLastListenerFn__||Ki).__ngNextListenerFn__=m,Ki.__ngLastListenerFn__=m,at=!1;else{m=Kh(l,i,Ie,m,!1);const Mr=s.listen(Pn,h,m);ze.push(m,Mr),ne&&ne.push(h,Zn,Qt,Qt+1)}}else m=Kh(l,i,Ie,m,!0),Pn.addEventListener(h,m,w),ze.push(m),ne&&ne.push(h,Zn,Qt,w)}else m=Kh(l,i,Ie,m,!1);const jt=l.outputs;let an;if(at&&null!==jt&&(an=jt[h])){const yn=an.length;if(yn)for(let Pn=0;Pn<yn;Pn+=2){const Yl=i[an[Pn]][an[Pn+1]].subscribe(m),of=ze.length;ze.push(m,Yl),ne&&ne.push(h,l.index,of,-(of+1))}}}(m,h,h[11],w,n,i,!!s,l),Zh}function np(n,i,s,l){try{return!1!==s(l)}catch(h){return id(n,h),!1}}function Kh(n,i,s,l,h){return function m(w){if(w===Function)return l;const I=2&n.flags?Hn(n.index,i):i;0==(32&i[2])&&Mp(I);let P=np(i,0,l,w),G=m.__ngNextListenerFn__;for(;G;)P=np(i,0,G,w)&&P,G=G.__ngNextListenerFn__;return h&&!1===P&&(w.preventDefault(),w.returnValue=!1),P}}function hg(n=1){return function Su(n){return(M.lFrame.contextLView=function pl(n,i){for(;n>0;)i=i[15],n--;return i}(n,M.lFrame.contextLView))[8]}(n)}function fd(n,i){let s=null;const l=function Zc(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(0==(1&s))return i[s+1]}return null}(n);for(let h=0;h<i.length;h++){const m=i[h];if("*"!==m){if(null===l?Ld(n,m,!0):fu(l,m))return h}else s=h}return s}function fg(n){const i=Ht()[16][6];if(!i.projection){const l=i.projection=nl(n?n.length:1,null),h=l.slice();let m=i.child;for(;null!==m;){const w=n?fd(m,n):0;null!==w&&(h[w]?h[w].projectionNext=m:l[w]=m,h[w]=m),m=m.next}}}function pg(n,i=0,s){const l=Ht(),h=li(),m=nr(h,20+n,16,null,s||null);null===m.projection&&(m.projection=i),Sa(),64!=(64&m.flags)&&function zl(n,i,s){du(i[11],0,i,s,zu(n,s,i),Ep(s.parent||i[6],s,i))}(h,l,m)}function qh(n,i,s){return Yh(n,"",i,"",s),qh}function Yh(n,i,s,l,h){const m=Ht(),w=ad(m,i,s,l);return w!==Xn&&Bi(li(),Yi(),m,n,w,m[11],h,!1),Yh}function gg(n,i,s,l,h,m,w){const I=Ht(),P=ld(I,i,s,l,h,m);return P!==Xn&&Bi(li(),Yi(),I,n,P,I[11],w,!1),gg}function xm(n,i,s,l,h){const m=n[s+1],w=null===i;let I=l?Wa(m):zr(m),P=!1;for(;0!==I&&(!1===P||w);){const ne=n[I+1];Uy(n[I],i)&&(P=!0,n[I+1]=l?pu(ne):Il(ne)),I=l?Wa(ne):zr(ne)}P&&(n[s+1]=l?Il(m):pu(m))}function Uy(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&xo(n,i)>=0}const so={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vg(n){return n.substring(so.key,so.keyEnd)}function By(n){return n.substring(so.value,so.valueEnd)}function _g(n,i){const s=so.textEnd;return s===i?-1:(i=so.keyEnd=function $y(n,i,s){for(;i<s&&n.charCodeAt(i)>32;)i++;return i}(n,so.key=i,s),Xd(n,i,s))}function Om(n,i){const s=so.textEnd;let l=so.key=Xd(n,i,s);return s===l?-1:(l=so.keyEnd=function Mm(n,i,s){let l;for(;i<s&&(45===(l=n.charCodeAt(i))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)i++;return i}(n,l,s),l=Eg(n,l,s),l=so.value=Xd(n,l,s),l=so.valueEnd=function Pm(n,i,s){let l=-1,h=-1,m=-1,w=i,I=w;for(;w<s;){const P=n.charCodeAt(w++);if(59===P)return I;34===P||39===P?I=w=wg(n,P,w,s):i===w-4&&85===m&&82===h&&76===l&&40===P?I=w=wg(n,41,w,s):P>32&&(I=w),m=h,h=l,l=-33&P}return I}(n,l,s),Eg(n,l,s))}function bg(n){so.key=0,so.keyEnd=0,so.value=0,so.valueEnd=0,so.textEnd=n.length}function Xd(n,i,s){for(;i<s&&n.charCodeAt(i)<=32;)i++;return i}function Eg(n,i,s,l){return(i=Xd(n,i,s))<s&&i++,i}function wg(n,i,s,l){let h=-1,m=s;for(;m<l;){const w=n.charCodeAt(m++);if(w==i&&92!==h)return m;h=92==w&&92===h?0:w}throw new Error}function eh(n,i,s){return Kl(n,i,s,!1),eh}function Cg(n,i){return Kl(n,i,null,!0),Cg}function ko(n){ql(km,pd,n,!1)}function pd(n,i){for(let s=function jy(n){return bg(n),Om(n,Xd(n,0,so.textEnd))}(i);s>=0;s=Om(i,s))km(n,vg(i),By(i))}function th(n){ql(Gr,na,n,!0)}function na(n,i){for(let s=function Hy(n){return bg(n),_g(n,Xd(n,0,so.textEnd))}(i);s>=0;s=_g(i,s))Gr(n,vg(i),!0)}function Kl(n,i,s,l){const h=Ht(),m=li(),w=hs(2);m.firstUpdatePass&&Xu(m,n,w,l),i!==Xn&&No(h,w,i)&&Lm(m,m.data[ns()],h,h[11],n,h[w+1]=function Dg(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ce(_a(n)))),n}(i,s),l,w)}function ql(n,i,s,l){const h=li(),m=hs(2);h.firstUpdatePass&&Xu(h,null,m,l);const w=Ht();if(s!==Xn&&No(w,m,s)){const I=h.data[ns()];if(Yy(I,l)&&!Nm(h,m)){let P=l?I.classesWithoutHost:I.stylesWithoutHost;null!==P&&(s=J(P,s||"")),Du(h,I,w,s,l)}else!function qy(n,i,s,l,h,m,w,I){h===Xn&&(h=wt);let P=0,G=0,ne=0<h.length?h[0]:null,Ie=0<m.length?m[0]:null;for(;null!==ne||null!==Ie;){const ze=P<h.length?h[P+1]:void 0,at=G<m.length?m[G+1]:void 0;let an,jt=null;ne===Ie?(P+=2,G+=2,ze!==at&&(jt=Ie,an=at)):null===Ie||null!==ne&&ne<Ie?(P+=2,jt=ne):(G+=2,jt=Ie,an=at),null!==jt&&Lm(n,i,s,l,jt,an,w,I),ne=P<h.length?h[P]:null,Ie=G<m.length?m[G]:null}}(h,I,w,w[11],w[m+1],w[m+1]=function Ky(n,i,s){if(null==s||""===s)return wt;const l=[],h=_a(s);if(Array.isArray(h))for(let m=0;m<h.length;m++)n(l,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&n(l,m,h[m]);else"string"==typeof h&&i(l,h);return l}(n,i,s),l,m)}}function Nm(n,i){return i>=n.expandoStartIndex}function Xu(n,i,s,l){const h=n.data;if(null===h[s+1]){const m=h[ns()],w=Nm(n,s);Yy(m,l)&&null===i&&!w&&(i=!1),i=function Gy(n,i,s,l){const h=Dr(n);let m=l?i.residualClasses:i.residualStyles;if(null===h)0===(l?i.classBindings:i.styleBindings)&&(s=ef(s=Tg(null,n,i,s,l),i.attrs,l),m=null);else{const w=i.directiveStylingLast;if(-1===w||n[w]!==h)if(s=Tg(h,n,i,s,l),null===m){let P=function zy(n,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==zr(l))return n[Wa(l)]}(n,i,l);void 0!==P&&Array.isArray(P)&&(P=Tg(null,n,i,P[1],l),P=ef(P,i.attrs,l),function Wy(n,i,s,l){n[Wa(s?i.classBindings:i.styleBindings)]=l}(n,i,l,P))}else m=function Zy(n,i,s){let l;const h=i.directiveEnd;for(let m=1+i.directiveStylingLast;m<h;m++)l=ef(l,n[m].hostAttrs,s);return ef(l,i.attrs,s)}(n,i,l)}return void 0!==m&&(l?i.residualClasses=m:i.residualStyles=m),s}(h,m,i,l),function Fy(n,i,s,l,h,m){let w=m?i.classBindings:i.styleBindings,I=Wa(w),P=zr(w);n[l]=s;let ne,G=!1;if(Array.isArray(s)){const Ie=s;ne=Ie[1],(null===ne||xo(Ie,ne)>0)&&(G=!0)}else ne=s;if(h)if(0!==P){const ze=Wa(n[I+1]);n[l+1]=$s(ze,I),0!==ze&&(n[ze+1]=wh(n[ze+1],l)),n[I+1]=function Kc(n,i){return 131071&n|i<<17}(n[I+1],l)}else n[l+1]=$s(I,0),0!==I&&(n[I+1]=wh(n[I+1],l)),I=l;else n[l+1]=$s(P,0),0===I?I=l:n[P+1]=wh(n[P+1],l),P=l;G&&(n[l+1]=Il(n[l+1])),xm(n,ne,l,!0),xm(n,ne,l,!1),function Vy(n,i,s,l,h){const m=h?n.residualClasses:n.residualStyles;null!=m&&"string"==typeof i&&xo(m,i)>=0&&(s[l+1]=pu(s[l+1]))}(i,ne,n,l,m),w=$s(I,P),m?i.classBindings=w:i.styleBindings=w}(h,m,i,s,w,l)}}function Tg(n,i,s,l,h){let m=null;const w=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<w&&(m=i[I],l=ef(l,m.hostAttrs,h),m!==n);)I++;return null!==n&&(s.directiveStylingLast=I),l}function ef(n,i,s){const l=s?1:2;let h=-1;if(null!==i)for(let m=0;m<i.length;m++){const w=i[m];"number"==typeof w?h=w:h===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Gr(n,w,!!s||i[++m]))}return void 0===n?null:n}function km(n,i,s){Gr(n,i,_a(s))}function Lm(n,i,s,l,h,m,w,I){if(!(3&i.type))return;const P=n.data,G=P[I+1];ec(function qc(n){return 1==(1&n)}(G)?Fm(P,i,s,h,zr(G),w):void 0)||(ec(m)||function Eh(n){return 2==(2&n)}(G)&&(m=Fm(P,null,s,h,I,w)),function vh(n,i,s,l,h){const m=Ai(n);if(i)h?m?n.addClass(s,l):s.classList.add(l):m?n.removeClass(s,l):s.classList.remove(l);else{let w=-1===l.indexOf("-")?void 0:Cl.DashCase;if(null==h)m?n.removeStyle(s,l,w):s.style.removeProperty(l);else{const I="string"==typeof h&&h.endsWith("!important");I&&(h=h.slice(0,-10),w|=Cl.Important),m?n.setStyle(s,l,h,w):s.style.setProperty(l,h,I?"important":"")}}}(l,w,Et(ns(),s),h,m))}function Fm(n,i,s,l,h,m){const w=null===i;let I;for(;h>0;){const P=n[h],G=Array.isArray(P),ne=G?P[1]:P,Ie=null===ne;let ze=s[h+1];ze===Xn&&(ze=Ie?wt:void 0);let at=Ie?So(ze,l):ne===l?ze:void 0;if(G&&!ec(at)&&(at=So(P,l)),ec(at)&&(I=at,w))return I;const jt=n[h+1];h=w?Wa(jt):zr(jt)}if(null!==i){let P=m?i.residualClasses:i.residualStyles;null!=P&&(I=So(P,l))}return I}function ec(n){return void 0!==n}function Yy(n,i){return 0!=(n.flags&(i?16:32))}function Qy(n,i=""){const s=Ht(),l=li(),h=n+20,m=l.firstCreatePass?nr(l,h,1,i,null):l.data[h],w=s[h]=function ch(n,i){return Ai(n)?n.createText(i):n.createTextNode(i)}(s[11],i);cl(l,s,w,m),Ps(m,!1)}function Ig(n){return tf("",n,""),Ig}function tf(n,i,s){const l=Ht(),h=ad(l,n,i,s);return h!==Xn&&bu(l,ns(),h),tf}function Au(n,i,s,l,h){const m=Ht(),w=ld(m,n,i,s,l,h);return w!==Xn&&bu(m,ns(),w),Au}function Ag(n,i,s,l,h,m,w){const I=Ht(),P=function Cu(n,i,s,l,h,m,w,I){const G=Bh(n,co(),s,h,w);return hs(3),G?i+Qe(s)+l+Qe(h)+m+Qe(w)+I:Xn}(I,n,i,s,l,h,m,w);return P!==Xn&&bu(I,ns(),P),Ag}function Jy(n,i,s){ql(Gr,na,ad(Ht(),n,i,s),!0)}function Xy(n,i,s){const l=Ht();if(No(l,To(),i)){const m=li(),w=Yi();Bi(m,w,l,n,i,function Bf(n,i,s){return(null===n||sr(n))&&(s=function oe(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[i.index])),s[11]}(Dr(m.data),w,l),s,!0)}return Xy}const nf=void 0;var lb=["en",[["a","p"],["AM","PM"],nf],[["AM","PM"],nf,nf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nf,"{1} 'at' {0}",nf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ab(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let rp={};function ev(n){const i=function ub(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=a_(i);if(s)return s;const l=i.split("-")[0];if(s=a_(l),s)return s;if("en"===l)return lb;throw new Error(`Missing locale data for the locale "${n}".`)}function o_(n){return ev(n)[ii.PluralCase]}function a_(n){return n in rp||(rp[n]=Ee.ng&&Ee.ng.common&&Ee.ng.common.locales&&Ee.ng.common.locales[n]),rp[n]}var ii=(()=>((ii=ii||{})[ii.LocaleId=0]="LocaleId",ii[ii.DayPeriodsFormat=1]="DayPeriodsFormat",ii[ii.DayPeriodsStandalone=2]="DayPeriodsStandalone",ii[ii.DaysFormat=3]="DaysFormat",ii[ii.DaysStandalone=4]="DaysStandalone",ii[ii.MonthsFormat=5]="MonthsFormat",ii[ii.MonthsStandalone=6]="MonthsStandalone",ii[ii.Eras=7]="Eras",ii[ii.FirstDayOfWeek=8]="FirstDayOfWeek",ii[ii.WeekendRange=9]="WeekendRange",ii[ii.DateFormat=10]="DateFormat",ii[ii.TimeFormat=11]="TimeFormat",ii[ii.DateTimeFormat=12]="DateTimeFormat",ii[ii.NumberSymbols=13]="NumberSymbols",ii[ii.NumberFormats=14]="NumberFormats",ii[ii.CurrencyCode=15]="CurrencyCode",ii[ii.CurrencySymbol=16]="CurrencySymbol",ii[ii.CurrencyName=17]="CurrencyName",ii[ii.Currencies=18]="Currencies",ii[ii.Directionality=19]="Directionality",ii[ii.PluralCase=20]="PluralCase",ii[ii.ExtraData=21]="ExtraData",ii))();const zm="en-US";let l_=zm;function iv(n,i,s,l,h){if(n=ke(n),Array.isArray(n))for(let m=0;m<n.length;m++)iv(n[m],i,s,l,h);else{const m=li(),w=Ht();let I=bc(n)?n:ke(n.provide),P=Lp(n);const G=Qi(),ne=1048575&G.providerIndexes,Ie=G.directiveStart,ze=G.providerIndexes>>20;if(bc(n)||!n.multi){const at=new zo(P,h,zh),jt=sv(I,i,h?ne:ne+ze,Ie);-1===jt?(xt(F(G,w),m,I),rv(m,n,i.length),i.push(I),G.directiveStart++,G.directiveEnd++,h&&(G.providerIndexes+=1048576),s.push(at),w.push(at)):(s[jt]=at,w[jt]=at)}else{const at=sv(I,i,ne+ze,Ie),jt=sv(I,i,ne,ne+ze),an=at>=0&&s[at],yn=jt>=0&&s[jt];if(h&&!yn||!h&&!an){xt(F(G,w),m,I);const Pn=function aE(n,i,s,l,h){const m=new zo(n,s,zh);return m.multi=[],m.index=i,m.componentProviders=0,P_(m,h,l&&!s),m}(h?oE:sE,s.length,h,l,P);!h&&yn&&(s[jt].providerFactory=Pn),rv(m,n,i.length,0),i.push(I),G.directiveStart++,G.directiveEnd++,h&&(G.providerIndexes+=1048576),s.push(Pn),w.push(Pn)}else rv(m,n,at>-1?at:jt,P_(s[h?jt:at],P,!h&&l));!h&&l&&yn&&s[jt].componentProviders++}}}function rv(n,i,s,l){const h=bc(i),m=function Fp(n){return!!n.useClass}(i);if(h||m){const P=(m?ke(i.useClass):i).prototype.ngOnDestroy;if(P){const G=n.destroyHooks||(n.destroyHooks=[]);if(!h&&i.multi){const ne=G.indexOf(s);-1===ne?G.push(s,[l,P]):G[ne+1].push(l,P)}else G.push(s,P)}}}function P_(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function sv(n,i,s,l){for(let h=s;h<l;h++)if(i[h]===n)return h;return-1}function sE(n,i,s,l){return ov(this.multi,[])}function oE(n,i,s,l){const h=this.multi;let m;if(this.providerFactory){const w=this.providerFactory.componentProviders,I=Qs(s,s[1],this.providerFactory.index,l);m=I.slice(0,w),ov(h,m);for(let P=w;P<I.length;P++)m.push(I[P])}else m=[],ov(h,m);return m}function ov(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function R_(n,i=[]){return s=>{s.providersResolver=(l,h)=>function rE(n,i,s){const l=li();if(l.firstCreatePass){const h=sr(n);iv(s,l.data,l.blueprint,h,!0),iv(i,l.data,l.blueprint,h,!1)}}(l,h?h(n):n,i)}}class N_{}class cE{resolveComponentFactory(i){throw function uE(n){const i=Error(`No component factory found for ${ce(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Ym=(()=>{class n{}return n.NULL=new cE,n})();function dE(){return op(Qi(),Ht())}function op(n,i){return new Pg(Bt(n,i))}let Pg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=dE,n})();function hE(n){return n instanceof Pg?n.nativeElement:n}class L_{}let fE=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function gE(){const n=Ht(),s=Hn(Qi().index,n);return function pE(n){return n[11]}(Ot(s)?s:n)}(),n})(),mE=(()=>{class n{}return n.\u0275prov=Gt({token:n,providedIn:"root",factory:()=>null}),n})();class F_{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const V_=new F_("13.3.11"),av={};function Qm(n,i,s,l,h=!1){for(;null!==s;){const m=i[s.index];if(null!==m&&l.push(V(m)),qi(m))for(let I=10;I<m.length;I++){const P=m[I],G=P[1].firstChild;null!==G&&Qm(P[1],P,G,l)}const w=s.type;if(8&w)Qm(n,i,s.child,l);else if(32&w){const I=Dd(s,i);let P;for(;P=I();)l.push(P)}else if(16&w){const I=Pd(i,s);if(Array.isArray(I))l.push(...I);else{const P=$c(i[16]);Qm(P[1],P,I,l,!0)}}s=h?s.projectionNext:s.next}return l}class Rg{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return Qm(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(qi(i)){const s=i[8],l=s?s.indexOf(this):-1;l>-1&&(pc(i,l),Yo(s,l))}this._attachedToViewContainer=!1}_p(this._lView[1],this._lView)}onDestroy(i){xi(this._lView[1],this._lView,null,i)}markForCheck(){Mp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Mh(n,i,s){const l=i[10];l.begin&&l.begin();try{Fr(n,i,n.template,s)}catch(h){throw id(i,h),h}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ht(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function js(n,i){Tl(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ht(902,"");this._appRef=i}}class yE extends Rg{constructor(i){super(i),this._view=i}detectChanges(){Zg(this._view)}checkNoChanges(){}get context(){return null}}class U_ extends Ym{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Ae(i);return new lv(s,this.ngModule)}}function B_(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class lv extends N_{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Dl(n){return n.map(bh).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return B_(this.componentDef.inputs)}get outputs(){return B_(this.componentDef.outputs)}create(i,s,l,h){const m=(h=h||this.ngModule)?function _E(n,i){return{get:(s,l,h)=>{const m=n.get(s,av,h);return m!==av||l===av?m:i.get(s,l,h)}}}(i,h.injector):i,w=m.get(L_,U),I=m.get(mE,null),P=w.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",ne=l?function Gn(n,i,s){if(Ai(n))return n.selectRootElement(i,s===Ct.ShadowDom);let l="string"==typeof i?n.querySelector(i):i;return l.textContent="",l}(P,l,this.componentDef.encapsulation):dh(w.createRenderer(null,this.componentDef),G,function vE(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(G)),Ie=this.componentDef.onPush?576:528,ze=function sm(n,i){return{components:[],scheduler:n||ju,clean:Np,playerHandler:i||null,flags:0}}(),at=ed(0,null,null,1,0,null,null,null,null,null),jt=pr(null,at,ze,Ie,null,null,w,P,I,m);let an,yn;ho(jt);try{const Pn=function rm(n,i,s,l,h,m){const w=s[1];s[20]=n;const P=nr(w,20,2,"#host",null),G=P.mergedAttrs=i.hostAttrs;null!==G&&(Ju(P,G,!0),null!==n&&(kl(h,n,G),null!==P.classes&&zc(h,n,P.classes),null!==P.styles&&If(h,n,P.styles)));const ne=l.createRenderer(n,i),Ie=pr(s,Wl(i),null,i.onPush?64:16,s[20],P,l,ne,m||null,null);return w.firstCreatePass&&(xt(F(P,s),w,i.type),vu(w,P),Ff(P,s.length,1)),Gd(s,Ie),s[20]=Ie}(ne,this.componentDef,jt,w,P);if(ne)if(l)kl(P,ne,["ng-version",V_.full]);else{const{attrs:Qt,classes:Zn}=function wp(n){const i=[],s=[];let l=1,h=2;for(;l<n.length;){let m=n[l];if("string"==typeof m)2===h?""!==m&&i.push(m,n[++l]):8===h&&s.push(m);else{if(!za(h))break;h=m}l++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);Qt&&kl(P,ne,Qt),Zn&&Zn.length>0&&zc(P,ne,Zn.join(" "))}if(yn=kn(at,20),void 0!==s){const Qt=yn.projection=[];for(let Zn=0;Zn<this.ngContentSelectors.length;Zn++){const Ki=s[Zn];Qt.push(null!=Ki?Array.from(Ki):null)}}an=function Kf(n,i,s,l,h){const m=s[1],w=function yu(n,i,s){const l=Qi();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),zg(n,l,i,ir(n,i,1,null),s));const h=Qs(i,n,l.directiveStart,l);io(h,i);const m=Bt(l,i);return m&&io(m,i),h}(m,s,i);if(l.components.push(w),n[8]=w,h&&h.forEach(P=>P(w,i)),i.contentQueries){const P=Qi();i.contentQueries(1,w,P.directiveStart)}const I=Qi();return!m.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Ra(I.index),Sh(s[1],I,0,I.directiveStart,I.directiveEnd,i),Lf(i,w)),w}(Pn,this.componentDef,jt,ze,[Wp]),gr(at,jt,null)}finally{fo()}return new EE(this.componentType,an,op(yn,jt),jt,yn)}}class EE extends class lE{}{constructor(i,s,l,h,m){super(),this.location=l,this._rootLView=h,this._tNode=m,this.instance=s,this.hostView=this.changeDetectorRef=new yE(h),this.componentType=i}get injector(){return new Yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class ap{}class H_{}const lp=new Map;class G_ extends ap{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new U_(this);const l=kt(i);this._bootstrapComponents=al(l.bootstrap),this._r3Injector=kp(i,s,[{provide:ap,useValue:this},{provide:Ym,useValue:this.componentFactoryResolver}],ce(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=Eu.THROW_IF_NOT_FOUND,l=un.Default){return i===Eu||i===ap||i===zd?this:this._r3Injector.get(i,s,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class uv extends H_{constructor(i){super(),this.moduleType=i,null!==kt(i)&&function CE(n){const i=new Set;!function s(l){const h=kt(l,!0),m=h.id;null!==m&&(function j_(n,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${n} - ${ce(i)} vs ${ce(i.name)}`)}(m,lp.get(m),l),lp.set(m,l));const w=al(h.imports);for(const I of w)i.has(I)||(i.add(I),s(I))}(n)}(i)}create(i){return new G_(this.moduleType,i)}}function z_(n,i,s){const l=Hr()+n,h=Ht();return h[l]===Xn?xl(h,l,s?i.call(s):i()):function sd(n,i){return n[i]}(h,l)}function W_(n,i,s,l){return q_(Ht(),Hr(),n,i,s,l)}function Z_(n,i,s,l,h){return function Y_(n,i,s,l,h,m,w){const I=i+s;return wc(n,I,h,m)?xl(n,I+2,w?l.call(w,h,m):l(h,m)):Ng(n,I+2)}(Ht(),Hr(),n,i,s,l,h)}function K_(n,i,s,l,h,m){return function Q_(n,i,s,l,h,m,w,I){const P=i+s;return Bh(n,P,h,m,w)?xl(n,P+3,I?l.call(I,h,m,w):l(h,m,w)):Ng(n,P+3)}(Ht(),Hr(),n,i,s,l,h,m)}function Ng(n,i){const s=n[i];return s===Xn?void 0:s}function q_(n,i,s,l,h,m){const w=i+s;return No(n,w,h)?xl(n,w+1,m?l.call(m,h):l(h)):Ng(n,w+1)}function e0(n,i){const s=li();let l;const h=n+20;s.firstCreatePass?(l=function OE(n,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(n===l.name)return l}}(i,s.pipeRegistry),s.data[h]=l,l.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(h,l.onDestroy)):l=s.data[h];const m=l.factory||(l.factory=Rn(l.type)),w=Jt(zh);try{const I=ti(!1),P=m();return ti(I),function Ay(n,i,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=l}(s,Ht(),h,P),P}finally{Jt(w)}}function t0(n,i,s){const l=n+20,h=Ht(),m=ai(h,l);return function kg(n,i){return n[1].data[i].pure}(h,l)?q_(h,Hr(),i,m.transform,s,m):m.transform(s)}function cv(n){return i=>{setTimeout(n,void 0,i)}}const Tc=class kE extends g.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){var h,m,w;let I=i,P=s||(()=>null),G=l;if(i&&"object"==typeof i){const Ie=i;I=null===(h=Ie.next)||void 0===h?void 0:h.bind(Ie),P=null===(m=Ie.error)||void 0===m?void 0:m.bind(Ie),G=null===(w=Ie.complete)||void 0===w?void 0:w.bind(Ie)}this.__isAsync&&(P=cv(P),I&&(I=cv(I)),G&&(G=cv(G)));const ne=super.subscribe({next:I,error:P,complete:G});return i instanceof d.w0&&i.add(ne),ne}};function LE(){return this._results[Ec()]()}class dv{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Ec(),l=dv.prototype;l[s]||(l[s]=LE)}get changes(){return this._changes||(this._changes=new Tc)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const h=Ir(i);(this._changesDetected=!function dr(n,i,s){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let h=n[l],m=i[l];if(s&&(h=s(h),m=s(m)),m!==h)return!1}return!0}(l._results,h,s))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Lg=(()=>{class n{}return n.__NG_ELEMENT_ID__=UE,n})();const FE=Lg,VE=class extends FE{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(i){const s=this._declarationTContainer.tViews,l=pr(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(l[19]=m.createEmbeddedView(s)),gr(s,l,i),new Rg(l)}};function UE(){return Jm(Qi(),Ht())}function Jm(n,i){return 4&n.type?new VE(i,n,op(n,i)):null}let Xm=(()=>{class n{}return n.__NG_ELEMENT_ID__=BE,n})();function BE(){return s0(Qi(),Ht())}const HE=Xm,n0=class extends HE{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return op(this._hostTNode,this._hostLView)}get injector(){return new Yr(this._hostTNode,this._hostLView)}get parentInjector(){const i=He(this._hostTNode,this._hostLView);if(Ql(i)){const s=fs(i,this._hostLView),l=Ri(i);return new Yr(s[1].data[l+8],s)}return new Yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=r0(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,l){const h=i.createEmbeddedView(s||{});return this.insert(h,l),h}createComponent(i,s,l,h,m){const w=i&&!function el(n){return"function"==typeof n}(i);let I;if(w)I=s;else{const Ie=s||{};I=Ie.index,l=Ie.injector,h=Ie.projectableNodes,m=Ie.ngModuleRef}const P=w?i:new lv(Ae(i)),G=l||this.parentInjector;if(!m&&null==P.ngModule){const ze=(w?G:this.parentInjector).get(ap,null);ze&&(m=ze)}const ne=P.create(G,h,void 0,m);return this.insert(ne.hostView,I),ne}insert(i,s){const l=i._lView,h=l[1];if(function Si(n){return qi(n[3])}(l)){const ne=this.indexOf(i);if(-1!==ne)this.detach(ne);else{const Ie=l[3],ze=new n0(Ie,Ie[6],Ie[3]);ze.detach(ze.indexOf(i))}}const m=this._adjustIndex(s),w=this._lContainer;!function fh(n,i,s,l){const h=10+l,m=s.length;l>0&&(s[h-1][4]=i),l<m-10?(i[4]=s[h],eu(s,10+l,i)):(s.push(i),i[4]=null),i[3]=s;const w=i[17];null!==w&&s!==w&&function Od(n,i){const s=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===s?n[9]=[i]:s.push(i)}(w,i);const I=i[19];null!==I&&I.insertView(n),i[2]|=128}(h,l,w,m);const I=Rd(m,w),P=l[11],G=Md(P,w[7]);return null!==G&&function Ef(n,i,s,l,h,m){l[0]=h,l[6]=i,Tl(n,l,s,1,h,m)}(h,w[6],P,l,G,I),i.attachToViewContainerRef(),eu(hv(w),m,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=r0(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=pc(this._lContainer,s);l&&(Yo(hv(this._lContainer),s),_p(l[1],l))}detach(i){const s=this._adjustIndex(i,-1),l=pc(this._lContainer,s);return l&&null!=Yo(hv(this._lContainer),s)?new Rg(l):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function r0(n){return n[8]}function hv(n){return n[8]||(n[8]=[])}function s0(n,i){let s;const l=i[n.index];if(qi(l))s=l;else{let h;if(8&n.type)h=V(l);else{const m=i[11];h=m.createComment("");const w=Bt(n,i);ul(m,Md(m,w),h,function bp(n,i){return Ai(n)?n.nextSibling(i):i.nextSibling}(m,w),!1)}i[n.index]=s=td(l,i,h,n),Gd(i,s)}return new n0(s,n,i)}class fv{constructor(i){this.queryList=i,this.matches=null}clone(){return new fv(this.queryList)}setDirty(){this.queryList.setDirty()}}class pv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,h=[];for(let m=0;m<l;m++){const w=s.getByIndex(m);h.push(this.queries[w.indexInDeclarationView].clone())}return new pv(h)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==p0(i,s).matches&&this.queries[s].setDirty()}}class o0{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class gv{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const h=null!==s?s.length:0,m=this.getByIndex(l).embeddedTView(i,h);m&&(m.indexInDeclarationView=l,null!==s?s.push(m):s=[m])}return null!==s?new gv(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class mv{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new mv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const m=l[h];this.matchTNodeWithReadOption(i,s,GE(s,m)),this.matchTNodeWithReadOption(i,s,Ko(s,i,m,!1,!1))}else l===Lg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Ko(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Pg||h===Xm||h===Lg&&4&s.type)this.addMatch(s.index,-2);else{const m=Ko(s,i,h,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function GE(n,i){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function WE(n,i,s,l){return-1===s?function zE(n,i){return 11&n.type?op(n,i):4&n.type?Jm(n,i):null}(i,n):-2===s?function ZE(n,i,s){return s===Pg?op(i,n):s===Lg?Jm(i,n):s===Xm?s0(i,n):void 0}(n,i,l):Qs(n,n[1],s,i)}function a0(n,i,s,l){const h=i[19].queries[l];if(null===h.matches){const m=n.data,w=s.matches,I=[];for(let P=0;P<w.length;P+=2){const G=w[P];I.push(G<0?null:WE(i,m[G],w[P+1],s.metadata.read))}h.matches=I}return h.matches}function yv(n,i,s,l){const h=n.queries.getByIndex(s),m=h.matches;if(null!==m){const w=a0(n,i,h,s);for(let I=0;I<m.length;I+=2){const P=m[I];if(P>0)l.push(w[I/2]);else{const G=m[I+1],ne=i[-P];for(let Ie=10;Ie<ne.length;Ie++){const ze=ne[Ie];ze[17]===ze[3]&&yv(ze[1],ze,G,l)}if(null!==ne[9]){const Ie=ne[9];for(let ze=0;ze<Ie.length;ze++){const at=Ie[ze];yv(at[1],at,G,l)}}}}}return l}function l0(n){const i=Ht(),s=li(),l=fl();Ma(l+1);const h=p0(s,l);if(n.dirty&&ri(i)===(2==(2&h.metadata.flags))){if(null===h.matches)n.reset([]);else{const m=h.crossesNgTemplate?yv(s,i,l,[]):a0(s,i,h,l);n.reset(m,hE),n.notifyOnChanges()}return!0}return!1}function u0(n,i,s){const l=li();l.firstCreatePass&&(f0(l,new o0(n,i,s),-1),2==(2&i)&&(l.staticViewQueries=!0)),h0(l,Ht(),i)}function c0(n,i,s,l){const h=li();if(h.firstCreatePass){const m=Qi();f0(h,new o0(i,s,l),m.index),function qE(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(h,n),2==(2&s)&&(h.staticContentQueries=!0)}h0(h,Ht(),s)}function d0(){return function KE(n,i){return n[19].queries[i].queryList}(Ht(),fl())}function h0(n,i,s){const l=new dv(4==(4&s));xi(n,i,l,l.destroy),null===i[19]&&(i[19]=new pv),i[19].queries.push(new fv(l))}function f0(n,i,s){null===n.queries&&(n.queries=new gv),n.queries.track(new mv(i,s))}function p0(n,i){return n.queries.getByIndex(i)}function g0(n,i){return Jm(n,i)}const hw=Xl("HostBinding",n=>({hostPropertyName:n})),fw=Xl("HostListener",(n,i)=>({eventName:n,args:i}));function ny(...n){}const P0=new yr("Application Initializer");let Cv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=ny,this.reject=ny,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Yd(m))s.push(m);else if(dg(m)){const w=new Promise((I,P)=>{m.subscribe({complete:I,error:P})});s.push(w)}}Promise.all(s).then(()=>{l()}).catch(h=>{this.reject(h)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(tn(P0,8))},n.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const R0=new yr("AppId",{providedIn:"root",factory:function N0(){return`${Tv()}${Tv()}${Tv()}`}});function Tv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const k0=new yr("Platform Initializer"),pw=new yr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),L0=new yr("appBootstrapListener");let gw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Dv=new yr("LocaleId",{providedIn:"root",factory:()=>Qn(Dv,un.Optional|un.SkipSelf)||function mw(){return"undefined"!=typeof $localize&&$localize.locale||zm}()}),yw=new yr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vw{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let _w=(()=>{class n{compileModuleSync(s){return new uv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),m=al(kt(s).declarations).reduce((w,I)=>{const P=Ae(I);return P&&w.push(new lv(P)),w},[]);return new vw(l,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ew=(()=>Promise.resolve(0))();function Iv(n){"undefined"==typeof Zone?Ew.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class tc{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tc(!1),this.onMicrotaskEmpty=new Tc(!1),this.onStable=new Tc(!1),this.onError=new Tc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&s,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function ww(){let n=Ee.requestAnimationFrame,i=Ee.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Dw(n){const i=()=>{!function Tw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ee,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Sv(n),n.isCheckStableRunning=!0,Av(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Sv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,h,m,w,I)=>{try{return F0(n),s.invokeTask(h,m,w,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||n.shouldCoalesceRunChangeDetection)&&i(),V0(n)}},onInvoke:(s,l,h,m,w,I,P)=>{try{return F0(n),s.invoke(h,m,w,I,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),V0(n)}},onHasTask:(s,l,h,m)=>{s.hasTask(h,m),l===h&&("microTask"==m.change?(n._hasPendingMicrotasks=m.microTask,Sv(n),Av(n)):"macroTask"==m.change&&(n.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,l,h,m)=>(s.handleError(h,m),n.runOutsideAngular(()=>n.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(tc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,h){const m=this._inner,w=m.scheduleEventTask("NgZoneEvent: "+h,i,Cw,ny,ny);try{return m.runTask(w,s,l)}finally{m.cancelTask(w)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const Cw={};function Av(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function F0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function V0(n){n._nesting--,Av(n)}class Iw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tc,this.onMicrotaskEmpty=new Tc,this.onStable=new Tc,this.onError=new Tc}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,h){return i.apply(s,l)}}let U0=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tc.assertNotInAngularZone(),Iv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Iv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,h){let m=-1;l&&l>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==m),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:h})}whenStable(s,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,l,h){return[]}}return n.\u0275fac=function(s){return new(s||n)(tn(tc))},n.\u0275prov=Gt({token:n,factory:n.\u0275fac}),n})(),Aw=(()=>{class n{constructor(){this._applications=new Map,xv.addToWindow(this)}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return xv.findTestabilityInTree(this,s,l)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class Sw{addToWindow(i){}findTestabilityInTree(i,s,l){return null}}function xw(n){xv=n}let xv=new Sw,rf=null;const B0=new yr("AllowMultipleToken"),H0=new yr("PlatformOnDestroy");class Pw{constructor(i,s){this.name=i,this.token=s}}function j0(n,i,s=[]){const l=`Platform: ${i}`,h=new yr(l);return(m=[])=>{let w=Ov();if(!w||w.injector.get(B0,!1)){const I=[...s,...m,{provide:h,useValue:!0}];n?n(I):function Rw(n){if(rf&&!rf.get(B0,!1))throw new ht(400,"");rf=n;const i=n.get($0),s=n.get(k0,null);s&&s.forEach(l=>l())}(function kw(n=[],i){return Eu.create({name:i,providers:[{provide:Rh,useValue:"platform"},{provide:H0,useValue:()=>rf=null},...n]})}(I,l))}return function Nw(n){const i=Ov();if(!i)throw new ht(401,"");return i}()}}function Ov(){var n;return null!==(n=null==rf?void 0:rf.get($0))&&void 0!==n?n:null}let $0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const I=function Lw(n,i){let s;return s="noop"===n?new Iw:("zone.js"===n?void 0:n)||new tc({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),P=[{provide:tc,useValue:I}];return I.run(()=>{const G=Eu.create({providers:P,parent:this.injector,name:s.moduleType.name}),ne=s.create(G),Ie=ne.injector.get(lu,null);if(!Ie)throw new ht(402,"");return I.runOutsideAngular(()=>{const ze=I.onError.subscribe({next:at=>{Ie.handleError(at)}});ne.onDestroy(()=>{Pv(this._modules,ne),ze.unsubscribe()})}),function Fw(n,i,s){try{const l=s();return Yd(l)?l.catch(h=>{throw i.runOutsideAngular(()=>n.handleError(h)),h}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(Ie,I,()=>{const ze=ne.injector.get(Cv);return ze.runInitializers(),ze.donePromise.then(()=>(function fb(n){vt(n,"Expected localeId to be defined"),"string"==typeof n&&(l_=n.toLowerCase().replace(/_/g,"-"))}(ne.injector.get(Dv,zm)||zm),this._moduleDoBootstrap(ne),ne))})})}bootstrapModule(s,l=[]){const h=G0({},l);return function Ow(n,i,s){const l=new uv(s);return Promise.resolve(l)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(s){const l=s.injector.get(Mv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!s.instance.ngDoBootstrap)throw new ht(403,"");s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ht(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(H0,null);null==s||s(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(tn(Eu))},n.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function G0(n,i){return Array.isArray(i)?i.reduce(G0,n):Object.assign(Object.assign({},n),i)}let Mv=(()=>{class n{constructor(s,l,h,m){this._zone=s,this._injector=l,this._exceptionHandler=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new W.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),I=new W.y(P=>{let G;this._zone.runOutsideAngular(()=>{G=this._zone.onStable.subscribe(()=>{tc.assertNotInAngularZone(),Iv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const ne=this._zone.onUnstable.subscribe(()=>{tc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{G.unsubscribe(),ne.unsubscribe()}});this.isStable=(0,Te.T)(w,I.pipe((0,_e.B)()))}bootstrap(s,l){if(!this._initStatus.done)throw new ht(405,"");let h;h=s instanceof N_?s:this._injector.get(Ym).resolveComponentFactory(s),this.componentTypes.push(h.componentType);const m=function Mw(n){return n.isBoundToModule}(h)?void 0:this._injector.get(ap),I=h.create(Eu.NULL,[],l||h.selector,m),P=I.location.nativeElement,G=I.injector.get(U0,null),ne=G&&I.injector.get(Aw);return G&&ne&&ne.registerApplication(P,G),I.onDestroy(()=>{this.detachView(I.hostView),Pv(this.components,I),ne&&ne.unregisterApplication(P)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new ht(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Pv(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(L0,[]).concat(this._bootstrapListeners).forEach(h=>h(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(tn(tc),tn(Eu),tn(lu),tn(Cv))},n.\u0275prov=Gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pv(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}let W0=!0,Z0=!1;function Uw(){return Z0=!0,W0}function Bw(){if(Z0)throw new Error("Cannot enable prod mode after platform setup.");W0=!1}let Hw=(()=>{class n{}return n.__NG_ELEMENT_ID__=jw,n})();function jw(n){return function $w(n,i,s){if(us(n)&&!s){const l=Hn(n.index,i);return new Rg(l,l)}return 47&n.type?new Rg(i[16],i):null}(Qi(),Ht(),16==(16&n))}class Q0{constructor(){}supports(i){return Uh(i)}create(i){return new qw(i)}}const Kw=(n,i)=>i;class qw{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Kw}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,h=0,m=null;for(;s||l;){const w=!l||s&&s.currentIndex<X0(l,h,m)?s:l,I=X0(w,h,m),P=w.currentIndex;if(w===l)h--,l=l._nextRemoved;else if(s=s._next,null==w.previousIndex)h++;else{m||(m=[]);const G=I-h,ne=P-h;if(G!=ne){for(let ze=0;ze<G;ze++){const at=ze<m.length?m[ze]:m[ze]=0,jt=at+ze;ne<=jt&&jt<G&&(m[ze]=at+1)}m[w.previousIndex]=ne-G}}I!==P&&i(w,I,P)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Uh(i))throw new ht(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let h,m,w,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let I=0;I<this.length;I++)m=i[I],w=this._trackByFn(I,m),null!==s&&Object.is(s.trackById,w)?(l&&(s=this._verifyReinsertion(s,m,w,I)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,w,I),l=!0),s=s._next}else h=0,function lm(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Ec()]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,I=>{w=this._trackByFn(h,I),null!==s&&Object.is(s.trackById,w)?(l&&(s=this._verifyReinsertion(s,I,w,h)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,w,h),l=!0),s=s._next,h++}),this.length=h;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,h){let m;return null===i?m=this._itTail:(m=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,m,h)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,m,h)):i=this._addAfter(new Yw(s,l),m,h),i}_verifyReinsertion(i,s,l,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==m?i=this._reinsertAfter(m,i._prev,h):i.currentIndex!=h&&(i.currentIndex=h,this._addToMoves(i,h)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const h=i._prevRemoved,m=i._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const h=null===s?this._itHead:s._next;return i._next=h,i._prev=s,null===h?this._itTail=i:h._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new J0),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new J0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Yw{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class J0{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new Qw,this.map.set(s,l)),l.add(i)}get(i,s){const h=this.map.get(i);return h?h.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function X0(n,i,s){const l=n.previousIndex;if(null===l)return l;let h=0;return s&&l<s.length&&(h=s[l]),l+i+h}class eb{constructor(){}supports(i){return i instanceof Map||Jp(i)}create(){return new Jw}}class Jw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Jp(i)))throw new ht(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,h)=>{if(s&&s.key===h)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(h,l);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const h=this._records.get(i);this._maybeAddToChanges(h,s);const m=h._prev,w=h._next;return m&&(m._next=w),w&&(w._prev=m),h._next=null,h._prev=null,h}const l=new Xw(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class Xw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tb(){return new Fv([new Q0])}let Fv=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const h=l.factories.slice();s=s.concat(h)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||tb()),deps:[[n,new Ha,new _o]]}}find(s){const l=this.factories.find(h=>h.supports(s));if(null!=l)return l;throw new ht(901,"")}}return n.\u0275prov=Gt({token:n,providedIn:"root",factory:tb}),n})();function nb(){return new Vv([new eb])}let Vv=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const h=l.factories.slice();s=s.concat(h)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||nb()),deps:[[n,new Ha,new _o]]}}find(s){const l=this.factories.find(m=>m.supports(s));if(l)return l;throw new ht(901,"")}}return n.\u0275prov=Gt({token:n,providedIn:"root",factory:nb}),n})();const nC=j0(null,"core",[]);let iC=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(tn(Mv))},n.\u0275mod=ve({type:n}),n.\u0275inj=hn({}),n})()},3075:(qt,Ze,x)=>{x.d(Ze,{Cf:()=>Qe,EJ:()=>Rn,Fj:()=>nt,JJ:()=>un,JL:()=>Oi,JU:()=>ce,Kr:()=>oa,NI:()=>On,On:()=>us,UX:()=>ri,Wl:()=>te,YN:()=>_s,_Y:()=>cs,a5:()=>Ii,cw:()=>Jr,kI:()=>pt,oH:()=>Xr,qu:()=>Si,sg:()=>Os,u:()=>or,u5:()=>Hn});var g=x(5e3),d=x(9808),W=x(8996),Te=x(4128),_e=x(4004);let Ne=(()=>{class H{constructor(M,se){this._renderer=M,this._elementRef=se,this.onChange=At=>{},this.onTouched=()=>{}}setProperty(M,se){this._renderer.setProperty(this._elementRef.nativeElement,M,se)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(g.Qsj),g.Y36(g.SBq))},H.\u0275dir=g.lG2({type:H}),H})(),Ce=(()=>{class H extends Ne{}return H.\u0275fac=function(){let N;return function(se){return(N||(N=g.n5z(H)))(se||H)}}(),H.\u0275dir=g.lG2({type:H,features:[g.qOj]}),H})();const ce=new g.OlP("NgValueAccessor"),J={provide:ce,useExisting:(0,g.Gpc)(()=>te),multi:!0};let te=(()=>{class H extends Ce{writeValue(M){this.setProperty("checked",M)}}return H.\u0275fac=function(){let N;return function(se){return(N||(N=g.n5z(H)))(se||H)}}(),H.\u0275dir=g.lG2({type:H,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(M,se){1&M&&g.NdJ("change",function(En){return se.onChange(En.target.checked)})("blur",function(){return se.onTouched()})},features:[g._Bn([J]),g.qOj]}),H})();const ue={provide:ce,useExisting:(0,g.Gpc)(()=>nt),multi:!0},lt=new g.OlP("CompositionEventMode");let nt=(()=>{class H extends Ne{constructor(M,se,At){super(M,se),this._compositionMode=At,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ke(){const H=(0,d.q)()?(0,d.q)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(M){this.setProperty("value",null==M?"":M)}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(lt,8))},H.\u0275dir=g.lG2({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,se){1&M&&g.NdJ("input",function(En){return se._handleInput(En.target.value)})("blur",function(){return se.onTouched()})("compositionstart",function(){return se._compositionStart()})("compositionend",function(En){return se._compositionEnd(En.target.value)})},features:[g._Bn([ue]),g.qOj]}),H})();function ht(H){return null==H||0===H.length}function ut(H){return null!=H&&"number"==typeof H.length}const Qe=new g.OlP("NgValidators"),rt=new g.OlP("NgAsyncValidators"),Be=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pt{static min(N){return function me(H){return N=>{if(ht(N.value)||ht(H))return null;const M=parseFloat(N.value);return!isNaN(M)&&M<H?{min:{min:H,actual:N.value}}:null}}(N)}static max(N){return function we(H){return N=>{if(ht(N.value)||ht(H))return null;const M=parseFloat(N.value);return!isNaN(M)&&M>H?{max:{max:H,actual:N.value}}:null}}(N)}static required(N){return function Xe(H){return ht(H.value)?{required:!0}:null}(N)}static requiredTrue(N){return function Tt(H){return!0===H.value?null:{required:!0}}(N)}static email(N){return function Y(H){return ht(H.value)||Be.test(H.value)?null:{email:!0}}(N)}static minLength(N){return function qe(H){return N=>ht(N.value)||!ut(N.value)?null:N.value.length<H?{minlength:{requiredLength:H,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function et(H){return N=>ut(N.value)&&N.value.length>H?{maxlength:{requiredLength:H,actualLength:N.value.length}}:null}(N)}static pattern(N){return function Ve(H){if(!H)return Ge;let N,M;return"string"==typeof H?(M="","^"!==H.charAt(0)&&(M+="^"),M+=H,"$"!==H.charAt(H.length-1)&&(M+="$"),N=new RegExp(M)):(M=H.toString(),N=H),se=>{if(ht(se.value))return null;const At=se.value;return N.test(At)?null:{pattern:{requiredPattern:M,actualValue:At}}}}(N)}static nullValidator(N){return null}static compose(N){return vt(N)}static composeAsync(N){return Se(N)}}function Ge(H){return null}function Je(H){return null!=H}function ot(H){const N=(0,g.QGY)(H)?(0,W.D)(H):H;return(0,g.CqO)(N),N}function it(H){let N={};return H.forEach(M=>{N=null!=M?Object.assign(Object.assign({},N),M):N}),0===Object.keys(N).length?null:N}function Nt(H,N){return N.map(M=>M(H))}function gt(H){return H.map(N=>function on(H){return!H.validate}(N)?N:M=>N.validate(M))}function vt(H){if(!H)return null;const N=H.filter(Je);return 0==N.length?null:function(M){return it(Nt(M,N))}}function q(H){return null!=H?vt(gt(H)):null}function Se(H){if(!H)return null;const N=H.filter(Je);return 0==N.length?null:function(M){const se=Nt(M,N).map(ot);return(0,Te.D)(se).pipe((0,_e.U)(it))}}function Ke(H){return null!=H?Se(gt(H)):null}function Mt(H,N){return null===H?[N]:Array.isArray(H)?[...H,N]:[H,N]}function Gt(H){return H._rawValidators}function Xt(H){return H._rawAsyncValidators}function hn(H){return H?Array.isArray(H)?H:[H]:[]}function In(H,N){return Array.isArray(H)?H.includes(N):H===N}function zn(H,N){const M=hn(N);return hn(H).forEach(At=>{In(M,At)||M.push(At)}),M}function di(H,N){return hn(N).filter(M=>!In(H,M))}class Kn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=q(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=Ke(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,M){return!!this.control&&this.control.hasError(N,M)}getError(N,M){return this.control?this.control.getError(N,M):null}}class Ii extends Kn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ei extends Kn{get formDirective(){return null}get path(){return null}}class Ni{constructor(N){this._cd=N}is(N){var M,se,At;return"submitted"===N?!!(null===(M=this._cd)||void 0===M?void 0:M.submitted):!!(null===(At=null===(se=this._cd)||void 0===se?void 0:se.control)||void 0===At?void 0:At[N])}}let un=(()=>{class H extends Ni{constructor(M){super(M)}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(Ii,2))},H.\u0275dir=g.lG2({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,se){2&M&&g.ekj("ng-untouched",se.is("untouched"))("ng-touched",se.is("touched"))("ng-pristine",se.is("pristine"))("ng-dirty",se.is("dirty"))("ng-valid",se.is("valid"))("ng-invalid",se.is("invalid"))("ng-pending",se.is("pending"))},features:[g.qOj]}),H})(),Oi=(()=>{class H extends Ni{constructor(M){super(M)}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(ei,10))},H.\u0275dir=g.lG2({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,se){2&M&&g.ekj("ng-untouched",se.is("untouched"))("ng-touched",se.is("touched"))("ng-pristine",se.is("pristine"))("ng-dirty",se.is("dirty"))("ng-valid",se.is("valid"))("ng-invalid",se.is("invalid"))("ng-pending",se.is("pending"))("ng-submitted",se.is("submitted"))},features:[g.qOj]}),H})();function Dt(H,N){return[...N.path,H]}function wt(H,N){z(H,N),N.valueAccessor.writeValue(H.value),function be(H,N){N.valueAccessor.registerOnChange(M=>{H._pendingValue=M,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&mt(H,N)})}(H,N),function St(H,N){const M=(se,At)=>{N.valueAccessor.writeValue(se),At&&N.viewToModelUpdate(se)};H.registerOnChange(M),N._registerOnDestroy(()=>{H._unregisterOnChange(M)})}(H,N),function Ue(H,N){N.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&mt(H,N),"submit"!==H.updateOn&&H.markAsTouched()})}(H,N),function ln(H,N){if(N.valueAccessor.setDisabledState){const M=se=>{N.valueAccessor.setDisabledState(se)};H.registerOnDisabledChange(M),N._registerOnDestroy(()=>{H._unregisterOnDisabledChange(M)})}}(H,N)}function pn(H,N,M=!0){const se=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(se),N.valueAccessor.registerOnTouched(se)),he(H,N),H&&(N._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function _n(H,N){H.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(N)})}function z(H,N){const M=Gt(H);null!==N.validator?H.setValidators(Mt(M,N.validator)):"function"==typeof M&&H.setValidators([M]);const se=Xt(H);null!==N.asyncValidator?H.setAsyncValidators(Mt(se,N.asyncValidator)):"function"==typeof se&&H.setAsyncValidators([se]);const At=()=>H.updateValueAndValidity();_n(N._rawValidators,At),_n(N._rawAsyncValidators,At)}function he(H,N){let M=!1;if(null!==H){if(null!==N.validator){const At=Gt(H);if(Array.isArray(At)&&At.length>0){const En=At.filter(wi=>wi!==N.validator);En.length!==At.length&&(M=!0,H.setValidators(En))}}if(null!==N.asyncValidator){const At=Xt(H);if(Array.isArray(At)&&At.length>0){const En=At.filter(wi=>wi!==N.asyncValidator);En.length!==At.length&&(M=!0,H.setAsyncValidators(En))}}}const se=()=>{};return _n(N._rawValidators,se),_n(N._rawAsyncValidators,se),M}function mt(H,N){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function ee(H,N){if(!H.hasOwnProperty("model"))return!1;const M=H.model;return!!M.isFirstChange()||!Object.is(N,M.currentValue)}function Ye(H,N){if(!N)return null;let M,se,At;return Array.isArray(N),N.forEach(En=>{En.constructor===nt?M=En:function re(H){return Object.getPrototypeOf(H.constructor)===Ce}(En)?se=En:At=En}),At||se||M||null}function Pt(H,N){const M=H.indexOf(N);M>-1&&H.splice(M,1)}const fn="VALID",bn="INVALID",vi="PENDING",bi="DISABLED";function Pr(H){return(fi(H)?H.validators:H)||null}function Ti(H){return Array.isArray(H)?q(H):H||null}function Kt(H,N){return(fi(N)?N.asyncValidators:H)||null}function Bn(H){return Array.isArray(H)?Ke(H):H||null}function fi(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}const Hi=H=>H instanceof On,Rr=H=>H instanceof Jr,ji=H=>H instanceof $i;function Ji(H){return Hi(H)?H.value:H.getRawValue()}function ni(H,N){const M=Rr(H),se=H.controls;if(!(M?Object.keys(se):se).length)throw new g.vHH(1e3,"");if(!se[N])throw new g.vHH(1001,"")}function Er(H,N){Rr(H),H._forEachChild((se,At)=>{if(void 0===N[At])throw new g.vHH(1002,"")})}class mi{constructor(N,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=N,this._rawAsyncValidators=M,this._composedValidatorFn=Ti(this._rawValidators),this._composedAsyncValidatorFn=Bn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===fn}get invalid(){return this.status===bn}get pending(){return this.status==vi}get disabled(){return this.status===bi}get enabled(){return this.status!==bi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._rawValidators=N,this._composedValidatorFn=Ti(N)}setAsyncValidators(N){this._rawAsyncValidators=N,this._composedAsyncValidatorFn=Bn(N)}addValidators(N){this.setValidators(zn(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(zn(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(di(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(di(N,this._rawAsyncValidators))}hasValidator(N){return In(this._rawValidators,N)}hasAsyncValidator(N){return In(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=vi,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const M=this._parentMarkedDirty(N.onlySelf);this.status=bi,this.errors=null,this._forEachChild(se=>{se.disable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:M})),this._onDisabledChange.forEach(se=>se(!0))}enable(N={}){const M=this._parentMarkedDirty(N.onlySelf);this.status=fn,this._forEachChild(se=>{se.enable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:M})),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fn||this.status===vi)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bi:fn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=vi,this._hasOwnPendingAsyncValidator=!0;const M=ot(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,M={}){this.errors=N,this._updateControlsErrors(!1!==M.emitEvent)}get(N){return function Ci(H,N,M){if(null==N||(Array.isArray(N)||(N=N.split(M)),Array.isArray(N)&&0===N.length))return null;let se=H;return N.forEach(At=>{se=Rr(se)?se.controls.hasOwnProperty(At)?se.controls[At]:null:ji(se)&&se.at(At)||null}),se}(this,N,".")}getError(N,M){const se=M?this.get(M):this;return se&&se.errors?se.errors[N]:null}hasError(N,M){return!!this.getError(N,M)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?bi:this.errors?bn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vi)?vi:this._anyControlsHaveStatus(bn)?bn:fn}_anyControlsHaveStatus(N){return this._anyControls(M=>M.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_isBoxedValue(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){fi(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class On extends mi{constructor(N=null,M,se){super(Pr(M),Kt(se,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fi(M)&&M.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(N)?N.value:N)}setValue(N,M={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(N,M={}){this.setValue(N,M)}reset(N=this.defaultValue,M={}){this._applyFormState(N),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){Pt(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){Pt(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){this._isBoxedValue(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}}class Jr extends mi{constructor(N,M,se){super(Pr(M),Kt(se,M)),this.controls=N,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,M){return this.controls[N]?this.controls[N]:(this.controls[N]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(N,M,se={}){this.registerControl(N,M),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(N,M={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(N,M,se={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],M&&this.registerControl(N,M),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,M={}){Er(this,N),Object.keys(N).forEach(se=>{ni(this,se),this.controls[se].setValue(N[se],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(N,M={}){null!=N&&(Object.keys(N).forEach(se=>{this.controls[se]&&this.controls[se].patchValue(N[se],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(N={},M={}){this._forEachChild((se,At)=>{se.reset(N[At],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(N,M,se)=>(N[se]=Ji(M),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(M,se)=>!!se._syncPendingControls()||M);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(M=>{const se=this.controls[M];se&&N(se,M)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const M of Object.keys(this.controls)){const se=this.controls[M];if(this.contains(M)&&N(se))return!0}return!1}_reduceValue(){return this._reduceChildren({},(N,M,se)=>((M.enabled||this.disabled)&&(N[se]=M.value),N))}_reduceChildren(N,M){let se=N;return this._forEachChild((At,En)=>{se=M(se,At,En)}),se}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class $i extends mi{constructor(N,M,se){super(Pr(M),Kt(se,M)),this.controls=N,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[N]}push(N,M={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(N,M,se={}){this.controls.splice(N,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:se.emitEvent})}removeAt(N,M={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(N,M,se={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),M&&(this.controls.splice(N,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,M={}){Er(this,N),N.forEach((se,At)=>{ni(this,At),this.at(At).setValue(se,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(N,M={}){null!=N&&(N.forEach((se,At)=>{this.at(At)&&this.at(At).patchValue(se,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(N=[],M={}){this._forEachChild((se,At)=>{se.reset(N[At],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(N=>Ji(N))}clear(N={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_syncPendingControls(){let N=this.controls.reduce((M,se)=>!!se._syncPendingControls()||M,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){this.controls.forEach((M,se)=>{N(M,se)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(M=>M.enabled&&N(M))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}}const qi={provide:Ii,useExisting:(0,g.Gpc)(()=>us)},_i=(()=>Promise.resolve(null))();let us=(()=>{class H extends Ii{constructor(M,se,At,En,wi){super(),this._changeDetectorRef=wi,this.control=new On,this._registered=!1,this.update=new g.vpe,this._parent=M,this._setValidators(se),this._setAsyncValidators(At),this.valueAccessor=Ye(0,En)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const se=M.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),ee(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){_i.then(()=>{var se;this.control.setValue(M,{emitViewToModelChange:!1}),null===(se=this._changeDetectorRef)||void 0===se||se.markForCheck()})}_updateDisabled(M){const se=M.isDisabled.currentValue,At=""===se||se&&"false"!==se;_i.then(()=>{var En;At&&!this.control.disabled?this.control.disable():!At&&this.control.disabled&&this.control.enable(),null===(En=this._changeDetectorRef)||void 0===En||En.markForCheck()})}_getPath(M){return this._parent?Dt(M,this._parent):[M]}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(ei,9),g.Y36(Qe,10),g.Y36(rt,10),g.Y36(ce,10),g.Y36(g.sBO,8))},H.\u0275dir=g.lG2({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([qi]),g.qOj,g.TTD]}),H})(),cs=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275dir=g.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),H})(),Gi=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=g.oAB({type:H}),H.\u0275inj=g.cJS({}),H})();const lo=new g.OlP("NgModelWithFormControlWarning"),ra={provide:Ii,useExisting:(0,g.Gpc)(()=>Xr)};let Xr=(()=>{class H extends Ii{constructor(M,se,At,En){super(),this._ngModelWarningConfig=En,this.update=new g.vpe,this._ngModelWarningSent=!1,this._setValidators(M),this._setAsyncValidators(se),this.valueAccessor=Ye(0,At)}set isDisabled(M){}ngOnChanges(M){if(this._isControlChanged(M)){const se=M.form.previousValue;se&&pn(se,this,!1),wt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}ee(M,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&pn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_isControlChanged(M){return M.hasOwnProperty("form")}}return H._ngModelWarningSentOnce=!1,H.\u0275fac=function(M){return new(M||H)(g.Y36(Qe,10),g.Y36(rt,10),g.Y36(ce,10),g.Y36(lo,8))},H.\u0275dir=g.lG2({type:H,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[g._Bn([ra]),g.qOj,g.TTD]}),H})();const wr={provide:ei,useExisting:(0,g.Gpc)(()=>Os)};let Os=(()=>{class H extends ei{constructor(M,se){super(),this.validators=M,this.asyncValidators=se,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(M),this._setAsyncValidators(se)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(he(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const se=this.form.get(M.path);return wt(se,M),se.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),se}getControl(M){return this.form.get(M.path)}removeControl(M){pn(M.control||null,M,!1),Pt(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,se){this.form.get(M.path).setValue(se)}onSubmit(M){return this.submitted=!0,function Ae(H,N){H._syncPendingControls(),N.forEach(M=>{const se=M.control;"submit"===se.updateOn&&se._pendingChange&&(M.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const se=M.control,At=this.form.get(M.path);se!==At&&(pn(se||null,M),Hi(At)&&(wt(At,M),M.control=At))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const se=this.form.get(M.path);(function de(H,N){z(H,N)})(se,M),se.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const se=this.form.get(M.path);se&&function fe(H,N){return he(H,N)}(se,M)&&se.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){z(this.form,this),this._oldForm&&he(this._oldForm,this)}_checkFormPresent(){}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(Qe,10),g.Y36(rt,10))},H.\u0275dir=g.lG2({type:H,selectors:[["","formGroup",""]],hostBindings:function(M,se){1&M&&g.NdJ("submit",function(En){return se.onSubmit(En)})("reset",function(){return se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([wr]),g.qOj,g.TTD]}),H})();const Ks={provide:Ii,useExisting:(0,g.Gpc)(()=>or)};let or=(()=>{class H extends Ii{constructor(M,se,At,En,wi){super(),this._ngModelWarningConfig=wi,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(se),this._setAsyncValidators(At),this.valueAccessor=Ye(0,En)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),ee(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return Dt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return H._ngModelWarningSentOnce=!1,H.\u0275fac=function(M){return new(M||H)(g.Y36(ei,13),g.Y36(Qe,10),g.Y36(rt,10),g.Y36(ce,10),g.Y36(lo,8))},H.\u0275dir=g.lG2({type:H,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([Ks]),g.qOj,g.TTD]}),H})();const Fo={provide:ce,useExisting:(0,g.Gpc)(()=>Rn),multi:!0};function Cr(H,N){return null==H?`${N}`:(N&&"object"==typeof N&&(N="Object"),`${H}: ${N}`.slice(0,50))}let Rn=(()=>{class H extends Ce{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){this.value=M;const At=Cr(this._getOptionId(M),M);this.setProperty("value",At)}registerOnChange(M){this.onChange=se=>{this.value=this._getOptionValue(se),M(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(M){for(const se of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(se),M))return se;return null}_getOptionValue(M){const se=function Ds(H){return H.split(":")[0]}(M);return this._optionMap.has(se)?this._optionMap.get(se):M}}return H.\u0275fac=function(){let N;return function(se){return(N||(N=g.n5z(H)))(se||H)}}(),H.\u0275dir=g.lG2({type:H,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(M,se){1&M&&g.NdJ("change",function(En){return se.onChange(En.target.value)})("blur",function(){return se.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Fo]),g.qOj]}),H})(),_s=(()=>{class H{constructor(M,se,At){this._element=M,this._renderer=se,this._select=At,this._select&&(this.id=this._select._registerOption())}set ngValue(M){null!=this._select&&(this._select._optionMap.set(this.id,M),this._setElementValue(Cr(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._setElementValue(M),this._select&&this._select.writeValue(this._select.value)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Rn,9))},H.\u0275dir=g.lG2({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),H})();const Is={provide:ce,useExisting:(0,g.Gpc)(()=>Wr),multi:!0};function bs(H,N){return null==H?`${N}`:("string"==typeof N&&(N=`'${N}'`),N&&"object"==typeof N&&(N="Object"),`${H}: ${N}`.slice(0,50))}let Wr=(()=>{class H extends Ce{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){let se;if(this.value=M,Array.isArray(M)){const At=M.map(En=>this._getOptionId(En));se=(En,wi)=>{En._setSelected(At.indexOf(wi.toString())>-1)}}else se=(At,En)=>{At._setSelected(!1)};this._optionMap.forEach(se)}registerOnChange(M){this.onChange=se=>{const At=[],En=se.selectedOptions;if(void 0!==En){const wi=En;for(let Es=0;Es<wi.length;Es++){const Bo=this._getOptionValue(wi[Es].value);At.push(Bo)}}else{const wi=se.options;for(let Es=0;Es<wi.length;Es++){const ts=wi[Es];if(ts.selected){const Bo=this._getOptionValue(ts.value);At.push(Bo)}}}this.value=At,M(At)}}_registerOption(M){const se=(this._idCounter++).toString();return this._optionMap.set(se,M),se}_getOptionId(M){for(const se of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(se)._value,M))return se;return null}_getOptionValue(M){const se=function Qa(H){return H.split(":")[0]}(M);return this._optionMap.has(se)?this._optionMap.get(se)._value:M}}return H.\u0275fac=function(){let N;return function(se){return(N||(N=g.n5z(H)))(se||H)}}(),H.\u0275dir=g.lG2({type:H,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(M,se){1&M&&g.NdJ("change",function(En){return se.onChange(En.target)})("blur",function(){return se.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Is]),g.qOj]}),H})(),oa=(()=>{class H{constructor(M,se,At){this._element=M,this._renderer=se,this._select=At,this._select&&(this.id=this._select._registerOption(this))}set ngValue(M){null!=this._select&&(this._value=M,this._setElementValue(bs(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._select?(this._value=M,this._setElementValue(bs(this.id,M)),this._select.writeValue(this._select.value)):this._setElementValue(M)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}_setSelected(M){this._renderer.setProperty(this._element.nativeElement,"selected",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Wr,9))},H.\u0275dir=g.lG2({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),H})(),ai=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=g.oAB({type:H}),H.\u0275inj=g.cJS({imports:[[Gi]]}),H})(),Hn=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=g.oAB({type:H}),H.\u0275inj=g.cJS({imports:[ai]}),H})(),ri=(()=>{class H{static withConfig(M){return{ngModule:H,providers:[{provide:lo,useValue:M.warnOnNgModelWithFormControl}]}}}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=g.oAB({type:H}),H.\u0275inj=g.cJS({imports:[ai]}),H})(),Si=(()=>{class H{group(M,se=null){const At=this._reduceControls(M);let Es,En=null,wi=null;return null!=se&&(function zi(H){return void 0!==H.asyncValidators||void 0!==H.validators||void 0!==H.updateOn}(se)?(En=null!=se.validators?se.validators:null,wi=null!=se.asyncValidators?se.asyncValidators:null,Es=null!=se.updateOn?se.updateOn:void 0):(En=null!=se.validator?se.validator:null,wi=null!=se.asyncValidator?se.asyncValidator:null)),new Jr(At,{asyncValidators:wi,updateOn:Es,validators:En})}control(M,se,At){return new On(M,se,At)}array(M,se,At){const En=M.map(wi=>this._createControl(wi));return new $i(En,se,At)}_reduceControls(M){const se={};return Object.keys(M).forEach(At=>{se[At]=this._createControl(M[At])}),se}_createControl(M){return Hi(M)||Rr(M)||ji(M)?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return H.\u0275fac=function(M){return new(M||H)},H.\u0275prov=g.Yz7({token:H,factory:H.\u0275fac,providedIn:ri}),H})()},2313:(qt,Ze,x)=>{x.d(Ze,{H7:()=>fe,b2:()=>qn,q6:()=>ei,se:()=>ot});var g=x(9808),d=x(5e3);class W extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends W{static makeCurrent(){(0,g.HT)(new Te)}onAndCancel(ee,re,Ae){return ee.addEventListener(re,Ae,!1),()=>{ee.removeEventListener(re,Ae,!1)}}dispatchEvent(ee,re){ee.dispatchEvent(re)}remove(ee){ee.parentNode&&ee.parentNode.removeChild(ee)}createElement(ee,re){return(re=re||this.getDefaultDocument()).createElement(ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ee){return ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(ee){return ee instanceof DocumentFragment}getGlobalEventTarget(ee,re){return"window"===re?window:"document"===re?ee:"body"===re?ee.body:null}getBaseHref(ee){const re=function Ne(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==re?null:function ce($){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",$);const ee=Ce.pathname;return"/"===ee.charAt(0)?ee:`/${ee}`}(re)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(ee){return(0,g.Mx)(document.cookie,ee)}}let Ce,_e=null;const J=new d.OlP("TRANSITION_ID"),ue=[{provide:d.ip1,useFactory:function te($,ee,re){return()=>{re.get(d.CZH).donePromise.then(()=>{const Ae=(0,g.q)(),Ye=ee.querySelectorAll(`style[ng-transition="${$}"]`);for(let Pt=0;Pt<Ye.length;Pt++)Ae.remove(Ye[Pt])})}},deps:[J,g.K0,d.zs3],multi:!0}];class ke{static init(){(0,d.VLi)(new ke)}addToWindow(ee){d.dqk.getAngularTestability=(Ae,Ye=!0)=>{const Pt=ee.findTestabilityInTree(Ae,Ye);if(null==Pt)throw new Error("Could not find testability for element.");return Pt},d.dqk.getAllAngularTestabilities=()=>ee.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>ee.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(Ae=>{const Ye=d.dqk.getAllAngularTestabilities();let Pt=Ye.length,kt=!1;const gn=function(fn){kt=kt||fn,Pt--,0==Pt&&Ae(kt)};Ye.forEach(function(fn){fn.whenStable(gn)})})}findTestabilityInTree(ee,re,Ae){if(null==re)return null;const Ye=ee.getTestability(re);return null!=Ye?Ye:Ae?(0,g.q)().isShadowRoot(re)?this.findTestabilityInTree(ee,re.host,!0):this.findTestabilityInTree(ee,re.parentElement,!0):null}}let lt=(()=>{class ${build(){return new XMLHttpRequest}}return $.\u0275fac=function(re){return new(re||$)},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})();const nt=new d.OlP("EventManagerPlugins");let ht=(()=>{class ${constructor(re,Ae){this._zone=Ae,this._eventNameToPlugin=new Map,re.forEach(Ye=>Ye.manager=this),this._plugins=re.slice().reverse()}addEventListener(re,Ae,Ye){return this._findPluginFor(Ae).addEventListener(re,Ae,Ye)}addGlobalEventListener(re,Ae,Ye){return this._findPluginFor(Ae).addGlobalEventListener(re,Ae,Ye)}getZone(){return this._zone}_findPluginFor(re){const Ae=this._eventNameToPlugin.get(re);if(Ae)return Ae;const Ye=this._plugins;for(let Pt=0;Pt<Ye.length;Pt++){const kt=Ye[Pt];if(kt.supports(re))return this._eventNameToPlugin.set(re,kt),kt}throw new Error(`No event manager plugin found for event ${re}`)}}return $.\u0275fac=function(re){return new(re||$)(d.LFG(nt),d.LFG(d.R0b))},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})();class ut{constructor(ee){this._doc=ee}addGlobalEventListener(ee,re,Ae){const Ye=(0,g.q)().getGlobalEventTarget(this._doc,ee);if(!Ye)throw new Error(`Unsupported event target ${Ye} for event ${re}`);return this.addEventListener(Ye,re,Ae)}}let Qe=(()=>{class ${constructor(){this._stylesSet=new Set}addStyles(re){const Ae=new Set;re.forEach(Ye=>{this._stylesSet.has(Ye)||(this._stylesSet.add(Ye),Ae.add(Ye))}),this.onStylesAdded(Ae)}onStylesAdded(re){}getAllStyles(){return Array.from(this._stylesSet)}}return $.\u0275fac=function(re){return new(re||$)},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})(),rt=(()=>{class $ extends Qe{constructor(re){super(),this._doc=re,this._hostNodes=new Map,this._hostNodes.set(re.head,[])}_addStylesToHost(re,Ae,Ye){re.forEach(Pt=>{const kt=this._doc.createElement("style");kt.textContent=Pt,Ye.push(Ae.appendChild(kt))})}addHost(re){const Ae=[];this._addStylesToHost(this._stylesSet,re,Ae),this._hostNodes.set(re,Ae)}removeHost(re){const Ae=this._hostNodes.get(re);Ae&&Ae.forEach(Be),this._hostNodes.delete(re)}onStylesAdded(re){this._hostNodes.forEach((Ae,Ye)=>{this._addStylesToHost(re,Ye,Ae)})}ngOnDestroy(){this._hostNodes.forEach(re=>re.forEach(Be))}}return $.\u0275fac=function(re){return new(re||$)(d.LFG(g.K0))},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})();function Be($){(0,g.q)().remove($)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},me=/%COMP%/g;function Ve($,ee,re){for(let Ae=0;Ae<ee.length;Ae++){let Ye=ee[Ae];Array.isArray(Ye)?Ve($,Ye,re):(Ye=Ye.replace(me,$),re.push(Ye))}return re}function Ge($){return ee=>{if("__ngUnwrap__"===ee)return $;!1===$(ee)&&(ee.preventDefault(),ee.returnValue=!1)}}let ot=(()=>{class ${constructor(re,Ae,Ye){this.eventManager=re,this.sharedStylesHost=Ae,this.appId=Ye,this.rendererByCompId=new Map,this.defaultRenderer=new it(re)}createRenderer(re,Ae){if(!re||!Ae)return this.defaultRenderer;switch(Ae.encapsulation){case d.ifc.Emulated:{let Ye=this.rendererByCompId.get(Ae.id);return Ye||(Ye=new gt(this.eventManager,this.sharedStylesHost,Ae,this.appId),this.rendererByCompId.set(Ae.id,Ye)),Ye.applyToHost(re),Ye}case 1:case d.ifc.ShadowDom:return new vt(this.eventManager,this.sharedStylesHost,re,Ae);default:if(!this.rendererByCompId.has(Ae.id)){const Ye=Ve(Ae.id,Ae.styles,[]);this.sharedStylesHost.addStyles(Ye),this.rendererByCompId.set(Ae.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return $.\u0275fac=function(re){return new(re||$)(d.LFG(ht),d.LFG(rt),d.LFG(d.AFp))},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})();class it{constructor(ee){this.eventManager=ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ee,re){return re?document.createElementNS(pt[re]||re,ee):document.createElement(ee)}createComment(ee){return document.createComment(ee)}createText(ee){return document.createTextNode(ee)}appendChild(ee,re){ee.appendChild(re)}insertBefore(ee,re,Ae){ee&&ee.insertBefore(re,Ae)}removeChild(ee,re){ee&&ee.removeChild(re)}selectRootElement(ee,re){let Ae="string"==typeof ee?document.querySelector(ee):ee;if(!Ae)throw new Error(`The selector "${ee}" did not match any elements`);return re||(Ae.textContent=""),Ae}parentNode(ee){return ee.parentNode}nextSibling(ee){return ee.nextSibling}setAttribute(ee,re,Ae,Ye){if(Ye){re=Ye+":"+re;const Pt=pt[Ye];Pt?ee.setAttributeNS(Pt,re,Ae):ee.setAttribute(re,Ae)}else ee.setAttribute(re,Ae)}removeAttribute(ee,re,Ae){if(Ae){const Ye=pt[Ae];Ye?ee.removeAttributeNS(Ye,re):ee.removeAttribute(`${Ae}:${re}`)}else ee.removeAttribute(re)}addClass(ee,re){ee.classList.add(re)}removeClass(ee,re){ee.classList.remove(re)}setStyle(ee,re,Ae,Ye){Ye&(d.JOm.DashCase|d.JOm.Important)?ee.style.setProperty(re,Ae,Ye&d.JOm.Important?"important":""):ee.style[re]=Ae}removeStyle(ee,re,Ae){Ae&d.JOm.DashCase?ee.style.removeProperty(re):ee.style[re]=""}setProperty(ee,re,Ae){ee[re]=Ae}setValue(ee,re){ee.nodeValue=re}listen(ee,re,Ae){return"string"==typeof ee?this.eventManager.addGlobalEventListener(ee,re,Ge(Ae)):this.eventManager.addEventListener(ee,re,Ge(Ae))}}class gt extends it{constructor(ee,re,Ae,Ye){super(ee),this.component=Ae;const Pt=Ve(Ye+"-"+Ae.id,Ae.styles,[]);re.addStyles(Pt),this.contentAttr=function qe($){return"_ngcontent-%COMP%".replace(me,$)}(Ye+"-"+Ae.id),this.hostAttr=function et($){return"_nghost-%COMP%".replace(me,$)}(Ye+"-"+Ae.id)}applyToHost(ee){super.setAttribute(ee,this.hostAttr,"")}createElement(ee,re){const Ae=super.createElement(ee,re);return super.setAttribute(Ae,this.contentAttr,""),Ae}}class vt extends it{constructor(ee,re,Ae,Ye){super(ee),this.sharedStylesHost=re,this.hostEl=Ae,this.shadowRoot=Ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Pt=Ve(Ye.id,Ye.styles,[]);for(let kt=0;kt<Pt.length;kt++){const gn=document.createElement("style");gn.textContent=Pt[kt],this.shadowRoot.appendChild(gn)}}nodeOrShadowRoot(ee){return ee===this.hostEl?this.shadowRoot:ee}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ee,re){return super.appendChild(this.nodeOrShadowRoot(ee),re)}insertBefore(ee,re,Ae){return super.insertBefore(this.nodeOrShadowRoot(ee),re,Ae)}removeChild(ee,re){return super.removeChild(this.nodeOrShadowRoot(ee),re)}parentNode(ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ee)))}}let q=(()=>{class $ extends ut{constructor(re){super(re)}supports(re){return!0}addEventListener(re,Ae,Ye){return re.addEventListener(Ae,Ye,!1),()=>this.removeEventListener(re,Ae,Ye)}removeEventListener(re,Ae,Ye){return re.removeEventListener(Ae,Ye)}}return $.\u0275fac=function(re){return new(re||$)(d.LFG(g.K0))},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})();const Se=["alt","control","meta","shift"],Mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xt={alt:$=>$.altKey,control:$=>$.ctrlKey,meta:$=>$.metaKey,shift:$=>$.shiftKey};let hn=(()=>{class $ extends ut{constructor(re){super(re)}supports(re){return null!=$.parseEventName(re)}addEventListener(re,Ae,Ye){const Pt=$.parseEventName(Ae),kt=$.eventCallback(Pt.fullKey,Ye,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(re,Pt.domEventName,kt))}static parseEventName(re){const Ae=re.toLowerCase().split("."),Ye=Ae.shift();if(0===Ae.length||"keydown"!==Ye&&"keyup"!==Ye)return null;const Pt=$._normalizeKey(Ae.pop());let kt="";if(Se.forEach(fn=>{const bn=Ae.indexOf(fn);bn>-1&&(Ae.splice(bn,1),kt+=fn+".")}),kt+=Pt,0!=Ae.length||0===Pt.length)return null;const gn={};return gn.domEventName=Ye,gn.fullKey=kt,gn}static getEventFullKey(re){let Ae="",Ye=function In($){let ee=$.key;if(null==ee){if(ee=$.keyIdentifier,null==ee)return"Unidentified";ee.startsWith("U+")&&(ee=String.fromCharCode(parseInt(ee.substring(2),16)),3===$.location&&Gt.hasOwnProperty(ee)&&(ee=Gt[ee]))}return Mt[ee]||ee}(re);return Ye=Ye.toLowerCase()," "===Ye?Ye="space":"."===Ye&&(Ye="dot"),Se.forEach(Pt=>{Pt!=Ye&&Xt[Pt](re)&&(Ae+=Pt+".")}),Ae+=Ye,Ae}static eventCallback(re,Ae,Ye){return Pt=>{$.getEventFullKey(Pt)===re&&Ye.runGuarded(()=>Ae(Pt))}}static _normalizeKey(re){return"esc"===re?"escape":re}}return $.\u0275fac=function(re){return new(re||$)(d.LFG(g.K0))},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac}),$})();const ei=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:g.bD},{provide:d.g9A,useValue:function zn(){Te.makeCurrent(),ke.init()},multi:!0},{provide:g.K0,useFactory:function Kn(){return(0,d.RDi)(document),document},deps:[]}]),Ni=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function di(){return new d.qLn},deps:[]},{provide:nt,useClass:q,multi:!0,deps:[g.K0,d.R0b,d.Lbi]},{provide:nt,useClass:hn,multi:!0,deps:[g.K0]},{provide:ot,useClass:ot,deps:[ht,rt,d.AFp]},{provide:d.FYo,useExisting:ot},{provide:Qe,useExisting:rt},{provide:rt,useClass:rt,deps:[g.K0]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:ht,useClass:ht,deps:[nt,d.R0b]},{provide:g.JF,useClass:lt,deps:[]}];let qn=(()=>{class ${constructor(re){if(re)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(re){return{ngModule:$,providers:[{provide:d.AFp,useValue:re.appId},{provide:J,useExisting:d.AFp},ue]}}}return $.\u0275fac=function(re){return new(re||$)(d.LFG($,12))},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({providers:Ni,imports:[g.ez,d.hGG]}),$})();"undefined"!=typeof window&&window;let fe=(()=>{class ${}return $.\u0275fac=function(re){return new(re||$)},$.\u0275prov=d.Yz7({token:$,factory:function(re){let Ae=null;return Ae=re?new(re||$):d.LFG(ve),Ae},providedIn:"root"}),$})(),ve=(()=>{class $ extends fe{constructor(re){super(),this._doc=re}sanitize(re,Ae){if(null==Ae)return null;switch(re){case d.q3G.NONE:return Ae;case d.q3G.HTML:return(0,d.qzn)(Ae,"HTML")?(0,d.z3N)(Ae):(0,d.EiD)(this._doc,String(Ae)).toString();case d.q3G.STYLE:return(0,d.qzn)(Ae,"Style")?(0,d.z3N)(Ae):Ae;case d.q3G.SCRIPT:if((0,d.qzn)(Ae,"Script"))return(0,d.z3N)(Ae);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(Ae),(0,d.qzn)(Ae,"URL")?(0,d.z3N)(Ae):(0,d.mCW)(String(Ae));case d.q3G.RESOURCE_URL:if((0,d.qzn)(Ae,"ResourceURL"))return(0,d.z3N)(Ae);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${re} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(re){return(0,d.JVY)(re)}bypassSecurityTrustStyle(re){return(0,d.L6k)(re)}bypassSecurityTrustScript(re){return(0,d.eBb)(re)}bypassSecurityTrustUrl(re){return(0,d.LAX)(re)}bypassSecurityTrustResourceUrl(re){return(0,d.pB0)(re)}}return $.\u0275fac=function(re){return new(re||$)(d.LFG(g.K0))},$.\u0275prov=d.Yz7({token:$,factory:function(re){let Ae=null;return Ae=re?new re:function Me($){return new ve($.get(g.K0))}(d.LFG(d.zs3)),Ae},providedIn:"root"}),$})()},2094:(qt,Ze,x)=>{x.d(Ze,{gz:()=>Xi,F0:()=>Pi,Od:()=>Wi,yS:()=>is,Bz:()=>Xa,lC:()=>Zr});var g=x(5e3),d=x(8306),W=x(576);function Te(O,D){const C=(0,W.m)(O)?O:()=>O,L=F=>F.error(C());return new d.y(D?F=>D.schedule(L,0,F):L)}var _e=x(727),Ne=x(4482),Ce=x(5403);function ce(){return(0,Ne.e)((O,D)=>{let C=null;O._refCount++;const L=(0,Ce.x)(D,void 0,void 0,void 0,()=>{if(!O||O._refCount<=0||0<--O._refCount)return void(C=null);const F=O._connection,le=C;C=null,F&&(!le||F===le)&&F.unsubscribe(),D.unsubscribe()});O.subscribe(L),L.closed||(C=O.connect())})}class J extends d.y{constructor(D,C){super(),this.source=D,this.subjectFactory=C,this._subject=null,this._refCount=0,this._connection=null,(0,Ne.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new _e.w0;const C=this.getSubject();D.add(this.source.subscribe((0,Ce.x)(C,void 0,()=>{this._teardown(),C.complete()},L=>{this._teardown(),C.error(L)},()=>this._teardown()))),D.closed&&(this._connection=null,D=_e.w0.EMPTY)}return D}refCount(){return ce()(this)}}var te=x(8996),ue=x(9646),ke=x(1135),lt=x(9841),nt=x(6805),ht=x(7272),ut=x(9770),Qe=x(515),rt=x(7579),Be=x(8421);function pt(O){return(0,Ne.e)((D,C)=>{let le,L=null,F=!1;L=D.subscribe((0,Ce.x)(C,void 0,void 0,Oe=>{le=(0,Be.Xf)(O(Oe,pt(O)(D))),L?(L.unsubscribe(),L=null,le.subscribe(C)):F=!0})),F&&(L.unsubscribe(),L=null,le.subscribe(C))})}var me=x(9300);function we(O){return O<=0?()=>Qe.E:(0,Ne.e)((D,C)=>{let L=[];D.subscribe((0,Ce.x)(C,F=>{L.push(F),O<L.length&&L.shift()},()=>{for(const F of L)C.next(F);C.complete()},void 0,()=>{L=null}))})}var Xe=x(8068),Tt=x(6590),Y=x(4671),Ve=x(4004),Ge=x(3900),Je=x(5698),ot=x(8675),it=x(5026),Nt=x(4351),on=x(590),gt=x(5577),vt=x(8505),q=x(8189),Se=x(9808);class Ke{constructor(D,C){this.id=D,this.url=C}}class Mt extends Ke{constructor(D,C,L="imperative",F=null){super(D,C),this.navigationTrigger=L,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gt extends Ke{constructor(D,C,L){super(D,C),this.urlAfterRedirects=L}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xt extends Ke{constructor(D,C,L){super(D,C),this.reason=L}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hn extends Ke{constructor(D,C,L){super(D,C),this.error=L}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class In extends Ke{constructor(D,C,L,F){super(D,C),this.urlAfterRedirects=L,this.state=F}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zn extends Ke{constructor(D,C,L,F){super(D,C),this.urlAfterRedirects=L,this.state=F}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class di extends Ke{constructor(D,C,L,F,le){super(D,C),this.urlAfterRedirects=L,this.state=F,this.shouldActivate=le}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kn extends Ke{constructor(D,C,L,F){super(D,C),this.urlAfterRedirects=L,this.state=F}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ii extends Ke{constructor(D,C,L,F){super(D,C),this.urlAfterRedirects=L,this.state=F}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ei{constructor(D){this.route=D}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ni{constructor(D){this.route=D}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qn{constructor(D){this.snapshot=D}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fi{constructor(D){this.snapshot=D}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class un{constructor(D){this.snapshot=D}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oi{constructor(D){this.snapshot=D}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yn{constructor(D,C,L){this.routerEvent=D,this.position=C,this.anchor=L}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jt="primary";class Mi{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const C=this.params[D];return Array.isArray(C)?C[0]:C}return null}getAll(D){if(this.has(D)){const C=this.params[D];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function hi(O){return new Mi(O)}const It="ngNavigationCancelingError";function Le(O){const D=Error("NavigationCancelingError: "+O);return D[It]=!0,D}function Ft(O,D,C){const L=C.path.split("/");if(L.length>O.length||"full"===C.pathMatch&&(D.hasChildren()||L.length<O.length))return null;const F={};for(let le=0;le<L.length;le++){const Oe=L[le],He=O[le];if(Oe.startsWith(":"))F[Oe.substring(1)]=He;else if(Oe!==He.path)return null}return{consumed:O.slice(0,L.length),posParams:F}}function Vt(O,D){const C=O?Object.keys(O):void 0,L=D?Object.keys(D):void 0;if(!C||!L||C.length!=L.length)return!1;let F;for(let le=0;le<C.length;le++)if(F=C[le],!zt(O[F],D[F]))return!1;return!0}function zt(O,D){if(Array.isArray(O)&&Array.isArray(D)){if(O.length!==D.length)return!1;const C=[...O].sort(),L=[...D].sort();return C.every((F,le)=>L[le]===F)}return O===D}function Re(O){return Array.prototype.concat.apply([],O)}function xe(O){return O.length>0?O[O.length-1]:null}function We(O,D){for(const C in O)O.hasOwnProperty(C)&&D(O[C],C)}function _t(O){return(0,g.CqO)(O)?O:(0,g.QGY)(O)?(0,te.D)(Promise.resolve(O)):(0,ue.of)(O)}const wt={exact:function z(O,D,C){if(!ve(O.segments,D.segments)||!mt(O.segments,D.segments,C)||O.numberOfChildren!==D.numberOfChildren)return!1;for(const L in D.children)if(!O.children[L]||!z(O.children[L],D.children[L],C))return!1;return!0},subset:be},pn={exact:function ln(O,D){return Vt(O,D)},subset:function he(O,D){return Object.keys(D).length<=Object.keys(O).length&&Object.keys(D).every(C=>zt(O[C],D[C]))},ignored:()=>!0};function _n(O,D,C){return wt[C.paths](O.root,D.root,C.matrixParams)&&pn[C.queryParams](O.queryParams,D.queryParams)&&!("exact"===C.fragment&&O.fragment!==D.fragment)}function be(O,D,C){return Ue(O,D,D.segments,C)}function Ue(O,D,C,L){if(O.segments.length>C.length){const F=O.segments.slice(0,C.length);return!(!ve(F,C)||D.hasChildren()||!mt(F,C,L))}if(O.segments.length===C.length){if(!ve(O.segments,C)||!mt(O.segments,C,L))return!1;for(const F in D.children)if(!O.children[F]||!be(O.children[F],D.children[F],L))return!1;return!0}{const F=C.slice(0,O.segments.length),le=C.slice(O.segments.length);return!!(ve(O.segments,F)&&mt(O.segments,F,L)&&O.children[Jt])&&Ue(O.children[Jt],D,le,L)}}function mt(O,D,C){return D.every((L,F)=>pn[C](O[F].parameters,L.parameters))}class St{constructor(D,C,L){this.root=D,this.queryParams=C,this.fragment=L}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hi(this.queryParams)),this._queryParamMap}toString(){return re.serialize(this)}}class de{constructor(D,C){this.segments=D,this.children=C,this.parent=null,We(C,(L,F)=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ae(this)}}class fe{constructor(D,C){this.path=D,this.parameters=C}get parameterMap(){return this._parameterMap||(this._parameterMap=hi(this.parameters)),this._parameterMap}toString(){return bi(this)}}function ve(O,D){return O.length===D.length&&O.every((C,L)=>C.path===D[L].path)}class ${}class ee{parse(D){const C=new ji(D);return new St(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(D){const C=`/${Ye(D.root,!0)}`,L=function Pr(O){const D=Object.keys(O).map(C=>{const L=O[C];return Array.isArray(L)?L.map(F=>`${kt(C)}=${kt(F)}`).join("&"):`${kt(C)}=${kt(L)}`}).filter(C=>!!C);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${C}${L}${"string"==typeof D.fragment?`#${function gn(O){return encodeURI(O)}(D.fragment)}`:""}`}}const re=new ee;function Ae(O){return O.segments.map(D=>bi(D)).join("/")}function Ye(O,D){if(!O.hasChildren())return Ae(O);if(D){const C=O.children[Jt]?Ye(O.children[Jt],!1):"",L=[];return We(O.children,(F,le)=>{le!==Jt&&L.push(`${le}:${Ye(F,!1)}`)}),L.length>0?`${C}(${L.join("//")})`:C}{const C=function X(O,D){let C=[];return We(O.children,(L,F)=>{F===Jt&&(C=C.concat(D(L,F)))}),We(O.children,(L,F)=>{F!==Jt&&(C=C.concat(D(L,F)))}),C}(O,(L,F)=>F===Jt?[Ye(O.children[Jt],!1)]:[`${F}:${Ye(L,!1)}`]);return 1===Object.keys(O.children).length&&null!=O.children[Jt]?`${Ae(O)}/${C[0]}`:`${Ae(O)}/(${C.join("//")})`}}function Pt(O){return encodeURIComponent(O).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kt(O){return Pt(O).replace(/%3B/gi,";")}function fn(O){return Pt(O).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bn(O){return decodeURIComponent(O)}function vi(O){return bn(O.replace(/\+/g,"%20"))}function bi(O){return`${fn(O.path)}${function Ci(O){return Object.keys(O).map(D=>`;${fn(D)}=${fn(O[D])}`).join("")}(O.parameters)}`}const Ti=/^[^\/()?;=#]+/;function Kt(O){const D=O.match(Ti);return D?D[0]:""}const Bn=/^[^=?&#]+/,Hi=/^[^&#]+/;class ji{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(D.length>0||Object.keys(C).length>0)&&(L[Jt]=new de(D,C)),L}parseSegment(){const D=Kt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(D),new fe(bn(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const C=Kt(this.remaining);if(!C)return;this.capture(C);let L="";if(this.consumeOptional("=")){const F=Kt(this.remaining);F&&(L=F,this.capture(L))}D[bn(C)]=bn(L)}parseQueryParam(D){const C=function fi(O){const D=O.match(Bn);return D?D[0]:""}(this.remaining);if(!C)return;this.capture(C);let L="";if(this.consumeOptional("=")){const Oe=function Rr(O){const D=O.match(Hi);return D?D[0]:""}(this.remaining);Oe&&(L=Oe,this.capture(L))}const F=vi(C),le=vi(L);if(D.hasOwnProperty(F)){let Oe=D[F];Array.isArray(Oe)||(Oe=[Oe],D[F]=Oe),Oe.push(le)}else D[F]=le}parseParens(D){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=Kt(this.remaining),F=this.remaining[L.length];if("/"!==F&&")"!==F&&";"!==F)throw new Error(`Cannot parse url '${this.url}'`);let le;L.indexOf(":")>-1?(le=L.substr(0,L.indexOf(":")),this.capture(le),this.capture(":")):D&&(le=Jt);const Oe=this.parseChildren();C[le]=1===Object.keys(Oe).length?Oe[Jt]:new de([],Oe),this.consumeOptional("//")}return C}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new Error(`Expected "${D}".`)}}class Ji{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const C=this.pathFromRoot(D);return C.length>1?C[C.length-2]:null}children(D){const C=ni(D,this._root);return C?C.children.map(L=>L.value):[]}firstChild(D){const C=ni(D,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(D){const C=Er(D,this._root);return C.length<2?[]:C[C.length-2].children.map(F=>F.value).filter(F=>F!==D)}pathFromRoot(D){return Er(D,this._root).map(C=>C.value)}}function ni(O,D){if(O===D.value)return D;for(const C of D.children){const L=ni(O,C);if(L)return L}return null}function Er(O,D){if(O===D.value)return[D];for(const C of D.children){const L=Er(O,C);if(L.length)return L.unshift(D),L}return[]}class mi{constructor(D,C){this.value=D,this.children=C}toString(){return`TreeNode(${this.value})`}}function On(O){const D={};return O&&O.children.forEach(C=>D[C.value.outlet]=C),D}class Jr extends Ji{constructor(D,C){super(D),this.snapshot=C,gi(this,D)}toString(){return this.snapshot.toString()}}function $i(O,D){const C=function zs(O,D){const Oe=new as([],{},{},"",{},Jt,D,null,O.root,-1,{});return new pi("",new mi(Oe,[]))}(O,D),L=new ke.X([new fe("",{})]),F=new ke.X({}),le=new ke.X({}),Oe=new ke.X({}),He=new ke.X(""),xt=new Xi(L,F,Oe,He,le,Jt,D,C.root);return xt.snapshot=C.root,new Jr(new mi(xt,[]),C)}class Xi{constructor(D,C,L,F,le,Oe,He,xt){this.url=D,this.params=C,this.queryParams=L,this.fragment=F,this.data=le,this.outlet=Oe,this.component=He,this._futureSnapshot=xt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ve.U)(D=>hi(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ve.U)(D=>hi(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vi(O,D="emptyOnly"){const C=O.pathFromRoot;let L=0;if("always"!==D)for(L=C.length-1;L>=1;){const F=C[L],le=C[L-1];if(F.routeConfig&&""===F.routeConfig.path)L--;else{if(le.component)break;L--}}return function ms(O){return O.reduce((D,C)=>({params:Object.assign(Object.assign({},D.params),C.params),data:Object.assign(Object.assign({},D.data),C.data),resolve:Object.assign(Object.assign({},D.resolve),C._resolvedData)}),{params:{},data:{},resolve:{}})}(C.slice(L))}class as{constructor(D,C,L,F,le,Oe,He,xt,mn,si,Tn){this.url=D,this.params=C,this.queryParams=L,this.fragment=F,this.data=le,this.outlet=Oe,this.component=He,this.routeConfig=xt,this._urlSegment=mn,this._lastPathIndex=si,this._resolve=Tn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pi extends Ji{constructor(D,C){super(C),this.url=D,gi(this,C)}toString(){return cn(this._root)}}function gi(O,D){D.value._routerState=O,D.children.forEach(C=>gi(O,C))}function cn(O){const D=O.children.length>0?` { ${O.children.map(cn).join(", ")} } `:"";return`${O.value}${D}`}function ls(O){if(O.snapshot){const D=O.snapshot,C=O._futureSnapshot;O.snapshot=C,Vt(D.queryParams,C.queryParams)||O.queryParams.next(C.queryParams),D.fragment!==C.fragment&&O.fragment.next(C.fragment),Vt(D.params,C.params)||O.params.next(C.params),function Ct(O,D){if(O.length!==D.length)return!1;for(let C=0;C<O.length;++C)if(!Vt(O[C],D[C]))return!1;return!0}(D.url,C.url)||O.url.next(C.url),Vt(D.data,C.data)||O.data.next(C.data)}else O.snapshot=O._futureSnapshot,O.data.next(O._futureSnapshot.data)}function Ot(O,D){const C=Vt(O.params,D.params)&&function Me(O,D){return ve(O,D)&&O.every((C,L)=>Vt(C.parameters,D[L].parameters))}(O.url,D.url);return C&&!(!O.parent!=!D.parent)&&(!O.parent||Ot(O.parent,D.parent))}function _i(O,D,C){if(C&&O.shouldReuseRoute(D.value,C.value.snapshot)){const L=C.value;L._futureSnapshot=D.value;const F=function us(O,D,C){return D.children.map(L=>{for(const F of C.children)if(O.shouldReuseRoute(L.value,F.value.snapshot))return _i(O,L,F);return _i(O,L)})}(O,D,C);return new mi(L,F)}{if(O.shouldAttach(D.value)){const le=O.retrieve(D.value);if(null!==le){const Oe=le.route;return Oe.value._futureSnapshot=D.value,Oe.children=D.children.map(He=>_i(O,He)),Oe}}const L=function cs(O){return new Xi(new ke.X(O.url),new ke.X(O.params),new ke.X(O.queryParams),new ke.X(O.fragment),new ke.X(O.data),O.outlet,O.component,O)}(D.value),F=D.children.map(le=>_i(O,le));return new mi(L,F)}}function ys(O){return"object"==typeof O&&null!=O&&!O.outlets&&!O.segmentPath}function Nr(O){return"object"==typeof O&&null!=O&&O.outlets}function Ws(O,D,C,L,F){let le={};if(L&&We(L,(He,xt)=>{le[xt]=Array.isArray(He)?He.map(mn=>`${mn}`):`${He}`}),O===D)return new St(C,le,F);const Oe=Gi(O,D,C);return new St(Oe,le,F)}function Gi(O,D,C){const L={};return We(O.children,(F,le)=>{L[le]=F===D?C:Gi(F,D,C)}),new de(O.segments,L)}class Zs{constructor(D,C,L){if(this.isAbsolute=D,this.numberOfDoubleDots=C,this.commands=L,D&&L.length>0&&ys(L[0]))throw new Error("Root segment cannot have matrix parameters");const F=L.find(Nr);if(F&&F!==xe(L))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ds{constructor(D,C,L){this.segmentGroup=D,this.processChildren=C,this.index=L}}function Xr(O,D,C){if(O||(O=new de([],{})),0===O.segments.length&&O.hasChildren())return wr(O,D,C);const L=function Os(O,D,C){let L=0,F=D;const le={match:!1,pathIndex:0,commandIndex:0};for(;F<O.segments.length;){if(L>=C.length)return le;const Oe=O.segments[F],He=C[L];if(Nr(He))break;const xt=`${He}`,mn=L<C.length-1?C[L+1]:null;if(F>0&&void 0===xt)break;if(xt&&mn&&"object"==typeof mn&&void 0===mn.outlets){if(!vs(xt,mn,Oe))return le;L+=2}else{if(!vs(xt,{},Oe))return le;L++}F++}return{match:!0,pathIndex:F,commandIndex:L}}(O,D,C),F=C.slice(L.commandIndex);if(L.match&&L.pathIndex<O.segments.length){const le=new de(O.segments.slice(0,L.pathIndex),{});return le.children[Jt]=new de(O.segments.slice(L.pathIndex),O.children),wr(le,0,F)}return L.match&&0===F.length?new de(O.segments,{}):L.match&&!O.hasChildren()?Ta(O,D,C):L.match?wr(O,0,F):Ta(O,D,C)}function wr(O,D,C){if(0===C.length)return new de(O.segments,{});{const L=function ra(O){return Nr(O[0])?O[0].outlets:{[Jt]:O}}(C),F={};return We(L,(le,Oe)=>{"string"==typeof le&&(le=[le]),null!==le&&(F[Oe]=Xr(O.children[Oe],D,le))}),We(O.children,(le,Oe)=>{void 0===L[Oe]&&(F[Oe]=le)}),new de(O.segments,F)}}function Ta(O,D,C){const L=O.segments.slice(0,D);let F=0;for(;F<C.length;){const le=C[F];if(Nr(le)){const xt=sa(le.outlets);return new de(L,xt)}if(0===F&&ys(C[0])){L.push(new fe(O.segments[D].path,Lo(C[0]))),F++;continue}const Oe=Nr(le)?le.outlets[Jt]:`${le}`,He=F<C.length-1?C[F+1]:null;Oe&&He&&ys(He)?(L.push(new fe(Oe,Lo(He))),F+=2):(L.push(new fe(Oe,{})),F++)}return new de(L,{})}function sa(O){const D={};return We(O,(C,L)=>{"string"==typeof C&&(C=[C]),null!==C&&(D[L]=Ta(new de([],{}),0,C))}),D}function Lo(O){const D={};return We(O,(C,L)=>D[L]=`${C}`),D}function vs(O,D,C){return O==C.path&&Vt(D,C.parameters)}class Ks{constructor(D,C,L,F){this.routeReuseStrategy=D,this.futureState=C,this.currState=L,this.forwardEvent=F}activate(D){const C=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,L,D),ls(this.futureState.root),this.activateChildRoutes(C,L,D)}deactivateChildRoutes(D,C,L){const F=On(C);D.children.forEach(le=>{const Oe=le.value.outlet;this.deactivateRoutes(le,F[Oe],L),delete F[Oe]}),We(F,(le,Oe)=>{this.deactivateRouteAndItsChildren(le,L)})}deactivateRoutes(D,C,L){const F=D.value,le=C?C.value:null;if(F===le)if(F.component){const Oe=L.getContext(F.outlet);Oe&&this.deactivateChildRoutes(D,C,Oe.children)}else this.deactivateChildRoutes(D,C,L);else le&&this.deactivateRouteAndItsChildren(C,L)}deactivateRouteAndItsChildren(D,C){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,C):this.deactivateRouteAndOutlet(D,C)}detachAndStoreRouteSubtree(D,C){const L=C.getContext(D.value.outlet),F=L&&D.value.component?L.children:C,le=On(D);for(const Oe of Object.keys(le))this.deactivateRouteAndItsChildren(le[Oe],F);if(L&&L.outlet){const Oe=L.outlet.detach(),He=L.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:Oe,route:D,contexts:He})}}deactivateRouteAndOutlet(D,C){const L=C.getContext(D.value.outlet),F=L&&D.value.component?L.children:C,le=On(D);for(const Oe of Object.keys(le))this.deactivateRouteAndItsChildren(le[Oe],F);L&&L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated(),L.attachRef=null,L.resolver=null,L.route=null)}activateChildRoutes(D,C,L){const F=On(C);D.children.forEach(le=>{this.activateRoutes(le,F[le.value.outlet],L),this.forwardEvent(new Oi(le.value.snapshot))}),D.children.length&&this.forwardEvent(new Fi(D.value.snapshot))}activateRoutes(D,C,L){const F=D.value,le=C?C.value:null;if(ls(F),F===le)if(F.component){const Oe=L.getOrCreateContext(F.outlet);this.activateChildRoutes(D,C,Oe.children)}else this.activateChildRoutes(D,C,L);else if(F.component){const Oe=L.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const He=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),Oe.children.onOutletReAttached(He.contexts),Oe.attachRef=He.componentRef,Oe.route=He.route.value,Oe.outlet&&Oe.outlet.attach(He.componentRef,He.route.value),ls(He.route.value),this.activateChildRoutes(D,null,Oe.children)}else{const He=function or(O){for(let D=O.parent;D;D=D.parent){const C=D.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig;if(C&&C.component)return null}return null}(F.snapshot),xt=He?He.module.componentFactoryResolver:null;Oe.attachRef=null,Oe.route=F,Oe.resolver=xt,Oe.outlet&&Oe.outlet.activateWith(F,xt),this.activateChildRoutes(D,null,Oe.children)}}else this.activateChildRoutes(D,null,L)}}class Fo{constructor(D,C){this.routes=D,this.module=C}}function Cr(O){return"function"==typeof O}function Rn(O){return O instanceof St}const Vo=Symbol("INITIAL_VALUE");function Wr(){return(0,Ge.w)(O=>(0,lt.a)(O.map(D=>D.pipe((0,Je.q)(1),(0,ot.O)(Vo)))).pipe((0,it.R)((D,C)=>{let L=!1;return C.reduce((F,le,Oe)=>F!==Vo?F:(le===Vo&&(L=!0),L||!1!==le&&Oe!==C.length-1&&!Rn(le)?F:le),D)},Vo),(0,me.h)(D=>D!==Vo),(0,Ve.U)(D=>Rn(D)?D:!0===D),(0,Je.q)(1)))}class oa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Br,this.attachRef=null}}class Br{constructor(){this.contexts=new Map}onChildOutletCreated(D,C){const L=this.getOrCreateContext(D);L.outlet=C,this.contexts.set(D,L)}onChildOutletDestroyed(D){const C=this.getContext(D);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let C=this.getContext(D);return C||(C=new oa,this.contexts.set(D,C)),C}getContext(D){return this.contexts.get(D)||null}}let Zr=(()=>{class O{constructor(C,L,F,le,Oe){this.parentContexts=C,this.location=L,this.resolver=F,this.changeDetector=Oe,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=le||Jt,C.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const C=this.parentContexts.getContext(this.name);C&&C.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,L){this.activated=C,this._activatedRoute=L,this.location.insert(C.hostView),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,L){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=C;const Oe=(L=L||this.resolver).resolveComponentFactory(C._futureSnapshot.routeConfig.component),He=this.parentContexts.getOrCreateContext(this.name).children,xt=new Ms(C,He,this.location.injector);this.activated=this.location.createComponent(Oe,this.location.length,xt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return O.\u0275fac=function(C){return new(C||O)(g.Y36(Br),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},O.\u0275dir=g.lG2({type:O,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),O})();class Ms{constructor(D,C,L){this.route=D,this.childContexts=C,this.parent=L}get(D,C){return D===Xi?this.route:D===Br?this.childContexts:this.parent.get(D,C)}}let Ei=(()=>{class O{}return O.\u0275fac=function(C){return new(C||O)},O.\u0275cmp=g.Xpm({type:O,selectors:[["ng-component"]],decls:1,vars:0,template:function(C,L){1&C&&g._UZ(0,"router-outlet")},directives:[Zr],encapsulation:2}),O})();function Tr(O,D=""){for(let C=0;C<O.length;C++){const L=O[C];Uo(L,aa(D,L))}}function Uo(O,D){O.children&&Tr(O.children,D)}function aa(O,D){return D?O||D.path?O&&!D.path?`${O}/`:!O&&D.path?D.path:`${O}/${D.path}`:"":O}function es(O){const D=O.children&&O.children.map(es),C=D?Object.assign(Object.assign({},O),{children:D}):Object.assign({},O);return!C.component&&(D||C.loadChildren)&&C.outlet&&C.outlet!==Jt&&(C.component=Ei),C}function kr(O){return O.outlet||Jt}function wo(O,D){const C=O.filter(L=>kr(L)===D);return C.push(...O.filter(L=>kr(L)!==D)),C}const qs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kr(O,D,C){var L;if(""===D.path)return"full"===D.pathMatch&&(O.hasChildren()||C.length>0)?Object.assign({},qs):{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const le=(D.matcher||Ft)(C,O,D);if(!le)return Object.assign({},qs);const Oe={};We(le.posParams,(xt,mn)=>{Oe[mn]=xt.path});const He=le.consumed.length>0?Object.assign(Object.assign({},Oe),le.consumed[le.consumed.length-1].parameters):Oe;return{matched:!0,consumedSegments:le.consumed,remainingSegments:C.slice(le.consumed.length),parameters:He,positionalParamSegments:null!==(L=le.posParams)&&void 0!==L?L:{}}}function Ys(O,D,C,L,F="corrected"){if(C.length>0&&function ie(O,D,C){return C.some(L=>oe(O,D,L)&&kr(L)!==Jt)}(O,C,L)){const Oe=new de(D,function U(O,D,C,L){const F={};F[Jt]=L,L._sourceSegment=O,L._segmentIndexShift=D.length;for(const le of C)if(""===le.path&&kr(le)!==Jt){const Oe=new de([],{});Oe._sourceSegment=O,Oe._segmentIndexShift=D.length,F[kr(le)]=Oe}return F}(O,D,L,new de(C,O.children)));return Oe._sourceSegment=O,Oe._segmentIndexShift=D.length,{segmentGroup:Oe,slicedSegments:[]}}if(0===C.length&&function V(O,D,C){return C.some(L=>oe(O,D,L))}(O,C,L)){const Oe=new de(O.segments,function Ai(O,D,C,L,F,le){const Oe={};for(const He of L)if(oe(O,C,He)&&!F[kr(He)]){const xt=new de([],{});xt._sourceSegment=O,xt._segmentIndexShift="legacy"===le?O.segments.length:D.length,Oe[kr(He)]=xt}return Object.assign(Object.assign({},F),Oe)}(O,D,C,L,O.children,F));return Oe._sourceSegment=O,Oe._segmentIndexShift=D.length,{segmentGroup:Oe,slicedSegments:C}}const le=new de(O.segments,O.children);return le._sourceSegment=O,le._segmentIndexShift=D.length,{segmentGroup:le,slicedSegments:C}}function oe(O,D,C){return(!(O.hasChildren()||D.length>0)||"full"!==C.pathMatch)&&""===C.path}function Pe(O,D,C,L){return!!(kr(O)===L||L!==Jt&&oe(D,C,O))&&("**"===O.path||Kr(D,O,C).matched)}function Et(O,D,C){return 0===D.length&&!O.children[C]}class Bt{constructor(D){this.segmentGroup=D||null}}class Cn{constructor(D){this.urlTree=D}}function kn(O){return Te(new Bt(O))}function ai(O){return Te(new Cn(O))}class Si{constructor(D,C,L,F,le){this.configLoader=C,this.urlSerializer=L,this.urlTree=F,this.config=le,this.allowRedirects=!0,this.ngModule=D.get(g.h0i)}apply(){const D=Ys(this.urlTree.root,[],[],this.config).segmentGroup,C=new de(D.segments,D.children);return this.expandSegmentGroup(this.ngModule,this.config,C,Jt).pipe((0,Ve.U)(le=>this.createUrlTree(H(le),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pt(le=>{if(le instanceof Cn)return this.allowRedirects=!1,this.match(le.urlTree);throw le instanceof Bt?this.noMatchError(le):le}))}match(D){return this.expandSegmentGroup(this.ngModule,this.config,D.root,Jt).pipe((0,Ve.U)(F=>this.createUrlTree(H(F),D.queryParams,D.fragment))).pipe(pt(F=>{throw F instanceof Bt?this.noMatchError(F):F}))}noMatchError(D){return new Error(`Cannot match any routes. URL Segment: '${D.segmentGroup}'`)}createUrlTree(D,C,L){const F=D.segments.length>0?new de([],{[Jt]:D}):D;return new St(F,C,L)}expandSegmentGroup(D,C,L,F){return 0===L.segments.length&&L.hasChildren()?this.expandChildren(D,C,L).pipe((0,Ve.U)(le=>new de([],le))):this.expandSegment(D,L,C,L.segments,F,!0)}expandChildren(D,C,L){const F=[];for(const le of Object.keys(L.children))"primary"===le?F.unshift(le):F.push(le);return(0,te.D)(F).pipe((0,Nt.b)(le=>{const Oe=L.children[le],He=wo(C,le);return this.expandSegmentGroup(D,He,Oe,le).pipe((0,Ve.U)(xt=>({segment:xt,outlet:le})))}),(0,it.R)((le,Oe)=>(le[Oe.outlet]=Oe.segment,le),{}),function qe(O,D){const C=arguments.length>=2;return L=>L.pipe(O?(0,me.h)((F,le)=>O(F,le,L)):Y.y,we(1),C?(0,Tt.d)(D):(0,Xe.T)(()=>new nt.K))}())}expandSegment(D,C,L,F,le,Oe){return(0,te.D)(L).pipe((0,Nt.b)(He=>this.expandSegmentAgainstRoute(D,C,L,He,F,le,Oe).pipe(pt(mn=>{if(mn instanceof Bt)return(0,ue.of)(null);throw mn}))),(0,on.P)(He=>!!He),pt((He,xt)=>{if(He instanceof nt.K||"EmptyError"===He.name)return Et(C,F,le)?(0,ue.of)(new de([],{})):kn(C);throw He}))}expandSegmentAgainstRoute(D,C,L,F,le,Oe,He){return Pe(F,C,le,Oe)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(D,C,F,le,Oe):He&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,C,L,F,le,Oe):kn(C):kn(C)}expandSegmentAgainstRouteUsingRedirect(D,C,L,F,le,Oe){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,L,F,Oe):this.expandRegularSegmentAgainstRouteUsingRedirect(D,C,L,F,le,Oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,C,L,F){const le=this.applyRedirectCommands([],L.redirectTo,{});return L.redirectTo.startsWith("/")?ai(le):this.lineralizeSegments(L,le).pipe((0,gt.z)(Oe=>{const He=new de(Oe,{});return this.expandSegment(D,He,C,Oe,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,C,L,F,le,Oe){const{matched:He,consumedSegments:xt,remainingSegments:mn,positionalParamSegments:si}=Kr(C,F,le);if(!He)return kn(C);const Tn=this.applyRedirectCommands(xt,F.redirectTo,si);return F.redirectTo.startsWith("/")?ai(Tn):this.lineralizeSegments(F,Tn).pipe((0,gt.z)(ui=>this.expandSegment(D,C,L,ui.concat(mn),Oe,!1)))}matchSegmentAgainstRoute(D,C,L,F,le){if("**"===L.path)return L.loadChildren?(L._loadedConfig?(0,ue.of)(L._loadedConfig):this.configLoader.load(D.injector,L)).pipe((0,Ve.U)(Tn=>(L._loadedConfig=Tn,new de(F,{})))):(0,ue.of)(new de(F,{}));const{matched:Oe,consumedSegments:He,remainingSegments:xt}=Kr(C,L,F);return Oe?this.getChildConfig(D,L,F).pipe((0,gt.z)(si=>{const Tn=si.module,ui=si.routes,{segmentGroup:yi,slicedSegments:er}=Ys(C,He,xt,ui),yo=new de(yi.segments,yi.children);if(0===er.length&&yo.hasChildren())return this.expandChildren(Tn,ui,yo).pipe((0,Ve.U)(Fa=>new de(He,Fa)));if(0===ui.length&&0===er.length)return(0,ue.of)(new de(He,{}));const Ko=kr(L)===le;return this.expandSegment(Tn,yo,ui,er,Ko?Jt:le,!0).pipe((0,Ve.U)(ks=>new de(He.concat(ks.segments),ks.children)))})):kn(C)}getChildConfig(D,C,L){return C.children?(0,ue.of)(new Fo(C.children,D)):C.loadChildren?void 0!==C._loadedConfig?(0,ue.of)(C._loadedConfig):this.runCanLoadGuards(D.injector,C,L).pipe((0,gt.z)(F=>F?this.configLoader.load(D.injector,C).pipe((0,Ve.U)(le=>(C._loadedConfig=le,le))):function ri(O){return Te(Le(`Cannot load children because the guard of the route "path: '${O.path}'" returned false`))}(C))):(0,ue.of)(new Fo([],D))}runCanLoadGuards(D,C,L){const F=C.canLoad;if(!F||0===F.length)return(0,ue.of)(!0);const le=F.map(Oe=>{const He=D.get(Oe);let xt;if(function _s(O){return O&&Cr(O.canLoad)}(He))xt=He.canLoad(C,L);else{if(!Cr(He))throw new Error("Invalid CanLoad guard");xt=He(C,L)}return _t(xt)});return(0,ue.of)(le).pipe(Wr(),(0,vt.b)(Oe=>{if(!Rn(Oe))return;const He=Le(`Redirecting to "${this.urlSerializer.serialize(Oe)}"`);throw He.url=Oe,He}),(0,Ve.U)(Oe=>!0===Oe))}lineralizeSegments(D,C){let L=[],F=C.root;for(;;){if(L=L.concat(F.segments),0===F.numberOfChildren)return(0,ue.of)(L);if(F.numberOfChildren>1||!F.children[Jt])return Te(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D.redirectTo}'`));F=F.children[Jt]}}applyRedirectCommands(D,C,L){return this.applyRedirectCreatreUrlTree(C,this.urlSerializer.parse(C),D,L)}applyRedirectCreatreUrlTree(D,C,L,F){const le=this.createSegmentGroup(D,C.root,L,F);return new St(le,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(D,C){const L={};return We(D,(F,le)=>{if("string"==typeof F&&F.startsWith(":")){const He=F.substring(1);L[le]=C[He]}else L[le]=F}),L}createSegmentGroup(D,C,L,F){const le=this.createSegments(D,C.segments,L,F);let Oe={};return We(C.children,(He,xt)=>{Oe[xt]=this.createSegmentGroup(D,He,L,F)}),new de(le,Oe)}createSegments(D,C,L,F){return C.map(le=>le.path.startsWith(":")?this.findPosParam(D,le,F):this.findOrReturn(le,L))}findPosParam(D,C,L){const F=L[C.path.substring(1)];if(!F)throw new Error(`Cannot redirect to '${D}'. Cannot find '${C.path}'.`);return F}findOrReturn(D,C){let L=0;for(const F of C){if(F.path===D.path)return C.splice(L),F;L++}return D}}function H(O){const D={};for(const L of Object.keys(O.children)){const le=H(O.children[L]);(le.segments.length>0||le.hasChildren())&&(D[L]=le)}return function Di(O){if(1===O.numberOfChildren&&O.children[Jt]){const D=O.children[Jt];return new de(O.segments.concat(D.segments),D.children)}return O}(new de(O.segments,D))}class M{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class se{constructor(D,C){this.component=D,this.route=C}}function At(O,D,C){const L=O._root;return ts(L,D?D._root:null,C,[L.value])}function wi(O,D,C){const L=function Es(O){if(!O)return null;for(let D=O.parent;D;D=D.parent){const C=D.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig}return null}(D);return(L?L.module.injector:C).get(O)}function ts(O,D,C,L,F={canDeactivateChecks:[],canActivateChecks:[]}){const le=On(D);return O.children.forEach(Oe=>{(function Bo(O,D,C,L,F={canDeactivateChecks:[],canActivateChecks:[]}){const le=O.value,Oe=D?D.value:null,He=C?C.getContext(O.value.outlet):null;if(Oe&&le.routeConfig===Oe.routeConfig){const xt=function Da(O,D,C){if("function"==typeof C)return C(O,D);switch(C){case"pathParamsChange":return!ve(O.url,D.url);case"pathParamsOrQueryParamsChange":return!ve(O.url,D.url)||!Vt(O.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ot(O,D)||!Vt(O.queryParams,D.queryParams);default:return!Ot(O,D)}}(Oe,le,le.routeConfig.runGuardsAndResolvers);xt?F.canActivateChecks.push(new M(L)):(le.data=Oe.data,le._resolvedData=Oe._resolvedData),ts(O,D,le.component?He?He.children:null:C,L,F),xt&&He&&He.outlet&&He.outlet.isActivated&&F.canDeactivateChecks.push(new se(He.outlet.component,Oe))}else Oe&&Ht(D,He,F),F.canActivateChecks.push(new M(L)),ts(O,null,le.component?He?He.children:null:C,L,F)})(Oe,le[Oe.value.outlet],C,L.concat([Oe.value]),F),delete le[Oe.value.outlet]}),We(le,(Oe,He)=>Ht(Oe,C.getContext(He),F)),F}function Ht(O,D,C){const L=On(O),F=O.value;We(L,(le,Oe)=>{Ht(le,F.component?D?D.children.getContext(Oe):null:D,C)}),C.canDeactivateChecks.push(new se(F.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,F))}class Ml{}function Pl(O){return new d.y(D=>D.error(O))}class uo{constructor(D,C,L,F,le,Oe){this.rootComponentType=D,this.config=C,this.urlTree=L,this.url=F,this.paramsInheritanceStrategy=le,this.relativeLinkResolution=Oe}recognize(){const D=Ys(this.urlTree.root,[],[],this.config.filter(Oe=>void 0===Oe.redirectTo),this.relativeLinkResolution).segmentGroup,C=this.processSegmentGroup(this.config,D,Jt);if(null===C)return null;const L=new as([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),F=new mi(L,C),le=new pi(this.url,F);return this.inheritParamsAndData(le._root),le}inheritParamsAndData(D){const C=D.value,L=Vi(C,this.paramsInheritanceStrategy);C.params=Object.freeze(L.params),C.data=Object.freeze(L.data),D.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(D,C,L){return 0===C.segments.length&&C.hasChildren()?this.processChildren(D,C):this.processSegment(D,C,C.segments,L)}processChildren(D,C){const L=[];for(const le of Object.keys(C.children)){const Oe=C.children[le],He=wo(D,le),xt=this.processSegmentGroup(He,Oe,le);if(null===xt)return null;L.push(...xt)}const F=To(L);return function Hr(O){O.sort((D,C)=>D.value.outlet===Jt?-1:C.value.outlet===Jt?1:D.value.outlet.localeCompare(C.value.outlet))}(F),F}processSegment(D,C,L,F){for(const le of D){const Oe=this.processSegmentAgainstRoute(le,C,L,F);if(null!==Oe)return Oe}return Et(C,L,F)?[]:null}processSegmentAgainstRoute(D,C,L,F){if(D.redirectTo||!Pe(D,C,L,F))return null;let le,Oe=[],He=[];if("**"===D.path){const yi=L.length>0?xe(L).parameters:{};le=new as(L,yi,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xa(D),kr(D),D.component,D,Rs(C),Do(C)+L.length,ws(D))}else{const yi=Kr(C,D,L);if(!yi.matched)return null;Oe=yi.consumedSegments,He=yi.remainingSegments,le=new as(Oe,yi.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xa(D),kr(D),D.component,D,Rs(C),Do(C)+Oe.length,ws(D))}const xt=function co(O){return O.children?O.children:O.loadChildren?O._loadedConfig.routes:[]}(D),{segmentGroup:mn,slicedSegments:si}=Ys(C,Oe,He,xt.filter(yi=>void 0===yi.redirectTo),this.relativeLinkResolution);if(0===si.length&&mn.hasChildren()){const yi=this.processChildren(xt,mn);return null===yi?null:[new mi(le,yi)]}if(0===xt.length&&0===si.length)return[new mi(le,[])];const Tn=kr(D)===F,ui=this.processSegment(xt,mn,si,Tn?Jt:F);return null===ui?null:[new mi(le,ui)]}}function Ho(O){const D=O.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function To(O){const D=[],C=new Set;for(const L of O){if(!Ho(L)){D.push(L);continue}const F=D.find(le=>L.value.routeConfig===le.value.routeConfig);void 0!==F?(F.children.push(...L.children),C.add(F)):D.push(L)}for(const L of C){const F=To(L.children);D.push(new mi(L.value,F))}return D.filter(L=>!C.has(L))}function Rs(O){let D=O;for(;D._sourceSegment;)D=D._sourceSegment;return D}function Do(O){let D=O,C=D._segmentIndexShift?D._segmentIndexShift:0;for(;D._sourceSegment;)D=D._sourceSegment,C+=D._segmentIndexShift?D._segmentIndexShift:0;return C-1}function xa(O){return O.data||{}}function ws(O){return O.resolve||{}}function Io(O){return[...Object.keys(O),...Object.getOwnPropertySymbols(O)]}function ho(O){return(0,Ge.w)(D=>{const C=O(D);return C?(0,te.D)(C).pipe((0,Ve.U)(()=>D)):(0,ue.of)(D)})}class $o extends class jo{shouldDetach(D){return!1}store(D,C){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,C){return D.routeConfig===C.routeConfig}}{}const Pa=new g.OlP("ROUTES");class fo{constructor(D,C,L,F){this.injector=D,this.compiler=C,this.onLoadStartListener=L,this.onLoadEndListener=F}load(D,C){if(C._loader$)return C._loader$;this.onLoadStartListener&&this.onLoadStartListener(C);const F=this.loadModuleFactory(C.loadChildren).pipe((0,Ve.U)(le=>{this.onLoadEndListener&&this.onLoadEndListener(C);const Oe=le.create(D);return new Fo(Re(Oe.injector.get(Pa,void 0,g.XFs.Self|g.XFs.Optional)).map(es),Oe)}),pt(le=>{throw C._loader$=void 0,le}));return C._loader$=new J(F,()=>new rt.x).pipe(ce()),C._loader$}loadModuleFactory(D){return _t(D()).pipe((0,gt.z)(C=>C instanceof g.YKP?(0,ue.of)(C):(0,te.D)(this.compiler.compileModuleAsync(C))))}}class pl{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,C){return D}}function ns(O){throw O}function Ra(O,D,C){return D.parse("/")}function Yi(O,D){return(0,ue.of)(null)}const Ja={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pi=(()=>{class O{constructor(C,L,F,le,Oe,He,xt){this.rootComponentType=C,this.urlSerializer=L,this.rootContexts=F,this.location=le,this.config=xt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new rt.x,this.errorHandler=ns,this.malformedUriErrorHandler=Ra,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yi,afterPreactivation:Yi},this.urlHandlingStrategy=new pl,this.routeReuseStrategy=new $o,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Oe.get(g.h0i),this.console=Oe.get(g.c2e);const Tn=Oe.get(g.R0b);this.isNgZoneEnabled=Tn instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(xt),this.currentUrlTree=function Dt(){return new St(new de([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fo(Oe,He,ui=>this.triggerEvent(new ei(ui)),ui=>this.triggerEvent(new Ni(ui))),this.routerState=$i(this.currentUrlTree,this.rootComponentType),this.transitions=new ke.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var C;return null===(C=this.location.getState())||void 0===C?void 0:C.\u0275routerPageId}setupNavigations(C){const L=this.events;return C.pipe((0,me.h)(F=>0!==F.id),(0,Ve.U)(F=>Object.assign(Object.assign({},F),{extractedUrl:this.urlHandlingStrategy.extract(F.rawUrl)})),(0,Ge.w)(F=>{let le=!1,Oe=!1;return(0,ue.of)(F).pipe((0,vt.b)(He=>{this.currentNavigation={id:He.id,initialUrl:He.currentRawUrl,extractedUrl:He.extractedUrl,trigger:He.source,extras:He.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ge.w)(He=>{const xt=this.browserUrlTree.toString(),mn=!this.navigated||He.extractedUrl.toString()!==xt||xt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||mn)&&this.urlHandlingStrategy.shouldProcessUrl(He.rawUrl))return po(He.source)&&(this.browserUrlTree=He.extractedUrl),(0,ue.of)(He).pipe((0,Ge.w)(Tn=>{const ui=this.transitions.getValue();return L.next(new Mt(Tn.id,this.serializeUrl(Tn.extractedUrl),Tn.source,Tn.restoredState)),ui!==this.transitions.getValue()?Qe.E:Promise.resolve(Tn)}),function N(O,D,C,L){return(0,Ge.w)(F=>function zi(O,D,C,L,F){return new Si(O,D,C,L,F).apply()}(O,D,C,F.extractedUrl,L).pipe((0,Ve.U)(le=>Object.assign(Object.assign({},F),{urlAfterRedirects:le}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,vt.b)(Tn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Tn.urlAfterRedirects})}),function Oa(O,D,C,L,F){return(0,gt.z)(le=>function Rl(O,D,C,L,F="emptyOnly",le="legacy"){try{const Oe=new uo(O,D,C,L,F,le).recognize();return null===Oe?Pl(new Ml):(0,ue.of)(Oe)}catch(Oe){return Pl(Oe)}}(O,D,le.urlAfterRedirects,C(le.urlAfterRedirects),L,F).pipe((0,Ve.U)(Oe=>Object.assign(Object.assign({},le),{targetSnapshot:Oe}))))}(this.rootComponentType,this.config,Tn=>this.serializeUrl(Tn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,vt.b)(Tn=>{if("eager"===this.urlUpdateStrategy){if(!Tn.extras.skipLocationChange){const yi=this.urlHandlingStrategy.merge(Tn.urlAfterRedirects,Tn.rawUrl);this.setBrowserUrl(yi,Tn)}this.browserUrlTree=Tn.urlAfterRedirects}const ui=new In(Tn.id,this.serializeUrl(Tn.extractedUrl),this.serializeUrl(Tn.urlAfterRedirects),Tn.targetSnapshot);L.next(ui)}));if(mn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ui,extractedUrl:yi,source:er,restoredState:yo,extras:Ko}=He,Qs=new Mt(ui,this.serializeUrl(yi),er,yo);L.next(Qs);const ks=$i(yi,this.rootComponentType).snapshot;return(0,ue.of)(Object.assign(Object.assign({},He),{targetSnapshot:ks,urlAfterRedirects:yi,extras:Object.assign(Object.assign({},Ko),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=He.rawUrl,He.resolve(null),Qe.E}),ho(He=>{const{targetSnapshot:xt,id:mn,extractedUrl:si,rawUrl:Tn,extras:{skipLocationChange:ui,replaceUrl:yi}}=He;return this.hooks.beforePreactivation(xt,{navigationId:mn,appliedUrlTree:si,rawUrlTree:Tn,skipLocationChange:!!ui,replaceUrl:!!yi})}),(0,vt.b)(He=>{const xt=new zn(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot);this.triggerEvent(xt)}),(0,Ve.U)(He=>Object.assign(Object.assign({},He),{guards:At(He.targetSnapshot,He.currentSnapshot,this.rootContexts)})),function li(O,D){return(0,gt.z)(C=>{const{targetSnapshot:L,currentSnapshot:F,guards:{canActivateChecks:le,canDeactivateChecks:Oe}}=C;return 0===Oe.length&&0===le.length?(0,ue.of)(Object.assign(Object.assign({},C),{guardsResult:!0})):function Ol(O,D,C,L){return(0,te.D)(O).pipe((0,gt.z)(F=>function Sa(O,D,C,L,F){const le=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,ue.of)(!0);const Oe=le.map(He=>{const xt=wi(He,D,F);let mn;if(function Qa(O){return O&&Cr(O.canDeactivate)}(xt))mn=_t(xt.canDeactivate(O,D,C,L));else{if(!Cr(xt))throw new Error("Invalid CanDeactivate guard");mn=_t(xt(O,D,C,L))}return mn.pipe((0,on.P)())});return(0,ue.of)(Oe).pipe(Wr())}(F.component,F.route,C,D,L)),(0,on.P)(F=>!0!==F,!0))}(Oe,L,F,O).pipe((0,gt.z)(He=>He&&function Ds(O){return"boolean"==typeof O}(He)?function Qi(O,D,C,L){return(0,te.D)(D).pipe((0,Nt.b)(F=>(0,ht.z)(function Co(O,D){return null!==O&&D&&D(new qn(O)),(0,ue.of)(!0)}(F.route.parent,L),function Ia(O,D){return null!==O&&D&&D(new un(O)),(0,ue.of)(!0)}(F.route,L),function Aa(O,D,C){const L=D[D.length-1],le=D.slice(0,D.length-1).reverse().map(Oe=>function En(O){const D=O.routeConfig?O.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:O,guards:D}:null}(Oe)).filter(Oe=>null!==Oe).map(Oe=>(0,ut.P)(()=>{const He=Oe.guards.map(xt=>{const mn=wi(xt,Oe.node,C);let si;if(function bs(O){return O&&Cr(O.canActivateChild)}(mn))si=_t(mn.canActivateChild(L,O));else{if(!Cr(mn))throw new Error("Invalid CanActivateChild guard");si=_t(mn(L,O))}return si.pipe((0,on.P)())});return(0,ue.of)(He).pipe(Wr())}));return(0,ue.of)(le).pipe(Wr())}(O,F.path,C),function Ps(O,D,C){const L=D.routeConfig?D.routeConfig.canActivate:null;if(!L||0===L.length)return(0,ue.of)(!0);const F=L.map(le=>(0,ut.P)(()=>{const Oe=wi(le,D,C);let He;if(function Is(O){return O&&Cr(O.canActivate)}(Oe))He=_t(Oe.canActivate(D,O));else{if(!Cr(Oe))throw new Error("Invalid CanActivate guard");He=_t(Oe(D,O))}return He.pipe((0,on.P)())}));return(0,ue.of)(F).pipe(Wr())}(O,F.route,C))),(0,on.P)(F=>!0!==F,!0))}(L,le,O,D):(0,ue.of)(He)),(0,Ve.U)(He=>Object.assign(Object.assign({},C),{guardsResult:He})))})}(this.ngModule.injector,He=>this.triggerEvent(He)),(0,vt.b)(He=>{if(Rn(He.guardsResult)){const mn=Le(`Redirecting to "${this.serializeUrl(He.guardsResult)}"`);throw mn.url=He.guardsResult,mn}const xt=new di(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot,!!He.guardsResult);this.triggerEvent(xt)}),(0,me.h)(He=>!!He.guardsResult||(this.restoreHistory(He),this.cancelNavigationTransition(He,""),!1)),ho(He=>{if(He.guards.canActivateChecks.length)return(0,ue.of)(He).pipe((0,vt.b)(xt=>{const mn=new Kn(xt.id,this.serializeUrl(xt.extractedUrl),this.serializeUrl(xt.urlAfterRedirects),xt.targetSnapshot);this.triggerEvent(mn)}),(0,Ge.w)(xt=>{let mn=!1;return(0,ue.of)(xt).pipe(function Dr(O,D){return(0,gt.z)(C=>{const{targetSnapshot:L,guards:{canActivateChecks:F}}=C;if(!F.length)return(0,ue.of)(C);let le=0;return(0,te.D)(F).pipe((0,Nt.b)(Oe=>function fl(O,D,C,L){return function Ma(O,D,C,L){const F=Io(O);if(0===F.length)return(0,ue.of)({});const le={};return(0,te.D)(F).pipe((0,gt.z)(Oe=>function jr(O,D,C,L){const F=wi(O,D,L);return _t(F.resolve?F.resolve(D,C):F(D,C))}(O[Oe],D,C,L).pipe((0,vt.b)(He=>{le[Oe]=He}))),we(1),(0,gt.z)(()=>Io(le).length===F.length?(0,ue.of)(le):Qe.E))}(O._resolve,O,D,L).pipe((0,Ve.U)(le=>(O._resolvedData=le,O.data=Object.assign(Object.assign({},O.data),Vi(O,C).resolve),null)))}(Oe.route,L,O,D)),(0,vt.b)(()=>le++),we(1),(0,gt.z)(Oe=>le===F.length?(0,ue.of)(C):Qe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,vt.b)({next:()=>mn=!0,complete:()=>{mn||(this.restoreHistory(xt),this.cancelNavigationTransition(xt,"At least one route resolver didn't emit any value."))}}))}),(0,vt.b)(xt=>{const mn=new Ii(xt.id,this.serializeUrl(xt.extractedUrl),this.serializeUrl(xt.urlAfterRedirects),xt.targetSnapshot);this.triggerEvent(mn)}))}),ho(He=>{const{targetSnapshot:xt,id:mn,extractedUrl:si,rawUrl:Tn,extras:{skipLocationChange:ui,replaceUrl:yi}}=He;return this.hooks.afterPreactivation(xt,{navigationId:mn,appliedUrlTree:si,rawUrlTree:Tn,skipLocationChange:!!ui,replaceUrl:!!yi})}),(0,Ve.U)(He=>{const xt=function qi(O,D,C){const L=_i(O,D._root,C?C._root:void 0);return new Jr(L,D)}(this.routeReuseStrategy,He.targetSnapshot,He.currentRouterState);return Object.assign(Object.assign({},He),{targetRouterState:xt})}),(0,vt.b)(He=>{this.currentUrlTree=He.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(He.urlAfterRedirects,He.rawUrl),this.routerState=He.targetRouterState,"deferred"===this.urlUpdateStrategy&&(He.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,He),this.browserUrlTree=He.urlAfterRedirects)}),((O,D,C)=>(0,Ve.U)(L=>(new Ks(D,L.targetRouterState,L.currentRouterState,C).activate(O),L)))(this.rootContexts,this.routeReuseStrategy,He=>this.triggerEvent(He)),(0,vt.b)({next(){le=!0},complete(){le=!0}}),function et(O){return(0,Ne.e)((D,C)=>{try{D.subscribe(C)}finally{C.add(O)}})}(()=>{var He;le||Oe||this.cancelNavigationTransition(F,`Navigation ID ${F.id} is not equal to the current navigation id ${this.navigationId}`),(null===(He=this.currentNavigation)||void 0===He?void 0:He.id)===F.id&&(this.currentNavigation=null)}),pt(He=>{if(Oe=!0,function $e(O){return O&&O[It]}(He)){const xt=Rn(He.url);xt||(this.navigated=!0,this.restoreHistory(F,!0));const mn=new Xt(F.id,this.serializeUrl(F.extractedUrl),He.message);L.next(mn),xt?setTimeout(()=>{const si=this.urlHandlingStrategy.merge(He.url,this.rawUrlTree),Tn={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||po(F.source)};this.scheduleNavigation(si,"imperative",null,Tn,{resolve:F.resolve,reject:F.reject,promise:F.promise})},0):F.resolve(!1)}else{this.restoreHistory(F,!0);const xt=new hn(F.id,this.serializeUrl(F.extractedUrl),He);L.next(xt);try{F.resolve(this.errorHandler(He))}catch(mn){F.reject(mn)}}return Qe.E}))}))}resetRootComponentType(C){this.rootComponentType=C,this.routerState.root.component=this.rootComponentType}setTransition(C){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),C))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const L="popstate"===C.type?"popstate":"hashchange";"popstate"===L&&setTimeout(()=>{var F;const le={replaceUrl:!0},Oe=(null===(F=C.state)||void 0===F?void 0:F.navigationId)?C.state:null;if(Oe){const xt=Object.assign({},Oe);delete xt.navigationId,delete xt.\u0275routerPageId,0!==Object.keys(xt).length&&(le.state=xt)}const He=this.parseUrl(C.url);this.scheduleNavigation(He,L,Oe,le)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(C){this.events.next(C)}resetConfig(C){Tr(C),this.config=C.map(es),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(C,L={}){const{relativeTo:F,queryParams:le,fragment:Oe,queryParamsHandling:He,preserveFragment:xt}=L,mn=F||this.routerState.root,si=xt?this.currentUrlTree.fragment:Oe;let Tn=null;switch(He){case"merge":Tn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),le);break;case"preserve":Tn=this.currentUrlTree.queryParams;break;default:Tn=le||null}return null!==Tn&&(Tn=this.removeEmptyProps(Tn)),function sr(O,D,C,L,F){if(0===C.length)return Ws(D.root,D.root,D.root,L,F);const le=function ia(O){if("string"==typeof O[0]&&1===O.length&&"/"===O[0])return new Zs(!0,0,O);let D=0,C=!1;const L=O.reduce((F,le,Oe)=>{if("object"==typeof le&&null!=le){if(le.outlets){const He={};return We(le.outlets,(xt,mn)=>{He[mn]="string"==typeof xt?xt.split("/"):xt}),[...F,{outlets:He}]}if(le.segmentPath)return[...F,le.segmentPath]}return"string"!=typeof le?[...F,le]:0===Oe?(le.split("/").forEach((He,xt)=>{0==xt&&"."===He||(0==xt&&""===He?C=!0:".."===He?D++:""!=He&&F.push(He))}),F):[...F,le]},[]);return new Zs(C,D,L)}(C);if(le.toRoot())return Ws(D.root,D.root,new de([],{}),L,F);const Oe=function ao(O,D,C){if(O.isAbsolute)return new ds(D.root,!0,0);if(-1===C.snapshot._lastPathIndex){const le=C.snapshot._urlSegment;return new ds(le,le===D.root,0)}const L=ys(O.commands[0])?0:1;return function lo(O,D,C){let L=O,F=D,le=C;for(;le>F;){if(le-=F,L=L.parent,!L)throw new Error("Invalid number of '../'");F=L.segments.length}return new ds(L,!1,F-le)}(C.snapshot._urlSegment,C.snapshot._lastPathIndex+L,O.numberOfDoubleDots)}(le,D,O),He=Oe.processChildren?wr(Oe.segmentGroup,Oe.index,le.commands):Xr(Oe.segmentGroup,Oe.index,le.commands);return Ws(D.root,Oe.segmentGroup,He,L,F)}(mn,this.currentUrlTree,C,Tn,null!=si?si:null)}navigateByUrl(C,L={skipLocationChange:!1}){const F=Rn(C)?C:this.parseUrl(C),le=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(le,"imperative",null,L)}navigate(C,L={skipLocationChange:!1}){return function Go(O){for(let D=0;D<O.length;D++){const C=O[D];if(null==C)throw new Error(`The requested path contains ${C} segment at index ${D}`)}}(C),this.navigateByUrl(this.createUrlTree(C,L),L)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let L;try{L=this.urlSerializer.parse(C)}catch(F){L=this.malformedUriErrorHandler(F,this.urlSerializer,C)}return L}isActive(C,L){let F;if(F=!0===L?Object.assign({},Ja):!1===L?Object.assign({},nc):L,Rn(C))return _n(this.currentUrlTree,C,F);const le=this.parseUrl(C);return _n(this.currentUrlTree,le,F)}removeEmptyProps(C){return Object.keys(C).reduce((L,F)=>{const le=C[F];return null!=le&&(L[F]=le),L},{})}processNavigations(){this.navigations.subscribe(C=>{this.navigated=!0,this.lastSuccessfulId=C.id,this.currentPageId=C.targetPageId,this.events.next(new Gt(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,C.resolve(!0)},C=>{this.console.warn(`Unhandled Navigation Error: ${C}`)})}scheduleNavigation(C,L,F,le,Oe){var He,xt;if(this.disposed)return Promise.resolve(!1);let mn,si,Tn;Oe?(mn=Oe.resolve,si=Oe.reject,Tn=Oe.promise):Tn=new Promise((er,yo)=>{mn=er,si=yo});const ui=++this.navigationId;let yi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(F=this.location.getState()),yi=F&&F.\u0275routerPageId?F.\u0275routerPageId:le.replaceUrl||le.skipLocationChange?null!==(He=this.browserPageId)&&void 0!==He?He:0:(null!==(xt=this.browserPageId)&&void 0!==xt?xt:0)+1):yi=0,this.setTransition({id:ui,targetPageId:yi,source:L,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:C,extras:le,resolve:mn,reject:si,promise:Tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tn.catch(er=>Promise.reject(er))}setBrowserUrl(C,L){const F=this.urlSerializer.serialize(C),le=Object.assign(Object.assign({},L.extras.state),this.generateNgRouterState(L.id,L.targetPageId));this.location.isCurrentPathEqualTo(F)||L.extras.replaceUrl?this.location.replaceState(F,"",le):this.location.go(F,"",le)}restoreHistory(C,L=!1){var F,le;if("computed"===this.canceledNavigationResolution){const Oe=this.currentPageId-C.targetPageId;"popstate"!==C.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(F=this.currentNavigation)||void 0===F?void 0:F.finalUrl)||0===Oe?this.currentUrlTree===(null===(le=this.currentNavigation)||void 0===le?void 0:le.finalUrl)&&0===Oe&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Oe)}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(C,L){const F=new Xt(C.id,this.serializeUrl(C.extractedUrl),L);this.triggerEvent(F),C.resolve(!1)}generateNgRouterState(C,L){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:L}:{navigationId:C}}}return O.\u0275fac=function(C){g.$Z()},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac}),O})();function po(O){return"imperative"!==O}let go=(()=>{class O{constructor(C,L,F,le,Oe){this.router=C,this.route=L,this.tabIndexAttribute=F,this.renderer=le,this.el=Oe,this.commands=null,this.onChanges=new rt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(C){if(null!=this.tabIndexAttribute)return;const L=this.renderer,F=this.el.nativeElement;null!==C?L.setAttribute(F,"tabindex",C):L.removeAttribute(F,"tabindex")}ngOnChanges(C){this.onChanges.next(this)}set routerLink(C){null!=C?(this.commands=Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const C={skipLocationChange:Zt(this.skipLocationChange),replaceUrl:Zt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,C),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zt(this.preserveFragment)})}}return O.\u0275fac=function(C){return new(C||O)(g.Y36(Pi),g.Y36(Xi),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},O.\u0275dir=g.lG2({type:O,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(C,L){1&C&&g.NdJ("click",function(){return L.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),O})(),is=(()=>{class O{constructor(C,L,F){this.router=C,this.route=L,this.locationStrategy=F,this.commands=null,this.href=null,this.onChanges=new rt.x,this.subscription=C.events.subscribe(le=>{le instanceof Gt&&this.updateTargetUrlAndHref()})}set routerLink(C){this.commands=null!=C?Array.isArray(C)?C:[C]:null}ngOnChanges(C){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(C,L,F,le,Oe){if(0!==C||L||F||le||Oe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const He={skipLocationChange:Zt(this.skipLocationChange),replaceUrl:Zt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,He),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zt(this.preserveFragment)})}}return O.\u0275fac=function(C){return new(C||O)(g.Y36(Pi),g.Y36(Xi),g.Y36(Se.S$))},O.\u0275dir=g.lG2({type:O,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(C,L){1&C&&g.NdJ("click",function(le){return L.onClick(le.button,le.ctrlKey,le.shiftKey,le.altKey,le.metaKey)}),2&C&&g.uIk("target",L.target)("href",L.href,g.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),O})();function Zt(O){return""===O||!!O}let Wi=(()=>{class O{constructor(C,L,F,le,Oe,He){this.router=C,this.element=L,this.renderer=F,this.cdr=le,this.link=Oe,this.linkWithHref=He,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.vpe,this.routerEventsSubscription=C.events.subscribe(xt=>{xt instanceof Gt&&this.update()})}ngAfterContentInit(){(0,ue.of)(this.links.changes,this.linksWithHrefs.changes,(0,ue.of)(null)).pipe((0,q.J)()).subscribe(C=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var C;null===(C=this.linkInputChangesSubscription)||void 0===C||C.unsubscribe();const L=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,te.D)(L).pipe((0,q.J)()).subscribe(F=>{this.isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(C){const L=Array.isArray(C)?C:C.split(" ");this.classes=L.filter(F=>!!F)}ngOnChanges(C){this.update()}ngOnDestroy(){var C;this.routerEventsSubscription.unsubscribe(),null===(C=this.linkInputChangesSubscription)||void 0===C||C.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const C=this.hasActiveLinks();this.isActive!==C&&(this.isActive=C,this.cdr.markForCheck(),this.classes.forEach(L=>{C?this.renderer.addClass(this.element.nativeElement,L):this.renderer.removeClass(this.element.nativeElement,L)}),this.isActiveChange.emit(C))})}isLinkActive(C){const L=function Zi(O){return!!O.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return F=>!!F.urlTree&&C.isActive(F.urlTree,L)}hasActiveLinks(){const C=this.isLinkActive(this.router);return this.link&&C(this.link)||this.linkWithHref&&C(this.linkWithHref)||this.links.some(C)||this.linksWithHrefs.some(C)}}return O.\u0275fac=function(C){return new(C||O)(g.Y36(Pi),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(go,8),g.Y36(is,8))},O.\u0275dir=g.lG2({type:O,selectors:[["","routerLinkActive",""]],contentQueries:function(C,L,F){if(1&C&&(g.Suo(F,go,5),g.Suo(F,is,5)),2&C){let le;g.iGM(le=g.CRH())&&(L.links=le),g.iGM(le=g.CRH())&&(L.linksWithHrefs=le)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[g.TTD]}),O})();class Ns{}class Dn{preload(D,C){return(0,ue.of)(null)}}let zo=(()=>{class O{constructor(C,L,F,le){this.router=C,this.injector=F,this.preloadingStrategy=le,this.loader=new fo(F,L,xt=>C.triggerEvent(new ei(xt)),xt=>C.triggerEvent(new Ni(xt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,me.h)(C=>C instanceof Gt),(0,Nt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const C=this.injector.get(g.h0i);return this.processRoutes(C,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,L){const F=[];for(const le of L)if(le.loadChildren&&!le.canLoad&&le._loadedConfig){const Oe=le._loadedConfig;F.push(this.processRoutes(Oe.module,Oe.routes))}else le.loadChildren&&!le.canLoad?F.push(this.preloadConfig(C,le)):le.children&&F.push(this.processRoutes(C,le.children));return(0,te.D)(F).pipe((0,q.J)(),(0,Ve.U)(le=>{}))}preloadConfig(C,L){return this.preloadingStrategy.preload(L,()=>(L._loadedConfig?(0,ue.of)(L._loadedConfig):this.loader.load(C.injector,L)).pipe((0,gt.z)(le=>(L._loadedConfig=le,this.processRoutes(le.module,le.routes)))))}}return O.\u0275fac=function(C){return new(C||O)(g.LFG(Pi),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(Ns))},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac}),O})(),sn=(()=>{class O{constructor(C,L,F={}){this.router=C,this.viewportScroller=L,this.options=F,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},F.scrollPositionRestoration=F.scrollPositionRestoration||"disabled",F.anchorScrolling=F.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(C=>{C instanceof Mt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof Gt&&(this.lastId=C.id,this.scheduleScrollEvent(C,this.router.parseUrl(C.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(C=>{C instanceof Yn&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,L){this.router.triggerEvent(new Yn(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return O.\u0275fac=function(C){g.$Z()},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac}),O})();const Lt=new g.OlP("ROUTER_CONFIGURATION"),ar=new g.OlP("ROUTER_FORROOT_GUARD"),Nl=[Se.Ye,{provide:$,useClass:ee},{provide:Pi,useFactory:function Wo(O,D,C,L,F,le,Oe={},He,xt){const mn=new Pi(null,O,D,C,L,F,Re(le));return He&&(mn.urlHandlingStrategy=He),xt&&(mn.routeReuseStrategy=xt),function Zo(O,D){O.errorHandler&&(D.errorHandler=O.errorHandler),O.malformedUriErrorHandler&&(D.malformedUriErrorHandler=O.malformedUriErrorHandler),O.onSameUrlNavigation&&(D.onSameUrlNavigation=O.onSameUrlNavigation),O.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=O.paramsInheritanceStrategy),O.relativeLinkResolution&&(D.relativeLinkResolution=O.relativeLinkResolution),O.urlUpdateStrategy&&(D.urlUpdateStrategy=O.urlUpdateStrategy),O.canceledNavigationResolution&&(D.canceledNavigationResolution=O.canceledNavigationResolution)}(Oe,mn),Oe.enableTracing&&mn.events.subscribe(si=>{var Tn,ui;null===(Tn=console.group)||void 0===Tn||Tn.call(console,`Router Event: ${si.constructor.name}`),console.log(si.toString()),console.log(si),null===(ui=console.groupEnd)||void 0===ui||ui.call(console)}),mn},deps:[$,Br,Se.Ye,g.zs3,g.Sil,Pa,Lt,[class Su{},new g.FiY],[class la{},new g.FiY]]},Br,{provide:Xi,useFactory:function Ql(O){return O.routerState.root},deps:[Pi]},zo,Dn,class wn{preload(D,C){return C().pipe(pt(()=>(0,ue.of)(null)))}},{provide:Lt,useValue:{enableTracing:!1}}];function mo(){return new g.PXZ("Router",Pi)}let Xa=(()=>{class O{constructor(C,L){}static forRoot(C,L){return{ngModule:O,providers:[Nl,ka(C),{provide:ar,useFactory:Na,deps:[[Pi,new g.FiY,new g.tp0]]},{provide:Lt,useValue:L||{}},{provide:Se.S$,useFactory:kl,deps:[Se.lw,[new g.tBr(Se.mr),new g.FiY],Lt]},{provide:sn,useFactory:qr,deps:[Pi,Se.EM,Lt]},{provide:Ns,useExisting:L&&L.preloadingStrategy?L.preloadingStrategy:Dn},{provide:g.PXZ,multi:!0,useFactory:mo},[Ri,{provide:g.ip1,multi:!0,useFactory:Wn,deps:[Ri]},{provide:La,useFactory:fs,deps:[Ri]},{provide:g.tb,multi:!0,useExisting:La}]]}}static forChild(C){return{ngModule:O,providers:[ka(C)]}}}return O.\u0275fac=function(C){return new(C||O)(g.LFG(ar,8),g.LFG(Pi,8))},O.\u0275mod=g.oAB({type:O}),O.\u0275inj=g.cJS({}),O})();function qr(O,D,C){return C.scrollOffset&&D.setOffset(C.scrollOffset),new sn(O,D,C)}function kl(O,D,C={}){return C.useHash?new Se.Do(O,D):new Se.b0(O,D)}function Na(O){return"guarded"}function ka(O){return[{provide:g.deG,multi:!0,useValue:O},{provide:Pa,multi:!0,useValue:O}]}let Ri=(()=>{class O{constructor(C){this.injector=C,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new rt.x}appInitializer(){return this.injector.get(Se.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let L=null;const F=new Promise(He=>L=He),le=this.injector.get(Pi),Oe=this.injector.get(Lt);return"disabled"===Oe.initialNavigation?(le.setUpLocationChangeListener(),L(!0)):"enabled"===Oe.initialNavigation||"enabledBlocking"===Oe.initialNavigation?(le.hooks.afterPreactivation=()=>this.initNavigation?(0,ue.of)(null):(this.initNavigation=!0,L(!0),this.resultOfPreactivationDone),le.initialNavigation()):L(!0),F})}bootstrapListener(C){const L=this.injector.get(Lt),F=this.injector.get(zo),le=this.injector.get(sn),Oe=this.injector.get(Pi),He=this.injector.get(g.z2F);C===He.components[0]&&(("enabledNonBlocking"===L.initialNavigation||void 0===L.initialNavigation)&&Oe.initialNavigation(),F.setUpPreloading(),le.init(),Oe.resetRootComponentType(He.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return O.\u0275fac=function(C){return new(C||O)(g.LFG(g.zs3))},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac}),O})();function Wn(O){return O.appInitializer.bind(O)}function fs(O){return O.bootstrapListener.bind(O)}const La=new g.OlP("Router Initializer")},3942:(qt,Ze,x)=>{x.d(Ze,{Z:()=>ht});var g=x(2090),d=x(4859),W=x(9681),Te=x(1877);class _e{constructor(Qe,rt){this._delegate=Qe,this.firebase=rt,(0,W._addComponent)(Qe,new d.wA("app-compat",()=>this,"PUBLIC")),this.container=Qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this._delegate.automaticDataCollectionEnabled=Qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qe=>{this._delegate.checkDestroyed(),Qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Qe,rt=W._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(Qe);return!pt.isInitialized()&&"EXPLICIT"===(null===(Be=pt.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:rt})}_removeServiceInstance(Qe,rt=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qe).clearInstance(rt)}_addComponent(Qe){(0,W._addComponent)(this._delegate,Qe)}_addOrOverwriteComponent(Qe){(0,W._addOrOverwriteComponent)(this._delegate,Qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function J(){const ut=function ce(ut){const Qe={},rt={__esModule:!0,initializeApp:function me(Y,qe={}){const et=W.initializeApp(Y,qe);if((0,g.r3)(Qe,et.name))return Qe[et.name];const Ve=new ut(et,rt);return Qe[et.name]=Ve,Ve},app:pt,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Xe(Y){const qe=Y.name,et=qe.replace("-compat","");if(W._registerComponent(Y)&&"PUBLIC"===Y.type){const Ve=(Ge=pt())=>{if("function"!=typeof Ge[et])throw Ce.create("invalid-app-argument",{appName:qe});return Ge[et]()};void 0!==Y.serviceProps&&(0,g.ZB)(Ve,Y.serviceProps),rt[et]=Ve,ut.prototype[et]=function(...Ge){return this._getService.bind(this,qe).apply(this,Y.multipleInstances?Ge:[])}}return"PUBLIC"===Y.type?rt[et]:null},removeApp:function Be(Y){delete Qe[Y]},useAsService:function Tt(Y,qe){return"serverAuth"===qe?null:qe},modularAPIs:W}};function pt(Y){if(!(0,g.r3)(Qe,Y=Y||W._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:Y});return Qe[Y]}return rt.default=rt,Object.defineProperty(rt,"apps",{get:function we(){return Object.keys(Qe).map(Y=>Qe[Y])}}),pt.App=ut,rt}(_e);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function Qe(rt){(0,g.ZB)(ut,rt)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),ut}(),ue=new Te.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ht=te;!function nt(ut){(0,W.registerVersion)("@firebase/app-compat","0.1.39",ut)}()},9681:(qt,Ze,x)=>{x.r(Ze),x.d(Ze,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>ei,_DEFAULT_ENTRY_NAME:()=>vt,_addComponent:()=>Mt,_addOrOverwriteComponent:()=>Gt,_apps:()=>Se,_clearComponents:()=>zn,_components:()=>Ke,_getProvider:()=>hn,_registerComponent:()=>Xt,_removeServiceInstance:()=>In,deleteApp:()=>un,getApp:()=>qn,getApps:()=>Fi,initializeApp:()=>Ni,onLog:()=>Jt,registerVersion:()=>Yn,setLogLevel:()=>Mi});var g=x(5861),d=x(4859),W=x(1877),Te=x(2090),_e=x(8766);class Ne{constructor(he){this.container=he}getPlatformInfoString(){return this.container.getProviders().map(be=>{if(function Ce(z){const he=z.getComponent();return"VERSION"===(null==he?void 0:he.type)}(be)){const Ue=be.getImmediate();return`${Ue.library}/${Ue.version}`}return null}).filter(be=>be).join(" ")}}const ce="@firebase/app",J="0.8.4",te=new W.Yd("@firebase/app"),vt="[DEFAULT]",q={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Se=new Map,Ke=new Map;function Mt(z,he){try{z.container.addComponent(he)}catch(be){te.debug(`Component ${he.name} failed to register with FirebaseApp ${z.name}`,be)}}function Gt(z,he){z.container.addOrOverwriteComponent(he)}function Xt(z){const he=z.name;if(Ke.has(he))return te.debug(`There were multiple attempts to register component ${he}.`),!1;Ke.set(he,z);for(const be of Se.values())Mt(be,z);return!0}function hn(z,he){const be=z.container.getProvider("heartbeat").getImmediate({optional:!0});return be&&be.triggerHeartbeat(),z.container.getProvider(he)}function In(z,he,be=vt){hn(z,he).clearInstance(be)}function zn(){Ke.clear()}const Kn=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ii{constructor(he,be,Ue){this._isDeleted=!1,this._options=Object.assign({},he),this._config=Object.assign({},be),this._name=be.name,this._automaticDataCollectionEnabled=be.automaticDataCollectionEnabled,this._container=Ue,this.container.addComponent(new d.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this.checkDestroyed(),this._automaticDataCollectionEnabled=he}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(he){this._isDeleted=he}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}const ei="9.14.0";function Ni(z,he={}){let be=z;"object"!=typeof he&&(he={name:he});const Ue=Object.assign({name:vt,automaticDataCollectionEnabled:!1},he),mt=Ue.name;if("string"!=typeof mt||!mt)throw Kn.create("bad-app-name",{appName:String(mt)});if(be||(be=(0,Te.aH)()),!be)throw Kn.create("no-options");const St=Se.get(mt);if(St){if((0,Te.vZ)(be,St.options)&&(0,Te.vZ)(Ue,St.config))return St;throw Kn.create("duplicate-app",{appName:mt})}const de=new d.H0(mt);for(const Me of Ke.values())de.addComponent(Me);const fe=new Ii(be,Ue,de);return Se.set(mt,fe),fe}function qn(z=vt){const he=Se.get(z);if(!he&&z===vt)return Ni();if(!he)throw Kn.create("no-app",{appName:z});return he}function Fi(){return Array.from(Se.values())}function un(z){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,g.Z)(function*(z){const he=z.name;Se.has(he)&&(Se.delete(he),yield Promise.all(z.container.getProviders().map(be=>be.delete())),z.isDeleted=!0)})).apply(this,arguments)}function Yn(z,he,be){var Ue;let mt=null!==(Ue=q[z])&&void 0!==Ue?Ue:z;be&&(mt+=`-${be}`);const St=mt.match(/\s|\//),de=he.match(/\s|\//);if(St||de){const fe=[`Unable to register library "${mt}" with version "${he}":`];return St&&fe.push(`library name "${mt}" contains illegal characters (whitespace or "/")`),St&&de&&fe.push("and"),de&&fe.push(`version name "${he}" contains illegal characters (whitespace or "/")`),void te.warn(fe.join(" "))}Xt(new d.wA(`${mt}-version`,()=>({library:mt,version:he}),"VERSION"))}function Jt(z,he){if(null!==z&&"function"!=typeof z)throw Kn.create("invalid-log-argument");(0,W.Am)(z,he)}function Mi(z){(0,W.Ub)(z)}const Le="firebase-heartbeat-store";let $e=null;function Ft(){return $e||($e=(0,_e.X3)("firebase-heartbeat-database",1,{upgrade:(z,he)=>{0===he&&z.createObjectStore(Le)}}).catch(z=>{throw Kn.create("idb-open",{originalErrorMessage:z.message})})),$e}function Vt(){return(Vt=(0,g.Z)(function*(z){var he;try{return(yield Ft()).transaction(Le).objectStore(Le).get(xe(z))}catch(be){if(be instanceof Te.ZR)te.warn(be.message);else{const Ue=Kn.create("idb-get",{originalErrorMessage:null===(he=be)||void 0===he?void 0:he.message});te.warn(Ue.message)}}})).apply(this,arguments)}function zt(z,he){return Re.apply(this,arguments)}function Re(){return(Re=(0,g.Z)(function*(z,he){var be;try{const mt=(yield Ft()).transaction(Le,"readwrite");return yield mt.objectStore(Le).put(he,xe(z)),mt.done}catch(Ue){if(Ue instanceof Te.ZR)te.warn(Ue.message);else{const mt=Kn.create("idb-set",{originalErrorMessage:null===(be=Ue)||void 0===be?void 0:be.message});te.warn(mt.message)}}})).apply(this,arguments)}function xe(z){return`${z.name}!${z.options.appId}`}class _t{constructor(he){this.container=he,this._heartbeatsCache=null;const be=this.container.getProvider("app").getImmediate();this._storage=new pn(be),this._heartbeatsCachePromise=this._storage.read().then(Ue=>(this._heartbeatsCache=Ue,Ue))}triggerHeartbeat(){var he=this;return(0,g.Z)(function*(){const Ue=he.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=Dt();if(null===he._heartbeatsCache&&(he._heartbeatsCache=yield he._heartbeatsCachePromise),he._heartbeatsCache.lastSentHeartbeatDate!==mt&&!he._heartbeatsCache.heartbeats.some(St=>St.date===mt))return he._heartbeatsCache.heartbeats.push({date:mt,agent:Ue}),he._heartbeatsCache.heartbeats=he._heartbeatsCache.heartbeats.filter(St=>{const de=new Date(St.date).valueOf();return Date.now()-de<=2592e6}),he._storage.overwrite(he._heartbeatsCache)})()}getHeartbeatsHeader(){var he=this;return(0,g.Z)(function*(){if(null===he._heartbeatsCache&&(yield he._heartbeatsCachePromise),null===he._heartbeatsCache||0===he._heartbeatsCache.heartbeats.length)return"";const be=Dt(),{heartbeatsToSend:Ue,unsentEntries:mt}=function wt(z,he=1024){const be=[];let Ue=z.slice();for(const mt of z){const St=be.find(de=>de.agent===mt.agent);if(St){if(St.dates.push(mt.date),_n(be)>he){St.dates.pop();break}}else if(be.push({agent:mt.agent,dates:[mt.date]}),_n(be)>he){be.pop();break}Ue=Ue.slice(1)}return{heartbeatsToSend:be,unsentEntries:Ue}}(he._heartbeatsCache.heartbeats),St=(0,Te.L)(JSON.stringify({version:2,heartbeats:Ue}));return he._heartbeatsCache.lastSentHeartbeatDate=be,mt.length>0?(he._heartbeatsCache.heartbeats=mt,yield he._storage.overwrite(he._heartbeatsCache)):(he._heartbeatsCache.heartbeats=[],he._storage.overwrite(he._heartbeatsCache)),St})()}}function Dt(){return(new Date).toISOString().substring(0,10)}class pn{constructor(he){this.app=he,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var he=this;return(0,g.Z)(function*(){return(yield he._canUseIndexedDBPromise)&&(yield function Ct(z){return Vt.apply(this,arguments)}(he.app))||{heartbeats:[]}})()}overwrite(he){var be=this;return(0,g.Z)(function*(){var Ue;if(yield be._canUseIndexedDBPromise){const St=yield be.read();return zt(be.app,{lastSentHeartbeatDate:null!==(Ue=he.lastSentHeartbeatDate)&&void 0!==Ue?Ue:St.lastSentHeartbeatDate,heartbeats:he.heartbeats})}})()}add(he){var be=this;return(0,g.Z)(function*(){var Ue;if(yield be._canUseIndexedDBPromise){const St=yield be.read();return zt(be.app,{lastSentHeartbeatDate:null!==(Ue=he.lastSentHeartbeatDate)&&void 0!==Ue?Ue:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...he.heartbeats]})}})()}}function _n(z){return(0,Te.L)(JSON.stringify({version:2,heartbeats:z})).length}!function ln(z){Xt(new d.wA("platform-logger",he=>new Ne(he),"PRIVATE")),Xt(new d.wA("heartbeat",he=>new _t(he),"PRIVATE")),Yn(ce,J,z),Yn(ce,J,"esm2017"),Yn("fire-js","")}("")},4859:(qt,Ze,x)=>{x.d(Ze,{H0:()=>ce,wA:()=>W});var g=x(5861),d=x(2090);class W{constructor(te,ue,ke){this.name=te,this.instanceFactory=ue,this.type=ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const Te="[DEFAULT]";class _e{constructor(te,ue){this.name=te,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ue=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ue)){const ke=new d.BH;if(this.instancesDeferred.set(ue,ke),this.isInitialized(ue)||this.shouldAutoInitialize())try{const lt=this.getOrInitializeService({instanceIdentifier:ue});lt&&ke.resolve(lt)}catch(lt){}}return this.instancesDeferred.get(ue).promise}getImmediate(te){var ue;const ke=this.normalizeInstanceIdentifier(null==te?void 0:te.identifier),lt=null!==(ue=null==te?void 0:te.optional)&&void 0!==ue&&ue;if(!this.isInitialized(ke)&&!this.shouldAutoInitialize()){if(lt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ke})}catch(nt){if(lt)return null;throw nt}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Ce(J){return"EAGER"===J.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:Te})}catch(ue){}for(const[ue,ke]of this.instancesDeferred.entries()){const lt=this.normalizeInstanceIdentifier(ue);try{const nt=this.getOrInitializeService({instanceIdentifier:lt});ke.resolve(nt)}catch(nt){}}}}clearInstance(te=Te){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,g.Z)(function*(){const ue=Array.from(te.instances.values());yield Promise.all([...ue.filter(ke=>"INTERNAL"in ke).map(ke=>ke.INTERNAL.delete()),...ue.filter(ke=>"_delete"in ke).map(ke=>ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=Te){return this.instances.has(te)}getOptions(te=Te){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ue={}}=te,ke=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(ke))throw Error(`${this.name}(${ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const lt=this.getOrInitializeService({instanceIdentifier:ke,options:ue});for(const[nt,ht]of this.instancesDeferred.entries())ke===this.normalizeInstanceIdentifier(nt)&&ht.resolve(lt);return lt}onInit(te,ue){var ke;const lt=this.normalizeInstanceIdentifier(ue),nt=null!==(ke=this.onInitCallbacks.get(lt))&&void 0!==ke?ke:new Set;nt.add(te),this.onInitCallbacks.set(lt,nt);const ht=this.instances.get(lt);return ht&&te(ht,lt),()=>{nt.delete(te)}}invokeOnInitCallbacks(te,ue){const ke=this.onInitCallbacks.get(ue);if(ke)for(const lt of ke)try{lt(te,ue)}catch(nt){}}getOrInitializeService({instanceIdentifier:te,options:ue={}}){let ke=this.instances.get(te);if(!ke&&this.component&&(ke=this.component.instanceFactory(this.container,{instanceIdentifier:(J=te,J===Te?void 0:J),options:ue}),this.instances.set(te,ke),this.instancesOptions.set(te,ue),this.invokeOnInitCallbacks(ke,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,ke)}catch(lt){}var J;return ke||null}normalizeInstanceIdentifier(te=Te){return this.component?this.component.multipleInstances?te:Te:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ue=this.getProvider(te.name);if(ue.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ue.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ue=new _e(te,this);return this.providers.set(te,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(qt,Ze,x)=>{x.d(Ze,{Am:()=>J,Ub:()=>ce,Yd:()=>Ce,in:()=>d});const g=[];var d=(()=>{return(te=d||(d={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",d;var te})();const W={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},Te=d.INFO,_e={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},Ne=(te,ue,...ke)=>{if(ue<te.logLevel)return;const lt=(new Date).toISOString(),nt=_e[ue];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[nt](`[${lt}]  ${te.name}:`,...ke)};class Ce{constructor(ue){this.name=ue,this._logLevel=Te,this._logHandler=Ne,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in d))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?W[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...ue),this._logHandler(this,d.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...ue),this._logHandler(this,d.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,d.INFO,...ue),this._logHandler(this,d.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,d.WARN,...ue),this._logHandler(this,d.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...ue),this._logHandler(this,d.ERROR,...ue)}}function ce(te){g.forEach(ue=>{ue.setLogLevel(te)})}function J(te,ue){for(const ke of g){let lt=null;ue&&ue.level&&(lt=W[ue.level]),ke.userLogHandler=null===te?null:(nt,ht,...ut)=>{const Qe=ut.map(rt=>{if(null==rt)return null;if("string"==typeof rt)return rt;if("number"==typeof rt||"boolean"==typeof rt)return rt.toString();if(rt instanceof Error)return rt.message;try{return JSON.stringify(rt)}catch(Be){return null}}).filter(rt=>rt).join(" ");ht>=(null!=lt?lt:nt.logLevel)&&te({level:d[ht].toLowerCase(),message:Qe,args:ut,type:nt.name})}}}},8995:(qt,Ze,x)=>{x.d(Ze,{Zw:()=>nt,aw:()=>on,X$:()=>Nt,sK:()=>ot});var g=x(5e3),d=x(8306),W=x(576);function Te(gt){return!!gt&&(gt instanceof d.y||(0,W.m)(gt.lift)&&(0,W.m)(gt.subscribe))}var _e=x(9646),Ne=x(4128),Ce=x(7272),ce=x(9770),J=x(5698),te=x(3151),ue=x(4004),ke=x(4351),lt=x(3900);class nt{}let ht=(()=>{class gt extends nt{getTranslation(q){return(0,_e.of)({})}}return gt.\u0275fac=function(){let vt;return function(Se){return(vt||(vt=g.n5z(gt)))(Se||gt)}}(),gt.\u0275prov=g.Yz7({token:gt,factory:gt.\u0275fac}),gt})();class ut{}let Qe=(()=>{class gt{handle(q){return q.key}}return gt.\u0275fac=function(q){return new(q||gt)},gt.\u0275prov=g.Yz7({token:gt,factory:gt.\u0275fac}),gt})();function rt(gt,vt){if(gt===vt)return!0;if(null===gt||null===vt)return!1;if(gt!=gt&&vt!=vt)return!0;let Ke,Mt,Gt,q=typeof gt;if(q==typeof vt&&"object"==q){if(!Array.isArray(gt)){if(Array.isArray(vt))return!1;for(Mt in Gt=Object.create(null),gt){if(!rt(gt[Mt],vt[Mt]))return!1;Gt[Mt]=!0}for(Mt in vt)if(!(Mt in Gt)&&void 0!==vt[Mt])return!1;return!0}if(!Array.isArray(vt))return!1;if((Ke=gt.length)==vt.length){for(Mt=0;Mt<Ke;Mt++)if(!rt(gt[Mt],vt[Mt]))return!1;return!0}}return!1}function Be(gt){return null!=gt}function pt(gt){return gt&&"object"==typeof gt&&!Array.isArray(gt)}function me(gt,vt){let q=Object.assign({},gt);return pt(gt)&&pt(vt)&&Object.keys(vt).forEach(Se=>{pt(vt[Se])?Se in gt?q[Se]=me(gt[Se],vt[Se]):Object.assign(q,{[Se]:vt[Se]}):Object.assign(q,{[Se]:vt[Se]})}),q}class we{}let Xe=(()=>{class gt extends we{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(q,Se){let Ke;return Ke="string"==typeof q?this.interpolateString(q,Se):"function"==typeof q?this.interpolateFunction(q,Se):q,Ke}getValue(q,Se){let Ke="string"==typeof Se?Se.split("."):[Se];Se="";do{Se+=Ke.shift(),!Be(q)||!Be(q[Se])||"object"!=typeof q[Se]&&Ke.length?Ke.length?Se+=".":q=void 0:(q=q[Se],Se="")}while(Ke.length);return q}interpolateFunction(q,Se){return q(Se)}interpolateString(q,Se){return Se?q.replace(this.templateMatcher,(Ke,Mt)=>{let Gt=this.getValue(Se,Mt);return Be(Gt)?Gt:Ke}):q}}return gt.\u0275fac=function(){let vt;return function(Se){return(vt||(vt=g.n5z(gt)))(Se||gt)}}(),gt.\u0275prov=g.Yz7({token:gt,factory:gt.\u0275fac}),gt})();class Tt{}let Y=(()=>{class gt extends Tt{compile(q,Se){return q}compileTranslations(q,Se){return q}}return gt.\u0275fac=function(){let vt;return function(Se){return(vt||(vt=g.n5z(gt)))(Se||gt)}}(),gt.\u0275prov=g.Yz7({token:gt,factory:gt.\u0275fac}),gt})();class qe{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new g.vpe,this.onLangChange=new g.vpe,this.onDefaultLangChange=new g.vpe}}const et=new g.OlP("USE_STORE"),Ve=new g.OlP("USE_DEFAULT_LANG"),Ge=new g.OlP("DEFAULT_LANGUAGE"),Je=new g.OlP("USE_EXTEND");let ot=(()=>{class gt{constructor(q,Se,Ke,Mt,Gt,Xt=!0,hn=!1,In=!1,zn){this.store=q,this.currentLoader=Se,this.compiler=Ke,this.parser=Mt,this.missingTranslationHandler=Gt,this.useDefaultLang=Xt,this.isolate=hn,this.extend=In,this.pending=!1,this._onTranslationChange=new g.vpe,this._onLangChange=new g.vpe,this._onDefaultLangChange=new g.vpe,this._langs=[],this._translations={},this._translationRequests={},zn&&this.setDefaultLang(zn)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(q){this.isolate?this._defaultLang=q:this.store.defaultLang=q}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(q){this.isolate?this._currentLang=q:this.store.currentLang=q}get langs(){return this.isolate?this._langs:this.store.langs}set langs(q){this.isolate?this._langs=q:this.store.langs=q}get translations(){return this.isolate?this._translations:this.store.translations}set translations(q){this.isolate?this._translations=q:this.store.translations=q}setDefaultLang(q){if(q===this.defaultLang)return;let Se=this.retrieveTranslations(q);void 0!==Se?(null==this.defaultLang&&(this.defaultLang=q),Se.pipe((0,J.q)(1)).subscribe(Ke=>{this.changeDefaultLang(q)})):this.changeDefaultLang(q)}getDefaultLang(){return this.defaultLang}use(q){if(q===this.currentLang)return(0,_e.of)(this.translations[q]);let Se=this.retrieveTranslations(q);return void 0!==Se?(this.currentLang||(this.currentLang=q),Se.pipe((0,J.q)(1)).subscribe(Ke=>{this.changeLang(q)}),Se):(this.changeLang(q),(0,_e.of)(this.translations[q]))}retrieveTranslations(q){let Se;return(void 0===this.translations[q]||this.extend)&&(this._translationRequests[q]=this._translationRequests[q]||this.getTranslation(q),Se=this._translationRequests[q]),Se}getTranslation(q){this.pending=!0;const Se=this.currentLoader.getTranslation(q).pipe((0,te.d)(1),(0,J.q)(1));return this.loadingTranslations=Se.pipe((0,ue.U)(Ke=>this.compiler.compileTranslations(Ke,q)),(0,te.d)(1),(0,J.q)(1)),this.loadingTranslations.subscribe({next:Ke=>{this.translations[q]=this.extend&&this.translations[q]?Object.assign(Object.assign({},Ke),this.translations[q]):Ke,this.updateLangs(),this.pending=!1},error:Ke=>{this.pending=!1}}),Se}setTranslation(q,Se,Ke=!1){Se=this.compiler.compileTranslations(Se,q),this.translations[q]=(Ke||this.extend)&&this.translations[q]?me(this.translations[q],Se):Se,this.updateLangs(),this.onTranslationChange.emit({lang:q,translations:this.translations[q]})}getLangs(){return this.langs}addLangs(q){q.forEach(Se=>{-1===this.langs.indexOf(Se)&&this.langs.push(Se)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(q,Se,Ke){let Mt;if(Se instanceof Array){let Gt={},Xt=!1;for(let hn of Se)Gt[hn]=this.getParsedResult(q,hn,Ke),Te(Gt[hn])&&(Xt=!0);if(Xt){const hn=Se.map(In=>Te(Gt[In])?Gt[In]:(0,_e.of)(Gt[In]));return(0,Ne.D)(hn).pipe((0,ue.U)(In=>{let zn={};return In.forEach((di,Kn)=>{zn[Se[Kn]]=di}),zn}))}return Gt}if(q&&(Mt=this.parser.interpolate(this.parser.getValue(q,Se),Ke)),void 0===Mt&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Mt=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],Se),Ke)),void 0===Mt){let Gt={key:Se,translateService:this};void 0!==Ke&&(Gt.interpolateParams=Ke),Mt=this.missingTranslationHandler.handle(Gt)}return void 0!==Mt?Mt:Se}get(q,Se){if(!Be(q)||!q.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,ke.b)(Ke=>Te(Ke=this.getParsedResult(Ke,q,Se))?Ke:(0,_e.of)(Ke)));{let Ke=this.getParsedResult(this.translations[this.currentLang],q,Se);return Te(Ke)?Ke:(0,_e.of)(Ke)}}getStreamOnTranslationChange(q,Se){if(!Be(q)||!q.length)throw new Error('Parameter "key" required');return(0,Ce.z)((0,ce.P)(()=>this.get(q,Se)),this.onTranslationChange.pipe((0,lt.w)(Ke=>{const Mt=this.getParsedResult(Ke.translations,q,Se);return"function"==typeof Mt.subscribe?Mt:(0,_e.of)(Mt)})))}stream(q,Se){if(!Be(q)||!q.length)throw new Error('Parameter "key" required');return(0,Ce.z)((0,ce.P)(()=>this.get(q,Se)),this.onLangChange.pipe((0,lt.w)(Ke=>{const Mt=this.getParsedResult(Ke.translations,q,Se);return Te(Mt)?Mt:(0,_e.of)(Mt)})))}instant(q,Se){if(!Be(q)||!q.length)throw new Error('Parameter "key" required');let Ke=this.getParsedResult(this.translations[this.currentLang],q,Se);if(Te(Ke)){if(q instanceof Array){let Mt={};return q.forEach((Gt,Xt)=>{Mt[q[Xt]]=q[Xt]}),Mt}return q}return Ke}set(q,Se,Ke=this.currentLang){this.translations[Ke][q]=this.compiler.compile(Se,Ke),this.updateLangs(),this.onTranslationChange.emit({lang:Ke,translations:this.translations[Ke]})}changeLang(q){this.currentLang=q,this.onLangChange.emit({lang:q,translations:this.translations[q]}),null==this.defaultLang&&this.changeDefaultLang(q)}changeDefaultLang(q){this.defaultLang=q,this.onDefaultLangChange.emit({lang:q,translations:this.translations[q]})}reloadLang(q){return this.resetLang(q),this.getTranslation(q)}resetLang(q){this._translationRequests[q]=void 0,this.translations[q]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let q=window.navigator.languages?window.navigator.languages[0]:null;return q=q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==q?(-1!==q.indexOf("-")&&(q=q.split("-")[0]),-1!==q.indexOf("_")&&(q=q.split("_")[0]),q):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let q=window.navigator.languages?window.navigator.languages[0]:null;return q=q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,q}}return gt.\u0275fac=function(q){return new(q||gt)(g.LFG(qe),g.LFG(nt),g.LFG(Tt),g.LFG(we),g.LFG(ut),g.LFG(Ve),g.LFG(et),g.LFG(Je),g.LFG(Ge))},gt.\u0275prov=g.Yz7({token:gt,factory:gt.\u0275fac}),gt})(),Nt=(()=>{class gt{constructor(q,Se){this.translate=q,this._ref=Se,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(q,Se,Ke){let Mt=Gt=>{this.value=void 0!==Gt?Gt:q,this.lastKey=q,this._ref.markForCheck()};if(Ke){let Gt=this.translate.getParsedResult(Ke,q,Se);Te(Gt.subscribe)?Gt.subscribe(Mt):Mt(Gt)}this.translate.get(q,Se).subscribe(Mt)}transform(q,...Se){if(!q||!q.length)return q;if(rt(q,this.lastKey)&&rt(Se,this.lastParams))return this.value;let Ke;if(Be(Se[0])&&Se.length)if("string"==typeof Se[0]&&Se[0].length){let Mt=Se[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{Ke=JSON.parse(Mt)}catch(Gt){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${Se[0]}`)}}else"object"==typeof Se[0]&&!Array.isArray(Se[0])&&(Ke=Se[0]);return this.lastKey=q,this.lastParams=Se,this.updateValue(q,Ke),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Mt=>{this.lastKey&&Mt.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(q,Ke,Mt.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Mt=>{this.lastKey&&(this.lastKey=null,this.updateValue(q,Ke,Mt.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(q,Ke))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return gt.\u0275fac=function(q){return new(q||gt)(g.Y36(ot,16),g.Y36(g.sBO,16))},gt.\u0275pipe=g.Yjl({name:"translate",type:gt,pure:!1}),gt.\u0275prov=g.Yz7({token:gt,factory:gt.\u0275fac}),gt})(),on=(()=>{class gt{static forRoot(q={}){return{ngModule:gt,providers:[q.loader||{provide:nt,useClass:ht},q.compiler||{provide:Tt,useClass:Y},q.parser||{provide:we,useClass:Xe},q.missingTranslationHandler||{provide:ut,useClass:Qe},qe,{provide:et,useValue:q.isolate},{provide:Ve,useValue:q.useDefaultLang},{provide:Je,useValue:q.extend},{provide:Ge,useValue:q.defaultLanguage},ot]}}static forChild(q={}){return{ngModule:gt,providers:[q.loader||{provide:nt,useClass:ht},q.compiler||{provide:Tt,useClass:Y},q.parser||{provide:we,useClass:Xe},q.missingTranslationHandler||{provide:ut,useClass:Qe},{provide:et,useValue:q.isolate},{provide:Ve,useValue:q.useDefaultLang},{provide:Je,useValue:q.extend},{provide:Ge,useValue:q.defaultLanguage},ot]}}}return gt.\u0275fac=function(q){return new(q||gt)},gt.\u0275mod=g.oAB({type:gt}),gt.\u0275inj=g.cJS({}),gt})()},40:(qt,Ze,x)=>{x.d(Ze,{w:()=>g});class g{constructor(W,Te="/assets/i18n/",_e=".json"){this.http=W,this.prefix=Te,this.suffix=_e}getTranslation(W){return this.http.get(`${this.prefix}${W}${this.suffix}`)}}},8766:(qt,Ze,x)=>{x.d(Ze,{Lj:()=>me,X3:()=>pt});var g=x(5861);let W,Te;const Ce=new WeakMap,ce=new WeakMap,J=new WeakMap,te=new WeakMap,ue=new WeakMap;let nt={get(qe,et,Ve){if(qe instanceof IDBTransaction){if("done"===et)return ce.get(qe);if("objectStoreNames"===et)return qe.objectStoreNames||J.get(qe);if("store"===et)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return rt(qe[et])},set:(qe,et,Ve)=>(qe[et]=Ve,!0),has:(qe,et)=>qe instanceof IDBTransaction&&("done"===et||"store"===et)||et in qe};function Qe(qe){return"function"==typeof qe?function ut(qe){return qe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(qe)?function(...et){return qe.apply(Be(this),et),rt(Ce.get(this))}:function(...et){return rt(qe.apply(Be(this),et))}:function(et,...Ve){const Ge=qe.call(Be(this),et,...Ve);return J.set(Ge,et.sort?et.sort():[et]),rt(Ge)}}(qe):(qe instanceof IDBTransaction&&function lt(qe){if(ce.has(qe))return;const et=new Promise((Ve,Ge)=>{const Je=()=>{qe.removeEventListener("complete",ot),qe.removeEventListener("error",it),qe.removeEventListener("abort",it)},ot=()=>{Ve(),Je()},it=()=>{Ge(qe.error||new DOMException("AbortError","AbortError")),Je()};qe.addEventListener("complete",ot),qe.addEventListener("error",it),qe.addEventListener("abort",it)});ce.set(qe,et)}(qe),((qe,et)=>et.some(Ve=>qe instanceof Ve))(qe,function _e(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(qe,nt):qe)}function rt(qe){if(qe instanceof IDBRequest)return function ke(qe){const et=new Promise((Ve,Ge)=>{const Je=()=>{qe.removeEventListener("success",ot),qe.removeEventListener("error",it)},ot=()=>{Ve(rt(qe.result)),Je()},it=()=>{Ge(qe.error),Je()};qe.addEventListener("success",ot),qe.addEventListener("error",it)});return et.then(Ve=>{Ve instanceof IDBCursor&&Ce.set(Ve,qe)}).catch(()=>{}),ue.set(et,qe),et}(qe);if(te.has(qe))return te.get(qe);const et=Qe(qe);return et!==qe&&(te.set(qe,et),ue.set(et,qe)),et}const Be=qe=>ue.get(qe);function pt(qe,et,{blocked:Ve,upgrade:Ge,blocking:Je,terminated:ot}={}){const it=indexedDB.open(qe,et),Nt=rt(it);return Ge&&it.addEventListener("upgradeneeded",on=>{Ge(rt(it.result),on.oldVersion,on.newVersion,rt(it.transaction))}),Ve&&it.addEventListener("blocked",()=>Ve()),Nt.then(on=>{ot&&on.addEventListener("close",()=>ot()),Je&&on.addEventListener("versionchange",()=>Je())}).catch(()=>{}),Nt}function me(qe,{blocked:et}={}){const Ve=indexedDB.deleteDatabase(qe);return et&&Ve.addEventListener("blocked",()=>et()),rt(Ve).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],Tt=new Map;function Y(qe,et){if(!(qe instanceof IDBDatabase)||et in qe||"string"!=typeof et)return;if(Tt.get(et))return Tt.get(et);const Ve=et.replace(/FromIndex$/,""),Ge=et!==Ve,Je=Xe.includes(Ve);if(!(Ve in(Ge?IDBIndex:IDBObjectStore).prototype)||!Je&&!we.includes(Ve))return;const ot=function(){var it=(0,g.Z)(function*(Nt,...on){const gt=this.transaction(Nt,Je?"readwrite":"readonly");let vt=gt.store;return Ge&&(vt=vt.index(on.shift())),(yield Promise.all([vt[Ve](...on),Je&&gt.done]))[0]});return function(on){return it.apply(this,arguments)}}();return Tt.set(et,ot),ot}!function ht(qe){nt=qe(nt)}(qe=>ob(sb({},qe),{get:(et,Ve,Ge)=>Y(et,Ve)||qe.get(et,Ve,Ge),has:(et,Ve)=>!!Y(et,Ve)||qe.has(et,Ve)}))},5351:(qt,Ze,x)=>{x.d(Ze,{Zf:()=>ut,fx:()=>rt,U_:()=>Qe});var g=x(5e3),d=x(7691),W=x(9808),Te=x(1777);const _e="400ms cubic-bezier(0.4,0.0,0.2,1)",Ne=[(0,Te.oB)({height:0,visibility:"hidden"}),(0,Te.jt)(_e,(0,Te.oB)({height:"*",visibility:"visible"}))],Ce=[(0,Te.oB)({height:"*",visibility:"visible"}),(0,Te.jt)(_e,(0,Te.oB)({height:0,visibility:"hidden"}))];let ce=(()=>{class Be{constructor(me,we,Xe){this._el=me,this._renderer=we,this.collapsed=new g.vpe,this.collapses=new g.vpe,this.expanded=new g.vpe,this.expands=new g.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=Xe.build(Ce),this._factoryExpandAnimation=Xe.build(Ne)}set display(me){this._display=me,"none"!==me?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(me){this.collapseNewValue=me,(!this._player||this._isAnimationDone)&&(this.isExpanded=me,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(me,we){if(!me||!this._stylesLoaded)return Tt=>Tt();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const Xe=we===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.destroy(),this._player=Xe.create(this._el.nativeElement),this._player.play(),Tt=>{var Y;return null===(Y=this._player)||void 0===Y?void 0:Y.onDone(Tt)}}}return Be.\u0275fac=function(me){return new(me||Be)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Te._j))},Be.\u0275dir=g.lG2({type:Be,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(me,we){2&me&&(g.uIk("aria-hidden",we.isCollapsed),g.ekj("collapse",we.isCollapse)("in",we.isExpanded)("show",we.isExpanded)("collapsing",we.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),Be})(),J=(()=>{class Be{static forRoot(){return{ngModule:Be,providers:[]}}}return Be.\u0275fac=function(me){return new(me||Be)},Be.\u0275mod=g.oAB({type:Be}),Be.\u0275inj=g.cJS({}),Be})();const te=["*"],ue=function(Be){return{"text-muted":Be}};function ke(Be,pt){if(1&Be&&(g.TgZ(0,"button",7),g._uU(1),g.qZA()),2&Be){const me=g.oxw();g.Q6J("ngClass",g.VKq(2,ue,me.isDisabled)),g.xp6(1),g.hij(" ",me.heading," ")}}const lt=[[["","accordion-heading",""]],"*"],nt=["[accordion-heading]","*"];let ht=(()=>{class Be{constructor(){this.closeOthers=!1,this.isAnimated=!1}}return Be.\u0275fac=function(me){return new(me||Be)},Be.\u0275prov=g.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),ut=(()=>{class Be{constructor(me){this.isAnimated=!1,this.closeOthers=!1,this.groups=[],Object.assign(this,me)}closeOtherPanels(me){!this.closeOthers||this.groups.forEach(we=>{we!==me&&(we.isOpen=!1)})}addGroup(me){me.isAnimated=this.isAnimated,this.groups.push(me)}removeGroup(me){const we=this.groups.indexOf(me);-1!==we&&this.groups.splice(we,1)}}return Be.\u0275fac=function(me){return new(me||Be)(g.Y36(ht))},Be.\u0275cmp=g.Xpm({type:Be,selectors:[["accordion"]],hostAttrs:["role","tablist",1,"panel-group",2,"display","block"],hostVars:1,hostBindings:function(me,we){2&me&&g.uIk("aria-multiselectable",we.closeOthers)},inputs:{isAnimated:"isAnimated",closeOthers:"closeOthers"},ngContentSelectors:te,decls:1,vars:0,template:function(me,we){1&me&&(g.F$t(),g.Hsn(0))},encapsulation:2}),Be})(),Qe=(()=>{class Be{constructor(me){this.isAnimated=!1,this.panelClass="panel-default",this.isDisabled=!1,this.isOpenChange=new g.vpe,this._isOpen=!1,this.accordion=me}get isOpen(){return this._isOpen}set isOpen(me){me!==this.isOpen&&(me&&this.accordion.closeOtherPanels(this),this._isOpen=me,Promise.resolve(null).then(()=>{this.isOpenChange.emit(me)}))}get isBs3(){return(0,d.XA)()}ngOnInit(){this.accordion.addGroup(this)}ngOnDestroy(){this.accordion.removeGroup(this)}toggleOpen(){this.isDisabled||(this.isOpen=!this.isOpen)}}return Be.\u0275fac=function(me){return new(me||Be)(g.Y36(ut))},Be.\u0275cmp=g.Xpm({type:Be,selectors:[["accordion-group"],["accordion-panel"]],hostAttrs:[1,"panel",2,"display","block"],hostVars:2,hostBindings:function(me,we){2&me&&g.ekj("panel-open",we.isOpen)},inputs:{heading:"heading",panelClass:"panelClass",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},ngContentSelectors:nt,decls:9,vars:6,consts:[[1,"panel","card",3,"ngClass"],["role","tab",1,"panel-heading","card-header",3,"ngClass","click"],[1,"panel-title"],["role","button",1,"accordion-toggle"],["class","btn btn-link","type","button",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"panel-collapse","collapse",3,"collapse","isAnimated"],[1,"panel-body","card-block","card-body"],["type","button",1,"btn","btn-link",3,"ngClass"]],template:function(me,we){1&me&&(g.F$t(lt),g.TgZ(0,"div",0)(1,"div",1),g.NdJ("click",function(){return we.toggleOpen()}),g.TgZ(2,"div",2)(3,"div",3),g.YNc(4,ke,2,4,"button",4),g.Hsn(5),g.qZA()()(),g.TgZ(6,"div",5)(7,"div",6),g.Hsn(8,1),g.qZA()()()),2&me&&(g.Q6J("ngClass",we.panelClass),g.xp6(1),g.Q6J("ngClass",we.isDisabled?"panel-disabled":"panel-enabled"),g.xp6(2),g.uIk("aria-expanded",we.isOpen),g.xp6(1),g.Q6J("ngIf",we.heading),g.xp6(2),g.Q6J("collapse",!we.isOpen)("isAnimated",we.isAnimated))},directives:[W.mk,W.O5,ce],styles:["[_nghost-%COMP%]   .card-header.panel-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .card-header.panel-disabled[_ngcontent-%COMP%]   .btn.btn-link[_ngcontent-%COMP%]{cursor:default;text-decoration:none}"]}),Be})(),rt=(()=>{class Be{static forRoot(){return{ngModule:Be,providers:[]}}}return Be.\u0275fac=function(me){return new(me||Be)},Be.\u0275mod=g.oAB({type:Be}),Be.\u0275inj=g.cJS({imports:[[W.ez,J]]}),Be})()},9062:(qt,Ze,x)=>{x.d(Ze,{oj:()=>Ce});var g=x(5e3),d=x(7691),W=x(5197);class _e{constructor(J,te,ue){this.nodes=J,this.viewRef=te,this.componentRef=ue}}class Ne{constructor(J,te,ue,ke,lt,nt,ht,ut){this._viewContainerRef=J,this._renderer=te,this._elementRef=ue,this._injector=ke,this._componentFactoryResolver=lt,this._ngZone=nt,this._applicationRef=ht,this._posService=ut,this.onBeforeShow=new g.vpe,this.onShown=new g.vpe,this.onBeforeHide=new g.vpe,this.onHidden=new g.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(J){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(J),this}to(J){return this.container=J||this.container,this}position(J){return J?(this.attachment=J.attachment||this.attachment,this._elementRef=J.target||this._elementRef,this):this}provide(J){return this._providers.push(J),this}show(J={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(J.content,J.context,J.initialState);const te=g.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(te,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,J),this.container instanceof g.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const ue=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!ue)return;ue.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(J.id?{id:J.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(J){var te,ue,ke,lt,nt,ht;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const ut=this._componentRef.location.nativeElement;return null===(te=ut.parentNode)||void 0===te||te.removeChild(ut),null===(ke=null===(ue=this._contentRef)||void 0===ue?void 0:ue.componentRef)||void 0===ke||ke.destroy(),this._viewContainerRef&&(null===(lt=this._contentRef)||void 0===lt?void 0:lt.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(ht=null===(nt=this._contentRef)||void 0===nt?void 0:nt.viewRef)||void 0===ht||ht.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(J?{id:J}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(J){var te;this.triggers=J.triggers||this.triggers,this._listenOpts.outsideClick=J.outsideClick,this._listenOpts.outsideEsc=J.outsideEsc,J.target=J.target||(null===(te=this._elementRef)||void 0===te?void 0:te.nativeElement);const ue=this._listenOpts.hide=()=>J.hide?J.hide():void this.hide(),ke=this._listenOpts.show=nt=>{J.show?J.show(nt):this.show(nt),nt()};return this._renderer&&(this._unregisterListenersFn=(0,d.wo)(this._renderer,{target:J.target,triggers:J.triggers,show:ke,hide:ue,toggle:nt=>{this.isShown?ue():ke(nt)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(J,te){return J&&te&&(this._inlineViewRef=J.createEmbeddedView(te)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const J=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,d.Rg)(this._renderer,{targets:[J,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,d.C)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var J;this._posService.position({element:null===(J=this._componentRef)||void 0===J?void 0:J.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(J,te,ue){if(!J)return new _e([]);if(J instanceof g.Rgc){if(this._viewContainerRef){const nt=this._viewContainerRef.createEmbeddedView(J,te);return nt.markForCheck(),new _e([nt.rootNodes],nt)}const lt=J.createEmbeddedView({});return this._applicationRef.attachView(lt),new _e([lt.rootNodes],lt)}if("function"==typeof J){const lt=this._componentFactoryResolver.resolveComponentFactory(J),nt=g.zs3.create({providers:this._providers,parent:this._injector}),ht=lt.create(nt);return Object.assign(ht.instance,ue),this._applicationRef.attachView(ht.hostView),new _e([[ht.location.nativeElement]],ht.hostView,ht)}const ke=this._renderer?[this._renderer.createText(`${J}`)]:[];return new _e([ke])}}let Ce=(()=>{class ce{constructor(te,ue,ke,lt,nt){this._componentFactoryResolver=te,this._ngZone=ue,this._injector=ke,this._posService=lt,this._applicationRef=nt}createLoader(te,ue,ke){return new Ne(ue,ke,te,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return ce.\u0275fac=function(te){return new(te||ce)(g.LFG(g._Vd),g.LFG(g.R0b),g.LFG(g.zs3),g.LFG(W.sA),g.LFG(g.z2F))},ce.\u0275prov=g.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},8274:(qt,Ze,x)=>{x.d(Ze,{Hz:()=>ut,Mq:()=>Qe,TO:()=>ht,mr:()=>rt});var g=x(5e3),d=x(9300),W=x(7691),Te=x(1777),_e=x(9808),Ne=x(9062),Ce=x(5197);const ce=function(Be){return{dropdown:Be}},J=["*"],ue=[(0,Te.oB)({height:0,overflow:"hidden"}),(0,Te.jt)("220ms cubic-bezier(0, 0, 0.2, 1)",(0,Te.oB)({height:"*",overflow:"hidden"}))];let ke=(()=>{class Be{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new g.vpe,this.isDisabledChange=new g.vpe,this.toggleClick=new g.vpe,this.counts=0,this.dropdownMenu=new Promise(me=>{this.resolveDropdownMenu=me})}}return Be.\u0275fac=function(me){return new(me||Be)},Be.\u0275prov=g.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"platform"}),Be})(),lt=(()=>{class Be{constructor(me,we,Xe,Tt,Y){this._state=me,this.cd=we,this._renderer=Xe,this._element=Tt,this.isOpen=!1,this._factoryDropDownAnimation=Y.build(ue),this._subscription=me.isOpenChange.subscribe(qe=>{this.isOpen=qe;const et=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),et&&!(0,W.XA)()&&(this._renderer.addClass(et,"show"),(et.classList.contains("dropdown-menu-right")||et.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(et,"left","auto"),this._renderer.setStyle(et,"right","0")),"up"===this.direction&&(this._renderer.setStyle(et,"top","auto"),this._renderer.setStyle(et,"transform","translateY(-101%)"))),et&&this._state.isAnimated&&this._factoryDropDownAnimation.create(et).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(me){return this._element.nativeElement.contains(me)}ngOnDestroy(){this._subscription.unsubscribe()}}return Be.\u0275fac=function(me){return new(me||Be)(g.Y36(ke),g.Y36(g.sBO),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(Te._j))},Be.\u0275cmp=g.Xpm({type:Be,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:J,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(me,we){1&me&&(g.F$t(),g.TgZ(0,"div",0),g.Hsn(1),g.qZA()),2&me&&(g.ekj("dropup","up"===we.direction)("show",we.isOpen)("open",we.isOpen),g.Q6J("ngClass",g.VKq(7,ce,"down"===we.direction)))},directives:[_e.mk],encapsulation:2,changeDetection:0}),Be})(),nt=(()=>{class Be{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return Be.\u0275fac=function(me){return new(me||Be)},Be.\u0275prov=g.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),ht=(()=>{class Be{constructor(me,we,Xe,Tt,Y,qe,et){this._elementRef=me,this._renderer=we,this._viewContainerRef=Xe,this._cis=Tt,this._state=Y,this._config=qe,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=et.build(ue),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:ke,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(me){this._state.autoClose=me}get autoClose(){return this._state.autoClose}set isAnimated(me){this._state.isAnimated=me}get isAnimated(){return this._state.isAnimated}set insideClick(me){this._state.insideClick=me}get insideClick(){return this._state.insideClick}set isDisabled(me){this._isDisabled=me,this._state.isDisabledChange.emit(me),me&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(me){me?this.show():this.hide()}get isBs4(){return!(0,W.XA)()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(me=>this.toggle(me))),this._subscriptions.push(this._state.isDisabledChange.pipe((0,d.h)(me=>me)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(me=>{this._dropdown.attachInline(me.viewContainer,me.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(me=>{const we=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=we?"up":"down";const Xe=this.placement||(we?"top start":"bottom start");this._dropdown.attach(lt).to(this.container).position({attachment:Xe}).show({content:me.templateRef,placement:Xe}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(me){return this.isOpen||!me?this.hide():this.show()}_contains(me){return this._elementRef.nativeElement.contains(me.target)||this._dropdown.instance&&this._dropdown.instance._contains(me.target)}navigationClick(me){const we=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!we)return;const Xe=this._elementRef.nativeElement.ownerDocument.activeElement,Tt=we.querySelectorAll(".dropdown-item");switch(me.keyCode){case 38:this._state.counts>0&&Tt[--this._state.counts].focus();break;case 40:this._state.counts+1<Tt.length&&(Xe.classList!==Tt[this._state.counts].classList?Tt[this._state.counts].focus():Tt[++this._state.counts].focus())}me.preventDefault()}ngOnDestroy(){for(const me of this._subscriptions)me.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){(0,W.XA)()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const me=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",me?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",me?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return Be.\u0275fac=function(me){return new(me||Be)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.s_b),g.Y36(Ne.oj),g.Y36(ke),g.Y36(nt),g.Y36(Te._j))},Be.\u0275dir=g.lG2({type:Be,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(me,we){1&me&&g.NdJ("keydown.arrowDown",function(Tt){return we.navigationClick(Tt)})("keydown.arrowUp",function(Tt){return we.navigationClick(Tt)}),2&me&&g.ekj("dropup",we.dropup)("open",we.isOpen)("show",we.isOpen&&we.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[g._Bn([ke])]}),Be})(),ut=(()=>{class Be{constructor(me,we,Xe){me.resolveDropdownMenu({templateRef:Xe,viewContainer:we})}}return Be.\u0275fac=function(me){return new(me||Be)(g.Y36(ke),g.Y36(g.s_b),g.Y36(g.Rgc))},Be.\u0275dir=g.lG2({type:Be,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),Be})(),Qe=(()=>{class Be{constructor(me,we,Xe,Tt,Y){this._changeDetectorRef=me,this._dropdown=we,this._element=Xe,this._renderer=Tt,this._state=Y,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(qe=>{this.isOpen=qe,qe?(this._documentClickListener=this._renderer.listen("document","click",et=>{this._state.autoClose&&2!==et.button&&!this._element.nativeElement.contains(et.target)&&(!this._state.insideClick||!this._dropdown._contains(et))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(qe=>this.isDisabled=qe||void 0))}onClick(me){this._state.stopOnClickPropagation&&me.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const me of this._subscriptions)me.unsubscribe()}}return Be.\u0275fac=function(me){return new(me||Be)(g.Y36(g.sBO),g.Y36(ht),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(ke))},Be.\u0275dir=g.lG2({type:Be,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(me,we){1&me&&g.NdJ("click",function(Tt){return we.onClick(Tt)}),2&me&&g.uIk("aria-haspopup",!0)("disabled",we.isDisabled)("aria-expanded",we.isOpen)},exportAs:["bs-dropdown-toggle"]}),Be})(),rt=(()=>{class Be{static forRoot(){return{ngModule:Be,providers:[Ne.oj,Ce.sA,ke]}}}return Be.\u0275fac=function(me){return new(me||Be)},Be.\u0275mod=g.oAB({type:Be}),Be.\u0275inj=g.cJS({imports:[[_e.ez]]}),Be})()},5197:(qt,Ze,x)=>{x.d(Ze,{Bz:()=>Je,sA:()=>_n});var g=x(7691),d=x(5e3),W=x(9808),Te=x(8421),_e=x(8306),Ne=x(5577),Ce=x(1144),ce=x(576),J=x(3268);const te=["addListener","removeListener"],ue=["addEventListener","removeEventListener"],ke=["on","off"];function lt(z,he,be,Ue){if((0,ce.m)(be)&&(Ue=be,be=void 0),Ue)return lt(z,he,be).pipe((0,J.Z)(Ue));const[mt,St]=function Qe(z){return(0,ce.m)(z.addEventListener)&&(0,ce.m)(z.removeEventListener)}(z)?ue.map(de=>fe=>z[de](he,fe,be)):function ht(z){return(0,ce.m)(z.addListener)&&(0,ce.m)(z.removeListener)}(z)?te.map(nt(z,he)):function ut(z){return(0,ce.m)(z.on)&&(0,ce.m)(z.off)}(z)?ke.map(nt(z,he)):[];if(!mt&&(0,Ce.z)(z))return(0,Ne.z)(de=>lt(de,he,be))((0,Te.Xf)(z));if(!mt)throw new TypeError("Invalid event target");return new _e.y(de=>{const fe=(...Me)=>de.next(1<Me.length?Me:Me[0]);return mt(fe),()=>St(fe)})}function nt(z,he){return be=>Ue=>z[be](he,Ue)}var rt=x(4408),Be=x(727);const pt={schedule(z){let he=requestAnimationFrame,be=cancelAnimationFrame;const{delegate:Ue}=pt;Ue&&(he=Ue.requestAnimationFrame,be=Ue.cancelAnimationFrame);const mt=he(St=>{be=void 0,z(St)});return new Be.w0(()=>null==be?void 0:be(mt))},requestAnimationFrame(...z){const{delegate:he}=pt;return((null==he?void 0:he.requestAnimationFrame)||requestAnimationFrame)(...z)},cancelAnimationFrame(...z){const{delegate:he}=pt;return((null==he?void 0:he.cancelAnimationFrame)||cancelAnimationFrame)(...z)},delegate:void 0};var we=x(7565);const Tt=new class Xe extends we.v{flush(he){this._active=!0;const be=this._scheduled;this._scheduled=void 0;const{actions:Ue}=this;let mt;he=he||Ue.shift();do{if(mt=he.execute(he.state,he.delay))break}while((he=Ue[0])&&he.id===be&&Ue.shift());if(this._active=!1,mt){for(;(he=Ue[0])&&he.id===be&&Ue.shift();)he.unsubscribe();throw mt}}}(class me extends rt.o{constructor(he,be){super(he,be),this.scheduler=he,this.work=be}requestAsyncId(he,be,Ue=0){return null!==Ue&&Ue>0?super.requestAsyncId(he,be,Ue):(he.actions.push(this),he._scheduled||(he._scheduled=pt.requestAnimationFrame(()=>he.flush(void 0))))}recycleAsyncId(he,be,Ue=0){var mt;if(null!=Ue?Ue>0:this.delay>0)return super.recycleAsyncId(he,be,Ue);const{actions:St}=he;null!=be&&(null===(mt=St[St.length-1])||void 0===mt?void 0:mt.id)!==be&&(pt.cancelAnimationFrame(be),he._scheduled=void 0)}});var qe=x(7579),et=x(6451),Ve=x(9646),Ge=(()=>{return(z=Ge||(Ge={})).top="top",z.bottom="bottom",z.left="left",z.right="right",z.auto="auto",z.end="right",z.start="left",z["top left"]="top left",z["top right"]="top right",z["right top"]="right top",z["right bottom"]="right bottom",z["bottom right"]="bottom right",z["bottom left"]="bottom left",z["left bottom"]="left bottom",z["left top"]="left top",z["top start"]="top left",z["top end"]="top right",z["end top"]="right top",z["end bottom"]="right bottom",z["bottom end"]="bottom right",z["bottom start"]="bottom left",z["start bottom"]="start bottom",z["start top"]="left top",Ge;var z})(),Je=(()=>{return(z=Je||(Je={})).top="top",z.bottom="bottom",z.left="start",z.right="end",z.auto="auto",z.end="end",z.start="start",z["top left"]="top start",z["top right"]="top end",z["right top"]="end top",z["right bottom"]="end bottom",z["bottom right"]="bottom end",z["bottom left"]="bottom start",z["left bottom"]="start bottom",z["left top"]="start top",z["top start"]="top start",z["top end"]="top end",z["end top"]="end top",z["end bottom"]="end bottom",z["bottom end"]="bottom end",z["bottom start"]="bottom start",z["start bottom"]="start bottom",z["start top"]="start top",Je;var z})();function ot(z,he){if(1!==z.nodeType)return[];const be=z.ownerDocument.defaultView,Ue=null==be?void 0:be.getComputedStyle(z,null);return he?Ue&&Ue[he]:Ue}function it(z){if(!z)return document.documentElement;let Ue,be=null==z?void 0:z.offsetParent;for(;null===be&&z.nextElementSibling&&Ue!==z.nextElementSibling;)Ue=z.nextElementSibling,be=Ue.offsetParent;const mt=be&&be.nodeName;return mt&&"BODY"!==mt&&"HTML"!==mt?be&&-1!==["TH","TD","TABLE"].indexOf(be.nodeName)&&"static"===ot(be,"position")?it(be):be:Ue?Ue.ownerDocument.documentElement:document.documentElement}function on(z){return null!==z.parentNode?on(z.parentNode):z}function gt(z,he){if(!(z&&z.nodeType&&he&&he.nodeType))return document.documentElement;const be=z.compareDocumentPosition(he)&Node.DOCUMENT_POSITION_FOLLOWING,Ue=be?z:he,mt=be?he:z,St=document.createRange();St.setStart(Ue,0),St.setEnd(mt,0);const de=St.commonAncestorContainer;if(z!==de&&he!==de||Ue.contains(mt))return function Nt(z){const{nodeName:he}=z;return"BODY"!==he&&("HTML"===he||it(z.firstElementChild)===z)}(de)?de:it(de);const fe=on(z);return fe.host?gt(fe.host,he):gt(z,on(he).host)}function vt(z){if(!z||!z.parentElement)return document.documentElement;let he=z.parentElement;for(;(null==he?void 0:he.parentElement)&&"none"===ot(he,"transform");)he=he.parentElement;return he||document.documentElement}function q(z,he){const be="x"===he?"Left":"Top",Ue="Left"===be?"Right":"Bottom";return parseFloat(z[`border${be}Width`])+parseFloat(z[`border${Ue}Width`])}function Se(z,he,be,Ue){return Math.max(he[`offset${z}`],he[`scroll${z}`],be[`client${z}`],be[`offset${z}`],be[`scroll${z}`],0)}function Ke(z){const he=z.body,be=z.documentElement;return{height:Se("Height",he,be),width:Se("Width",he,be)}}function Mt(z){return Object.assign(Object.assign({},z),{right:(z.left||0)+z.width,bottom:(z.top||0)+z.height})}function Xt(z){return"number"==typeof z||"[object Number]"===Object.prototype.toString.call(z)}function hn(z){const he=z.getBoundingClientRect();if(!(he&&Xt(he.top)&&Xt(he.left)&&Xt(he.bottom)&&Xt(he.right)))return he;const be={left:he.left,top:he.top,width:he.right-he.left,height:he.bottom-he.top},Ue="HTML"===z.nodeName?Ke(z.ownerDocument):void 0,mt=(null==Ue?void 0:Ue.width)||z.clientWidth||Xt(he.right)&&Xt(be.left)&&he.right-be.left||0,St=(null==Ue?void 0:Ue.height)||z.clientHeight||Xt(he.bottom)&&Xt(be.top)&&he.bottom-be.top||0;let de=z.offsetWidth-mt,fe=z.offsetHeight-St;if(de||fe){const Me=ot(z);de-=q(Me,"x"),fe-=q(Me,"y"),be.width-=de,be.height-=fe}return Mt(be)}function In(z){return"HTML"===z.nodeName?z:z.parentNode||z.host}function zn(z){if(!z)return document.body;switch(z.nodeName){case"HTML":case"BODY":return z.ownerDocument.body;case"#document":return z.body}const{overflow:he,overflowX:be,overflowY:Ue}=ot(z);return/(auto|scroll|overlay)/.test(String(he)+String(Ue)+String(be))?z:zn(In(z))}function di(z,he,be=!1){var Ue,mt,St,de,fe,Me;const ve="HTML"===he.nodeName,X=hn(z),$=hn(he),re=(zn(z),ot(he)),Ae=parseFloat(re.borderTopWidth),Ye=parseFloat(re.borderLeftWidth);be&&ve&&($.top=Math.max(null!==(Ue=$.top)&&void 0!==Ue?Ue:0,0),$.left=Math.max(null!==(mt=$.left)&&void 0!==mt?mt:0,0));const Pt=Mt({top:(null!==(St=X.top)&&void 0!==St?St:0)-(null!==(de=$.top)&&void 0!==de?de:0)-Ae,left:(null!==(fe=X.left)&&void 0!==fe?fe:0)-(null!==(Me=$.left)&&void 0!==Me?Me:0)-Ye,width:X.width,height:X.height});if(Pt.marginTop=0,Pt.marginLeft=0,ve){const kt=parseFloat(re.marginTop),gn=parseFloat(re.marginLeft);Xt(Pt.top)&&(Pt.top-=Ae-kt),Xt(Pt.bottom)&&(Pt.bottom-=Ae-kt),Xt(Pt.left)&&(Pt.left-=Ye-gn),Xt(Pt.right)&&(Pt.right-=Ye-gn),Pt.marginTop=kt,Pt.marginLeft=gn}return Pt}function Kn(z,he="top"){const be="top"===he?"scrollTop":"scrollLeft",Ue=z.nodeName;if("BODY"===Ue||"HTML"===Ue){const mt=z.ownerDocument.documentElement;return(z.ownerDocument.scrollingElement||mt)[be]}return z[be]}function ei(z){const he=z.nodeName;return"BODY"!==he&&"HTML"!==he&&("fixed"===ot(z,"position")||ei(In(z)))}function Ni(z,he,be=0,Ue,mt=!1){let St={top:0,left:0};const de=mt?vt(z):gt(z,he);if("viewport"===Ue)St=function Ii(z,he=!1){const be=z.ownerDocument.documentElement,Ue=di(z,be),mt=Math.max(be.clientWidth,window.innerWidth||0),St=Math.max(be.clientHeight,window.innerHeight||0),de=he?0:Kn(be),fe=he?0:Kn(be,"left");return Mt({top:de-Number(null==Ue?void 0:Ue.top)+Number(null==Ue?void 0:Ue.marginTop),left:fe-Number(null==Ue?void 0:Ue.left)+Number(null==Ue?void 0:Ue.marginLeft),width:mt,height:St})}(de,mt);else{let fe;"scrollParent"===Ue?(fe=zn(In(he)),"BODY"===fe.nodeName&&(fe=z.ownerDocument.documentElement)):fe="window"===Ue?z.ownerDocument.documentElement:Ue;const Me=di(fe,de,mt);if(Me&&"HTML"===fe.nodeName&&!ei(de)){const{height:ve,width:X}=Ke(z.ownerDocument);Xt(St.top)&&Xt(Me.top)&&Xt(Me.marginTop)&&(St.top+=Me.top-Me.marginTop),Xt(St.top)&&(St.bottom=Number(ve)+Number(Me.top)),Xt(St.left)&&Xt(Me.left)&&Xt(Me.marginLeft)&&(St.left+=Me.left-Me.marginLeft),Xt(St.top)&&(St.right=Number(X)+Number(Me.left))}else Me&&(St=Me)}return Xt(St.left)&&(St.left+=be),Xt(St.top)&&(St.top+=be),Xt(St.right)&&(St.right-=be),Xt(St.bottom)&&(St.bottom-=be),St}function qn({width:z,height:he}){return z*he}function Fi(z,he,be,Ue,mt=["top","bottom","right","left"],St="viewport",de=0){var fe,Me,ve,X,$,ee,re,Ae,Ye,Pt,kt,gn;if(-1===z.indexOf("auto"))return z;const fn=Ni(be,Ue,de,St),bn={top:{width:null!==(fe=null==fn?void 0:fn.width)&&void 0!==fe?fe:0,height:(null!==(Me=null==he?void 0:he.top)&&void 0!==Me?Me:0)-(null!==(ve=null==fn?void 0:fn.top)&&void 0!==ve?ve:0)},right:{width:(null!==(X=null==fn?void 0:fn.right)&&void 0!==X?X:0)-(null!==($=null==he?void 0:he.right)&&void 0!==$?$:0),height:null!==(ee=null==fn?void 0:fn.height)&&void 0!==ee?ee:0},bottom:{width:null!==(re=null==fn?void 0:fn.width)&&void 0!==re?re:0,height:(null!==(Ae=null==fn?void 0:fn.bottom)&&void 0!==Ae?Ae:0)-(null!==(Ye=null==he?void 0:he.bottom)&&void 0!==Ye?Ye:0)},left:{width:(null!==(Pt=he.left)&&void 0!==Pt?Pt:0)-(null!==(kt=null==fn?void 0:fn.left)&&void 0!==kt?kt:0),height:null!==(gn=null==fn?void 0:fn.height)&&void 0!==gn?gn:0}},vi=Object.keys(bn).map(Ti=>Object.assign(Object.assign({position:Ti},bn[Ti]),{area:qn(bn[Ti])})).sort((Ti,Kt)=>Kt.area-Ti.area);let bi=vi.filter(({width:Ti,height:Kt})=>Ti>=be.clientWidth&&Kt>=be.clientHeight);bi=bi.filter(({position:Ti})=>mt.some(Kt=>Kt===Ti));const Ci=bi.length>0?bi[0].position:vi[0].position,Pr=z.split(" ")[1];return be.className=be.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,g.Wl)().isBs5?Je[Ci]:Ci}`),Ci+(Pr?`-${Pr}`:"")}const Jt=(z,he=0)=>z?parseFloat(z):he;function Mi(z){const he=z.ownerDocument.defaultView,be=null==he?void 0:he.getComputedStyle(z),Ue=Jt(null==be?void 0:be.marginTop)+Jt(null==be?void 0:be.marginBottom),mt=Jt(null==be?void 0:be.marginLeft)+Jt(null==be?void 0:be.marginRight);return{width:Number(z.offsetWidth)+mt,height:Number(z.offsetHeight)+Ue}}function hi(z,he,be){return di(he,be?vt(z):gt(z,he),be)}function It(z,he,be){var Ue,mt,St;const de=be.split(" ")[0],fe=Mi(z),Me={width:fe.width,height:fe.height},ve=-1!==["right","left"].indexOf(de),X=ve?"top":"left",$=ve?"left":"top",ee=ve?"height":"width",re=ve?"width":"height";return Me[X]=(null!==(Ue=he[X])&&void 0!==Ue?Ue:0)+he[ee]/2-fe[ee]/2,Me[$]=de===$?(null!==(mt=he[$])&&void 0!==mt?mt:0)-fe[re]:null!==(St=he[function Oi(z){const he={left:"right",right:"left",bottom:"top",top:"bottom"};return z.replace(/left|right|bottom|top/g,be=>he[be])}($)])&&void 0!==St?St:0,Me}function Le(z,he){var be;return!!(null===(be=z.modifiers[he])||void 0===be?void 0:be.enabled)}const $e={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Ft(z,he){return!!(0,g.Wl)().isBs5&&$e[he].includes(z)}function zt(z,he,be){!z||!he||Object.keys(he).forEach(Ue=>{let mt="";-1!==["width","height","top","right","bottom","left"].indexOf(Ue)&&function Gt(z){return""!==z&&!isNaN(parseFloat(z))&&isFinite(Number(z))}(he[Ue])&&(mt="px"),be?be.setStyle(z,Ue,`${String(he[Ue])}${mt}`):z.style[Ue]=String(he[Ue])+mt})}function Re(z){var he,be,Ue,mt,St,de;let fe=z.offsets.target;const Me=z.instance.target.querySelector(".arrow");if(!Me)return z;const ve=-1!==["left","right"].indexOf(z.placement.split(" ")[0]),X=ve?"height":"width",$=ve?"Top":"Left",ee=$.toLowerCase(),re=ve?"left":"top",Ae=ve?"bottom":"right",Ye=Mi(Me)[X],Pt=z.placement.split(" ")[1];(null!==(he=z.offsets.host[Ae])&&void 0!==he?he:0)-Ye<(null!==(be=fe[ee])&&void 0!==be?be:0)&&(fe[ee]-=(null!==(Ue=fe[ee])&&void 0!==Ue?Ue:0)-((null!==(mt=z.offsets.host[Ae])&&void 0!==mt?mt:0)-Ye)),Number(z.offsets.host[ee])+Number(Ye)>(null!==(St=fe[Ae])&&void 0!==St?St:0)&&(fe[ee]+=Number(z.offsets.host[ee])+Number(Ye)-Number(fe[Ae])),fe=Mt(fe);const kt=ot(z.instance.target),gn=parseFloat(kt[`margin${$}`])||0,fn=parseFloat(kt[`border${$}Width`])||0;let bn;if(Pt){const bi=parseFloat(kt.borderRadius)||0,Ci=Number(gn+fn+bi);bn=ee===Pt?Number(z.offsets.host[ee])+Ci:Number(z.offsets.host[ee])+Number(z.offsets.host[X]-Ci)}else bn=Number(z.offsets.host[ee])+Number(z.offsets.host[X]/2-Ye/2);let vi=bn-(null!==(de=fe[ee])&&void 0!==de?de:0)-gn-fn;return vi=Math.max(Math.min(fe[X]-(Ye+5),vi),0),z.offsets.arrow={[ee]:Math.round(vi),[re]:""},z.instance.arrow=Me,z}function xe(z){if(z.offsets.target=Mt(z.offsets.target),!Le(z.options,"flip"))return z.offsets.target=Object.assign(Object.assign({},z.offsets.target),It(z.instance.target,z.offsets.host,z.placement)),z;const he=Ni(z.instance.target,z.instance.host,0,"viewport",!1);let be=z.placement.split(" ")[0],Ue=z.placement.split(" ")[1]||"";const fe=Fi("auto",z.offsets.host,z.instance.target,z.instance.host,z.options.allowedPositions),Me=[be,fe];return Me.forEach((ve,X)=>{var $,ee,re,Ae,Ye,Pt,kt,gn,fn,bn,vi,bi,Ci,Pr,Ti,Kt;if(be!==ve||Me.length===X+1)return;be=z.placement.split(" ")[0];const Bn="left"===be&&Math.floor(null!==($=z.offsets.target.right)&&void 0!==$?$:0)>Math.floor(null!==(ee=z.offsets.host.left)&&void 0!==ee?ee:0)||"right"===be&&Math.floor(null!==(re=z.offsets.target.left)&&void 0!==re?re:0)<Math.floor(null!==(Ae=z.offsets.host.right)&&void 0!==Ae?Ae:0)||"top"===be&&Math.floor(null!==(Ye=z.offsets.target.bottom)&&void 0!==Ye?Ye:0)>Math.floor(null!==(Pt=z.offsets.host.top)&&void 0!==Pt?Pt:0)||"bottom"===be&&Math.floor(null!==(kt=z.offsets.target.top)&&void 0!==kt?kt:0)<Math.floor(null!==(gn=z.offsets.host.bottom)&&void 0!==gn?gn:0),fi=Math.floor(null!==(fn=z.offsets.target.left)&&void 0!==fn?fn:0)<Math.floor(null!==(bn=he.left)&&void 0!==bn?bn:0),Hi=Math.floor(null!==(vi=z.offsets.target.right)&&void 0!==vi?vi:0)>Math.floor(null!==(bi=he.right)&&void 0!==bi?bi:0),Rr=Math.floor(null!==(Ci=z.offsets.target.top)&&void 0!==Ci?Ci:0)<Math.floor(null!==(Pr=he.top)&&void 0!==Pr?Pr:0),ji=Math.floor(null!==(Ti=z.offsets.target.bottom)&&void 0!==Ti?Ti:0)>Math.floor(null!==(Kt=he.bottom)&&void 0!==Kt?Kt:0),Ji="left"===be&&fi||"right"===be&&Hi||"top"===be&&Rr||"bottom"===be&&ji,ni=-1!==["top","bottom"].indexOf(be),Er=ni&&"left"===Ue&&fi||ni&&"right"===Ue&&Hi||!ni&&"left"===Ue&&Rr||!ni&&"right"===Ue&&ji;(Bn||Ji||Er)&&((Bn||Ji)&&(be=Me[X+1]),Er&&(Ue=function Yn(z){return"right"===z?"left":"left"===z?"right":z}(Ue)),z.placement=be+(Ue?` ${Ue}`:""),z.offsets.target=Object.assign(Object.assign({},z.offsets.target),It(z.instance.target,z.offsets.host,z.placement)))}),z}function We(z){var he;if(!Le(z.options,"preventOverflow"))return z;const be="transform",Ue=z.instance.target.style,{top:mt,left:St,[be]:de}=Ue;Ue.top="",Ue.left="",Ue[be]="";const fe=Ni(z.instance.target,z.instance.host,0,(null===(he=z.options.modifiers.preventOverflow)||void 0===he?void 0:he.boundariesElement)||"scrollParent",!1);Ue.top=mt,Ue.left=St,Ue[be]=de;const ve={primary(X){var $,ee,re,Ae;let Ye=z.offsets.target[X];return(null!==($=z.offsets.target[X])&&void 0!==$?$:0)<(null!==(ee=fe[X])&&void 0!==ee?ee:0)&&(Ye=Math.max(null!==(re=z.offsets.target[X])&&void 0!==re?re:0,null!==(Ae=fe[X])&&void 0!==Ae?Ae:0)),{[X]:Ye}},secondary(X){var $,ee,re,Ae;const Ye="right"===X,Pt=Ye?"left":"top";let gn=z.offsets.target[Pt];return(null!==($=z.offsets.target[X])&&void 0!==$?$:0)>(null!==(ee=fe[X])&&void 0!==ee?ee:0)&&(gn=Math.min(null!==(re=z.offsets.target[Pt])&&void 0!==re?re:0,(null!==(Ae=fe[X])&&void 0!==Ae?Ae:0)-z.offsets.target[Ye?"width":"height"])),{[Pt]:gn}}};return["left","right","top","bottom"].forEach(X=>{const $=-1!==["left","top","start"].indexOf(X)?ve.primary:ve.secondary;z.offsets.target=Object.assign(Object.assign({},z.offsets.target),$(X))}),z}function _t(z){var he;const be=z.placement,Ue=be.split(" ")[0],mt=be.split(" ")[1];if(mt){const{host:St,target:de}=z.offsets,fe=-1!==["bottom","top"].indexOf(Ue),Me=fe?"left":"top",ve=fe?"width":"height",X={start:{[Me]:St[Me]},end:{[Me]:(null!==(he=St[Me])&&void 0!==he?he:0)+St[ve]-de[ve]}};z.offsets.target=Object.assign(Object.assign({},de),{[Me]:Me===mt?X.start[Me]:X.end[Me]})}return z}const wt=new class Dt{position(he,be){return this.offset(he,be)}offset(he,be){return hi(be,he)}positionElements(he,be,Ue,mt,St){const de=[xe,_t,We,Re],Me=function Ee(z,he,be,Ue){if(!z||!he)return;const mt=hi(z,he);!be.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!be.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(be="auto");const St=!!be.match(/auto/g);let de=be.match(/auto\s(left|right|top|bottom|start|end)/)?be.split(" ")[1]||"auto":be;const fe=de.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return fe&&(de=fe[1]+(fe[2]?` ${fe[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(de)&&(de="auto"),de=Fi(de,mt,z,he,Ue?Ue.allowedPositions:void 0),{options:Ue||{modifiers:{}},instance:{target:z,host:he,arrow:void 0},offsets:{target:It(z,mt,de),host:mt,arrow:void 0},positionFixed:!1,placement:de,placementAuto:St}}(be,he,Ge[Ue],St);if(Me)return de.reduce((ve,X)=>X(ve),Me)}};function pn(z,he,be,Ue,mt,St){const de=wt.positionElements(z,he,be,Ue,mt);if(!de)return;const fe=function un(z){var he,be,Ue,mt;return{width:z.offsets.target.width,height:z.offsets.target.height,left:Math.floor(null!==(he=z.offsets.target.left)&&void 0!==he?he:0),top:Math.round(null!==(be=z.offsets.target.top)&&void 0!==be?be:0),bottom:Math.round(null!==(Ue=z.offsets.target.bottom)&&void 0!==Ue?Ue:0),right:Math.floor(null!==(mt=z.offsets.target.right)&&void 0!==mt?mt:0)}}(de);zt(he,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${fe.left}px, ${fe.top}px, 0px)`},St),de.instance.arrow&&zt(de.instance.arrow,de.offsets.arrow,St),function Vt(z,he){const be=z.instance.target;let Ue=be.className;const mt=(0,g.Wl)().isBs5?Je[z.placement]:z.placement;z.placementAuto&&(Ue=Ue.replace(/bs-popover-auto/g,`bs-popover-${mt}`),Ue=Ue.replace(/ms-2|me-2|mb-2|mt-2/g,""),Ue=Ue.replace(/bs-tooltip-auto/g,`bs-tooltip-${mt}`),Ue=Ue.replace(/\sauto/g,` ${mt}`),-1!==Ue.indexOf("popover")&&(Ue=Ue+" "+function Ct(z){return(0,g.Wl)().isBs5?Ft(z,"end")?"ms-2":Ft(z,"start")?"me-2":Ft(z,"top")?"mb-2":Ft(z,"bottom")?"mt-2":"":""}(mt)),-1!==Ue.indexOf("popover")&&-1===Ue.indexOf("popover-auto")&&(Ue+=" popover-auto"),-1!==Ue.indexOf("tooltip")&&-1===Ue.indexOf("tooltip-auto")&&(Ue+=" tooltip-auto")),Ue=Ue.replace(/left|right|top|bottom|end|start/g,`${mt.split(" ")[0]}`),he?he.setAttribute(be,"class",Ue):be.className=Ue}(de,St)}let _n=(()=>{class z{constructor(be,Ue,mt){this.update$$=new qe.x,this.positionElements=new Map,this.isDisabled=!1,(0,W.NF)(mt)&&be.runOutsideAngular(()=>{this.triggerEvent$=(0,et.T)(lt(window,"scroll",{passive:!0}),lt(window,"resize",{passive:!0}),(0,Ve.of)(0,Tt),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(St=>{pn(ln(St.target),ln(St.element),St.attachment,St.appendToBody,this.options,Ue.createRenderer(null,null))})})})}position(be){this.addPositionElement(be)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(be){this.positionElements.set(ln(be.element),be)}calcPosition(){this.update$$.next(null)}deletePositionElement(be){this.positionElements.delete(ln(be))}setOptions(be){this.options=be}}return z.\u0275fac=function(be){return new(be||z)(d.LFG(d.R0b),d.LFG(d.FYo),d.LFG(d.Lbi))},z.\u0275prov=d.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();function ln(z){return"string"==typeof z?document.querySelector(z):z instanceof d.SBq?z.nativeElement:null!=z?z:null}},7691:(qt,Ze,x)=>{x.d(Ze,{AL:()=>Te,C:()=>ce,Dc:()=>Tt,GU:()=>ot,O4:()=>gt,Rg:()=>Ce,Wl:()=>Ve,XA:()=>Y,wo:()=>Ne});var g=x(5e3);class d{constructor(q,Se){this.open=q,this.close=Se||q}isManual(){return"manual"===this.open||"manual"===this.close}}const W={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function Te(vt,q=W){const Se=(vt||"").trim();if(0===Se.length)return[];const Ke=Se.split(/\s+/).map(Gt=>Gt.split(":")).map(Gt=>{const Xt=q[Gt[0]]||Gt;return new d(Xt[0],Xt[1])}),Mt=Ke.filter(Gt=>Gt.isManual());if(Mt.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Mt.length&&Ke.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return Ke}function Ne(vt,q){const Se=Te(q.triggers),Ke=q.target;if(1===Se.length&&Se[0].isManual())return Function.prototype;const Mt=[],Gt=[],Xt=()=>{Gt.forEach(hn=>Mt.push(hn())),Gt.length=0};return Se.forEach(hn=>{const In=hn.open===hn.close,zn=In?q.toggle:q.show;if(!In&&hn.close&&q.hide){const di=vt.listen(Ke,hn.close,q.hide);Gt.push(()=>di)}zn&&Mt.push(vt.listen(Ke,hn.open,()=>zn(Xt)))}),()=>{Mt.forEach(hn=>hn())}}function Ce(vt,q){return q.outsideClick?vt.listen("document","click",Se=>{q.target&&q.target.contains(Se.target)||q.targets&&q.targets.some(Ke=>Ke.contains(Se.target))||q.hide&&q.hide()}):Function.prototype}function ce(vt,q){return q.outsideEsc?vt.listen("document","keyup.esc",Se=>{q.target&&q.target.contains(Se.target)||q.targets&&q.targets.some(Ke=>Ke.contains(Se.target))||q.hide&&q.hide()}):Function.prototype}const J="undefined"!=typeof window&&window||{};let we;function Xe(){if(void 0===J.document)return"bs4";const vt=J.document.createElement("span");vt.innerText="testing bs version",vt.classList.add("d-none"),vt.classList.add("pl-1"),J.document.head.appendChild(vt);const q=vt.getBoundingClientRect(),Se=J.getComputedStyle(vt).paddingLeft;return!q||q&&0!==q.top?(J.document.head.removeChild(vt),"bs3"):Se&&parseFloat(Se)?(J.document.head.removeChild(vt),"bs4"):(J.document.head.removeChild(vt),"bs5")}function Tt(vt){we=vt}function Y(){return void 0===J||(void 0===J.__theme?(we||(we=Xe()),"bs3"===we):"bs3"===J.__theme)}function qe(){return!Y()&&(we||(we=Xe()),"bs4"===we)}function Ve(){return{isBs3:Y(),isBs4:qe(),isBs5:!Y()&&!qe()&&(we||(we=Xe()),"bs5"===we)}}function ot(){return function(Se,Ke){const Mt=` __${Ke}Value`;Object.defineProperty(Se,Ke,{get(){return this[Mt]},set(Gt){const Xt=this[Mt];this[Mt]=Gt,Xt!==Gt&&this[Ke+"Change"]&&this[Ke+"Change"].emit(Gt)}})}}const Nt={},on="undefined"==typeof console||!("warn"in console);function gt(vt){!(0,g.X6Q)()||on||vt in Nt||(Nt[vt]=!0,console.warn(vt))}},5861:(qt,Ze,x)=>{function g(W,Te,_e,Ne,Ce,ce,J){try{var te=W[ce](J),ue=te.value}catch(ke){return void _e(ke)}te.done?Te(ue):Promise.resolve(ue).then(Ne,Ce)}function d(W){return function(){var Te=this,_e=arguments;return new Promise(function(Ne,Ce){var ce=W.apply(Te,_e);function J(ue){g(ce,Ne,Ce,J,te,"next",ue)}function te(ue){g(ce,Ne,Ce,J,te,"throw",ue)}J(void 0)})}}x.d(Ze,{Z:()=>d})}},qt=>{qt(qt.s=3341)}]);