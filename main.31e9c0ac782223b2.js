"use strict";var sC=Object.defineProperty,oC=Object.defineProperties,aC=Object.getOwnPropertyDescriptors,iE=Object.getOwnPropertySymbols,lC=Object.prototype.hasOwnProperty,uC=Object.prototype.propertyIsEnumerable,rE=(qt,We,x)=>We in qt?sC(qt,We,{enumerable:!0,configurable:!0,writable:!0,value:x}):qt[We]=x,sE=(qt,We)=>{for(var x in We||(We={}))lC.call(We,x)&&rE(qt,x,We[x]);if(iE)for(var x of iE(We))uC.call(We,x)&&rE(qt,x,We[x]);return qt},oE=(qt,We)=>oC(qt,aC(We));(self.webpackChunkjoin=self.webpackChunkjoin||[]).push([[179],{440:(qt,We,x)=>{x.d(We,{nm:()=>wi});var f=x(6351);x(5e3),x(5867);var pe=x(5861),be=x(9681),Qe=x(4859),bt=x(2090),Y=x(1877);const Je=new Map,nt={activated:!1,tokenObservers:[]},Fe={initialized:!1,enabled:!1};function Ue(ot){return Je.get(ot)||Object.assign({},nt)}function it(){return Fe}class Ae{constructor(Ye,gt,Bt,ln,En){if(this.operation=Ye,this.retryPolicy=gt,this.getWaitDuration=Bt,this.lowerBound=ln,this.upperBound=En,this.pending=null,this.nextErrorWaitInterval=ln,ln>En)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ye){var gt=this;return(0,pe.Z)(function*(){gt.stop();try{gt.pending=new bt.BH,yield function qe(ot){return new Promise(Ye=>{setTimeout(Ye,ot)})}(gt.getNextRun(Ye)),gt.pending.resolve(),yield gt.pending.promise,gt.pending=new bt.BH,yield gt.operation(),gt.pending.resolve(),yield gt.pending.promise,gt.process(!0).catch(()=>{})}catch(Bt){gt.retryPolicy(Bt)?gt.process(!1).catch(()=>{}):gt.stop()}})()}getNextRun(Ye){if(Ye)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const gt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),gt}}}const Ht=new bt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yn(ot){if(!Ue(ot).activated)throw Ht.create("use-before-activation",{appName:ot.name})}function Jn(ot,Ye){return jn.apply(this,arguments)}function jn(){return(jn=(0,pe.Z)(function*({url:ot,body:Ye},gt){var Bt,ln;const En={"Content-Type":"application/json"},$n=gt.getImmediate({optional:!0});if($n){const Kr=yield $n.getHeartbeatsHeader();Kr&&(En["X-Firebase-Client"]=Kr)}const qi={method:"POST",body:JSON.stringify(Ye),headers:En};let Ri,us;try{Ri=yield fetch(ot,qi)}catch(Kr){throw Ht.create("fetch-network-error",{originalErrorMessage:null===(Bt=Kr)||void 0===Bt?void 0:Bt.message})}if(200!==Ri.status)throw Ht.create("fetch-status-error",{httpStatus:Ri.status});try{us=yield Ri.json()}catch(Kr){throw Ht.create("fetch-parse-error",{originalErrorMessage:null===(ln=Kr)||void 0===ln?void 0:ln.message})}const Os=us.ttl.match(/^([\d.]+)(s)$/);if(!Os||!Os[2]||isNaN(Number(Os[1])))throw Ht.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${us.ttl}`});const dr=1e3*Number(Os[1]),jo=Date.now();return{token:us.token,expireTimeMillis:jo+dr,issuedAtTimeMillis:jo}})).apply(this,arguments)}function Ai(ot,Ye){const{projectId:gt,appId:Bt,apiKey:ln}=ot.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${gt}/apps/${Bt}:exchangeDebugToken?key=${ln}`,body:{debug_token:Ye}}}const on="firebase-app-check-store";let ti=null;function rn(){return ti||(ti=new Promise((ot,Ye)=>{var gt;try{const Bt=indexedDB.open("firebase-app-check-database",1);Bt.onsuccess=ln=>{ot(ln.target.result)},Bt.onerror=ln=>{var En;Ye(Ht.create("storage-open",{originalErrorMessage:null===(En=ln.target.error)||void 0===En?void 0:En.message}))},Bt.onupgradeneeded=ln=>{0===ln.oldVersion&&ln.target.result.createObjectStore(on,{keyPath:"compositeKey"})}}catch(Bt){Ye(Ht.create("storage-open",{originalErrorMessage:null===(gt=Bt)||void 0===gt?void 0:gt.message}))}}),ti)}function Ut(){return(Ut=(0,pe.Z)(function*(ot,Ye){const Bt=(yield rn()).transaction(on,"readwrite"),En=Bt.objectStore(on).put({compositeKey:ot,value:Ye});return new Promise(($n,qi)=>{En.onsuccess=Ri=>{$n()},Bt.onerror=Ri=>{var us;qi(Ht.create("storage-set",{originalErrorMessage:null===(us=Ri.target.error)||void 0===us?void 0:us.message}))}})})).apply(this,arguments)}const Re=new Y.Yd("@firebase/app-check");function Ke(ot,Ye){return(0,bt.hl)()?function yi(ot,Ye){return function Ge(ot,Ye){return Ut.apply(this,arguments)}(function Zt(ot){return`${ot.options.appId}-${ot.name}`}(ot),Ye)}(ot,Ye).catch(gt=>{Re.warn(`Failed to write token to IndexedDB. Error: ${gt}`)}):Promise.resolve()}function Tt(){return it().enabled}function _n(){return fn.apply(this,arguments)}function fn(){return(fn=(0,pe.Z)(function*(){const ot=it();if(ot.enabled&&ot.token)return ot.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const W={error:"UNKNOWN_ERROR"};function de(ot){return bt.US.encodeString(JSON.stringify(ot),!1)}function Ee(ot){return Le.apply(this,arguments)}function Le(){return(Le=(0,pe.Z)(function*(ot,Ye=!1){const gt=ot.app;yn(gt);const Bt=Ue(gt);let En,ln=Bt.token;if(ln&&!_e(ln)&&(Bt.token=void 0,ln=void 0),!ln){const Ri=yield Bt.cachedTokenPromise;Ri&&(_e(Ri)?ln=Ri:yield Ke(gt,void 0))}if(!Ye&&ln&&_e(ln))return{token:ln.token};let qi,$n=!1;if(Tt()){Bt.exchangeTokenPromise||(Bt.exchangeTokenPromise=Jn(Ai(gt,yield _n()),ot.heartbeatServiceProvider).finally(()=>{Bt.exchangeTokenPromise=void 0}),$n=!0);const Ri=yield Bt.exchangeTokenPromise;return yield Ke(gt,Ri),Bt.token=Ri,{token:Ri.token}}try{Bt.exchangeTokenPromise||(Bt.exchangeTokenPromise=Bt.provider.getToken().finally(()=>{Bt.exchangeTokenPromise=void 0}),$n=!0),ln=yield Ue(gt).exchangeTokenPromise}catch(Ri){"appCheck/throttled"===Ri.code?Re.warn(Ri.message):Re.error(Ri),En=Ri}return ln?En?qi=_e(ln)?{token:ln.token,internalError:En}:X(En):(qi={token:ln.token},Bt.token=ln,yield Ke(gt,ln)):qi=X(En),$n&&Me(gt,qi),qi})).apply(this,arguments)}function Ft(ot,Ye){const gt=Ue(ot),Bt=gt.tokenObservers.filter(ln=>ln.next!==Ye);0===Bt.length&&gt.tokenRefresher&&gt.tokenRefresher.isRunning()&&gt.tokenRefresher.stop(),gt.tokenObservers=Bt}function he(ot){const{app:Ye}=ot,gt=Ue(Ye);let Bt=gt.tokenRefresher;Bt||(Bt=function fe(ot){const{app:Ye}=ot;return new Ae((0,pe.Z)(function*(){let Bt;if(Bt=Ue(Ye).token?yield Ee(ot,!0):yield Ee(ot),Bt.error)throw Bt.error;if(Bt.internalError)throw Bt.internalError}),()=>!0,()=>{const gt=Ue(Ye);if(gt.token){let Bt=gt.token.issuedAtTimeMillis+.5*(gt.token.expireTimeMillis-gt.token.issuedAtTimeMillis)+3e5;return Bt=Math.min(Bt,gt.token.expireTimeMillis-3e5),Math.max(0,Bt-Date.now())}return 0},3e4,96e4)}(ot),gt.tokenRefresher=Bt),!Bt.isRunning()&&gt.isTokenAutoRefreshEnabled&&Bt.start()}function Me(ot,Ye){const gt=Ue(ot).tokenObservers;for(const Bt of gt)try{"EXTERNAL"===Bt.type&&null!=Ye.error?Bt.error(Ye.error):Bt.next(Ye)}catch(ln){}}function _e(ot){return ot.expireTimeMillis-Date.now()>0}function X(ot){return{token:de(W),error:ot}}class ${constructor(Ye,gt){this.app=Ye,this.heartbeatServiceProvider=gt}_delete(){const{tokenObservers:Ye}=Ue(this.app);for(const gt of Ye)Ft(this.app,gt.next);return Promise.resolve()}}const gn="app-check-internal";!function rr(){(0,be._registerComponent)(new Qe.wA("app-check",ot=>function ee(ot,Ye){return new $(ot,Ye)}(ot.getProvider("app").getImmediate(),ot.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ot,Ye,gt)=>{ot.getProvider(gn).initialize()})),(0,be._registerComponent)(new Qe.wA(gn,ot=>function ne(ot){return{getToken:Ye=>Ee(ot,Ye),addTokenListener:Ye=>function vt(ot,Ye,gt,Bt){const{app:ln}=ot,En=Ue(ln);if(En.tokenObservers=[...En.tokenObservers,{next:gt,error:Bt,type:Ye}],En.token&&_e(En.token)){const qi=En.token;Promise.resolve().then(()=>{gt({token:qi.token}),he(ot)}).catch(()=>{})}En.cachedTokenPromise.then(()=>he(ot))}(ot,"INTERNAL",Ye),removeTokenListener:Ye=>Ft(ot.app,Ye)}}(ot.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)("@firebase/app-check","0.5.17")}();class wi{constructor(){return(0,f.vb)("app-check")}}"undefined"!=typeof window&&window},3385:(qt,We,x)=>{x.d(We,{zQ:()=>Ue,ww:()=>Xe,rT:()=>Y,f7:()=>nt,L6:()=>Qe,_Q:()=>bt,lh:()=>Je,Qv:()=>be,nw:()=>Fe});var f=x(5e3),h=x(7579),G=x(9646),Ce=x(8306),ve=x(8996),Ne=x(6451),me=x(3900),ue=x(576);function Z(it,st){return(0,ue.m)(st)?(0,me.w)(()=>it,st):(0,me.w)(()=>it)}var q=x(5363),se=x(4004),Te=x(3151),at=x(590),ke=x(9468),lt=x(9300),ut=x(6351),ze=x(2011),dt=x(9808),Be=x(440),ft=x(127);const be=new f.OlP("angularfire2.auth.use-emulator"),Qe=new f.OlP("angularfire2.auth.settings"),bt=new f.OlP("angularfire2.auth.tenant-id"),Y=new f.OlP("angularfire2.auth.langugage-code"),Je=new f.OlP("angularfire2.auth.use-device-language"),nt=new f.OlP("angularfire.auth.persistence"),Fe=(it,st,xt,tn,pt,mt,Q,Ae)=>(0,ze.cc)(`${it.name}.auth`,"AngularFireAuth",it.name,()=>{const qe=st.runOutsideAngular(()=>it.auth());if(xt&&qe.useEmulator(...xt),tn&&(qe.tenantId=tn),qe.languageCode=pt,mt&&qe.useDeviceLanguage(),Q)for(const[Rt,Ht]of Object.entries(Q))qe.settings[Rt]=Ht;return Ae&&qe.setPersistence(Ae),qe},[xt,tn,pt,mt,Q,Ae]);let Ue=(()=>{class it{constructor(xt,tn,pt,mt,Q,Ae,qe,Rt,Ht,nn,yn,On){const Vn=new h.x,Jn=(0,G.of)(void 0).pipe((0,q.Q)(Q.outsideAngular),(0,me.w)(()=>mt.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,5881)))),(0,se.U)(()=>(0,ze.on)(xt,mt,tn)),(0,se.U)(jn=>Fe(jn,mt,Ae,Rt,Ht,nn,qe,yn)),(0,Te.d)({bufferSize:1,refCount:!1}));if((0,dt.PM)(pt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,G.of)(null);else{Jn.pipe((0,at.P)()).subscribe();const ci=Jn.pipe((0,me.w)(Mn=>Mn.getRedirectResult().then(bi=>bi,()=>null)),ut.iC,(0,Te.d)({bufferSize:1,refCount:!1})),Yn=Jn.pipe((0,me.w)(Mn=>new Ce.y(bi=>({unsubscribe:mt.runOutsideAngular(()=>Mn.onAuthStateChanged(on=>bi.next(on),on=>bi.error(on),()=>bi.complete()))})))),Ai=Jn.pipe((0,me.w)(Mn=>new Ce.y(bi=>({unsubscribe:mt.runOutsideAngular(()=>Mn.onIdTokenChanged(on=>bi.next(on),on=>bi.error(on),()=>bi.complete()))}))));this.authState=ci.pipe(Z(Yn),(0,ke.R)(Q.outsideAngular),(0,q.Q)(Q.insideAngular)),this.user=ci.pipe(Z(Ai),(0,ke.R)(Q.outsideAngular),(0,q.Q)(Q.insideAngular)),this.idToken=this.user.pipe((0,me.w)(Mn=>Mn?(0,ve.D)(Mn.getIdToken()):(0,G.of)(null))),this.idTokenResult=this.user.pipe((0,me.w)(Mn=>Mn?(0,ve.D)(Mn.getIdTokenResult()):(0,G.of)(null))),this.credential=(0,Ne.T)(ci,Vn,this.authState.pipe((0,lt.h)(Mn=>!Mn))).pipe((0,se.U)(Mn=>(null==Mn?void 0:Mn.user)?Mn:null),(0,ke.R)(Q.outsideAngular),(0,q.Q)(Q.insideAngular))}return(0,ze.pX)(this,Jn,mt,{spy:{apply:(jn,ci,Yn)=>{(jn.startsWith("signIn")||jn.startsWith("createUser"))&&Yn.then(Ai=>Vn.next(Ai))}}})}}return it.\u0275fac=function(xt){return new(xt||it)(f.LFG(ze.Dh),f.LFG(ze.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ut.HU),f.LFG(be,8),f.LFG(Qe,8),f.LFG(bt,8),f.LFG(Y,8),f.LFG(Je,8),f.LFG(nt,8),f.LFG(Be.nm,8))},it.\u0275prov=f.Yz7({token:it,factory:it.\u0275fac,providedIn:"any"}),it})(),Xe=(()=>{class it{constructor(){ft.Z.registerVersion("angularfire",ut.q4.full,"auth-compat")}}return it.\u0275fac=function(xt){return new(xt||it)},it.\u0275mod=f.oAB({type:it}),it.\u0275inj=f.cJS({providers:[Ue]}),it})()},2011:(qt,We,x)=>{x.d(We,{Dh:()=>ue,GT:()=>Ne,cc:()=>ke,hO:()=>at,on:()=>q,pX:()=>ve,xv:()=>Z});var f=x(5e3),h=x(127),G=x(6351);qt=x.hmd(qt);const Ce=["ngOnDestroy"],ve=(dt,Be,ft,pe={})=>new Proxy(dt,{get:(be,Qe)=>ft.runOutsideAngular(()=>{var bt;if(dt[Qe])return(null===(bt=null==pe?void 0:pe.spy)||void 0===bt?void 0:bt.get)&&pe.spy.get(Qe,dt[Qe]),dt[Qe];if(Ce.indexOf(Qe)>-1)return()=>{};const Y=Be.toPromise().then(Je=>{const nt=Je&&Je[Qe];return"function"==typeof nt?nt.bind(Je):nt&&nt.then?nt.then(Fe=>ft.run(()=>Fe)):ft.run(()=>nt)});return new Proxy(()=>{},{get:(Je,nt)=>Y[nt],apply:(Je,nt,Fe)=>Y.then(Ue=>{var Xe;const it=Ue&&Ue(...Fe);return(null===(Xe=null==pe?void 0:pe.spy)||void 0===Xe?void 0:Xe.apply)&&pe.spy.apply(Qe,Fe,it),it})})})}),Ne=(dt,Be)=>{Be.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(pe=>{Object.defineProperty(dt.prototype,pe,Object.getOwnPropertyDescriptor(ft.prototype||ft,pe))})})};class me{constructor(Be){return Be}}const ue=new f.OlP("angularfire2.app.options"),Z=new f.OlP("angularfire2.app.name");function q(dt,Be,ft){const be="object"==typeof ft&&ft||{};be.name=be.name||"string"==typeof ft&&ft||"[DEFAULT]";const bt=h.Z.apps.filter(Y=>Y&&Y.name===be.name)[0]||Be.runOutsideAngular(()=>h.Z.initializeApp(dt,be));try{JSON.stringify(dt)!==JSON.stringify(bt.options)&&se("error",`${bt.name} Firebase App already initialized with different options${qt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Y){}return new me(bt)}const se=(dt,...Be)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[dt](...Be)},Te={provide:me,useFactory:q,deps:[ue,f.R0b,[new f.FiY,Z]]};let at=(()=>{class dt{constructor(ft){h.Z.registerVersion("angularfire",G.q4.full,"core"),h.Z.registerVersion("angularfire",G.q4.full,"app-compat"),h.Z.registerVersion("angular",f.q4F.full,ft.toString())}static initializeApp(ft,pe){return{ngModule:dt,providers:[{provide:ue,useValue:ft},{provide:Z,useValue:pe}]}}}return dt.\u0275fac=function(ft){return new(ft||dt)(f.LFG(f.Lbi))},dt.\u0275mod=f.oAB({type:dt}),dt.\u0275inj=f.cJS({providers:[Te]}),dt})();function ke(dt,Be,ft,pe,be){const[,Qe,bt]=globalThis.\u0275AngularfireInstanceCache.find(Y=>Y[0]===dt)||[];if(Qe)return function lt(dt,Be){try{return dt.toString()===Be.toString()}catch(ft){return dt===Be}}(be,bt)||(ze("error",`${Be} was already initialized on the ${ft} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),ze("warn",{is:be,was:bt})),Qe;{const Y=pe();return globalThis.\u0275AngularfireInstanceCache.push([dt,Y,be]),Y}}const ut=!!qt.hot,ze=(dt,...Be)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[dt](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(qt,We,x)=>{x.d(We,{q4:()=>qo,iC:()=>Yo,HU:()=>Ga,vb:()=>$a,JM:()=>No});var f=x(5e3),h=x(5867),G=x(5861),Ce=x(9681),ve=x(2090),Ne=x(4859),me=x(1877),ue=x(8766);const Z="@firebase/installations",q="0.5.16",Te=`w:${q}`,at="FIS_v2",Be=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(R){return R instanceof ve.ZR&&R.code.includes("request-failed")}function pe({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function be(R){return{token:R.token,requestStatus:2,expiresIn:Ue(R.expiresIn),creationTime:Date.now()}}function Qe(R,U){return bt.apply(this,arguments)}function bt(){return(bt=(0,G.Z)(function*(R,U){const Ie=(yield U.json()).error;return Be.create("request-failed",{requestName:R,serverCode:Ie.code,serverMessage:Ie.message,serverStatus:Ie.status})})).apply(this,arguments)}function Y({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function Je(R,{refreshToken:U}){const ae=Y(R);return ae.append("Authorization",function Xe(R){return`${at} ${R}`}(U)),ae}function nt(R){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,G.Z)(function*(R){const U=yield R();return U.status>=500&&U.status<600?R():U})).apply(this,arguments)}function Ue(R){return Number(R.replace("s","000"))}function it(R,U){return st.apply(this,arguments)}function st(){return(st=(0,G.Z)(function*({appConfig:R,heartbeatServiceProvider:U},{fid:ae}){const Ie=pe(R),rt=Y(R),Et=U.getImmediate({optional:!0});if(Et){const ui=yield Et.getHeartbeatsHeader();ui&&rt.append("x-firebase-client",ui)}const un={method:"POST",headers:rt,body:JSON.stringify({fid:ae,authVersion:at,appId:R.appId,sdkVersion:Te})},Bn=yield nt(()=>fetch(Ie,un));if(Bn.ok){const ui=yield Bn.json();return{fid:ui.fid||ae,registrationStatus:2,refreshToken:ui.refreshToken,authToken:be(ui.authToken)}}throw yield Qe("Create Installation",Bn)})).apply(this,arguments)}function xt(R){return new Promise(U=>{setTimeout(U,R)})}const pt=/^[cdef][\w-]{21}$/;function Q(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const ae=function Ae(R){return function tn(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return pt.test(ae)?ae:""}catch(R){return""}}function qe(R){return`${R.appName}!${R.appId}`}const Rt=new Map;function Ht(R,U){const ae=qe(R);On(ae,U),function Vn(R,U){const ae=function jn(){return!Jn&&"BroadcastChannel"in self&&(Jn=new BroadcastChannel("[Firebase] FID Change"),Jn.onmessage=R=>{On(R.data.key,R.data.fid)}),Jn}();ae&&ae.postMessage({key:R,fid:U}),function ci(){0===Rt.size&&Jn&&(Jn.close(),Jn=null)}()}(ae,U)}function On(R,U){const ae=Rt.get(R);if(ae)for(const Ie of ae)Ie(U)}let Jn=null;const Mn="firebase-installations-store";let bi=null;function on(){return bi||(bi=(0,ue.X3)("firebase-installations-database",1,{upgrade:(R,U)=>{0===U&&R.createObjectStore(Mn)}})),bi}function Li(R,U){return ti.apply(this,arguments)}function ti(){return(ti=(0,G.Z)(function*(R,U){const ae=qe(R),rt=(yield on()).transaction(Mn,"readwrite"),Et=rt.objectStore(Mn),Qt=yield Et.get(ae);return yield Et.put(U,ae),yield rt.done,(!Qt||Qt.fid!==U.fid)&&Ht(R,U.fid),U})).apply(this,arguments)}function rn(R){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,G.Z)(function*(R){const U=qe(R),Ie=(yield on()).transaction(Mn,"readwrite");yield Ie.objectStore(Mn).delete(U),yield Ie.done})).apply(this,arguments)}function yi(R,U){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,G.Z)(function*(R,U){const ae=qe(R),rt=(yield on()).transaction(Mn,"readwrite"),Et=rt.objectStore(Mn),Qt=yield Et.get(ae),un=U(Qt);return void 0===un?yield Et.delete(ae):yield Et.put(un,ae),yield rt.done,un&&(!Qt||Qt.fid!==un.fid)&&Ht(R,un.fid),un})).apply(this,arguments)}function Ve(R){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,G.Z)(function*(R){let U;const ae=yield yi(R.appConfig,Ie=>{const rt=Ut(Ie),Et=It(R,rt);return U=Et.registrationPromise,Et.installationEntry});return""===ae.fid?{installationEntry:yield U}:{installationEntry:ae,registrationPromise:U}})).apply(this,arguments)}function Ut(R){return Ke(R||{fid:Q(),registrationStatus:0})}function It(R,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(Be.create("app-offline"))};const ae={fid:U.fid,registrationStatus:1,registrationTime:Date.now()},Ie=function Nt(R,U){return Zt.apply(this,arguments)}(R,ae);return{installationEntry:ae,registrationPromise:Ie}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:Re(R)}:{installationEntry:U}}function Zt(){return(Zt=(0,G.Z)(function*(R,U){try{const ae=yield it(R,U);return Li(R.appConfig,ae)}catch(ae){throw ft(ae)&&409===ae.customData.serverCode?yield rn(R.appConfig):yield Li(R.appConfig,{fid:U.fid,registrationStatus:0}),ae}})).apply(this,arguments)}function Re(R){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,G.Z)(function*(R){let U=yield we(R.appConfig);for(;1===U.registrationStatus;)yield xt(100),U=yield we(R.appConfig);if(0===U.registrationStatus){const{installationEntry:ae,registrationPromise:Ie}=yield Ve(R);return Ie||ae}return U})).apply(this,arguments)}function we(R){return yi(R,U=>{if(!U)throw Be.create("installation-not-found");return Ke(U)})}function Ke(R){return function wt(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function Mt(R,U){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,G.Z)(function*({appConfig:R,heartbeatServiceProvider:U},ae){const Ie=_n(R,ae),rt=Je(R,ae),Et=U.getImmediate({optional:!0});if(Et){const ui=yield Et.getHeartbeatsHeader();ui&&rt.append("x-firebase-client",ui)}const un={method:"POST",headers:rt,body:JSON.stringify({installation:{sdkVersion:Te,appId:R.appId}})},Bn=yield nt(()=>fetch(Ie,un));if(Bn.ok)return be(yield Bn.json());throw yield Qe("Generate Auth Token",Bn)})).apply(this,arguments)}function _n(R,{fid:U}){return`${pe(R)}/${U}/authTokens:generate`}function fn(R){return pn.apply(this,arguments)}function pn(){return(pn=(0,G.Z)(function*(R,U=!1){let ae;const Ie=yield yi(R.appConfig,Et=>{if(!Ft(Et))throw Be.create("not-registered");const Qt=Et.authToken;if(!U&&he(Qt))return Et;if(1===Qt.requestStatus)return ae=W(R,U),Et;{if(!navigator.onLine)throw Be.create("app-offline");const un=Me(Et);return ae=Le(R,un),un}});return ae?yield ae:Ie.authToken})).apply(this,arguments)}function W(R,U){return de.apply(this,arguments)}function de(){return(de=(0,G.Z)(function*(R,U){let ae=yield Ee(R.appConfig);for(;1===ae.authToken.requestStatus;)yield xt(100),ae=yield Ee(R.appConfig);const Ie=ae.authToken;return 0===Ie.requestStatus?fn(R,U):Ie})).apply(this,arguments)}function Ee(R){return yi(R,U=>{if(!Ft(U))throw Be.create("not-registered");return function _e(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function Le(R,U){return vt.apply(this,arguments)}function vt(){return(vt=(0,G.Z)(function*(R,U){try{const ae=yield Mt(R,U),Ie=Object.assign(Object.assign({},U),{authToken:ae});return yield Li(R.appConfig,Ie),ae}catch(ae){if(!ft(ae)||401!==ae.customData.serverCode&&404!==ae.customData.serverCode){const Ie=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield Li(R.appConfig,Ie)}else yield rn(R.appConfig);throw ae}})).apply(this,arguments)}function Ft(R){return void 0!==R&&2===R.registrationStatus}function he(R){return 2===R.requestStatus&&!function fe(R){const U=Date.now();return U<R.creationTime||R.creationTime+R.expiresIn<U+36e5}(R)}function Me(R){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:U})}function $(){return($=(0,G.Z)(function*(R){const U=R,{installationEntry:ae,registrationPromise:Ie}=yield Ve(U);return Ie?Ie.catch(console.error):fn(U).catch(console.error),ae.fid})).apply(this,arguments)}function ne(){return(ne=(0,G.Z)(function*(R,U=!1){const ae=R;return yield xe(ae),(yield fn(ae,U)).token})).apply(this,arguments)}function xe(R){return et.apply(this,arguments)}function et(){return(et=(0,G.Z)(function*(R){const{registrationPromise:U}=yield Ve(R);U&&(yield U)})).apply(this,arguments)}function Cr(R){return Be.create("missing-app-config-values",{valueName:R})}const xi="installations",qn=R=>{const U=R.getProvider("app").getImmediate(),ae=function Ti(R){if(!R||!R.options)throw Cr("App Configuration");if(!R.name)throw Cr("App Name");const U=["projectId","apiKey","appId"];for(const ae of U)if(!R.options[ae])throw Cr(ae);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(U);return{app:U,appConfig:ae,heartbeatServiceProvider:(0,Ce._getProvider)(U,"heartbeat"),_delete:()=>Promise.resolve()}},gi=R=>{const U=R.getProvider("app").getImmediate(),ae=(0,Ce._getProvider)(U,xi).getImmediate();return{getId:()=>function X(R){return $.apply(this,arguments)}(ae),getToken:rt=>function ee(R){return ne.apply(this,arguments)}(ae,rt)}};(function zi(){(0,Ce._registerComponent)(new Ne.wA(xi,qn,"PUBLIC")),(0,Ce._registerComponent)(new Ne.wA("installations-internal",gi,"PRIVATE"))})(),(0,Ce.registerVersion)(Z,q),(0,Ce.registerVersion)(Z,q,"esm2017");const yr="@firebase/remote-config",Di=new ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gs{constructor(U,ae,Ie,rt){this.client=U,this.storage=ae,this.storageCache=Ie,this.logger=rt}isCachedDataFresh(U,ae){if(!ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ie=Date.now()-ae,rt=Ie<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${rt}.`),rt}fetch(U){var ae=this;return(0,G.Z)(function*(){const[Ie,rt]=yield Promise.all([ae.storage.getLastSuccessfulFetchTimestampMillis(),ae.storage.getLastSuccessfulFetchResponse()]);if(rt&&ae.isCachedDataFresh(U.cacheMaxAgeMillis,Ie))return rt;U.eTag=rt&&rt.eTag;const Et=yield ae.client.fetch(U),Qt=[ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Et.status&&Qt.push(ae.storage.setLastSuccessfulFetchResponse(Et)),yield Promise.all(Qt),Et})()}}function Ws(R=navigator){return R.languages&&R.languages[0]||R.language}class Xi{constructor(U,ae,Ie,rt,Et,Qt){this.firebaseInstallations=U,this.sdkVersion=ae,this.namespace=Ie,this.projectId=rt,this.apiKey=Et,this.appId=Qt}fetch(U){var ae=this;return(0,G.Z)(function*(){var Ie,rt,Et;const[Qt,un]=yield Promise.all([ae.firebaseInstallations.getId(),ae.firebaseInstallations.getToken()]),ui=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ae.projectId}/namespaces/${ae.namespace}:fetch?key=${ae.apiKey}`,ii={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},zn={sdk_version:ae.sdkVersion,app_instance_id:Qt,app_instance_id_token:un,app_id:ae.appId,language_code:Ws()},ss={method:"POST",headers:ii,body:JSON.stringify(zn)},Yi=fetch(ui,ss),il=new Promise((ca,Ta)=>{U.signal.addEventListener(()=>{const ro=new Error("The operation was aborted.");ro.name="AbortError",Ta(ro)})});let Qo;try{yield Promise.race([Yi,il]),Qo=yield Yi}catch(ca){let Ta="fetch-client-network";throw"AbortError"===(null===(Ie=ca)||void 0===Ie?void 0:Ie.name)&&(Ta="fetch-timeout"),Di.create(Ta,{originalErrorMessage:null===(rt=ca)||void 0===rt?void 0:rt.message})}let Us=Qo.status;const Ul=Qo.headers.get("ETag")||void 0;let Ca,Za;if(200===Qo.status){let ca;try{ca=yield Qo.json()}catch(Ta){throw Di.create("fetch-client-parse",{originalErrorMessage:null===(Et=Ta)||void 0===Et?void 0:Et.message})}Ca=ca.entries,Za=ca.state}if("INSTANCE_STATE_UNSPECIFIED"===Za?Us=500:"NO_CHANGE"===Za?Us=304:("NO_TEMPLATE"===Za||"EMPTY_CONFIG"===Za)&&(Ca={}),304!==Us&&200!==Us)throw Di.create("fetch-status",{httpStatus:Us});return{status:Us,eTag:Ul,config:Ca}})()}}class Ye{constructor(U,ae){this.client=U,this.storage=ae}fetch(U){var ae=this;return(0,G.Z)(function*(){const Ie=(yield ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ae.attemptFetch(U,Ie)})()}attemptFetch(U,{throttleEndTimeMillis:ae,backoffCount:Ie}){var rt=this;return(0,G.Z)(function*(){yield function bo(R,U){return new Promise((ae,Ie)=>{const rt=Math.max(U-Date.now(),0),Et=setTimeout(ae,rt);R.addEventListener(()=>{clearTimeout(Et),Ie(Di.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,ae);try{const Et=yield rt.client.fetch(U);return yield rt.storage.deleteThrottleMetadata(),Et}catch(Et){if(!function ot(R){if(!(R instanceof ve.ZR&&R.customData))return!1;const U=Number(R.customData.httpStatus);return 429===U||500===U||503===U||504===U}(Et))throw Et;const Qt={throttleEndTimeMillis:Date.now()+(0,ve.$s)(Ie),backoffCount:Ie+1};return yield rt.storage.setThrottleMetadata(Qt),rt.attemptFetch(U,Qt)}})()}}class ln{constructor(U,ae,Ie,rt,Et){this.app=U,this._client=ae,this._storageCache=Ie,this._storage=rt,this._logger=Et,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function En(R,U){var ae;const Ie=R.target.error||void 0;return Di.create(U,{originalErrorMessage:Ie&&(null===(ae=Ie)||void 0===ae?void 0:ae.message)})}const $n="app_namespace_store";class Os{constructor(U,ae,Ie,rt=function us(){return new Promise((R,U)=>{var ae;try{const Ie=indexedDB.open("firebase_remote_config",1);Ie.onerror=rt=>{U(En(rt,"storage-open"))},Ie.onsuccess=rt=>{R(rt.target.result)},Ie.onupgradeneeded=rt=>{0===rt.oldVersion&&rt.target.result.createObjectStore($n,{keyPath:"compositeKey"})}}catch(Ie){U(Di.create("storage-open",{originalErrorMessage:null===(ae=Ie)||void 0===ae?void 0:ae.message}))}})}()){this.appId=U,this.appName=ae,this.namespace=Ie,this.openDbPromise=rt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var ae=this;return(0,G.Z)(function*(){const Ie=yield ae.openDbPromise;return new Promise((rt,Et)=>{var Qt;const Bn=Ie.transaction([$n],"readonly").objectStore($n),ui=ae.createCompositeKey(U);try{const ii=Bn.get(ui);ii.onerror=zn=>{Et(En(zn,"storage-get"))},ii.onsuccess=zn=>{const ss=zn.target.result;rt(ss?ss.value:void 0)}}catch(ii){Et(Di.create("storage-get",{originalErrorMessage:null===(Qt=ii)||void 0===Qt?void 0:Qt.message}))}})})()}set(U,ae){var Ie=this;return(0,G.Z)(function*(){const rt=yield Ie.openDbPromise;return new Promise((Et,Qt)=>{var un;const ui=rt.transaction([$n],"readwrite").objectStore($n),ii=Ie.createCompositeKey(U);try{const zn=ui.put({compositeKey:ii,value:ae});zn.onerror=ss=>{Qt(En(ss,"storage-set"))},zn.onsuccess=()=>{Et()}}catch(zn){Qt(Di.create("storage-set",{originalErrorMessage:null===(un=zn)||void 0===un?void 0:un.message}))}})})()}delete(U){var ae=this;return(0,G.Z)(function*(){const Ie=yield ae.openDbPromise;return new Promise((rt,Et)=>{var Qt;const Bn=Ie.transaction([$n],"readwrite").objectStore($n),ui=ae.createCompositeKey(U);try{const ii=Bn.delete(ui);ii.onerror=zn=>{Et(En(zn,"storage-delete"))},ii.onsuccess=()=>{rt()}}catch(ii){Et(Di.create("storage-delete",{originalErrorMessage:null===(Qt=ii)||void 0===Qt?void 0:Qt.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class dr{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,G.Z)(function*(){const ae=U.storage.getLastFetchStatus(),Ie=U.storage.getLastSuccessfulFetchTimestampMillis(),rt=U.storage.getActiveConfig(),Et=yield ae;Et&&(U.lastFetchStatus=Et);const Qt=yield Ie;Qt&&(U.lastSuccessfulFetchTimestampMillis=Qt);const un=yield rt;un&&(U.activeConfig=un)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function $o(){return xr.apply(this,arguments)}function xr(){return(xr=(0,G.Z)(function*(){if(!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch(R){return!1}})).apply(this,arguments)}!function jo(){(0,Ce._registerComponent)(new Ne.wA("remote-config",function R(U,{instanceIdentifier:ae}){const Ie=U.getProvider("app").getImmediate(),rt=U.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Di.create("registration-window");if(!(0,ve.hl)())throw Di.create("indexed-db-unavailable");const{projectId:Et,apiKey:Qt,appId:un}=Ie.options;if(!Et)throw Di.create("registration-project-id");if(!Qt)throw Di.create("registration-api-key");if(!un)throw Di.create("registration-app-id");const Bn=new Os(un,Ie.name,ae=ae||"firebase"),ui=new dr(Bn),ii=new me.Yd(yr);ii.logLevel=me.in.ERROR;const zn=new Xi(rt,Ce.SDK_VERSION,ae,Et,Qt,un),ss=new Ye(zn,Bn),Yi=new gs(ss,Bn,ui,ii),il=new ln(Ie,Yi,ui,Bn,ii);return function _i(R){const U=(0,ve.m9)(R);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(il),il},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(yr,"0.3.15"),(0,Ce.registerVersion)(yr,"0.3.15","esm2017")}();const Ms="/firebase-messaging-sw.js",Qn="/firebase-cloud-messaging-push-scope",bs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ms="google.c.a.c_id",Aa="google.c.a.c_l",Go="google.c.a.ts",es="google.c.a.e";var qr=(()=>{return(R=qr||(qr={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",qr;var R})();function ts(R){const U=new Uint8Array(R);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qs(R){const ae=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ie=atob(ae),rt=new Uint8Array(Ie.length);for(let Et=0;Et<Ie.length;++Et)rt[Et]=Ie.charCodeAt(Et);return rt}const Ni="fcm_token_details_db",zo="fcm_token_object_Store";function na(R){return cs.apply(this,arguments)}function cs(){return cs=(0,G.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Et=>Et.name).includes(Ni))return null;let U=null;return(yield(0,ue.X3)(Ni,5,{upgrade:(Ie=(0,G.Z)(function*(rt,Et,Qt,un){var Bn;if(Et<2||!rt.objectStoreNames.contains(zo))return;const ui=un.objectStore(zo),ii=yield ui.index("fcmSenderId").get(R);if(yield ui.clear(),ii)if(2===Et){const zn=ii;if(!zn.auth||!zn.p256dh||!zn.endpoint)return;U={token:zn.fcmToken,createTime:null!==(Bn=zn.createTime)&&void 0!==Bn?Bn:Date.now(),subscriptionOptions:{auth:zn.auth,p256dh:zn.p256dh,endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:"string"==typeof zn.vapidKey?zn.vapidKey:ts(zn.vapidKey)}}}else if(3===Et){const zn=ii;U={token:zn.fcmToken,createTime:zn.createTime,subscriptionOptions:{auth:ts(zn.auth),p256dh:ts(zn.p256dh),endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:ts(zn.vapidKey)}}}else if(4===Et){const zn=ii;U={token:zn.fcmToken,createTime:zn.createTime,subscriptionOptions:{auth:ts(zn.auth),p256dh:ts(zn.p256dh),endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:ts(zn.vapidKey)}}}}),function(Et,Qt,un,Bn){return Ie.apply(this,arguments)})})).close(),yield(0,ue.Lj)(Ni),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),vr(U)?U:null;var Ie}),cs.apply(this,arguments)}function vr(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:U}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}const Wn="firebase-messaging-store";let ws=null;function Fi(){return ws||(ws=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(R,U)=>{0===U&&R.createObjectStore(Wn)}})),ws}function V(R){return ie.apply(this,arguments)}function ie(){return(ie=(0,G.Z)(function*(R){const U=$t(R),Ie=yield(yield Fi()).transaction(Wn).objectStore(Wn).get(U);if(Ie)return Ie;{const rt=yield na(R.appConfig.senderId);if(rt)return yield F(R,rt),rt}})).apply(this,arguments)}function F(R,U){return ce.apply(this,arguments)}function ce(){return(ce=(0,G.Z)(function*(R,U){const ae=$t(R),rt=(yield Fi()).transaction(Wn,"readwrite");return yield rt.objectStore(Wn).put(U,ae),yield rt.done,U})).apply(this,arguments)}function $e(R){return At.apply(this,arguments)}function At(){return(At=(0,G.Z)(function*(R){const U=$t(R),Ie=(yield Fi()).transaction(Wn,"readwrite");yield Ie.objectStore(Wn).delete(U),yield Ie.done})).apply(this,arguments)}function $t({appConfig:R}){return R.appId}const Gn=new ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mi(R,U){return ei.apply(this,arguments)}function ei(){return(ei=(0,G.Z)(function*(R,U){var ae;const Ie=yield N(R),rt=re(U),Et={method:"POST",headers:Ie,body:JSON.stringify(rt)};let Qt;try{Qt=yield(yield fetch(B(R.appConfig),Et)).json()}catch(un){throw Gn.create("token-subscribe-failed",{errorInfo:null===(ae=un)||void 0===ae?void 0:ae.toString()})}if(Qt.error)throw Gn.create("token-subscribe-failed",{errorInfo:Qt.error.message});if(!Qt.token)throw Gn.create("token-subscribe-no-token");return Qt.token})).apply(this,arguments)}function fi(R,U){return er.apply(this,arguments)}function er(){return(er=(0,G.Z)(function*(R,U){var ae;const Ie=yield N(R),rt=re(U.subscriptionOptions),Et={method:"PATCH",headers:Ie,body:JSON.stringify(rt)};let Qt;try{Qt=yield(yield fetch(`${B(R.appConfig)}/${U.token}`,Et)).json()}catch(un){throw Gn.create("token-update-failed",{errorInfo:null===(ae=un)||void 0===ae?void 0:ae.toString()})}if(Qt.error)throw Gn.create("token-update-failed",{errorInfo:Qt.error.message});if(!Qt.token)throw Gn.create("token-update-no-token");return Qt.token})).apply(this,arguments)}function Hi(R,U){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,G.Z)(function*(R,U){var ae;const rt={method:"DELETE",headers:yield N(R)};try{const Qt=yield(yield fetch(`${B(R.appConfig)}/${U}`,rt)).json();if(Qt.error)throw Gn.create("token-unsubscribe-failed",{errorInfo:Qt.error.message})}catch(Et){throw Gn.create("token-unsubscribe-failed",{errorInfo:null===(ae=Et)||void 0===ae?void 0:ae.toString()})}})).apply(this,arguments)}function B({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function N(R){return M.apply(this,arguments)}function M(){return(M=(0,G.Z)(function*({appConfig:R,installations:U}){const ae=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${ae}`})})).apply(this,arguments)}function re({p256dh:R,auth:U,endpoint:ae,vapidKey:Ie}){const rt={web:{endpoint:ae,auth:U,p256dh:R}};return Ie!==bs&&(rt.web.applicationPubKey=Ie),rt}const Pt=6048e5;function xn(R){return ki.apply(this,arguments)}function ki(){return(ki=(0,G.Z)(function*(R){const U=yield dl(R.swRegistration,R.vapidKey),ae={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:U.endpoint,auth:ts(U.getKey("auth")),p256dh:ts(U.getKey("p256dh"))},Ie=yield V(R.firebaseDependencies);if(Ie){if(ma(Ie.subscriptionOptions,ae))return Date.now()>=Ie.createTime+Pt?Wo(R,{token:Ie.token,createTime:Date.now(),subscriptionOptions:ae}):Ie.token;try{yield Hi(R.firebaseDependencies,Ie.token)}catch(rt){console.warn(rt)}return Gt(R.firebaseDependencies,ae)}return Gt(R.firebaseDependencies,ae)})).apply(this,arguments)}function Cs(R){return ds.apply(this,arguments)}function ds(){return(ds=(0,G.Z)(function*(R){const U=yield V(R.firebaseDependencies);U&&(yield Hi(R.firebaseDependencies,U.token),yield $e(R.firebaseDependencies));const ae=yield R.swRegistration.pushManager.getSubscription();return!ae||ae.unsubscribe()})).apply(this,arguments)}function Wo(R,U){return ga.apply(this,arguments)}function ga(){return(ga=(0,G.Z)(function*(R,U){try{const ae=yield fi(R.firebaseDependencies,U),Ie=Object.assign(Object.assign({},U),{token:ae,createTime:Date.now()});return yield F(R.firebaseDependencies,Ie),ae}catch(ae){throw yield Cs(R),ae}})).apply(this,arguments)}function Gt(R,U){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,G.Z)(function*(R,U){const Ie={token:yield mi(R,U),createTime:Date.now(),subscriptionOptions:U};return yield F(R,Ie),Ie.token})).apply(this,arguments)}function dl(R,U){return ar.apply(this,arguments)}function ar(){return(ar=(0,G.Z)(function*(R,U){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qs(U)})})).apply(this,arguments)}function ma(R,U){return U.vapidKey===R.vapidKey&&U.endpoint===R.endpoint&&U.auth===R.auth&&U.p256dh===R.p256dh}function Co(R){const U={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function Zs(R,U){if(!U.notification)return;R.notification={};const ae=U.notification.title;ae&&(R.notification.title=ae);const Ie=U.notification.body;Ie&&(R.notification.body=Ie);const rt=U.notification.image;rt&&(R.notification.image=rt);const Et=U.notification.icon;Et&&(R.notification.icon=Et)}(U,R),function xa(R,U){!U.data||(R.data=U.data)}(U,R),function ya(R,U){var ae,Ie,rt,Et,Qt;if(!U.fcmOptions&&!(null===(ae=U.notification)||void 0===ae?void 0:ae.click_action))return;R.fcmOptions={};const un=null!==(rt=null===(Ie=U.fcmOptions)||void 0===Ie?void 0:Ie.link)&&void 0!==rt?rt:null===(Et=U.notification)||void 0===Et?void 0:Et.click_action;un&&(R.fcmOptions.link=un);const Bn=null===(Qt=U.fcmOptions)||void 0===Qt?void 0:Qt.analytics_label;Bn&&(R.fcmOptions.analyticsLabel=Bn)}(U,R),U}function hl(R){return"object"==typeof R&&!!R&&ms in R}function Oa(R,U){const ae=[];for(let Ie=0;Ie<R.length;Ie++)ae.push(R.charAt(Ie)),Ie<U.length&&ae.push(U.charAt(Ie));return ae.join("")}function Js(R){return Gn.create("missing-app-config-values",{valueName:R})}Oa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Oa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Mr{constructor(U,ae,Ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const rt=function uo(R){if(!R||!R.options)throw Js("App Configuration Object");if(!R.name)throw Js("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:ae}=R;for(const Ie of U)if(!ae[Ie])throw Js(Ie);return{appName:R.name,projectId:ae.projectId,apiKey:ae.apiKey,appId:ae.appId,senderId:ae.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:rt,installations:ae,analyticsProvider:Ie}}_delete(){return Promise.resolve()}}function Rs(R){return co.apply(this,arguments)}function co(){return(co=(0,G.Z)(function*(R){var U;try{R.swRegistration=yield navigator.serviceWorker.register(Ms,{scope:Qn}),R.swRegistration.update().catch(()=>{})}catch(ae){throw Gn.create("failed-service-worker-registration",{browserErrorMessage:null===(U=ae)||void 0===U?void 0:U.message})}})).apply(this,arguments)}function Sr(R,U){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,G.Z)(function*(R,U){if(!U&&!R.swRegistration&&(yield Rs(R)),U||!R.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw Gn.create("invalid-sw-registration");R.swRegistration=U}})).apply(this,arguments)}function ia(R,U){return To.apply(this,arguments)}function To(){return(To=(0,G.Z)(function*(R,U){U?R.vapidKey=U:R.vapidKey||(R.vapidKey=bs)})).apply(this,arguments)}function Ds(){return(Ds=(0,G.Z)(function*(R,U){if(!navigator)throw Gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gn.create("permission-blocked");return yield ia(R,null==U?void 0:U.vapidKey),yield Sr(R,null==U?void 0:U.serviceWorkerRegistration),xn(R)})).apply(this,arguments)}function fl(R,U,ae){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,G.Z)(function*(R,U,ae){const Ie=Do(U);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(Ie,{message_id:ae[ms],message_name:ae[Aa],message_time:ae[Go],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Do(R){switch(R){case qr.NOTIFICATION_CLICKED:return"notification_open";case qr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Io(){return(Io=(0,G.Z)(function*(R,U){const ae=U.data;if(!ae.isFirebaseMessaging)return;R.onMessageHandler&&ae.messageType===qr.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(Co(ae)):R.onMessageHandler.next(Co(ae)));const Ie=ae.data;hl(Ie)&&"1"===Ie[es]&&(yield fl(R,ae.messageType,Ie))})).apply(this,arguments)}const ns="@firebase/messaging",Ao=R=>{const U=new Mr(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ae=>function Pa(R,U){return Io.apply(this,arguments)}(U,ae)),U},ra=R=>{const U=R.getProvider("messaging").getImmediate();return{getToken:Ie=>function Ma(R,U){return Ds.apply(this,arguments)}(U,Ie)}};function sa(){return xo.apply(this,arguments)}function xo(){return(xo=(0,G.Z)(function*(){try{yield(0,ve.eu)()}catch(R){return!1}return"undefined"!=typeof window&&(0,ve.hl)()&&(0,ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function pl(){(0,Ce._registerComponent)(new Ne.wA("messaging",Ao,"PUBLIC")),(0,Ce._registerComponent)(new Ne.wA("messaging-internal",ra,"PRIVATE")),(0,Ce.registerVersion)(ns,"0.11.0"),(0,Ce.registerVersion)(ns,"0.11.0","esm2017")}();const Is="analytics",fo="firebase_id",Kt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tr="https://www.googletagmanager.com/gtag/js",$i=new me.Yd("@firebase/analytics");function oa(R){return Promise.all(R.map(U=>U.catch(ae=>ae)))}function Rn(R,U){const ae=document.createElement("script");ae.src=`${tr}?l=${R}&id=${U}`,ae.async=!0,document.head.appendChild(ae)}function Ss(R,U,ae,Ie,rt,Et){return hn.apply(this,arguments)}function hn(){return(hn=(0,G.Z)(function*(R,U,ae,Ie,rt,Et){const Qt=Ie[rt];try{if(Qt)yield U[Qt];else{const Bn=(yield oa(ae)).find(ui=>ui.measurementId===rt);Bn&&(yield U[Bn.appId])}}catch(un){$i.error(un)}R("config",rt,Et)})).apply(this,arguments)}function Dt(R,U,ae,Ie,rt){return zt.apply(this,arguments)}function zt(){return(zt=(0,G.Z)(function*(R,U,ae,Ie,rt){try{let Et=[];if(rt&&rt.send_to){let Qt=rt.send_to;Array.isArray(Qt)||(Qt=[Qt]);const un=yield oa(ae);for(const Bn of Qt){const ui=un.find(zn=>zn.measurementId===Bn),ii=ui&&U[ui.appId];if(!ii){Et=[];break}Et.push(ii)}}0===Et.length&&(Et=Object.values(U)),yield Promise.all(Et),R("event",Ie,rt||{})}catch(Et){$i.error(Et)}})).apply(this,arguments)}function Ja(R){const U=window.document.getElementsByTagName("script");for(const ae of Object.values(U))if(ae.src&&ae.src.includes(tr)&&ae.src.includes(R))return ae;return null}const ys=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),rs=new class Na{constructor(U={},ae=1e3){this.throttleMetadata=U,this.intervalMillis=ae}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,ae){this.throttleMetadata[U]=ae}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function _a(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function ka(R){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,G.Z)(function*(R){var U;const{appId:ae,apiKey:Ie}=R,rt={method:"GET",headers:_a(Ie)},Et=Kt.replace("{app-id}",ae),Qt=yield fetch(Et,rt);if(200!==Qt.status&&304!==Qt.status){let un="";try{const Bn=yield Qt.json();(null===(U=Bn.error)||void 0===U?void 0:U.message)&&(un=Bn.error.message)}catch(Bn){}throw ys.create("config-fetch-failed",{httpStatus:Qt.status,responseMessage:un})}return Qt.json()})).apply(this,arguments)}function ni(R){return vs.apply(this,arguments)}function vs(){return(vs=(0,G.Z)(function*(R,U=rs,ae){const{appId:Ie,apiKey:rt,measurementId:Et}=R.options;if(!Ie)throw ys.create("no-app-id");if(!rt){if(Et)return{measurementId:Et,appId:Ie};throw ys.create("no-api-key")}const Qt=U.getThrottleMetadata(Ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},un=new D;return setTimeout((0,G.Z)(function*(){un.abort()}),void 0!==ae?ae:6e4),Ea({appId:Ie,apiKey:rt,measurementId:Et},Qt,un,U)})).apply(this,arguments)}function Ea(R,U,ae){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,G.Z)(function*(R,{throttleEndTimeMillis:U,backoffCount:ae},Ie,rt=rs){var Et,Qt;const{appId:un,measurementId:Bn}=R;try{yield Xn(Ie,U)}catch(ui){if(Bn)return $i.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bn} provided in the "measurementId" field in the local Firebase config. [${null===(Et=ui)||void 0===Et?void 0:Et.message}]`),{appId:un,measurementId:Bn};throw ui}try{const ui=yield ka(R);return rt.deleteThrottleMetadata(un),ui}catch(ui){const ii=ui;if(!O(ii)){if(rt.deleteThrottleMetadata(un),Bn)return $i.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bn} provided in the "measurementId" field in the local Firebase config. [${null==ii?void 0:ii.message}]`),{appId:un,measurementId:Bn};throw ui}const zn=503===Number(null===(Qt=null==ii?void 0:ii.customData)||void 0===Qt?void 0:Qt.httpStatus)?(0,ve.$s)(ae,rt.intervalMillis,30):(0,ve.$s)(ae,rt.intervalMillis),ss={throttleEndTimeMillis:Date.now()+zn,backoffCount:ae+1};return rt.setThrottleMetadata(un,ss),$i.debug(`Calling attemptFetch again in ${zn} millis`),Ea(R,ss,Ie,rt)}})).apply(this,arguments)}function Xn(R,U){return new Promise((ae,Ie)=>{const rt=Math.max(U-Date.now(),0),Et=setTimeout(ae,rt);R.addEventListener(()=>{clearTimeout(Et),Ie(ys.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}function O(R){if(!(R instanceof ve.ZR&&R.customData))return!1;const U=Number(R.customData.httpStatus);return 429===U||500===U||503===U||504===U}class D{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}let w,Pi;function L(){return(L=(0,G.Z)(function*(R,U,ae,Ie,rt){if(rt&&rt.global)R("event",ae,Ie);else{const Et=yield U;R("event",ae,Object.assign(Object.assign({},Ie),{send_to:Et}))}})).apply(this,arguments)}function pr(R){Pi=R}function go(R){w=R}function Oo(){return mo.apply(this,arguments)}function mo(){return(mo=(0,G.Z)(function*(){var R;if(!(0,ve.hl)())return $i.warn(ys.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(U){return $i.warn(ys.create("indexeddb-unavailable",{errorInfo:null===(R=U)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function Ko(){return(Ko=(0,G.Z)(function*(R,U,ae,Ie,rt,Et,Qt){var un;const Bn=ni(R);Bn.then(Yi=>{ae[Yi.measurementId]=Yi.appId,R.options.measurementId&&Yi.measurementId!==R.options.measurementId&&$i.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Yi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yi=>$i.error(Yi)),U.push(Bn);const ui=Oo().then(Yi=>{if(Yi)return Ie.getId()}),[ii,zn]=yield Promise.all([Bn,ui]);Ja(Et)||Rn(Et,ii.measurementId),Pi&&(rt("consent","default",Pi),pr(void 0)),rt("js",new Date);const ss=null!==(un=null==Qt?void 0:Qt.config)&&void 0!==un?un:{};return ss.origin="firebase",ss.update=!0,null!=zn&&(ss[fo]=zn),rt("config",ii.measurementId,ss),w&&(rt("set",w),go(void 0)),ii.measurementId})).apply(this,arguments)}class _t{constructor(U){this.app=U}_delete(){return delete Pr[this.app.options.appId],Promise.resolve()}}let Pr={},Xs=[];const yl={};let La,gr,Mo="dataLayer",vl=!1;function Va(R,U,ae){!function ba(){const R=[];if((0,ve.ru)()&&R.push("This is a browser extension environment."),(0,ve.zI)()||R.push("Cookies are not available."),R.length>0){const U=R.map((Ie,rt)=>`(${rt+1}) ${Ie}`).join(" "),ae=ys.create("invalid-analytics-context",{errorInfo:U});$i.warn(ae.message)}}();const Ie=R.options.appId;if(!Ie)throw ys.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw ys.create("no-api-key");$i.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pr[Ie])throw ys.create("already-exists",{id:Ie});if(!vl){!function Sn(R){let U=[];Array.isArray(window[R])?U=window[R]:window[R]=U}(Mo);const{wrappedGtag:Et,gtagCore:Qt}=function Ra(R,U,ae,Ie,rt){let Et=function(...Qt){window[Ie].push(arguments)};return window[rt]&&"function"==typeof window[rt]&&(Et=window[rt]),window[rt]=function fr(R,U,ae,Ie){function Et(){return(Et=(0,G.Z)(function*(Qt,un,Bn){try{"event"===Qt?yield Dt(R,U,ae,un,Bn):"config"===Qt?yield Ss(R,U,ae,Ie,un,Bn):"consent"===Qt?R("consent","update",Bn):R("set",un)}catch(ui){$i.error(ui)}})).apply(this,arguments)}return function rt(Qt,un,Bn){return Et.apply(this,arguments)}}(Et,R,U,ae),{gtagCore:Et,wrappedGtag:window[rt]}}(Pr,Xs,yl,Mo,"gtag");gr=Et,La=Qt,vl=!0}return Pr[Ie]=function Yr(R,U,ae,Ie,rt,Et,Qt){return Ko.apply(this,arguments)}(R,Xs,yl,U,La,Mo,ae),new _t(R)}function Ua(){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,G.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch(R){return!1}})).apply(this,arguments)}const Ar="@firebase/analytics";!function Ba(){(0,Ce._registerComponent)(new Ne.wA(Is,(U,{options:ae})=>Va(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),ae),"PUBLIC")),(0,Ce._registerComponent)(new Ne.wA("analytics-internal",function R(U){try{const ae=U.getProvider(Is).getImmediate();return{logEvent:(Ie,rt,Et)=>function to(R,U,ae,Ie){R=(0,ve.m9)(R),function k(R,U,ae,Ie,rt){return L.apply(this,arguments)}(gr,Pr[R.app.options.appId],U,ae,Ie).catch(rt=>$i.error(rt))}(ae,Ie,rt,Et)}}catch(ae){throw ys.create("interop-component-reg-failed",{reason:ae})}},"PRIVATE")),(0,Ce.registerVersion)(Ar,"0.8.4"),(0,Ce.registerVersion)(Ar,"0.8.4","esm2017")}();var Ha=x(233),Er=x(4986),Br=x(8505),Ls=x(9468),uu=x(5363);const qo=new f.GfV("7.5.0"),wa="__angularfire_symbol__analyticsIsSupportedValue",_s="__angularfire_symbol__analyticsIsSupported",Po="__angularfire_symbol__remoteConfigIsSupportedValue",ja="__angularfire_symbol__remoteConfigIsSupported",cu="__angularfire_symbol__messagingIsSupportedValue",aa="__angularfire_symbol__messagingIsSupported";function No(R,U,ae){if(U){if(1===U.length)return U[0];const Et=U.filter(Qt=>Qt.app===ae);if(1===Et.length)return Et[0]}return ae.container.getProvider(R).getImmediate({optional:!0})}globalThis[_s]||(globalThis[_s]=Ua().then(R=>globalThis[wa]=R).catch(()=>globalThis[wa]=!1)),globalThis[aa]||(globalThis[aa]=sa().then(R=>globalThis[cu]=R).catch(()=>globalThis[cu]=!1)),globalThis[ja]||(globalThis[ja]=$o().then(R=>globalThis[Po]=R).catch(()=>globalThis[Po]=!1));const $a=(R,U)=>{const ae=U?[U]:(0,h.C6)(),Ie=[];return ae.forEach(rt=>{rt.container.getProvider(R).instances.forEach(Qt=>{Ie.includes(Qt)||Ie.push(Qt)})}),Ie};function Fs(){}class Vl{constructor(U,ae=Ha.N){this.zone=U,this.delegate=ae}now(){return this.delegate.now()}schedule(U,ae,Ie){const rt=this.zone;return this.delegate.schedule(function(Qt){rt.runGuarded(()=>{U.apply(this,[Qt])})},ae,Ie)}}class ua{constructor(U){this.zone=U,this.task=null}call(U,ae){const Ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fs,{},Fs,Fs)),ae.pipe((0,Br.b)({next:Ie,complete:Ie,error:Ie})).subscribe(U).add(Ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ga=(()=>{class R{constructor(ae){this.ngZone=ae,this.outsideAngular=ae.runOutsideAngular(()=>new Vl(Zone.current)),this.insideAngular=ae.run(()=>new Vl(Zone.current,Er.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(ae){return new(ae||R)(f.LFG(f.R0b))},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function ko(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Yo(R){return ko(),function nl(R){return function(ae){return(ae=ae.lift(new ua(R.ngZone))).pipe((0,Ls.R)(R.outsideAngular),(0,uu.Q)(R.insideAngular))}}(ko())(R)}},8247:(qt,We,x)=>{x.d(We,{$:()=>B,A:()=>se,B:()=>ke,G:()=>gi,H:()=>ai,J:()=>Ye,L:()=>he,M:()=>xr,N:()=>Ps,P:()=>wa,Q:()=>ms,R:()=>ur,T:()=>Aa,U:()=>bs,V:()=>qr,W:()=>ts,X:()=>na,Y:()=>Pn,Z:()=>mi,_:()=>fi,a:()=>Xa,a0:()=>xn,a1:()=>Cs,a2:()=>Wo,a3:()=>Gt,a4:()=>dl,a5:()=>ma,a6:()=>Zs,a7:()=>xa,a8:()=>hl,a9:()=>Oa,aA:()=>fe,aB:()=>Yi,aC:()=>Wa,aD:()=>Vs,aE:()=>Yt,aI:()=>_a,aL:()=>es,aa:()=>Rs,ab:()=>Sr,ac:()=>ia,af:()=>fl,ag:()=>Do,ah:()=>Pa,ak:()=>Wn,al:()=>gl,an:()=>tr,ao:()=>hn,ap:()=>nt,aq:()=>Vt,ar:()=>xe,as:()=>ft,at:()=>an,au:()=>ro,av:()=>bn,aw:()=>pe,ax:()=>Y,ay:()=>Ca,az:()=>Ue,b:()=>ys,c:()=>Jr,d:()=>Vl,e:()=>$a,f:()=>ae,g:()=>Bn,h:()=>Et,i:()=>mo,j:()=>zn,k:()=>El,l:()=>Nr,m:()=>Gl,o:()=>ue,r:()=>Ha,s:()=>no,u:()=>uu});var f=x(5861),h=x(2090),G=x(9681),Ce=x(1877),ve=x(655),Ne=x(4859);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function Te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lt=function at(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new h.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dt=new Ce.Yd("@firebase/auth");function Be(C,...m){dt.logLevel<=Ce.in.ERROR&&dt.error(`Auth (${G.SDK_VERSION}): ${C}`,...m)}function ft(C,...m){throw bt(C,...m)}function pe(C,...m){return bt(C,...m)}function be(C,m,v){const S=Object.assign(Object.assign({},lt()),{[m]:v});return new h.LL("auth","Firebase",S).create(m,{appName:C.name})}function Qe(C,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&ft(C,"argument-error"),be(C,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bt(C,...m){if("string"!=typeof C){const v=m[0],S=[...m.slice(1)];return S[0]&&(S[0].appName=C.name),C._errorFactory.create(v,...S)}return ut.create(C,...m)}function Y(C,m,...v){if(!C)throw bt(m,...v)}function Je(C){const m="INTERNAL ASSERTION FAILED: "+C;throw Be(m),new Error(m)}function nt(C,m){C||Je(m)}const Fe=new Map;function Ue(C){nt(C instanceof Function,"Expected a class definition");let m=Fe.get(C);return m?(nt(m instanceof C,"Instance stored in cache mismatched with class"),m):(m=new C,Fe.set(C,m),m)}function st(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function xt(){return"http:"===tn()||"https:"===tn()}function tn(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Q{constructor(m,v){this.shortDelay=m,this.longDelay=v,nt(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,h.uI)()||(0,h.b$)()}get(){return function pt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,h.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ae(C,m){nt(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class qe{static initialize(m,v,S){this.fetchImpl=m,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ht=new Q(3e4,6e4);function nn(C,m){return C.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:C.tenantId}):m}function yn(C,m,v,S){return On.apply(this,arguments)}function On(){return(On=(0,f.Z)(function*(C,m,v,S,J={}){return Vn(C,J,(0,f.Z)(function*(){let ge={},ct={};S&&("GET"===m?ct=S:ge={body:JSON.stringify(S)});const Jt=(0,h.xO)(Object.assign({key:C.config.apiKey},ct)).slice(1),dn=yield C._getAdditionalHeaders();return dn["Content-Type"]="application/json",C.languageCode&&(dn["X-Firebase-Locale"]=C.languageCode),qe.fetch()(Yn(C,C.config.apiHost,v,Jt),Object.assign({method:m,headers:dn,referrerPolicy:"no-referrer"},ge))}))})).apply(this,arguments)}function Vn(C,m,v){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,f.Z)(function*(C,m,v){C._canInitEmulator=!1;const S=Object.assign(Object.assign({},Rt),m);try{const J=new Ai(C),ge=yield Promise.race([v(),J.promise]);J.clearNetworkTimeout();const ct=yield ge.json();if("needConfirmation"in ct)throw Mn(C,"account-exists-with-different-credential",ct);if(ge.ok&&!("errorMessage"in ct))return ct;{const Jt=ge.ok?ct.errorMessage:ct.error.message,[dn,cn]=Jt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dn)throw Mn(C,"credential-already-in-use",ct);if("EMAIL_EXISTS"===dn)throw Mn(C,"email-already-in-use",ct);if("USER_DISABLED"===dn)throw Mn(C,"user-disabled",ct);const ri=S[dn]||dn.toLowerCase().replace(/[_\s]+/g,"-");if(cn)throw be(C,ri,cn);ft(C,ri)}}catch(J){if(J instanceof h.ZR)throw J;ft(C,"network-request-failed")}})).apply(this,arguments)}function jn(C,m,v,S){return ci.apply(this,arguments)}function ci(){return(ci=(0,f.Z)(function*(C,m,v,S,J={}){const ge=yield yn(C,m,v,S,J);return"mfaPendingCredential"in ge&&ft(C,"multi-factor-auth-required",{_serverResponse:ge}),ge})).apply(this,arguments)}function Yn(C,m,v,S){const J=`${m}${v}?${S}`;return C.config.emulator?Ae(C.config,J):`${C.config.apiScheme}://${J}`}class Ai{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S(pe(this.auth,"network-request-failed")),Ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(C,m,v){const S={appName:C.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const J=pe(C,m,S);return J.customData._tokenResponse=v,J}function on(){return(on=(0,f.Z)(function*(C,m){return yn(C,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Li(C,m){return ti.apply(this,arguments)}function ti(){return(ti=(0,f.Z)(function*(C,m){return yn(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function rn(C,m){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,f.Z)(function*(C,m){return yn(C,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function yi(C){if(C)try{const m=new Date(Number(C));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Ge(){return(Ge=(0,f.Z)(function*(C,m=!1){const v=(0,h.m9)(C),S=yield v.getIdToken(m),J=It(S);Y(J&&J.exp&&J.auth_time&&J.iat,v.auth,"internal-error");const ge="object"==typeof J.firebase?J.firebase:void 0,ct=null==ge?void 0:ge.sign_in_provider;return{claims:J,token:S,authTime:yi(Ut(J.auth_time)),issuedAtTime:yi(Ut(J.iat)),expirationTime:yi(Ut(J.exp)),signInProvider:ct||null,signInSecondFactor:(null==ge?void 0:ge.sign_in_second_factor)||null}})).apply(this,arguments)}function Ut(C){return 1e3*Number(C)}function It(C){var m;const[v,S,J]=C.split(".");if(void 0===v||void 0===S||void 0===J)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const ge=(0,h.tV)(S);return ge?JSON.parse(ge):(Be("Failed to decode base64 JWT payload"),null)}catch(ge){return Be("Caught error parsing JWT payload as JSON",null===(m=ge)||void 0===m?void 0:m.toString()),null}}function Zt(C,m){return Re.apply(this,arguments)}function Re(){return(Re=(0,f.Z)(function*(C,m,v=!1){if(v)return m;try{return yield m}catch(S){throw S instanceof h.ZR&&Oe(S)&&C.auth.currentUser===C&&(yield C.auth.signOut()),S}})).apply(this,arguments)}function Oe({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class we{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const J=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(m);this.timerId=setTimeout((0,f.Z)(function*(){yield v.iteration()}),S)}iteration(){var m=this;return(0,f.Z)(function*(){var v;try{yield m.user.getIdToken(!0)}catch(S){return void("auth/network-request-failed"===(null===(v=S)||void 0===v?void 0:v.code)&&m.schedule(!0))}m.schedule()})()}}class Ke{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=yi(this.lastLoginAt),this.creationTime=yi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wt(C){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,f.Z)(function*(C){var m;const v=C.auth,S=yield C.getIdToken(),J=yield Zt(C,rn(v,{idToken:S}));Y(null==J?void 0:J.users.length,v,"internal-error");const ge=J.users[0];C._notifyReloadListener(ge);const ct=(null===(m=ge.providerUserInfo)||void 0===m?void 0:m.length)?pn(ge.providerUserInfo):[],Jt=fn(C.providerData,ct),ri=!!C.isAnonymous&&!(C.email&&ge.passwordHash||(null==Jt?void 0:Jt.length)),br={uid:ge.localId,displayName:ge.displayName||null,photoURL:ge.photoUrl||null,email:ge.email||null,emailVerified:ge.emailVerified||!1,phoneNumber:ge.phoneNumber||null,tenantId:ge.tenantId||null,providerData:Jt,metadata:new Ke(ge.createdAt,ge.lastLoginAt),isAnonymous:ri};Object.assign(C,br)})).apply(this,arguments)}function _n(){return(_n=(0,f.Z)(function*(C){const m=(0,h.m9)(C);yield wt(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function fn(C,m){return[...C.filter(S=>!m.some(J=>J.providerId===S.providerId)),...m]}function pn(C){return C.map(m=>{var{providerId:v}=m,S=(0,ve._T)(m,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function de(){return(de=(0,f.Z)(function*(C,m){const v=yield Vn(C,{},(0,f.Z)(function*(){const S=(0,h.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:J,apiKey:ge}=C.config,ct=Yn(C,J,"/v1/token",`key=${ge}`),Jt=yield C._getAdditionalHeaders();return Jt["Content-Type"]="application/x-www-form-urlencoded",qe.fetch()(ct,{method:"POST",headers:Jt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Y(m.idToken,"internal-error"),Y(void 0!==m.idToken,"internal-error"),Y(void 0!==m.refreshToken,"internal-error");const v="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function Nt(C){const m=It(C);return Y(m,"internal-error"),Y(void 0!==m.exp,"internal-error"),Y(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var S=this;return(0,f.Z)(function*(){return Y(!S.accessToken||S.refreshToken,m,"user-token-expired"),v||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(m,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var S=this;return(0,f.Z)(function*(){const{accessToken:J,refreshToken:ge,expiresIn:ct}=yield function W(C,m){return de.apply(this,arguments)}(m,v);S.updateTokensAndExpiration(J,ge,Number(ct))})()}updateTokensAndExpiration(m,v,S){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(m,v){const{refreshToken:S,accessToken:J,expirationTime:ge}=v,ct=new Ee;return S&&(Y("string"==typeof S,"internal-error",{appName:m}),ct.refreshToken=S),J&&(Y("string"==typeof J,"internal-error",{appName:m}),ct.accessToken=J),ge&&(Y("number"==typeof ge,"internal-error",{appName:m}),ct.expirationTime=ge),ct}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Ee,this.toJSON())}_performRefresh(){return Je("not implemented")}}function Le(C,m){Y("string"==typeof C||void 0===C,"internal-error",{appName:m})}class vt{constructor(m){var{uid:v,auth:S,stsTokenManager:J}=m,ge=(0,ve._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new we(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=ge.displayName||null,this.email=ge.email||null,this.emailVerified=ge.emailVerified||!1,this.phoneNumber=ge.phoneNumber||null,this.photoURL=ge.photoURL||null,this.isAnonymous=ge.isAnonymous||!1,this.tenantId=ge.tenantId||null,this.providerData=ge.providerData?[...ge.providerData]:[],this.metadata=new Ke(ge.createdAt||void 0,ge.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,f.Z)(function*(){const S=yield Zt(v,v.stsTokenManager.getToken(v.auth,m));return Y(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(m){return function Ve(C){return Ge.apply(this,arguments)}(this,m)}reload(){return function Tt(C){return _n.apply(this,arguments)}(this)}_assign(m){this!==m&&(Y(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new vt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var S=this;return(0,f.Z)(function*(){let J=!1;m.idToken&&m.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(m),J=!0),v&&(yield wt(S)),yield S.auth._persistUserIfCurrent(S),J&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var m=this;return(0,f.Z)(function*(){const v=yield m.getIdToken();return yield Zt(m,function bi(C,m){return on.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var S,J,ge,ct,Jt,dn,cn,ri;const br=null!==(S=v.displayName)&&void 0!==S?S:void 0,Xr=null!==(J=v.email)&&void 0!==J?J:void 0,qa=null!==(ge=v.phoneNumber)&&void 0!==ge?ge:void 0,Hs=null!==(ct=v.photoURL)&&void 0!==ct?ct:void 0,ic=null!==(Jt=v.tenantId)&&void 0!==Jt?Jt:void 0,wl=null!==(dn=v._redirectEventId)&&void 0!==dn?dn:void 0,rc=null!==(cn=v.createdAt)&&void 0!==cn?cn:void 0,Jo=null!==(ri=v.lastLoginAt)&&void 0!==ri?ri:void 0,{uid:ol,emailVerified:Cl,isAnonymous:Zl,providerData:Kl,stsTokenManager:Fn}=v;Y(ol&&Fn,m,"internal-error");const Mc=Ee.fromJSON(this.name,Fn);Y("string"==typeof ol,m,"internal-error"),Le(br,m.name),Le(Xr,m.name),Y("boolean"==typeof Cl,m,"internal-error"),Y("boolean"==typeof Zl,m,"internal-error"),Le(qa,m.name),Le(Hs,m.name),Le(ic,m.name),Le(wl,m.name),Le(rc,m.name),Le(Jo,m.name);const al=new vt({uid:ol,auth:m,email:Xr,emailVerified:Cl,displayName:br,isAnonymous:Zl,photoURL:Hs,phoneNumber:qa,tenantId:ic,stsTokenManager:Mc,createdAt:rc,lastLoginAt:Jo});return Kl&&Array.isArray(Kl)&&(al.providerData=Kl.map(Tl=>Object.assign({},Tl))),wl&&(al._redirectEventId=wl),al}static _fromIdTokenResponse(m,v,S=!1){return(0,f.Z)(function*(){const J=new Ee;J.updateFromServerResponse(v);const ge=new vt({uid:v.localId,auth:m,stsTokenManager:J,isAnonymous:S});return yield wt(ge),ge})()}}const he=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(v,S){var J=this;return(0,f.Z)(function*(){J.storage[v]=S})()}_get(v){var S=this;return(0,f.Z)(function*(){const J=S.storage[v];return void 0===J?null:J})()}_remove(v){var S=this;return(0,f.Z)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return C.type="NONE",C})();function fe(C,m,v){return`firebase:${C}:${m}:${v}`}class Me{constructor(m,v,S){this.persistence=m,this.auth=v,this.userKey=S;const{config:J,name:ge}=this.auth;this.fullUserKey=fe(this.userKey,J.apiKey,ge),this.fullPersistenceKey=fe("persistence",J.apiKey,ge),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,f.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?vt._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,f.Z)(function*(){if(v.persistence===m)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,S="authUser"){return(0,f.Z)(function*(){if(!v.length)return new Me(Ue(he),m,S);const J=(yield Promise.all(v.map(function(){var cn=(0,f.Z)(function*(ri){if(yield ri._isAvailable())return ri});return function(ri){return cn.apply(this,arguments)}}()))).filter(cn=>cn);let ge=J[0]||Ue(he);const ct=fe(S,m.config.apiKey,m.name);let Jt=null;for(const cn of v)try{const ri=yield cn._get(ct);if(ri){const br=vt._fromJSON(m,ri);cn!==ge&&(Jt=br),ge=cn;break}}catch(ri){}const dn=J.filter(cn=>cn._shouldAllowMigration);return ge._shouldAllowMigration&&dn.length?(ge=dn[0],Jt&&(yield ge._set(ct,Jt.toJSON())),yield Promise.all(v.map(function(){var cn=(0,f.Z)(function*(ri){if(ri!==ge)try{yield ri._remove(ct)}catch(br){}});return function(ri){return cn.apply(this,arguments)}}())),new Me(ge,m,S)):new Me(ge,m,S)})()}}function _e(C){const m=C.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ne(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(X(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(et(m))return"Blackberry";if(Lt(m))return"Webos";if($(m))return"Safari";if((m.includes("chrome/")||ee(m))&&!m.includes("edge/"))return"Chrome";if(xe(m))return"Android";{const S=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function X(C=(0,h.z$)()){return/firefox\//i.test(C)}function $(C=(0,h.z$)()){const m=C.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function ee(C=(0,h.z$)()){return/crios\//i.test(C)}function ne(C=(0,h.z$)()){return/iemobile/i.test(C)}function xe(C=(0,h.z$)()){return/android/i.test(C)}function et(C=(0,h.z$)()){return/blackberry/i.test(C)}function Lt(C=(0,h.z$)()){return/webos/i.test(C)}function Vt(C=(0,h.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function bn(C=(0,h.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function vi(C=(0,h.z$)()){return Vt(C)||xe(C)||Lt(C)||et(C)||/windows phone/i.test(C)||ne(C)}function Ti(C,m=[]){let v;switch(C){case"Browser":v=_e((0,h.z$)());break;case"Worker":v=`${_e((0,h.z$)())}-${C}`;break;default:v=C}const S=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${G.SDK_VERSION}/${S}`}class Cr{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const S=ge=>new Promise((ct,Jt)=>{try{ct(m(ge))}catch(dn){Jt(dn)}});S.onAbort=v,this.queue.push(S);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,f.Z)(function*(){var S;if(v.auth.currentUser===m)return;const J=[];try{for(const ge of v.queue)yield ge(m),ge.onAbort&&J.push(ge.onAbort)}catch(ge){J.reverse();for(const ct of J)try{ct()}catch(Jt){}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(S=ge)||void 0===S?void 0:S.message})}})()}}class xi{constructor(m,v,S){this.app=m,this.heartbeatServiceProvider=v,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qn(this),this.idTokenSubscription=new qn(this),this.beforeStateQueue=new Cr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(m,v){var S=this;return v&&(this._popupRedirectResolver=Ue(v)),this._initializationPromise=this.queue((0,f.Z)(function*(){var J,ge;if(!S._deleted&&(S.persistenceManager=yield Me.create(S,m),!S._deleted)){if(null===(J=S._popupRedirectResolver)||void 0===J?void 0:J._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch(ct){}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(ge=S.currentUser)||void 0===ge?void 0:ge.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,f.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUser(m){var v=this;return(0,f.Z)(function*(){var S;const J=yield v.assertedPersistence.getCurrentUser();let ge=J,ct=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Jt=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,dn=null==ge?void 0:ge._redirectEventId,cn=yield v.tryRedirectSignIn(m);(!Jt||Jt===dn)&&(null==cn?void 0:cn.user)&&(ge=cn.user,ct=!0)}if(!ge)return v.directlySetCurrentUser(null);if(!ge._redirectEventId){if(ct)try{yield v.beforeStateQueue.runMiddleware(ge)}catch(Jt){ge=J,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Jt))}return ge?v.reloadAndSetCurrentUserOrClear(ge):v.directlySetCurrentUser(null)}return Y(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ge._redirectEventId?v.directlySetCurrentUser(ge):v.reloadAndSetCurrentUserOrClear(ge)})()}tryRedirectSignIn(m){var v=this;return(0,f.Z)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch(J){yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,f.Z)(function*(){var S;try{yield wt(m)}catch(J){if("auth/network-request-failed"!==(null===(S=J)||void 0===S?void 0:S.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function mt(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var m=this;return(0,f.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,f.Z)(function*(){const S=m?(0,h.m9)(m):null;return S&&Y(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(m,v=!1){var S=this;return(0,f.Z)(function*(){if(!S._deleted)return m&&Y(S.tenantId===m.tenantId,S,"tenant-id-mismatch"),v||(yield S.beforeStateQueue.runMiddleware(m)),S.queue((0,f.Z)(function*(){yield S.directlySetCurrentUser(m),S.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,f.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var v=this;return this.queue((0,f.Z)(function*(){yield v.assertedPersistence.setPersistence(Ue(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new h.LL("auth","Firebase",m())}onAuthStateChanged(m,v,S){return this.registerStateListener(this.authStateSubscription,m,v,S)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,S){return this.registerStateListener(this.idTokenSubscription,m,v,S)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var S=this;return(0,f.Z)(function*(){const J=yield S.getOrInitRedirectPersistenceManager(v);return null===m?J.removeCurrentUser():J.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,f.Z)(function*(){if(!v.redirectPersistenceManager){const S=m&&Ue(m)||v._popupRedirectResolver;Y(S,v,"argument-error"),v.redirectPersistenceManager=yield Me.create(v,[Ue(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,f.Z)(function*(){var S,J;return v._isInitialized&&(yield v.queue((0,f.Z)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===m?v._currentUser:(null===(J=v.redirectUser)||void 0===J?void 0:J._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,f.Z)(function*(){if(m===v.currentUser)return v.queue((0,f.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,S,J){if(this._deleted)return()=>{};const ge="function"==typeof v?v:v.next.bind(v),ct=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(ct,this,"internal-error"),ct.then(()=>ge(this.currentUser)),"function"==typeof v?m.addObserver(v,S,J):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,f.Z)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Ti(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,f.Z)(function*(){var v;const S={"X-Client-Version":m.clientVersion};m.app.options.appId&&(S["X-Firebase-gmpid"]=m.app.options.appId);const J=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return J&&(S["X-Firebase-Client"]=J),S})()}}function Yt(C){return(0,h.m9)(C)}class qn{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,h.ne)(v=>this.observer=v)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gi(C,m,v){const S=Yt(C);Y(S._canInitEmulator,S,"emulator-config-failed"),Y(/^https?:\/\//.test(m),S,"invalid-emulator-scheme");const J=!!(null==v?void 0:v.disableWarnings),ge=zi(m),{host:ct,port:Jt}=function yr(C){const m=zi(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(m.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(S);if(J){const ge=J[1];return{host:ge,port:Wi(S.substr(ge.length+1))}}{const[ge,ct]=S.split(":");return{host:ge,port:Wi(ct)}}}(m);S.config.emulator={url:`${ge}//${ct}${null===Jt?"":`:${Jt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:ct,port:Jt,protocol:ge.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function sr(){function C(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function zi(C){const m=C.indexOf(":");return m<0?"":C.substr(0,m+1)}function Wi(C){if(!C)return null;const m=Number(C);return isNaN(m)?null:m}class ai{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Je("not implemented")}_getIdTokenResponse(m){return Je("not implemented")}_linkToIdToken(m,v){return Je("not implemented")}_getReauthenticationResolver(m){return Je("not implemented")}}function Tr(C,m){return Di.apply(this,arguments)}function Di(){return(Di=(0,f.Z)(function*(C,m){return yn(C,"POST","/v1/accounts:resetPassword",nn(C,m))})).apply(this,arguments)}function Ln(C,m){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,f.Z)(function*(C,m){return yn(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Bi(C,m){return gn.apply(this,arguments)}function gn(){return(gn=(0,f.Z)(function*(C,m){return yn(C,"POST","/v1/accounts:update",nn(C,m))})).apply(this,arguments)}function St(){return(St=(0,f.Z)(function*(C,m){return jn(C,"POST","/v1/accounts:signInWithPassword",nn(C,m))})).apply(this,arguments)}function or(C,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,f.Z)(function*(C,m){return yn(C,"POST","/v1/accounts:sendOobCode",nn(C,m))})).apply(this,arguments)}function Dr(C,m){return _i.apply(this,arguments)}function _i(){return(_i=(0,f.Z)(function*(C,m){return or(C,m)})).apply(this,arguments)}function Gr(C,m){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,f.Z)(function*(C,m){return or(C,m)})).apply(this,arguments)}function Ji(C,m){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,f.Z)(function*(C,m){return or(C,m)})).apply(this,arguments)}function zr(C,m){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(C,m){return or(C,m)})).apply(this,arguments)}function Zr(){return(Zr=(0,f.Z)(function*(C,m){return jn(C,"POST","/v1/accounts:signInWithEmailLink",nn(C,m))})).apply(this,arguments)}function gs(){return(gs=(0,f.Z)(function*(C,m){return jn(C,"POST","/v1/accounts:signInWithEmailLink",nn(C,m))})).apply(this,arguments)}class Ws extends ai{constructor(m,v,S,J=null){super("password",S),this._email=m,this._password=v,this._tenantId=J}static _fromEmailAndPassword(m,v){return new Ws(m,v,"password")}static _fromEmailAndCode(m,v,S=null){return new Ws(m,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,f.Z)(function*(){switch(v.signInMethod){case"password":return function rr(C,m){return St.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function ls(C,m){return Zr.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:ft(m,"internal-error")}})()}_linkToIdToken(m,v){var S=this;return(0,f.Z)(function*(){switch(S.signInMethod){case"password":return Ln(m,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function Es(C,m){return gs.apply(this,arguments)}(m,{idToken:v,email:S._email,oobCode:S._password});default:ft(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Xi(C,m){return bo.apply(this,arguments)}function bo(){return(bo=(0,f.Z)(function*(C,m){return jn(C,"POST","/v1/accounts:signInWithIdp",nn(C,m))})).apply(this,arguments)}class Ye extends ai{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Ye(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):ft("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:J}=v,ge=(0,ve._T)(v,["providerId","signInMethod"]);if(!S||!J)return null;const ct=new Ye(S,J);return ct.idToken=ge.idToken||void 0,ct.accessToken=ge.accessToken||void 0,ct.secret=ge.secret,ct.nonce=ge.nonce,ct.pendingToken=ge.pendingToken||null,ct}_getIdTokenResponse(m){return Xi(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,Xi(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Xi(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,h.xO)(v)}return m}}function gt(C,m){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(C,m){return yn(C,"POST","/v1/accounts:sendVerificationCode",nn(C,m))})).apply(this,arguments)}function En(){return(En=(0,f.Z)(function*(C,m){return jn(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,m))})).apply(this,arguments)}function qi(){return(qi=(0,f.Z)(function*(C,m){const v=yield jn(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,m));if(v.temporaryProof)throw Mn(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Ri={USER_NOT_FOUND:"user-not-found"};function Os(){return(Os=(0,f.Z)(function*(C,m){return jn(C,"POST","/v1/accounts:signInWithPhoneNumber",nn(C,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Ri)})).apply(this,arguments)}class dr extends ai{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new dr({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new dr({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function ln(C,m){return En.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function $n(C,m){return qi.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function us(C,m){return Os.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:S,verificationCode:J}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:S,code:J}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:S,phoneNumber:J,temporaryProof:ge}=m;return S||v||J||ge?new dr({verificationId:v,verificationCode:S,phoneNumber:J,temporaryProof:ge}):null}}class hr{constructor(m){var v,S,J,ge,ct,Jt;const dn=(0,h.zd)((0,h.pd)(m)),cn=null!==(v=dn.apiKey)&&void 0!==v?v:null,ri=null!==(S=dn.oobCode)&&void 0!==S?S:null,br=function jo(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=dn.mode)&&void 0!==J?J:null);Y(cn&&ri&&br,"argument-error"),this.apiKey=cn,this.operation=br,this.code=ri,this.continueUrl=null!==(ge=dn.continueUrl)&&void 0!==ge?ge:null,this.languageCode=null!==(ct=dn.languageCode)&&void 0!==ct?ct:null,this.tenantId=null!==(Jt=dn.tenantId)&&void 0!==Jt?Jt:null}static parseLink(m){const v=function Kr(C){const m=(0,h.zd)((0,h.pd)(C)).link,v=m?(0,h.zd)((0,h.pd)(m)).deep_link_id:null,S=(0,h.zd)((0,h.pd)(C)).deep_link_id;return(S?(0,h.zd)((0,h.pd)(S)).link:null)||S||v||m||C}(m);try{return new hr(v)}catch(S){return null}}}let xr=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,S){return Ws._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const J=hr.parseLink(S);return Y(J,"argument-error"),Ws._fromEmailAndCode(v,J.code,J.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Ms{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Qn extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class bs extends Qn{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return Y("providerId"in v&&"signInMethod"in v,"argument-error"),Ye._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Y(m.idToken||m.accessToken,"argument-error"),Ye._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return bs.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return bs.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:J,pendingToken:ge,nonce:ct,providerId:Jt}=m;if(!S&&!J&&!v&&!ge||!Jt)return null;try{return new bs(Jt)._credential({idToken:v,accessToken:S,nonce:ct,pendingToken:ge})}catch(dn){return null}}}let Ps=(()=>{class C extends Qn{constructor(){super("facebook.com")}static credential(v){return Ye._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(S){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),ms=(()=>{class C extends Qn{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return Ye._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:J}=v;if(!S&&!J)return null;try{return C.credential(S,J)}catch(ge){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Aa=(()=>{class C extends Qn{constructor(){super("github.com")}static credential(v){return Ye._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(S){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class es extends ai{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return Xi(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,Xi(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Xi(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:J,pendingToken:ge}=v;return S&&J&&ge&&S===J?new es(S,ge):null}static _create(m,v){return new es(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qr extends Ms{constructor(m){Y(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return qr.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return qr.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=es.fromJSON(m);return Y(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:S}=m;if(!v||!S)return null;try{return es._create(S,v)}catch(J){return null}}}let ts=(()=>{class C extends Qn{constructor(){super("twitter.com")}static credential(v,S){return Ye._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:J}=v;if(!S||!J)return null;try{return C.credential(S,J)}catch(ge){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Qs(C,m){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,f.Z)(function*(C,m){return jn(C,"POST","/v1/accounts:signUp",nn(C,m))})).apply(this,arguments)}class Or{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,S,J=!1){return(0,f.Z)(function*(){const ge=yield vt._fromIdTokenResponse(m,S,J),ct=zo(S);return new Or({user:ge,providerId:ct,_tokenResponse:S,operationType:v})})()}static _forOperation(m,v,S){return(0,f.Z)(function*(){yield m._updateTokensIfNecessary(S,!0);const J=zo(S);return new Or({user:m,providerId:J,_tokenResponse:S,operationType:v})})()}}function zo(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function na(C){return cs.apply(this,arguments)}function cs(){return(cs=(0,f.Z)(function*(C){var m;const v=Yt(C);if(yield v._initializationPromise,null===(m=v.currentUser)||void 0===m?void 0:m.isAnonymous)return new Or({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield Qs(v,{returnSecureToken:!0}),J=yield Or._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(J.user),J})).apply(this,arguments)}class vr extends h.ZR{constructor(m,v,S,J){var ge;super(v.code,v.message),this.operationType=S,this.user=J,Object.setPrototypeOf(this,vr.prototype),this.customData={appName:m.name,tenantId:null!==(ge=m.tenantId)&&void 0!==ge?ge:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(m,v,S,J){return new vr(m,v,S,J)}}function wo(C,m,v,S){return("reauthenticate"===m?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(ge=>{throw"auth/multi-factor-auth-required"===ge.code?vr._fromErrorAndOperation(C,ge,m,S):ge})}function Si(C){return new Set(C.map(({providerId:m})=>m).filter(m=>!!m))}function Wn(C,m){return ws.apply(this,arguments)}function ws(){return(ws=(0,f.Z)(function*(C,m){const v=(0,h.m9)(C);yield ie(!0,v,m);const{providerUserInfo:S}=yield Li(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),J=Si(S||[]);return v.providerData=v.providerData.filter(ge=>J.has(ge.providerId)),J.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Fi(C,m){return V.apply(this,arguments)}function V(){return(V=(0,f.Z)(function*(C,m,v=!1){const S=yield Zt(C,m._linkToIdToken(C.auth,yield C.getIdToken()),v);return Or._forOperation(C,"link",S)})).apply(this,arguments)}function ie(C,m,v){return F.apply(this,arguments)}function F(){return(F=(0,f.Z)(function*(C,m,v){yield wt(m);const J=!1===C?"provider-already-linked":"no-such-provider";Y(Si(m.providerData).has(v)===C,m.auth,J)})).apply(this,arguments)}function ce(C,m){return $e.apply(this,arguments)}function $e(){return($e=(0,f.Z)(function*(C,m,v=!1){var S;const{auth:J}=C,ge="reauthenticate";try{const ct=yield Zt(C,wo(J,ge,m,C),v);Y(ct.idToken,J,"internal-error");const Jt=It(ct.idToken);Y(Jt,J,"internal-error");const{sub:dn}=Jt;return Y(C.uid===dn,J,"user-mismatch"),Or._forOperation(C,ge,ct)}catch(ct){throw"auth/user-not-found"===(null===(S=ct)||void 0===S?void 0:S.code)&&ft(J,"user-mismatch"),ct}})).apply(this,arguments)}function At(C,m){return $t.apply(this,arguments)}function $t(){return($t=(0,f.Z)(function*(C,m,v=!1){const S="signIn",J=yield wo(C,S,m),ge=yield Or._fromIdTokenResponse(C,S,J);return v||(yield C._updateCurrentUser(ge.user)),ge})).apply(this,arguments)}function Pn(C,m){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,f.Z)(function*(C,m){return At(Yt(C),m)})).apply(this,arguments)}function mi(C,m){return ei.apply(this,arguments)}function ei(){return(ei=(0,f.Z)(function*(C,m){const v=(0,h.m9)(C);return yield ie(!1,v,m.providerId),Fi(v,m)})).apply(this,arguments)}function fi(C,m){return er.apply(this,arguments)}function er(){return(er=(0,f.Z)(function*(C,m){return ce((0,h.m9)(C),m)})).apply(this,arguments)}function Hi(C,m){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,f.Z)(function*(C,m){return jn(C,"POST","/v1/accounts:signInWithCustomToken",nn(C,m))})).apply(this,arguments)}function B(C,m){return N.apply(this,arguments)}function N(){return(N=(0,f.Z)(function*(C,m){const v=Yt(C),S=yield Hi(v,{token:m,returnSecureToken:!0}),J=yield Or._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(J.user),J})).apply(this,arguments)}class M{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?re._fromServerResponse(m,v):ft(m,"internal-error")}}class re extends M{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new re(v)}}function Pt(C,m,v){var S;Y((null===(S=v.url)||void 0===S?void 0:S.length)>0,C,"invalid-continue-uri"),Y(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Y(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(Y(v.android.packageName.length>0,C,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function xn(C,m,v){return ki.apply(this,arguments)}function ki(){return(ki=(0,f.Z)(function*(C,m,v){const S=(0,h.m9)(C),J={requestType:"PASSWORD_RESET",email:m};v&&Pt(S,J,v),yield Gr(S,J)})).apply(this,arguments)}function Cs(C,m,v){return ds.apply(this,arguments)}function ds(){return(ds=(0,f.Z)(function*(C,m,v){yield Tr((0,h.m9)(C),{oobCode:m,newPassword:v})})).apply(this,arguments)}function Wo(C,m){return ga.apply(this,arguments)}function ga(){return(ga=(0,f.Z)(function*(C,m){yield Bi((0,h.m9)(C),{oobCode:m})})).apply(this,arguments)}function Gt(C,m){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,f.Z)(function*(C,m){const v=(0,h.m9)(C),S=yield Tr(v,{oobCode:m}),J=S.requestType;switch(Y(J,v,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(S.mfaInfo,v,"internal-error");default:Y(S.email,v,"internal-error")}let ge=null;return S.mfaInfo&&(ge=M._fromServerResponse(Yt(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:ge},operation:J}})).apply(this,arguments)}function dl(C,m){return ar.apply(this,arguments)}function ar(){return(ar=(0,f.Z)(function*(C,m){const{data:v}=yield Gt((0,h.m9)(C),m);return v.email})).apply(this,arguments)}function ma(C,m,v){return Co.apply(this,arguments)}function Co(){return(Co=(0,f.Z)(function*(C,m,v){const S=Yt(C),J=yield Qs(S,{returnSecureToken:!0,email:m,password:v}),ge=yield Or._fromIdTokenResponse(S,"signIn",J);return yield S._updateCurrentUser(ge.user),ge})).apply(this,arguments)}function Zs(C,m,v){return Pn((0,h.m9)(C),xr.credential(m,v))}function xa(C,m,v){return ya.apply(this,arguments)}function ya(){return(ya=(0,f.Z)(function*(C,m,v){const S=(0,h.m9)(C),J={requestType:"EMAIL_SIGNIN",email:m};Y(v.handleCodeInApp,S,"argument-error"),v&&Pt(S,J,v),yield Ji(S,J)})).apply(this,arguments)}function hl(C,m){const v=hr.parseLink(m);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function Oa(C,m,v){return uo.apply(this,arguments)}function uo(){return(uo=(0,f.Z)(function*(C,m,v){const S=(0,h.m9)(C),J=xr.credentialWithLink(m,v||st());return Y(J._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),Pn(S,J)})).apply(this,arguments)}function Js(C,m){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,f.Z)(function*(C,m){return yn(C,"POST","/v1/accounts:createAuthUri",nn(C,m))})).apply(this,arguments)}function Rs(C,m){return co.apply(this,arguments)}function co(){return(co=(0,f.Z)(function*(C,m){const S={identifier:m,continueUri:xt()?st():"http://localhost"},{signinMethods:J}=yield Js((0,h.m9)(C),S);return J||[]})).apply(this,arguments)}function Sr(C,m){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,f.Z)(function*(C,m){const v=(0,h.m9)(C),J={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};m&&Pt(v.auth,J,m);const{email:ge}=yield Dr(v.auth,J);ge!==C.email&&(yield C.reload())})).apply(this,arguments)}function ia(C,m,v){return To.apply(this,arguments)}function To(){return(To=(0,f.Z)(function*(C,m,v){const S=(0,h.m9)(C),ge={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:m};v&&Pt(S.auth,ge,v);const{email:ct}=yield zr(S.auth,ge);ct!==C.email&&(yield C.reload())})).apply(this,arguments)}function Ma(C,m){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,f.Z)(function*(C,m){return yn(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function fl(C,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,f.Z)(function*(C,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const S=(0,h.m9)(C),ge={idToken:yield S.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},ct=yield Zt(S,Ma(S.auth,ge));S.displayName=ct.displayName||null,S.photoURL=ct.photoUrl||null;const Jt=S.providerData.find(({providerId:dn})=>"password"===dn);Jt&&(Jt.displayName=S.displayName,Jt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(ct)})).apply(this,arguments)}function Do(C,m){return Io((0,h.m9)(C),m,null)}function Pa(C,m){return Io((0,h.m9)(C),null,m)}function Io(C,m,v){return ns.apply(this,arguments)}function ns(){return(ns=(0,f.Z)(function*(C,m,v){const{auth:S}=C,ge={idToken:yield C.getIdToken(),returnSecureToken:!0};m&&(ge.email=m),v&&(ge.password=v);const ct=yield Zt(C,Ln(S,ge));yield C._updateTokensIfNecessary(ct,!0)})).apply(this,arguments)}class Ao{constructor(m,v,S={}){this.isNewUser=m,this.providerId=v,this.profile=S}}class ra extends Ao{constructor(m,v,S,J){super(m,v,S),this.username=J}}class pl extends Ao{constructor(m,v){super(m,"facebook.com",v)}}class sa extends ra{constructor(m,v){super(m,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class xo extends Ao{constructor(m,v){super(m,"google.com",v)}}class Fl extends ra{constructor(m,v,S){super(m,"twitter.com",v,S)}}function gl(C){const{user:m,_tokenResponse:v}=C;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function So(C){var m,v;if(!C)return null;const{providerId:S}=C,J=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},ge=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!S&&(null==C?void 0:C.idToken)){const ct=null===(v=null===(m=It(C.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(ct)return new Ao(ge,"anonymous"!==ct&&"custom"!==ct?ct:null)}if(!S)return null;switch(S){case"facebook.com":return new pl(ge,J);case"github.com":return new sa(ge,J);case"google.com":return new xo(ge,J);case"twitter.com":return new Fl(ge,J,C.screenName||null);case"custom":case"anonymous":return new Ao(ge,null);default:return new Ao(ge,S,J)}}(v)}class Ns{constructor(m,v,S){this.type=m,this.credential=v,this.auth=S}static _fromIdtoken(m,v){return new Ns("enroll",m,v)}static _fromMfaPendingCredential(m){return new Ns("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,S;if(null==m?void 0:m.multiFactorSession){if(null===(v=m.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Ns._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(S=m.multiFactorSession)||void 0===S?void 0:S.idToken)return Ns._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Kt{constructor(m,v,S){this.session=m,this.hints=v,this.signInResolver=S}static _fromError(m,v){const S=Yt(m),J=v.customData._serverResponse,ge=(J.mfaInfo||[]).map(Jt=>M._fromServerResponse(S,Jt));Y(J.mfaPendingCredential,S,"internal-error");const ct=Ns._fromMfaPendingCredential(J.mfaPendingCredential);return new Kt(ct,ge,function(){var Jt=(0,f.Z)(function*(dn){const cn=yield dn._process(S,ct);delete J.mfaInfo,delete J.mfaPendingCredential;const ri=Object.assign(Object.assign({},J),{idToken:cn.idToken,refreshToken:cn.refreshToken});switch(v.operationType){case"signIn":const br=yield Or._fromIdTokenResponse(S,v.operationType,ri);return yield S._updateCurrentUser(br.user),br;case"reauthenticate":return Y(v.user,S,"internal-error"),Or._forOperation(v.user,v.operationType,ri);default:ft(S,"internal-error")}});return function(dn){return Jt.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,f.Z)(function*(){return v.signInResolver(m)})()}}function tr(C,m){var v;const S=(0,h.m9)(C),J=m;return Y(m.customData.operationType,S,"argument-error"),Y(null===(v=J.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),Kt._fromError(S,J)}function $i(C,m){return yn(C,"POST","/v2/accounts/mfaEnrollment:start",nn(C,m))}class Sn{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>M._fromServerResponse(m.auth,S)))})}static _fromUser(m){return new Sn(m)}getSession(){var m=this;return(0,f.Z)(function*(){return Ns._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,v){var S=this;return(0,f.Z)(function*(){const J=m,ge=yield S.getSession(),ct=yield Zt(S.user,J._process(S.user.auth,ge,v));return yield S.user._updateTokensIfNecessary(ct),S.user.reload()})()}unenroll(m){var v=this;return(0,f.Z)(function*(){var S;const J="string"==typeof m?m:m.uid,ge=yield v.user.getIdToken(),ct=yield Zt(v.user,function Rn(C,m){return yn(C,"POST","/v2/accounts/mfaEnrollment:withdraw",nn(C,m))}(v.user.auth,{idToken:ge,mfaEnrollmentId:J}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Jt})=>Jt!==J),yield v.user._updateTokensIfNecessary(ct);try{yield v.user.reload()}catch(Jt){if("auth/user-token-expired"!==(null===(S=Jt)||void 0===S?void 0:S.code))throw Jt}})()}}const Ss=new WeakMap;function hn(C){const m=(0,h.m9)(C);return Ss.has(m)||Ss.set(m,Sn._fromUser(m)),Ss.get(m)}const Dt="__sak";class zt{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Dt,"1"),this.storage.removeItem(Dt),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const ys=(()=>{class C extends zt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fr(){const C=(0,h.z$)();return $(C)||Vt(C)}()&&function Ci(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=vi(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const J=this.storage.getItem(S),ge=this.localCache[S];J!==ge&&v(S,ge,J)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((Jt,dn,cn)=>{this.notifyListeners(Jt,cn)});const J=v.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Jt=this.storage.getItem(J);if(v.newValue!==Jt)null!==v.newValue?this.storage.setItem(J,v.newValue):this.storage.removeItem(J);else if(this.localCache[J]===v.newValue&&!S)return}const ge=()=>{const Jt=this.storage.getItem(J);!S&&this.localCache[J]===Jt||this.notifyListeners(J,Jt)},ct=this.storage.getItem(J);!function Tn(){return(0,h.w1)()&&10===document.documentMode}()||ct===v.newValue||v.newValue===v.oldValue?ge():setTimeout(ge,10)}notifyListeners(v,S){this.localCache[v]=S;const J=this.listeners[v];if(J)for(const ge of Array.from(J))ge(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var J=()=>super._set,ge=this;return(0,f.Z)(function*(){yield J().call(ge,v,S),ge.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,J=this;return(0,f.Z)(function*(){const ge=yield S().call(J,v);return J.localCache[v]=JSON.stringify(ge),ge})()}_remove(v){var S=()=>super._remove,J=this;return(0,f.Z)(function*(){yield S().call(J,v),delete J.localCache[v]})()}}return C.type="LOCAL",C})(),Xa=(()=>{class C extends zt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return C.type="SESSION",C})();let rs=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(ge=>ge.isListeningto(v));if(S)return S;const J=new C(v);return this.receivers.push(J),J}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,f.Z)(function*(){const J=v,{eventId:ge,eventType:ct,data:Jt}=J.data,dn=S.handlersMap[ct];if(!(null==dn?void 0:dn.size))return;J.ports[0].postMessage({status:"ack",eventId:ge,eventType:ct});const cn=Array.from(dn).map(function(){var br=(0,f.Z)(function*(Xr){return Xr(J.origin,Jt)});return function(Xr){return br.apply(this,arguments)}}()),ri=yield function Na(C){return Promise.all(C.map(function(){var m=(0,f.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return m.apply(this,arguments)}}()))}(cn);J.ports[0].postMessage({status:"done",eventId:ge,eventType:ct,response:ri})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function _a(C="",m=10){let v="";for(let S=0;S<m;S++)v+=Math.floor(10*Math.random());return C+v}class ka{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,S=50){var J=this;return(0,f.Z)(function*(){const ge="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ge)throw new Error("connection_unavailable");let ct,Jt;return new Promise((dn,cn)=>{const ri=_a("",20);ge.port1.start();const br=setTimeout(()=>{cn(new Error("unsupported_event"))},S);Jt={messageChannel:ge,onMessage(Xr){const qa=Xr;if(qa.data.eventId===ri)switch(qa.data.status){case"ack":clearTimeout(br),ct=setTimeout(()=>{cn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ct),dn(qa.data.response);break;default:clearTimeout(br),clearTimeout(ct),cn(new Error("invalid_response"))}}},J.handlers.add(Jt),ge.port1.addEventListener("message",Jt.onMessage),J.target.postMessage({eventType:m,eventId:ri,data:v},[ge.port2])}).finally(()=>{Jt&&J.removeMessageHandler(Jt)})})()}}function Gi(){return window}function vs(){return void 0!==Gi().WorkerGlobalScope&&"function"==typeof Gi().importScripts}function Zi(){return(Zi=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const D="firebaseLocalStorageDb",k="firebaseLocalStorage",L="fbase_key";class le{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Pe(C,m){return C.transaction([k],m?"readwrite":"readonly").objectStore(k)}function kt(){const C=indexedDB.open(D,1);return new Promise((m,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const S=C.result;try{S.createObjectStore(k,{keyPath:L})}catch(J){v(J)}}),C.addEventListener("success",(0,f.Z)(function*(){const S=C.result;S.objectStoreNames.contains(k)?m(S):(S.close(),yield function je(){const C=indexedDB.deleteDatabase(D);return new le(C).toPromise()}(),m(yield kt()))}))})}function wn(C,m,v){return di.apply(this,arguments)}function di(){return(di=(0,f.Z)(function*(C,m,v){const S=Pe(C,!0).put({[L]:m,value:v});return new le(S).toPromise()})).apply(this,arguments)}function Mi(){return(Mi=(0,f.Z)(function*(C,m){const v=Pe(C,!1).get(m),S=yield new le(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Pi(C,m){const v=Pe(C,!0).delete(m);return new le(v).toPromise()}const mo=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,f.Z)(function*(){return v.db||(v.db=yield kt()),v.db})()}_withRetries(v){var S=this;return(0,f.Z)(function*(){let J=0;for(;;)try{const ge=yield S._openDb();return yield v(ge)}catch(ge){if(J++>3)throw ge;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,f.Z)(function*(){return vs()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,f.Z)(function*(){v.receiver=rs._getInstance(function O(){return vs()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,f.Z)(function*(J,ge){return{keyProcessed:(yield v._poll()).includes(ge.key)}});return function(J,ge){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,f.Z)(function*(J,ge){return["keyChanged"]});return function(J,ge){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,f.Z)(function*(){var S,J;if(v.activeServiceWorker=yield function Ea(){return Zi.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new ka(v.activeServiceWorker);const ge=yield v.sender._send("ping",{},800);!ge||(null===(S=ge[0])||void 0===S?void 0:S.fulfilled)&&(null===(J=ge[0])||void 0===J?void 0:J.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,f.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function Xn(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch(J){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const v=yield kt();return yield wn(v,Dt,"1"),yield Pi(v,Dt),!0}catch(v){}return!1})()}_withPendingWrite(v){var S=this;return(0,f.Z)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var J=this;return(0,f.Z)(function*(){return J._withPendingWrite((0,f.Z)(function*(){return yield J._withRetries(ge=>wn(ge,v,S)),J.localCache[v]=S,J.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,f.Z)(function*(){const J=yield S._withRetries(ge=>function Nn(C,m){return Mi.apply(this,arguments)}(ge,v));return S.localCache[v]=J,J})()}_remove(v){var S=this;return(0,f.Z)(function*(){return S._withPendingWrite((0,f.Z)(function*(){return yield S._withRetries(J=>Pi(J,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,f.Z)(function*(){const S=yield v._withRetries(ct=>{const Jt=Pe(ct,!1).getAll();return new le(Jt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const J=[],ge=new Set;for(const{fbase_key:ct,value:Jt}of S)ge.add(ct),JSON.stringify(v.localCache[ct])!==JSON.stringify(Jt)&&(v.notifyListeners(ct,Jt),J.push(ct));for(const ct of Object.keys(v.localCache))v.localCache[ct]&&!ge.has(ct)&&(v.notifyListeners(ct,null),J.push(ct));return J})()}notifyListeners(v,S){this.localCache[v]=S;const J=this.listeners[v];if(J)for(const ge of Array.from(J))ge(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Yr(C,m){return yn(C,"POST","/v2/accounts/mfaSignIn:start",nn(C,m))}function Pr(){return(Pr=(0,f.Z)(function*(C){return(yield yn(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yl(C){return new Promise((m,v)=>{const S=document.createElement("script");S.setAttribute("src",C),S.onload=m,S.onerror=J=>{const ge=pe("internal-error");ge.customData=J,v(ge)},S.type="text/javascript",S.charset="UTF-8",function Xs(){var C,m;return null!==(m=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==m?m:document}().appendChild(S)})}function Mo(C){return`__${C}${Math.floor(1e6*Math.random())}`}const gr=1e12;class vl{constructor(m){this.auth=m,this.counter=gr,this._widgets=new Map}render(m,v){const S=this.counter;return this._widgets.set(S,new Fa(m,this.auth.name,v||{})),this.counter++,S}reset(m){var v;const S=m||gr;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(m){var v;return(null===(v=this._widgets.get(m||gr))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,f.Z)(function*(){var S;return null===(S=v._widgets.get(m||gr))||void 0===S||S.execute(),""})()}}class Fa{constructor(m,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof m?document.getElementById(m):m;Y(J,"argument-error",{appName:v}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ba(C){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<C;S++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Va=Mo("rcb"),eo=new Q(3e4,6e4);class Ua{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(m=Gi().grecaptcha)||void 0===m?void 0:m.render)}load(m,v=""){return Y(function Ou(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Gi().grecaptcha):new Promise((S,J)=>{const ge=Gi().setTimeout(()=>{J(pe(m,"network-request-failed"))},eo.get());Gi()[Va]=()=>{Gi().clearTimeout(ge),delete Gi()[Va];const Jt=Gi().grecaptcha;if(!Jt)return void J(pe(m,"internal-error"));const dn=Jt.render;Jt.render=(cn,ri)=>{const br=dn(cn,ri);return this.counter++,br},this.hostLanguage=v,S(Jt)},yl(`https://www.google.com/recaptcha/api.js??${(0,h.xO)({onload:Va,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ge),J(pe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!!(null===(v=Gi().grecaptcha)||void 0===v?void 0:v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rr{load(m){return(0,f.Z)(function*(){return new vl(m)})()}clearedOneInstance(){}}const Mu="recaptcha",ks={theme:"light",type:"image"};class ur{constructor(m,v=Object.assign({},ks),S){this.parameters=v,this.type=Mu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yt(S),this.isInvisible="invisible"===this.parameters.size,Y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof m?document.getElementById(m):m;Y(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rr:new Ua,this.validateStartingState()}verify(){var m=this;return(0,f.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),S=m.getAssertedRecaptcha();return S.getResponse(v)||new Promise(ge=>{const ct=Jt=>{!Jt||(m.tokenChangeListeners.delete(ct),ge(Jt))};m.tokenChangeListeners.add(ct),m.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof m)m(v);else if("string"==typeof m){const S=Gi()[m];"function"==typeof S&&S(v)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,f.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,f.Z)(function*(){Y(xt()&&!vs(),m.auth,"internal-error"),yield function Sc(){let C=null;return new Promise(m=>{"complete"!==document.readyState?(C=()=>m(),window.addEventListener("load",C)):m()}).catch(m=>{throw C&&window.removeEventListener("load",C),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function _t(C){return Pr.apply(this,arguments)}(m.auth);Y(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class to{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=dr._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function no(C,m,v){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,f.Z)(function*(C,m,v){const S=Yt(C),J=yield Br(S,m,(0,h.m9)(v));return new to(J,ge=>Pn(S,ge))})).apply(this,arguments)}function Nr(C,m,v){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,f.Z)(function*(C,m,v){const S=(0,h.m9)(C);yield ie(!1,S,"phone");const J=yield Br(S.auth,m,(0,h.m9)(v));return new to(J,ge=>mi(S,ge))})).apply(this,arguments)}function Ha(C,m,v){return Er.apply(this,arguments)}function Er(){return(Er=(0,f.Z)(function*(C,m,v){const S=(0,h.m9)(C),J=yield Br(S.auth,m,(0,h.m9)(v));return new to(J,ge=>fi(S,ge))})).apply(this,arguments)}function Br(C,m,v){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,f.Z)(function*(C,m,v){var S;const J=yield v.verify();try{let ge;if(Y("string"==typeof J,C,"argument-error"),Y(v.type===Mu,C,"argument-error"),ge="string"==typeof m?{phoneNumber:m}:m,"session"in ge){const ct=ge.session;if("phoneNumber"in ge)return Y("enroll"===ct.type,C,"internal-error"),(yield $i(C,{idToken:ct.credential,phoneEnrollmentInfo:{phoneNumber:ge.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{Y("signin"===ct.type,C,"internal-error");const Jt=(null===(S=ge.multiFactorHint)||void 0===S?void 0:S.uid)||ge.multiFactorUid;return Y(Jt,C,"missing-multi-factor-info"),(yield Yr(C,{mfaPendingCredential:ct.credential,mfaEnrollmentId:Jt,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ct}=yield gt(C,{phoneNumber:ge.phoneNumber,recaptchaToken:J});return ct}}finally{v._reset()}})).apply(this,arguments)}function uu(C,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,f.Z)(function*(C,m){yield Fi((0,h.m9)(C),m)})).apply(this,arguments)}let wa=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=Yt(v)}verifyPhoneNumber(v,S){return Br(this.auth,v,(0,h.m9)(S))}static credential(v,S){return dr._fromVerification(v,S)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:J}=v;return S&&J?dr._fromTokenResponse(S,J):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function _s(C,m){return m?Ue(m):(Y(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Po extends ai{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Xi(m,this._buildIdpRequest())}_linkToIdToken(m,v){return Xi(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return Xi(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function ja(C){return At(C.auth,new Po(C),C.bypassAuthState)}function cu(C){const{auth:m,user:v}=C;return Y(v,m,"internal-error"),ce(v,new Po(C),C.bypassAuthState)}function aa(C){return la.apply(this,arguments)}function la(){return(la=(0,f.Z)(function*(C){const{auth:m,user:v}=C;return Y(v,m,"internal-error"),Fi(v,new Po(C),C.bypassAuthState)})).apply(this,arguments)}class Qr{constructor(m,v,S,J,ge=!1){this.auth=m,this.resolver=S,this.user=J,this.bypassAuthState=ge,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,f.Z)(function*(S,J){m.pendingPromise={resolve:S,reject:J};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(ge){m.reject(ge)}});return function(S,J){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,f.Z)(function*(){const{urlResponse:S,sessionId:J,postBody:ge,tenantId:ct,error:Jt,type:dn}=m;if(Jt)return void v.reject(Jt);const cn={auth:v.auth,requestUri:S,sessionId:J,tenantId:ct||void 0,postBody:ge||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(dn)(cn))}catch(ri){v.reject(ri)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ja;case"linkViaPopup":case"linkViaRedirect":return aa;case"reauthViaPopup":case"reauthViaRedirect":return cu;default:ft(this.auth,"internal-error")}}resolve(m){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ro=new Q(2e3,1e4);function Jr(C,m,v){return No.apply(this,arguments)}function No(){return(No=(0,f.Z)(function*(C,m,v){const S=Yt(C);Qe(C,m,Ms);const J=_s(S,v);return new Ga(S,"signInViaPopup",m,J).executeNotNull()})).apply(this,arguments)}function $a(C,m,v){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,f.Z)(function*(C,m,v){const S=(0,h.m9)(C);Qe(S.auth,m,Ms);const J=_s(S.auth,v);return new Ga(S.auth,"reauthViaPopup",m,J,S).executeNotNull()})).apply(this,arguments)}function Vl(C,m,v){return ua.apply(this,arguments)}function ua(){return(ua=(0,f.Z)(function*(C,m,v){const S=(0,h.m9)(C);Qe(S.auth,m,Ms);const J=_s(S.auth,v);return new Ga(S.auth,"linkViaPopup",m,J,S).executeNotNull()})).apply(this,arguments)}let Ga=(()=>{class C extends Qr{constructor(v,S,J,ge,ct){super(v,S,ge,ct),this.provider=J,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,f.Z)(function*(){const S=yield v.execute();return Y(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,f.Z)(function*(){nt(1===v.filter.length,"Popup operations only handle one event");const S=_a();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(J=>{v.reject(J)}),v.resolver._isIframeWebStorageSupported(v.auth,J=>{J||v.reject(pe(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,J;this.pollId=(null===(J=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===J?void 0:J.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Ro.get())};v()}}return C.currentPopupAction=null,C})();const za=new Map;class io extends Qr{constructor(m,v,S=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,f.Z)(function*(){let S=za.get(v.auth._key());if(!S){try{const ge=(yield function el(C,m){return tl.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;S=()=>Promise.resolve(ge)}catch(J){S=()=>Promise.reject(J)}za.set(v.auth._key(),S)}return v.bypassAuthState||za.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,S=this;return(0,f.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(S,m);if("unknown"!==m.type){if(m.eventId){const J=yield S.auth._redirectUserForId(m.eventId);if(J)return S.user=J,v().call(S,m);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function tl(){return(tl=(0,f.Z)(function*(C,m){const v=U(m),S=R(C);if(!(yield S._isAvailable()))return!1;const J="true"===(yield S._get(v));return yield S._remove(v),J})).apply(this,arguments)}function Yo(C,m){return nl.apply(this,arguments)}function nl(){return(nl=(0,f.Z)(function*(C,m){return R(C)._set(U(m),"true")})).apply(this,arguments)}function Vs(){za.clear()}function Wa(C,m){za.set(C._key(),m)}function R(C){return Ue(C._redirectPersistence)}function U(C){return fe("pendingRedirect",C.config.apiKey,C.name)}function ae(C,m,v){return function Ie(C,m,v){return rt.apply(this,arguments)}(C,m,v)}function rt(){return(rt=(0,f.Z)(function*(C,m,v){const S=Yt(C);Qe(C,m,Ms);const J=_s(S,v);return yield Yo(J,S),J._openRedirect(S,m,"signInViaRedirect")})).apply(this,arguments)}function Et(C,m,v){return function Qt(C,m,v){return un.apply(this,arguments)}(C,m,v)}function un(){return(un=(0,f.Z)(function*(C,m,v){const S=(0,h.m9)(C);Qe(S.auth,m,Ms);const J=_s(S.auth,v);yield Yo(J,S.auth);const ge=yield Qo(S);return J._openRedirect(S.auth,m,"reauthViaRedirect",ge)})).apply(this,arguments)}function Bn(C,m,v){return function ui(C,m,v){return ii.apply(this,arguments)}(C,m,v)}function ii(){return(ii=(0,f.Z)(function*(C,m,v){const S=(0,h.m9)(C);Qe(S.auth,m,Ms);const J=_s(S.auth,v);yield ie(!1,S,m.providerId),yield Yo(J,S.auth);const ge=yield Qo(S);return J._openRedirect(S.auth,m,"linkViaRedirect",ge)})).apply(this,arguments)}function zn(C,m){return ss.apply(this,arguments)}function ss(){return(ss=(0,f.Z)(function*(C,m){return yield Yt(C)._initializationPromise,Yi(C,m,!1)})).apply(this,arguments)}function Yi(C,m){return il.apply(this,arguments)}function il(){return(il=(0,f.Z)(function*(C,m,v=!1){const S=Yt(C),J=_s(S,m),ct=yield new io(S,J,v).execute();return ct&&!v&&(delete ct.user._redirectEventId,yield S._persistUserIfCurrent(ct.user),yield S._setRedirectUser(null,m)),ct})).apply(this,arguments)}function Qo(C){return Us.apply(this,arguments)}function Us(){return(Us=(0,f.Z)(function*(C){const m=_a(`${C.uid}:::`);return C._redirectEventId=m,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),m})).apply(this,arguments)}class Ca{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(m,S)&&(v=!0,this.sendToConsumer(m,S),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Ta(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ca(C);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var S;if(m.error&&!ca(m)){const J=(null===(S=m.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError(pe(this.auth,J))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const S=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&S}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Za(m))}saveEventToCache(m){this.cachedEventUids.add(Za(m)),this.lastProcessedEventTime=Date.now()}}function Za(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(m=>m).join("-")}function ca({type:C,error:m}){return"unknown"===C&&"auth/no-auth-event"===(null==m?void 0:m.code)}function ro(C){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,f.Z)(function*(C,m={}){return yn(C,"GET","/v1/projects",m)})).apply(this,arguments)}const Xc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ac=/^https?/;function qs(){return(qs=(0,f.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:m}=yield ro(C);for(const v of m)try{if(Ju(v))return}catch(S){}ft(C,"unauthorized-domain")})).apply(this,arguments)}function Ju(C){const m=st(),{protocol:v,hostname:S}=new URL(m);if(C.startsWith("chrome-extension://")){const ct=new URL(C);return""===ct.hostname&&""===S?"chrome-extension:"===v&&C.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&ct.hostname===S}if(!Ac.test(v))return!1;if(Xc.test(C))return S===C;const J=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(S)}const du=new Q(3e4,6e4);function Pu(){const C=Gi().___jsl;if(null==C?void 0:C.H)for(const m of Object.keys(C.H))if(C.H[m].r=C.H[m].r||[],C.H[m].L=C.H[m].L||[],C.H[m].r=[...C.H[m].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Bl=null;function Lo(C){return Bl=Bl||function xc(C){return new Promise((m,v)=>{var S,J,ge;function ct(){Pu(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Pu(),v(pe(C,"network-request-failed"))},timeout:du.get()})}if(null===(J=null===(S=Gi().gapi)||void 0===S?void 0:S.iframes)||void 0===J?void 0:J.Iframe)m(gapi.iframes.getContext());else{if(!(null===(ge=Gi().gapi)||void 0===ge?void 0:ge.load)){const Jt=Mo("iframefcb");return Gi()[Jt]=()=>{gapi.load?ct():v(pe(C,"network-request-failed"))},yl(`https://apis.google.com/js/api.js?onload=${Jt}`).catch(dn=>v(dn))}ct()}}).catch(m=>{throw Bl=null,m})}(C),Bl}const Hl=new Q(5e3,15e3),oo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_l=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xu(C){const m=C.config;Y(m.authDomain,C,"auth-domain-config-required");const v=m.emulator?Ae(m,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,S={apiKey:m.apiKey,appName:C.name,v:G.SDK_VERSION},J=_l.get(C.config.apiHost);J&&(S.eid=J);const ge=C._getFrameworks();return ge.length&&(S.fw=ge.join(",")),`${v}?${(0,h.xO)(S).slice(1)}`}function Ru(){return Ru=(0,f.Z)(function*(C){const m=yield Lo(C),v=Gi().gapi;return Y(v,C,"internal-error"),m.open({where:document.body,url:Xu(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oo,dontclear:!0},S=>new Promise(function(){var J=(0,f.Z)(function*(ge,ct){yield S.restyle({setHideOnLeave:!1});const Jt=pe(C,"network-request-failed"),dn=Gi().setTimeout(()=>{ct(Jt)},Hl.get());function cn(){Gi().clearTimeout(dn),ge(S)}S.ping(cn).then(cn,()=>{ct(Jt)})});return function(ge,ct){return J.apply(this,arguments)}}()))}),Ru.apply(this,arguments)}const Bs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Fo{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function an(C,m,v,S,J,ge){Y(C.config.authDomain,C,"auth-domain-config-required"),Y(C.config.apiKey,C,"invalid-api-key");const ct={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:S,v:G.SDK_VERSION,eventId:J};if(m instanceof Ms){m.setDefaultLanguage(C.languageCode),ct.providerId=m.providerId||"",(0,h.xb)(m.getCustomParameters())||(ct.customParameters=JSON.stringify(m.getCustomParameters()));for(const[dn,cn]of Object.entries(ge||{}))ct[dn]=cn}if(m instanceof Qn){const dn=m.getScopes().filter(cn=>""!==cn);dn.length>0&&(ct.scopes=dn.join(","))}C.tenantId&&(ct.tid=C.tenantId);const Jt=ct;for(const dn of Object.keys(Jt))void 0===Jt[dn]&&delete Jt[dn];return`${function ha({config:C}){return C.emulator?Ae(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,h.xO)(Jt).slice(1)}`}const yo="webStorageSupport",El=class nc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xa,this._completeRedirectFn=Yi,this._overrideRedirectResult=Wa}_openPopup(m,v,S,J){var ge=this;return(0,f.Z)(function*(){var ct;nt(null===(ct=ge.eventManagers[m._key()])||void 0===ct?void 0:ct.manager,"_initialize() not called before _openPopup()");const Jt=an(m,v,S,st(),J);return function ed(C,m,v,S=500,J=600){const ge=Math.max((window.screen.availHeight-J)/2,0).toString(),ct=Math.max((window.screen.availWidth-S)/2,0).toString();let Jt="";const dn=Object.assign(Object.assign({},Bs),{width:S.toString(),height:J.toString(),top:ge,left:ct}),cn=(0,h.z$)().toLowerCase();v&&(Jt=ee(cn)?"_blank":v),X(cn)&&(m=m||"http://localhost",dn.scrollbars="yes");const ri=Object.entries(dn).reduce((Xr,[qa,Hs])=>`${Xr}${qa}=${Hs},`,"");if(function vn(C=(0,h.z$)()){var m;return Vt(C)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(cn)&&"_self"!==Jt)return function Oc(C,m){const v=document.createElement("a");v.href=C,v.target=m;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(m||"",Jt),new Fo(null);const br=window.open(m||"",Jt,ri);Y(br,C,"popup-blocked");try{br.focus()}catch(Xr){}return new Fo(br)}(m,Jt,_a())})()}_openRedirect(m,v,S,J){var ge=this;return(0,f.Z)(function*(){return yield ge._originValidation(m),function ni(C){Gi().location.href=C}(an(m,v,S,st(),J)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:J,promise:ge}=this.eventManagers[v];return J?Promise.resolve(J):(nt(ge,"If manager is not set, promise should be"),ge)}const S=this.initAndGetManager(m);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(m){var v=this;return(0,f.Z)(function*(){const S=yield function jl(C){return Ru.apply(this,arguments)}(m),J=new Ca(m);return S.register("authEvent",ge=>(Y(null==ge?void 0:ge.authEvent,m,"invalid-auth-event"),{status:J.onEvent(ge.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:J},v.iframes[m._key()]=S,J})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(yo,{type:yo},J=>{var ge;const ct=null===(ge=null==J?void 0:J[0])||void 0===ge?void 0:ge[yo];void 0!==ct&&v(!!ct),ft(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function rl(C){return qs.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return vi()||$()||Vt()}};class pu extends class Nu{constructor(m){this.factorId=m}_process(m,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,S);case"signin":return this._finalizeSignIn(m,v.credential);default:return Je("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new pu(m)}_finalizeEnroll(m,v,S){return function oa(C,m){return yn(C,"POST","/v2/accounts/mfaEnrollment:finalize",nn(C,m))}(m,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function Ko(C,m){return yn(C,"POST","/v2/accounts/mfaSignIn:finalize",nn(C,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gl=(()=>{class C{constructor(){}static assertion(v){return pu._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var zl="@firebase/auth",gu="0.20.11";class kr{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,f.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(S=>{var J;m((null===(J=S)||void 0===J?void 0:J.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);!v||(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,h.Pz)("authIdTokenMaxAge"),function mu(C){(0,G._registerComponent)(new Ne.wA("auth",(m,{options:v})=>{const S=m.getProvider("app").getImmediate(),J=m.getProvider("heartbeat"),{apiKey:ge,authDomain:ct}=S.options;return((Jt,dn)=>{Y(ge&&!ge.includes(":"),"invalid-api-key",{appName:Jt.name}),Y(!(null==ct?void 0:ct.includes(":")),"argument-error",{appName:Jt.name});const cn={apiKey:ge,authDomain:ct,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ti(C)},ri=new xi(Jt,dn,cn);return function it(C,m){const v=(null==m?void 0:m.persistence)||[],S=(Array.isArray(v)?v:[v]).map(Ue);(null==m?void 0:m.errorMap)&&C._updateErrorMap(m.errorMap),C._initializeWithPersistence(S,null==m?void 0:m.popupRedirectResolver)}(ri,v),ri})(S,J)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,S)=>{m.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new Ne.wA("auth-internal",m=>{const v=Yt(m.getProvider("auth").getImmediate());return new kr(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(zl,gu,function ku(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,G.registerVersion)(zl,gu,"esm2017")}("Browser")},5525:(qt,We,x)=>{x.d(We,{u7:()=>am,Jj:()=>ru,IX:()=>qg,my:()=>jr,xU:()=>Ic,Lz:()=>su,WA:()=>zt,F8:()=>Cc,$q:()=>Qc,W:()=>ea,EK:()=>Zi,PU:()=>Zd,l7:()=>_s,Ky:()=>L,Xb:()=>k,Cf:()=>Ki,K9:()=>Ss,Me:()=>Ar,yq:()=>$i,Wi:()=>Bo,ET:()=>Hy,Ab:()=>mm,vr:()=>gm,Fc:()=>Jg,hJ:()=>Gc,B$:()=>Fg,at:()=>bc,oe:()=>um,AK:()=>fm,TF:()=>mp,JU:()=>lp,ST:()=>Qg,fH:()=>Sy,Ix:()=>e_,Wu:()=>ky,Lx:()=>qc,qY:()=>zs,GL:()=>Au,QT:()=>lm,kl:()=>Ly,Xk:()=>Fy,PL:()=>Vy,UQ:()=>Uy,zN:()=>Rp,nP:()=>ym,b9:()=>Py,vh:()=>Ry,Pb:()=>n_,L$:()=>Fd,cf:()=>cm,sc:()=>dm,Xo:()=>ao,IO:()=>xy,iE:()=>Bh,Eo:()=>Vg,i3:()=>hm,Bt:()=>pm,pl:()=>Wd,Ub:()=>Ns,qK:()=>kl,TQ:()=>rm,e0:()=>Ny,r7:()=>By,Mx:()=>gp,ar:()=>im});var ue,f=x(5861),h=x(9681),G=x(4859),Ce=x(1877),ve=x(2090),Ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},me={},Z=Z||{},q=Ne||self;function se(){}function Te(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function at(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var lt="closure_uid_"+(1e9*Math.random()>>>0),ut=0;function ze(r,e,t){return r.call.apply(r.bind,arguments)}function dt(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),r.apply(e,u)}}return function(){return r.apply(e,arguments)}}function Be(r,e,t){return(Be=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ze:dt).apply(null,arguments)}function ft(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function pe(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(o,u,p){for(var _=Array(arguments.length-2),A=2;A<arguments.length;A++)_[A-2]=arguments[A];return e.prototype[u].apply(o,_)}}function be(){this.s=this.s,this.o=this.o}be.prototype.s=!1,be.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ke(r){Object.prototype.hasOwnProperty.call(r,lt)&&r[lt]||(r[lt]=++ut)}(this)},be.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Y(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function Je(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Te(o)){const u=r.length||0,p=o.length||0;r.length=u+p;for(let _=0;_<p;_++)r[u+_]=o[_]}else r.push(o)}}function nt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var Fe=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{q.addEventListener("test",se,e),q.removeEventListener("test",se,e)}catch(t){}return r}();function Ue(r){return/^[\s\xa0]*$/.test(r)}var Xe=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function it(r,e){return r<e?-1:r>e?1:0}function st(){var r=q.navigator;return r&&(r=r.userAgent)?r:""}function xt(r){return-1!=st().indexOf(r)}function tn(r){return tn[" "](r),r}tn[" "]=se;var yn,r,mt=xt("Opera"),Q=xt("Trident")||xt("MSIE"),Ae=xt("Edge"),qe=Ae||Q,Rt=xt("Gecko")&&!(-1!=st().toLowerCase().indexOf("webkit")&&!xt("Edge"))&&!(xt("Trident")||xt("MSIE"))&&!xt("Edge"),Ht=-1!=st().toLowerCase().indexOf("webkit")&&!xt("Edge");function nn(){var r=q.document;return r?r.documentMode:void 0}e:{var On="",Vn=(r=st(),Rt?/rv:([^\);]+)(\)|;)/.exec(r):Ae?/Edge\/([\d\.]+)/.exec(r):Q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Ht?/WebKit\/(\S+)/.exec(r):mt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Vn&&(On=Vn?Vn[1]:""),Q){var Jn=nn();if(null!=Jn&&Jn>parseFloat(On)){yn=String(Jn);break e}}yn=On}var jn={};var Mn=q.document&&Q&&(nn()||parseInt(yn,10))||void 0;function bi(r,e){if(nt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Rt){e:{try{tn(e.nodeName);var u=!0;break e}catch(p){}u=!1}u||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:on[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&bi.X.h.call(this)}}pe(bi,nt);var on={2:"touch",3:"pen",4:"mouse"};bi.prototype.h=function(){bi.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Li="closure_listenable_"+(1e6*Math.random()|0),ti=0;function rn(r,e,t,o,u){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++ti,this.ba=this.ea=!1}function Ui(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function yi(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function Ot(r){const e={};for(const t in r)e[t]=r[t];return e}const Ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ge(r,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)r[t]=o[t];for(let p=0;p<Ve.length;p++)t=Ve[p],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function Ut(r){this.src=r,this.g={},this.h=0}function It(r,e){var t=e.type;if(t in r.g){var p,o=r.g[t],u=bt(o,e);(p=0<=u)&&Array.prototype.splice.call(o,u,1),p&&(Ui(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Nt(r,e,t,o){for(var u=0;u<r.length;++u){var p=r[u];if(!p.ba&&p.listener==e&&p.capture==!!t&&p.ha==o)return u}return-1}Ut.prototype.add=function(r,e,t,o,u){var p=r.toString();(r=this.g[p])||(r=this.g[p]=[],this.h++);var _=Nt(r,e,o,u);return-1<_?(e=r[_],t||(e.ea=!1)):((e=new rn(e,this.src,p,!!o,u)).ea=t,r.push(e)),e};var Zt="closure_lm_"+(1e6*Math.random()|0),Re={};function Oe(r,e,t,o,u){if(o&&o.once)return wt(r,e,t,o,u);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Oe(r,e[p],t,o,u);return null}return t=de(t),r&&r[Li]?r.N(e,t,at(o)?!!o.capture:!!o,u):we(r,e,t,!1,o,u)}function we(r,e,t,o,u,p){if(!e)throw Error("Invalid event type");var _=at(u)?!!u.capture:!!u,A=pn(r);if(A||(r[Zt]=A=new Ut(r)),(t=A.add(e,t,o,_,p)).proxy)return t;if(o=function Ke(){const e=fn;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)Fe||(u=_),void 0===u&&(u=!1),r.addEventListener(e.toString(),o,u);else if(r.attachEvent)r.attachEvent(_n(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function wt(r,e,t,o,u){if(Array.isArray(e)){for(var p=0;p<e.length;p++)wt(r,e[p],t,o,u);return null}return t=de(t),r&&r[Li]?r.O(e,t,at(o)?!!o.capture:!!o,u):we(r,e,t,!0,o,u)}function Mt(r,e,t,o,u){if(Array.isArray(e))for(var p=0;p<e.length;p++)Mt(r,e[p],t,o,u);else o=at(o)?!!o.capture:!!o,t=de(t),r&&r[Li]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Nt(p=r.g[e],t,o,u))&&(Ui(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete r.g[e],r.h--))):r&&(r=pn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Nt(e,t,o,u)),(t=-1<r?e[r]:null)&&Tt(t))}function Tt(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[Li])It(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(_n(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=pn(e))?(It(t,r),0==t.h&&(t.src=null,e[Zt]=null)):Ui(r)}}}function _n(r){return r in Re?Re[r]:Re[r]="on"+r}function fn(r,e){if(r.ba)r=!0;else{e=new bi(e,this);var t=r.listener,o=r.ha||r.src;r.ea&&Tt(r),r=t.call(o,e)}return r}function pn(r){return(r=r[Zt])instanceof Ut?r:null}var W="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(r){return"function"==typeof r?r:(r[W]||(r[W]=function(e){return r.handleEvent(e)}),r[W])}function Ee(){be.call(this),this.i=new Ut(this),this.P=this,this.I=null}function Le(r,e){var t,o=r.I;if(o)for(t=[];o;o=o.I)t.push(o);if(r=r.P,o=e.type||e,"string"==typeof e)e=new nt(e,r);else if(e instanceof nt)e.target=e.target||r;else{var u=e;Ge(e=new nt(o,r),u)}if(u=!0,t)for(var p=t.length-1;0<=p;p--){var _=e.g=t[p];u=vt(_,o,!0,e)&&u}if(u=vt(_=e.g=r,o,!0,e)&&u,u=vt(_,o,!1,e)&&u,t)for(p=0;p<t.length;p++)u=vt(_=e.g=t[p],o,!1,e)&&u}function vt(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,p=0;p<e.length;++p){var _=e[p];if(_&&!_.ba&&_.capture==t){var A=_.listener,j=_.ha||_.src;_.ea&&It(r.i,_),u=!1!==A.call(j,o)&&u}}return u&&!o.defaultPrevented}pe(Ee,be),Ee.prototype[Li]=!0,Ee.prototype.removeEventListener=function(r,e,t,o){Mt(this,r,e,t,o)},Ee.prototype.M=function(){if(Ee.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)Ui(t[o]);delete r.g[e],r.h--}}this.I=null},Ee.prototype.N=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},Ee.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var Ft=q.JSON.stringify;function he(){var r=et;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var ee,Me=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new _e,r=>r.reset());class _e{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function X(r){q.setTimeout(()=>{throw r},0)}function $(r,e){ee||function ne(){var r=q.Promise.resolve(void 0);ee=function(){r.then(Lt)}}(),xe||(ee(),xe=!0),et.add(r,e)}var xe=!1,et=new class fe{constructor(){this.h=this.g=null}add(e,t){const o=Me.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Lt(){for(var r;r=he();){try{r.h.call(r.g)}catch(t){X(t)}var e=Me;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}xe=!1}function Vt(r,e){Ee.call(this),this.h=r||1,this.g=e||q,this.j=Be(this.lb,this),this.l=Date.now()}function bn(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function vn(r,e,t){if("function"==typeof r)t&&(r=Be(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Be(r.handleEvent,r)}return 2147483647<Number(e)?-1:q.setTimeout(r,e||0)}function Tn(r){r.g=vn(()=>{r.g=null,r.i&&(r.i=!1,Tn(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}pe(Vt,Ee),(ue=Vt.prototype).ca=!1,ue.R=null,ue.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Le(this,"tick"),this.ca&&(bn(this),this.start()))}},ue.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ue.M=function(){Vt.X.M.call(this),bn(this),delete this.g};class vi extends be{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Tn(this)}M(){super.M(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ci(r){be.call(this),this.h=r,this.g={}}pe(Ci,be);var Ti=[];function Cr(r,e,t,o){Array.isArray(t)||(t&&(Ti[0]=t.toString()),t=Ti);for(var u=0;u<t.length;u++){var p=Oe(e,t[u],o||r.handleEvent,!1,r.h||r);if(!p)break;r.g[p.key]=p}}function xi(r){yi(r.g,function(e,t){this.g.hasOwnProperty(t)&&Tt(e)},r),r.g={}}function Yt(){this.g=!0}function zi(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Wi(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var p=u[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var _=1;_<u.length;_++)u[_]=""}}}return Ft(t)}catch(A){return e}}(r,t)+(o?" "+o:"")})}Ci.prototype.M=function(){Ci.X.M.call(this),xi(this)},Ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yt.prototype.Aa=function(){this.g=!1},Yt.prototype.info=function(){};var sr={},ai=null;function Tr(){return ai=ai||new Ee}function Di(r){nt.call(this,sr.Pa,r)}function Ln(r){const e=Tr();Le(e,new Di(e))}function Oi(r,e){nt.call(this,sr.STAT_EVENT,r),this.stat=e}function Bi(r){const e=Tr();Le(e,new Oi(e,r))}function gn(r,e){nt.call(this,sr.Qa,r),this.size=e}function rr(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){r()},e)}sr.Pa="serverreachability",pe(Di,nt),sr.STAT_EVENT="statevent",pe(Oi,nt),sr.Qa="timingevent",pe(gn,nt);var St={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},or={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function wi(){}function _i(){}wi.prototype.h=null;var Ir,Gr={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ur(){nt.call(this,"d")}function Ji(){nt.call(this,"c")}function zr(){}function Wr(r,e,t,o){this.l=r,this.j=e,this.m=t,this.U=o||1,this.S=new Ci(this),this.O=Zr,this.T=new Vt(r=qe?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ls}function ls(){this.i=null,this.g="",this.h=!1}pe(Ur,nt),pe(Ji,nt),pe(zr,wi),zr.prototype.g=function(){return new XMLHttpRequest},zr.prototype.i=function(){return{}},Ir=new zr;var Zr=45e3,Es={},gs={};function Ws(r,e,t){r.K=1,r.v=bs(hr(e)),r.s=t,r.P=!0,Xi(r,null)}function Xi(r,e){r.F=Date.now(),gt(r),r.A=hr(r.v);var t=r.A,o=r.U;Array.isArray(o)||(o=[String(o)]),na(t.i,"t",o),r.C=0,t=r.l.H,r.h=new ls,r.g=Do(r.l,t?e:null,!r.s),0<r.N&&(r.L=new vi(Be(r.La,r,r.g),r.N)),Cr(r.S,r.g,"readystatechange",r.ib),e=r.H?Ot(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),Ln(),function qn(r,e,t,o,u,p){r.info(function(){if(r.g)if(p)for(var _="",A=p.split("&"),j=0;j<A.length;j++){var K=A[j].split("=");if(1<K.length){var ye=K[0];K=K[1];var He=ye.split("_");_=2<=He.length&&"type"==He[1]?_+(ye+"=")+K+"&":_+(ye+"=redacted&")}}else _=null;else _=p;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+_})}(r.j,r.u,r.A,r.m,r.U,r.s)}function bo(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function ot(r,e,t){let u,o=!0;for(;!r.I&&r.C<t.length;){if(u=Ye(r,t),u==gs){4==e&&(r.o=4,Bi(14),o=!1),zi(r.j,r.m,null,"[Incomplete Response]");break}if(u==Es){r.o=4,Bi(15),zi(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}zi(r.j,r.m,u,null),qi(r,u)}bo(r)&&u!=gs&&u!=Es&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Bi(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Sr(e),e.K=!0,Bi(11))):(zi(r.j,r.m,t,"[Invalid Chunked Response]"),$n(r),En(r))}function Ye(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?gs:(t=Number(e.substring(t,o)),isNaN(t)?Es:(o+=1)+t>e.length?gs:(e=e.substr(o,t),r.C=o+t,e))}function gt(r){r.V=Date.now()+r.O,Bt(r,r.O)}function Bt(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=rr(Be(r.gb,r),e)}function ln(r){r.B&&(q.clearTimeout(r.B),r.B=null)}function En(r){0==r.l.G||r.I||To(r.l,r)}function $n(r){ln(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,bn(r.T),xi(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function qi(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||V(t.h,r)))if(!r.J&&V(t.h,r)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch(K){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(t.u)t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=rr(Be(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<r.F))break e;ia(t),xa(t)}co(t),Bi(18)}if(1>=Fi(t.h)&&t.ja){try{t.ja()}catch(K){}t.ja=void 0}}else Ds(t,11)}else if((r.J||t.g==r)&&ia(t),!Ue(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let K=u[e];if(t.T=K[0],K=K[1],2==t.G)if("c"==K[0]){t.I=K[1],t.ka=K[2];const ye=K[3];null!=ye&&(t.ma=ye,t.j.info("VER="+t.ma));const He=K[4];null!=He&&(t.Ca=He,t.j.info("SVER="+t.Ca));const yt=K[5];null!=yt&&"number"==typeof yt&&0<yt&&(t.J=o=1.5*yt,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const jt=r.g;if(jt){const en=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(en){var p=o.h;p.g||-1==en.indexOf("spdy")&&-1==en.indexOf("quic")&&-1==en.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(ie(p,p.h),p.h=null))}if(o.D){const An=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;An&&(o.za=An,Qn(o.F,o.D,An))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var _=r;if((o=t).sa=Zo(o,o.H?o.ka:null,o.V),_.J){F(o.h,_);var A=_,j=o.J;j&&A.setTimeout(j),A.B&&(ln(A),gt(A)),o.g=_}else Rs(o);0<t.i.length&&hl(t)}else"stop"!=K[0]&&"close"!=K[0]||Ds(t,7);else 3==t.G&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?Ds(t,7):Zs(t):"noop"!=K[0]&&t.l&&t.l.wa(K),t.A=0)}Ln()}catch(K){}}function Os(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Te(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function us(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if("undefined"!=typeof Map&&r instanceof Map)return Array.from(r.keys());if(!("undefined"!=typeof Set&&r instanceof Set)){if(Te(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function Ri(r){if(r.W&&"function"==typeof r.W)return r.W();if("undefined"!=typeof Map&&r instanceof Map||"undefined"!=typeof Set&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Te(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),u=o.length,p=0;p<u;p++)e.call(void 0,o[p],t&&t[p],r)}(ue=Wr.prototype).setTimeout=function(r){this.O=r},ue.ib=function(r){r=r.target;const e=this.L;e&&3==Gt(r)?e.l():this.La(r)},ue.La=function(r){try{if(r==this.g)e:{const ye=Gt(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ye)&&(3!=ye||qe||this.g&&(this.h.h||this.g.fa()||Ei(this.g)))){this.I||4!=ye||7==e||Ln(),ln(this);var t=this.g.aa();this.Y=t;t:if(bo(this)){var o=Ei(this.g);r="";var u=o.length,p=4==Gt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$n(this),En(this);var _="";break t}this.h.i=new q.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:p&&e==u-1});o.splice(0,u),this.h.g+=r,this.C=0,_=this.h.g}else _=this.g.fa();if(this.i=200==t,function gi(r,e,t,o,u,p,_){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+p+" "+_})}(this.j,this.u,this.A,this.m,this.U,ye,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ue(A)){var K=A;break t}}K=null}if(!(t=K)){this.i=!1,this.o=3,Bi(12),$n(this),En(this);break e}zi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qi(this,t)}this.P?(ot(this,ye,_),qe&&this.i&&3==ye&&(Cr(this.S,this.T,"tick",this.hb),this.T.start())):(zi(this.j,this.m,_,null),qi(this,_)),4==ye&&$n(this),this.i&&!this.I&&(4==ye?To(this.l,this):(this.i=!1,gt(this)))}else 400==t&&0<_.indexOf("Unknown SID")?(this.o=3,Bi(12)):(this.o=0,Bi(13)),$n(this),En(this)}}}catch(ye){}},ue.hb=function(){if(this.g){var r=Gt(this.g),e=this.g.fa();this.C<e.length&&(ln(this),ot(this,r,e),this.i&&4!=r&&gt(this))}},ue.cancel=function(){this.I=!0,$n(this)},ue.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function yr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ln(),Bi(17)),$n(this),this.o=2,En(this)):Bt(this,this.V-r)};var dr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kr(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Kr){this.h=void 0!==e?e:r.h,$o(this,r.j),this.s=r.s,this.g=r.g,xr(this,r.m),this.l=r.l,e=r.i;var t=new Qs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ms(this,t),this.o=r.o}else r&&(t=String(r).match(dr))?(this.h=!!e,$o(this,t[1]||"",!0),this.s=Ps(t[2]||""),this.g=Ps(t[3]||"",!0),xr(this,t[4]),this.l=Ps(t[5]||"",!0),Ms(this,t[6]||"",!0),this.o=Ps(t[7]||"")):(this.h=!!e,this.i=new Qs(null,this.h))}function hr(r){return new Kr(r)}function $o(r,e,t){r.j=t?Ps(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function xr(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Ms(r,e,t){e instanceof Qs?(r.i=e,function vr(r,e){e&&!r.j&&(Ni(r),r.i=null,r.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Or(this,o),na(this,u,t))},r)),r.j=e}(r.i,r.h)):(t||(e=ms(e,qr)),r.i=new Qs(e,r.h))}function Qn(r,e,t){r.i.set(e,t)}function bs(r){return Qn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Ps(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ms(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Aa),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Aa(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Kr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(ms(e,Go,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(ms(e,Go,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(ms(t,"/"==t.charAt(0)?ta:es,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",ms(t,ts)),r.join("")};var Go=/[#\/\?@]/g,es=/[#\?:]/g,ta=/[#\?]/g,qr=/[#\?@]/g,ts=/#/g;function Qs(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Ni(r){r.g||(r.g=new Map,r.h=0,r.i&&function jo(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),u=null;if(0<=o){var p=r[t].substring(0,o);u=r[t].substring(o+1)}else p=r[t];e(p,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Or(r,e){Ni(r),e=cs(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function zo(r,e){return Ni(r),e=cs(r,e),r.g.has(e)}function na(r,e,t){Or(r,e),0<t.length&&(r.i=null,r.g.set(cs(r,e),Y(t)),r.h+=t.length)}function cs(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Si(r){this.l=r||Wn,r=q.PerformanceNavigationTiming?0<(r=q.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(q.g&&q.g.Ga&&q.g.Ga()&&q.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ue=Qs.prototype).add=function(r,e){Ni(this),this.i=null,r=cs(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ue.forEach=function(r,e){Ni(this),this.g.forEach(function(t,o){t.forEach(function(u){r.call(e,u,o,this)},this)},this)},ue.oa=function(){Ni(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=r[o];for(let p=0;p<u.length;p++)t.push(e[o])}return t},ue.W=function(r){Ni(this);let e=[];if("string"==typeof r)zo(this,r)&&(e=e.concat(this.g.get(cs(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ue.set=function(r,e){return Ni(this),this.i=null,zo(this,r=cs(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ue.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const p=encodeURIComponent(String(o)),_=this.W(o);for(o=0;o<_.length;o++){var u=p;""!==_[o]&&(u+="="+encodeURIComponent(String(_[o]))),r.push(u)}}return this.i=r.join("&")};var Wn=10;function ws(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Fi(r){return r.h?1:r.g?r.g.size:0}function V(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function ie(r,e){r.g?r.g.add(e):r.h=e}function F(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function ce(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return Y(r.i)}function $e(){}function At(){this.g=new $e}function $t(r,e,t){const o=t||"";try{Os(r,function(u,p){let _=u;at(u)&&(_=Ft(u)),e.push(o+p+"="+encodeURIComponent(_))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Gn(r,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(p){}}function mi(r){this.l=r.ac||null,this.j=r.jb||!1}function ei(r,e){Ee.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=fi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Si.prototype.cancel=function(){if(this.i=ce(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},$e.prototype.stringify=function(r){return q.JSON.stringify(r,void 0)},$e.prototype.parse=function(r){return q.JSON.parse(r,void 0)},pe(mi,wi),mi.prototype.g=function(){return new ei(this.l,this.j)},mi.prototype.i=function(r){return function(){return r}}({}),pe(ei,Ee);var fi=0;function er(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function Hi(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Vi(r)}function Vi(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ue=ei.prototype).open=function(r,e){if(this.readyState!=fi)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Vi(this)},ue.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hi(this)),this.readyState=fi},ue.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==q.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;er(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},ue.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Hi(this):Vi(this),3==this.readyState&&er(this)}},ue.Va=function(r){this.g&&(this.response=this.responseText=r,Hi(this))},ue.Ua=function(r){this.g&&(this.response=r,Hi(this))},ue.ga=function(){this.g&&Hi(this)},ue.setRequestHeader=function(r,e){this.v.append(r,e)},ue.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ue.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var B=q.JSON.parse;function N(r){Ee.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=M,this.K=this.L=!1}pe(N,Ee);var M="",re=/^https?$/i,Pt=["POST","PUT"];function ki(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Cs(r),Wo(r)}function Cs(r){r.D||(r.D=!0,Le(r,"complete"),Le(r,"error"))}function ds(r){if(r.h&&void 0!==Z&&(!r.C[1]||4!=Gt(r)||2!=r.aa()))if(r.v&&4==Gt(r))vn(r.Ha,0,r);else if(Le(r,"readystatechange"),4==Gt(r)){r.h=!1;try{const A=r.aa();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===A){var u=String(r.H).match(dr)[1]||null;if(!u&&q.self&&q.self.location){var p=q.self.location.protocol;u=p.substr(0,p.length-1)}o=!re.test(u?u.toLowerCase():"")}t=o}if(t)Le(r,"complete"),Le(r,"success");else{r.m=6;try{var _=2<Gt(r)?r.g.statusText:""}catch(j){_=""}r.j=_+" ["+r.aa()+"]",Cs(r)}}finally{Wo(r)}}}function Wo(r,e){if(r.g){ga(r);const t=r.g,o=r.C[0]?se:null;r.g=null,r.C=null,e||Le(r,"ready");try{t.onreadystatechange=o}catch(u){}}}function ga(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(q.clearTimeout(r.A),r.A=null)}function Gt(r){return r.g?r.g.readyState:0}function Ei(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case M:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function dl(r){let e="";return yi(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function ar(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=dl(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Qn(r,e,t))}function ma(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Co(r){this.Ca=0,this.i=[],this.j=new Yt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ma("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ma("baseRetryDelayMs",5e3,r),this.bb=ma("retryDelaySeedMs",1e4,r),this.$a=ma("forwardChannelMaxRetries",2,r),this.ta=ma("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new Si(r&&r.concurrentRequestLimit),this.Fa=new At,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Zs(r){if(ya(r),3==r.G){var e=r.U++,t=hr(r.F);Qn(t,"SID",r.I),Qn(t,"RID",e),Qn(t,"TYPE","terminate"),Js(r,t),(e=new Wr(r,r.j,e,void 0)).K=2,e.v=bs(hr(t)),t=!1,q.navigator&&q.navigator.sendBeacon&&(t=q.navigator.sendBeacon(e.v.toString(),"")),!t&&q.Image&&((new Image).src=e.v,t=!0),t||(e.g=Do(e.l,null),e.g.da(e.v)),e.F=Date.now(),gt(e)}fl(r)}function xa(r){r.g&&(Sr(r),r.g.cancel(),r.g=null)}function ya(r){xa(r),r.u&&(q.clearTimeout(r.u),r.u=null),ia(r),r.h.cancel(),r.m&&("number"==typeof r.m&&q.clearTimeout(r.m),r.m=null)}function hl(r){ws(r.h)||r.m||(r.m=!0,$(r.Ja,r),r.C=0)}function uo(r,e){var t;t=e?e.m:r.U++;const o=hr(r.F);Qn(o,"SID",r.I),Qn(o,"RID",t),Qn(o,"AID",r.T),Js(r,o),r.o&&r.s&&ar(o,r.o,r.s),t=new Wr(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=Mr(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),ie(r.h,t),Ws(t,o,e)}function Js(r,e){r.ia&&yi(r.ia,function(t,o){Qn(e,o,t)}),r.l&&Os({},function(t,o){Qn(e,o,t)})}function Mr(r,e,t){t=Math.min(r.i.length,t);var o=r.l?Be(r.l.Ra,r.l,r):null;e:{var u=r.i;let p=-1;for(;;){const _=["count="+t];-1==p?0<t?(p=u[0].h,_.push("ofs="+p)):p=0:_.push("ofs="+p);let A=!0;for(let j=0;j<t;j++){let K=u[j].h;const ye=u[j].g;if(K-=p,0>K)p=Math.max(0,u[j].h-100),A=!1;else try{$t(ye,_,"req"+K+"_")}catch(He){o&&o(ye)}}if(A){o=_.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,o}function Rs(r){r.g||r.u||(r.Z=1,$(r.Ia,r),r.A=0)}function co(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=rr(Be(r.Ia,r),Ma(r,r.A)),r.A++,0))}function Sr(r){null!=r.B&&(q.clearTimeout(r.B),r.B=null)}function Ts(r){r.g=new Wr(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=hr(r.sa);Qn(e,"RID","rpc"),Qn(e,"SID",r.I),Qn(e,"CI",r.L?"0":"1"),Qn(e,"AID",r.T),Qn(e,"TYPE","xmlhttp"),Js(r,e),r.o&&r.s&&ar(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=bs(hr(e)),t.s=null,t.P=!0,Xi(t,r)}function ia(r){null!=r.v&&(q.clearTimeout(r.v),r.v=null)}function To(r,e){var t=null;if(r.g==e){ia(r),Sr(r),r.g=null;var o=2}else{if(!V(r.h,e))return;t=e.D,F(r.h,e),o=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=r.C;Le(o=Tr(),new gn(o,t)),hl(r)}else Rs(r);else if(3==(u=e.o)||0==u&&0<r.pa||!(1==o&&function Oa(r,e){return!(Fi(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=rr(Be(r.Ja,r,e),Ma(r,r.C)),r.C++,0)))}(r,e)||2==o&&co(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),u){case 1:Ds(r,5);break;case 4:Ds(r,10);break;case 3:Ds(r,6);break;default:Ds(r,2)}}function Ma(r,e){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*e}function Ds(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var o=Be(r.kb,r);t||(t=new Kr("//www.google.com/images/cleardot.gif"),q.location&&"http"==q.location.protocol||$o(t,"https"),bs(t)),function Pn(r,e){const t=new Yt;if(q.Image){const o=new Image;o.onload=ft(Gn,t,o,"TestLoadImage: loaded",!0,e),o.onerror=ft(Gn,t,o,"TestLoadImage: error",!1,e),o.onabort=ft(Gn,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=ft(Gn,t,o,"TestLoadImage: timeout",!1,e),q.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else Bi(2);r.G=0,r.l&&r.l.va(e),fl(r),ya(r)}function fl(r){if(r.G=0,r.la=[],r.l){const e=ce(r.h);(0!=e.length||0!=r.i.length)&&(Je(r.la,e),Je(r.la,r.i),r.h.i.length=0,Y(r.i),r.i.length=0),r.l.ua()}}function Zo(r,e,t){var o=t instanceof Kr?hr(t):new Kr(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),xr(o,o.m);else{var u=q.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var p=new Kr(null,void 0);o&&$o(p,o),e&&(p.g=e),u&&xr(p,u),t&&(p.l=t),o=p}return e=r.za,(t=r.D)&&e&&Qn(o,t,e),Qn(o,"VER",r.ma),Js(r,o),o}function Do(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new N(t&&r.Da&&!r.ra?new mi({jb:!0}):r.ra)).Ka(r.H),e}function Pa(){}function Io(){if(Q&&!(10<=Number(Mn)))throw Error("Environmental error: no available transport.")}function ns(r,e){Ee.call(this),this.g=new Co(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Yb)&&!Ue(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ue(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new ra(this)}function So(r){Ur.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Ao(){Ji.call(this),this.status=1}function ra(r){this.g=r}(ue=N.prototype).Ka=function(r){this.L=r},ue.da=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ir.g(),this.C=function Dr(r){return r.h||(r.h=r.i())}(this.u?this.u:Ir),this.g.onreadystatechange=Be(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(p){return void ki(this,p)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const p of o.keys())t.set(p,o.get(p))}o=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),u=q.FormData&&r instanceof q.FormData,!(0<=bt(Pt,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,_]of t)this.g.setRequestHeader(p,_);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ga(this),0<this.B&&((this.K=function xn(r){return Q&&function ci(){return function pt(r){var e=jn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=Xe(String(yn)).split("."),t=Xe("9").split("."),o=Math.max(e.length,t.length);for(let _=0;0==r&&_<o;_++){var u=e[_]||"",p=t[_]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==u[0].length&&0==p[0].length)break;r=it(0==u[1].length?0:parseInt(u[1],10),0==p[1].length?0:parseInt(p[1],10))||it(0==u[2].length,0==p[2].length)||it(u[2],p[2]),u=u[3],p=p[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Be(this.qa,this)):this.A=vn(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(p){ki(this,p)}},ue.qa=function(){void 0!==Z&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Le(this,"timeout"),this.abort(8))},ue.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Le(this,"complete"),Le(this,"abort"),Wo(this))},ue.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wo(this,!0)),N.X.M.call(this)},ue.Ha=function(){this.s||(this.F||this.v||this.l?ds(this):this.fb())},ue.fb=function(){ds(this)},ue.aa=function(){try{return 2<Gt(this)?this.g.status:-1}catch(r){return-1}},ue.fa=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},ue.Sa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),B(e)}},ue.Ea=function(){return this.m},ue.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ue=Co.prototype).ma=8,ue.G=1,ue.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const u=new Wr(this,this.j,r,void 0);let p=this.s;if(this.S&&(p?(p=Ot(p),Ge(p,this.S)):p=this.S),null!==this.o||this.N||(u.H=p,p=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Mr(this,u,e),Qn(t=hr(this.F),"RID",r),Qn(t,"CVER",22),this.D&&Qn(t,"X-HTTP-Session-Id",this.D),Js(this,t),p&&(this.N?e="headers="+encodeURIComponent(String(dl(p)))+"&"+e:this.o&&ar(t,this.o,p)),ie(this.h,u),this.Ya&&Qn(t,"TYPE","init"),this.O?(Qn(t,"$req",e),Qn(t,"SID","null"),u.Z=!0,Ws(u,t,null)):Ws(u,t,e),this.G=2}}else 3==this.G&&(r?uo(this,r):0==this.i.length||ws(this.h)||uo(this))},ue.Ia=function(){if(this.u=null,Ts(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=rr(Be(this.eb,this),r)}},ue.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Bi(10),xa(this),Ts(this))},ue.cb=function(){null!=this.v&&(this.v=null,xa(this),co(this),Bi(19))},ue.kb=function(r){r?(this.j.info("Successfully pinged google.com"),Bi(2)):(this.j.info("Failed to ping google.com"),Bi(1))},(ue=Pa.prototype).xa=function(){},ue.wa=function(){},ue.va=function(){},ue.ua=function(){},ue.Ra=function(){},Io.prototype.g=function(r,e){return new ns(r,e)},pe(ns,Ee),ns.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;Bi(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=Zo(r,null,r.V),hl(r)},ns.prototype.close=function(){Zs(this.g)},ns.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Ft(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.ab++,r)),3==e.G&&hl(e)},ns.prototype.M=function(){this.g.l=null,delete this.j,Zs(this.g),delete this.g,ns.X.M.call(this)},pe(So,Ur),pe(Ao,Ji),pe(ra,Pa),ra.prototype.xa=function(){Le(this.g,"a")},ra.prototype.wa=function(r){Le(this.g,new So(r))},ra.prototype.va=function(r){Le(this.g,new Ao)},ra.prototype.ua=function(){Le(this.g,"b")},Io.prototype.createWebChannel=Io.prototype.g,ns.prototype.send=ns.prototype.u,ns.prototype.open=ns.prototype.m,ns.prototype.close=ns.prototype.close,St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,or.COMPLETE="complete",_i.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",Ee.prototype.listen=Ee.prototype.N,N.prototype.listenOnce=N.prototype.O,N.prototype.getLastError=N.prototype.Oa,N.prototype.getLastErrorCode=N.prototype.Ea,N.prototype.getStatus=N.prototype.aa,N.prototype.getResponseJson=N.prototype.Sa,N.prototype.getResponseText=N.prototype.fa,N.prototype.send=N.prototype.da,N.prototype.setWithCredentials=N.prototype.Ka;var pl=me.createWebChannelTransport=function(){return new Io},sa=me.getStatEventTarget=function(){return Tr()},xo=me.ErrorCode=St,Fl=me.EventType=or,gl=me.Event=sr,is=me.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ho=me.FetchXmlHttpFactory=mi,Qi=me.WebChannel=_i,va=me.XhrIo=N;const lu="@firebase/firestore";class ji{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ji.UNAUTHENTICATED=new ji(null),ji.GOOGLE_CREDENTIALS=new ji("google-credentials-uid"),ji.FIRST_PARTY=new ji("first-party-uid"),ji.MOCK_USER=new ji("mock-user");let Is="9.14.0";const fo=new Ce.Yd("@firebase/firestore");function po(){return fo.logLevel}function Ns(r){fo.setLogLevel(r)}function Kt(r,...e){if(fo.logLevel<=Ce.in.DEBUG){const t=e.map(oa);fo.debug(`Firestore (${Is}): ${r}`,...t)}}function tr(r,...e){if(fo.logLevel<=Ce.in.ERROR){const t=e.map(oa);fo.error(`Firestore (${Is}): ${r}`,...t)}}function $i(r,...e){if(fo.logLevel<=Ce.in.WARN){const t=e.map(oa);fo.warn(`Firestore (${Is}): ${r}`,...t)}}function oa(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function Rn(r="Unexpected state"){const e=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: `+r;throw tr(e),new Error(e)}function Sn(r,e){r||Rn()}function Ss(r,e){r||Rn()}function hn(r,e){return r}const Dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zt extends ve.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ra{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ja{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ji.UNAUTHENTICATED))}shutdown(){}}class Qu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ys{constructor(e){this.t=e,this.currentUser=ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const p=K=>this.i!==u?(u=this.i,t(K)):Promise.resolve();let _=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new fr,e.enqueueRetryable(()=>p(this.currentUser))};const A=()=>{const K=_;e.enqueueRetryable((0,f.Z)(function*(){yield K.promise,yield p(o.currentUser)}))},j=K=>{Kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(K=>j(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?j(K):(Kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new fr)}},0),A()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Sn("string"==typeof o.accessToken),new Ra(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Sn(null===e||"string"==typeof e),new ji(e)}}class ml{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=ji.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Sn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Xa{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new ml(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(ji.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Na{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rs{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=p=>{null!=p.error&&Kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.A;return this.A=p.token,Kt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const u=p=>{Kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.T.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.T.getImmediate({optional:!0});p?u(p):Kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Sn("string"==typeof t.token),this.A=t.token,new Na(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ka(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class Gi{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=ka(40);for(let p=0;p<u.length;++p)o.length<20&&u[p]<t&&(o+=e.charAt(u[p]%e.length))}return o}}function ni(r,e){return r<e?-1:r>e?1:0}function vs(r,e,t){return r.length===e.length&&r.every((o,u)=>t(o,e[u]))}function Ea(r){return r+"\0"}class Zi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new zt(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new zt(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new zt(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zt(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zi.fromMillis(Date.now())}static fromDate(e){return Zi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Zi(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ni(this.nanoseconds,e.nanoseconds):ni(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xn(e)}static min(){return new Xn(new Zi(0,0))}static max(){return new Xn(new Zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class O{constructor(e,t,o){void 0===t?t=0:t>e.length&&Rn(),void 0===o?o=e.length-t:o>e.length-t&&Rn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===O.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof O?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const p=e.get(u),_=t.get(u);if(p<_)return-1;if(p>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class D extends O{construct(e,t,o){return new D(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new zt(Dt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new D(t)}static emptyPath(){return new D([])}}const w=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class k extends O{construct(e,t,o){return new k(e,t,o)}static isValidIdentifier(e){return w.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),k.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new k(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const p=()=>{if(0===o.length)throw new zt(Dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let _=!1;for(;u<e.length;){const A=e[u];if("\\"===A){if(u+1===e.length)throw new zt(Dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[u+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new zt(Dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=j,u+=2}else"`"===A?(_=!_,u++):"."!==A||_?(o+=A,u++):(p(),u++)}if(p(),_)throw new zt(Dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new k(t)}static emptyPath(){return new k([])}}class L{constructor(e){this.path=e}static fromPath(e){return new L(D.fromString(e))}static fromName(e){return new L(D.fromString(e).popFirst(5))}static empty(){return new L(D.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===D.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return D.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new D(e.slice()))}}class le{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function Pe(r){return r.fields.find(e=>2===e.kind)}function je(r){return r.fields.filter(e=>2!==e.kind)}le.UNKNOWN_ID=-1;class wn{constructor(e,t){this.fieldPath=e,this.kind=t}}class Nn{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Nn(0,pr.min())}}function Mi(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,u=Xn.fromTimestamp(1e9===o?new Zi(t+1,0):new Zi(t,o));return new pr(u,L.empty(),e)}function Pi(r){return new pr(r.readTime,r.key,-1)}class pr{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new pr(Xn.min(),L.empty(),-1)}static max(){return new pr(Xn.max(),L.empty(),-1)}}function go(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=L.comparator(r.documentKey,e.documentKey),0!==t?t:ni(r.largestBatchId,e.largestBatchId))}const Oo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Yr(r){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,f.Z)(function*(r){if(r.code!==Dt.FAILED_PRECONDITION||r.message!==Oo)throw r;Kt("LocalStore","Unexpectedly lost primary lease")}),Ko.apply(this,arguments)}class _t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _t((o,u)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,u)},this.catchCallback=p=>{this.wrapFailure(t,p).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _t?t:_t.resolve(t)}catch(t){return _t.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_t.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_t.reject(t)}static resolve(e){return new _t((t,o)=>{t(e)})}static reject(e){return new _t((t,o)=>{o(e)})}static waitFor(e){return new _t((t,o)=>{let u=0,p=0,_=!1;e.forEach(A=>{++u,A.next(()=>{++p,_&&p===u&&t()},j=>o(j))}),_=!0,p===u&&t()})}static or(e){let t=_t.resolve(!1);for(const o of e)t=t.next(u=>u?_t.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,p)=>{o.push(t.call(this,u,p))}),this.waitFor(o)}static mapArray(e,t){return new _t((o,u)=>{const p=e.length,_=new Array(p);let A=0;for(let j=0;j<p;j++){const K=j;t(e[K]).next(ye=>{_[K]=ye,++A,A===p&&o(_)},ye=>u(ye))}})}static doWhile(e,t){return new _t((o,u)=>{const p=()=>{!0===e()?t().next(()=>{p()},u):o()};p()})}}class Pr{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new fr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Mo(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=Fa(o.target.error);this.P.reject(new Mo(e,u))}}static open(e,t,o,u){try{return new Pr(t,e.transaction(u,o))}catch(p){throw new Mo(t,p)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Kt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new La(t)}}class Xs{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===Xs.D((0,ve.z$)())&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Kt("SimpleDb","Removing database:",e),gr(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ve.hl)())return!1;if(Xs.N())return!0;const e=(0,ve.z$)(),t=Xs.D(e),o=0<t&&t<10,u=Xs.k(e),p=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,f.Z)(function*(){return t.db||(Kt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const p=indexedDB.open(t.name,t.version);p.onsuccess=_=>{o(_.target.result)},p.onblocked=()=>{u(new Mo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=_=>{const A=_.target.error;u("VersionError"===A.name?new zt(Dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new zt(Dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new Mo(e,A))},p.onupgradeneeded=_=>{Kt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',_.oldVersion),t.S.$(_.target.result,p.transaction,_.oldVersion,t.version).next(()=>{Kt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var p=this;return(0,f.Z)(function*(){const _="readonly"===t;let A=0;for(;;){++A;try{p.db=yield p.F(e);const j=Pr.open(p.db,e,_?"readonly":"readwrite",o),K=u(j).next(ye=>(j.V(),ye)).catch(ye=>(j.abort(ye),_t.reject(ye))).toPromise();return K.catch(()=>{}),yield j.v,K}catch(j){const K=j,ye="FirebaseError"!==K.name&&A<3;if(Kt("SimpleDb","Transaction failed with error:",K.message,"Retrying:",ye),p.close(),!ye)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yl{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return gr(this.U.delete())}}class Mo extends zt{constructor(e,t){super(Dt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ks(r){return"IndexedDbTransactionError"===r.name}class La{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Kt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Kt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),gr(o)}add(e){return Kt("SimpleDb","ADD",this.store.name,e,e),gr(this.store.add(e))}get(e){return gr(this.store.get(e)).next(t=>(void 0===t&&(t=null),Kt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Kt("SimpleDb","DELETE",this.store.name,e),gr(this.store.delete(e))}count(){return Kt("SimpleDb","COUNT",this.store.name),gr(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),p=[];return this.H(u,(_,A)=>{p.push(A)}).next(()=>p)}{const u=this.store.getAll(o.range);return new _t((p,_)=>{u.onerror=A=>{_(A.target.error)},u.onsuccess=A=>{p(A.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new _t((u,p)=>{o.onerror=_=>{p(_.target.error)},o.onsuccess=_=>{u(_.target.result)}})}Y(e,t){Kt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const u=this.cursor(o);return this.H(u,(p,_,A)=>A.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.H(u,t)}tt(e){const t=this.cursor({});return new _t((o,u)=>{t.onerror=p=>{const _=Fa(p.target.error);u(_)},t.onsuccess=p=>{const _=p.target.result;_?e(_.primaryKey,_.value).next(A=>{A?_.continue():o()}):o()}})}H(e,t){const o=[];return new _t((u,p)=>{e.onerror=_=>{p(_.target.error)},e.onsuccess=_=>{const A=_.target.result;if(!A)return void u();const j=new yl(A),K=t(A.primaryKey,A.value,j);if(K instanceof _t){const ye=K.catch(He=>(j.done(),_t.reject(He)));o.push(ye)}j.isDone?u():null===j.G?A.continue():A.continue(j.G)}}).next(()=>_t.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function gr(r){return new _t((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const u=Fa(o.target.error);t(u)}})}let vl=!1;function Fa(r){const e=Xs.D((0,ve.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new zt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vl||(vl=!0,setTimeout(()=>{throw o},0)),o}}return r}class ba{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Kt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,f.Z)(function*(){t.task=null;try{Kt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){Ks(o)?Kt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Yr(o)}yield t.nt(6e4)}))}}class Va{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,f.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let u=t,p=!0;return _t.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(_=>{if(null!==_&&!o.has(_))return Kt("IndexBackiller",`Processing collection: ${_}`),this.rt(e,_,u).next(A=>{u-=A,o.add(_)});p=!1})).next(()=>t-u)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(p=>{const _=p.changes;return this.localStore.indexManager.updateIndexEntries(e,_).next(()=>this.ot(u,p)).next(A=>(Kt("IndexBackiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(e,t,A))).next(()=>_.size)}))}ot(e,t){let o=e;return t.changes.forEach((u,p)=>{const _=Pi(p);go(_,o)>0&&(o=_)}),new pr(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class eo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function _r(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ua(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ou(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}eo.at=-1;class Rr{constructor(e,t){this.comparator=e,this.root=t||ks.EMPTY}insert(e,t){return new Rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ks.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ks.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mu(this.root,e,this.comparator,!0)}}class Mu{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?o(e.key,t):1,t&&u&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ks{constructor(e,t,o,u,p){this.key=e,this.value=t,this.color=null!=o?o:ks.RED,this.left=null!=u?u:ks.EMPTY,this.right=null!=p?p:ks.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,p){return new ks(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const p=o(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===p?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ks.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return ks.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ks.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ks.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rn();const e=this.left.check();if(e!==this.right.check())throw Rn();return e+(this.isRed()?0:1)}}ks.EMPTY=null,ks.RED=!0,ks.BLACK=!1,ks.EMPTY=new class{constructor(){this.size=0}get key(){throw Rn()}get value(){throw Rn()}get color(){throw Rn()}get left(){throw Rn()}get right(){throw Rn()}copy(r,e,t,o,u){return this}insert(r,e,t){return new ks(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ur{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sc(this.data.getIterator())}getIteratorFrom(e){return new Sc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof ur)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,p=o.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ur(this.comparator);return t.data=e,t}}class Sc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function to(r){return r.hasNext()?r.getNext():void 0}class no{constructor(e){this.fields=e,e.sort(k.comparator)}static empty(){return new no([])}unionWith(e){let t=new ur(k.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new no(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,(t,o)=>t.isEqual(o))}}function Ar(){return"undefined"!=typeof atob}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Nr(t)}static fromUint8Array(e){const t=function(o){let u="";for(let p=0;p<o.length;++p)u+=String.fromCharCode(o[p]);return u}(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ni(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const Ba=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(r){if(Sn(!!r),"string"==typeof r){let e=0;const t=Ba.exec(r);if(Sn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Er(r.seconds),nanos:Er(r.nanos)}}function Er(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Br(r){return"string"==typeof r?Nr.fromBase64String(r):Nr.fromUint8Array(r)}function Ls(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function uu(r){const e=r.mapValue.fields.__previous_value__;return Ls(e)?uu(e):e}function qo(r){const e=Ha(r.mapValue.fields.__local_write_time__.timestampValue);return new Zi(e.seconds,e.nanos)}class wa{constructor(e,t,o,u,p,_,A,j){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=A,this.useFetchStreams=j}}class _s{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _s("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _s&&e.projectId===this.projectId&&e.database===this.database}}function Po(r){return null==r}function ja(r){return 0===r&&1/r==-1/0}function cu(r){return"number"==typeof r&&Number.isInteger(r)&&!ja(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const aa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},la={nullValue:"NULL_VALUE"};function Qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ls(r)?4:Yo(r)?9007199254740991:10:Rn()}function Ro(r,e){if(r===e)return!0;const t=Qr(r);if(t!==Qr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return qo(r).isEqual(qo(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const p=Ha(o.timestampValue),_=Ha(u.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return u=e,Br(r.bytesValue).isEqual(Br(u.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Er(o.geoPointValue.latitude)===Er(u.geoPointValue.latitude)&&Er(o.geoPointValue.longitude)===Er(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Er(o.integerValue)===Er(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const p=Er(o.doubleValue),_=Er(u.doubleValue);return p===_?ja(p)===ja(_):isNaN(p)&&isNaN(_)}return!1}(r,e);case 9:return vs(r.arrayValue.values||[],e.arrayValue.values||[],Ro);case 10:return function(o,u){const p=o.mapValue.fields||{},_=u.mapValue.fields||{};if(_r(p)!==_r(_))return!1;for(const A in p)if(p.hasOwnProperty(A)&&(void 0===_[A]||!Ro(p[A],_[A])))return!1;return!0}(r,e);default:return Rn()}var u}function Jr(r,e){return void 0!==(r.values||[]).find(t=>Ro(t,e))}function No(r,e){if(r===e)return 0;const t=Qr(r),o=Qr(e);if(t!==o)return ni(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return ni(r.booleanValue,e.booleanValue);case 2:return function(u,p){const _=Er(u.integerValue||u.doubleValue),A=Er(p.integerValue||p.doubleValue);return _<A?-1:_>A?1:_===A?0:isNaN(_)?isNaN(A)?0:-1:1}(r,e);case 3:return $a(r.timestampValue,e.timestampValue);case 4:return $a(qo(r),qo(e));case 5:return ni(r.stringValue,e.stringValue);case 6:return function(u,p){const _=Br(u),A=Br(p);return _.compareTo(A)}(r.bytesValue,e.bytesValue);case 7:return function(u,p){const _=u.split("/"),A=p.split("/");for(let j=0;j<_.length&&j<A.length;j++){const K=ni(_[j],A[j]);if(0!==K)return K}return ni(_.length,A.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,p){const _=ni(Er(u.latitude),Er(p.latitude));return 0!==_?_:ni(Er(u.longitude),Er(p.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(u,p){const _=u.values||[],A=p.values||[];for(let j=0;j<_.length&&j<A.length;++j){const K=No(_[j],A[j]);if(K)return K}return ni(_.length,A.length)}(r.arrayValue,e.arrayValue);case 10:return function(u,p){if(u===aa.mapValue&&p===aa.mapValue)return 0;if(u===aa.mapValue)return 1;if(p===aa.mapValue)return-1;const _=u.fields||{},A=Object.keys(_),j=p.fields||{},K=Object.keys(j);A.sort(),K.sort();for(let ye=0;ye<A.length&&ye<K.length;++ye){const He=ni(A[ye],K[ye]);if(0!==He)return He;const yt=No(_[A[ye]],j[K[ye]]);if(0!==yt)return yt}return ni(A.length,K.length)}(r.mapValue,e.mapValue);default:throw Rn()}}function $a(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return ni(r,e);const t=Ha(r),o=Ha(e),u=ni(t.seconds,o.seconds);return 0!==u?u:ni(t.nanos,o.nanos)}function Fs(r){return Vl(r)}function Vl(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const u=Ha(o);return`time(${u.seconds},${u.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Br(r.bytesValue).toBase64():"referenceValue"in r?L.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let u="[",p=!0;for(const _ of o.values||[])p?p=!1:u+=",",u+=Vl(_);return u+"]"}(r.arrayValue):"mapValue"in r?function(o){const u=Object.keys(o.fields||{}).sort();let p="{",_=!0;for(const A of u)_?_=!1:p+=",",p+=`${A}:${Vl(o.fields[A])}`;return p+"}"}(r.mapValue):Rn();var e}function ua(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ga(r){return!!r&&"integerValue"in r}function ko(r){return!!r&&"arrayValue"in r}function za(r){return!!r&&"nullValue"in r}function io(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function el(r){return!!r&&"mapValue"in r}function tl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ua(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=tl(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Yo(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function nl(r){return"nullValue"in r?la:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?ua(_s.empty(),L.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Rn()}function Vs(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?ua(_s.empty(),L.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?aa:Rn()}function Wa(r,e){const t=No(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function R(r,e){const t=No(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class U{constructor(e){this.value=e}static empty(){return new U({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!el(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(t)}setAll(e){let t=k.emptyPath(),o={},u=[];e.forEach((_,A)=>{if(!t.isImmediateParentOf(A)){const j=this.getFieldsMap(t);this.applyChanges(j,o,u),o={},u=[],t=A.popLast()}_?o[A.lastSegment()]=tl(_):u.push(A.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,o,u)}delete(e){const t=this.field(e.popLast());el(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ro(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];el(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){Ua(t,(u,p)=>e[u]=p);for(const u of o)delete e[u]}clone(){return new U(tl(this.value))}}function ae(r){const e=[];return Ua(r.fields,(t,o)=>{const u=new k([t]);if(el(o)){const p=ae(o.mapValue).fields;if(0===p.length)e.push(u);else for(const _ of p)e.push(u.child(_))}else e.push(u)}),new no(e)}class Ie{constructor(e,t,o,u,p,_){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=p,this.documentState=_}static newInvalidDocument(e){return new Ie(e,0,Xn.min(),Xn.min(),U.empty(),0)}static newFoundDocument(e,t,o){return new Ie(e,1,t,Xn.min(),o,0)}static newNoDocument(e,t){return new Ie(e,2,t,Xn.min(),U.empty(),0)}static newUnknownDocument(e,t){return new Ie(e,3,t,Xn.min(),U.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=U.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=U.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ie&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ie(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rt{constructor(e,t=null,o=[],u=[],p=null,_=null,A=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=p,this.startAt=_,this.endAt=A,this.ht=null}}function Et(r,e=null,t=[],o=[],u=null,p=null,_=null){return new rt(r,e,t,o,u,p,_)}function Qt(r){const e=hn(r);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+Fs(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Po(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Fs(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Fs(o)).join(",")),e.ht=t}return e.ht}function Bn(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<r.orderBy.length;u++)if(!Xc(r.orderBy[u],e.orderBy[u]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let u=0;u<r.filters.length;u++)if((t=r.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!Ro(t.value,o.value))return!1;var t,o;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!rl(r.startAt,e.startAt)&&rl(r.endAt,e.endAt)}function ui(r){return L.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function ii(r,e){return r.filters.filter(t=>t instanceof Yi&&t.field.isEqual(e))}function zn(r,e,t){let o=la,u=!0;for(const p of ii(r,e)){let _=la,A=!0;switch(p.op){case"<":case"<=":_=nl(p.value);break;case"==":case"in":case">=":_=p.value;break;case">":_=p.value,A=!1;break;case"!=":case"not-in":_=la}Wa({value:o,inclusive:u},{value:_,inclusive:A})<0&&(o=_,u=A)}if(null!==t)for(let p=0;p<r.orderBy.length;++p)if(r.orderBy[p].field.isEqual(e)){const _=t.position[p];Wa({value:o,inclusive:u},{value:_,inclusive:t.inclusive})<0&&(o=_,u=t.inclusive);break}return{value:o,inclusive:u}}function ss(r,e,t){let o=aa,u=!0;for(const p of ii(r,e)){let _=aa,A=!0;switch(p.op){case">=":case">":_=Vs(p.value),A=!1;break;case"==":case"in":case"<=":_=p.value;break;case"<":_=p.value,A=!1;break;case"!=":case"not-in":_=aa}R({value:o,inclusive:u},{value:_,inclusive:A})>0&&(o=_,u=A)}if(null!==t)for(let p=0;p<r.orderBy.length;++p)if(r.orderBy[p].field.isEqual(e)){const _=t.position[p];R({value:o,inclusive:u},{value:_,inclusive:t.inclusive})>0&&(o=_,u=t.inclusive);break}return{value:o,inclusive:u}}class Yi extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new il(e,t,o):"array-contains"===t?new Ca(e,o):"in"===t?new Za(e,o):"not-in"===t?new ca(e,o):"array-contains-any"===t?new Ta(e,o):new Yi(e,t,o)}static lt(e,t,o){return"in"===t?new Qo(e,o):new Us(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(No(t,this.value)):null!==t&&Qr(this.value)===Qr(t)&&this.ft(No(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class il extends Yi{constructor(e,t,o){super(e,t,o),this.key=L.fromName(o.referenceValue)}matches(e){const t=L.comparator(e.key,this.key);return this.ft(t)}}class Qo extends Yi{constructor(e,t){super(e,"in",t),this.keys=Ul(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Us extends Yi{constructor(e,t){super(e,"not-in",t),this.keys=Ul(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ul(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>L.fromName(o.referenceValue))}class Ca extends Yi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ko(t)&&Jr(t.arrayValue,this.value)}}class Za extends Yi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Jr(this.value.arrayValue,t)}}class ca extends Yi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Jr(this.value.arrayValue,t)}}class Ta extends Yi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ko(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Jr(this.value.arrayValue,o))}}class ro{constructor(e,t){this.position=e,this.inclusive=t}}class Ka{constructor(e,t="asc"){this.field=e,this.dir=t}}function Xc(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function Ac(r,e,t){let o=0;for(let u=0;u<r.position.length;u++){const p=e[u],_=r.position[u];if(o=p.field.isKeyField()?L.comparator(L.fromName(_.referenceValue),t.key):No(_,t.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function rl(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ro(r.position[t],e.position[t]))return!1;return!0}class qs{constructor(e,t=null,o=[],u=[],p=null,_="F",A=null,j=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=p,this.limitType=_,this.startAt=A,this.endAt=j,this._t=null,this.wt=null}}function Ju(r,e,t,o,u,p,_,A){return new qs(r,e,t,o,u,p,_,A)}function du(r){return new qs(r)}function Pu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function xc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Bl(r){for(const e of r.filters)if(e.dt())return e.field;return null}function Lo(r){return null!==r.collectionGroup}function Hl(r){const e=hn(r);if(null===e._t){e._t=[];const t=Bl(e),o=xc(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new Ka(t)),e._t.push(new Ka(k.keyField(),"asc"));else{let u=!1;for(const p of e.explicitOrderBy)e._t.push(p),p.field.isKeyField()&&(u=!0);if(!u){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Ka(k.keyField(),p))}}}return e._t}function so(r){const e=hn(r);if(!e.wt)if("F"===e.limitType)e.wt=Et(e.path,e.collectionGroup,Hl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of Hl(e))t.push(new Ka(p.field,"desc"===p.dir?"asc":"desc"));const o=e.endAt?new ro(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new ro(e.startAt.position,e.startAt.inclusive):null;e.wt=Et(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.wt}function da(r,e,t){return new qs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function oo(r,e){return Bn(so(r),so(e))&&r.limitType===e.limitType}function _l(r){return`${Qt(so(r))}|lt:${r.limitType}`}function Xu(r){return`Query(target=${function un(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Fs(o.value)}`;var o}).join(", ")}]`),Po(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>Fs(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>Fs(t)).join(",")),`Target(${e})`}(so(r))}; limitType=${r.limitType})`}function jl(r,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):L.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(r,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(r,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(u,p,_){const A=Ac(u,p,_);return u.inclusive?A<=0:A<0}(t.startAt,Hl(t),o)||t.endAt&&!function(u,p,_){const A=Ac(u,p,_);return u.inclusive?A>=0:A>0}(t.endAt,Hl(t),o)));var t,o}function Ru(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Bs(r){return(e,t)=>{let o=!1;for(const u of Hl(r)){const p=hu(u,e,t);if(0!==p)return p;o=o||u.field.isKeyField()}return 0}}function hu(r,e,t){const o=r.field.isKeyField()?L.comparator(e.key,t.key):function(u,p,_){const A=p.data.field(u),j=_.data.field(u);return null!==A&&null!==j?No(A,j):Rn()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return Rn()}}function ec(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ja(e)?"-0":e}}function tc(r){return{integerValue:""+r}}function fu(r,e){return cu(e)?tc(e):ec(r,e)}class Fo{constructor(){this._=void 0}}function ed(r,e,t){return r instanceof $l?function(o,u){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(p.fields.__previous_value__=u),{mapValue:p}}(t,e):r instanceof an?ha(r,e):r instanceof yo?nc(r,e):function(o,u){const p=td(o,u),_=Nu(p)+Nu(o.yt);return Ga(p)&&Ga(o.yt)?tc(_):ec(o.It,_)}(r,e)}function Oc(r,e,t){return r instanceof an?ha(r,e):r instanceof yo?nc(r,e):t}function td(r,e){return r instanceof El?Ga(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class $l extends Fo{}class an extends Fo{constructor(e){super(),this.elements=e}}function ha(r,e){const t=pu(e);for(const o of r.elements)t.some(u=>Ro(u,o))||t.push(o);return{arrayValue:{values:t}}}class yo extends Fo{constructor(e){super(),this.elements=e}}function nc(r,e){let t=pu(e);for(const o of r.elements)t=t.filter(u=>!Ro(u,o));return{arrayValue:{values:t}}}class El extends Fo{constructor(e,t){super(),this.It=e,this.yt=t}}function Nu(r){return Er(r.integerValue||r.doubleValue)}function pu(r){return ko(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Gl{constructor(e,t){this.field=e,this.transform=t}}class gu{constructor(e,t){this.version=e,this.transformResults=t}}class kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ku(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class mu{}function yu(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new ge(r.key,kr.none()):new C(r.key,r.data,kr.none());{const t=r.data,o=U.empty();let u=new ur(k.comparator);for(let p of e.fields)if(!u.has(p)){let _=t.field(p);null===_&&p.length>1&&(p=p.popLast(),_=t.field(p)),null===_?o.delete(p):o.set(p,_),u=u.add(p)}return new m(r.key,o,new no(u.toArray()),kr.none())}}function Jd(r,e,t){r instanceof C?function(o,u,p){const _=o.value.clone(),A=S(o.fieldTransforms,u,p.transformResults);_.setAll(A),u.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(r,e,t):r instanceof m?function(o,u,p){if(!ku(o.precondition,u))return void u.convertToUnknownDocument(p.version);const _=S(o.fieldTransforms,u,p.transformResults),A=u.data;A.setAll(v(o)),A.setAll(_),u.convertToFoundDocument(p.version,A).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bl(r,e,t,o){return r instanceof C?function(u,p,_,A){if(!ku(u.precondition,p))return _;const j=u.value.clone(),K=J(u.fieldTransforms,A,p);return j.setAll(K),p.convertToFoundDocument(p.version,j).setHasLocalMutations(),null}(r,e,t,o):r instanceof m?function(u,p,_,A){if(!ku(u.precondition,p))return _;const j=J(u.fieldTransforms,A,p),K=p.data;return K.setAll(v(u)),K.setAll(j),p.convertToFoundDocument(p.version,K).setHasLocalMutations(),null===_?null:_.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ye=>ye.field))}(r,e,t,o):(_=t,ku(r.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_);var p,_}function Wl(r,e){let t=null;for(const o of r.fieldTransforms){const u=e.data.field(o.field),p=td(o.transform,u||null);null!=p&&(null===t&&(t=U.empty()),t.set(o.field,p))}return t||null}function sl(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&vs(t,o,(u,p)=>function zl(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof an&&o instanceof an||t instanceof yo&&o instanceof yo?vs(t.elements,o.elements,Ro):t instanceof El&&o instanceof El?Ro(t.yt,o.yt):t instanceof $l&&o instanceof $l);var t,o}(u,p))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class C extends mu{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class m extends mu{constructor(e,t,o,u,p=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function v(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function S(r,e,t){const o=new Map;Sn(r.length===t.length);for(let u=0;u<t.length;u++){const p=r[u],_=p.transform,A=e.data.field(p.field);o.set(p.field,Oc(_,A,t[u]))}return o}function J(r,e,t){const o=new Map;for(const u of r){const p=u.transform,_=t.data.field(u.field);o.set(u.field,ed(p,_,e))}return o}class ge extends mu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ct extends mu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jt{constructor(e){this.count=e}}var dn,cn;function ri(r){switch(r){default:return Rn();case Dt.CANCELLED:case Dt.UNKNOWN:case Dt.DEADLINE_EXCEEDED:case Dt.RESOURCE_EXHAUSTED:case Dt.INTERNAL:case Dt.UNAVAILABLE:case Dt.UNAUTHENTICATED:return!1;case Dt.INVALID_ARGUMENT:case Dt.NOT_FOUND:case Dt.ALREADY_EXISTS:case Dt.PERMISSION_DENIED:case Dt.FAILED_PRECONDITION:case Dt.ABORTED:case Dt.OUT_OF_RANGE:case Dt.UNIMPLEMENTED:case Dt.DATA_LOSS:return!0}}function br(r){if(void 0===r)return tr("GRPC error has no .code"),Dt.UNKNOWN;switch(r){case dn.OK:return Dt.OK;case dn.CANCELLED:return Dt.CANCELLED;case dn.UNKNOWN:return Dt.UNKNOWN;case dn.DEADLINE_EXCEEDED:return Dt.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return Dt.RESOURCE_EXHAUSTED;case dn.INTERNAL:return Dt.INTERNAL;case dn.UNAVAILABLE:return Dt.UNAVAILABLE;case dn.UNAUTHENTICATED:return Dt.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return Dt.INVALID_ARGUMENT;case dn.NOT_FOUND:return Dt.NOT_FOUND;case dn.ALREADY_EXISTS:return Dt.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return Dt.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return Dt.FAILED_PRECONDITION;case dn.ABORTED:return Dt.ABORTED;case dn.OUT_OF_RANGE:return Dt.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return Dt.UNIMPLEMENTED;case dn.DATA_LOSS:return Dt.DATA_LOSS;default:return Rn()}}(cn=dn||(dn={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";class Xr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,p]of o)if(this.equalsFn(u,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],e))return void(u[p]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ua(this.inner,(t,o)=>{for(const[u,p]of o)e(u,p)})}isEmpty(){return Ou(this.inner)}size(){return this.innerSize}}const qa=new Rr(L.comparator);function Hs(){return qa}const ic=new Rr(L.comparator);function wl(...r){let e=ic;for(const t of r)e=e.insert(t.key,t);return e}function rc(r){let e=ic;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Jo(){return Cl()}function ol(){return Cl()}function Cl(){return new Xr(r=>r.toString(),(r,e)=>r.isEqual(e))}const Zl=new Rr(L.comparator),Kl=new ur(L.comparator);function Fn(...r){let e=Kl;for(const t of r)e=e.add(t);return e}const Mc=new ur(ni);function al(){return Mc}class Tl{constructor(e,t,o,u,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Tl(Xn.min(),u,al(),Hs(),Fn())}}class vu{constructor(e,t,o,u,p){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new vu(o,t,Fn(),Fn(),Fn())}}class sc{constructor(e,t,o,u){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=u}}class nd{constructor(e,t){this.targetId=e,this.At=t}}class Xd{constructor(e,t,o=Nr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class id{constructor(){this.Rt=0,this.bt=ef(),this.Pt=Nr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Fn(),t=Fn(),o=Fn();return this.bt.forEach((u,p)=>{switch(p){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:Rn()}}),new vu(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=ef()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class eh{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Hs(),this.qt=Xh(),this.Kt=new ur(ni)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:Rn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,u)=>{this.Ht(u)&&t(u)})}Yt(e){const t=e.targetId,o=e.At.count,u=this.Xt(t);if(u){const p=u.target;if(ui(p))if(0===o){const _=new L(p.path);this.jt(t,_,Ie.newNoDocument(_,Xn.min()))}else Sn(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((p,_)=>{const A=this.Xt(_);if(A){if(p.current&&ui(A.target)){const j=new L(A.target.path);null!==this.Ut.get(j)||this.ee(_,j)||this.jt(_,j,Ie.newNoDocument(j,e))}p.Dt&&(t.set(_,p.xt()),p.Nt())}});let o=Fn();this.qt.forEach((p,_)=>{let A=!0;_.forEachWhile(j=>{const K=this.Xt(j);return!K||2===K.purpose||(A=!1,!1)}),A&&(o=o.add(p))}),this.Ut.forEach((p,_)=>_.setReadTime(e));const u=new Tl(e,t,this.Kt,this.Ut,o);return this.Ut=Hs(),this.qt=Xh(),this.Kt=new ur(ni),u}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,t)?u.kt(t,1):u.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new id,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new ur(ni),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Kt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new id),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Xh(){return new Rr(L.comparator)}function ef(){return new Rr(L.comparator)}const Lu={asc:"ASCENDING",desc:"DESCENDING"},Vo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class rd{constructor(e,t){this.databaseId=e,this.gt=t}}function Fu(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sd(r,e){return r.gt?e.toBase64():e.toUint8Array()}function Uo(r,e){return Fu(r,e.toTimestamp())}function E(r){return Sn(!!r),Xn.fromTimestamp(function(e){const t=Ha(e);return new Zi(t.seconds,t.nanos)}(r))}function c(r,e){return(t=r,new D(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function a(r){const e=D.fromString(r);return Sn(Vu(e)),e}function g(r,e){return c(r.databaseId,e.path)}function T(r,e){const t=a(e);if(t.get(1)!==r.databaseId.projectId)throw new zt(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new zt(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new L(tt(t))}function H(r,e){return c(r.databaseId,e)}function oe(r){const e=a(r);return 4===e.length?D.emptyPath():tt(e)}function De(r){return new D(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tt(r){return Sn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Ct(r,e,t){return{name:g(r,e),fields:t.value.mapValue.fields}}function Xt(r,e,t){const o=T(r,e.name),u=E(e.updateTime),p=new U({mapValue:{fields:e.fields}}),_=Ie.newFoundDocument(o,u,p);return t&&_.setHasCommittedMutations(),t?_.setHasCommittedMutations():_}function si(r,e){let t;if(e instanceof C)t={update:Ct(r,e.key,e.value)};else if(e instanceof ge)t={delete:g(r,e.key)};else if(e instanceof m)t={update:Ct(r,e.key,e.data),updateMask:th(e.fieldMask)};else{if(!(e instanceof ct))return Rn();t={verify:g(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,p){const _=p.transform;if(_ instanceof $l)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof an)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof yo)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof El)return{fieldPath:p.field.canonicalString(),increment:_.yt};throw Rn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Uo(r,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Rn()),t;var u}function Kn(r,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?kr.updateTime(E(u.updateTime)):void 0!==u.exists?kr.exists(u.exists):kr.none():kr.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(p,_){let A=null;"setToServerValue"in _?(Sn("REQUEST_TIME"===_.setToServerValue),A=new $l):"appendMissingElements"in _?A=new an(_.appendMissingElements.values||[]):"removeAllFromArray"in _?A=new yo(_.removeAllFromArray.values||[]):"increment"in _?A=new El(p,_.increment):Rn();const j=k.fromServerFormat(_.fieldPath);return new Gl(j,A)}(r,u)):[];var u;if(e.update){const u=T(r,e.update.name),p=new U({mapValue:{fields:e.update.fields}});if(e.updateMask){const _=new no((e.updateMask.fieldPaths||[]).map(K=>k.fromServerFormat(K)));return new m(u,p,_,t,o)}return new C(u,p,t,o)}if(e.delete){const u=T(r,e.delete);return new ge(u,t)}if(e.verify){const u=T(r,e.verify);return new ct(u,t)}return Rn()}function lr(r,e){return{documents:[H(r,e.path)]}}function Lr(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=H(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=H(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(j){if(0===j.length)return;const K=j.map(ye=>function(He){if("=="===He.op){if(io(He.value))return{unaryFilter:{field:os(He.field),op:"IS_NAN"}};if(za(He.value))return{unaryFilter:{field:os(He.field),op:"IS_NULL"}}}else if("!="===He.op){if(io(He.value))return{unaryFilter:{field:os(He.field),op:"IS_NOT_NAN"}};if(za(He.value))return{unaryFilter:{field:os(He.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(He.field),op:Ia(He.op),value:He.value}}}(ye));return 1===K.length?K[0]:{compositeFilter:{op:"AND",filters:K}}}(e.filters);u&&(t.structuredQuery.where=u);const p=function(j){if(0!==j.length)return j.map(K=>{return{field:os((ye=K).field),direction:Da(ye.dir)};var ye})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const _=(K=e.limit,r.gt||Po(K)?K:{value:K});var K,A,j;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(t.structuredQuery.endAt={before:!(j=e.endAt).inclusive,values:j.position}),t}function As(r){let e=oe(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){Sn(1===o);const ye=t.from[0];ye.allDescendants?u=ye.collectionId:e=e.child(ye.collectionId)}let p=[];t.where&&(p=hs(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(ye=>{return new Ka(Xo((He=ye).field),function(yt){switch(yt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(He.direction));var He}));let A=null;t.limit&&(A=function(ye){let He;return He="object"==typeof ye?ye.value:ye,Po(He)?null:He}(t.limit));let j=null;var ye;t.startAt&&(j=new ro((ye=t.startAt).values||[],!!ye.before));let K=null;return t.endAt&&(K=function(ye){return new ro(ye.values||[],!ye.before)}(t.endAt)),Ju(e,u,_,p,A,"F",j,K)}function hs(r){return r?void 0!==r.unaryFilter?[Il(r)]:void 0!==r.fieldFilter?[Dl(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>hs(e)).reduce((e,t)=>e.concat(t)):Rn():[]}function Da(r){return Lu[r]}function Ia(r){return Vo[r]}function os(r){return{fieldPath:r.canonicalString()}}function Xo(r){return k.fromServerFormat(r.fieldPath)}function Dl(r){return Yi.create(Xo(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rn()}}(r.fieldFilter.op),r.fieldFilter.value)}function Il(r){switch(r.unaryFilter.op){case"IS_NAN":const e=Xo(r.unaryFilter.field);return Yi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Xo(r.unaryFilter.field);return Yi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xo(r.unaryFilter.field);return Yi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Xo(r.unaryFilter.field);return Yi.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Rn()}}function th(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Vu(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function fs(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=od(e)),e=nh(r.get(t),e);return od(e)}function nh(r,e){let t=e;const o=r.length;for(let u=0;u<o;u++){const p=r.charAt(u);switch(p){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=p}}return t}function od(r){return r+"\x01\x01"}function Dn(r){const e=r.length;if(Sn(e>=2),2===e)return Sn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),D.emptyPath();const t=e-2,o=[];let u="";for(let p=0;p<e;){const _=r.indexOf("\x01",p);switch((_<0||_>t)&&Rn(),r.charAt(_+1)){case"\x01":const A=r.substring(p,_);let j;0===u.length?j=A:(u+=A,j=u,u=""),o.push(j);break;case"\x10":u+=r.substring(p,_),u+="\0";break;case"\x11":u+=r.substring(p,_+1);break;default:Rn()}p=_+2}return new D(o)}const Un=["userId","batchId"];function li(r,e){return[r,fs(e)]}function nr(r,e,t){return[r,fs(e),t]}const js={},Sl=["prefixPath","collectionGroup","readTime","documentId"],ps=["prefixPath","collectionGroup","documentId"],ll=["collectionGroup","readTime","prefixPath","documentId"],Hr=["canonicalId","targetId"],ih=["targetId","path"],rh=["path","targetId"],$s=["collectionId","parent"],ql=["indexId","uid"],Al=["uid","sequenceNumber"],xl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oc=["indexId","uid","orderedDocumentKey"],Zp=["userId","collectionPath","documentId"],Bv=["userId","collectionPath","largestBatchId"],Pc=["userId","collectionGroup","largestBatchId"],sh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kp=[...sh,"documentOverlays"],qp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],oh=qp,Rm=[...oh,"indexConfiguration","indexState","indexEntries"];class tf extends mo{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function vo(r,e){const t=hn(r);return Xs.M(t.ie,e)}class nf{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(e.key)&&Jd(p,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=bl(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=bl(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=ol();return this.mutations.forEach(u=>{const p=e.get(u.key),_=p.overlayedDocument;let A=this.applyToLocalView(_,p.mutatedFields);A=t.has(u.key)?null:A;const j=yu(_,A);null!==j&&o.set(u.key,j),_.isValidDocument()||_.convertToNoDocument(Xn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fn())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,(t,o)=>sl(t,o))&&vs(this.baseMutations,e.baseMutations,(t,o)=>sl(t,o))}}class rf{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){Sn(e.mutations.length===o.length);let u=Zl;const p=e.mutations;for(let _=0;_<p.length;_++)u=u.insert(p[_].key,o[_].version);return new rf(e,t,o,u)}}class sf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _u{constructor(e,t,o,u,p=Xn.min(),_=Xn.min(),A=Nr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=A}withSequenceNumber(e){return new _u(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _u(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ah{constructor(e){this.re=e}}function lh(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:uh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:g(u=r.re,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Fu(u,p.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:ac(e.version)};else{if(!e.isUnknownDocument())return Rn();o.unknownDocument={path:t.path.toArray(),version:ac(e.version)}}var u,p;return o}function uh(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function ac(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Uu(r){const e=new Zi(r.seconds,r.nanoseconds);return Xn.fromTimestamp(e)}function Bu(r,e){const t=(e.baseMutations||[]).map(p=>Kn(r.re,p));for(let p=0;p<e.mutations.length-1;++p){const _=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(_.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const o=e.mutations.map(p=>Kn(r.re,p)),u=Zi.fromMillis(e.localWriteTimeMs);return new nf(e.batchId,u,t,o)}function Ol(r){const e=Uu(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Uu(r.lastLimboFreeSnapshotVersion):Xn.min();let o;var u;return void 0!==r.query.documents?(Sn(1===(u=r.query).documents.length),o=so(du(oe(u.documents[0])))):o=so(As(r.query)),new _u(o,r.targetId,0,r.lastListenSequenceNumber,e,t,Nr.fromBase64String(r.resumeToken))}function of(r,e){const t=ac(e.snapshotVersion),o=ac(e.lastLimboFreeSnapshotVersion);let u;u=ui(e.target)?lr(r.re,e.target):Lr(r.re,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qt(e.target),readTime:t,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function ch(r){const e=As({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?da(e,e.limit,"L"):e}function af(r,e){return new sf(e.largestBatchId,Kn(r.re,e.overlayMutation))}function ad(r,e){const t=e.path.lastSegment();return[r,fs(e.path.popLast()),t]}function Qp(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:ac(o.readTime),documentKey:fs(o.documentKey.path),largestBatchId:o.largestBatchId}}class Jp{getBundleMetadata(e,t){return lf(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Uu(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return lf(e).put({bundleId:(o=t).id,createTime:ac(E(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return uf(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:ch(u.bundledQuery),readTime:Uu(u.readTime)};var u})}saveNamedQuery(e,t){return uf(e).put({name:(o=t).name,readTime:ac(E(o.readTime)),bundledQuery:o.bundledQuery});var o}}function lf(r){return vo(r,"bundles")}function uf(r){return vo(r,"namedQueries")}class Rc{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Rc(e,t.uid||"")}getOverlay(e,t){return Nc(e).get(ad(this.userId,t)).next(o=>o?af(this.It,o):null)}getOverlays(e,t){const o=Jo();return _t.forEach(t,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((p,_)=>{const A=new sf(t,_);u.push(this.ue(e,A))}),_t.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(_=>u.add(fs(_.getCollectionPath())));const p=[];return u.forEach(_=>{const A=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,o+1],!1,!0);p.push(Nc(e).Y("collectionPathOverlayIndex",A))}),_t.waitFor(p)}getOverlaysForCollection(e,t,o){const u=Jo(),p=fs(t),_=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return Nc(e).W("collectionPathOverlayIndex",_).next(A=>{for(const j of A){const K=af(this.It,j);u.set(K.getKey(),K)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const p=Jo();let _;const A=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Nc(e).Z({index:"collectionGroupOverlayIndex",range:A},(j,K,ye)=>{const He=af(this.It,K);p.size()<u||He.largestBatchId===_?(p.set(He.getKey(),He),_=He.largestBatchId):ye.done()}).next(()=>p)}ue(e,t){return Nc(e).put(function(o,u,p){const[_,A,j]=ad(u,p.mutation.key);return{userId:u,collectionPath:A,documentId:j,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:si(o.re,p.mutation)}}(this.It,this.userId,t))}}function Nc(r){return vo(r,"documentOverlays")}class Yl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Er(e.integerValue));else if("doubleValue"in e){const o=Er(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),ja(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Br(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?Yo(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Rn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const u of Object.keys(o))this._e(u,t),this.ae(o[u],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const u of o)this.ae(u,t)}ge(e,t){this.le(t,37),L.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function dh(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function cf(r){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const p=dh(255&t[u]);if(o+=p,8!==p)break}return o}(r);return Math.ceil(e/8)}Yl.Te=new Yl;class df{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=t.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=t.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const t=this.Ce(e),o=cf(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Ne(e){const t=this.Ce(e),o=cf(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(u){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,u,!1),new Uint8Array(p.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Xp{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class hf{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Eu{constructor(){this.Be=new df,this.Le=new Xp(this.Be),this.Ue=new hf(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class lc{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new lc(this.indexId,this.documentKey,this.arrayValue,o)}}function Hu(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=eg(r.arrayValue,e.arrayValue),0!==t?t:(t=eg(r.directionalValue,e.directionalValue),0!==t?t:L.comparator(r.documentKey,e.documentKey)))}function eg(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class Nm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=Pe(e);if(void 0!==t&&!this.ze(t))return!1;const o=je(e);let u=0,p=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.je){const _=o[u];if(!this.He(this.je,_)||!this.Je(this.Ge[p++],_))return!1;++u}for(;u<o.length;++u){const _=o[u];if(p>=this.Ge.length||!this.Je(this.Ge[p++],_))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class tg{constructor(){this.Ye=new ld}addToCollectionParentIndex(e,t){return this.Ye.add(t),_t.resolve()}getCollectionParents(e,t){return _t.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return _t.resolve()}deleteFieldIndex(e,t){return _t.resolve()}getDocumentsMatchingTarget(e,t){return _t.resolve(null)}getIndexType(e,t){return _t.resolve(0)}getFieldIndexes(e,t){return _t.resolve([])}getNextCollectionGroupToUpdate(e){return _t.resolve(null)}getMinOffset(e,t){return _t.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,t){return _t.resolve(pr.min())}updateCollectionGroup(e,t,o){return _t.resolve()}updateIndexEntries(e,t){return _t.resolve()}}class ld{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new ur(D.comparator),p=!u.has(o);return this.index[t]=u.add(o),p}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new ur(D.comparator)).toArray()}}const ud=new Uint8Array(0);class Hv{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new ld,this.Ze=new Xr(o=>Qt(o),(o,u)=>Bn(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const p={collectionId:o,parent:fs(u)};return ff(e).put(p)}return _t.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[Ea(t),""],!1,!0);return ff(e).W(u).next(p=>{for(const _ of p){if(_.collectionId!==t)break;o.push(Dn(_.parent))}return o})}addFieldIndex(e,t){const o=dd(e),u={indexId:(_=t).indexId,collectionGroup:_.collectionGroup,fields:_.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])};var _;delete u.indexId;const p=o.add(u);if(t.indexState){const _=hd(e);return p.next(A=>{_.put(Qp(A,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return p.next()}deleteFieldIndex(e,t){const o=dd(e),u=hd(e),p=cd(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=cd(e);let u=!0;const p=new Map;return _t.forEach(this.tn(t),_=>this.en(e,_).next(A=>{u&&(u=!!A),p.set(_,A)})).next(()=>{if(u){let _=Fn();const A=[];return _t.forEach(p,(j,K)=>{var ye;Kt("IndexedDbIndexManager",`Using index ${ye=j,`id=${ye.indexId}|cg=${ye.collectionGroup}|f=${ye.fields.map(wr=>`${wr.fieldPath}:${wr.kind}`).join(",")}`} to execute ${Qt(t)}`);const He=function(wr,lo){const Fr=Pe(lo);if(void 0===Fr)return null;for(const mr of ii(wr,Fr.fieldPath))switch(mr.op){case"array-contains-any":return mr.value.arrayValue.values||[];case"array-contains":return[mr.value]}return null}(K,j),yt=function(wr,lo){const Fr=new Map;for(const mr of je(lo))for(const Eo of ii(wr,mr.fieldPath))switch(Eo.op){case"==":case"in":Fr.set(mr.fieldPath.canonicalString(),Eo.value);break;case"not-in":case"!=":return Fr.set(mr.fieldPath.canonicalString(),Eo.value),Array.from(Fr.values())}return null}(K,j),jt=function(wr,lo){const Fr=[];let mr=!0;for(const Eo of je(lo)){const Jc=0===Eo.kind?zn(wr,Eo.fieldPath,wr.startAt):ss(wr,Eo.fieldPath,wr.startAt);Fr.push(Jc.value),mr&&(mr=Jc.inclusive)}return new ro(Fr,mr)}(K,j),en=function(wr,lo){const Fr=[];let mr=!0;for(const Eo of je(lo)){const Jc=0===Eo.kind?ss(wr,Eo.fieldPath,wr.endAt):zn(wr,Eo.fieldPath,wr.endAt);Fr.push(Jc.value),mr&&(mr=Jc.inclusive)}return new ro(Fr,mr)}(K,j),An=this.nn(j,K,jt),kn=this.nn(j,K,en),cr=this.sn(j,K,yt),$r=this.rn(j.indexId,He,An,jt.inclusive,kn,en.inclusive,cr);return _t.forEach($r,wr=>o.J(wr,t.limit).next(lo=>{lo.forEach(Fr=>{const mr=L.fromSegments(Fr.documentKey);_.has(mr)||(_=_.add(mr),A.push(mr))})}))}).next(()=>A)}return _t.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,u,p,_,A){const j=(null!=t?t.length:1)*Math.max(o.length,p.length),K=j/(null!=t?t.length:1),ye=[];for(let He=0;He<j;++He){const yt=t?this.on(t[He/K]):ud,jt=this.un(e,yt,o[He%K],u),en=this.cn(e,yt,p[He%K],_),An=A.map(kn=>this.un(e,yt,kn,!0));ye.push(...this.createRange(jt,en,An))}return ye}un(e,t,o,u){const p=new lc(e,L.empty(),t,o);return u?p:p.Ke()}cn(e,t,o,u){const p=new lc(e,L.empty(),t,o);return u?p.Ke():p}en(e,t){const o=new Nm(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(p=>{let _=null;for(const A of p)o.We(A)&&(!_||A.fields.length>_.fields.length)&&(_=A);return _})}getIndexType(e,t){let o=2;return _t.forEach(this.tn(t),u=>this.en(e,u).next(p=>{p?0!==o&&p.fields.length<function(_){let A=new ur(k.comparator),j=!1;for(const K of _.filters){const ye=K;ye.field.isKeyField()||("array-contains"===ye.op||"array-contains-any"===ye.op?j=!0:A=A.add(ye.field))}for(const K of _.orderBy)K.field.isKeyField()||(A=A.add(K.field));return A.size+(j?1:0)}(u)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new Eu;for(const u of je(e)){const p=t.data.field(u.fieldPath);if(null==p)return null;const _=o.qe(u.kind);Yl.Te.ce(p,_)}return o.$e()}on(e){const t=new Eu;return Yl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new Eu;return Yl.Te.ce(ua(this.databaseId,t),o.qe(function(u){const p=je(u);return 0===p.length?0:p[p.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let u=[];u.push(new Eu);let p=0;for(const _ of je(e)){const A=o[p++];for(const j of u)if(this.ln(t,_.fieldPath)&&ko(A))u=this.fn(u,_,A);else{const K=j.qe(_.kind);Yl.Te.ce(A,K)}}return this.dn(u)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const u=[...e],p=[];for(const _ of o.arrayValue.values||[])for(const A of u){const j=new Eu;j.seed(A.$e()),Yl.Te.ce(_,j.qe(t.kind)),p.push(j)}return p}ln(e,t){return!!e.filters.find(o=>o instanceof Yi&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=dd(e),u=hd(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(p=>{const _=[];return _t.forEach(p,A=>u.get([A.indexId,this.uid]).next(j=>{_.push(function(K,ye){const He=ye?new Nn(ye.sequenceNumber,new pr(Uu(ye.readTime),new L(Dn(ye.documentKey)),ye.largestBatchId)):Nn.empty(),yt=K.fields.map(([jt,en])=>new wn(k.fromServerFormat(jt),en));return new le(K.indexId,K.collectionGroup,yt,He)}(A,j))})).next(()=>_)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const p=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:ni(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=dd(e),p=hd(e);return this._n(e).next(_=>u.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(A=>_t.forEach(A,j=>p.put(Qp(j.indexId,this.user,_,o)))))}updateIndexEntries(e,t){const o=new Map;return _t.forEach(t,(u,p)=>{const _=o.get(u.collectionGroup);return(_?_t.resolve(_):this.getFieldIndexes(e,u.collectionGroup)).next(A=>(o.set(u.collectionGroup,A),_t.forEach(A,j=>this.wn(e,u,j).next(K=>{const ye=this.mn(p,j);return K.isEqual(ye)?_t.resolve():this.gn(e,p,j,K,ye)}))))})}yn(e,t,o,u){return cd(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,u){return cd(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const u=cd(e);let p=new ur(Hu);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(_,A)=>{p=p.add(new lc(o.indexId,t,A.arrayValue,A.directionalValue))}).next(()=>p)}mn(e,t){let o=new ur(Hu);const u=this.an(t,e);if(null==u)return o;const p=Pe(t);if(null!=p){const _=e.data.field(p.fieldPath);if(ko(_))for(const A of _.arrayValue.values||[])o=o.add(new lc(t.indexId,e.key,this.on(A),u))}else o=o.add(new lc(t.indexId,e.key,ud,u));return o}gn(e,t,o,u,p){Kt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const _=[];return function(A,j,K,ye,He){const yt=A.getIterator(),jt=j.getIterator();let en=to(yt),An=to(jt);for(;en||An;){let kn=!1,cr=!1;if(en&&An){const $r=K(en,An);$r<0?cr=!0:$r>0&&(kn=!0)}else null!=en?cr=!0:kn=!0;kn?(ye(An),An=to(jt)):cr?(He(en),en=to(yt)):(en=to(yt),An=to(jt))}}(u,p,Hu,A=>{_.push(this.yn(e,t,o,A))},A=>{_.push(this.pn(e,t,o,A))}),_t.waitFor(_)}_n(e){let t=1;return hd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,p)=>{p.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((_,A)=>Hu(_,A)).filter((_,A,j)=>!A||0!==Hu(_,j[A-1]));const u=[];u.push(e);for(const _ of o){const A=Hu(_,e),j=Hu(_,t);if(0===A)u[0]=e.Ke();else if(A>0&&j<0)u.push(_),u.push(_.Ke());else if(j>0)break}u.push(t);const p=[];for(let _=0;_<u.length;_+=2)p.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,ud,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,ud,[]]));return p}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ng)}getMinOffset(e,t){return _t.mapArray(this.tn(t),o=>this.en(e,o).next(u=>u||Rn())).next(ng)}}function ff(r){return vo(r,"collectionParents")}function cd(r){return vo(r,"indexEntries")}function dd(r){return vo(r,"indexConfiguration")}function hd(r){return vo(r,"indexState")}function ng(r){Sn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const u=r[o].indexState.offset;go(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new pr(e.readTime,e.documentKey,t)}const ul={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Sa{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Sa(e,Sa.DEFAULT_COLLECTION_PERCENTILE,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function pf(r,e,t){const o=r.store("mutations"),u=r.store("documentMutations"),p=[],_=IDBKeyRange.only(t.batchId);let A=0;const j=o.Z({range:_},(ye,He,yt)=>(A++,yt.delete()));p.push(j.next(()=>{Sn(1===A)}));const K=[];for(const ye of t.mutations){const He=nr(e,ye.key.path,t.batchId);p.push(u.delete(He)),K.push(ye.key)}return _t.waitFor(p).next(()=>K)}function hh(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Rn();e=r.noDocument}return JSON.stringify(e).length}Sa.DEFAULT_COLLECTION_PERCENTILE=10,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sa.DEFAULT=new Sa(41943040,Sa.DEFAULT_COLLECTION_PERCENTILE,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sa.DISABLED=new Sa(-1,0,0);class fh{constructor(e,t,o,u){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=u,this.In={}}static oe(e,t,o,u){Sn(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new fh(p,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ju(e).Z({index:"userMutationsIndex",range:o},(u,p,_)=>{t=!1,_.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const p=uc(e),_=ju(e);return _.add({}).next(A=>{Sn("number"==typeof A);const j=new nf(A,t,o,u),K=function(yt,jt,en){const An=en.baseMutations.map(cr=>si(yt.re,cr)),kn=en.mutations.map(cr=>si(yt.re,cr));return{userId:jt,batchId:en.batchId,localWriteTimeMs:en.localWriteTime.toMillis(),baseMutations:An,mutations:kn}}(this.It,this.userId,j),ye=[];let He=new ur((yt,jt)=>ni(yt.canonicalString(),jt.canonicalString()));for(const yt of u){const jt=nr(this.userId,yt.key.path,A);He=He.add(yt.key.path.popLast()),ye.push(_.put(K)),ye.push(p.put(jt,js))}return He.forEach(yt=>{ye.push(this.indexManager.addToCollectionParentIndex(e,yt))}),e.addOnCommittedListener(()=>{this.In[A]=j.keys()}),_t.waitFor(ye).next(()=>j)})}lookupMutationBatch(e,t){return ju(e).get(t).next(o=>o?(Sn(o.userId===this.userId),Bu(this.It,o)):null)}Tn(e,t){return this.In[t]?_t.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.In[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return ju(e).Z({index:"userMutationsIndex",range:u},(_,A,j)=>{A.userId===this.userId&&(Sn(A.batchId>=o),p=Bu(this.It,A)),j.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ju(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,p,_)=>{o=p.batchId,_.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ju(e).W("userMutationsIndex",t).next(o=>o.map(u=>Bu(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=li(this.userId,t.path),u=IDBKeyRange.lowerBound(o),p=[];return uc(e).Z({range:u},(_,A,j)=>{const[K,ye,He]=_,yt=Dn(ye);if(K===this.userId&&t.path.isEqual(yt))return ju(e).get(He).next(jt=>{if(!jt)throw Rn();Sn(jt.userId===this.userId),p.push(Bu(this.It,jt))});j.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new ur(ni);const u=[];return t.forEach(p=>{const _=li(this.userId,p.path),A=IDBKeyRange.lowerBound(_),j=uc(e).Z({range:A},(K,ye,He)=>{const[yt,jt,en]=K,An=Dn(jt);yt===this.userId&&p.path.isEqual(An)?o=o.add(en):He.done()});u.push(j)}),_t.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,p=li(this.userId,o),_=IDBKeyRange.lowerBound(p);let A=new ur(ni);return uc(e).Z({range:_},(j,K,ye)=>{const[He,yt,jt]=j,en=Dn(yt);He===this.userId&&o.isPrefixOf(en)?en.length===u&&(A=A.add(jt)):ye.done()}).next(()=>this.En(e,A))}En(e,t){const o=[],u=[];return t.forEach(p=>{u.push(ju(e).get(p).next(_=>{if(null===_)throw Rn();Sn(_.userId===this.userId),o.push(Bu(this.It,_))}))}),_t.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return pf(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),_t.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return _t.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return uc(e).Z({range:o},(p,_,A)=>{if(p[0]===this.userId){const j=Dn(p[1]);u.push(j)}else A.done()}).next(()=>{Sn(0===u.length)})})}containsKey(e,t){return ig(e,this.userId,t)}Rn(e){return rg(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ig(r,e,t){const o=li(e,t.path),u=o[1],p=IDBKeyRange.lowerBound(o);let _=!1;return uc(r).Z({range:p,X:!0},(A,j,K)=>{const[ye,He,yt]=A;ye===e&&He===u&&(_=!0),K.done()}).next(()=>_)}function ju(r){return vo(r,"mutations")}function uc(r){return vo(r,"documentMutations")}function rg(r){return vo(r,"mutationQueues")}class cc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new cc(0)}static vn(){return new cc(-1)}}class km{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new cc(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Xn.fromTimestamp(new Zi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Sn(e,u)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>pi(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(Sn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let u=0;const p=[];return pi(e).Z((_,A)=>{const j=Ol(A);j.sequenceNumber<=t&&null===o.get(j.targetId)&&(u++,p.push(this.removeTargetData(e,j)))}).next(()=>_t.waitFor(p)).next(()=>u)}forEachTarget(e,t){return pi(e).Z((o,u)=>{const p=Ol(u);t(p)})}Vn(e){return gf(e).get("targetGlobalKey").next(t=>(Sn(null!==t),t))}Sn(e,t){return gf(e).put("targetGlobalKey",t)}Dn(e,t){return pi(e).put(of(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Qt(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return pi(e).Z({range:u,index:"queryTargetsIndex"},(_,A,j)=>{const K=Ol(A);Bn(t,K.target)&&(p=K,j.done())}).next(()=>p)}addMatchingKeys(e,t,o){const u=[],p=bu(e);return t.forEach(_=>{const A=fs(_.path);u.push(p.put({targetId:o,path:A})),u.push(this.referenceDelegate.addReference(e,o,_))}),_t.waitFor(u)}removeMatchingKeys(e,t,o){const u=bu(e);return _t.forEach(t,p=>{const _=fs(p.path);return _t.waitFor([u.delete([o,_]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,t){const o=bu(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=bu(e);let p=Fn();return u.Z({range:o,X:!0},(_,A,j)=>{const K=Dn(_[1]),ye=new L(K);p=p.add(ye)}).next(()=>p)}containsKey(e,t){const o=fs(t.path),u=IDBKeyRange.bound([o],[Ea(o)],!1,!0);let p=0;return bu(e).Z({index:"documentTargetsIndex",X:!0,range:u},([_,A],j,K)=>{0!==_&&(p++,K.done())}).next(()=>p>0)}se(e,t){return pi(e).get(t).next(o=>o?Ol(o):null)}}function pi(r){return vo(r,"targets")}function gf(r){return vo(r,"targetGlobal")}function bu(r){return vo(r,"targetDocuments")}function mf([r,e],[t,o]){const u=ni(r,t);return 0===u?ni(e,o):u}class ph{constructor(e){this.xn=e,this.buffer=new ur(mf),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();mf(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ml{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Kt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,f.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Ks(o)?Kt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Yr(o)}yield t.Fn(3e5)}))}}class sg{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return _t.resolve(eo.at);const o=new ph(t);return this.$n.forEachTarget(e,u=>o.On(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.On(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(ul)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ul):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,u,p,_,A,j,K;const ye=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(He=>(He>this.params.maximumSequenceNumbersToCollect?(Kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${He}`),u=this.params.maximumSequenceNumbersToCollect):u=He,_=Date.now(),this.nthSequenceNumber(e,u))).next(He=>(o=He,A=Date.now(),this.removeTargets(e,o,t))).next(He=>(p=He,j=Date.now(),this.removeOrphanedDocuments(e,o))).next(He=>(K=Date.now(),po()<=Ce.in.DEBUG&&Kt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-ye}ms\n\tDetermined least recently used ${u} in `+(A-_)+`ms\n\tRemoved ${p} targets in `+(j-A)+`ms\n\tRemoved ${He} documents in `+(K-j)+`ms\nTotal Duration: ${K-ye}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:He})))}}class Lm{constructor(e,t){this.db=e,this.garbageCollector=new sg(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,u)=>t(u))}addReference(e,t,o){return kc(e,o)}removeReference(e,t,o){return kc(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return kc(e,t)}Gn(e,t){return function(o,u){let p=!1;return rg(o).tt(_=>ig(o,_,u).next(A=>(A&&(p=!0),_t.resolve(!A)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.Kn(e,(_,A)=>{if(A<=t){const j=this.Gn(e,_).next(K=>{if(!K)return p++,o.getEntry(e,_).next(()=>(o.removeEntry(_,Xn.min()),bu(e).delete([0,fs(_.path)])))});u.push(j)}}).next(()=>_t.waitFor(u)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return kc(e,t)}Kn(e,t){const o=bu(e);let u,p=eo.at;return o.Z({index:"documentTargetsIndex"},([_,A],{path:j,sequenceNumber:K})=>{0===_?(p!==eo.at&&t(new L(Dn(u)),p),p=K,u=j):p=eo.at}).next(()=>{p!==eo.at&&t(new L(Dn(u)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function kc(r,e){return bu(r).put((o=r.currentSequenceNumber,{targetId:0,path:fs(e.path),sequenceNumber:o}));var o}class Ql{constructor(){this.changes=new Xr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ie.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?_t.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yf{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return $u(e).put(o)}removeEntry(e,t,o){return $u(e).delete(function(u,p){const _=u.path.toArray();return[_.slice(0,_.length-2),_[_.length-2],uh(p),_[_.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=Ie.newInvalidDocument(t);return $u(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(gh(t))},(u,p)=>{o=this.jn(t,p)}).next(()=>o)}Wn(e,t){let o={size:0,document:Ie.newInvalidDocument(t)};return $u(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(gh(t))},(u,p)=>{o={document:this.jn(t,p),size:hh(p)}}).next(()=>o)}getEntries(e,t){let o=Hs();return this.zn(e,t,(u,p)=>{const _=this.jn(u,p);o=o.insert(u,_)}).next(()=>o)}Hn(e,t){let o=Hs(),u=new Rr(L.comparator);return this.zn(e,t,(p,_)=>{const A=this.jn(p,_);o=o.insert(p,A),u=u.insert(p,hh(_))}).next(()=>({documents:o,Jn:u}))}zn(e,t,o){if(t.isEmpty())return _t.resolve();let u=new ur(pd);t.forEach(j=>u=u.add(j));const p=IDBKeyRange.bound(gh(u.first()),gh(u.last())),_=u.getIterator();let A=_.getNext();return $u(e).Z({index:"documentKeyIndex",range:p},(j,K,ye)=>{const He=L.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;A&&pd(A,He)<0;)o(A,null),A=_.getNext();A&&A.isEqual(He)&&(o(A,K),A=_.hasNext()?_.getNext():null),A?ye.j(gh(A)):ye.done()}).next(()=>{for(;A;)o(A,null),A=_.hasNext()?_.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),uh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],p=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $u(e).W(IDBKeyRange.bound(u,p,!0)).next(_=>{let A=Hs();for(const j of _){const K=this.jn(L.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);A=A.insert(K.key,K)}return A})}getAllFromCollectionGroup(e,t,o,u){let p=Hs();const _=fd(t,o),A=fd(t,pr.max());return $u(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,A,!0)},(j,K,ye)=>{const He=this.jn(L.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);p=p.insert(He.key,He),p.size===u&&ye.done()}).next(()=>p)}newChangeBuffer(e){return new _f(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Fm(e).get("remoteDocumentGlobalKey").next(t=>(Sn(!!t),t))}Qn(e,t){return Fm(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function Yp(r,e){let t;if(e.document)t=Xt(r.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=L.fromSegments(e.noDocument.path),u=Uu(e.noDocument.readTime);t=Ie.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Rn();{const o=L.fromSegments(e.unknownDocument.path),u=Uu(e.unknownDocument.version);t=Ie.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new Zi(o[0],o[1]);return Xn.fromTimestamp(u)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(Xn.min()))return o}return Ie.newInvalidDocument(e)}}function vf(r){return new yf(r)}class _f extends Ql{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Xr(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new ur((p,_)=>ni(p.canonicalString(),_.canonicalString()));return this.changes.forEach((p,_)=>{const A=this.Xn.get(p);if(t.push(this.Yn.removeEntry(e,p,A.readTime)),_.isValidDocument()){const j=lh(this.Yn.It,_);u=u.add(p.path.popLast()),o+=hh(j)-A.size,t.push(this.Yn.addEntry(e,p,j))}else if(o-=A.size,this.trackRemovals){const j=lh(this.Yn.It,_.convertToNoDocument(Xn.min()));t.push(this.Yn.addEntry(e,p,j))}}),u.forEach(p=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,p))}),t.push(this.Yn.updateMetadata(e,o)),_t.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:u})=>(u.forEach((p,_)=>{this.Xn.set(p,{size:_,readTime:o.get(p).readTime})}),o))}}function Fm(r){return vo(r,"remoteDocumentGlobal")}function $u(r){return vo(r,"remoteDocumentsV14")}function gh(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fd(r,e){const t=e.documentKey.path.toArray();return[r,uh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pd(r,e){const t=r.path.toArray(),o=e.path.toArray();let u=0;for(let p=0;p<t.length-2&&p<o.length-2;++p)if(u=ni(t[p],o[p]),u)return u;return u=ni(t.length,o.length),u||(u=ni(t[t.length-2],o[o.length-2]),u||ni(t[t.length-1],o[o.length-1]))}class Ef{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mh{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.getBaseDocument(e,t,o))).next(u=>(null!==o&&bl(o.mutation,u,no.empty(),Zi.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Fn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Fn()){const u=Jo();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(p=>{let _=wl();return p.forEach((A,j)=>{_=_.insert(A,j.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const o=Jo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Fn()))}populateOverlays(e,t,o){const u=[];return o.forEach(p=>{t.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(e,u).next(p=>{p.forEach((_,A)=>{t.set(_,A)})})}computeViews(e,t,o,u){let p=Hs();const _=Cl(),A=Cl();return t.forEach((j,K)=>{const ye=o.get(K.key);u.has(K.key)&&(void 0===ye||ye.mutation instanceof m)?p=p.insert(K.key,K):void 0!==ye&&(_.set(K.key,ye.mutation.getFieldMask()),bl(ye.mutation,K,ye.mutation.getFieldMask(),Zi.now()))}),this.recalculateAndSaveOverlays(e,p).next(j=>(j.forEach((K,ye)=>_.set(K,ye)),t.forEach((K,ye)=>{var He;return A.set(K,new Ef(ye,null!==(He=_.get(K))&&void 0!==He?He:null))}),A))}recalculateAndSaveOverlays(e,t){const o=Cl();let u=new Rr((_,A)=>_-A),p=Fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const A of _)A.keys().forEach(j=>{const K=t.get(j);if(null===K)return;let ye=o.get(j)||no.empty();ye=A.applyToLocalView(K,ye),o.set(j,ye);const He=(u.get(A.batchId)||Fn()).add(j);u=u.insert(A.batchId,He)})}).next(()=>{const _=[],A=u.getReverseIterator();for(;A.hasNext();){const j=A.getNext(),K=j.key,ye=j.value,He=ol();ye.forEach(yt=>{if(!p.has(yt)){const jt=yu(t.get(yt),o.get(yt));null!==jt&&He.set(yt,jt),p=p.add(yt)}}),_.push(this.documentOverlayCache.saveOverlays(e,K,He))}return _t.waitFor(_)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return L.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Lo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(p=>{const _=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-p.size):_t.resolve(Jo());let A=-1,j=p;return _.next(K=>_t.forEach(K,(ye,He)=>(A<He.largestBatchId&&(A=He.largestBatchId),p.get(ye)?_t.resolve():this.getBaseDocument(e,ye,He).next(yt=>{j=j.insert(ye,yt)}))).next(()=>this.populateOverlays(e,K,p)).next(()=>this.computeViews(e,j,K,Fn())).next(ye=>({batchId:A,changes:rc(ye)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new L(t)).next(o=>{let u=wl();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let p=wl();return this.indexManager.getCollectionParents(e,u).next(_=>_t.forEach(_,A=>{const j=(K=t,ye=A.child(u),new qs(ye,null,K.explicitOrderBy.slice(),K.filters.slice(),K.limit,K.limitType,K.startAt,K.endAt));var K,ye;return this.getDocumentsMatchingCollectionQuery(e,j,o).next(K=>{K.forEach((ye,He)=>{p=p.insert(ye,He)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(p=>(u=p,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(p=>{p.forEach((A,j)=>{const K=j.getKey();null===u.get(K)&&(u=u.insert(K,Ie.newInvalidDocument(K)))});let _=wl();return u.forEach((A,j)=>{const K=p.get(A);void 0!==K&&bl(K.mutation,j,no.empty(),Zi.now()),jl(t,j)&&(_=_.insert(A,j))}),_})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):_t.resolve(Ie.newInvalidDocument(t))}}class bf{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return _t.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:E(o.createTime)}),_t.resolve()}getNamedQuery(e,t){return _t.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:ch(o.bundledQuery),readTime:E(o.readTime)}),_t.resolve();var o}}class jv{constructor(){this.overlays=new Rr(L.comparator),this.es=new Map}getOverlay(e,t){return _t.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Jo();return _t.forEach(t,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,p)=>{this.ue(e,t,p)}),_t.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.es.delete(o)),_t.resolve()}getOverlaysForCollection(e,t,o){const u=Jo(),p=t.length+1,_=new L(t.child("")),A=this.overlays.getIteratorFrom(_);for(;A.hasNext();){const j=A.getNext().value,K=j.getKey();if(!t.isPrefixOf(K.path))break;K.path.length===p&&j.largestBatchId>o&&u.set(j.getKey(),j)}return _t.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let p=new Rr((K,ye)=>K-ye);const _=this.overlays.getIterator();for(;_.hasNext();){const K=_.getNext().value;if(K.getKey().getCollectionGroup()===t&&K.largestBatchId>o){let ye=p.get(K.largestBatchId);null===ye&&(ye=Jo(),p=p.insert(K.largestBatchId,ye)),ye.set(K.getKey(),K)}}const A=Jo(),j=p.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((K,ye)=>A.set(K,ye)),!(A.size()>=u)););return _t.resolve(A)}ue(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const _=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(o.key,new sf(t,o));let p=this.es.get(t);void 0===p&&(p=Fn(),this.es.set(t,p)),this.es.set(t,p.add(o.key))}}class wf{constructor(){this.ns=new ur(_o.ss),this.rs=new ur(_o.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new _o(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new _o(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new L(new D([])),o=new _o(t,e),u=new _o(t,e+1),p=[];return this.rs.forEachInRange([o,u],_=>{this.cs(_),p.push(_.key)}),p}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new L(new D([])),o=new _o(t,e),u=new _o(t,e+1);let p=Fn();return this.rs.forEachInRange([o,u],_=>{p=p.add(_.key)}),p}containsKey(e){const t=new _o(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class _o{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return L.comparator(e.key,t.key)||ni(e._s,t._s)}static os(e,t){return ni(e._s,t._s)||L.comparator(e.key,t.key)}}class Vm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ur(_o.ss)}checkEmpty(e){return _t.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const p=this.ws;this.ws++;const _=new nf(p,t,o,u);this.mutationQueue.push(_);for(const A of u)this.gs=this.gs.add(new _o(A.key,p)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return _t.resolve(_)}lookupMutationBatch(e,t){return _t.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),p=u<0?0:u;return _t.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new _o(t,0),u=new _o(t,Number.POSITIVE_INFINITY),p=[];return this.gs.forEachInRange([o,u],_=>{const A=this.ys(_._s);p.push(A)}),_t.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new ur(ni);return t.forEach(u=>{const p=new _o(u,0),_=new _o(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([p,_],A=>{o=o.add(A._s)})}),_t.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let p=o;L.isDocumentKey(p)||(p=p.child(""));const _=new _o(new L(p),0);let A=new ur(ni);return this.gs.forEachWhile(j=>{const K=j.key.path;return!!o.isPrefixOf(K)&&(K.length===u&&(A=A.add(j._s)),!0)},_),_t.resolve(this.Is(A))}Is(e){const t=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){Sn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return _t.forEach(t.mutations,u=>{const p=new _o(u.key,t.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new _o(t,0),u=this.gs.firstAfterOrEqual(o);return _t.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return _t.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Um{constructor(e){this.Es=e,this.docs=new Rr(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),p=u?u.size:0,_=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return _t.resolve(o?o.document.mutableCopy():Ie.newInvalidDocument(t))}getEntries(e,t){let o=Hs();return t.forEach(u=>{const p=this.docs.get(u);o=o.insert(u,p?p.document.mutableCopy():Ie.newInvalidDocument(u))}),_t.resolve(o)}getAllFromCollection(e,t,o){let u=Hs();const p=new L(t.child("")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:A,value:{document:j}}=_.getNext();if(!t.isPrefixOf(A.path))break;A.path.length>t.length+1||go(Pi(j),o)<=0||(u=u.insert(j.key,j.mutableCopy()))}return _t.resolve(u)}getAllFromCollectionGroup(e,t,o,u){Rn()}As(e,t){return _t.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new og(this)}getSize(e){return _t.resolve(this.size)}}class og extends Ql{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),_t.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class $v{constructor(e){this.persistence=e,this.Rs=new Xr(t=>Qt(t),Bn),this.lastRemoteSnapshotVersion=Xn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new wf,this.targetCount=0,this.vs=cc.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,u)=>t(u)),_t.resolve()}getLastRemoteSnapshotVersion(e){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _t.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),_t.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new cc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,_t.resolve()}updateTargetData(e,t){return this.Dn(t),_t.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,_t.resolve()}removeTargets(e,t,o){let u=0;const p=[];return this.Rs.forEach((_,A)=>{A.sequenceNumber<=t&&null===o.get(A.targetId)&&(this.Rs.delete(_),p.push(this.removeMatchingKeysForTargetId(e,A.targetId)),u++)}),_t.waitFor(p).next(()=>u)}getTargetCount(e){return _t.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return _t.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),_t.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const u=this.persistence.referenceDelegate,p=[];return u&&t.forEach(_=>{p.push(u.markPotentiallyOrphaned(e,_))}),_t.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),_t.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return _t.resolve(o)}containsKey(e,t){return _t.resolve(this.Ps.containsKey(t))}}class ag{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new eo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new $v(this),this.indexManager=new tg,this.remoteDocumentCache=new Um(o=>this.referenceDelegate.xs(o)),this.It=new ah(t),this.Ns=new bf(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Vm(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Kt("MemoryPersistence","Starting transaction:",e);const u=new Gv(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(p=>this.referenceDelegate.Os(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Ms(e,t){return _t.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Gv extends mo{constructor(e){super(),this.currentSequenceNumber=e}}class gd{constructor(e){this.persistence=e,this.Fs=new wf,this.$s=null}static Bs(e){return new gd(e)}get Ls(){if(this.$s)return this.$s;throw Rn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),_t.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),_t.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),_t.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(p=>this.Ls.add(p.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.Ls,o=>{const u=L.fromPath(o);return this.Us(e,u).next(p=>{p||t.removeEntry(u,Xn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return _t.or([()=>_t.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class lg{constructor(e){this.It=e}$(e,t,o,u){const p=new Pr("createOrUpgrade",t);var A;o<1&&u>=1&&(e.createObjectStore("owner"),(A=e).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Un,{unique:!0}),A.createObjectStore("documentMutations"),ug(e),function(A){A.createObjectStore("remoteDocuments")}(e));let _=_t.resolve();return o<3&&u>=3&&(0!==o&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),ug(e)),_=_.next(()=>function(A){const j=A.store("targetGlobal"),K={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xn.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",K)}(p))),o<4&&u>=4&&(0!==o&&(_=_.next(()=>function(A,j){return j.store("mutations").W().next(K=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Un,{unique:!0});const ye=j.store("mutations"),He=K.map(yt=>ye.put(yt));return _t.waitFor(He)})}(e,p))),_=_.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(_=_.next(()=>this.qs(p))),o<6&&u>=6&&(_=_.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(p)))),o<7&&u>=7&&(_=_.next(()=>this.Gs(p))),o<8&&u>=8&&(_=_.next(()=>this.Qs(e,p))),o<9&&u>=9&&(_=_.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(_=_.next(()=>this.js(p))),o<11&&u>=11&&(_=_.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(_=_.next(()=>{!function(A){const j=A.createObjectStore("documentOverlays",{keyPath:Zp});j.createIndex("collectionPathOverlayIndex",Bv,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",Pc,{unique:!1})}(e)})),o<13&&u>=13&&(_=_.next(()=>function(A){const j=A.createObjectStore("remoteDocumentsV14",{keyPath:Sl});j.createIndex("documentKeyIndex",ps),j.createIndex("collectionGroupIndex",ll)}(e)).next(()=>this.Ws(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(_=_.next(()=>this.zs(e,p))),o<15&&u>=15&&(_=_.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:ql}).createIndex("sequenceNumberIndex",Al,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:xl}).createIndex("documentKeyIndex",oc,{unique:!1})}(e))),_}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,u)=>{t+=hh(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(u=>_t.forEach(u,p=>{const _=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",_).next(A=>_t.forEach(A,j=>{Sn(j.userId===p.userId);const K=Bu(this.It,j);return pf(e,p.userId,K).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return o.Z((_,A)=>{const j=new D(_),K=[0,fs(j)];p.push(t.get(K).next(ye=>ye?_t.resolve():t.put({targetId:0,path:fs(j),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>_t.waitFor(p))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:$s});const o=t.store("collectionParents"),u=new ld,p=_=>{if(u.add(_)){const A=_.lastSegment(),j=_.popLast();return o.put({collectionId:A,parent:fs(j)})}};return t.store("remoteDocuments").Z({X:!0},(_,A)=>{const j=new D(_);return p(j.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([_,A,j],K)=>{const ye=Dn(A);return p(ye.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,u)=>{const p=Ol(u),_=of(this.It,p);return t.put(_)})}Ws(e,t){const o=t.store("remoteDocuments"),u=[];return o.Z((p,_)=>{const A=t.store("remoteDocumentsV14"),j=(K=_,K.document?new L(D.fromString(K.document.name).popFirst(5)):K.noDocument?L.fromSegments(K.noDocument.path):K.unknownDocument?L.fromSegments(K.unknownDocument.path):Rn()).path.toArray();var K;const ye={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};u.push(A.put(ye))}).next(()=>_t.waitFor(u))}zs(e,t){const o=t.store("mutations"),u=vf(this.It),p=new ag(gd.Bs,this.It.re);return o.W().next(_=>{const A=new Map;return _.forEach(j=>{var K;let ye=null!==(K=A.get(j.userId))&&void 0!==K?K:Fn();Bu(this.It,j).keys().forEach(He=>ye=ye.add(He)),A.set(j.userId,ye)}),_t.forEach(A,(j,K)=>{const ye=new ji(K),He=Rc.oe(this.It,ye),yt=p.getIndexManager(ye),jt=fh.oe(ye,this.It,yt,p.referenceDelegate);return new mh(u,jt,He,yt).recalculateAndSaveOverlaysForDocumentKeys(new tf(t,eo.at),j).next()})})}}function ug(r){r.createObjectStore("targetDocuments",{keyPath:ih}).createIndex("documentTargetsIndex",rh,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Hr,{unique:!0}),r.createObjectStore("targetGlobal")}const md="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cg{constructor(e,t,o,u,p,_,A,j,K,ye,He=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=p,this.window=_,this.document=A,this.Js=K,this.Ys=ye,this.Xs=He,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=yt=>Promise.resolve(),!cg.C())throw new zt(Dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lm(this,u),this.ii=t+"main",this.It=new ah(j),this.ri=new Xs(this.ii,this.Xs,new lg(this.It)),this.Cs=new km(this.referenceDelegate,this.It),this.remoteDocumentCache=vf(this.It),this.Ns=new Jp,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ye&&tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new zt(Dt.FAILED_PRECONDITION,md);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new eo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,f.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,f.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,f.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Cf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ks(e))return Kt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Kt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return yh(e).get("owner").next(t=>_t.resolve(this.mi(t)))}gi(e){return Cf(e).delete(this.clientId)}yi(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=vo(o,"clientMetadata");return u.W().next(p=>{const _=e.Ii(p,18e5),A=p.filter(j=>-1===_.indexOf(j));return _t.forEach(A,j=>u.delete(j.clientId)).next(()=>A)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?_t.resolve(!0):yh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new zt(Dt.FAILED_PRECONDITION,md);return!1}}return!(!this.networkEnabled||!this.inForeground)||Cf(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>{if(this.clientId!==u.clientId){const _=!this.inForeground&&u.inForeground,A=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||_&&A)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Kt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,f.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new tf(t,eo.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Cf(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return fh.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Hv(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Rc.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Kt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",p=15===(_=this.Xs)?Rm:14===_?oh:13===_?qp:12===_?Kp:11===_?sh:void Rn();var _;let A;return this.ri.runTransaction(e,u,p,j=>(A=new tf(j,this.Ss?this.Ss.next():eo.at),"readwrite-primary"===t?this.fi(A).next(K=>!!K||this.di(A)).next(K=>{if(!K)throw tr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new zt(Dt.FAILED_PRECONDITION,Oo);return o(A)}).next(K=>this.wi(A).next(()=>K)):this.Vi(A).next(()=>o(A)))).then(j=>(A.raiseOnCommittedEvent(),j))}Vi(e){return yh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new zt(Dt.FAILED_PRECONDITION,md)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yh(e).put("owner",t)}static C(){return Xs.C()}_i(e){const t=yh(e);return t.get("owner").next(o=>this.mi(o)?(Kt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):_t.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(tr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ve.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Kt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return tr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){tr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function yh(r){return vo(r,"owner")}function Cf(r){return vo(r,"clientMetadata")}function dg(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class hg{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=u}static Ci(e,t){let o=Fn(),u=Fn();for(const p of t.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new hg(e,t.fromCache,o,u)}}class Bm{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.ki(e,t).next(p=>p||this.Oi(e,t,u,o)).next(p=>p||this.Mi(e,t))}ki(e,t){if(Pu(t))return _t.resolve(null);let o=so(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=da(t,null,"F"),o=so(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const _=Fn(...p);return this.Ni.getDocuments(e,_).next(A=>this.indexManager.getMinOffset(e,o).next(j=>{const K=this.Fi(t,A);return this.$i(t,K,_,j.readTime)?this.ki(e,da(t,null,"F")):this.Bi(e,K,t,j)}))})))}Oi(e,t,o,u){return Pu(t)||u.isEqual(Xn.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(p=>{const _=this.Fi(t,p);return this.$i(t,_,o,u)?this.Mi(e,t):(po()<=Ce.in.DEBUG&&Kt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Xu(t)),this.Bi(e,_,t,Mi(u,-1)))})}Fi(e,t){let o=new ur(Bs(e));return t.forEach((u,p)=>{jl(e,p)&&(o=o.add(p))}),o}$i(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Mi(e,t){return po()<=Ce.in.DEBUG&&Kt("QueryEngine","Using full collection scan to execute query:",Xu(t)),this.Ni.getDocumentsMatchingQuery(e,t,pr.min())}Bi(e,t,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(p=>(t.forEach(_=>{p=p.insert(_.key,_)}),p))}}class zv{constructor(e,t,o,u){this.persistence=e,this.Li=t,this.It=u,this.Ui=new Rr(ni),this.qi=new Xr(p=>Qt(p),Bn),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mh(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Hm(r,e,t,o){return new zv(r,e,t,o)}function jm(r,e){return fg.apply(this,arguments)}function fg(){return fg=(0,f.Z)(function*(r,e){const t=hn(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(p=>(u=p,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(p=>{const _=[],A=[];let j=Fn();for(const K of u){_.push(K.batchId);for(const ye of K.mutations)j=j.add(ye.key)}for(const K of p){A.push(K.batchId);for(const ye of K.mutations)j=j.add(ye.key)}return t.localDocuments.getDocuments(o,j).next(K=>({ji:K,removedBatchIds:_,addedBatchIds:A}))})})}),fg.apply(this,arguments)}function Gu(r,e){const t=hn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),p=t.Gi.newChangeBuffer({trackRemovals:!0});return function(_,A,j,K){const ye=j.batch,He=ye.keys();let yt=_t.resolve();return He.forEach(jt=>{yt=yt.next(()=>K.getEntry(A,jt)).next(en=>{const An=j.docVersions.get(jt);Sn(null!==An),en.version.compareTo(An)<0&&(ye.applyToRemoteDocument(en,j),en.isValidDocument()&&(en.setReadTime(j.commitVersion),K.addEntry(en)))})}),yt.next(()=>_.mutationQueue.removeMutationBatch(A,ye))}(t,o,e,p).next(()=>p.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(_){let A=Fn();for(let j=0;j<_.mutationResults.length;++j)_.mutationResults[j].transformResults.length>0&&(A=A.add(_.batch.mutations[j].key));return A}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function vh(r){const e=hn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function $m(r,e){const t=hn(r),o=e.snapshotVersion;let u=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.Ui;const A=[];e.targetChanges.forEach((ye,He)=>{const yt=u.get(He);if(!yt)return;A.push(t.Cs.removeMatchingKeys(p,ye.removedDocuments,He).next(()=>t.Cs.addMatchingKeys(p,ye.addedDocuments,He)));let jt=yt.withSequenceNumber(p.currentSequenceNumber);var en,An,kn;e.targetMismatches.has(He)?jt=jt.withResumeToken(Nr.EMPTY_BYTE_STRING,Xn.min()).withLastLimboFreeSnapshotVersion(Xn.min()):ye.resumeToken.approximateByteSize()>0&&(jt=jt.withResumeToken(ye.resumeToken,o)),u=u.insert(He,jt),An=jt,kn=ye,(0===(en=yt).resumeToken.approximateByteSize()||An.snapshotVersion.toMicroseconds()-en.snapshotVersion.toMicroseconds()>=3e8||kn.addedDocuments.size+kn.modifiedDocuments.size+kn.removedDocuments.size>0)&&A.push(t.Cs.updateTargetData(p,jt))});let j=Hs(),K=Fn();if(e.documentUpdates.forEach(ye=>{e.resolvedLimboDocuments.has(ye)&&A.push(t.persistence.referenceDelegate.updateLimboDocument(p,ye))}),A.push(Tf(p,_,e.documentUpdates).next(ye=>{j=ye.Wi,K=ye.zi})),!o.isEqual(Xn.min())){const ye=t.Cs.getLastRemoteSnapshotVersion(p).next(He=>t.Cs.setTargetsMetadata(p,p.currentSequenceNumber,o));A.push(ye)}return _t.waitFor(A).next(()=>_.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,j,K)).next(()=>j)}).then(p=>(t.Ui=u,p))}function Tf(r,e,t){let o=Fn(),u=Fn();return t.forEach(p=>o=o.add(p)),e.getEntries(r,o).next(p=>{let _=Hs();return t.forEach((A,j)=>{const K=p.get(A);j.isFoundDocument()!==K.isFoundDocument()&&(u=u.add(A)),j.isNoDocument()&&j.version.isEqual(Xn.min())?(e.removeEntry(A,j.readTime),_=_.insert(A,j)):!K.isValidDocument()||j.version.compareTo(K.version)>0||0===j.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(j),_=_.insert(A,j)):Kt("LocalStore","Ignoring outdated watch update for ",A,". Current version:",K.version," Watch version:",j.version)}),{Wi:_,zi:u}})}function Df(r,e){const t=hn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function dc(r,e){const t=hn(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Cs.getTargetData(o,e).next(p=>p?(u=p,_t.resolve(u)):t.Cs.allocateTargetId(o).next(_=>(u=new _u(e,_,0,o.currentSequenceNumber),t.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function zu(r,e,t){return If.apply(this,arguments)}function If(){return If=(0,f.Z)(function*(r,e,t){const o=hn(r),u=o.Ui.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",p,_=>o.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!Ks(_))throw _;Kt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),If.apply(this,arguments)}function Pl(r,e,t){const o=hn(r);let u=Xn.min(),p=Fn();return o.persistence.runTransaction("Execute query","readonly",_=>function(A,j,K){const ye=hn(A),He=ye.qi.get(K);return void 0!==He?_t.resolve(ye.Ui.get(He)):ye.Cs.getTargetData(j,K)}(o,_,so(e)).next(A=>{if(A)return u=A.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(_,A.targetId).next(j=>{p=j})}).next(()=>o.Li.getDocumentsMatchingQuery(_,e,t?u:Xn.min(),t?p:Fn())).next(A=>(_h(o,Ru(e),A),{documents:A,Hi:p})))}function Sf(r,e){const t=hn(r),o=hn(t.Cs),u=t.Ui.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",p=>o.se(p,e).next(_=>_?_.target:null))}function pg(r,e){const t=hn(r),o=t.Ki.get(e)||Xn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Gi.getAllFromCollectionGroup(u,e,Mi(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(_h(t,e,u),u))}function _h(r,e,t){let o=r.Ki.get(e)||Xn.min();t.forEach((u,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),r.Ki.set(e,o)}function Eh(){return Eh=(0,f.Z)(function*(r,e,t,o){const u=hn(r);let p=Fn(),_=Hs();for(const K of t){const ye=e.Ji(K.metadata.name);K.document&&(p=p.add(ye));const He=e.Yi(K);He.setReadTime(e.Xi(K.metadata.readTime)),_=_.insert(ye,He)}const A=u.Gi.newChangeBuffer({trackRemovals:!0}),j=yield dc(u,(K=o,so(du(D.fromString(`__bundle__/docs/${K}`)))));var K;return u.persistence.runTransaction("Apply bundle documents","readwrite",K=>Tf(K,A,_).next(ye=>(A.apply(K),ye)).next(ye=>u.Cs.removeMatchingKeysForTargetId(K,j.targetId).next(()=>u.Cs.addMatchingKeys(K,p,j.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(K,ye.Wi,ye.zi)).next(()=>ye.Wi)))}),Eh.apply(this,arguments)}function zm(r,e){return Af.apply(this,arguments)}function Af(){return Af=(0,f.Z)(function*(r,e,t=Fn()){const o=yield dc(r,so(ch(e.bundledQuery))),u=hn(r);return u.persistence.runTransaction("Save named query","readwrite",p=>{const _=E(e.readTime);if(o.snapshotVersion.compareTo(_)>=0)return u.Ns.saveNamedQuery(p,e);const A=o.withResumeToken(Nr.EMPTY_BYTE_STRING,_);return u.Ui=u.Ui.insert(A.targetId,A),u.Cs.updateTargetData(p,A).next(()=>u.Cs.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>u.Cs.addMatchingKeys(p,t,o.targetId)).next(()=>u.Ns.saveNamedQuery(p,e))})}),Af.apply(this,arguments)}function Lc(r,e){return`firestore_clients_${r}_${e}`}function hc(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function yd(r,e){return`firestore_targets_${r}_${e}`}class wu{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Zi(e,t,o){const u=JSON.parse(o);let p,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(p=new zt(u.error.code,u.error.message))),_?new wu(e,t,u.state,p):(tr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cu{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let u,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(u=new zt(o.error.code,o.error.message))),p?new Cu(e,o.state,u):(tr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tu{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,p=al();for(let _=0;u&&_<o.activeTargetIds.length;++_)u=cu(o.activeTargetIds[_]),p=p.add(o.activeTargetIds[_]);return u?new Tu(e,p):(tr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class xf{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new xf(t.clientId,t.onlineState):(tr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bh{constructor(){this.activeTargetIds=al()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wh{constructor(e,t,o,u,p){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Rr(ni),this.started=!1,this.cr=[];const _=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ar=Lc(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new bh),this.lr=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,f.Z)(function*(){const t=yield e.syncEngine.vi();for(const u of t){if(u===e.sr)continue;const p=e.getItem(Lc(e.persistenceKey,u));if(p){const _=Tu.Zi(u,p);_&&(e.ur=e.ur.insert(_.clientId,_))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(yd(this.persistenceKey,e));if(o){const u=Cu.Zi(e,o);u&&(t=u.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(yd(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Kt("SharedClientState","READ",e,t),t}setItem(e,t){Kt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Kt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Kt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,f.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const u=t.vr(o.key);return t.Vr(u,null)}{const u=t.Sr(o.key,o.newValue);if(u)return t.Vr(u.clientId,u)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const u=t.Dr(o.key,o.newValue);if(u)return t.Cr(u)}}else if(t._r.test(o.key)){if(null!==o.newValue){const u=t.Nr(o.key,o.newValue);if(u)return t.kr(u)}}else if(o.key===t.wr){if(null!==o.newValue){const u=t.yr(o.newValue);if(u)return t.pr(u)}}else if(o.key===t.hr){const u=function(p){let _=eo.at;if(null!=p)try{const A=JSON.parse(p);Sn("number"==typeof A),_=A}catch(A){tr("SharedClientState","Failed to read sequence number from WebStorage",A)}return _}(o.newValue);u!==eo.at&&t.sequenceNumberHandler(u)}else if(o.key===t.mr){const u=t.Or(o.newValue);yield Promise.all(u.map(p=>t.syncEngine.Mr(p)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const u=new wu(this.currentUser,e,t,o),p=hc(this.persistenceKey,this.currentUser,e);this.setItem(p,u.tr())}Er(e){const t=hc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const u=yd(this.persistenceKey,e),p=new Cu(e,t,o);this.setItem(u,p.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return Tu.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),u=Number(o[1]);return wu.Zi(new ji(void 0!==o[2]?o[2]:null),u,t)}Nr(e,t){const o=this._r.exec(e),u=Number(o[1]);return Cu.Zi(u,t)}yr(e){return xf.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,f.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Kt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),u=this.Ir(this.ur),p=this.Ir(o),_=[],A=[];return p.forEach(j=>{u.has(j)||_.push(j)}),u.forEach(j=>{p.has(j)||A.push(j)}),this.syncEngine.Br(_,A).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=al();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class Ch{constructor(){this.Lr=new bh,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new bh,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Of{qr(e){}shutdown(){}}class Mf{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Th={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wm{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class gg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,u,p){const _=this.ho(e,t);Kt("RestConnection","Sending: ",_,o);const A={};return this.lo(A,u,p),this.fo(e,_,A,o).then(j=>(Kt("RestConnection","Received: ",j),j),j=>{throw $i("RestConnection",`${e} failed with error: `,j,"url: ",_,"request:",o),j})}_o(e,t,o,u,p,_){return this.ao(e,t,o,u,p)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Is,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,p)=>e[p]=u),o&&o.headers.forEach((u,p)=>e[p]=u)}ho(e,t){return`${this.oo}/v1/${t}:${Th[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,u){return new Promise((p,_)=>{const A=new va;A.setWithCredentials(!0),A.listenOnce(Fl.COMPLETE,()=>{var K;try{switch(A.getLastErrorCode()){case xo.NO_ERROR:const ye=A.getResponseJson();Kt("Connection","XHR received:",JSON.stringify(ye)),p(ye);break;case xo.TIMEOUT:Kt("Connection",'RPC "'+e+'" timed out'),_(new zt(Dt.DEADLINE_EXCEEDED,"Request time out"));break;case xo.HTTP_ERROR:const He=A.getStatus();if(Kt("Connection",'RPC "'+e+'" failed with status:',He,"response text:",A.getResponseText()),He>0){let yt=A.getResponseJson();Array.isArray(yt)&&(yt=yt[0]);const jt=null===(K=yt)||void 0===K?void 0:K.error;if(jt&&jt.status&&jt.message){const en=function(An){const kn=An.toLowerCase().replace(/_/g,"-");return Object.values(Dt).indexOf(kn)>=0?kn:Dt.UNKNOWN}(jt.status);_(new zt(en,jt.message))}else _(new zt(Dt.UNKNOWN,"Server responded with status "+A.getStatus()))}else _(new zt(Dt.UNAVAILABLE,"Connection failed."));break;default:Rn()}}finally{Kt("Connection",'RPC "'+e+'" completed.')}});const j=JSON.stringify(u);A.send(t,"POST",j,o,15)})}wo(e,t,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=pl(),_=sa(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new ho({})),this.lo(A.initMessageHeaders,t,o),A.encodeInitMessageHeaders=!0;const j=u.join("");Kt("Connection","Creating WebChannel: "+j,A);const K=p.createWebChannel(j,A);let ye=!1,He=!1;const yt=new Wm({Hr:en=>{He?Kt("Connection","Not sending because WebChannel is closed:",en):(ye||(Kt("Connection","Opening WebChannel transport."),K.open(),ye=!0),Kt("Connection","WebChannel sending:",en),K.send(en))},Jr:()=>K.close()}),jt=(en,An,kn)=>{en.listen(An,cr=>{try{kn(cr)}catch($r){setTimeout(()=>{throw $r},0)}})};return jt(K,Qi.EventType.OPEN,()=>{He||Kt("Connection","WebChannel transport opened.")}),jt(K,Qi.EventType.CLOSE,()=>{He||(He=!0,Kt("Connection","WebChannel transport closed"),yt.io())}),jt(K,Qi.EventType.ERROR,en=>{He||(He=!0,$i("Connection","WebChannel transport errored:",en),yt.io(new zt(Dt.UNAVAILABLE,"The operation could not be completed")))}),jt(K,Qi.EventType.MESSAGE,en=>{var An;if(!He){const kn=en.data[0];Sn(!!kn);const cr=kn,$r=cr.error||(null===(An=cr[0])||void 0===An?void 0:An.error);if($r){Kt("Connection","WebChannel received error:",$r);const wr=$r.status;let lo=function(mr){const Eo=dn[mr];if(void 0!==Eo)return br(Eo)}(wr),Fr=$r.message;void 0===lo&&(lo=Dt.INTERNAL,Fr="Unknown error status: "+wr+" with message "+$r.message),He=!0,yt.io(new zt(lo,Fr)),K.close()}else Kt("Connection","WebChannel received:",kn),yt.ro(kn)}}),jt(_,gl.STAT_EVENT,en=>{en.stat===is.PROXY?Kt("Connection","Detected buffering proxy"):en.stat===is.NOPROXY&&Kt("Connection","Detected no buffering proxy")}),setTimeout(()=>{yt.so()},0),yt}}function Zm(){return"undefined"!=typeof window?window:null}function vd(){return"undefined"!=typeof document?document:null}function Fc(r){return new rd(r,!0)}class Pf{constructor(e,t,o=1e3,u=1.5,p=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=u,this.po=p,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-o);u>0&&Kt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Rf{constructor(e,t,o,u,p,_,A,j){this.Hs=e,this.vo=o,this.Vo=u,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=A,this.listener=j,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Pf(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,f.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,f.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,f.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===Dt.RESOURCE_EXHAUSTED?(tr(t.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===Dt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===t&&this.Go(o,u)},o=>{e(()=>{const u=new zt(Dt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,f.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Kt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Km extends Rf{constructor(e,t,o,u,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,_),this.It=p}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Zn(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Rn(),u=e.targetChange.targetIds||[],p=function(j,K){return j.gt?(Sn(void 0===K||"string"==typeof K),Nr.fromBase64String(K||"")):(Sn(void 0===K||K instanceof Uint8Array),Nr.fromUint8Array(K||new Uint8Array))}(r,e.targetChange.resumeToken),_=e.targetChange.cause,A=_&&function(j){const K=void 0===j.code?Dt.UNKNOWN:br(j.code);return new zt(K,j.message||"")}(_);t=new Xd(o,u,p,A||null)}else if("documentChange"in e){const o=e.documentChange,u=T(r,o.document.name),p=E(o.document.updateTime),_=new U({mapValue:{fields:o.document.fields}}),A=Ie.newFoundDocument(u,p,_);t=new sc(o.targetIds||[],o.removedTargetIds||[],A.key,A)}else if("documentDelete"in e){const o=e.documentDelete,u=T(r,o.document),p=o.readTime?E(o.readTime):Xn.min(),_=Ie.newNoDocument(u,p);t=new sc([],o.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const o=e.documentRemove,u=T(r,o.document);t=new sc([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Rn();{const o=e.filter,p=new Jt(o.count||0);t=new nd(o.targetId,p)}}var j;return t}(this.It,e),o=function(u){if(!("targetChange"in u))return Xn.min();const p=u.targetChange;return p.targetIds&&p.targetIds.length?Xn.min():p.readTime?E(p.readTime):Xn.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=De(this.It),t.addTarget=function(u,p){let _;const A=p.target;return _=ui(A)?{documents:lr(u,A)}:{query:Lr(u,A)},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?_.resumeToken=sd(u,p.resumeToken):p.snapshotVersion.compareTo(Xn.min())>0&&(_.readTime=Fu(u,p.snapshotVersion.toTimestamp())),_}(this.It,e);const o=function xs(r,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=De(this.It),t.removeTarget=e,this.Bo(t)}}class qm extends Rf{constructor(e,t,o,u,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,_),this.It=p,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Ii(r,e){return r&&r.length>0?(Sn(void 0!==e),r.map(t=>function(o,u){let p=E(o.updateTime?o.updateTime:u);return p.isEqual(Xn.min())&&(p=E(u)),new gu(p,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=E(e.commitTime);return this.listener.Zo(o,t)}return Sn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=De(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>si(this.It,o))};this.Bo(t)}}class Ya extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.It=u,this.nu=!1}su(){if(this.nu)throw new zt(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.ao(e,t,o,u,p)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new zt(Dt.UNKNOWN,u.toString())})}_o(e,t,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection._o(e,t,o,p,_,u)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new zt(Dt.UNKNOWN,p.toString())})}terminate(){this.nu=!0}}class Wv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(tr(t),this.ou=!1):Kt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Zv{constructor(e,t,o,u,p){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=p,this.mu.qr(A=>{o.enqueueAndForget((0,f.Z)(function*(){var j;Jl(_)&&(Kt("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,f.Z)(function*(K){const ye=hn(K);ye._u.add(4),yield Uc(ye),ye.gu.set("Unknown"),ye._u.delete(4),yield Vc(ye)}),function(K){return j.apply(this,arguments)})(_))}))}),this.gu=new Wv(o,u)}}function Vc(r){return mg.apply(this,arguments)}function mg(){return mg=(0,f.Z)(function*(r){if(Jl(r))for(const e of r.wu)yield e(!0)}),mg.apply(this,arguments)}function Uc(r){return _d.apply(this,arguments)}function _d(){return _d=(0,f.Z)(function*(r){for(const e of r.wu)yield e(!1)}),_d.apply(this,arguments)}function Ed(r,e){const t=hn(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Lf(t)?Dh(t):pc(t).ko()&&kf(t,e))}function bd(r,e){const t=hn(r),o=pc(t);t.du.delete(e),o.ko()&&yg(t,e),0===t.du.size&&(o.ko()?o.Fo():Jl(t)&&t.gu.set("Unknown"))}function kf(r,e){r.yu.Mt(e.targetId),pc(r).zo(e)}function yg(r,e){r.yu.Mt(e),pc(r).Ho(e)}function Dh(r){r.yu=new eh({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),pc(r).start(),r.gu.uu()}function Lf(r){return Jl(r)&&!pc(r).No()&&r.du.size>0}function Jl(r){return 0===hn(r)._u.size}function vg(r){r.yu=void 0}function Qm(r){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,f.Z)(function*(r){r.du.forEach((e,t)=>{kf(r,e)})}),Ih.apply(this,arguments)}function _g(r,e){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,f.Z)(function*(r,e){vg(r),Lf(r)?(r.gu.hu(e),Dh(r)):r.gu.set("Unknown")}),Ff.apply(this,arguments)}function Xl(r,e,t){return wd.apply(this,arguments)}function wd(){return wd=(0,f.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof Xd&&2===e.state&&e.cause)try{yield(o=(0,f.Z)(function*(u,p){const _=p.cause;for(const A of p.targetIds)u.du.has(A)&&(yield u.remoteSyncer.rejectListen(A,_),u.du.delete(A),u.yu.removeTarget(A))}),function(u,p){return o.apply(this,arguments)})(r,e)}catch(o){Kt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Sh(r,o)}else if(e instanceof sc?r.yu.Gt(e):e instanceof nd?r.yu.Yt(e):r.yu.Wt(e),!t.isEqual(Xn.min()))try{const o=yield vh(r.localStore);t.compareTo(o)>=0&&(yield function(u,p){const _=u.yu.te(p);return _.targetChanges.forEach((A,j)=>{if(A.resumeToken.approximateByteSize()>0){const K=u.du.get(j);K&&u.du.set(j,K.withResumeToken(A.resumeToken,p))}}),_.targetMismatches.forEach(A=>{const j=u.du.get(A);if(!j)return;u.du.set(A,j.withResumeToken(Nr.EMPTY_BYTE_STRING,j.snapshotVersion)),yg(u,A);const K=new _u(j.target,A,1,j.sequenceNumber);kf(u,K)}),u.remoteSyncer.applyRemoteEvent(_)}(r,t))}catch(o){Kt("RemoteStore","Failed to raise snapshot:",o),yield Sh(r,o)}var o}),wd.apply(this,arguments)}function Sh(r,e,t){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,f.Z)(function*(r,e,t){if(!Ks(e))throw e;r._u.add(1),yield Uc(r),r.gu.set("Offline"),t||(t=()=>vh(r.localStore)),r.asyncQueue.enqueueRetryable((0,f.Z)(function*(){Kt("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield Vc(r)}))}),Vf.apply(this,arguments)}function Jm(r,e){return e().catch(t=>Sh(r,t,e))}function fc(r){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,f.Z)(function*(r){const e=hn(r),t=Du(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Xm(e);)try{const u=yield Df(e.localStore,o);if(null===u){0===e.fu.length&&t.Fo();break}o=u.batchId,ey(e,u)}catch(u){yield Sh(e,u)}Ah(e)&&Eg(e)}),Uf.apply(this,arguments)}function Xm(r){return Jl(r)&&r.fu.length<10}function ey(r,e){r.fu.push(e);const t=Du(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Ah(r){return Jl(r)&&!Du(r).No()&&r.fu.length>0}function Eg(r){Du(r).start()}function ty(r){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,f.Z)(function*(r){Du(r).eu()}),Bc.apply(this,arguments)}function Bf(r){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,f.Z)(function*(r){const e=Du(r);for(const t of r.fu)e.Xo(t.mutations)}),Hf.apply(this,arguments)}function jf(r,e,t){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,f.Z)(function*(r,e,t){const o=r.fu.shift(),u=rf.from(o,e,t);yield Jm(r,()=>r.remoteSyncer.applySuccessfulWrite(u)),yield fc(r)}),Cd.apply(this,arguments)}function bg(r,e){return wg.apply(this,arguments)}function wg(){return wg=(0,f.Z)(function*(r,e){var t;e&&Du(r).Yo&&(yield(t=(0,f.Z)(function*(o,u){if(ri(p=u.code)&&p!==Dt.ABORTED){const _=o.fu.shift();Du(o).Mo(),yield Jm(o,()=>o.remoteSyncer.rejectFailedWrite(_.batchId,u)),yield fc(o)}var p}),function(o,u){return t.apply(this,arguments)})(r,e)),Ah(r)&&Eg(r)}),wg.apply(this,arguments)}function ny(r,e){return Td.apply(this,arguments)}function Td(){return Td=(0,f.Z)(function*(r,e){const t=hn(r);t.asyncQueue.verifyOperationInProgress(),Kt("RemoteStore","RemoteStore received new credentials");const o=Jl(t);t._u.add(3),yield Uc(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Vc(t)}),Td.apply(this,arguments)}function Cg(r,e){return $f.apply(this,arguments)}function $f(){return $f=(0,f.Z)(function*(r,e){const t=hn(r);e?(t._u.delete(2),yield Vc(t)):e||(t._u.add(2),yield Uc(t),t.gu.set("Unknown"))}),$f.apply(this,arguments)}function pc(r){return r.pu||(r.pu=function(e,t,o){const u=hn(e);return u.su(),new Km(t,u.connection,u.authCredentials,u.appCheckCredentials,u.It,o)}(r.datastore,r.asyncQueue,{Yr:Qm.bind(null,r),Zr:_g.bind(null,r),Wo:Xl.bind(null,r)}),r.wu.push(function(){var e=(0,f.Z)(function*(t){t?(r.pu.Mo(),Lf(r)?Dh(r):r.gu.set("Unknown")):(yield r.pu.stop(),vg(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function Du(r){return r.Iu||(r.Iu=function(e,t,o){const u=hn(e);return u.su(),new qm(t,u.connection,u.authCredentials,u.appCheckCredentials,u.It,o)}(r.datastore,r.asyncQueue,{Yr:ty.bind(null,r),Zr:bg.bind(null,r),tu:Bf.bind(null,r),Zo:jf.bind(null,r)}),r.wu.push(function(){var e=(0,f.Z)(function*(t){t?(r.Iu.Mo(),yield fc(r)):(yield r.Iu.stop(),r.fu.length>0&&(Kt("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class xh{constructor(e,t,o,u,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=p,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,o,u,p){const _=Date.now()+o,A=new xh(e,t,_,u,p);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zt(Dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gc(r,e){if(tr("AsyncQueue",`${e}: ${r}`),Ks(r))return new zt(Dt.UNAVAILABLE,`${e}: ${r}`);throw r}class mc{constructor(e){this.comparator=e?(t,o)=>e(t,o)||L.comparator(t.key,o.key):(t,o)=>L.comparator(t.key,o.key),this.keyedMap=wl(),this.sortedSet=new Rr(this.comparator)}static emptySet(e){return new mc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,p=o.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new mc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class eu{constructor(){this.Tu=new Rr(L.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Rn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Iu{constructor(e,t,o,u,p,_,A,j,K){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=A,this.excludesMetadataChanges=j,this.hasCachedResults=K}static fromInitialDocuments(e,t,o,u,p){const _=[];return t.forEach(A=>{_.push({type:0,doc:A})}),new Iu(e,t,mc.emptySet(t),_,o,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class iy{constructor(){this.Au=void 0,this.listeners=[]}}class ry{constructor(){this.queries=new Xr(e=>_l(e),oo),this.onlineState="Unknown",this.Ru=new Set}}function Tg(r,e){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,f.Z)(function*(r,e){const t=hn(r),o=e.query;let u=!1,p=t.queries.get(o);if(p||(u=!0,p=new iy),u)try{p.Au=yield t.onListen(o)}catch(_){const A=gc(_,`Initialization of query '${Xu(e.query)}' failed`);return void e.onError(A)}t.queries.set(o,p),p.listeners.push(e),e.bu(t.onlineState),p.Au&&e.Pu(p.Au)&&Sd(t)}),Hc.apply(this,arguments)}function Oh(r,e){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,f.Z)(function*(r,e){const t=hn(r),o=e.query;let u=!1;const p=t.queries.get(o);if(p){const _=p.listeners.indexOf(e);_>=0&&(p.listeners.splice(_,1),u=0===p.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),Dd.apply(this,arguments)}function Id(r,e){const t=hn(r);let o=!1;for(const u of e){const _=t.queries.get(u.query);if(_){for(const A of _.listeners)A.Pu(u)&&(o=!0);_.Au=u}}o&&Sd(t)}function sy(r,e,t){const o=hn(r),u=o.queries.get(e);if(u)for(const p of u.listeners)p.onError(t);o.queries.delete(e)}function Sd(r){r.Ru.forEach(e=>{e.next()})}class Mh{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Iu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Dg{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Gf{constructor(e){this.It=e}Ji(e){return T(this.It,e)}Yi(e){return e.metadata.exists?Xt(this.It,e.document,!1):Ie.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return E(e)}}class oy{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ph(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const o=D.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new Gf(this.It);for(const u of e)if(u.metadata.queries){const p=o.Ji(u.metadata.name);for(const _ of u.metadata.queries){const A=(t.get(_)||Fn()).add(p);t.set(_,A)}}return t}complete(){var e=this;return(0,f.Z)(function*(){const t=yield function Gm(r,e,t,o){return Eh.apply(this,arguments)}(e.localStore,new Gf(e.It),e.documents,e.Mu.id),o=e.$u(e.documents);for(const u of e.queries)yield zm(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Ph(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Ig{constructor(e){this.key=e}}class Sg{constructor(e){this.key=e}}class zf{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Fn(),this.mutatedKeys=Fn(),this.Gu=Bs(e),this.Qu=new mc(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new eu,u=t?t.Qu:this.Qu;let p=t?t.mutatedKeys:this.mutatedKeys,_=u,A=!1;const j="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,K="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ye,He)=>{const yt=u.get(ye),jt=jl(this.query,He)?He:null,en=!!yt&&this.mutatedKeys.has(yt.key),An=!!jt&&(jt.hasLocalMutations||this.mutatedKeys.has(jt.key)&&jt.hasCommittedMutations);let kn=!1;yt&&jt?yt.data.isEqual(jt.data)?en!==An&&(o.track({type:3,doc:jt}),kn=!0):this.Hu(yt,jt)||(o.track({type:2,doc:jt}),kn=!0,(j&&this.Gu(jt,j)>0||K&&this.Gu(jt,K)<0)&&(A=!0)):!yt&&jt?(o.track({type:0,doc:jt}),kn=!0):yt&&!jt&&(o.track({type:1,doc:yt}),kn=!0,(j||K)&&(A=!0)),kn&&(jt?(_=_.add(jt),p=An?p.add(ye):p.delete(ye)):(_=_.delete(ye),p=p.delete(ye)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const ye="F"===this.query.limitType?_.last():_.first();_=_.delete(ye.key),p=p.delete(ye.key),o.track({type:1,doc:ye})}return{Qu:_,zu:o,$i:A,mutatedKeys:p}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const p=e.zu.Eu();p.sort((K,ye)=>function(He,yt){const jt=en=>{switch(en){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rn()}};return jt(He)-jt(yt)}(K.type,ye.type)||this.Gu(K.doc,ye.doc)),this.Ju(o);const _=t?this.Yu():[],A=0===this.Ku.size&&this.current?1:0,j=A!==this.qu;return this.qu=A,0!==p.length||j?{snapshot:new Iu(this.query,e.Qu,u,p,e.mutatedKeys,0===A,j,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:_}:{Xu:_}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new eu,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Fn(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new Sg(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Ig(o))}),t}tc(e){this.Uu=e.Hi,this.Ku=Fn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Iu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class jc{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Ag{constructor(e){this.key=e,this.nc=!1}}class ay{constructor(e,t,o,u,p,_){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.sc={},this.ic=new Xr(A=>_l(A),oo),this.rc=new Map,this.oc=new Set,this.uc=new Rr(L.comparator),this.cc=new Map,this.ac=new wf,this.hc={},this.lc=new Map,this.fc=cc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function ly(r,e){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,f.Z)(function*(r,e){const t=Zu(r);let o,u;const p=t.ic.get(e);if(p)o=p.targetId,t.sharedClientState.addLocalQueryTarget(o),u=p.view.ec();else{const _=yield dc(t.localStore,so(e));t.isPrimaryClient&&Ed(t.remoteStore,_);const A=t.sharedClientState.addLocalQueryTarget(_.targetId);o=_.targetId,u=yield Wf(t,e,o,"current"===A,_.resumeToken)}return u}),Wu.apply(this,arguments)}function Wf(r,e,t,o,u){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,f.Z)(function*(r,e,t,o,u){r._c=(He,yt,jt)=>{return(en=(0,f.Z)(function*(An,kn,cr,$r){let wr=kn.view.Wu(cr);wr.$i&&(wr=yield Pl(An.localStore,kn.query,!1).then(({documents:mr})=>kn.view.Wu(mr,wr)));const lo=$r&&$r.targetChanges.get(kn.targetId),Fr=kn.view.applyChanges(wr,An.isPrimaryClient,lo);return Od(An,kn.targetId,Fr.Xu),Fr.snapshot}),function(An,kn,cr,$r){return en.apply(this,arguments)})(r,He,yt,jt);var en};const p=yield Pl(r.localStore,e,!0),_=new zf(e,p.Hi),A=_.Wu(p.documents),j=vu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,u),K=_.applyChanges(A,r.isPrimaryClient,j);Od(r,t,K.Xu);const ye=new jc(e,t,_);return r.ic.set(e,ye),r.rc.has(t)?r.rc.get(t).push(e):r.rc.set(t,[e]),K.snapshot}),Zf.apply(this,arguments)}function uy(r,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,f.Z)(function*(r,e){const t=hn(r),o=t.ic.get(e),u=t.rc.get(o.targetId);if(u.length>1)return t.rc.set(o.targetId,u.filter(p=>!oo(p,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield zu(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),bd(t.remoteStore,o.targetId),xd(t,o.targetId)}).catch(Yr))):(xd(t,o.targetId),yield zu(t.localStore,o.targetId,!0))}),Kf.apply(this,arguments)}function Ad(){return Ad=(0,f.Z)(function*(r,e,t){const o=op(r);try{const u=yield function(p,_){const A=hn(p),j=Zi.now(),K=_.reduce((yt,jt)=>yt.add(jt.key),Fn());let ye,He;return A.persistence.runTransaction("Locally write mutations","readwrite",yt=>{let jt=Hs(),en=Fn();return A.Gi.getEntries(yt,K).next(An=>{jt=An,jt.forEach((kn,cr)=>{cr.isValidDocument()||(en=en.add(kn))})}).next(()=>A.localDocuments.getOverlayedDocuments(yt,jt)).next(An=>{ye=An;const kn=[];for(const cr of _){const $r=Wl(cr,ye.get(cr.key).overlayedDocument);null!=$r&&kn.push(new m(cr.key,$r,ae($r.value.mapValue),kr.exists(!0)))}return A.mutationQueue.addMutationBatch(yt,j,kn,_)}).next(An=>{He=An;const kn=An.applyToLocalDocumentSet(ye,en);return A.documentOverlayCache.saveOverlays(yt,An.batchId,kn)})}).then(()=>({batchId:He.batchId,changes:rc(ye)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(p,_,A){let j=p.hc[p.currentUser.toKey()];j||(j=new Rr(ni)),j=j.insert(_,A),p.hc[p.currentUser.toKey()]=j}(o,u.batchId,t),yield nu(o,u.changes),yield fc(o.remoteStore)}catch(u){const p=gc(u,"Failed to persist write");t.reject(p)}}),Ad.apply(this,arguments)}function qf(r,e){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,f.Z)(function*(r,e){const t=hn(r);try{const o=yield $m(t.localStore,e);e.targetChanges.forEach((u,p)=>{const _=t.cc.get(p);_&&(Sn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.nc=!0:u.modifiedDocuments.size>0?Sn(_.nc):u.removedDocuments.size>0&&(Sn(_.nc),_.nc=!1))}),yield nu(t,o,e)}catch(o){yield Yr(o)}}),Rh.apply(this,arguments)}function Yf(r,e,t){const o=hn(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ic.forEach((p,_)=>{const A=_.view.bu(e);A.snapshot&&u.push(A.snapshot)}),function(p,_){const A=hn(p);A.onlineState=_;let j=!1;A.queries.forEach((K,ye)=>{for(const He of ye.listeners)He.bu(_)&&(j=!0)}),j&&Sd(A)}(o.eventManager,e),u.length&&o.sc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function xg(r,e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,f.Z)(function*(r,e,t){const o=hn(r);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.cc.get(e),p=u&&u.key;if(p){let _=new Rr(L.comparator);_=_.insert(p,Ie.newNoDocument(p,Xn.min()));const A=Fn().add(p),j=new Tl(Xn.min(),new Map,new ur(ni),_,A);yield qf(o,j),o.uc=o.uc.remove(p),o.cc.delete(e),Lh(o)}else yield zu(o.localStore,e,!1).then(()=>xd(o,e,t)).catch(Yr)}),Qf.apply(this,arguments)}function cy(r,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,f.Z)(function*(r,e){const t=hn(r),o=e.batch.batchId;try{const u=yield Gu(t.localStore,e);ep(t,o,null),Xf(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield nu(t,u)}catch(u){yield Yr(u)}}),Jf.apply(this,arguments)}function dy(r,e,t){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,f.Z)(function*(r,e,t){const o=hn(r);try{const u=yield function(p,_){const A=hn(p);return A.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let K;return A.mutationQueue.lookupMutationBatch(j,_).next(ye=>(Sn(null!==ye),K=ye.keys(),A.mutationQueue.removeMutationBatch(j,ye))).next(()=>A.mutationQueue.performConsistencyCheck(j)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(j,K,_)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,K)).next(()=>A.localDocuments.getDocuments(j,K))})}(o.localStore,e);ep(o,e,t),Xf(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield nu(o,u)}catch(u){yield Yr(u)}}),Nh.apply(this,arguments)}function kh(){return kh=(0,f.Z)(function*(r,e){const t=hn(r);Jl(t.remoteStore)||Kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(p){const _=hn(p);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>_.mutationQueue.getHighestUnacknowledgedBatchId(A))}(t.localStore);if(-1===o)return void e.resolve();const u=t.lc.get(o)||[];u.push(e),t.lc.set(o,u)}catch(o){const u=gc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),kh.apply(this,arguments)}function Xf(r,e){(r.lc.get(e)||[]).forEach(t=>{t.resolve()}),r.lc.delete(e)}function ep(r,e,t){const o=hn(r);let u=o.hc[o.currentUser.toKey()];if(u){const p=u.get(e);p&&(t?p.reject(t):p.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function xd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r.rc.get(e))r.ic.delete(o),t&&r.sc.wc(o,t);r.rc.delete(e),r.isPrimaryClient&&r.ac.ls(e).forEach(o=>{r.ac.containsKey(o)||hy(r,o)})}function hy(r,e){r.oc.delete(e.path.canonicalString());const t=r.uc.get(e);null!==t&&(bd(r.remoteStore,t),r.uc=r.uc.remove(e),r.cc.delete(t),Lh(r))}function Od(r,e,t){for(const o of t)o instanceof Ig?(r.ac.addReference(o.key,e),fy(r,o)):o instanceof Sg?(Kt("SyncEngine","Document no longer in limbo: "+o.key),r.ac.removeReference(o.key,e),r.ac.containsKey(o.key)||hy(r,o.key)):Rn()}function fy(r,e){const t=e.key,o=t.path.canonicalString();r.uc.get(t)||r.oc.has(o)||(Kt("SyncEngine","New document in limbo: "+t),r.oc.add(o),Lh(r))}function Lh(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const e=r.oc.values().next().value;r.oc.delete(e);const t=new L(D.fromString(e)),o=r.fc.next();r.cc.set(o,new Ag(t)),r.uc=r.uc.insert(t,o),Ed(r.remoteStore,new _u(so(du(t.path)),o,2,eo.at))}}function nu(r,e,t){return Og.apply(this,arguments)}function Og(){return Og=(0,f.Z)(function*(r,e,t){const o=hn(r),u=[],p=[],_=[];var A;o.ic.isEmpty()||(o.ic.forEach((A,j)=>{_.push(o._c(j,e,t).then(K=>{if((K||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(j.targetId,(null==K?void 0:K.fromCache)?"not-current":"current"),K){u.push(K);const ye=hg.Ci(j.targetId,K);p.push(ye)}}))}),yield Promise.all(_),o.sc.Wo(u),yield(A=(0,f.Z)(function*(j,K){const ye=hn(j);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",He=>_t.forEach(K,yt=>_t.forEach(yt.Si,jt=>ye.persistence.referenceDelegate.addReference(He,yt.targetId,jt)).next(()=>_t.forEach(yt.Di,jt=>ye.persistence.referenceDelegate.removeReference(He,yt.targetId,jt)))))}catch(He){if(!Ks(He))throw He;Kt("LocalStore","Failed to update sequence numbers: "+He)}for(const He of K){const yt=He.targetId;if(!He.fromCache){const jt=ye.Ui.get(yt),An=jt.withLastLimboFreeSnapshotVersion(jt.snapshotVersion);ye.Ui=ye.Ui.insert(yt,An)}}}),function(j,K){return A.apply(this,arguments)})(o.localStore,p))}),Og.apply(this,arguments)}function Rl(r,e){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,f.Z)(function*(r,e){const t=hn(r);if(!t.currentUser.isEqual(e)){Kt("SyncEngine","User change. New user:",e.toKey());const o=yield jm(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(_=>{_.forEach(A=>{A.reject(new zt(Dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield nu(t,o.ji)}var u}),Mg.apply(this,arguments)}function qv(r,e){const t=hn(r),o=t.cc.get(e);if(o&&o.nc)return Fn().add(o.key);{let u=Fn();const p=t.rc.get(e);if(!p)return u;for(const _ of p){const A=t.ic.get(_);u=u.unionWith(A.view.ju)}return u}}function Pg(r,e){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,f.Z)(function*(r,e){const t=hn(r),o=yield Pl(t.localStore,e.query,!0),u=e.view.tc(o);return t.isPrimaryClient&&Od(t,e.targetId,u.Xu),u}),Fh.apply(this,arguments)}function Rg(r,e){return tp.apply(this,arguments)}function tp(){return tp=(0,f.Z)(function*(r,e){const t=hn(r);return pg(t.localStore,e).then(o=>nu(t,o))}),tp.apply(this,arguments)}function Yv(r,e,t,o){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,f.Z)(function*(r,e,t,o){const u=hn(r),p=yield function(_,A){const j=hn(_),K=hn(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",ye=>K.Tn(ye,A).next(He=>He?j.localDocuments.getDocuments(ye,He):_t.resolve(null)))}(u.localStore,e);var A;null!==p?("pending"===t?yield fc(u.remoteStore):"acknowledged"===t||"rejected"===t?(ep(u,e,o||null),Xf(u,e),A=e,hn(hn(u.localStore).mutationQueue).An(A)):Rn(),yield nu(u,p)):Kt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Vh.apply(this,arguments)}function ip(){return ip=(0,f.Z)(function*(r,e){const t=hn(r);if(Zu(t),op(t),!0===e&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Uh(t,o.toArray());t.dc=!0,yield Cg(t.remoteStore,!0);for(const p of u)Ed(t.remoteStore,p)}else if(!1===e&&!1!==t.dc){const o=[];let u=Promise.resolve();t.rc.forEach((p,_)=>{t.sharedClientState.isLocalQueryTarget(_)?o.push(_):u=u.then(()=>(xd(t,_),zu(t.localStore,_,!0))),bd(t.remoteStore,_)}),yield u,yield Uh(t,o),function(p){const _=hn(p);_.cc.forEach((A,j)=>{bd(_.remoteStore,j)}),_.ac.fs(),_.cc=new Map,_.uc=new Rr(L.comparator)}(t),t.dc=!1,yield Cg(t.remoteStore,!1)}}),ip.apply(this,arguments)}function Uh(r,e,t){return rp.apply(this,arguments)}function rp(){return rp=(0,f.Z)(function*(r,e,t){const o=hn(r),u=[],p=[];for(const _ of e){let A;const j=o.rc.get(_);if(j&&0!==j.length){A=yield dc(o.localStore,so(j[0]));for(const K of j){const ye=o.ic.get(K),He=yield Pg(o,ye);He.snapshot&&p.push(He.snapshot)}}else{const K=yield Sf(o.localStore,_);A=yield dc(o.localStore,K),yield Wf(o,Ng(K),_,!1,A.resumeToken)}u.push(A)}return o.sc.Wo(p),u}),rp.apply(this,arguments)}function Ng(r){return Ju(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function py(r){const e=hn(r);return hn(hn(e.localStore).persistence).vi()}function gy(r,e,t,o){return sp.apply(this,arguments)}function sp(){return sp=(0,f.Z)(function*(r,e,t,o){const u=hn(r);if(u.dc)return void Kt("SyncEngine","Ignoring unexpected query state notification.");const p=u.rc.get(e);if(p&&p.length>0)switch(t){case"current":case"not-current":{const _=yield pg(u.localStore,Ru(p[0])),A=Tl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Nr.EMPTY_BYTE_STRING);yield nu(u,_,A);break}case"rejected":yield zu(u.localStore,e,!0),xd(u,e,o);break;default:Rn()}}),sp.apply(this,arguments)}function my(r,e,t){return $c.apply(this,arguments)}function $c(){return $c=(0,f.Z)(function*(r,e,t){const o=Zu(r);if(o.dc){for(const u of e){if(o.rc.has(u)){Kt("SyncEngine","Adding an already active target "+u);continue}const p=yield Sf(o.localStore,u),_=yield dc(o.localStore,p);yield Wf(o,Ng(p),_.targetId,!1,_.resumeToken),Ed(o.remoteStore,_)}for(const u of t)o.rc.has(u)&&(yield zu(o.localStore,u,!1).then(()=>{bd(o.remoteStore,u),xd(o,u)}).catch(Yr))}}),$c.apply(this,arguments)}function Zu(r){const e=hn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xg.bind(null,e),e.sc.Wo=Id.bind(null,e.eventManager),e.sc.wc=sy.bind(null,e.eventManager),e}function op(r){const e=hn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dy.bind(null,e),e}class kg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,f.Z)(function*(){t.It=Fc(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Hm(this.persistence,new Bm,e.initialUser,this.It)}yc(e){return new ag(gd.Bs,this.It)}gc(e){return new Ch}terminate(){var e=this;return(0,f.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Lg extends kg{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield op(o.Ac.syncEngine),yield fc(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Hm(this.persistence,new Bm,e.initialUser,this.It)}Tc(e,t){return new Ml(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new Va(t,this.persistence);return new ba(e.asyncQueue,o)}yc(e){const t=dg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Sa.withCacheSize(this.cacheSizeBytes):Sa.DEFAULT;return new cg(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Zm(),vd(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Ch}}class ap extends Lg{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield t().call(o,e);const u=o.Ac.syncEngine;o.sharedClientState instanceof wh&&(o.sharedClientState.syncEngine={Fr:Yv.bind(null,u),$r:gy.bind(null,u),Br:my.bind(null,u),vi:py.bind(null,u),Mr:Rg.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var p=(0,f.Z)(function*(_){yield function np(r,e){return ip.apply(this,arguments)}(o.Ac.syncEngine,_),o.gcScheduler&&(_&&!o.gcScheduler.started?o.gcScheduler.start():_||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(_&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():_||o.indexBackfillerScheduler.stop())});return function(_){return p.apply(this,arguments)}}())})()}gc(e){const t=Zm();if(!wh.C(t))throw new zt(Dt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=dg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wh(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class cl{initialize(e,t){var o=this;return(0,f.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Yf(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Rl.bind(null,o.syncEngine),yield Cg(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ry}createDatastore(e){const t=Fc(e.databaseInfo.databaseId),o=new gg(e.databaseInfo);return new Ya(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,p=A=>Yf(this.syncEngine,A,0),_=Mf.C()?new Mf:new Of,new Zv(t,o,u,p,_);var t,o,u,p,_}createSyncEngine(e,t){return function(o,u,p,_,A,j,K){const ye=new ay(o,u,p,_,A,j);return K&&(ye.dc=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,f.Z)(function*(t){const o=hn(t);Kt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield Uc(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yc(r,e,t){if(!t)throw new zt(Dt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Bo(r,e,t,o){if(!0===e&&!0===o)throw new zt(Dt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ku(r){if(!L.isDocumentKey(r))throw new zt(Dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Pd(r){if(L.isDocumentKey(r))throw new zt(Dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function fa(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Rn()}function Ki(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new zt(Dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fa(r);throw new zt(Dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function vc(r,e){if(e<=0)throw new zt(Dt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}const _c=new Map;class Ec{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new zt(Dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new zt(Dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Bo("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iu{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ec({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new zt(Dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new zt(Dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ec(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ja;switch(t.type){case"gapi":return new Xa(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new zt(Dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_c.get(e);t&&(Kt("ComponentProvider","Removing Datastore"),_c.delete(e),t.terminate())}(this),Promise.resolve()}}function bc(r,e,t,o={}){var u;const p=(r=Ki(r,iu))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&$i("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let _,A;if("string"==typeof o.mockUserToken)_=o.mockUserToken,A=ji.MOCK_USER;else{_=(0,ve.Sg)(o.mockUserToken,null===(u=r._app)||void 0===u?void 0:u.options.projectId);const j=o.mockUserToken.sub||o.mockUserToken.user_id;if(!j)throw new zt(Dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new ji(j)}r._authCredentials=new Qu(new Ra(_,A))}}class jr{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jr(this.firestore,e,this._key)}}class Gs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Gs(this.firestore,e,this._query)}}class pa extends Gs{constructor(e,t,o){super(e,t,du(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jr(this.firestore,null,new L(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function Gc(r,e,...t){if(r=(0,ve.m9)(r),yc("collection","path",e),r instanceof iu){const o=D.fromString(e,...t);return Pd(o),new pa(r,null,o)}{if(!(r instanceof jr||r instanceof pa))throw new zt(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(D.fromString(e,...t));return Pd(o),new pa(r.firestore,null,o)}}function Fg(r,e){if(r=Ki(r,iu),yc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new zt(Dt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Gs(r,null,(t=e,new qs(D.emptyPath(),t)));var t}function lp(r,e,...t){if(r=(0,ve.m9)(r),1===arguments.length&&(e=Gi.R()),yc("doc","path",e),r instanceof iu){const o=D.fromString(e,...t);return Ku(o),new jr(r,null,new L(o))}{if(!(r instanceof jr||r instanceof pa))throw new zt(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(D.fromString(e,...t));return Ku(o),new jr(r.firestore,r instanceof pa?r.converter:null,new L(o))}}function Vg(r,e){return r=(0,ve.m9)(r),e=(0,ve.m9)(e),(r instanceof jr||r instanceof pa)&&(e instanceof jr||e instanceof pa)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Bh(r,e){return r=(0,ve.m9)(r),e=(0,ve.m9)(e),r instanceof Gs&&e instanceof Gs&&r.firestore===e.firestore&&oo(r._query,e._query)&&r.converter===e.converter}function up(r,e=10240){let t=0;return{read:()=>(0,f.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,f.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Rd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ug{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new fr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.ku)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,f.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,f.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,f.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const o=e.vc.decode(t),u=Number(o);isNaN(u)&&e.Dc(`length string (${o}) is not valid number`);const p=yield e.Cc(u);return new Dg(JSON.parse(p),t.length+u)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,f.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Cc(e){var t=this;return(0,f.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const o=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,f.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Hg{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,f.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new zt(Dt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,f.Z)(function*(p,_){const A=hn(p),j=De(A.It)+"/documents",K={documents:_.map(jt=>g(A.It,jt))},ye=yield A._o("BatchGetDocuments",j,K,_.length),He=new Map;ye.forEach(jt=>{const en=function Cn(r,e){return"found"in e?function(t,o){Sn(!!o.found);const u=T(t,o.found.name),p=E(o.found.updateTime),_=new U({mapValue:{fields:o.found.fields}});return Ie.newFoundDocument(u,p,_)}(r,e):"missing"in e?function(t,o){Sn(!!o.missing),Sn(!!o.readTime);const u=T(t,o.missing),p=E(o.readTime);return Ie.newNoDocument(u,p)}(r,e):Rn()}(A.It,jt);He.set(en.key.toString(),en)});const yt=[];return _.forEach(jt=>{const en=He.get(jt.toString());Sn(!!en),yt.push(en)}),yt}),function(p,_){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ge(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,f.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const p=L.fromPath(u);e.mutations.push(new ct(p,e.precondition(p)))}),yield(o=(0,f.Z)(function*(u,p){const _=hn(u),A=De(_.It)+"/documents",j={writes:p.map(K=>si(_.It,K))};yield _.ao("Commit",A,j)}),function(u,p){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Rn();t=Xn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new zt(Dt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Xn.min())?kr.exists(!1):kr.updateTime(t):kr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Xn.min()))throw new zt(Dt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kr.updateTime(t)}return kr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _y{constructor(e,t,o,u,p){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=p,this.kc=o.maxAttempts,this.xo=new Pf(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,f.Z)(function*(){const t=new Hg(e.datastore),o=e.Mc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(p=>{e.Fc(p)}))}).catch(u=>{e.Fc(u)})}))}Mc(e){try{const t=this.updateFunction(e);return!Po(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ri(t)}return!1}}class jg{constructor(e,t,o,u){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=ji.UNAUTHENTICATED,this.clientId=Gi.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var _=(0,f.Z)(function*(A){Kt("FirestoreClient","Received user=",A.uid),yield p.authCredentialListener(A),p.user=A});return function(A){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(o,_=>(Kt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,f.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new zt(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=gc(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function cp(r,e){return dp.apply(this,arguments)}function dp(){return dp=(0,f.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Kt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var u=(0,f.Z)(function*(p){o.isEqual(p)||(yield jm(e.localStore,p),o=p)});return function(p){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),dp.apply(this,arguments)}function $g(r,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,f.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield hp(r);Kt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(u=>ny(e.remoteStore,u)),r.setAppCheckTokenChangeListener((u,p)=>ny(e.remoteStore,p)),r.onlineComponents=e}),Hh.apply(this,arguments)}function hp(r){return jh.apply(this,arguments)}function jh(){return jh=(0,f.Z)(function*(r){return r.offlineComponents||(Kt("FirestoreClient","Using default OfflineComponentProvider"),yield cp(r,new kg)),r.offlineComponents}),jh.apply(this,arguments)}function $h(r){return fp.apply(this,arguments)}function fp(){return fp=(0,f.Z)(function*(r){return r.onlineComponents||(Kt("FirestoreClient","Using default OnlineComponentProvider"),yield $g(r,new cl)),r.onlineComponents}),fp.apply(this,arguments)}function Ey(r){return hp(r).then(e=>e.persistence)}function Gh(r){return hp(r).then(e=>e.localStore)}function Nd(r){return $h(r).then(e=>e.remoteStore)}function kd(r){return $h(r).then(e=>e.syncEngine)}function Ld(r){return zg.apply(this,arguments)}function zg(){return zg=(0,f.Z)(function*(r){const e=yield $h(r),t=e.eventManager;return t.onListen=ly.bind(null,e.syncEngine),t.onUnlisten=uy.bind(null,e.syncEngine),t}),zg.apply(this,arguments)}function wy(r,e,t={}){const o=new fr;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(u,p,_,A,j){const K=new Rd({next:He=>{p.enqueueAndForget(()=>Oh(u,ye));const yt=He.docs.has(_);!yt&&He.fromCache?j.reject(new zt(Dt.UNAVAILABLE,"Failed to get document because the client is offline.")):yt&&He.fromCache&&A&&"server"===A.source?j.reject(new zt(Dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(He)},error:He=>j.reject(He)}),ye=new Mh(du(_.path),K,{includeMetadataChanges:!0,Nu:!0});return Tg(u,ye)}(yield Ld(r),r.asyncQueue,e,t,o)})),o.promise}function wc(r,e,t={}){const o=new fr;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(u,p,_,A,j){const K=new Rd({next:He=>{p.enqueueAndForget(()=>Oh(u,ye)),He.fromCache&&"server"===A.source?j.reject(new zt(Dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(He)},error:He=>j.reject(He)}),ye=new Mh(_,K,{includeMetadataChanges:!0,Nu:!0});return Tg(u,ye)}(yield Ld(r),r.asyncQueue,e,t,o)})),o.promise}class Kg{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Pf(this,"async_queue_retry"),this.Wc=()=>{const t=vd();t&&Kt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=vd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=vd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new fr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,f.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Ks(t))throw t;Kt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,tr("INTERNAL UNHANDLED ERROR: ",function(p){let _=p.message||"";return p.stack&&(_=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),_}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=xh.createAndSchedule(this,e,t,o,p=>this.Yc(p));return this.qc.push(u),u}zc(){this.Kc&&Rn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,f.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function zc(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(r)}class Iy{constructor(){this._progressObserver={},this._taskCompletionResolver=new fr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const qg=-1;class as extends iu{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new Kg,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Yg(this),this._firestoreClient.terminate()}}function zs(r){return r._firestoreClient||Yg(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Yg(r){var e;const t=r._freezeSettings(),o=(p=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new wa(r._databaseId,p,r._persistenceKey,(A=t).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,A.useFetchStreams));var p,A;r._firestoreClient=new jg(r._authCredentials,r._appCheckCredentials,r._queue,o)}function Qg(r,e){yp(r=Ki(r,as));const t=zs(r),o=r._freezeSettings(),u=new cl;return pp(t,u,new Lg(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Sy(r){yp(r=Ki(r,as));const e=zs(r),t=r._freezeSettings(),o=new cl;return pp(e,o,new ap(o,t.cacheSizeBytes))}function pp(r,e,t){const o=new fr;return r.asyncQueue.enqueue((0,f.Z)(function*(){try{yield cp(r,t),yield $g(r,e),o.resolve()}catch(u){const p=u;if(!("FirebaseError"===(_=p).name?_.code===Dt.FAILED_PRECONDITION||_.code===Dt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw p;$i("Error enabling offline persistence. Falling back to persistence disabled: "+p),o.reject(p)}var _})).then(()=>o.promise)}function Jg(r){if(r._initialized&&!r._terminated)throw new zt(Dt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new fr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{yield(t=(0,f.Z)(function*(o){if(!Xs.C())return Promise.resolve();const u=o+"main";yield Xs.delete(u)}),function(o){return t.apply(this,arguments)})(dg(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function gp(r){return function(e){const t=new fr;return e.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Kv(r,e){return kh.apply(this,arguments)}(yield kd(e),t)})),t.promise}(zs(r=Ki(r,as)))}function e_(r){return function Qv(r){return r.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Ey(r),t=yield Nd(r);return e.setNetworkEnabled(!0),function(o){const u=hn(o);return u._u.delete(0),Vc(u)}(t)}))}(zs(r=Ki(r,as)))}function mp(r){return function by(r){return r.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Ey(r),t=yield Nd(r);return e.setNetworkEnabled(!1),(o=(0,f.Z)(function*(u){const p=hn(u);p._u.add(0),yield Uc(p),p.gu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(zs(r=Ki(r,as)))}function n_(r,e){const t=zs(r=Ki(r,as)),o=new Iy;return function Zg(r,e,t,o){const u=function(p,_){let A;return A="string"==typeof p?(new TextEncoder).encode(p):p,j=function(j,K){if(j instanceof Uint8Array)return up(j,K);if(j instanceof ArrayBuffer)return up(new Uint8Array(j),K);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),new Ug(j,_);var j}(t,Fc(e));r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){!function Md(r,e,t){const o=hn(r);var u;(u=(0,f.Z)(function*(p,_,A){try{const j=yield _.getMetadata();if(yield function(yt,jt){const en=hn(yt),An=E(jt.createTime);return en.persistence.runTransaction("hasNewerBundle","readonly",kn=>en.Ns.getBundleMetadata(kn,jt.id)).then(kn=>!!kn&&kn.createTime.compareTo(An)>=0)}(p.localStore,j))return yield _.close(),A._completeWith({taskState:"Success",documentsLoaded:(yt=j).totalDocuments,bytesLoaded:yt.totalBytes,totalDocuments:yt.totalDocuments,totalBytes:yt.totalBytes}),Promise.resolve(new Set);A._updateProgress(Ph(j));const K=new oy(j,p.localStore,_.It);let ye=yield _.mc();for(;ye;){const yt=yield K.Fu(ye);yt&&A._updateProgress(yt),ye=yield _.mc()}const He=yield K.complete();return yield nu(p,He.Lu,void 0),yield function(yt,jt){const en=hn(yt);return en.persistence.runTransaction("Save bundle","readwrite",An=>en.Ns.saveBundleMetadata(An,jt))}(p.localStore,j),A._completeWith(He.progress),Promise.resolve(He.Bu)}catch(j){return $i("SyncEngine",`Loading bundle failed with ${j}`),A._failWith(j),Promise.resolve(new Set)}var yt}),function(p,_,A){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield kd(r),u,o)}))}(t,r._databaseId,e,o),o}function Fd(r,e){return function Dy(r,e){return r.asyncQueue.enqueue((0,f.Z)(function*(){return function(t,o){const u=hn(t);return u.persistence.runTransaction("Get named query","readonly",p=>u.Ns.getNamedQuery(p,o))}(yield Gh(r),e)}))}(zs(r=Ki(r,as)),e).then(t=>t?new Gs(r,null,t.query):null)}function yp(r){if(r._initialized||r._terminated)throw new zt(Dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ru(Nr.fromBase64String(e))}catch(t){throw new zt(Dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ru(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class su{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new zt(Dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new k(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ou{constructor(e){this._methodName=e}}class Cc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new zt(Dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new zt(Dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ni(this._lat,e._lat)||ni(this._long,e._long)}}const vp=/^__.*__$/;class r_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new m(e,this.data,this.fieldMask,t,this.fieldTransforms):new C(e,this.data,t,this.fieldTransforms)}}class Xg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new m(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Vd(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rn()}}class Tc{constructor(e,t,o,u,p,_){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=u,void 0===p&&this.na(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Tc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Gd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Vd(this.sa)&&vp.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class _p{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||Fc(e)}da(e,t,o,u=!1){return new Tc({sa:e,methodName:t,fa:o,path:k.emptyPath(),oa:!1,la:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function qu(r){const e=r._freezeSettings(),t=Fc(r._databaseId);return new _p(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Wc(r,e,t,o,u,p={}){const _=r.da(p.merge||p.mergeFields?2:0,e,t,u);Hd("Data must be an object, but it was:",_,o);const A=wp(o,_);let j,K;if(p.merge)j=new no(_.fieldMask),K=_.fieldTransforms;else if(p.mergeFields){const ye=[];for(const He of p.mergeFields){const yt=jd(e,He,t);if(!_.contains(yt))throw new zt(Dt.INVALID_ARGUMENT,`Field '${yt}' is specified in your field mask but missing from your input data.`);Dp(ye,yt)||ye.push(yt)}j=new no(ye),K=_.fieldTransforms.filter(He=>j.covers(He.field))}else j=null,K=_.fieldTransforms;return new r_(new U(A),j,K)}class Zc extends ou{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zc}}function Ep(r,e,t){return new Tc({sa:3,fa:e.settings.fa,methodName:r._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Ud extends ou{_toFieldTransform(e){return new Gl(e.path,new $l)}isEqual(e){return e instanceof Ud}}class em extends ou{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Ep(this,e,!0),o=this._a.map(p=>Dc(p,t)),u=new an(o);return new Gl(e.path,u)}isEqual(e){return this===e}}class Ay extends ou{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Ep(this,e,!0),o=this._a.map(p=>Dc(p,t)),u=new yo(o);return new Gl(e.path,u)}isEqual(e){return this===e}}class tm extends ou{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new El(e.It,fu(e.It,this.wa));return new Gl(e.path,t)}isEqual(e){return this===e}}function zh(r,e,t,o){const u=r.da(1,e,t);Hd("Data must be an object, but it was:",u,o);const p=[],_=U.empty();Ua(o,(j,K)=>{const ye=$d(e,j,t);K=(0,ve.m9)(K);const He=u.ca(ye);if(K instanceof Zc)p.push(ye);else{const yt=Dc(K,He);null!=yt&&(p.push(ye),_.set(ye,yt))}});const A=new no(p);return new Xg(_,A,u.fieldTransforms)}function Bd(r,e,t,o,u,p){const _=r.da(1,e,t),A=[jd(e,o,t)],j=[u];if(p.length%2!=0)throw new zt(Dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let yt=0;yt<p.length;yt+=2)A.push(jd(e,p[yt])),j.push(p[yt+1]);const K=[],ye=U.empty();for(let yt=A.length-1;yt>=0;--yt)if(!Dp(K,A[yt])){const jt=A[yt];let en=j[yt];en=(0,ve.m9)(en);const An=_.ca(jt);if(en instanceof Zc)K.push(jt);else{const kn=Dc(en,An);null!=kn&&(K.push(jt),ye.set(jt,kn))}}const He=new no(K);return new Xg(ye,He,_.fieldTransforms)}function bp(r,e,t,o=!1){return Dc(t,r.da(o?4:3,e))}function Dc(r,e){if(Cp(r=(0,ve.m9)(r)))return Hd("Unsupported field value:",e,r),wp(r,e);if(r instanceof ou)return function(t,o){if(!Vd(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const u=[];let p=0;for(const _ of t){let A=Dc(_,o.aa(p));null==A&&(A={nullValue:"NULL_VALUE"}),u.push(A),p++}return{arrayValue:{values:u}}}(r,e)}return function(t,o){if(null===(t=(0,ve.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fu(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Zi.fromDate(t);return{timestampValue:Fu(o.It,u)}}if(t instanceof Zi){const u=new Zi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Fu(o.It,u)}}if(t instanceof Cc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ru)return{bytesValue:sd(o.It,t._byteString)};if(t instanceof jr){const u=o.databaseId,p=t.firestore._databaseId;if(!p.isEqual(u))throw o.ha(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:c(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${fa(t)}`)}(r,e)}function wp(r,e){const t={};return Ou(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ua(r,(o,u)=>{const p=Dc(u,e.ra(o));null!=p&&(t[o]=p)}),{mapValue:{fields:t}}}function Cp(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Zi||r instanceof Cc||r instanceof ru||r instanceof jr||r instanceof ou)}function Hd(r,e,t){if(!Cp(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=fa(t);throw e.ha("an object"===o?r+" a custom object":r+" "+o)}var o}function jd(r,e,t){if((e=(0,ve.m9)(e))instanceof su)return e._internalPath;if("string"==typeof e)return $d(r,e);throw Gd("Field path arguments must be of type string or ",r,!1,void 0,t)}const Tp=new RegExp("[~\\*/\\[\\]]");function $d(r,e,t){if(e.search(Tp)>=0)throw Gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new su(...e.split("."))._internalPath}catch(o){throw Gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Gd(r,e,t,o,u){const p=o&&!o.isEmpty(),_=void 0!==u;let A=`Function ${e}() called with invalid data`;t&&(A+=" (via `toFirestore()`)"),A+=". ";let j="";return(p||_)&&(j+=" (found",p&&(j+=` in field ${o}`),_&&(j+=` in document ${u}`),j+=")"),new zt(Dt.INVALID_ARGUMENT,A+r+j)}function Dp(r,e){return r.some(t=>t.isEqual(e))}class Kc{constructor(e,t,o,u,p){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new jr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nm extends Kc{data(){return super.data()}}function zd(r,e){return"string"==typeof e?$d(r,e):e instanceof su?e._internalPath:e._delegate._internalPath}function Ip(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new zt(Dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wh{}function xy(r,...e){for(const t of e)r=t._apply(r);return r}class Oy extends Wh{constructor(e,t,o){super(),this.ma=e,this.ga=t,this.ya=o,this.type="where"}_apply(e){const t=qu(e.firestore),o=function(u,p,_,A,j,K,ye){let He;if(j.isKeyField()){if("array-contains"===K||"array-contains-any"===K)throw new zt(Dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${K}' queries on documentId().`);if("in"===K||"not-in"===K){om(ye,K);const jt=[];for(const en of ye)jt.push(Op(A,u,en));He={arrayValue:{values:jt}}}else He=Op(A,u,ye)}else"in"!==K&&"not-in"!==K&&"array-contains-any"!==K||om(ye,K),He=bp(_,"where",ye,"in"===K||"not-in"===K);const yt=Yi.create(j,K,He);return function(jt,en){if(en.dt()){const kn=Bl(jt);if(null!==kn&&!kn.isEqual(en.field))throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${kn.toString()}' and '${en.field.toString()}'`);const cr=xc(jt);null!==cr&&Mp(0,en.field,cr)}const An=function(kn,cr){for(const $r of kn.filters)if(cr.indexOf($r.op)>=0)return $r.op;return null}(jt,function(kn){switch(kn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(en.op));if(null!==An)throw new zt(Dt.INVALID_ARGUMENT,An===en.op?`Invalid query. You cannot use more than one '${en.op.toString()}' filter.`:`Invalid query. You cannot use '${en.op.toString()}' filters with '${An.toString()}' filters.`)}(u,yt),yt}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Gs(e.firestore,e.converter,function(u,p){const _=u.filters.concat([p]);return new qs(u.path,u.collectionGroup,u.explicitOrderBy.slice(),_,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}function im(r,e,t){const o=e,u=zd("where",r);return new Oy(u,o,t)}class My extends Wh{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(o,u,p){if(null!==o.startAt)throw new zt(Dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new zt(Dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new Ka(u,p);return function(A,j){if(null===xc(A)){const K=Bl(A);null!==K&&Mp(0,K,j.field)}}(o,_),_}(e._query,this.ma,this.pa);return new Gs(e.firestore,e.converter,function(o,u){const p=o.explicitOrderBy.concat([u]);return new qs(o.path,o.collectionGroup,p,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function ao(r,e="asc"){const t=e,o=zd("orderBy",r);return new My(o,t)}class Sp extends Wh{constructor(e,t,o){super(),this.type=e,this.Ia=t,this.Ta=o}_apply(e){return new Gs(e.firestore,e.converter,da(e._query,this.Ia,this.Ta))}}function Py(r){return vc("limit",r),new Sp("limit",r,"F")}function Ry(r){return vc("limitToLast",r),new Sp("limitToLast",r,"L")}class Ap extends Wh{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=sm(e,this.type,this.Ea,this.Aa);return new Gs(e.firestore,e.converter,(u=t,new qs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function Ny(...r){return new Ap("startAt",r,!0)}function rm(...r){return new Ap("startAfter",r,!1)}class xp extends Wh{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=sm(e,this.type,this.Ea,this.Aa);return new Gs(e.firestore,e.converter,(u=t,new qs((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function qc(...r){return new xp("endBefore",r,!1)}function ky(...r){return new xp("endAt",r,!0)}function sm(r,e,t,o){if(t[0]=(0,ve.m9)(t[0]),t[0]instanceof Kc)return function(u,p,_,A,j){if(!A)throw new zt(Dt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const K=[];for(const ye of Hl(u))if(ye.field.isKeyField())K.push(ua(p,A.key));else{const He=A.data.field(ye.field);if(Ls(He))throw new zt(Dt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===He){const yt=ye.field.canonicalString();throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${yt}' (used as the orderBy) does not exist.`)}K.push(He)}return new ro(K,j)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const u=qu(r.firestore);return function(p,_,A,j,K,ye){const He=p.explicitOrderBy;if(K.length>He.length)throw new zt(Dt.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const yt=[];for(let jt=0;jt<K.length;jt++){const en=K[jt];if(He[jt].field.isKeyField()){if("string"!=typeof en)throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof en}`);if(!Lo(p)&&-1!==en.indexOf("/"))throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${en}' contains a slash.`);const An=p.path.child(D.fromString(en));if(!L.isDocumentKey(An))throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${An}' is not because it contains an odd number of segments.`);const kn=new L(An);yt.push(ua(_,kn))}else{const An=bp(A,j,en);yt.push(An)}}return new ro(yt,ye)}(r._query,r.firestore._databaseId,u,e,t,o)}}function Op(r,e,t){if("string"==typeof(t=(0,ve.m9)(t))){if(""===t)throw new zt(Dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lo(e)&&-1!==t.indexOf("/"))throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(D.fromString(t));if(!L.isDocumentKey(o))throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ua(r,new L(o))}if(t instanceof jr)return ua(r,t._key);throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fa(t)}.`)}function om(r,e){if(!Array.isArray(r)||0===r.length)throw new zt(Dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new zt(Dt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Mp(r,e,t){if(!t.isEqual(e))throw new zt(Dt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class am{convertValue(e,t="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rn()}}convertObject(e,t){const o={};return Ua(e.fields,(u,p)=>{o[u]=this.convertValue(p,t)}),o}convertGeoPoint(e){return new Cc(Er(e.latitude),Er(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=uu(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(qo(e));default:return null}}convertTimestamp(e){const t=Ha(e);return new Zi(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=D.fromString(e);Sn(Vu(o));const u=new _s(o.get(1),o.get(3)),p=new L(o.popFirst(5));return u.isEqual(t)||tr(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function Yc(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class Pp extends am{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jr(this.firestore,null,t)}}class Ho{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ic extends Kc{constructor(e,t,o,u,p,_){super(e,t,o,u,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(zd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Qc extends Ic{data(e={}){return super.data(e)}}class ea{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Ho(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Qc(this._firestore,this._userDataWriter,o.key,o,new Ho(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new zt(Dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let p=0;return o._snapshot.docChanges.map(_=>({type:"added",doc:new Qc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new Ho(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:p++}))}{let p=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(_=>u||3!==_.type).map(_=>{const A=new Qc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new Ho(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let j=-1,K=-1;return 0!==_.type&&(j=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),1!==_.type&&(p=p.add(_.doc),K=p.indexOf(_.doc.key)),{type:Nl(_.type),doc:A,oldIndex:j,newIndex:K}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Nl(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rn()}}function kl(r,e){return r instanceof Ic&&e instanceof Ic?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof ea&&e instanceof ea&&r._firestore===e._firestore&&Bh(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function lm(r){r=Ki(r,jr);const e=Ki(r.firestore,as);return wy(zs(e),r._key).then(t=>Np(e,r,t))}class Su extends am{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jr(this.firestore,null,t)}}function Ly(r){r=Ki(r,jr);const e=Ki(r.firestore,as),t=zs(e),o=new Su(e);return function Wg(r,e){const t=new fr;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(u,p,_){try{const A=yield function(j,K){const ye=hn(j);return ye.persistence.runTransaction("read document","readonly",He=>ye.localDocuments.getDocument(He,K))}(u,p);A.isFoundDocument()?_.resolve(A):A.isNoDocument()?_.resolve(null):_.reject(new zt(Dt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(A){const j=gc(A,`Failed to get document '${p} from cache`);_.reject(j)}}),function(u,p,_){return o.apply(this,arguments)})(yield Gh(r),e,t);var o})),t.promise}(t,r._key).then(u=>new Ic(e,o,r._key,u,new Ho(null!==u&&u.hasLocalMutations,!0),r.converter))}function Fy(r){r=Ki(r,jr);const e=Ki(r.firestore,as);return wy(zs(e),r._key,{source:"server"}).then(t=>Np(e,r,t))}function Vy(r){r=Ki(r,Gs);const e=Ki(r.firestore,as),t=zs(e),o=new Su(e);return Ip(r._query),wc(t,r._query).then(u=>new ea(e,o,r,u))}function Uy(r){r=Ki(r,Gs);const e=Ki(r.firestore,as),t=zs(e),o=new Su(e);return function Cy(r,e){const t=new fr;return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(u,p,_){try{const A=yield Pl(u,p,!0),j=new zf(p,A.Hi),K=j.Wu(A.documents),ye=j.applyChanges(K,!1);_.resolve(ye.snapshot)}catch(A){const j=gc(A,`Failed to execute query '${p} against cache`);_.reject(j)}}),function(u,p,_){return o.apply(this,arguments)})(yield Gh(r),e,t);var o})),t.promise}(t,r._query).then(u=>new ea(e,o,r,u))}function Rp(r){r=Ki(r,Gs);const e=Ki(r.firestore,as),t=zs(e),o=new Su(e);return wc(t,r._query,{source:"server"}).then(u=>new ea(e,o,r,u))}function Wd(r,e,t){r=Ki(r,jr);const o=Ki(r.firestore,as),u=Yc(r.converter,e,t);return Au(o,[Wc(qu(o),"setDoc",r._key,u,null!==r.converter,t).toMutation(r._key,kr.none())])}function By(r,e,t,...o){r=Ki(r,jr);const u=Ki(r.firestore,as),p=qu(u);let _;return _="string"==typeof(e=(0,ve.m9)(e))||e instanceof su?Bd(p,"updateDoc",r._key,e,t,o):zh(p,"updateDoc",r._key,e),Au(u,[_.toMutation(r._key,kr.exists(!0))])}function um(r){return Au(Ki(r.firestore,as),[new ge(r._key,kr.none())])}function Hy(r,e){const t=Ki(r.firestore,as),o=lp(r),u=Yc(r.converter,e);return Au(t,[Wc(qu(r.firestore),"addDoc",o._key,u,null!==r.converter,{}).toMutation(o._key,kr.exists(!1))]).then(()=>o)}function cm(r,...e){var t,o,u;r=(0,ve.m9)(r);let p={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||zc(e[_])||(p=e[_],_++);const A={includeMetadataChanges:p.includeMetadataChanges};if(zc(e[_])){const He=e[_];e[_]=null===(t=He.next)||void 0===t?void 0:t.bind(He),e[_+1]=null===(o=He.error)||void 0===o?void 0:o.bind(He),e[_+2]=null===(u=He.complete)||void 0===u?void 0:u.bind(He)}let j,K,ye;if(r instanceof jr)K=Ki(r.firestore,as),ye=du(r._key.path),j={next:He=>{e[_]&&e[_](Np(K,r,He))},error:e[_+1],complete:e[_+2]};else{const He=Ki(r,Gs);K=Ki(He.firestore,as),ye=He._query;const yt=new Su(K);j={next:jt=>{e[_]&&e[_](new ea(K,yt,He,jt))},error:e[_+1],complete:e[_+2]},Ip(r._query)}return function(He,yt,jt,en){const An=new Rd(en),kn=new Mh(yt,An,jt);return He.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return Tg(yield Ld(He),kn)})),()=>{An.bc(),He.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return Oh(yield Ld(He),kn)}))}}(zs(K),ye,A,j)}function dm(r,e){return function Ty(r,e){const t=new Rd(e);return r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return o=yield Ld(r),u=t,hn(o).Ru.add(u),void u.next();var o,u})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return o=yield Ld(r),u=t,void hn(o).Ru.delete(u);var o,u}))}}(zs(r=Ki(r,as)),zc(e)?e:{next:e})}function Au(r,e){return function(t,o){const u=new fr;return t.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function tu(r,e,t){return Ad.apply(this,arguments)}(yield kd(t),o,u)})),u.promise}(zs(r),e)}function Np(r,e,t){const o=t.docs.get(e._key),u=new Su(r);return new Ic(r,u,e._key,o,new Ho(t.hasPendingWrites,t.fromCache),e.converter)}const kp={maxAttempts:5};class Zd{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qu(e)}set(e,t,o){this._verifyNotCommitted();const u=au(e,this._firestore),p=Yc(u.converter,t,o),_=Wc(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,o);return this._mutations.push(_.toMutation(u._key,kr.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const p=au(e,this._firestore);let _;return _="string"==typeof(t=(0,ve.m9)(t))||t instanceof su?Bd(this._dataReader,"WriteBatch.update",p._key,t,o,u):zh(this._dataReader,"WriteBatch.update",p._key,t),this._mutations.push(_.toMutation(p._key,kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=au(e,this._firestore);return this._mutations=this._mutations.concat(new ge(t._key,kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new zt(Dt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function au(r,e){if((r=(0,ve.m9)(r)).firestore!==e)throw new zt(Dt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Lp extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qu(e)}get(e){const t=au(e,this._firestore),o=new Pp(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return Rn();const p=u[0];if(p.isFoundDocument())return new Kc(this._firestore,o,p.key,p,t.converter);if(p.isNoDocument())return new Kc(this._firestore,o,t._key,null,t.converter);throw Rn()})}set(e,t,o){const u=au(e,this._firestore),p=Yc(u.converter,t,o),_=Wc(this._dataReader,"Transaction.set",u._key,p,null!==u.converter,o);return this._transaction.set(u._key,_),this}update(e,t,o,...u){const p=au(e,this._firestore);let _;return _="string"==typeof(t=(0,ve.m9)(t))||t instanceof su?Bd(this._dataReader,"Transaction.update",p._key,t,o,u):zh(this._dataReader,"Transaction.update",p._key,t),this._transaction.update(p._key,_),this}delete(e){const t=au(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=au(e,this._firestore),o=new Su(this._firestore);return super.get(e).then(u=>new Ic(this._firestore,o,t._key,u._document,new Ho(!1,!1),t.converter))}}function hm(r,e,t){r=Ki(r,as);const o=Object.assign(Object.assign({},kp),t);return function(u){if(u.maxAttempts<1)throw new zt(Dt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,p,_){const A=new fr;return u.asyncQueue.enqueueAndForget((0,f.Z)(function*(){const j=yield function Gg(r){return $h(r).then(e=>e.datastore)}(u);new _y(u.asyncQueue,j,_,p,A).run()})),A.promise}(zs(r),u=>e(new Lp(r,u)),o)}function fm(){return new Zc("deleteField")}function pm(){return new Ud("serverTimestamp")}function gm(...r){return new em("arrayUnion",r)}function mm(...r){return new Ay("arrayRemove",r)}function ym(r){return new tm("increment",r)}!function(r,e=!0){Is=h.SDK_VERSION,(0,h._registerComponent)(new G.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const p=t.getProvider("app").getImmediate(),_=new as(new ys(t.getProvider("auth-internal")),new rs(t.getProvider("app-check-internal")),function(A,j){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new zt(Dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _s(A.options.projectId,j)}(p,o),p);return u=Object.assign({useFetchStreams:e},u),_._setSettings(u),_},"PUBLIC").setMultipleInstances(!0)),(0,h.registerVersion)(lu,"3.7.3",r),(0,h.registerVersion)(lu,"3.7.3","esm2017")}()},2090:(qt,We,x)=>{x.d(We,{$s:()=>Ee,BH:()=>mt,G6:()=>Qe,L:()=>ue,LL:()=>Rt,Pz:()=>pt,Sg:()=>Q,UG:()=>lt,US:()=>Ne,ZB:()=>se,ZR:()=>qe,aH:()=>tn,b$:()=>dt,eu:()=>Y,hl:()=>bt,jU:()=>ut,m9:()=>Ft,ne:()=>Ge,pd:()=>Ot,r3:()=>Ai,ru:()=>ze,tV:()=>Z,uI:()=>ke,vZ:()=>Li,w1:()=>ft,xO:()=>Ui,xb:()=>bi,z$:()=>at,zI:()=>Je,zd:()=>yi});const Ce=function(he){const fe=[];let Me=0;for(let _e=0;_e<he.length;_e++){let X=he.charCodeAt(_e);X<128?fe[Me++]=X:X<2048?(fe[Me++]=X>>6|192,fe[Me++]=63&X|128):55296==(64512&X)&&_e+1<he.length&&56320==(64512&he.charCodeAt(_e+1))?(X=65536+((1023&X)<<10)+(1023&he.charCodeAt(++_e)),fe[Me++]=X>>18|240,fe[Me++]=X>>12&63|128,fe[Me++]=X>>6&63|128,fe[Me++]=63&X|128):(fe[Me++]=X>>12|224,fe[Me++]=X>>6&63|128,fe[Me++]=63&X|128)}return fe},Ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(he,fe){if(!Array.isArray(he))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Me=fe?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let X=0;X<he.length;X+=3){const $=he[X],ee=X+1<he.length,ne=ee?he[X+1]:0,xe=X+2<he.length,et=xe?he[X+2]:0;let bn=(15&ne)<<2|et>>6,vn=63&et;xe||(vn=64,ee||(bn=64)),_e.push(Me[$>>2],Me[(3&$)<<4|ne>>4],Me[bn],Me[vn])}return _e.join("")},encodeString(he,fe){return this.HAS_NATIVE_SUPPORT&&!fe?btoa(he):this.encodeByteArray(Ce(he),fe)},decodeString(he,fe){return this.HAS_NATIVE_SUPPORT&&!fe?atob(he):function(he){const fe=[];let Me=0,_e=0;for(;Me<he.length;){const X=he[Me++];if(X<128)fe[_e++]=String.fromCharCode(X);else if(X>191&&X<224){const $=he[Me++];fe[_e++]=String.fromCharCode((31&X)<<6|63&$)}else if(X>239&&X<365){const xe=((7&X)<<18|(63&he[Me++])<<12|(63&he[Me++])<<6|63&he[Me++])-65536;fe[_e++]=String.fromCharCode(55296+(xe>>10)),fe[_e++]=String.fromCharCode(56320+(1023&xe))}else{const $=he[Me++],ee=he[Me++];fe[_e++]=String.fromCharCode((15&X)<<12|(63&$)<<6|63&ee)}}return fe.join("")}(this.decodeStringToByteArray(he,fe))},decodeStringToByteArray(he,fe){this.init_();const Me=fe?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let X=0;X<he.length;){const $=Me[he.charAt(X++)],ne=X<he.length?Me[he.charAt(X)]:0;++X;const et=X<he.length?Me[he.charAt(X)]:64;++X;const Vt=X<he.length?Me[he.charAt(X)]:64;if(++X,null==$||null==ne||null==et||null==Vt)throw Error();_e.push($<<2|ne>>4),64!==et&&(_e.push(ne<<4&240|et>>2),64!==Vt&&_e.push(et<<6&192|Vt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let he=0;he<this.ENCODED_VALS.length;he++)this.byteToCharMap_[he]=this.ENCODED_VALS.charAt(he),this.charToByteMap_[this.byteToCharMap_[he]]=he,this.byteToCharMapWebSafe_[he]=this.ENCODED_VALS_WEBSAFE.charAt(he),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[he]]=he,he>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(he)]=he,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(he)]=he)}}},ue=function(he){return function(he){const fe=Ce(he);return Ne.encodeByteArray(fe,!0)}(he).replace(/\./g,"")},Z=function(he){try{return Ne.decodeString(he,!0)}catch(fe){console.error("base64Decode failed: ",fe)}return null};function se(he,fe){if(!(fe instanceof Object))return fe;switch(fe.constructor){case Date:return new Date(fe.getTime());case Object:void 0===he&&(he={});break;case Array:he=[];break;default:return fe}for(const Me in fe)!fe.hasOwnProperty(Me)||!Te(Me)||(he[Me]=se(he[Me],fe[Me]));return he}function Te(he){return"__proto__"!==he}function at(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function lt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(he){return!1}}function ut(){return"object"==typeof self&&self.self===self}function ze(){const he="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof he&&void 0!==he.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ft(){const he=at();return he.indexOf("MSIE ")>=0||he.indexOf("Trident/")>=0}function Qe(){return!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bt(){return"object"==typeof indexedDB}function Y(){return new Promise((he,fe)=>{try{let Me=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(_e);X.onsuccess=()=>{X.result.close(),Me||self.indexedDB.deleteDatabase(_e),he(!0)},X.onupgradeneeded=()=>{Me=!1},X.onerror=()=>{var $;fe((null===($=X.error)||void 0===$?void 0:$.message)||"")}}catch(Me){fe(Me)}})}function Je(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const it=()=>{try{return function nt(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const he=process.env.__FIREBASE_DEFAULTS__;return he?JSON.parse(he):void 0})()||(()=>{if("undefined"==typeof document)return;let he;try{he=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Me){return}const fe=he&&Z(he[1]);return fe&&JSON.parse(fe)})()}catch(he){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${he}`)}},tn=()=>{var he;return null===(he=it())||void 0===he?void 0:he.config},pt=he=>{var fe;return null===(fe=it())||void 0===fe?void 0:fe[`_${he}`]};class mt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((fe,Me)=>{this.resolve=fe,this.reject=Me})}wrapCallback(fe){return(Me,_e)=>{Me?this.reject(Me):this.resolve(_e),"function"==typeof fe&&(this.promise.catch(()=>{}),1===fe.length?fe(Me):fe(Me,_e))}}}function Q(he,fe){if(he.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=fe||"demo-project",X=he.iat||0,$=he.sub||he.user_id;if(!$)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:X,exp:X+3600,auth_time:X,sub:$,user_id:$,firebase:{sign_in_provider:"custom",identities:{}}},he);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(ee)),""].join(".")}class qe extends Error{constructor(fe,Me,_e){super(Me),this.code=fe,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rt.prototype.create)}}class Rt{constructor(fe,Me,_e){this.service=fe,this.serviceName=Me,this.errors=_e}create(fe,...Me){const _e=Me[0]||{},X=`${this.service}/${fe}`,$=this.errors[fe],ee=$?function Ht(he,fe){return he.replace(nn,(Me,_e)=>{const X=fe[_e];return null!=X?String(X):`<${_e}?>`})}($,_e):"Error";return new qe(X,`${this.serviceName}: ${ee} (${X}).`,_e)}}const nn=/\{\$([^}]+)}/g;function Ai(he,fe){return Object.prototype.hasOwnProperty.call(he,fe)}function bi(he){for(const fe in he)if(Object.prototype.hasOwnProperty.call(he,fe))return!1;return!0}function Li(he,fe){if(he===fe)return!0;const Me=Object.keys(he),_e=Object.keys(fe);for(const X of Me){if(!_e.includes(X))return!1;const $=he[X],ee=fe[X];if(ti($)&&ti(ee)){if(!Li($,ee))return!1}else if($!==ee)return!1}for(const X of _e)if(!Me.includes(X))return!1;return!0}function ti(he){return null!==he&&"object"==typeof he}function Ui(he){const fe=[];for(const[Me,_e]of Object.entries(he))Array.isArray(_e)?_e.forEach(X=>{fe.push(encodeURIComponent(Me)+"="+encodeURIComponent(X))}):fe.push(encodeURIComponent(Me)+"="+encodeURIComponent(_e));return fe.length?"&"+fe.join("&"):""}function yi(he){const fe={};return he.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[X,$]=_e.split("=");fe[decodeURIComponent(X)]=decodeURIComponent($)}}),fe}function Ot(he){const fe=he.indexOf("?");if(!fe)return"";const Me=he.indexOf("#",fe);return he.substring(fe,Me>0?Me:void 0)}function Ge(he,fe){const Me=new Ut(he,fe);return Me.subscribe.bind(Me)}class Ut{constructor(fe,Me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Me,this.task.then(()=>{fe(this)}).catch(_e=>{this.error(_e)})}next(fe){this.forEachObserver(Me=>{Me.next(fe)})}error(fe){this.forEachObserver(Me=>{Me.error(fe)}),this.close(fe)}complete(){this.forEachObserver(fe=>{fe.complete()}),this.close()}subscribe(fe,Me,_e){let X;if(void 0===fe&&void 0===Me&&void 0===_e)throw new Error("Missing Observer.");X=function Nt(he,fe){if("object"!=typeof he||null===he)return!1;for(const Me of fe)if(Me in he&&"function"==typeof he[Me])return!0;return!1}(fe,["next","error","complete"])?fe:{next:fe,error:Me,complete:_e},void 0===X.next&&(X.next=Zt),void 0===X.error&&(X.error=Zt),void 0===X.complete&&(X.complete=Zt);const $=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(ee){}}),this.observers.push(X),$}unsubscribeOne(fe){void 0===this.observers||void 0===this.observers[fe]||(delete this.observers[fe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(fe){if(!this.finalized)for(let Me=0;Me<this.observers.length;Me++)this.sendOne(Me,fe)}sendOne(fe,Me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[fe])try{Me(this.observers[fe])}catch(_e){"undefined"!=typeof console&&console.error&&console.error(_e)}})}close(fe){this.finalized||(this.finalized=!0,void 0!==fe&&(this.finalError=fe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zt(){}function Ee(he,fe=1e3,Me=2){const _e=fe*Math.pow(Me,he),X=Math.round(.5*_e*(Math.random()-.5)*2);return Math.min(144e5,_e+X)}function Ft(he){return he&&he._delegate?he._delegate:he}},5089:(qt,We,x)=>{x.d(We,{e:()=>Ne});var f=x(1135),h=x(4004),G=x(5e3),Ce=x(4965),ve=x(520);let Ne=(()=>{class me{constructor(Z,q){this.glopalService=Z,this.http=q,this.arealoading=!1,this.addressesLoading=!1,this.userProfile=new f.X(null),this.addresses=new f.X(null),this.areas=new f.X(null)}isLogin(){return!!localStorage.getItem("joinToken")}signupu(Z){return this.http.post(`${this.glopalService.apiUrlOne}signUp`,Z)}logIn(Z){return this.http.post(`${this.glopalService.apiUrlOne}logIn`,Z)}getUserProfile(){return this.http.get(`${this.glopalService.apiUrlOne}user/getProfile`).pipe((0,h.U)(Z=>Z.payload)).subscribe(Z=>this.userProfile.next(Z))}updateUserProfile(Z){return this.http.post(`${this.glopalService.apiUrlOne}user/updateProfile`,Z)}getAllAreas(){return this.arealoading=!0,this.http.get(`${this.glopalService.apiUrlOne}areaList`).pipe((0,h.U)(Z=>Z.payload)).subscribe(Z=>{this.areas.next(Z),this.arealoading=!1})}getAddress(Z){return this.addressesLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/list_address`,{user_id:Z}).pipe((0,h.U)(q=>q.payload)).subscribe(q=>{this.addresses.next(q),this.addressesLoading=!1})}addAddress(Z){return this.http.post(`${this.glopalService.apiUrlOne}user/add_address`,Z)}deleteAddress(Z){return this.http.post(`${this.glopalService.apiUrlOne}user/delete_address`,{address_id:Z})}updateAddres(Z){return this.http.post(`${this.glopalService.apiUrlOne}user/edit_address`,Z)}resetPassword(Z){return this.http.post(`${this.glopalService.apiUrlOne}resetPassword`,Z)}}return me.\u0275fac=function(Z){return new(Z||me)(G.LFG(Ce.W),G.LFG(ve.eN))},me.\u0275prov=G.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},2169:(qt,We,x)=>{x.d(We,{Y:()=>Ne});var f=x(1135),h=x(4004),G=x(5e3),Ce=x(520),ve=x(4965);let Ne=(()=>{class me{constructor(Z,q){this.http=Z,this.glopalService=q,this.activities=new f.X([]),this.clups=new f.X([]),this.intersts=new f.X([]),this.activitiesLoading=!0,this.clupsLoading=!0,this.interistsLoading=!1,this.ActivitiesRequestComplete=!1}getTopSliderGuest(){return this.http.post(`${this.glopalService.apiUrlOne}promoBannerOpen`,{})}getTopSliderUser(){return this.http.post(`${this.glopalService.apiUrlOne}user/promoBanner`,{})}getActivitiesGuest(Z){return this.activitiesLoading=!0,this.ActivitiesRequestComplete=!1,this.http.post(`${this.glopalService.apiUrlOne}getActivityListWeb`,{activity_type:"DATE",limit:10,page:Z}).pipe((0,h.U)(se=>se.payload)).subscribe(se=>{Array.isArray(se)?this.activities.next(se):this.activities.next([]),this.activitiesLoading=!1,this.ActivitiesRequestComplete=!0})}getActivitiesUser(Z){return this.activities.next([]),this.ActivitiesRequestComplete=!1,this.activitiesLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/getActivityList`,{activity_type:"DATE",limit:10,page:Z}).pipe((0,h.U)(se=>se.payload)).subscribe(se=>{Array.isArray(se)?this.activities.next(se):this.activities.next([]),this.activitiesLoading=!1,this.ActivitiesRequestComplete=!0})}getClupsGuest(){return this.clupsLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}getClubListWeb`,{}).pipe((0,h.U)(Z=>Z.payload)).subscribe(Z=>{Array.isArray(Z)?this.clups.next(Z):this.clups.next([]),this.clupsLoading=!1})}getClupsUser(){return this.clupsLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/getClubList`,{}).pipe((0,h.U)(Z=>Z.payload)).subscribe(Z=>{Array.isArray(Z)?this.clups.next(Z):this.clups.next([]),this.clupsLoading=!1})}getIntersts(){return this.intersts.next([]),this.interistsLoading=!0,this.http.get(`${this.glopalService.apiUrlOne}interestsList`).pipe((0,h.U)(Z=>Z.payload)).subscribe(Z=>{Array.isArray(Z)?this.intersts.next(Z):this.intersts.next([]),this.interistsLoading=!1})}getPopular(){return this.http.get(`${this.glopalService.apiUrlOne}mostSelling`).pipe((0,h.U)(Z=>Array.isArray(Z.payload)?Z.payload:[]))}}return me.\u0275fac=function(Z){return new(Z||me)(G.LFG(Ce.eN),G.LFG(ve.W))},me.\u0275prov=G.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},1408:(qt,We,x)=>{x.d(We,{Z:()=>Ne});var f=x(1135),h=x(4004),G=x(5e3),Ce=x(520),ve=x(4965);let Ne=(()=>{class me{constructor(Z,q){this.http=Z,this.glopalService=q,this.members=new f.X(null),this.membersLoading=!1}getAllMembers(){return this.membersLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/userChildDetails`,{}).pipe((0,h.U)(Z=>{var q;return null===(q=null==Z?void 0:Z.payload)||void 0===q?void 0:q.child_data})).subscribe(Z=>{Array.isArray(Z)?this.members.next(Z):this.members.next([]),this.membersLoading=!1})}addMember(Z){return this.http.post(`${this.glopalService.apiUrlOne}user/addChild`,Z)}updateMember(Z){return this.http.post(`${this.glopalService.apiUrlOne}user/updateChild`,Z)}deleteMember(Z){return this.http.post(`${this.glopalService.apiUrlOne}user/removeChild`,{child_id:Z})}}return me.\u0275fac=function(Z){return new(Z||me)(G.LFG(Ce.eN),G.LFG(ve.W))},me.\u0275prov=G.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},3904:(qt,We,x)=>{x.d(We,{T:()=>Ne});var f=x(1135),h=x(4004),G=x(5e3),Ce=x(520),ve=x(4965);let Ne=(()=>{class me{constructor(Z,q){this.http=Z,this.glopalService=q,this.notification=new f.X(null),this.loading=!1}getNotifications(){return this.loading=!0,this.http.post(`${this.glopalService.apiUrlOne}getNotificationLog`,{}).pipe((0,h.U)(Z=>Array.isArray(Z.payload)?Z.payload:[])).subscribe(Z=>{this.notification.next(Z),this.loading=!1})}deleteNotification(Z){return this.http.post(`${this.glopalService.apiUrlOne}deleteNotification`,{id:Z})}}return me.\u0275fac=function(Z){return new(Z||me)(G.LFG(Ce.eN),G.LFG(ve.W))},me.\u0275prov=G.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},9863:(qt,We,x)=>{x.d(We,{d:()=>ve});var f=x(4004),h=x(5e3),G=x(4965),Ce=x(520);let ve=(()=>{class Ne{constructor(ue,Z){this.glopalService=ue,this.http=Z}getStoreTabs(){return this.http.get(`${this.glopalService.apiUrlTwo}categories`)}getCategoryById(ue,Z){return this.http.get(`${this.glopalService.apiUrlTwo}category/${ue}/products`,{params:{page:Z}}).pipe((0,f.U)(q=>{var se;return null===(se=null==q?void 0:q.payload)||void 0===se?void 0:se.data}))}getProductDetails(ue){return this.http.get(`${this.glopalService.apiUrlTwo}product/${ue}`).pipe((0,f.U)(Z=>({code:Z.code,payload:Z.payload})))}}return Ne.\u0275fac=function(ue){return new(ue||Ne)(h.LFG(G.W),h.LFG(Ce.eN))},Ne.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})()},4965:(qt,We,x)=>{x.d(We,{W:()=>G});var f=x(1135),h=x(5e3);let G=(()=>{class Ce{constructor(){this.hideNavbarAndFooter=new f.X(!1),this.apiUrlOne="https://code-pirates.com/join/api/v1/",this.apiUrlTwo="https://code-pirates.com/join/api/v2/"}}return Ce.\u0275fac=function(Ne){return new(Ne||Ce)},Ce.\u0275prov=h.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},326:(qt,We,x)=>{var f=x(2313),h=x(5e3),G=x(2094),Ce=x(8995);let ve=(()=>{class E{constructor(){}ngOnInit(){}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275cmp=h.Xpm({type:E,selectors:[["app-notfound"]],decls:5,vars:3,consts:[[1,"py-5","container","text-center",2,"min-height","100vh"],["src","assets/images/notfound-page.svg","alt","",1,"img-fluid"],[1,"text-center"]],template:function(a,g){1&a&&(h.TgZ(0,"section",0),h._UZ(1,"img",1),h.TgZ(2,"h1",2),h._uU(3),h.ALo(4,"translate"),h.qZA()()),2&a&&(h.xp6(3),h.hij(" ",h.lcZ(4,1,"notfound")," "))},pipes:[Ce.X$],styles:[""]}),E})(),Ne=(()=>{class E{constructor(a){this.router=a}canActivate(a,g){return!!localStorage.getItem("joinToken")||(this.router.navigate(["/auth/login"]),!1)}}return E.\u0275fac=function(a){return new(a||E)(h.LFG(G.F0))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const ue=[{path:"",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(5)]).then(x.bind(x,8005)).then(E=>E.HomeModule)},{path:"auth",canActivate:[(()=>{class E{constructor(a){this.router=a}canActivate(a,g){return!localStorage.getItem("joinToken")||(this.router.navigate(["/"]),!1)}}return E.\u0275fac=function(a){return new(a||E)(h.LFG(G.F0))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(410)]).then(x.bind(x,6269)).then(E=>E.AuthModule)},{path:"store",loadChildren:()=>Promise.all([x.e(466),x.e(718)]).then(x.bind(x,5718)).then(E=>E.StoreModule)},{path:"activities",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(181)]).then(x.bind(x,3181)).then(E=>E.ActivitiesModule)},{path:"activity/:id",loadChildren:()=>Promise.all([x.e(466),x.e(558),x.e(592),x.e(803)]).then(x.bind(x,8803)).then(E=>E.ActivityDetailsModule)},{path:"interests/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(703)]).then(x.bind(x,5703)).then(E=>E.InterstsModule)},{path:"clup/:id",loadChildren:()=>Promise.all([x.e(466),x.e(718),x.e(592),x.e(593)]).then(x.bind(x,8593)).then(E=>E.ClupDetailsModule)},{path:"product/:id",loadChildren:()=>Promise.all([x.e(466),x.e(718),x.e(592),x.e(277)]).then(x.bind(x,3277)).then(E=>E.ProductDetailsModule)},{path:"search/:str",loadChildren:()=>Promise.all([x.e(466),x.e(998)]).then(x.bind(x,8998)).then(E=>E.SearchResultModule)},{path:"profile",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(908)]).then(x.bind(x,6908)).then(E=>E.ProfileModule)},{path:"favorite",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(356)]).then(x.bind(x,356)).then(E=>E.FavoritModule)},{path:"history",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(862)]).then(x.bind(x,862)).then(E=>E.HistoryModule)},{path:"members",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(558)]).then(x.bind(x,6558)).then(E=>E.MembersModule)},{path:"contact",loadChildren:()=>Promise.all([x.e(466),x.e(420)]).then(x.bind(x,5420)).then(E=>E.ContactModule)},{path:"notifications",canActivate:[Ne],loadChildren:()=>Promise.all([x.e(466),x.e(515)]).then(x.bind(x,7515)).then(E=>E.NotificationsModule)},{path:"cart",loadChildren:()=>Promise.all([x.e(466),x.e(558),x.e(592),x.e(202)]).then(x.bind(x,4345)).then(E=>E.CartModule)},{path:"**",component:ve}];let Z=(()=>{class E{}return E.\u0275fac=function(a){return new(a||E)},E.\u0275mod=h.oAB({type:E}),E.\u0275inj=h.cJS({imports:[[G.Bz.forRoot(ue,{initialNavigation:"enabled",scrollPositionRestoration:"enabled",useHash:!0})],G.Bz]}),E})();var q=x(3904),se=x(1408),Te=x(2169),at=x(5089),ke=x(9863),lt=x(4965),ut=x(9808),ze=x(8274),dt=x(7008),Be=x(5351),ft=x(3075);function pe(E){return"function"==typeof E}let be=!1;const Qe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(E){if(E){const c=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+c.stack)}else be&&console.log("RxJS: Back to a better error behavior. Thank you. <3");be=E},get useDeprecatedSynchronousErrorHandling(){return be}};function bt(E){setTimeout(()=>{throw E},0)}const Y={closed:!0,next(E){},error(E){if(Qe.useDeprecatedSynchronousErrorHandling)throw E;bt(E)},complete(){}},Je=Array.isArray||(E=>E&&"number"==typeof E.length),Ue=(()=>{function E(c){return Error.call(this),this.message=c?`${c.length} errors occurred during unsubscription:\n${c.map((a,g)=>`${g+1}) ${a.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=c,this}return E.prototype=Object.create(Error.prototype),E})();class Xe{constructor(c){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,c&&(this._ctorUnsubscribe=!0,this._unsubscribe=c)}unsubscribe(){let c;if(this.closed)return;let{_parentOrParents:a,_ctorUnsubscribe:g,_unsubscribe:T,_subscriptions:H}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof Xe)a.remove(this);else if(null!==a)for(let oe=0;oe<a.length;++oe)a[oe].remove(this);if(pe(T)){g&&(this._unsubscribe=void 0);try{T.call(this)}catch(oe){c=oe instanceof Ue?it(oe.errors):[oe]}}if(Je(H)){let oe=-1,De=H.length;for(;++oe<De;){const tt=H[oe];if(null!==(E=tt)&&"object"==typeof E)try{tt.unsubscribe()}catch(Ct){c=c||[],Ct instanceof Ue?c=c.concat(it(Ct.errors)):c.push(Ct)}}}var E;if(c)throw new Ue(c)}add(c){let a=c;if(!c)return Xe.EMPTY;switch(typeof c){case"function":a=new Xe(c);case"object":if(a===this||a.closed||"function"!=typeof a.unsubscribe)return a;if(this.closed)return a.unsubscribe(),a;if(!(a instanceof Xe)){const H=a;a=new Xe,a._subscriptions=[H]}break;default:throw new Error("unrecognized teardown "+c+" added to Subscription.")}let{_parentOrParents:g}=a;if(null===g)a._parentOrParents=this;else if(g instanceof Xe){if(g===this)return a;a._parentOrParents=[g,this]}else{if(-1!==g.indexOf(this))return a;g.push(this)}const T=this._subscriptions;return null===T?this._subscriptions=[a]:T.push(a),a}remove(c){const a=this._subscriptions;if(a){const g=a.indexOf(c);-1!==g&&a.splice(g,1)}}}var E;function it(E){return E.reduce((c,a)=>c.concat(a instanceof Ue?a.errors:a),[])}Xe.EMPTY=((E=new Xe).closed=!0,E);const st="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class tn extends Xe{constructor(c,a,g){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Y;break;case 1:if(!c){this.destination=Y;break}if("object"==typeof c){c instanceof tn?(this.syncErrorThrowable=c.syncErrorThrowable,this.destination=c,c.add(this)):(this.syncErrorThrowable=!0,this.destination=new pt(this,c));break}default:this.syncErrorThrowable=!0,this.destination=new pt(this,c,a,g)}}[st](){return this}static create(c,a,g){const T=new tn(c,a,g);return T.syncErrorThrowable=!1,T}next(c){this.isStopped||this._next(c)}error(c){this.isStopped||(this.isStopped=!0,this._error(c))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(c){this.destination.next(c)}_error(c){this.destination.error(c),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:c}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=c,this}}class pt extends tn{constructor(c,a,g,T){super(),this._parentSubscriber=c;let H,oe=this;pe(a)?H=a:a&&(H=a.next,g=a.error,T=a.complete,a!==Y&&(oe=Object.create(a),pe(oe.unsubscribe)&&this.add(oe.unsubscribe.bind(oe)),oe.unsubscribe=this.unsubscribe.bind(this))),this._context=oe,this._next=H,this._error=g,this._complete=T}next(c){if(!this.isStopped&&this._next){const{_parentSubscriber:a}=this;Qe.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?this.__tryOrSetError(a,this._next,c)&&this.unsubscribe():this.__tryOrUnsub(this._next,c)}}error(c){if(!this.isStopped){const{_parentSubscriber:a}=this,{useDeprecatedSynchronousErrorHandling:g}=Qe;if(this._error)g&&a.syncErrorThrowable?(this.__tryOrSetError(a,this._error,c),this.unsubscribe()):(this.__tryOrUnsub(this._error,c),this.unsubscribe());else if(a.syncErrorThrowable)g?(a.syncErrorValue=c,a.syncErrorThrown=!0):bt(c),this.unsubscribe();else{if(this.unsubscribe(),g)throw c;bt(c)}}}complete(){if(!this.isStopped){const{_parentSubscriber:c}=this;if(this._complete){const a=()=>this._complete.call(this._context);Qe.useDeprecatedSynchronousErrorHandling&&c.syncErrorThrowable?(this.__tryOrSetError(c,a),this.unsubscribe()):(this.__tryOrUnsub(a),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(c,a){try{c.call(this._context,a)}catch(g){if(this.unsubscribe(),Qe.useDeprecatedSynchronousErrorHandling)throw g;bt(g)}}__tryOrSetError(c,a,g){if(!Qe.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{a.call(this._context,g)}catch(T){return Qe.useDeprecatedSynchronousErrorHandling?(c.syncErrorValue=T,c.syncErrorThrown=!0,!0):(bt(T),!0)}return!1}_unsubscribe(){const{_parentSubscriber:c}=this;this._context=null,this._parentSubscriber=null,c.unsubscribe()}}const Ae="function"==typeof Symbol&&Symbol.observable||"@@observable";function qe(E){return E}let nn=(()=>{class E{constructor(a){this._isScalar=!1,a&&(this._subscribe=a)}lift(a){const g=new E;return g.source=this,g.operator=a,g}subscribe(a,g,T){const{operator:H}=this,oe=function Q(E,c,a){if(E){if(E instanceof tn)return E;if(E[st])return E[st]()}return E||c||a?new tn(E,c,a):new tn(Y)}(a,g,T);if(oe.add(H?H.call(oe,this.source):this.source||Qe.useDeprecatedSynchronousErrorHandling&&!oe.syncErrorThrowable?this._subscribe(oe):this._trySubscribe(oe)),Qe.useDeprecatedSynchronousErrorHandling&&oe.syncErrorThrowable&&(oe.syncErrorThrowable=!1,oe.syncErrorThrown))throw oe.syncErrorValue;return oe}_trySubscribe(a){try{return this._subscribe(a)}catch(g){Qe.useDeprecatedSynchronousErrorHandling&&(a.syncErrorThrown=!0,a.syncErrorValue=g),function mt(E){for(;E;){const{closed:c,destination:a,isStopped:g}=E;if(c||g)return!1;E=a&&a instanceof tn?a:null}return!0}(a)?a.error(g):console.warn(g)}}forEach(a,g){return new(g=yn(g))((T,H)=>{let oe;oe=this.subscribe(De=>{try{a(De)}catch(tt){H(tt),oe&&oe.unsubscribe()}},H,T)})}_subscribe(a){const{source:g}=this;return g&&g.subscribe(a)}[Ae](){return this}pipe(...a){return 0===a.length?this:function Ht(E){return 0===E.length?qe:1===E.length?E[0]:function(a){return E.reduce((g,T)=>T(g),a)}}(a)(this)}toPromise(a){return new(a=yn(a))((g,T)=>{let H;this.subscribe(oe=>H=oe,oe=>T(oe),()=>g(H))})}}return E.create=c=>new E(c),E})();function yn(E){if(E||(E=Qe.Promise||Promise),!E)throw new Error("no Promise impl found");return E}const Vn=(()=>{function E(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return E.prototype=Object.create(Error.prototype),E})();class Jn extends Xe{constructor(c,a){super(),this.subject=c,this.subscriber=a,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const c=this.subject,a=c.observers;if(this.subject=null,!a||0===a.length||c.isStopped||c.closed)return;const g=a.indexOf(this.subscriber);-1!==g&&a.splice(g,1)}}class jn extends tn{constructor(c){super(c),this.destination=c}}let ci=(()=>{class E extends nn{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[st](){return new jn(this)}lift(a){const g=new Yn(this,this);return g.operator=a,g}next(a){if(this.closed)throw new Vn;if(!this.isStopped){const{observers:g}=this,T=g.length,H=g.slice();for(let oe=0;oe<T;oe++)H[oe].next(a)}}error(a){if(this.closed)throw new Vn;this.hasError=!0,this.thrownError=a,this.isStopped=!0;const{observers:g}=this,T=g.length,H=g.slice();for(let oe=0;oe<T;oe++)H[oe].error(a);this.observers.length=0}complete(){if(this.closed)throw new Vn;this.isStopped=!0;const{observers:a}=this,g=a.length,T=a.slice();for(let H=0;H<g;H++)T[H].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(a){if(this.closed)throw new Vn;return super._trySubscribe(a)}_subscribe(a){if(this.closed)throw new Vn;return this.hasError?(a.error(this.thrownError),Xe.EMPTY):this.isStopped?(a.complete(),Xe.EMPTY):(this.observers.push(a),new Jn(this,a))}asObservable(){const a=new nn;return a.source=this,a}}return E.create=(c,a)=>new Yn(c,a),E})();class Yn extends ci{constructor(c,a){super(),this.destination=c,this.source=a}next(c){const{destination:a}=this;a&&a.next&&a.next(c)}error(c){const{destination:a}=this;a&&a.error&&this.destination.error(c)}complete(){const{destination:c}=this;c&&c.complete&&this.destination.complete()}_subscribe(c){const{source:a}=this;return a?this.source.subscribe(c):Xe.EMPTY}}class Ai extends Xe{constructor(c,a){super()}schedule(c,a=0){return this}}let bi=(()=>{class E{constructor(a,g=E.now){this.SchedulerAction=a,this.now=g}schedule(a,g=0,T){return new this.SchedulerAction(this,a).schedule(T,g)}}return E.now=()=>Date.now(),E})();class on extends bi{constructor(c,a=bi.now){super(c,()=>on.delegate&&on.delegate!==this?on.delegate.now():a()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(c,a=0,g){return on.delegate&&on.delegate!==this?on.delegate.schedule(c,a,g):super.schedule(c,a,g)}flush(c){const{actions:a}=this;if(this.active)return void a.push(c);let g;this.active=!0;do{if(g=c.execute(c.state,c.delay))break}while(c=a.shift());if(this.active=!1,g){for(;c=a.shift();)c.unsubscribe();throw g}}}const ti=new on(class Mn extends Ai{constructor(c,a){super(c,a),this.scheduler=c,this.work=a,this.pending=!1}schedule(c,a=0){if(this.closed)return this;this.state=c;const g=this.id,T=this.scheduler;return null!=g&&(this.id=this.recycleAsyncId(T,g,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(T,this.id,a),this}requestAsyncId(c,a,g=0){return setInterval(c.flush.bind(c,this),g)}recycleAsyncId(c,a,g=0){if(null!==g&&this.delay===g&&!1===this.pending)return a;clearInterval(a)}execute(c,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const g=this._execute(c,a);if(g)return g;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(c,a){let T,g=!1;try{this.work(c)}catch(H){g=!0,T=!!H&&H||new Error(H)}if(g)return this.unsubscribe(),T}_unsubscribe(){const c=this.id,a=this.scheduler,g=a.actions,T=g.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==T&&g.splice(T,1),null!=c&&(this.id=this.recycleAsyncId(a,c,null)),this.delay=null}}),rn={leading:!0,trailing:!1};function Ve(E,c=ti,a=rn){return g=>g.lift(new Ge(E,c,a.leading,a.trailing))}class Ge{constructor(c,a,g,T){this.duration=c,this.scheduler=a,this.leading=g,this.trailing=T}call(c,a){return a.subscribe(new Ut(c,this.duration,this.scheduler,this.leading,this.trailing))}}class Ut extends tn{constructor(c,a,g,T,H){super(c),this.duration=a,this.scheduler=g,this.leading=T,this.trailing=H,this._hasTrailingValue=!1,this._trailingValue=null}_next(c){this.throttled?this.trailing&&(this._trailingValue=c,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(It,this.duration,{subscriber:this})),this.leading?this.destination.next(c):this.trailing&&(this._trailingValue=c,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const c=this.throttled;c&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),c.unsubscribe(),this.remove(c),this.throttled=null)}}function It(E){const{subscriber:c}=E;c.clearThrottle()}function Nt(){}function Zt(E,c,a){return function(T){return T.lift(new Re(E,c,a))}}class Re{constructor(c,a,g){this.nextOrObserver=c,this.error=a,this.complete=g}call(c,a){return a.subscribe(new Oe(c,this.nextOrObserver,this.error,this.complete))}}class Oe extends tn{constructor(c,a,g,T){super(c),this._tapNext=Nt,this._tapError=Nt,this._tapComplete=Nt,this._tapError=g||Nt,this._tapComplete=T||Nt,pe(a)?(this._context=this,this._tapNext=a):a&&(this._context=a,this._tapNext=a.next||Nt,this._tapError=a.error||Nt,this._tapComplete=a.complete||Nt)}_next(c){try{this._tapNext.call(this._context,c)}catch(a){return void this.destination.error(a)}this.destination.next(c)}_error(c){try{this._tapError.call(this._context,c)}catch(a){return void this.destination.error(a)}this.destination.error(c)}_complete(){try{this._tapComplete.call(this._context)}catch(c){return void this.destination.error(c)}return this.destination.complete()}}function we(E,c){return a=>a.lift(new Ke(E,c))}class Ke{constructor(c,a){this.compare=c,this.keySelector=a}call(c,a){return a.subscribe(new wt(c,this.compare,this.keySelector))}}class wt extends tn{constructor(c,a,g){super(c),this.keySelector=g,this.hasKey=!1,"function"==typeof a&&(this.compare=a)}compare(c,a){return c===a}_next(c){let a;try{const{keySelector:T}=this;a=T?T(c):c}catch(T){return this.destination.error(T)}let g=!1;if(this.hasKey)try{const{compare:T}=this;g=T(this.key,a)}catch(T){return this.destination.error(T)}else this.hasKey=!0;g||(this.key=a,this.destination.next(c))}}class Tt{constructor(c,a){this.predicate=c,this.thisArg=a}call(c,a){return a.subscribe(new _n(c,this.predicate,this.thisArg))}}class _n extends tn{constructor(c,a,g){super(c),this.predicate=a,this.thisArg=g,this.count=0}_next(c){let a;try{a=this.predicate.call(this.thisArg,c,this.count++)}catch(g){return void this.destination.error(g)}a&&this.destination.next(c)}}var fn="undefined"!=typeof window?window:{screen:{},navigator:{}},pn=(fn.matchMedia||function(){return{matches:!1}}).bind(fn),W=!1,Ee=function(){};fn.addEventListener&&fn.addEventListener("p",Ee,{get passive(){return W=!0}}),fn.removeEventListener&&fn.removeEventListener("p",Ee,!1);var Le=W,Ft="ontouchstart"in fn,_e=(Ft||"TouchEvent"in fn&&pn("(any-pointer: coarse)"),fn.navigator.userAgent||"");pn("(pointer: coarse)").matches&&/iPad|Macintosh/.test(_e)&&Math.min(fn.screen.width||0,fn.screen.height||0);(pn("(pointer: coarse)").matches||!pn("(pointer: fine)").matches&&Ft)&&/Windows.*Firefox/.test(_e),pn("(any-pointer: fine)").matches||pn("(any-hover: hover)");const et=["tooltipTemplate"],Lt=["leftOuterSelectionBar"],Vt=["rightOuterSelectionBar"],bn=["fullBar"],vn=["selectionBar"],Tn=["minHandle"],vi=["maxHandle"],Ci=["floorLabel"],Ti=["ceilLabel"],Cr=["minHandleLabel"],xi=["maxHandleLabel"],Yt=["combinedLabel"],qn=["ticksElement"];function gi(E,c){if(1&E&&h._UZ(0,"ngx-slider-tooltip-wrapper",31),2&E){const a=h.oxw().$implicit,g=h.oxw();h.Q6J("template",g.tooltipTemplate)("tooltip",a.valueTooltip)("placement",a.valueTooltipPlacement)("content",a.value)}}function zi(E,c){if(1&E&&h._UZ(0,"span",32),2&E){const a=h.oxw().$implicit;h.Q6J("innerHTML",a.legend,h.oJD)}}const yr=function(E){return{"ngx-slider-selected":E}};function Wi(E,c){if(1&E&&(h.TgZ(0,"span",27),h._UZ(1,"ngx-slider-tooltip-wrapper",28),h.YNc(2,gi,1,4,"ngx-slider-tooltip-wrapper",29),h.YNc(3,zi,1,1,"span",30),h.qZA()),2&E){const a=c.$implicit,g=h.oxw();h.Q6J("ngClass",h.VKq(7,yr,a.selected))("ngStyle",a.style),h.xp6(1),h.Q6J("template",g.tooltipTemplate)("tooltip",a.tooltip)("placement",a.tooltipPlacement),h.xp6(1),h.Q6J("ngIf",null!=a.value),h.xp6(1),h.Q6J("ngIf",null!=a.legend)}}function sr(E,c){}function ai(E,c){1&E&&h.YNc(0,sr,0,0,"ng-template")}const Tr=function(E,c,a){return{tooltip:E,placement:c,content:a}};function Di(E,c){if(1&E&&(h.ynx(0),h.YNc(1,ai,1,0,null,1),h.BQk()),2&E){const a=h.oxw();h.xp6(1),h.Q6J("ngTemplateOutlet",a.template)("ngTemplateOutletContext",h.kEZ(2,Tr,a.tooltip,a.placement,a.content))}}function Ln(E,c){if(1&E&&(h.ynx(0),h.TgZ(1,"div",2),h._uU(2),h.qZA(),h.BQk()),2&E){const a=h.oxw();h.xp6(1),h.uIk("title",a.tooltip)("data-tooltip-placement",a.placement),h.xp6(1),h.hij(" ",a.content," ")}}const Oi={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};Oi[Oi.Low]="Low",Oi[Oi.High]="High",Oi[Oi.Floor]="Floor",Oi[Oi.Ceil]="Ceil",Oi[Oi.TickValue]="TickValue";class Bi{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.getStepLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.rotate=0,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel="ngx-slider",this.ariaLabelledBy=null,this.ariaLabelHigh="ngx-slider-max",this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const gn={Min:0,Max:1};gn[gn.Min]="Min",gn[gn.Max]="Max";class rr{}class St{static isNullOrUndefined(c){return null==c}static areArraysEqual(c,a){if(c.length!==a.length)return!1;for(let g=0;g<c.length;++g)if(c[g]!==a[g])return!1;return!0}static linearValueToPosition(c,a,g){return(c-a)/(g-a)}static logValueToPosition(c,a,g){return((c=Math.log(c))-(a=Math.log(a)))/((g=Math.log(g))-a)}static linearPositionToValue(c,a,g){return c*(g-a)+a}static logPositionToValue(c,a,g){return a=Math.log(a),g=Math.log(g),Math.exp(c*(g-a)+a)}static findStepIndex(c,a){const g=a.map(H=>Math.abs(c-H.value));let T=0;for(let H=0;H<a.length;H++)g[H]!==g[T]&&g[H]<g[T]&&(T=H);return T}}class or{static isTouchEvent(c){return void 0!==window.TouchEvent?c instanceof TouchEvent:void 0!==c.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class wi{static roundToPrecisionLimit(c,a){return+c.toPrecision(a)}static isModuloWithinPrecisionLimit(c,a,g){const T=Math.pow(10,-g);return Math.abs(c%a)<=T||Math.abs(Math.abs(c%a)-a)<=T}static clampToRange(c,a,g){return Math.min(Math.max(c,a),g)}}class Dr{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class _i{constructor(c){this.renderer=c}attachPassiveEventListener(c,a,g,T){if(!0!==Le)return this.attachEventListener(c,a,g,T);const H=new Dr;H.eventName=a,H.events=new ci;const oe=De=>{H.events.next(De)};return c.addEventListener(a,oe,{passive:!0,capture:!1}),H.teardownCallback=()=>{c.removeEventListener(a,oe,{passive:!0,capture:!1})},H.eventsSubscription=H.events.pipe(St.isNullOrUndefined(T)?Zt(()=>{}):Ve(T,void 0,{leading:!0,trailing:!0})).subscribe(De=>{g(De)}),H}detachEventListener(c){St.isNullOrUndefined(c.eventsSubscription)||(c.eventsSubscription.unsubscribe(),c.eventsSubscription=null),St.isNullOrUndefined(c.events)||(c.events.complete(),c.events=null),St.isNullOrUndefined(c.teardownCallback)||(c.teardownCallback(),c.teardownCallback=null)}attachEventListener(c,a,g,T){const H=new Dr;return H.eventName=a,H.events=new ci,H.teardownCallback=this.renderer.listen(c,a,De=>{H.events.next(De)}),H.eventsSubscription=H.events.pipe(St.isNullOrUndefined(T)?Zt(()=>{}):Ve(T,void 0,{leading:!0,trailing:!0})).subscribe(De=>{g(De)}),H}}let Gr=(()=>{class E{constructor(a,g,T){this.elemRef=a,this.renderer=g,this.changeDetectionRef=T,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this._rotate=0,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.transform="",this.eventListeners=[],this.eventListenerHelper=new _i(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}get rotate(){return this._rotate}setAlwaysHide(a){this._alwaysHide=a,this.visibility=a?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(a){this._vertical=a,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(a){this._scale=a}setRotate(a){this._rotate=a,this.transform="rotate("+a+"deg)"}getRotate(){return this._rotate}setPosition(a){this._position!==a&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=a,this._vertical?this.bottom=Math.round(a)+"px":this.left=Math.round(a)+"px"}calculateDimension(){const a=this.getBoundingClientRect();this._dimension=this.vertical?(a.bottom-a.top)*this.scale:(a.right-a.left)*this.scale}setDimension(a){this._dimension!==a&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=a,this._vertical?this.height=Math.round(a)+"px":this.width=Math.round(a)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(a,g,T){const H=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,a,g,T);this.eventListeners.push(H)}onPassive(a,g,T){const H=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,a,g,T);this.eventListeners.push(H)}off(a){let g,T;St.isNullOrUndefined(a)?(g=[],T=this.eventListeners):(g=this.eventListeners.filter(H=>H.eventName!==a),T=this.eventListeners.filter(H=>H.eventName===a));for(const H of T)this.eventListenerHelper.detachEventListener(H);this.eventListeners=g}isRefDestroyed(){return St.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO))},E.\u0275dir=h.lG2({type:E,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(a,g){2&a&&h.Udp("opacity",g.opacity)("visibility",g.visibility)("left",g.left)("bottom",g.bottom)("height",g.height)("width",g.width)("transform",g.transform)}}),E})(),Ur=(()=>{class E extends Gr{constructor(a,g,T){super(a,g,T),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO))},E.\u0275dir=h.lG2({type:E,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(a,g){2&a&&(h.uIk("role",g.role)("tabindex",g.tabindex)("aria-orientation",g.ariaOrientation)("aria-label",g.ariaLabel)("aria-labelledby",g.ariaLabelledBy)("aria-valuenow",g.ariaValueNow)("aria-valuetext",g.ariaValueText)("aria-valuemin",g.ariaValueMin)("aria-valuemax",g.ariaValueMax),h.ekj("ngx-slider-active",g.active))},features:[h.qOj]}),E})(),Ji=(()=>{class E extends Gr{constructor(a,g,T){super(a,g,T),this._value=null}get value(){return this._value}setValue(a){let g=!1;!this.alwaysHide&&(St.isNullOrUndefined(this.value)||this.value.length!==a.length||this.value.length>0&&0===this.dimension)&&(g=!0),this._value=a,this.elemRef.nativeElement.innerHTML=a,g&&this.calculateDimension()}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO))},E.\u0275dir=h.lG2({type:E,selectors:[["","ngxSliderLabel",""]],features:[h.qOj]}),E})();class Ir{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class zr{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class Wr{static compare(c,a){return!(St.isNullOrUndefined(c)&&St.isNullOrUndefined(a)||St.isNullOrUndefined(c)!==St.isNullOrUndefined(a))&&c.value===a.value&&c.highValue===a.highValue}}class ls extends Wr{static compare(c,a){return!(St.isNullOrUndefined(c)&&St.isNullOrUndefined(a)||St.isNullOrUndefined(c)!==St.isNullOrUndefined(a))&&c.value===a.value&&c.highValue===a.highValue&&c.forceChange===a.forceChange}}const Zr={provide:ft.JU,useExisting:(0,h.Gpc)(()=>Es),multi:!0};let Es=(()=>{class E{constructor(a,g,T,H){this.renderer=a,this.elementRef=g,this.changeDetectionRef=T,this.zone=H,this.value=null,this.valueChange=new h.vpe,this.highValue=null,this.highValueChange=new h.vpe,this.options=new Bi,this.userChangeStart=new h.vpe,this.userChange=new h.vpe,this.userChangeEnd=new h.vpe,this.initHasRun=!1,this.inputModelChangeSubject=new ci,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new ci,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new Bi,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new zr,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.sliderElementAriaLabel="ngx-slider",this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new _i(this.renderer)}set manualRefresh(a){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=a.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(a){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=a.subscribe(g=>{this.focusPointer(g)})}get range(){return!St.isNullOrUndefined(this.value)&&!St.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new Bi,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(a){!St.isNullOrUndefined(a.options)&&JSON.stringify(a.options.previousValue)!==JSON.stringify(a.options.currentValue)&&this.onChangeOptions(),(!St.isNullOrUndefined(a.value)||!St.isNullOrUndefined(a.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(a){a instanceof Array?(this.value=a[0],this.highValue=a[1]):this.value=a,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(a){this.onChangeCallback=a}registerOnTouched(a){this.onTouchedCallback=a}setDisabledState(a){this.viewOptions.disabled=a,this.updateDisabledState()}setAriaLabel(a){this.viewOptions.ariaLabel=a,this.updateAriaLabel()}onResize(a){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(we(ls.compare),function Mt(E,c){return function(g){return g.lift(new Tt(E,c))}}(a=>!a.forceChange&&!a.internalChange)).subscribe(a=>this.applyInputModelChange(a))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(we(ls.compare)).subscribe(a=>this.publishOutputModelChange(a))}subscribeResizeObserver(){or.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){or.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){St.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){St.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){St.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){St.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){St.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){St.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(a){return a===gn.Min?this.minHandleElement:a===gn.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===gn.Min?this.viewLowValue:this.currentTrackingPointer===gn.Max?this.viewHighValue:null}modelValueToViewValue(a){return St.isNullOrUndefined(a)?NaN:St.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+a:St.findStepIndex(+a,this.viewOptions.stepsArray)}viewValueToModelValue(a){return St.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?a:this.getStepValue(a)}getStepValue(a){const g=this.viewOptions.stepsArray[a];return St.isNullOrUndefined(g)?NaN:g.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(a){const g=this.normaliseModelValues(a),T=!Wr.compare(a,g);T&&(this.value=g.value,this.highValue=g.highValue),this.viewLowValue=this.modelValueToViewValue(g.value),this.viewHighValue=this.range?this.modelValueToViewValue(g.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:g.value,highValue:g.highValue,forceChange:T,userEventInitiated:!1})}publishOutputModelChange(a){const g=()=>{this.valueChange.emit(a.value),this.range&&this.highValueChange.emit(a.highValue),St.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[a.value,a.highValue]:a.value),St.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[a.value,a.highValue]:a.value)};a.userEventInitiated?(g(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{g()})}normaliseModelValues(a){const g=new Wr;if(g.value=a.value,g.highValue=a.highValue,!St.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const T=St.findStepIndex(g.value,this.viewOptions.stepsArray);if(g.value=this.viewOptions.stepsArray[T].value,this.range){const H=St.findStepIndex(g.highValue,this.viewOptions.stepsArray);g.highValue=this.viewOptions.stepsArray[H].value}}return g}if(this.viewOptions.enforceStep&&(g.value=this.roundStep(g.value),this.range&&(g.highValue=this.roundStep(g.highValue))),this.viewOptions.enforceRange&&(g.value=wi.clampToRange(g.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(g.highValue=wi.clampToRange(g.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&a.value>a.highValue))if(this.viewOptions.noSwitching)g.value=g.highValue;else{const T=a.value;g.value=a.highValue,g.highValue=T}return g}renormaliseModelValues(){const a={value:this.value,highValue:this.highValue},g=this.normaliseModelValues(a);Wr.compare(g,a)||(this.value=g.value,this.highValue=g.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const a=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const g=this.getOptionsInfluencingEventBindings(this.viewOptions),T=!St.areArraysEqual(a,g);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(T)}applyOptions(){if(this.viewOptions=new Bi,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!St.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!St.isNullOrUndefined(this.viewOptions.tickStep)||!St.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!St.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),St.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),St.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(a,g)=>a+" - "+g),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,St.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=a=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(a):a))}applyFloorCeilOptions(){if(St.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),St.isNullOrUndefined(this.viewOptions.ceil)||St.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,St.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=a=>String(a))}resetSlider(a=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),a&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(a){a!==gn.Min&&a!==gn.Max&&(a=gn.Min),a===gn.Min?this.minHandleElement.focus():this.range&&a===gn.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){St.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const a=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(a||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(a||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(a||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const a of this.getAllSliderElements())St.isNullOrUndefined(a)||a.setVertical(this.viewOptions.vertical)}updateScale(){for(const a of this.getAllSliderElements())a.setScale(this.viewOptions.scale)}updateRotate(){for(const a of this.getAllSliderElements())a.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",St.isNullOrUndefined(this.viewOptions.ariaLabel)?St.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",St.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?St.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Oi.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Oi.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){St.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const a=this.minHandleElement.dimension;this.handleHalfDimension=a/2,St.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-a,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const a=St.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,g=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&a.reverse();const T=St.isNullOrUndefined(this.viewOptions.tickValueStep)?St.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let H=!1;const oe=a.map(De=>{let tt=this.valueToPosition(De);this.viewOptions.vertical&&(tt=this.maxHandlePosition-tt);const Ct=g+"("+Math.round(tt)+"px)",Xt=new Ir;Xt.selected=this.isTickSelected(De),Xt.style={"-webkit-transform":Ct,"-moz-transform":Ct,"-o-transform":Ct,"-ms-transform":Ct,transform:Ct},Xt.selected&&!St.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(Xt.style["background-color"]=this.getSelectionBarColor()),!Xt.selected&&!St.isNullOrUndefined(this.viewOptions.getTickColor)&&(Xt.style["background-color"]=this.getTickColor(De)),St.isNullOrUndefined(this.viewOptions.ticksTooltip)||(Xt.tooltip=this.viewOptions.ticksTooltip(De),Xt.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!St.isNullOrUndefined(T)&&wi.isModuloWithinPrecisionLimit(De,T,this.viewOptions.precisionLimit)&&(Xt.value=this.getDisplayValue(De,Oi.TickValue),St.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(Xt.valueTooltip=this.viewOptions.ticksValuesTooltip(De),Xt.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let Cn=null;if(St.isNullOrUndefined(this.viewOptions.stepsArray))St.isNullOrUndefined(this.viewOptions.getLegend)||(Cn=this.viewOptions.getLegend(De));else{const Zn=this.viewOptions.stepsArray[De];St.isNullOrUndefined(this.viewOptions.getStepLegend)?St.isNullOrUndefined(Zn)||(Cn=Zn.legend):Cn=this.viewOptions.getStepLegend(Zn)}return St.isNullOrUndefined(Cn)||(Xt.legend=Cn,H=!0),Xt});if(setTimeout(()=>{this.sliderElementWithLegendClass=H}),St.isNullOrUndefined(this.ticks)||this.ticks.length!==oe.length)this.ticks=oe;else for(let De=0;De<oe.length;++De)Object.assign(this.ticks[De],oe[De]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const a=St.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,g=[],T=1+Math.floor(wi.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/a,this.viewOptions.precisionLimit));for(let H=0;H<T;++H)g.push(wi.roundToPrecisionLimit(this.viewOptions.floor+a*H,this.viewOptions.precisionLimit));return g}isTickSelected(a){if(!this.range)if(St.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(a>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&a<=this.viewLowValue)return!0}else{const g=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>g&&a>=g&&a<=this.viewLowValue)return!0;if(this.viewLowValue<g&&a<=g&&a>=this.viewLowValue)return!0}return!!(this.range&&a>=this.viewLowValue&&a<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Oi.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Oi.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(a,g){a===gn.Min?this.updateLowHandle(g):a===gn.Max&&this.updateHighHandle(g),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(a,g){const T=a===gn.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,H=g-T/2+this.handleHalfDimension,oe=this.fullBarElement.dimension-T;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&a===gn.Min||!this.viewOptions.rightToLeft&&a===gn.Max?Math.min(H,oe):Math.min(Math.max(H,0),oe):H}updateLowHandle(a){this.minHandleElement.setPosition(a),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Oi.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(gn.Min,a)),St.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(gn.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(a){this.maxHandleElement.setPosition(a),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Oi.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(gn.Max,a)),St.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(gn.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let a=!1,g=!1;const T=this.isLabelBelowFloorLabel(this.minHandleLabelElement),H=this.isLabelAboveCeilLabel(this.minHandleLabelElement),oe=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),De=this.isLabelBelowFloorLabel(this.combinedLabelElement),tt=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(T?(a=!0,this.floorLabelElement.hide()):(a=!1,this.floorLabelElement.show()),H?(g=!0,this.ceilLabelElement.hide()):(g=!1,this.ceilLabelElement.show()),this.range){const Ct=this.combinedLabelElement.isVisible()?tt:oe,Xt=this.combinedLabelElement.isVisible()?De:T;Ct?this.ceilLabelElement.hide():g||this.ceilLabelElement.show(),Xt?this.floorLabelElement.hide():a||this.floorLabelElement.show()}}isLabelBelowFloorLabel(a){const g=a.position,H=this.floorLabelElement.position;return this.viewOptions.rightToLeft?g+a.dimension>=H-2:g<=H+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(a){const g=a.position,H=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?g<=H+this.ceilLabelElement.dimension+2:g+a.dimension>=H-2}updateSelectionBar(){let a=0,g=0;const T=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,H=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)g=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),a=H;else if(St.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))T?(g=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),a=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(g=this.minHandleElement.position+this.handleHalfDimension,a=0);else{const oe=this.viewOptions.showSelectionBarFromValue,De=this.valueToPosition(oe);(this.viewOptions.rightToLeft?this.viewLowValue<=oe:this.viewLowValue>oe)?(g=this.minHandleElement.position-De,a=De+this.handleHalfDimension):(g=De-this.minHandleElement.position,a=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(g),this.selectionBarElement.setPosition(a),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(a),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(a+g)),this.leftOuterSelectionBarElement.setPosition(a+g)):(this.leftOuterSelectionBarElement.setDimension(a),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(a+g)),this.rightOuterSelectionBarElement.setPosition(a+g))),St.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!St.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const oe=St.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),De=oe-a>0&&!T||oe-a<=0&&T;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?De?"bottom":"top":De?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(oe+g+a+(De?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=oe-a+(De?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const oe=this.getSelectionBarColor();this.barStyle={backgroundColor:oe}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(a){return this.viewOptions.getPointerColor(a===gn.Max?this.highValue:this.value,a)}getTickColor(a){return this.viewOptions.getTickColor(a)}updateCombinedLabel(){let a=null;if(a=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,a){const g=this.getDisplayValue(this.viewLowValue,Oi.Low),T=this.getDisplayValue(this.viewHighValue,Oi.High),H=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(T,g):this.viewOptions.combineLabels(g,T);this.combinedLabelElement.setValue(H);const oe=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(oe),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(a,g){return!St.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(a=this.getStepValue(a)),this.viewOptions.translate(a,g)}roundStep(a,g){const T=St.isNullOrUndefined(g)?this.viewOptions.step:g;let H=wi.roundToPrecisionLimit((a-this.viewOptions.floor)/T,this.viewOptions.precisionLimit);return H=Math.round(H)*T,wi.roundToPrecisionLimit(this.viewOptions.floor+H,this.viewOptions.precisionLimit)}valueToPosition(a){let g=St.linearValueToPosition;St.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(g=St.logValueToPosition):g=this.viewOptions.customValueToPosition;let T=g(a=wi.clampToRange(a,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return St.isNullOrUndefined(T)&&(T=0),this.viewOptions.rightToLeft&&(T=1-T),T*this.maxHandlePosition}positionToValue(a){let g=a/this.maxHandlePosition;this.viewOptions.rightToLeft&&(g=1-g);let T=St.linearPositionToValue;St.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(T=St.logPositionToValue):T=this.viewOptions.customPositionToValue;const H=T(g,this.viewOptions.floor,this.viewOptions.ceil);return St.isNullOrUndefined(H)?0:H}getEventXY(a,g){if(a instanceof MouseEvent)return this.viewOptions.vertical||0!==this.viewOptions.rotate?a.clientY:a.clientX;let T=0;const H=a.touches;if(!St.isNullOrUndefined(g))for(let oe=0;oe<H.length;oe++)if(H[oe].identifier===g){T=oe;break}return this.viewOptions.vertical||0!==this.viewOptions.rotate?H[T].clientY:H[T].clientX}getEventPosition(a,g){const T=this.elementRef.nativeElement.getBoundingClientRect(),H=this.viewOptions.vertical||0!==this.viewOptions.rotate?T.bottom:T.left;let oe=0;return oe=this.viewOptions.vertical||0!==this.viewOptions.rotate?-this.getEventXY(a,g)+H:this.getEventXY(a,g)-H,oe*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(a){if(!this.range)return gn.Min;const g=this.getEventPosition(a),T=Math.abs(g-this.minHandleElement.position),H=Math.abs(g-this.maxHandleElement.position);return T<H?gn.Min:T>H?gn.Max:this.viewOptions.rightToLeft?g>this.minHandleElement.position?gn.Min:gn.Max:g<this.minHandleElement.position?gn.Min:gn.Max}bindEvents(){const a=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",g=>this.onBarStart(null,a,g,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",g=>this.onBarStart(gn.Min,a,g,!0,!0)),this.maxHandleElement.on("mousedown",g=>this.onBarStart(gn.Max,a,g,!0,!0))):(this.minHandleElement.on("mousedown",g=>this.onStart(gn.Min,g,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",g=>this.onStart(gn.Max,g,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",g=>this.onStart(null,g,!0,!0,!0)),this.ticksElement.on("mousedown",g=>this.onStart(null,g,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",g=>this.onBarStart(null,a,g,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",g=>this.onBarStart(gn.Min,a,g,!0,!0)),this.maxHandleElement.onPassive("touchstart",g=>this.onBarStart(gn.Max,a,g,!0,!0))):(this.minHandleElement.onPassive("touchstart",g=>this.onStart(gn.Min,g,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",g=>this.onStart(gn.Max,g,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",g=>this.onStart(null,g,!0,!0,!0)),this.ticksElement.onPassive("touchstart",g=>this.onStart(null,g,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(gn.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(gn.Max)))}getOptionsInfluencingEventBindings(a){return[a.disabled,a.readOnly,a.draggableRange,a.draggableRangeOnly,a.onlyBindHandles,a.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const a of this.getAllSliderElements())St.isNullOrUndefined(a)||a.off()}onBarStart(a,g,T,H,oe,De,tt){g?this.onDragStart(a,T,H,oe):this.onStart(a,T,H,oe,De,tt)}onStart(a,g,T,H,oe,De){g.stopPropagation(),!or.isTouchEvent(g)&&!Le&&g.preventDefault(),this.moving=!1,this.calculateViewDimensions(),St.isNullOrUndefined(a)&&(a=this.getNearestHandle(g)),this.currentTrackingPointer=a;const tt=this.getPointerElement(a);if(tt.active=!0,this.viewOptions.keyboardSupport&&tt.focus(),T){this.unsubscribeOnMove();const Ct=Xt=>this.dragging.active?this.onDragMove(Xt):this.onMove(Xt);this.onMoveEventListener=or.isTouchEvent(g)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",Ct):this.eventListenerHelper.attachEventListener(document,"mousemove",Ct)}if(H){this.unsubscribeOnEnd();const Ct=Xt=>this.onEnd(Xt);this.onEndEventListener=or.isTouchEvent(g)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",Ct):this.eventListenerHelper.attachEventListener(document,"mouseup",Ct)}this.userChangeStart.emit(this.getChangeContext()),or.isTouchEvent(g)&&!St.isNullOrUndefined(g.changedTouches)&&St.isNullOrUndefined(this.touchId)&&(this.touchId=g.changedTouches[0].identifier),oe&&this.onMove(g,!0),De&&this.onEnd(g)}onMove(a,g){let T=null;if(or.isTouchEvent(a)){const Ct=a.changedTouches;for(let Xt=0;Xt<Ct.length;Xt++)if(Ct[Xt].identifier===this.touchId){T=Ct[Xt];break}if(St.isNullOrUndefined(T))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const H=St.isNullOrUndefined(T)?this.getEventPosition(a):this.getEventPosition(a,T.identifier);let oe;H<=0?oe=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:H>=this.maxHandlePosition?oe=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(oe=this.positionToValue(H),oe=g&&!St.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(oe,this.viewOptions.tickStep):this.roundStep(oe)),this.positionTrackingHandle(oe)}onEnd(a){or.isTouchEvent(a)&&a.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(a){const g=this.getPointerElement(a);g.on("blur",()=>this.onPointerBlur(g)),g.on("keydown",T=>this.onKeyboardEvent(T)),g.on("keyup",()=>this.onKeyUp()),g.active=!0,this.currentTrackingPointer=a,this.currentFocusPointer=a,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(a){a.off("blur"),a.off("keydown"),a.off("keyup"),a.active=!1,St.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(a){const g=this.viewOptions.ceil-this.viewOptions.floor;let T=a+this.viewOptions.step,H=a-this.viewOptions.step,oe=a+g/10,De=a-g/10;this.viewOptions.reversedControls&&(T=a-this.viewOptions.step,H=a+this.viewOptions.step,oe=a-g/10,De=a+g/10);const tt={UP:T,DOWN:H,LEFT:H,RIGHT:T,PAGEUP:oe,PAGEDOWN:De,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(tt.LEFT=T,tt.RIGHT=H,(this.viewOptions.vertical||0!==this.viewOptions.rotate)&&(tt.UP=H,tt.DOWN=T)),tt}onKeyboardEvent(a){const g=this.getCurrentTrackingValue(),T=St.isNullOrUndefined(a.keyCode)?a.which:a.keyCode,tt=this.getKeyActions(g)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[T]];if(St.isNullOrUndefined(tt)||St.isNullOrUndefined(this.currentTrackingPointer))return;a.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const Ct=wi.clampToRange(tt,this.viewOptions.floor,this.viewOptions.ceil),Xt=this.roundStep(Ct);if(this.viewOptions.draggableRangeOnly){const Cn=this.viewHighValue-this.viewLowValue;let Zn,si;this.currentTrackingPointer===gn.Min?(Zn=Xt,si=Xt+Cn,si>this.viewOptions.ceil&&(si=this.viewOptions.ceil,Zn=si-Cn)):this.currentTrackingPointer===gn.Max&&(si=Xt,Zn=Xt-Cn,Zn<this.viewOptions.floor&&(Zn=this.viewOptions.floor,si=Zn+Cn)),this.positionTrackingBar(Zn,si)}else this.positionTrackingHandle(Xt)}onDragStart(a,g,T,H){const oe=this.getEventPosition(g);this.dragging=new zr,this.dragging.active=!0,this.dragging.value=this.positionToValue(oe),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-oe:oe-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?oe-this.maxHandleElement.position:this.maxHandleElement.position-oe,this.onStart(a,g,T,H)}getMinValue(a,g,T){const H=this.viewOptions.rightToLeft;let oe=null;return oe=g?T?H?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:H?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(H?a+this.dragging.lowLimit:a-this.dragging.lowLimit),this.roundStep(oe)}getMaxValue(a,g,T){const H=this.viewOptions.rightToLeft;let oe=null;return oe=g?T?H?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:H?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:H?this.positionToValue(a+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(a-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(oe)}onDragMove(a){const g=this.getEventPosition(a);let T,H,oe,De;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(T=this.dragging.lowLimit,H=this.dragging.highLimit,oe=this.maxHandleElement,De=this.minHandleElement):(T=this.dragging.highLimit,H=this.dragging.lowLimit,oe=this.minHandleElement,De=this.maxHandleElement);const Ct=g>=this.maxHandlePosition-T;let Xt,Cn;if(g<=H){if(0===oe.position)return;Xt=this.getMinValue(g,!0,!1),Cn=this.getMaxValue(g,!0,!1)}else if(Ct){if(De.position===this.maxHandlePosition)return;Cn=this.getMaxValue(g,!0,!0),Xt=this.getMinValue(g,!0,!0)}else Xt=this.getMinValue(g,!1,!1),Cn=this.getMaxValue(g,!1,!1);this.positionTrackingBar(Xt,Cn)}positionTrackingBar(a,g){!St.isNullOrUndefined(this.viewOptions.minLimit)&&a<this.viewOptions.minLimit&&(g=wi.roundToPrecisionLimit((a=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!St.isNullOrUndefined(this.viewOptions.maxLimit)&&g>this.viewOptions.maxLimit&&(a=wi.roundToPrecisionLimit((g=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=a,this.viewHighValue=g,this.applyViewChange(),this.updateHandles(gn.Min,this.valueToPosition(a)),this.updateHandles(gn.Max,this.valueToPosition(g))}positionTrackingHandle(a){a=this.applyMinMaxLimit(a),this.range&&(this.viewOptions.pushRange?a=this.applyPushRange(a):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===gn.Min&&a>this.viewHighValue?a=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===gn.Max&&a<this.viewLowValue&&(a=this.applyMinMaxRange(this.viewLowValue))),a=this.applyMinMaxRange(a),this.currentTrackingPointer===gn.Min&&a>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(gn.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=gn.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===gn.Max&&a<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(gn.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=gn.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==a&&(this.currentTrackingPointer===gn.Min?(this.viewLowValue=a,this.applyViewChange()):this.currentTrackingPointer===gn.Max&&(this.viewHighValue=a,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(a)),this.updateAriaAttributes())}applyMinMaxLimit(a){return!St.isNullOrUndefined(this.viewOptions.minLimit)&&a<this.viewOptions.minLimit?this.viewOptions.minLimit:!St.isNullOrUndefined(this.viewOptions.maxLimit)&&a>this.viewOptions.maxLimit?this.viewOptions.maxLimit:a}applyMinMaxRange(a){const T=Math.abs(a-(this.currentTrackingPointer===gn.Min?this.viewHighValue:this.viewLowValue));if(!St.isNullOrUndefined(this.viewOptions.minRange)&&T<this.viewOptions.minRange){if(this.currentTrackingPointer===gn.Min)return wi.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===gn.Max)return wi.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!St.isNullOrUndefined(this.viewOptions.maxRange)&&T>this.viewOptions.maxRange){if(this.currentTrackingPointer===gn.Min)return wi.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===gn.Max)return wi.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return a}applyPushRange(a){const g=this.currentTrackingPointer===gn.Min?this.viewHighValue-a:a-this.viewLowValue,T=St.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,H=this.viewOptions.maxRange;return g<T?(this.currentTrackingPointer===gn.Min?(this.viewHighValue=wi.roundToPrecisionLimit(Math.min(a+T,this.viewOptions.ceil),this.viewOptions.precisionLimit),a=wi.roundToPrecisionLimit(this.viewHighValue-T,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(gn.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===gn.Max&&(this.viewLowValue=wi.roundToPrecisionLimit(Math.max(a-T,this.viewOptions.floor),this.viewOptions.precisionLimit),a=wi.roundToPrecisionLimit(this.viewLowValue+T,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(gn.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!St.isNullOrUndefined(H)&&g>H&&(this.currentTrackingPointer===gn.Min?(this.viewHighValue=wi.roundToPrecisionLimit(a+H,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(gn.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===gn.Max&&(this.viewLowValue=wi.roundToPrecisionLimit(a-H,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(gn.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),a}getChangeContext(){const a=new rr;return a.pointerType=this.currentTrackingPointer,a.value=+this.value,this.range&&(a.highValue=+this.highValue),a}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(h.R0b))},E.\u0275cmp=h.Xpm({type:E,selectors:[["ngx-slider"]],contentQueries:function(a,g,T){if(1&a&&h.Suo(T,et,5),2&a){let H;h.iGM(H=h.CRH())&&(g.tooltipTemplate=H.first)}},viewQuery:function(a,g){if(1&a&&(h.Gf(Lt,5,Gr),h.Gf(Vt,5,Gr),h.Gf(bn,5,Gr),h.Gf(vn,5,Gr),h.Gf(Tn,5,Ur),h.Gf(vi,5,Ur),h.Gf(Ci,5,Ji),h.Gf(Ti,5,Ji),h.Gf(Cr,5,Ji),h.Gf(xi,5,Ji),h.Gf(Yt,5,Ji),h.Gf(qn,5,Gr)),2&a){let T;h.iGM(T=h.CRH())&&(g.leftOuterSelectionBarElement=T.first),h.iGM(T=h.CRH())&&(g.rightOuterSelectionBarElement=T.first),h.iGM(T=h.CRH())&&(g.fullBarElement=T.first),h.iGM(T=h.CRH())&&(g.selectionBarElement=T.first),h.iGM(T=h.CRH())&&(g.minHandleElement=T.first),h.iGM(T=h.CRH())&&(g.maxHandleElement=T.first),h.iGM(T=h.CRH())&&(g.floorLabelElement=T.first),h.iGM(T=h.CRH())&&(g.ceilLabelElement=T.first),h.iGM(T=h.CRH())&&(g.minHandleLabelElement=T.first),h.iGM(T=h.CRH())&&(g.maxHandleLabelElement=T.first),h.iGM(T=h.CRH())&&(g.combinedLabelElement=T.first),h.iGM(T=h.CRH())&&(g.ticksElement=T.first)}},hostAttrs:[1,"ngx-slider"],hostVars:8,hostBindings:function(a,g){1&a&&h.NdJ("resize",function(H){return g.onResize(H)},!1,h.Jf7),2&a&&(h.uIk("disabled",g.sliderElementDisabledAttr)("aria-label",g.sliderElementAriaLabel),h.ekj("vertical",g.sliderElementVerticalClass)("animate",g.sliderElementAnimateClass)("with-legend",g.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[h._Bn([Zr]),h.TTD],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(a,g){1&a&&(h.TgZ(0,"span",0,1),h._UZ(2,"span",2),h.qZA(),h.TgZ(3,"span",3,4),h._UZ(5,"span",2),h.qZA(),h.TgZ(6,"span",5,6),h._UZ(8,"span",2),h.qZA(),h.TgZ(9,"span",7,8),h._UZ(11,"span",9),h.qZA(),h._UZ(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),h.TgZ(26,"span",24,25),h.YNc(28,Wi,4,9,"span",26),h.qZA()),2&a&&(h.xp6(6),h.ekj("ngx-slider-transparent",g.fullBarTransparentClass),h.xp6(3),h.ekj("ngx-slider-draggable",g.selectionBarDraggableClass),h.xp6(2),h.Q6J("ngStyle",g.barStyle),h.xp6(1),h.Q6J("ngStyle",g.minPointerStyle),h.xp6(2),h.Udp("display",g.range?"inherit":"none"),h.Q6J("ngStyle",g.maxPointerStyle),h.xp6(12),h.ekj("ngx-slider-ticks-values-under",g.ticksUnderValuesClass),h.Q6J("hidden",!g.showTicks),h.xp6(2),h.Q6J("ngForOf",g.ticks))},directives:function(){return[Gr,ut.PC,Ur,Ji,ut.sg,ut.mk,gs,ut.O5]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-pointer:after{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),E})(),gs=(()=>{class E{}return E.\u0275fac=function(a){return new(a||E)},E.\u0275cmp=h.Xpm({type:E,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(a,g){1&a&&(h.YNc(0,Di,2,6,"ng-container",0),h.YNc(1,Ln,3,3,"ng-container",0)),2&a&&(h.Q6J("ngIf",g.template),h.xp6(1),h.Q6J("ngIf",!g.template))},directives:[ut.O5,ut.tP],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),E})(),Ws=(()=>{class E{}return E.\u0275fac=function(a){return new(a||E)},E.\u0275mod=h.oAB({type:E}),E.\u0275inj=h.cJS({imports:[[ut.ez]]}),E})();function Xi(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"li",18)(1,"input",19),h.NdJ("ngModelChange",function(T){return h.CHM(a).$implicit.selected=T}),h.qZA(),h.TgZ(2,"label",20),h._uU(3),h.qZA()()}if(2&E){const a=c.$implicit,g=c.index;h.xp6(1),h.Q6J("id",(null==a?null:a.sub_interests_name)+g)("ngModel",a.selected),h.xp6(1),h.Q6J("for",(null==a?null:a.sub_interests_name)+g),h.xp6(1),h.hij(" ",null==a?null:a.sub_interests_name," ")}}function bo(E,c){if(1&E&&(h.TgZ(0,"ul",14)(1,"li")(2,"span",15),h._uU(3),h.qZA(),h.TgZ(4,"ul",16),h.YNc(5,Xi,4,4,"li",17),h.qZA()()()),2&E){const a=c.$implicit;h.xp6(3),h.hij(" ",null==a?null:a.name," "),h.xp6(2),h.Q6J("ngForOf",null==a?null:a.sub_interests)}}function ot(E,c){1&E&&h._UZ(0,"i",21)}function Ye(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"li",18)(1,"input",19),h.NdJ("ngModelChange",function(T){return h.CHM(a).$implicit.selected=T}),h.qZA(),h.TgZ(2,"label",20),h._uU(3),h.qZA()()}if(2&E){const a=c.$implicit,g=c.index;h.xp6(1),h.Q6J("id",(null==a?null:a.name)+g)("ngModel",a.selected),h.xp6(1),h.Q6J("for",(null==a?null:a.name)+g),h.xp6(1),h.hij(" ",null==a?null:a.name," ")}}function gt(E,c){if(1&E&&(h.TgZ(0,"ul",14)(1,"li")(2,"span",15),h._uU(3),h.qZA(),h.TgZ(4,"ul",16),h.YNc(5,Ye,4,4,"li",17),h.qZA()()()),2&E){const a=c.$implicit;h.xp6(3),h.hij(" ",null==a?null:a.gov," "),h.xp6(2),h.Q6J("ngForOf",null==a?null:a.areas)}}function Bt(E,c){1&E&&h._UZ(0,"i",21)}function ln(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"li",18)(1,"input",19),h.NdJ("ngModelChange",function(T){return h.CHM(a).$implicit.selected=T}),h.qZA(),h.TgZ(2,"label",20),h._uU(3),h.qZA()()}if(2&E){const a=c.$implicit,g=c.index;h.xp6(1),h.Q6J("id",(null==a?null:a.child_name)+g)("ngModel",a.selected),h.xp6(1),h.Q6J("for",(null==a?null:a.child_name)+g),h.xp6(1),h.hij(" ",null==a?null:a.child_name," ")}}function En(E,c){1&E&&h._UZ(0,"i",21)}function $n(E,c){if(1&E&&(h.TgZ(0,"div",3)(1,"div")(2,"accordion",4)(3,"accordion-group",5),h.ALo(4,"translate"),h.TgZ(5,"ul",14),h.YNc(6,ln,4,4,"li",17),h.qZA(),h.TgZ(7,"div",7),h.YNc(8,En,1,0,"i",8),h.qZA()()()()()),2&E){const a=h.oxw();h.xp6(2),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(4,4,"members")),h.xp6(3),h.Q6J("ngForOf",a.members),h.xp6(2),h.Q6J("ngIf",null==a.membersservice?null:a.membersservice.membersLoading)}}let qi=(()=>{class E{constructor(a,g,T,H){this.homeService=a,this.router=g,this.membersservice=T,this.authService=H,this.interst=[],this.areas=[],this.members=[],this.rate=0,this.value=0,this.highValue=60,this.options={floor:0,ceil:60},this.value2=0,this.highValue2=3e3,this.options2={floor:0,ceil:3e3},this.closefilterpopup=new h.vpe}onRatingSet(a){.5==this.rate&&.5==a?(this.rate=0,this.starsComponent.setRating(0)):this.rate=a,console.log(this.rate)}ngOnInit(){this.homeService.intersts.subscribe(a=>{this.interst=a,this.interst.forEach(g=>{var T;(null===(T=null==g?void 0:g.sub_interests)||void 0===T?void 0:T.length)&&(null==g||g.sub_interests.map(H=>{H.selected=!1}))})}),this.authService.areas.subscribe(a=>{a&&(this.areas=a,this.areas.forEach(g=>{var T;(null===(T=null==g?void 0:g.areas)||void 0===T?void 0:T.length)&&(null==g||g.areas.map(H=>{H.selected=!1}))}))}),this.membersservice.members.subscribe(a=>{a&&(this.members=a,this.members.forEach(g=>{g.selected=!1}))})}isLogin(){return!!localStorage.getItem("joinToken")}doneFilter(){let a=[{interests_id:[],child_id:[],area_id:[],age_from:this.value,age_to:this.highValue,price_from:this.value2,price_to:this.highValue2,rating:this.rate}];this.interst.forEach(g=>{g.sub_interests.forEach(T=>{(null==T?void 0:T.selected)&&a[0].interests_id.push(null==T?void 0:T.sub_interests_id)})}),this.areas.forEach(g=>{g.areas.forEach(T=>{(null==T?void 0:T.selected)&&a[0].area_id.push(null==T?void 0:T.id)})}),this.members.forEach(g=>{(null==g?void 0:g.selected)&&a[0].child_id.push(null==g?void 0:g.child_id)}),this.closefilterpopup.emit(!0),this.router.navigate(["/search/-1"],{queryParams:{filterbody:JSON.stringify(a)}})}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(Te.Y),h.Y36(G.F0),h.Y36(se.Z),h.Y36(at.e))},E.\u0275cmp=h.Xpm({type:E,selectors:[["app-filter"]],viewQuery:function(a,g){if(1&a&&h.Gf(dt.ve,5),2&a){let T;h.iGM(T=h.CRH())&&(g.starsComponent=T.first)}},outputs:{closefilterpopup:"closefilterpopup"},decls:45,vars:40,consts:[[1,"container"],[2,"font-weight","400","font-size","20px","line-height","30px"],[1,"row","body"],[1,"col-lg-6","col-xl-4","mb-3"],[3,"isAnimated"],[3,"heading"],["class","list-unstyled p-0",4,"ngFor","ngForOf"],[1,"text-center"],["class","fas fa-circle-notch fa-spin",4,"ngIf"],["class","col-lg-6 col-xl-4 mb-3",4,"ngIf"],[2,"display","flex","align-items","center","justify-content","center"],["customSize","20px","color","#F89416",3,"readonly","size","maxStars","ratingOutput"],[3,"value","highValue","options","valueChange","highValueChange"],[1,"orangebtn",3,"click"],[1,"list-unstyled","p-0"],[1,"d-block","rounded","text-white","p-2","mb-2",2,"background-color","#F89416"],[1,"list-unstyled","p-0","mx-2"],["class","mb-2 d-flex",4,"ngFor","ngForOf"],[1,"mb-2","d-flex"],["type","checkbox",3,"id","ngModel","ngModelChange"],[1,"mx-2",3,"for"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(a,g){1&a&&(h.TgZ(0,"div",0)(1,"h2",1),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"div",2)(5,"div",3)(6,"div")(7,"accordion",4)(8,"accordion-group",5),h.ALo(9,"translate"),h.YNc(10,bo,6,2,"ul",6),h.TgZ(11,"div",7),h.YNc(12,ot,1,0,"i",8),h.qZA()()()()(),h.TgZ(13,"div",3)(14,"div")(15,"accordion",4)(16,"accordion-group",5),h.ALo(17,"translate"),h.YNc(18,gt,6,2,"ul",6),h.TgZ(19,"div",7),h.YNc(20,Bt,1,0,"i",8),h.qZA()()()()(),h.YNc(21,$n,9,6,"div",9),h.TgZ(22,"div",3)(23,"div")(24,"accordion",4)(25,"accordion-group",5),h.ALo(26,"translate"),h.TgZ(27,"div",7)(28,"div",10)(29,"ngx-stars",11),h.NdJ("ratingOutput",function(H){return g.onRatingSet(H)}),h.qZA()()()()()()(),h.TgZ(30,"div",3)(31,"div")(32,"accordion",4)(33,"accordion-group",5),h.ALo(34,"translate"),h.TgZ(35,"ngx-slider",12),h.NdJ("valueChange",function(H){return g.value2=H})("highValueChange",function(H){return g.highValue2=H}),h.qZA()()()()(),h.TgZ(36,"div",3)(37,"div")(38,"accordion",4)(39,"accordion-group",5),h.ALo(40,"translate"),h.TgZ(41,"ngx-slider",12),h.NdJ("valueChange",function(H){return g.value=H})("highValueChange",function(H){return g.highValue=H}),h.qZA()()()()()(),h.TgZ(42,"button",13),h.NdJ("click",function(){return g.doneFilter()}),h._uU(43),h.ALo(44,"translate"),h.qZA()()),2&a&&(h.xp6(2),h.Oqu(h.lcZ(3,26,"Filter")),h.xp6(5),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(9,28,"categories")),h.xp6(2),h.Q6J("ngForOf",g.interst),h.xp6(2),h.Q6J("ngIf",null==g.homeService?null:g.homeService.interistsLoading),h.xp6(3),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(17,30,"area")),h.xp6(2),h.Q6J("ngForOf",g.areas),h.xp6(2),h.Q6J("ngIf",null==g.authService?null:g.authService.arealoading),h.xp6(1),h.Q6J("ngIf",g.isLogin()),h.xp6(3),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(26,32,"rating")),h.xp6(4),h.Q6J("readonly",!1)("size",5)("maxStars",5),h.xp6(3),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(34,34,"price")),h.xp6(2),h.Q6J("value",g.value2)("highValue",g.highValue2)("options",g.options2),h.xp6(3),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(40,36,"age_range")),h.xp6(2),h.Q6J("value",g.value)("highValue",g.highValue)("options",g.options),h.xp6(2),h.hij(" ",h.lcZ(44,38,"search")," "))},directives:[Be.Zf,Be.U_,ut.sg,ft.Wl,ft.JJ,ft.On,ut.O5,dt.ve,Es],pipes:[Ce.X$],styles:[".accordion-toggle .btn.btn-link{color:#000!important;text-decoration:none!important}  .bs-rating-star{font-size:30px!important}"]}),E})();const Ri=function(E){return{id:E}};function us(E,c){if(1&E&&(h.TgZ(0,"div",34)(1,"a",35),h._uU(2),h.qZA()()),2&E){const a=c.$implicit,g=h.oxw(3);h.xp6(1),h.Q6J("queryParams",h.VKq(2,Ri,null==a?null:a.id)),h.xp6(1),h.hij(" ","ar"==g.lang?null==a?null:a.name_ar:null==a?null:a.name_en," ")}}function Os(E,c){if(1&E&&(h.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"p",32),h._uU(4),h.ALo(5,"translate"),h.qZA(),h._UZ(6,"hr"),h.qZA(),h.YNc(7,us,3,4,"div",33),h.qZA()()),2&E){const a=h.oxw(2);h.xp6(4),h.hij(" ",h.lcZ(5,2,"categories")," "),h.xp6(3),h.Q6J("ngForOf",a.categories)}}const dr=function(){return{exact:!0}};function jo(E,c){if(1&E){const a=h.EpF();h.ynx(0),h.TgZ(1,"li",14)(2,"a",36),h.NdJ("click",function(){h.CHM(a);const T=h.oxw(2);return T.openNavbar=!T.openNavbar}),h._uU(3),h.ALo(4,"translate"),h.qZA()(),h.TgZ(5,"li",14)(6,"a",37),h.NdJ("click",function(){h.CHM(a);const T=h.oxw(2);return T.openNavbar=!T.openNavbar}),h._uU(7),h.ALo(8,"translate"),h.qZA()(),h.TgZ(9,"li",14)(10,"a",38),h.NdJ("click",function(){h.CHM(a);const T=h.oxw(2);return T.openNavbar=!T.openNavbar}),h._uU(11),h.ALo(12,"translate"),h.qZA()(),h.TgZ(13,"li",14)(14,"a",39),h.NdJ("click",function(){h.CHM(a);const T=h.oxw(2);return T.openNavbar=!T.openNavbar}),h._uU(15),h.ALo(16,"translate"),h.qZA()(),h.TgZ(17,"li",14)(18,"a",40),h._uU(19),h.ALo(20,"translate"),h.qZA()(),h.TgZ(21,"li",14)(22,"a",41),h.NdJ("click",function(){h.CHM(a);const T=h.oxw(2);return T.openNavbar=!T.openNavbar}),h._uU(23),h.ALo(24,"translate"),h.qZA()(),h.BQk()}2&E&&(h.xp6(2),h.Q6J("routerLinkActiveOptions",h.DdM(23,dr)),h.xp6(1),h.Oqu(h.lcZ(4,11,"myaccount")),h.xp6(3),h.Q6J("routerLinkActiveOptions",h.DdM(24,dr)),h.xp6(1),h.Oqu(h.lcZ(8,13,"history")),h.xp6(3),h.Q6J("routerLinkActiveOptions",h.DdM(25,dr)),h.xp6(1),h.Oqu(h.lcZ(12,15,"notifications")),h.xp6(3),h.Q6J("routerLinkActiveOptions",h.DdM(26,dr)),h.xp6(1),h.Oqu(h.lcZ(16,17,"favorite")),h.xp6(4),h.Oqu(h.lcZ(20,19,"Follow_Us")),h.xp6(3),h.Q6J("routerLinkActiveOptions",h.DdM(27,dr)),h.xp6(1),h.Oqu(h.lcZ(24,21,"contactus")))}function Kr(E,c){if(1&E&&(h.TgZ(0,"span",42),h._uU(1),h.qZA()),2&E){const a=h.oxw(2);h.xp6(1),h.Oqu(a.cartitemsCount)}}function hr(E,c){1&E&&(h.ynx(0),h.TgZ(1,"a",43),h._UZ(2,"i",44),h.qZA(),h.TgZ(3,"a",45),h._UZ(4,"i",46),h.qZA(),h.BQk())}function $o(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"ul",52)(1,"li",53),h._UZ(2,"img",54),h.qZA(),h.TgZ(3,"li",55)(4,"span",56),h._uU(5),h.ALo(6,"titlecase"),h.ALo(7,"titlecase"),h.qZA(),h.TgZ(8,"span",57),h._uU(9),h.qZA()(),h.TgZ(10,"li",58)(11,"a",59),h._UZ(12,"i",60),h._uU(13),h.ALo(14,"translate"),h.qZA()(),h.TgZ(15,"li",58)(16,"a",61),h._UZ(17,"i",62),h._uU(18),h.ALo(19,"translate"),h.qZA()(),h.TgZ(20,"li",58)(21,"a",45),h._UZ(22,"i",63),h._uU(23),h.ALo(24,"translate"),h.qZA()(),h.TgZ(25,"li",58)(26,"a",64),h._UZ(27,"i",65),h._uU(28),h.ALo(29,"translate"),h.qZA()(),h.TgZ(30,"li",58)(31,"a",40),h._UZ(32,"i",66),h._uU(33),h.ALo(34,"translate"),h.qZA()(),h.TgZ(35,"li",58)(36,"a",67),h._UZ(37,"i",68),h._uU(38),h.ALo(39,"translate"),h.qZA()(),h.TgZ(40,"li",58)(41,"a",21),h.NdJ("click",function(){return h.CHM(a),h.oxw(3).logout()}),h._UZ(42,"i",69),h._uU(43),h.ALo(44,"translate"),h.qZA()()()}if(2&E){const a=h.oxw(3);h.xp6(5),h.AsE(" ",h.lcZ(6,10,null==a.userdata?null:a.userdata.fname)," ",h.lcZ(7,12,null==a.userdata?null:a.userdata.lname)," "),h.xp6(4),h.hij(" ",null==a.userdata?null:a.userdata.email," "),h.xp6(4),h.hij(" ",h.lcZ(14,14,"myaccount")," "),h.xp6(5),h.hij(" ",h.lcZ(19,16,"history")," "),h.xp6(5),h.hij(" ",h.lcZ(24,18,"notifications")," "),h.xp6(5),h.hij(" ",h.lcZ(29,20,"favorite")," "),h.xp6(5),h.hij(" ",h.lcZ(34,22,"follow")," "),h.xp6(5),h.hij(" ",h.lcZ(39,24,"contactus")," "),h.xp6(5),h.hij(" ",h.lcZ(44,26,"logout")," ")}}function xr(E,c){if(1&E&&(h.TgZ(0,"li",47)(1,"div",48)(2,"a",49),h._uU(3),h.ALo(4,"uppercase"),h._UZ(5,"span",50),h.qZA(),h.YNc(6,$o,45,28,"ul",51),h.qZA()()),2&E){const a=h.oxw(2);h.xp6(3),h.hij(" ",h.lcZ(4,1,a.userName)," ")}}function Ms(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"li",70)(1,"a",71),h.NdJ("click",function(){return h.CHM(a),h.oxw(2).logout()}),h._uU(2),h.ALo(3,"translate"),h.qZA()()}2&E&&(h.xp6(2),h.Oqu(h.lcZ(3,1,"logout")))}function Qn(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"li",72)(1,"a",73),h.NdJ("click",function(){h.CHM(a);const T=h.oxw(2);return T.openNavbar=!T.openNavbar}),h._uU(2),h.ALo(3,"translate"),h.qZA()()}2&E&&(h.xp6(2),h.Oqu(h.lcZ(3,1,"signin")))}const bs=function(E,c){return{"padding-right":E,"padding-left":c}},Ps=function(E,c){return{right:E,left:c}},ms=function(E,c){return{"d-flex":E,"d-none":c}};function Aa(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"nav")(1,"div",2)(2,"div",3)(3,"a",4),h.NdJ("click",function(){h.CHM(a);const T=h.oxw();return T.openNavbar=!T.openNavbar}),h._UZ(4,"img",5),h.qZA(),h._UZ(5,"span",6),h.TgZ(6,"div",7)(7,"input",8,9),h.NdJ("keyup.enter",function(){h.CHM(a);const T=h.MAs(8);return h.oxw().inputSearch(T.value)}),h.ALo(9,"translate"),h.qZA(),h.TgZ(10,"i",10),h.NdJ("click",function(){return h.CHM(a),h.oxw().filterPopup=!0}),h.qZA()(),h.TgZ(11,"i",11),h.NdJ("click",function(){h.CHM(a);const T=h.oxw();return T.openNavbar=!T.openNavbar}),h.qZA()(),h.TgZ(12,"ul",12)(13,"li")(14,"a",13),h.NdJ("click",function(){h.CHM(a);const T=h.oxw();return T.openNavbar=!T.openNavbar}),h._uU(15),h.ALo(16,"translate"),h.qZA()(),h.TgZ(17,"li",14)(18,"a",15),h.NdJ("click",function(){h.CHM(a);const T=h.oxw();return T.openNavbar=!T.openNavbar}),h._uU(19),h.ALo(20,"translate"),h.qZA()(),h.TgZ(21,"li",16)(22,"a",17),h.NdJ("click",function(){h.CHM(a);const T=h.oxw();return T.openNavbar=!T.openNavbar}),h._uU(23),h.ALo(24,"translate"),h.qZA(),h.YNc(25,Os,8,4,"div",18),h.qZA(),h.TgZ(26,"li")(27,"a",19),h.NdJ("click",function(){h.CHM(a);const T=h.oxw();return T.openNavbar=!T.openNavbar}),h._uU(28),h.ALo(29,"translate"),h.qZA()(),h.YNc(30,jo,25,28,"ng-container",0),h.TgZ(31,"li",20)(32,"a",21),h.NdJ("click",function(){h.CHM(a);const T=h.oxw();return T.selectLang("ar"==T.lang?"en":"ar"),T.openNavbar=!T.openNavbar}),h._uU(33),h.qZA()(),h.TgZ(34,"li",20)(35,"div",22)(36,"a",23),h._UZ(37,"i",24),h.YNc(38,Kr,2,1,"span",25),h.qZA(),h.YNc(39,hr,5,0,"ng-container",0),h.qZA()(),h.YNc(40,xr,7,3,"li",26),h.YNc(41,Ms,4,3,"li",27),h.YNc(42,Qn,4,3,"li",28),h.qZA()()()}if(2&E){const a=h.oxw();h.xp6(7),h.s9C("placeholder",h.lcZ(9,18,"lets_explore")),h.Q6J("ngStyle",h.WLB(28,bs,"ar"==a.lang?"30px":"7px","ar"==a.lang?"7px":"30px")),h.xp6(3),h.Q6J("ngStyle",h.WLB(31,Ps,"ar"==a.lang?"10px":"auto","ar"==a.lang?"auto":"10px")),h.xp6(2),h.Q6J("ngClass",h.WLB(34,ms,a.openNavbar,!a.openNavbar)),h.xp6(2),h.Q6J("routerLinkActiveOptions",h.DdM(37,dr)),h.xp6(1),h.Oqu(h.lcZ(16,20,"home")),h.xp6(3),h.Q6J("routerLinkActiveOptions",h.DdM(38,dr)),h.xp6(1),h.Oqu(h.lcZ(20,22,"store")),h.xp6(4),h.Oqu(h.lcZ(24,24,"store")),h.xp6(4),h.Q6J("routerLinkActiveOptions",h.DdM(39,dr)),h.xp6(1),h.Oqu(h.lcZ(29,26,"activities")),h.xp6(2),h.Q6J("ngIf",a.isLogin()),h.xp6(3),h.hij(" ","ar"==a.lang?"en":"ar",""),h.xp6(5),h.Q6J("ngIf",a.cartitemsCount),h.xp6(1),h.Q6J("ngIf",a.isLogin()),h.xp6(1),h.Q6J("ngIf",a.isLogin()),h.xp6(1),h.Q6J("ngIf",a.isLogin()),h.xp6(1),h.Q6J("ngIf",!a.isLogin())}}const Go=function(E,c){return{left:E,right:c}};function es(E,c){if(1&E){const a=h.EpF();h.TgZ(0,"div",74)(1,"div",75)(2,"i",76),h.NdJ("click",function(){return h.CHM(a),h.oxw().filterPopup=!1}),h.qZA(),h.TgZ(3,"app-filter",77),h.NdJ("closefilterpopup",function(){return h.CHM(a),h.oxw().filterPopup=!1}),h.qZA()()()}if(2&E){const a=h.oxw();h.Q6J("ngClass",h.WLB(2,ms,a.filterPopup,!a.filterPopup)),h.xp6(2),h.Q6J("ngStyle",h.WLB(5,Go,"ar"==a.lang?"20px":"auto","ar"==a.lang?"auto":"20px"))}}let ta=(()=>{class E{constructor(a,g,T,H,oe){this.authService=a,this.storeSerive=g,this.glopalService=T,this.router=H,this.translateService=oe,this.openNavbar=!1,this.currentLang="",this.hidenave=!1,this.userName="",this.filterPopup=!1,this.userdata=null,this.categories=[],this.currentLang=localStorage.getItem("lang")||"en",this.translateService.use(this.currentLang),"ar"==this.currentLang?document.body.classList.add("custom-rtl"):document.body.classList.remove("custom-rtl")}isLogin(){return!!localStorage.getItem("joinToken")}selectLang(a){location.reload(),this.translateService.use(a),"ar"==a?document.body.classList.add("custom-rtl"):document.body.classList.remove("custom-rtl"),localStorage.setItem("lang",a)}get lang(){return localStorage.getItem("lang")||"en"}ngOnInit(){this.storeSerive.getStoreTabs().subscribe(a=>{var g;return this.categories=null===(g=null==a?void 0:a.payload)||void 0===g?void 0:g.data}),localStorage.getItem("joinToken")&&this.userName.toUpperCase(),this.authService.userProfile.subscribe(a=>{if(a){let g="",T="";(null==a?void 0:a.fname)&&(g=null==a?void 0:a.fname.slice(0,1)),(null==a?void 0:a.lname)&&(T=null==a?void 0:a.lname.slice(0,1)),this.userName=`${g}${T}`,this.userdata=a}}),this.glopalService.hideNavbarAndFooter.subscribe(a=>{this.hidenave=a})}inputSearch(a){a.trim().length>0&&this.router.navigate([`/search/${a}`])}get cartitemsCount(){let a=localStorage.getItem("joincart");return a=a?JSON.parse(a):[],null==a?void 0:a.length}logout(){localStorage.removeItem("joincart"),localStorage.removeItem("joinToken"),this.router.navigate(["/"]),location.reload()}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(at.e),h.Y36(ke.d),h.Y36(lt.W),h.Y36(G.F0),h.Y36(Ce.sK))},E.\u0275cmp=h.Xpm({type:E,selectors:[["app-navbar"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","cstmpopup",3,"ngClass",4,"ngIf"],[1,"container","flex-column","flex-lg-row","d-flex","justify-content-lg-between","py-2","align-items-lg-center"],[1,"logo","d-flex","justify-content-between","justify-content-lg-start","align-items-center"],["routerLink","/",3,"click"],["src","assets/images/mainlogo.png","alt","join"],[1,"d-none","d-lg-block","mx-2"],[1,"position-relative"],["type","text",3,"ngStyle","placeholder","keyup.enter"],["searchInput",""],[1,"fa-solid","fa-filter","maincolor",3,"ngStyle","click"],[1,"fa-solid","fa-bars","d-lg-none",2,"cursor","pointer",3,"click"],[1,"links","main","list-unstyled","m-0","py-1","px-0","d-lg-flex","align-items-lg-center","flex-column","flex-lg-row",3,"ngClass"],["routerLinkActive","active","routerLink","/",3,"routerLinkActiveOptions","click"],[1,"d-lg-none"],["routerLinkActive","active","routerLink","/store",3,"routerLinkActiveOptions","click"],["dropdown","",1,"btn-group","d-none","d-lg-block"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",3,"click"],["id","dropdown-basic","class","dropdown-menu store ","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["routerLinkActive","active","routerLink","/activities",3,"routerLinkActiveOptions","click"],[1,"lang"],[2,"cursor","pointer",3,"click"],[1,"additionicons"],["routerLink","/cart",1,"position-relative"],[1,"fa-solid","fa-cart-shopping"],["class","cartcount",4,"ngIf"],["class","d-none d-lg-block lang position-relative subparent lang",4,"ngIf"],["style","cursor: pointer;","class","d-lg-none",4,"ngIf"],["class","lang signinbtn",4,"ngIf"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","store"],[1,"row","p-3"],[1,"col-md-12"],[1,"fw-bold","maincolor","m-0"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],["routerLink","/store",1,"p-0",2,"white-space","nowrap","overflow","hidden","text-overflow","ellipsis","display","block",3,"queryParams"],["routerLinkActive","active","routerLink","/profile",3,"routerLinkActiveOptions","click"],["routerLinkActive","active","routerLink","/history",3,"routerLinkActiveOptions","click"],["routerLinkActive","active","routerLink","/notifications",3,"routerLinkActiveOptions","click"],["routerLinkActive","active","routerLink","/favorite",3,"routerLinkActiveOptions","click"],["href","https://reach.link/Join_App","target","_blank"],["routerLinkActive","active","routerLink","/contact",3,"routerLinkActiveOptions","click"],[1,"cartcount"],["routerLink","/favorite",1,"mx-2"],[1,"fa-solid","fa-heart"],["routerLink","/notifications"],[1,"fa-solid","fa-bell"],[1,"d-none","d-lg-block","lang","position-relative","subparent","lang"],["dropdown","",1,"btn-group"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"username",2,"-webkit-user-select","none","/* safari */\n                    -ms-user-select","none","/* ie 10 and ie 11 */\n                    user-select","none"],[1,"caret"],["style","max-height: 90vh;overflow: auto;","id","dropdown-basic","class","dropdown-menu cstm","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","cstm",2,"max-height","90vh","overflow","auto"],["role","menuitem"],["src","assets/images/bg.jpg","alt","join",1,"w-100",2,"height","130px","object-fit","cover"],[1,"text-center","first"],[1,"maincolor","d-block"],[1,"text-secondary","d-block",2,"word-wrap","break-word"],["role","menuitem",1,"lang"],["routerLink","/profile"],[1,"fa-regular","fa-user","maincolor"],["routerLink","/history"],[1,"fa-regular","fa-clock","maincolor"],[1,"fa-solid","fa-bell","maincolor"],["routerLink","/favorite"],[1,"fa-solid","fa-heart","maincolor"],[1,"fa-solid","fa-headset","maincolor"],["routerLink","/contact"],[1,"fa-solid","fa-phone","maincolor"],[1,"fa-solid","fa-arrow-right-from-bracket","maincolor"],[1,"d-lg-none",2,"cursor","pointer"],[3,"click"],[1,"lang","signinbtn"],["routerLink","/auth/login",3,"click"],[1,"cstmpopup",3,"ngClass"],[1,"content"],[1,"fa-solid","fa-x",3,"ngStyle","click"],[3,"closefilterpopup"]],template:function(a,g){1&a&&(h.YNc(0,Aa,43,40,"nav",0),h.YNc(1,es,4,8,"div",1)),2&a&&(h.Q6J("ngIf",!g.hidenave),h.xp6(1),h.Q6J("ngIf",g.filterPopup))},directives:[ut.O5,G.yS,ut.PC,ut.mk,G.Od,ze.TO,ze.Mq,ze.Hz,ut.sg,qi],pipes:[Ce.X$,ut.gd,ut.rS],styles:['.country-dropdown{max-width:300px!important}  .swiper-button-next,   .swiper-button-prev{background:#F89416!important;color:#fff!important;border-radius:50%!important;width:40px;height:40px;text-align:center;line-height:40px}  .swiper-button-next:after,   .swiper-button-prev:after{font-size:20px;font-weight:700}  .swiper-pagination-bullet-active{background-color:#f89416!important}  .dropdown-menu.cstm{inset:105% auto auto -270px!important;width:300px;padding:0!important;border-radius:0!important}  .dropdown-menu.store{min-width:400px;inset:100% auto auto -200px!important}  .dropdown-menu.store a:hover{color:#00dcdc!important}  .custom-rtl .dropdown-menu.cstm{inset:105% -270px auto 0!important;width:300px;direction:rtl;text-align:right}  .custom-rtl .dropdown-menu.store{inset:100% -200px auto auto!important;text-align:right;direction:rtl}  .accordion-toggle[aria-expanded=true]:after{font-family:"Font Awesome 5 Free";content:"\\f077";display:inline-block;padding-left:3px;vertical-align:middle;font-weight:900;position:absolute;color:#00dcdc;right:1rem;top:1rem}  .card{background-color:transparent;border:1px solid #e7e7e7;box-shadow:0 8px 16px #0000000d;margin-bottom:10px}  .card .btn.btn-link{width:90%;display:flex;justify-content:flex-start;font-size:small;text-align:left}  .card-header{border-bottom:none;background-color:transparent;padding:10px 0}  .accordion-toggle[aria-expanded=false]:after{font-family:"Font Awesome 5 Free";content:"\\f078";color:#00dcdc;display:inline-block;padding-left:3px;vertical-align:middle;font-weight:900;position:absolute;right:1rem;top:1rem}  .btn-link{font-weight:500;color:#000;text-decoration:none}  .btn.focus,   .btn:focus{box-shadow:none}  .btn-link:hover{color:#000;text-decoration:none}  .custom-rtl .accordion-toggle[aria-expanded=false]:after{left:1rem;right:auto}  .custom-rtl .accordion-toggle[aria-expanded=true]:after{left:1rem;right:auto}  .custom-rtl .card .btn.btn-link{text-align:right}  bs-datepicker-container,   bs-daterangepicker-container{z-index:11111111111111111000000}  bs-datepicker-container{top:-50%!important}.subparent[_ngcontent-%COMP%]:hover   .submenu[_ngcontent-%COMP%]{display:block}.subparent[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{max-height:70vh;overflow:auto;box-shadow:0 2px 12px #0000001a;border:1px solid #ebeef5;border-radius:10px;position:absolute;z-index:111;background:white;top:40px;width:200px;display:none}.subparent[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block}.additionicons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}']}),E})();function qr(E,c){if(1&E&&(h.TgZ(0,"li"),h._UZ(1,"i",5),h.TgZ(2,"span",6),h._uU(3),h.ALo(4,"translate"),h.qZA()()),2&E){const a=c.$implicit;h.xp6(3),h.hij(" ",h.lcZ(4,1,a)," ")}}let ts=(()=>{class E{constructor(){this.h2="",this.p="",this.src=""}ngOnInit(){}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275cmp=h.Xpm({type:E,selectors:[["app-reusable-footer-cart"]],inputs:{h2:"h2",p:"p",src:"src",li:"li"},decls:11,vars:8,consts:[[1,"footerCart"],["alt","join",1,"mb-2",3,"src"],[2,"min-height","70px"],[1,"m-0","p-0","list-unstyled"],[4,"ngFor","ngForOf"],[1,"fa-solid","fa-circle-check"],[1,"mx-2"]],template:function(a,g){1&a&&(h.TgZ(0,"article",0),h._UZ(1,"img",1),h.TgZ(2,"h2"),h._uU(3),h.ALo(4,"translate"),h.qZA(),h.TgZ(5,"div",2)(6,"p"),h._uU(7),h.ALo(8,"translate"),h.qZA()(),h.TgZ(9,"ul",3),h.YNc(10,qr,5,3,"li",4),h.qZA()()),2&a&&(h.xp6(1),h.Q6J("src",g.src,h.LSH),h.xp6(2),h.Oqu(h.lcZ(4,4,g.h2)),h.xp6(4),h.Oqu(h.lcZ(8,6,g.p)),h.xp6(3),h.Q6J("ngForOf",g.li))},directives:[ut.sg],pipes:[Ce.X$],styles:[""]}),E})();function Qs(E,c){if(1&E&&(h.TgZ(0,"div",6)(1,"div"),h._UZ(2,"app-reusable-footer-cart",38),h.qZA()()),2&E){const a=c.$implicit;h.xp6(2),h.Q6J("h2",a.h2)("p",a.p)("src",a.img)("li",a.li)}}function Ni(E,c){1&E&&(h.ynx(0),h.TgZ(1,"li")(2,"a",39),h._uU(3),h.ALo(4,"translate"),h.qZA()(),h.BQk()),2&E&&(h.xp6(3),h.Oqu(h.lcZ(4,1,"wishlist")))}function Or(E,c){if(1&E&&(h.TgZ(0,"footer",1)(1,"div",2)(2,"div",3)(3,"div",4),h.YNc(4,Qs,3,4,"div",5),h.TgZ(5,"div",6)(6,"article",7),h._UZ(7,"img",8),h.TgZ(8,"h2"),h._uU(9),h.ALo(10,"translate"),h.qZA(),h.TgZ(11,"p",9),h._uU(12),h.ALo(13,"translate"),h.qZA(),h._UZ(14,"img",10)(15,"span",11)(16,"img",12),h.qZA()(),h.TgZ(17,"div",6)(18,"article"),h._UZ(19,"img",13),h.TgZ(20,"p",14),h._uU(21),h.ALo(22,"translate"),h.qZA()()(),h.TgZ(23,"div",6)(24,"article")(25,"h2"),h._uU(26),h.ALo(27,"translate"),h.qZA(),h.TgZ(28,"ul",15)(29,"li")(30,"a",16),h._uU(31),h.ALo(32,"translate"),h.qZA()(),h.TgZ(33,"li")(34,"a",17),h._uU(35),h.ALo(36,"translate"),h.qZA()(),h.TgZ(37,"li")(38,"a",18),h._uU(39),h.ALo(40,"translate"),h.qZA()(),h.YNc(41,Ni,5,3,"ng-container",19),h.qZA()()(),h.TgZ(42,"div",6)(43,"article")(44,"h2"),h._uU(45),h.ALo(46,"translate"),h.qZA(),h.TgZ(47,"p",20),h._uU(48),h.ALo(49,"translate"),h.qZA(),h.TgZ(50,"ul",21)(51,"li"),h._uU(52),h.ALo(53,"translate"),h.qZA(),h.TgZ(54,"li"),h._uU(55),h.ALo(56,"translate"),h.qZA(),h.TgZ(57,"li"),h._uU(58),h.ALo(59,"translate"),h.qZA()(),h.TgZ(60,"p",22),h._UZ(61,"i",23),h._uU(62," 1881010"),h.qZA()()(),h.TgZ(63,"div",6)(64,"article")(65,"h2"),h._uU(66),h.ALo(67,"translate"),h.qZA(),h.TgZ(68,"ul",24)(69,"li")(70,"a",25),h._UZ(71,"i",26),h.qZA()(),h.TgZ(72,"li")(73,"a",27),h._UZ(74,"i",28),h.qZA()(),h.TgZ(75,"li")(76,"a",29),h._UZ(77,"i",30),h.qZA()()(),h.TgZ(78,"h2"),h._uU(79),h.ALo(80,"translate"),h.qZA(),h._UZ(81,"img",31),h.qZA()()()(),h.TgZ(82,"div",32)(83,"div",33)(84,"p",34),h._uU(85,"Copyright \xa9Join KUIT 2022"),h.qZA(),h.TgZ(86,"ul",35)(87,"li")(88,"a",36),h._uU(89),h.ALo(90,"translate"),h.qZA()(),h._UZ(91,"li",37),h.TgZ(92,"li")(93,"a",36),h._uU(94),h.ALo(95,"translate"),h.qZA()()()()()()()),2&E){const a=h.oxw();h.xp6(4),h.Q6J("ngForOf",a.footerCart),h.xp6(5),h.Oqu(h.lcZ(10,18,"Download_Center")),h.xp6(3),h.Oqu(h.lcZ(13,20,"Use_mobile_app_and_get_biggest_discounts")),h.xp6(9),h.Oqu(h.lcZ(22,22,"long")),h.xp6(5),h.Oqu(h.lcZ(27,24,"links")),h.xp6(5),h.Oqu(h.lcZ(32,26,"home")),h.xp6(4),h.Oqu(h.lcZ(36,28,"store")),h.xp6(4),h.Oqu(h.lcZ(40,30,"cart")),h.xp6(2),h.Q6J("ngIf",a.islogin()),h.xp6(4),h.Oqu(h.lcZ(46,32,"contactus")),h.xp6(3),h.Oqu(h.lcZ(49,34,"address")),h.xp6(4),h.hij("",h.lcZ(53,36,"email:")," info@royal_pharm.com"),h.xp6(3),h.hij("",h.lcZ(56,38,"tel")," 2930-3303-22"),h.xp6(3),h.hij("",h.lcZ(59,40,"fax")," (+202) 2268 1308"),h.xp6(8),h.Oqu(h.lcZ(67,42,"Follow_Us")),h.xp6(13),h.Oqu(h.lcZ(80,44,"Accepted_Payment_Methods")),h.xp6(10),h.hij(" ",h.lcZ(90,46,"privacy")," "),h.xp6(5),h.hij(" ",h.lcZ(95,48,"termsandconditions")," ")}}let zo=(()=>{class E{constructor(a){this.glopalService=a,this.footerCart=[{h2:"Assured_Purchase",p:"Provide_genuine",img:"assets/images/car.53532650.svg",li:["100%_genuine_products","Deliver_items_at_door","Free_return_products"]},{h2:"Easy_To_Buy_Return",p:"Single_click_buy_return_products",img:"assets/images/money.2faef535.svg",li:["Same_day_delivery_available","Click_to_return_products","Quick_support_links_available"]},{h2:"Secure_Payments",p:"Accepts_all_credit_debit_cards",img:"assets/images/visa.daa9ad19.svg",li:["payment_security","Confirmation_authentity","Delivery_items_at_door"]}],this.hideFooter=!1}ngOnInit(){this.footerCart.length=3,this.glopalService.hideNavbarAndFooter.subscribe(a=>{this.hideFooter=a})}islogin(){return!!localStorage.getItem("joinToken")}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(lt.W))},E.\u0275cmp=h.Xpm({type:E,selectors:[["app-footer"]],decls:1,vars:1,consts:[["style","background-image: url('assets/images/bg.jpg');","class","pt-5",4,"ngIf"],[1,"pt-5",2,"background-image","url('assets/images/bg.jpg')"],[2,"position","relative","z-index","111"],[1,"container"],[1,"row"],["class","col-md-6 col-lg-3 mb-5",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-3","mb-5"],[1,"footerCart"],["src","assets/images/download.90e934e8.svg","alt","join",1,"mb-2"],[2,"min-height","70px"],["src","assets/images/googleplay.png","alt","googleplay",2,"width","100px"],[1,"mx-1"],["src","assets/images/appstore.png","alt","googleplay",2,"width","100px"],["src","assets/images/footerjoin.svg","alt","join",2,"width","100px"],[1,"mt-3"],[1,"m-0","p-0","list-unstyled","links"],["routerLink","/"],["routerLink","/store"],["routerLink","/cart"],[4,"ngIf"],[1,"mb-4"],[1,"p-0","list-unstyled"],[1,"phone"],[1,"fa-solid","fa-phone"],[1,"mb-5","p-0","list-unstyled","socialmedia"],["target","_blank","href","https://www.facebook.com/justt.joinn/"],[1,"fa-brands","fa-square-facebook"],["target","_blank","href","https://twitter.com/join_app"],[1,"fa-brands","fa-square-twitter"],["target","_blank","href","https://www.snapchat.com/add/join.co"],[1,"fa-brands","fa-square-snapchat"],["src","assets/images/visa.svg","alt","join",1,"img-fluid"],[1,"orangeSection","text-white","py-3"],[1,"container","flex-column","flex-md-row","d-flex","justify-content-between","align-items-md-center"],[1,"m-0"],[1,"d-flex","list-unstyled","p-0","m-0"],["href",""],[1,"mx-2"],[3,"h2","p","src","li"],["routerLink","/favorite"]],template:function(a,g){1&a&&h.YNc(0,Or,96,50,"footer",0),2&a&&h.Q6J("ngIf",!g.hideFooter)},directives:[ut.O5,ut.sg,ts,G.yS],pipes:[Ce.X$],styles:[""]}),E})(),na=(()=>{class E{constructor(a,g,T,H){this.notficationsService=a,this.membersservice=g,this.homeService=T,this.authService=H}ngOnInit(){localStorage.getItem("joinToken")&&(this.notficationsService.getNotifications(),this.membersservice.getAllMembers(),this.authService.getUserProfile()),this.authService.getAllAreas(),this.homeService.getIntersts()}}return E.\u0275fac=function(a){return new(a||E)(h.Y36(q.T),h.Y36(se.Z),h.Y36(Te.Y),h.Y36(at.e))},E.\u0275cmp=h.Xpm({type:E,selectors:[["app-root"]],decls:3,vars:0,template:function(a,g){1&a&&h._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},directives:[ta,G.lC,zo],styles:[""]}),E})();var cs=x(40),vr=x(520);let wo=(()=>{class E{intercept(a,g){let T;return T=(null==a?void 0:a.url.includes("myfatoorah"))?a.clone({setHeaders:{Authorization:"Bearer  DRjVRnni2MCYQJy44lbbSZ3w9ITefFLwm38jtmerLYY8FZFIo_dWERd7pjKrKpXN_oRZzK9A-SByEBDACYqQeEr90JE_pEY0FjdxtuXnCFPKD9ljbXukGsAbV3zt-Uk924y8wb7vp_kbh-djTA-pK1fKOUi-SxO4TX1dYyhAIUCSUTeW2boCSPdaesHNj6IEWGEqSQsgM2SHpHn0sqyjACRfzjkS34cKvcaLXFWfCmSmn8PoeU5y3UkHrjgT2DTlOqc12kpn2Kxbk6xKE3j0LI19iCG4EEbLVoPBeaiocCO9t0FSTen012i2QM8NoJNY4oUMdVqTZxJkGBREJegjv0ni1WYenfNbLJtMMWnsnLQpa7gMoH9bGAz19Ndjc0fPSOJBe6PNmiHeVf7HCBXh2IuX5doJ_BUW72CWS5QPwL8GEucgyj75djeOEjDkSYaNtgNmoef6OveMvb9hE0CeAhctVrHj1n_bts6fs9ZcwRFEbiH0Kh6iZK8saLtB5pLGvEayz_W0IXr5ZVXc8uDiu2XawD-Dvylb-7iv5Eoap6o42hmJm4R9sHLYg1kl1lgoSyE1gWia42ZOMN3EkvqFak160fZoWqSnKjbgOZNTRMiakRsyHS2NgGduuVbXNqFLWHRVwbYe9gKdpjEhg6MCMYHxcfwUQL0e1bQMBxyR7xgI68ff"}}):a.clone({setHeaders:{"auth-token":`${localStorage.getItem("joinToken")}`,Lang:localStorage.getItem("lang")||"en"}}),g.handle(T)}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),E})();var Si=x(1777);const Wn=!1;function Fi(E){return new h.vHH(3e3,Wn)}function hl(){return"undefined"!=typeof window&&void 0!==window.document}function Oa(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function uo(E){switch(E.length){case 0:return new Si.ZN;case 1:return E[0];default:return new Si.ZE(E)}}function Js(E,c,a,g,T={},H={}){const oe=[],De=[];let tt=-1,Ct=null;if(g.forEach(Xt=>{const Cn=Xt.offset,Zn=Cn==tt,si=Zn&&Ct||{};Object.keys(Xt).forEach(Kn=>{let Ii=Kn,lr=Xt[Kn];if("offset"!==Kn)switch(Ii=c.normalizePropertyName(Ii,oe),lr){case Si.k1:lr=T[Kn];break;case Si.l3:lr=H[Kn];break;default:lr=c.normalizeStyleValue(Kn,Ii,lr,oe)}si[Ii]=lr}),Zn||De.push(si),Ct=si,tt=Cn}),oe.length)throw function ds(E){return new h.vHH(3502,Wn)}();return De}function Mr(E,c,a,g){switch(c){case"start":E.onStart(()=>g(a&&Rs(a,"start",E)));break;case"done":E.onDone(()=>g(a&&Rs(a,"done",E)));break;case"destroy":E.onDestroy(()=>g(a&&Rs(a,"destroy",E)))}}function Rs(E,c,a){const g=a.totalTime,H=co(E.element,E.triggerName,E.fromState,E.toState,c||E.phaseName,null==g?E.totalTime:g,!!a.disabled),oe=E._data;return null!=oe&&(H._data=oe),H}function co(E,c,a,g,T="",H=0,oe){return{element:E,triggerName:c,fromState:a,toState:g,phaseName:T,totalTime:H,disabled:!!oe}}function Sr(E,c,a){let g;return E instanceof Map?(g=E.get(c),g||E.set(c,g=a)):(g=E[c],g||(g=E[c]=a)),g}function Ts(E){const c=E.indexOf(":");return[E.substring(1,c),E.substr(c+1)]}let ia=(E,c)=>!1,To=(E,c,a)=>[],Ma=null;function Ds(E){const c=E.parentNode||E.host;return c===Ma?null:c}(Oa()||"undefined"!=typeof Element)&&(hl()?(Ma=(()=>document.documentElement)(),ia=(E,c)=>{for(;c;){if(c===E)return!0;c=Ds(c)}return!1}):ia=(E,c)=>E.contains(c),To=(E,c,a)=>{if(a)return Array.from(E.querySelectorAll(c));const g=E.querySelector(c);return g?[g]:[]});let Do=null,Pa=!1;function Io(E){Do||(Do=function ns(){return"undefined"!=typeof document?document.body:null}()||{},Pa=!!Do.style&&"WebkitAppearance"in Do.style);let c=!0;return Do.style&&!function Zo(E){return"ebkit"==E.substring(1,6)}(E)&&(c=E in Do.style,!c&&Pa&&(c="Webkit"+E.charAt(0).toUpperCase()+E.substr(1)in Do.style)),c}const So=ia,Ao=To;let pl=(()=>{class E{validateStyleProperty(a){return Io(a)}matchesElement(a,g){return!1}containsElement(a,g){return So(a,g)}getParentElement(a){return Ds(a)}query(a,g,T){return Ao(a,g,T)}computeStyle(a,g,T){return T||""}animate(a,g,T,H,oe,De=[],tt){return new Si.ZN(T,H)}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),E})(),sa=(()=>{class E{}return E.NOOP=new pl,E})();const is="ng-enter",ho="ng-leave",Qi="ng-trigger",va=".ng-trigger",lu="ng-animating",ji=".ng-animating";function Is(E){if("number"==typeof E)return E;const c=E.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:fo(parseFloat(c[1]),c[2])}function fo(E,c){return"s"===c?1e3*E:E}function po(E,c,a){return E.hasOwnProperty("duration")?E:function Ns(E,c,a){let T,H=0,oe="";if("string"==typeof E){const De=E.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===De)return c.push(Fi()),{duration:0,delay:0,easing:""};T=fo(parseFloat(De[1]),De[2]);const tt=De[3];null!=tt&&(H=fo(parseFloat(tt),De[4]));const Ct=De[5];Ct&&(oe=Ct)}else T=E;if(!a){let De=!1,tt=c.length;T<0&&(c.push(function V(){return new h.vHH(3100,Wn)}()),De=!0),H<0&&(c.push(function ie(){return new h.vHH(3101,Wn)}()),De=!0),De&&c.splice(tt,0,Fi())}return{duration:T,delay:H,easing:oe}}(E,c,a)}function Kt(E,c={}){return Object.keys(E).forEach(a=>{c[a]=E[a]}),c}function $i(E,c,a={}){if(c)for(let g in E)a[g]=E[g];else Kt(E,a);return a}function oa(E,c,a){return a?c+":"+a+";":""}function Rn(E){let c="";for(let a=0;a<E.style.length;a++){const g=E.style.item(a);c+=oa(0,g,E.style.getPropertyValue(g))}for(const a in E.style)E.style.hasOwnProperty(a)&&!a.startsWith("_")&&(c+=oa(0,ml(a),E.style[a]));E.setAttribute("style",c)}function Sn(E,c,a){E.style&&(Object.keys(c).forEach(g=>{const T=ys(g);a&&!a.hasOwnProperty(g)&&(a[g]=E.style[T]),E.style[T]=c[g]}),Oa()&&Rn(E))}function Ss(E,c){E.style&&(Object.keys(c).forEach(a=>{const g=ys(a);E.style[g]=""}),Oa()&&Rn(E))}function hn(E){return Array.isArray(E)?1==E.length?E[0]:(0,Si.vP)(E):E}const zt=new RegExp("{{\\s*(.+?)\\s*}}","g");function fr(E){let c=[];if("string"==typeof E){let a;for(;a=zt.exec(E);)c.push(a[1]);zt.lastIndex=0}return c}function Ra(E,c,a){const g=E.toString(),T=g.replace(zt,(H,oe)=>{let De=c[oe];return c.hasOwnProperty(oe)||(a.push(function ce(E){return new h.vHH(3003,Wn)}()),De=""),De.toString()});return T==g?E:T}function Ja(E){const c=[];let a=E.next();for(;!a.done;)c.push(a.value),a=E.next();return c}const Qu=/-+([a-z0-9])/g;function ys(E){return E.replace(Qu,(...c)=>c[1].toUpperCase())}function ml(E){return E.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rs(E,c,a){switch(c.type){case 7:return E.visitTrigger(c,a);case 0:return E.visitState(c,a);case 1:return E.visitTransition(c,a);case 2:return E.visitSequence(c,a);case 3:return E.visitGroup(c,a);case 4:return E.visitAnimate(c,a);case 5:return E.visitKeyframes(c,a);case 6:return E.visitStyle(c,a);case 8:return E.visitReference(c,a);case 9:return E.visitAnimateChild(c,a);case 10:return E.visitAnimateRef(c,a);case 11:return E.visitQuery(c,a);case 12:return E.visitStagger(c,a);default:throw function $e(E){return new h.vHH(3004,Wn)}()}}function _a(E,c){return window.getComputedStyle(E)[c]}const O="*";function D(E,c){const a=[];return"string"==typeof E?E.split(/\s*,\s*/).forEach(g=>function w(E,c,a){if(":"==E[0]){const tt=function k(E,c){switch(E){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,g)=>parseFloat(g)>parseFloat(a);case":decrement":return(a,g)=>parseFloat(g)<parseFloat(a);default:return c.push(function Pt(E){return new h.vHH(3016,Wn)}()),"* => *"}}(E,a);if("function"==typeof tt)return void c.push(tt);E=tt}const g=E.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==g||g.length<4)return a.push(function re(E){return new h.vHH(3015,Wn)}()),c;const T=g[1],H=g[2],oe=g[3];c.push(Pe(T,oe));"<"==H[0]&&!(T==O&&oe==O)&&c.push(Pe(oe,T))}(g,a,c)):a.push(E),a}const L=new Set(["true","1"]),le=new Set(["false","0"]);function Pe(E,c){const a=L.has(E)||le.has(E),g=L.has(c)||le.has(c);return(T,H)=>{let oe=E==O||E==T,De=c==O||c==H;return!oe&&a&&"boolean"==typeof T&&(oe=T?L.has(E):le.has(E)),!De&&g&&"boolean"==typeof H&&(De=H?L.has(c):le.has(c)),oe&&De}}const kt=new RegExp("s*:selfs*,?","g");function wn(E,c,a,g){return new Nn(E).build(c,a,g)}class Nn{constructor(c){this._driver=c}build(c,a,g){const T=new pr(a);this._resetContextStyleTimingState(T);const H=rs(this,hn(c),T);return T.unsupportedCSSPropertiesFound.size&&T.unsupportedCSSPropertiesFound.keys(),H}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles={},c.collectedStyles[""]={},c.currentTime=0}visitTrigger(c,a){let g=a.queryCount=0,T=a.depCount=0;const H=[],oe=[];return"@"==c.name.charAt(0)&&a.errors.push(function $t(){return new h.vHH(3006,Wn)}()),c.definitions.forEach(De=>{if(this._resetContextStyleTimingState(a),0==De.type){const tt=De,Ct=tt.name;Ct.toString().split(/\s*,\s*/).forEach(Xt=>{tt.name=Xt,H.push(this.visitState(tt,a))}),tt.name=Ct}else if(1==De.type){const tt=this.visitTransition(De,a);g+=tt.queryCount,T+=tt.depCount,oe.push(tt)}else a.errors.push(function Pn(){return new h.vHH(3007,Wn)}())}),{type:7,name:c.name,states:H,transitions:oe,queryCount:g,depCount:T,options:null}}visitState(c,a){const g=this.visitStyle(c.styles,a),T=c.options&&c.options.params||null;if(g.containsDynamicStyles){const H=new Set,oe=T||{};g.styles.forEach(De=>{if(Oo(De)){const tt=De;Object.keys(tt).forEach(Ct=>{fr(tt[Ct]).forEach(Xt=>{oe.hasOwnProperty(Xt)||H.add(Xt)})})}}),H.size&&(Ja(H.values()),a.errors.push(function Gn(E,c){return new h.vHH(3008,Wn)}()))}return{type:0,name:c.name,style:g,options:T?{params:T}:null}}visitTransition(c,a){a.queryCount=0,a.depCount=0;const g=rs(this,hn(c.animation),a);return{type:1,matchers:D(c.expr,a.errors),animation:g,queryCount:a.queryCount,depCount:a.depCount,options:Yr(c.options)}}visitSequence(c,a){return{type:2,steps:c.steps.map(g=>rs(this,g,a)),options:Yr(c.options)}}visitGroup(c,a){const g=a.currentTime;let T=0;const H=c.steps.map(oe=>{a.currentTime=g;const De=rs(this,oe,a);return T=Math.max(T,a.currentTime),De});return a.currentTime=T,{type:3,steps:H,options:Yr(c.options)}}visitAnimate(c,a){const g=function mo(E,c){if(E.hasOwnProperty("duration"))return E;if("number"==typeof E)return Ko(po(E,c).duration,0,"");const a=E;if(a.split(/\s+/).some(H=>"{"==H.charAt(0)&&"{"==H.charAt(1))){const H=Ko(0,0,"");return H.dynamic=!0,H.strValue=a,H}const T=po(a,c);return Ko(T.duration,T.delay,T.easing)}(c.timings,a.errors);a.currentAnimateTimings=g;let T,H=c.styles?c.styles:(0,Si.oB)({});if(5==H.type)T=this.visitKeyframes(H,a);else{let oe=c.styles,De=!1;if(!oe){De=!0;const Ct={};g.easing&&(Ct.easing=g.easing),oe=(0,Si.oB)(Ct)}a.currentTime+=g.duration+g.delay;const tt=this.visitStyle(oe,a);tt.isEmptyStep=De,T=tt}return a.currentAnimateTimings=null,{type:4,timings:g,style:T,options:null}}visitStyle(c,a){const g=this._makeStyleAst(c,a);return this._validateStyleAst(g,a),g}_makeStyleAst(c,a){const g=[];Array.isArray(c.styles)?c.styles.forEach(oe=>{"string"==typeof oe?oe==Si.l3?g.push(oe):a.errors.push(function mi(E){return new h.vHH(3002,Wn)}()):g.push(oe)}):g.push(c.styles);let T=!1,H=null;return g.forEach(oe=>{if(Oo(oe)){const De=oe,tt=De.easing;if(tt&&(H=tt,delete De.easing),!T)for(let Ct in De)if(De[Ct].toString().indexOf("{{")>=0){T=!0;break}}}),{type:6,styles:g,easing:H,offset:c.offset,containsDynamicStyles:T,options:null}}_validateStyleAst(c,a){const g=a.currentAnimateTimings;let T=a.currentTime,H=a.currentTime;g&&H>0&&(H-=g.duration+g.delay),c.styles.forEach(oe=>{"string"!=typeof oe&&Object.keys(oe).forEach(De=>{if(!this._driver.validateStyleProperty(De))return delete oe[De],void a.unsupportedCSSPropertiesFound.add(De);const tt=a.collectedStyles[a.currentQuerySelector],Ct=tt[De];let Xt=!0;Ct&&(H!=T&&H>=Ct.startTime&&T<=Ct.endTime&&(a.errors.push(function fi(E,c,a,g,T){return new h.vHH(3010,Wn)}()),Xt=!1),H=Ct.startTime),Xt&&(tt[De]={startTime:H,endTime:T}),a.options&&function Dt(E,c,a){const g=c.params||{},T=fr(E);T.length&&T.forEach(H=>{g.hasOwnProperty(H)||a.push(function F(E){return new h.vHH(3001,Wn)}())})}(oe[De],a.options,a.errors)})})}visitKeyframes(c,a){const g={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function er(){return new h.vHH(3011,Wn)}()),g;let H=0;const oe=[];let De=!1,tt=!1,Ct=0;const Xt=c.steps.map(Lr=>{const As=this._makeStyleAst(Lr,a);let xs=null!=As.offset?As.offset:function go(E){if("string"==typeof E)return null;let c=null;if(Array.isArray(E))E.forEach(a=>{if(Oo(a)&&a.hasOwnProperty("offset")){const g=a;c=parseFloat(g.offset),delete g.offset}});else if(Oo(E)&&E.hasOwnProperty("offset")){const a=E;c=parseFloat(a.offset),delete a.offset}return c}(As.styles),hs=0;return null!=xs&&(H++,hs=As.offset=xs),tt=tt||hs<0||hs>1,De=De||hs<Ct,Ct=hs,oe.push(hs),As});tt&&a.errors.push(function Hi(){return new h.vHH(3012,Wn)}()),De&&a.errors.push(function Vi(){return new h.vHH(3200,Wn)}());const Cn=c.steps.length;let Zn=0;H>0&&H<Cn?a.errors.push(function B(){return new h.vHH(3202,Wn)}()):0==H&&(Zn=1/(Cn-1));const si=Cn-1,Kn=a.currentTime,Ii=a.currentAnimateTimings,lr=Ii.duration;return Xt.forEach((Lr,As)=>{const xs=Zn>0?As==si?1:Zn*As:oe[As],hs=xs*lr;a.currentTime=Kn+Ii.delay+hs,Ii.duration=hs,this._validateStyleAst(Lr,a),Lr.offset=xs,g.styles.push(Lr)}),g}visitReference(c,a){return{type:8,animation:rs(this,hn(c.animation),a),options:Yr(c.options)}}visitAnimateChild(c,a){return a.depCount++,{type:9,options:Yr(c.options)}}visitAnimateRef(c,a){return{type:10,animation:this.visitReference(c.animation,a),options:Yr(c.options)}}visitQuery(c,a){const g=a.currentQuerySelector,T=c.options||{};a.queryCount++,a.currentQuery=c;const[H,oe]=function Mi(E){const c=!!E.split(/\s*,\s*/).find(a=>":self"==a);return c&&(E=E.replace(kt,"")),E=E.replace(/@\*/g,va).replace(/@\w+/g,a=>va+"-"+a.substr(1)).replace(/:animating/g,ji),[E,c]}(c.selector);a.currentQuerySelector=g.length?g+" "+H:H,Sr(a.collectedStyles,a.currentQuerySelector,{});const De=rs(this,hn(c.animation),a);return a.currentQuery=null,a.currentQuerySelector=g,{type:11,selector:H,limit:T.limit||0,optional:!!T.optional,includeSelf:oe,animation:De,originalSelector:c.selector,options:Yr(c.options)}}visitStagger(c,a){a.currentQuery||a.errors.push(function N(){return new h.vHH(3013,Wn)}());const g="full"===c.timings?{duration:0,delay:0,easing:"full"}:po(c.timings,a.errors,!0);return{type:12,animation:rs(this,hn(c.animation),a),timings:g,options:null}}}class pr{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Oo(E){return!Array.isArray(E)&&"object"==typeof E}function Yr(E){return E?(E=Kt(E)).params&&(E.params=function Pi(E){return E?Kt(E):null}(E.params)):E={},E}function Ko(E,c,a){return{duration:E,delay:c,easing:a}}function _t(E,c,a,g,T,H,oe=null,De=!1){return{type:1,element:E,keyframes:c,preStyleProps:a,postStyleProps:g,duration:T,delay:H,totalTime:T+H,easing:oe,subTimeline:De}}class Pr{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,a){let g=this._map.get(c);g||this._map.set(c,g=[]),g.push(...a)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const Mo=new RegExp(":enter","g"),La=new RegExp(":leave","g");function gr(E,c,a,g,T,H={},oe={},De,tt,Ct=[]){return(new vl).buildKeyframes(E,c,a,g,T,H,oe,De,tt,Ct)}class vl{buildKeyframes(c,a,g,T,H,oe,De,tt,Ct,Xt=[]){Ct=Ct||new Pr;const Cn=new ba(c,a,Ct,T,H,Xt,[]);Cn.options=tt,Cn.currentTimeline.setStyles([oe],null,Cn.errors,tt),rs(this,g,Cn);const Zn=Cn.timelines.filter(si=>si.containsAnimation());if(Object.keys(De).length){let si;for(let Kn=Zn.length-1;Kn>=0;Kn--){const Ii=Zn[Kn];if(Ii.element===a){si=Ii;break}}si&&!si.allowOnlyTimelineStyles()&&si.setStyles([De],null,Cn.errors,tt)}return Zn.length?Zn.map(si=>si.buildKeyframes()):[_t(a,[],[],[],0,0,"",!1)]}visitTrigger(c,a){}visitState(c,a){}visitTransition(c,a){}visitAnimateChild(c,a){const g=a.subInstructions.get(a.element);if(g){const T=a.createSubContext(c.options),H=a.currentTimeline.currentTime,oe=this._visitSubInstructions(g,T,T.options);H!=oe&&a.transformIntoNewTimeline(oe)}a.previousNode=c}visitAnimateRef(c,a){const g=a.createSubContext(c.options);g.transformIntoNewTimeline(),this.visitReference(c.animation,g),a.transformIntoNewTimeline(g.currentTimeline.currentTime),a.previousNode=c}_visitSubInstructions(c,a,g){let H=a.currentTimeline.currentTime;const oe=null!=g.duration?Is(g.duration):null,De=null!=g.delay?Is(g.delay):null;return 0!==oe&&c.forEach(tt=>{const Ct=a.appendInstructionToTimeline(tt,oe,De);H=Math.max(H,Ct.duration+Ct.delay)}),H}visitReference(c,a){a.updateOptions(c.options,!0),rs(this,c.animation,a),a.previousNode=c}visitSequence(c,a){const g=a.subContextCount;let T=a;const H=c.options;if(H&&(H.params||H.delay)&&(T=a.createSubContext(H),T.transformIntoNewTimeline(),null!=H.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Fa);const oe=Is(H.delay);T.delayNextStep(oe)}c.steps.length&&(c.steps.forEach(oe=>rs(this,oe,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>g&&T.transformIntoNewTimeline()),a.previousNode=c}visitGroup(c,a){const g=[];let T=a.currentTimeline.currentTime;const H=c.options&&c.options.delay?Is(c.options.delay):0;c.steps.forEach(oe=>{const De=a.createSubContext(c.options);H&&De.delayNextStep(H),rs(this,oe,De),T=Math.max(T,De.currentTimeline.currentTime),g.push(De.currentTimeline)}),g.forEach(oe=>a.currentTimeline.mergeTimelineCollectedStyles(oe)),a.transformIntoNewTimeline(T),a.previousNode=c}_visitTiming(c,a){if(c.dynamic){const g=c.strValue;return po(a.params?Ra(g,a.params,a.errors):g,a.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,a){const g=a.currentAnimateTimings=this._visitTiming(c.timings,a),T=a.currentTimeline;g.delay&&(a.incrementTime(g.delay),T.snapshotCurrentStyles());const H=c.style;5==H.type?this.visitKeyframes(H,a):(a.incrementTime(g.duration),this.visitStyle(H,a),T.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=c}visitStyle(c,a){const g=a.currentTimeline,T=a.currentAnimateTimings;!T&&g.getCurrentStyleProperties().length&&g.forwardFrame();const H=T&&T.easing||c.easing;c.isEmptyStep?g.applyEmptyStep(H):g.setStyles(c.styles,H,a.errors,a.options),a.previousNode=c}visitKeyframes(c,a){const g=a.currentAnimateTimings,T=a.currentTimeline.duration,H=g.duration,De=a.createSubContext().currentTimeline;De.easing=g.easing,c.styles.forEach(tt=>{De.forwardTime((tt.offset||0)*H),De.setStyles(tt.styles,tt.easing,a.errors,a.options),De.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(De),a.transformIntoNewTimeline(T+H),a.previousNode=c}visitQuery(c,a){const g=a.currentTimeline.currentTime,T=c.options||{},H=T.delay?Is(T.delay):0;H&&(6===a.previousNode.type||0==g&&a.currentTimeline.getCurrentStyleProperties().length)&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Fa);let oe=g;const De=a.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!T.optional,a.errors);a.currentQueryTotal=De.length;let tt=null;De.forEach((Ct,Xt)=>{a.currentQueryIndex=Xt;const Cn=a.createSubContext(c.options,Ct);H&&Cn.delayNextStep(H),Ct===a.element&&(tt=Cn.currentTimeline),rs(this,c.animation,Cn),Cn.currentTimeline.applyStylesToKeyframe(),oe=Math.max(oe,Cn.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(oe),tt&&(a.currentTimeline.mergeTimelineCollectedStyles(tt),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=c}visitStagger(c,a){const g=a.parentContext,T=a.currentTimeline,H=c.timings,oe=Math.abs(H.duration),De=oe*(a.currentQueryTotal-1);let tt=oe*a.currentQueryIndex;switch(H.duration<0?"reverse":H.easing){case"reverse":tt=De-tt;break;case"full":tt=g.currentStaggerTime}const Xt=a.currentTimeline;tt&&Xt.delayNextStep(tt);const Cn=Xt.currentTime;rs(this,c.animation,a),a.previousNode=c,g.currentStaggerTime=T.currentTime-Cn+(T.startTime-g.currentTimeline.startTime)}}const Fa={};class ba{constructor(c,a,g,T,H,oe,De,tt){this._driver=c,this.element=a,this.subInstructions=g,this._enterClassName=T,this._leaveClassName=H,this.errors=oe,this.timelines=De,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Fa,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=tt||new Va(this._driver,a,0),De.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,a){if(!c)return;const g=c;let T=this.options;null!=g.duration&&(T.duration=Is(g.duration)),null!=g.delay&&(T.delay=Is(g.delay));const H=g.params;if(H){let oe=T.params;oe||(oe=this.options.params={}),Object.keys(H).forEach(De=>{(!a||!oe.hasOwnProperty(De))&&(oe[De]=Ra(H[De],oe,this.errors))})}}_copyOptions(){const c={};if(this.options){const a=this.options.params;if(a){const g=c.params={};Object.keys(a).forEach(T=>{g[T]=a[T]})}}return c}createSubContext(c=null,a,g){const T=a||this.element,H=new ba(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,g||0));return H.previousNode=this.previousNode,H.currentAnimateTimings=this.currentAnimateTimings,H.options=this._copyOptions(),H.updateOptions(c),H.currentQueryIndex=this.currentQueryIndex,H.currentQueryTotal=this.currentQueryTotal,H.parentContext=this,this.subContextCount++,H}transformIntoNewTimeline(c){return this.previousNode=Fa,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,a,g){const T={duration:null!=a?a:c.duration,delay:this.currentTimeline.currentTime+(null!=g?g:0)+c.delay,easing:""},H=new eo(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,T,c.stretchStartingKeyframe);return this.timelines.push(H),T}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,a,g,T,H,oe){let De=[];if(T&&De.push(this.element),c.length>0){c=(c=c.replace(Mo,"."+this._enterClassName)).replace(La,"."+this._leaveClassName);let Ct=this._driver.query(this.element,c,1!=g);0!==g&&(Ct=g<0?Ct.slice(Ct.length+g,Ct.length):Ct.slice(0,g)),De.push(...Ct)}return!H&&0==De.length&&oe.push(function M(E){return new h.vHH(3014,Wn)}()),De}}class Va{constructor(c,a,g,T){this._driver=c,this.element=a,this.startTime=g,this._elementTimelineStylesLookup=T,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const a=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||a?(this.forwardTime(this.currentTime+c),a&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,a){return this.applyStylesToKeyframe(),new Va(this._driver,c,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,a){this._localTimelineStyles[c]=a,this._globalTimelineStyles[c]=a,this._styleSummary[c]={time:this.currentTime,value:a}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&(this._previousKeyframe.easing=c),Object.keys(this._globalTimelineStyles).forEach(a=>{this._backFill[a]=this._globalTimelineStyles[a]||Si.l3,this._currentKeyframe[a]=Si.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,a,g,T){a&&(this._previousKeyframe.easing=a);const H=T&&T.params||{},oe=function Ua(E,c){const a={};let g;return E.forEach(T=>{"*"===T?(g=g||Object.keys(c),g.forEach(H=>{a[H]=Si.l3})):$i(T,!1,a)}),a}(c,this._globalTimelineStyles);Object.keys(oe).forEach(De=>{const tt=Ra(oe[De],H,g);this._pendingStyles[De]=tt,this._localTimelineStyles.hasOwnProperty(De)||(this._backFill[De]=this._globalTimelineStyles.hasOwnProperty(De)?this._globalTimelineStyles[De]:Si.l3),this._updateStyle(De,tt)})}applyStylesToKeyframe(){const c=this._pendingStyles,a=Object.keys(c);0!=a.length&&(this._pendingStyles={},a.forEach(g=>{this._currentKeyframe[g]=c[g]}),Object.keys(this._localTimelineStyles).forEach(g=>{this._currentKeyframe.hasOwnProperty(g)||(this._currentKeyframe[g]=this._localTimelineStyles[g])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(c=>{const a=this._localTimelineStyles[c];this._pendingStyles[c]=a,this._updateStyle(c,a)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let a in this._currentKeyframe)c.push(a);return c}mergeTimelineCollectedStyles(c){Object.keys(c._styleSummary).forEach(a=>{const g=this._styleSummary[a],T=c._styleSummary[a];(!g||T.time>g.time)&&this._updateStyle(a,T.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,a=new Set,g=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((De,tt)=>{const Ct=$i(De,!0);Object.keys(Ct).forEach(Xt=>{const Cn=Ct[Xt];Cn==Si.k1?c.add(Xt):Cn==Si.l3&&a.add(Xt)}),g||(Ct.offset=tt/this.duration),T.push(Ct)});const H=c.size?Ja(c.values()):[],oe=a.size?Ja(a.values()):[];if(g){const De=T[0],tt=Kt(De);De.offset=0,tt.offset=1,T=[De,tt]}return _t(this.element,T,H,oe,this.duration,this.startTime,this.easing,!1)}}class eo extends Va{constructor(c,a,g,T,H,oe,De=!1){super(c,a,oe.delay),this.keyframes=g,this.preStyleProps=T,this.postStyleProps=H,this._stretchStartingKeyframe=De,this.timings={duration:oe.duration,delay:oe.delay,easing:oe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:a,duration:g,easing:T}=this.timings;if(this._stretchStartingKeyframe&&a){const H=[],oe=g+a,De=a/oe,tt=$i(c[0],!1);tt.offset=0,H.push(tt);const Ct=$i(c[0],!1);Ct.offset=_r(De),H.push(Ct);const Xt=c.length-1;for(let Cn=1;Cn<=Xt;Cn++){let Zn=$i(c[Cn],!1);Zn.offset=_r((a+Zn.offset*g)/oe),H.push(Zn)}g=oe,a=0,T="",c=H}return _t(this.element,c,this.preStyleProps,this.postStyleProps,g,a,T,!0)}}function _r(E,c=3){const a=Math.pow(10,c-1);return Math.round(E*a)/a}class Rr{}class ks extends Rr{normalizePropertyName(c,a){return ys(c)}normalizeStyleValue(c,a,g,T){let H="";const oe=g.toString().trim();if(ur[a]&&0!==g&&"0"!==g)if("number"==typeof g)H="px";else{const De=g.match(/^[+-]?[\d\.]+([a-z]*)$/);De&&0==De[1].length&&T.push(function At(E,c){return new h.vHH(3005,Wn)}())}return oe+H}}const ur=(()=>function Sc(E){const c={};return E.forEach(a=>c[a]=!0),c}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function to(E,c,a,g,T,H,oe,De,tt,Ct,Xt,Cn,Zn){return{type:0,element:E,triggerName:c,isRemovalTransition:T,fromState:a,fromStyles:H,toState:g,toStyles:oe,timelines:De,queriedElements:tt,preStyleProps:Ct,postStyleProps:Xt,totalTime:Cn,errors:Zn}}const no={};class Ar{constructor(c,a,g){this._triggerName=c,this.ast=a,this._stateStyles=g}match(c,a,g,T){return function Nr(E,c,a,g,T){return E.some(H=>H(c,a,g,T))}(this.ast.matchers,c,a,g,T)}buildStyles(c,a,g){const T=this._stateStyles["*"],H=this._stateStyles[c],oe=T?T.buildStyles(a,g):{};return H?H.buildStyles(a,g):oe}build(c,a,g,T,H,oe,De,tt,Ct,Xt){const Cn=[],Zn=this.ast.options&&this.ast.options.params||no,Kn=this.buildStyles(g,De&&De.params||no,Cn),Ii=tt&&tt.params||no,lr=this.buildStyles(T,Ii,Cn),Lr=new Set,As=new Map,xs=new Map,hs="void"===T,Da={params:Object.assign(Object.assign({},Zn),Ii)},Ia=Xt?[]:gr(c,a,this.ast.animation,H,oe,Kn,lr,Da,Ct,Cn);let os=0;if(Ia.forEach(Dl=>{os=Math.max(Dl.duration+Dl.delay,os)}),Cn.length)return to(a,this._triggerName,g,T,hs,Kn,lr,[],[],As,xs,os,Cn);Ia.forEach(Dl=>{const Il=Dl.element,th=Sr(As,Il,{});Dl.preStyleProps.forEach(fs=>th[fs]=!0);const Vu=Sr(xs,Il,{});Dl.postStyleProps.forEach(fs=>Vu[fs]=!0),Il!==a&&Lr.add(Il)});const Xo=Ja(Lr.values());return to(a,this._triggerName,g,T,hs,Kn,lr,Ia,Xo,As,xs,os)}}class Ba{constructor(c,a,g){this.styles=c,this.defaultParams=a,this.normalizer=g}buildStyles(c,a){const g={},T=Kt(this.defaultParams);return Object.keys(c).forEach(H=>{const oe=c[H];null!=oe&&(T[H]=oe)}),this.styles.styles.forEach(H=>{if("string"!=typeof H){const oe=H;Object.keys(oe).forEach(De=>{let tt=oe[De];tt.length>1&&(tt=Ra(tt,T,a));const Ct=this.normalizer.normalizePropertyName(De,a);tt=this.normalizer.normalizeStyleValue(De,Ct,tt,a),g[Ct]=tt})}}),g}}class Er{constructor(c,a,g){this.name=c,this.ast=a,this._normalizer=g,this.transitionFactories=[],this.states={},a.states.forEach(T=>{this.states[T.name]=new Ba(T.style,T.options&&T.options.params||{},g)}),Ls(this.states,"true","1"),Ls(this.states,"false","0"),a.transitions.forEach(T=>{this.transitionFactories.push(new Ar(c,T,this.states))}),this.fallbackTransition=function Br(E,c,a){return new Ar(E,{type:1,animation:{type:2,steps:[],options:null},matchers:[(oe,De)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,a,g,T){return this.transitionFactories.find(oe=>oe.match(c,a,g,T))||null}matchStyles(c,a,g){return this.fallbackTransition.buildStyles(c,a,g)}}function Ls(E,c,a){E.hasOwnProperty(c)?E.hasOwnProperty(a)||(E[a]=E[c]):E.hasOwnProperty(a)&&(E[c]=E[a])}const uu=new Pr;class qo{constructor(c,a,g){this.bodyNode=c,this._driver=a,this._normalizer=g,this._animations={},this._playersById={},this.players=[]}register(c,a){const g=[],H=wn(this._driver,a,g,[]);if(g.length)throw function Wo(E){return new h.vHH(3503,Wn)}();this._animations[c]=H}_buildPlayer(c,a,g){const T=c.element,H=Js(0,this._normalizer,0,c.keyframes,a,g);return this._driver.animate(T,H,c.duration,c.delay,c.easing,[],!0)}create(c,a,g={}){const T=[],H=this._animations[c];let oe;const De=new Map;if(H?(oe=gr(this._driver,a,H,is,ho,{},{},g,uu,T),oe.forEach(Xt=>{const Cn=Sr(De,Xt.element,{});Xt.postStyleProps.forEach(Zn=>Cn[Zn]=null)})):(T.push(function ga(){return new h.vHH(3300,Wn)}()),oe=[]),T.length)throw function Gt(E){return new h.vHH(3504,Wn)}();De.forEach((Xt,Cn)=>{Object.keys(Xt).forEach(Zn=>{Xt[Zn]=this._driver.computeStyle(Cn,Zn,Si.l3)})});const Ct=uo(oe.map(Xt=>{const Cn=De.get(Xt.element);return this._buildPlayer(Xt,{},Cn)}));return this._playersById[c]=Ct,Ct.onDestroy(()=>this.destroy(c)),this.players.push(Ct),Ct}destroy(c){const a=this._getPlayer(c);a.destroy(),delete this._playersById[c];const g=this.players.indexOf(a);g>=0&&this.players.splice(g,1)}_getPlayer(c){const a=this._playersById[c];if(!a)throw function Ei(E){return new h.vHH(3301,Wn)}();return a}listen(c,a,g,T){const H=co(a,"","","");return Mr(this._getPlayer(c),g,H,T),()=>{}}command(c,a,g,T){if("register"==g)return void this.register(c,T[0]);if("create"==g)return void this.create(c,a,T[0]||{});const H=this._getPlayer(c);switch(g){case"play":H.play();break;case"pause":H.pause();break;case"reset":H.reset();break;case"restart":H.restart();break;case"finish":H.finish();break;case"init":H.init();break;case"setPosition":H.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(c)}}}const wa="ng-animate-queued",Po="ng-animate-disabled",la=[],Qr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ro={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jr="__ng_removed";class No{constructor(c,a=""){this.namespaceId=a;const g=c&&c.hasOwnProperty("value");if(this.value=function za(E){return null!=E?E:null}(g?c.value:c),g){const H=Kt(c);delete H.value,this.options=H}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(c){const a=c.params;if(a){const g=this.options.params;Object.keys(a).forEach(T=>{null==g[T]&&(g[T]=a[T])})}}}const $a="void",Fs=new No($a);class Vl{constructor(c,a,g){this.id=c,this.hostElement=a,this._engine=g,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,Vs(a,this._hostClassName)}listen(c,a,g,T){if(!this._triggers.hasOwnProperty(a))throw function dl(E,c){return new h.vHH(3302,Wn)}();if(null==g||0==g.length)throw function ar(E){return new h.vHH(3303,Wn)}();if(!function el(E){return"start"==E||"done"==E}(g))throw function ma(E,c){return new h.vHH(3400,Wn)}();const H=Sr(this._elementListeners,c,[]),oe={name:a,phase:g,callback:T};H.push(oe);const De=Sr(this._engine.statesByElement,c,{});return De.hasOwnProperty(a)||(Vs(c,Qi),Vs(c,Qi+"-"+a),De[a]=Fs),()=>{this._engine.afterFlush(()=>{const tt=H.indexOf(oe);tt>=0&&H.splice(tt,1),this._triggers[a]||delete De[a]})}}register(c,a){return!this._triggers[c]&&(this._triggers[c]=a,!0)}_getTrigger(c){const a=this._triggers[c];if(!a)throw function Co(E){return new h.vHH(3401,Wn)}();return a}trigger(c,a,g,T=!0){const H=this._getTrigger(a),oe=new Ga(this.id,a,c);let De=this._engine.statesByElement.get(c);De||(Vs(c,Qi),Vs(c,Qi+"-"+a),this._engine.statesByElement.set(c,De={}));let tt=De[a];const Ct=new No(g,this.id);if(!(g&&g.hasOwnProperty("value"))&&tt&&Ct.absorbOptions(tt.options),De[a]=Ct,tt||(tt=Fs),Ct.value!==$a&&tt.value===Ct.value){if(!function Ie(E,c){const a=Object.keys(E),g=Object.keys(c);if(a.length!=g.length)return!1;for(let T=0;T<a.length;T++){const H=a[T];if(!c.hasOwnProperty(H)||E[H]!==c[H])return!1}return!0}(tt.params,Ct.params)){const Ii=[],lr=H.matchStyles(tt.value,tt.params,Ii),Lr=H.matchStyles(Ct.value,Ct.params,Ii);Ii.length?this._engine.reportError(Ii):this._engine.afterFlush(()=>{Ss(c,lr),Sn(c,Lr)})}return}const Zn=Sr(this._engine.playersByElement,c,[]);Zn.forEach(Ii=>{Ii.namespaceId==this.id&&Ii.triggerName==a&&Ii.queued&&Ii.destroy()});let si=H.matchTransition(tt.value,Ct.value,c,Ct.params),Kn=!1;if(!si){if(!T)return;si=H.fallbackTransition,Kn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:a,transition:si,fromState:tt,toState:Ct,player:oe,isFallbackTransition:Kn}),Kn||(Vs(c,wa),oe.onStart(()=>{Wa(c,wa)})),oe.onDone(()=>{let Ii=this.players.indexOf(oe);Ii>=0&&this.players.splice(Ii,1);const lr=this._engine.playersByElement.get(c);if(lr){let Lr=lr.indexOf(oe);Lr>=0&&lr.splice(Lr,1)}}),this.players.push(oe),Zn.push(oe),oe}deregister(c){delete this._triggers[c],this._engine.statesByElement.forEach((a,g)=>{delete a[c]}),this._elementListeners.forEach((a,g)=>{this._elementListeners.set(g,a.filter(T=>T.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const a=this._engine.playersByElement.get(c);a&&(a.forEach(g=>g.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,a){const g=this._engine.driver.query(c,va,!0);g.forEach(T=>{if(T[Jr])return;const H=this._engine.fetchNamespacesByElement(T);H.size?H.forEach(oe=>oe.triggerLeaveAnimation(T,a,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>g.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(c,a,g,T){const H=this._engine.statesByElement.get(c),oe=new Map;if(H){const De=[];if(Object.keys(H).forEach(tt=>{if(oe.set(tt,H[tt].value),this._triggers[tt]){const Ct=this.trigger(c,tt,$a,T);Ct&&De.push(Ct)}}),De.length)return this._engine.markElementAsRemoved(this.id,c,!0,a,oe),g&&uo(De).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const a=this._elementListeners.get(c),g=this._engine.statesByElement.get(c);if(a&&g){const T=new Set;a.forEach(H=>{const oe=H.name;if(T.has(oe))return;T.add(oe);const tt=this._triggers[oe].fallbackTransition,Ct=g[oe]||Fs,Xt=new No($a),Cn=new Ga(this.id,oe,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:oe,transition:tt,fromState:Ct,toState:Xt,player:Cn,isFallbackTransition:!0})})}}removeNode(c,a){const g=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,a),this.triggerLeaveAnimation(c,a,!0))return;let T=!1;if(g.totalAnimations){const H=g.players.length?g.playersByQueriedElement.get(c):[];if(H&&H.length)T=!0;else{let oe=c;for(;oe=oe.parentNode;)if(g.statesByElement.get(oe)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(c),T)g.markElementAsRemoved(this.id,c,!1,a);else{const H=c[Jr];(!H||H===Qr)&&(g.afterFlush(()=>this.clearElementCache(c)),g.destroyInnerAnimations(c),g._onRemovalComplete(c,a))}}insertNode(c,a){Vs(c,this._hostClassName)}drainQueuedTransitions(c){const a=[];return this._queue.forEach(g=>{const T=g.player;if(T.destroyed)return;const H=g.element,oe=this._elementListeners.get(H);oe&&oe.forEach(De=>{if(De.name==g.triggerName){const tt=co(H,g.triggerName,g.fromState.value,g.toState.value);tt._data=c,Mr(g.player,De.phase,tt,De.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):a.push(g)}),this._queue=[],a.sort((g,T)=>{const H=g.transition.ast.depCount,oe=T.transition.ast.depCount;return 0==H||0==oe?H-oe:this._engine.driver.containsElement(g.element,T.element)?1:-1})}destroy(c){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}elementContainsData(c){let a=!1;return this._elementListeners.has(c)&&(a=!0),a=!!this._queue.find(g=>g.element===c)||a,a}}class ua{constructor(c,a,g){this.bodyNode=c,this.driver=a,this._normalizer=g,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,H)=>{}}_onRemovalComplete(c,a){this.onRemovalComplete(c,a)}get queuedPlayers(){const c=[];return this._namespaceList.forEach(a=>{a.players.forEach(g=>{g.queued&&c.push(g)})}),c}createNamespace(c,a){const g=new Vl(c,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(g,a):(this.newHostElements.set(a,g),this.collectEnterElement(a)),this._namespaceLookup[c]=g}_balanceNamespaceList(c,a){const g=this._namespaceList,T=this.namespacesByHostElement,H=g.length-1;if(H>=0){let oe=!1;if(void 0!==this.driver.getParentElement){let De=this.driver.getParentElement(a);for(;De;){const tt=T.get(De);if(tt){const Ct=g.indexOf(tt);g.splice(Ct+1,0,c),oe=!0;break}De=this.driver.getParentElement(De)}}else for(let De=H;De>=0;De--)if(this.driver.containsElement(g[De].hostElement,a)){g.splice(De+1,0,c),oe=!0;break}oe||g.unshift(c)}else g.push(c);return T.set(a,c),c}register(c,a){let g=this._namespaceLookup[c];return g||(g=this.createNamespace(c,a)),g}registerTrigger(c,a,g){let T=this._namespaceLookup[c];T&&T.register(a,g)&&this.totalAnimations++}destroy(c,a){if(!c)return;const g=this._fetchNamespace(c);this.afterFlush(()=>{this.namespacesByHostElement.delete(g.hostElement),delete this._namespaceLookup[c];const T=this._namespaceList.indexOf(g);T>=0&&this._namespaceList.splice(T,1)}),this.afterFlushAnimationsDone(()=>g.destroy(a))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const a=new Set,g=this.statesByElement.get(c);if(g){const T=Object.keys(g);for(let H=0;H<T.length;H++){const oe=g[T[H]].namespaceId;if(oe){const De=this._fetchNamespace(oe);De&&a.add(De)}}}return a}trigger(c,a,g,T){if(io(a)){const H=this._fetchNamespace(c);if(H)return H.trigger(a,g,T),!0}return!1}insertNode(c,a,g,T){if(!io(a))return;const H=a[Jr];if(H&&H.setForRemoval){H.setForRemoval=!1,H.setForMove=!0;const oe=this.collectedLeaveElements.indexOf(a);oe>=0&&this.collectedLeaveElements.splice(oe,1)}if(c){const oe=this._fetchNamespace(c);oe&&oe.insertNode(a,g)}T&&this.collectEnterElement(a)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,a){a?this.disabledNodes.has(c)||(this.disabledNodes.add(c),Vs(c,Po)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),Wa(c,Po))}removeNode(c,a,g,T){if(io(a)){const H=c?this._fetchNamespace(c):null;if(H?H.removeNode(a,T):this.markElementAsRemoved(c,a,!1,T),g){const oe=this.namespacesByHostElement.get(a);oe&&oe.id!==c&&oe.removeNode(a,T)}}else this._onRemovalComplete(a,T)}markElementAsRemoved(c,a,g,T,H){this.collectedLeaveElements.push(a),a[Jr]={namespaceId:c,setForRemoval:T,hasAnimation:g,removedBeforeQueried:!1,previousTriggersValues:H}}listen(c,a,g,T,H){return io(a)?this._fetchNamespace(c).listen(a,g,T,H):()=>{}}_buildInstruction(c,a,g,T,H){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,g,T,c.fromState.options,c.toState.options,a,H)}destroyInnerAnimations(c){let a=this.driver.query(c,va,!0);a.forEach(g=>this.destroyActiveAnimationsForElement(g)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(c,ji,!0),a.forEach(g=>this.finishActiveQueriedAnimationOnElement(g)))}destroyActiveAnimationsForElement(c){const a=this.playersByElement.get(c);a&&a.forEach(g=>{g.queued?g.markedForDestroy=!0:g.destroy()})}finishActiveQueriedAnimationOnElement(c){const a=this.playersByQueriedElement.get(c);a&&a.forEach(g=>g.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return uo(this.players).onDone(()=>c());c()})}processLeaveNode(c){var a;const g=c[Jr];if(g&&g.setForRemoval){if(c[Jr]=Qr,g.namespaceId){this.destroyInnerAnimations(c);const T=this._fetchNamespace(g.namespaceId);T&&T.clearElementCache(c)}this._onRemovalComplete(c,g.setForRemoval)}(null===(a=c.classList)||void 0===a?void 0:a.contains(Po))&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(c=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((g,T)=>this._balanceNamespaceList(g,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let g=0;g<this.collectedEnterElements.length;g++)Vs(this.collectedEnterElements[g],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const g=[];try{a=this._flushAnimations(g,c)}finally{for(let T=0;T<g.length;T++)g[T]()}}else for(let g=0;g<this.collectedLeaveElements.length;g++)this.processLeaveNode(this.collectedLeaveElements[g]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(g=>g()),this._flushFns=[],this._whenQuietFns.length){const g=this._whenQuietFns;this._whenQuietFns=[],a.length?uo(a).onDone(()=>{g.forEach(T=>T())}):g.forEach(T=>T())}}reportError(c){throw function Zs(E){return new h.vHH(3402,Wn)}()}_flushAnimations(c,a){const g=new Pr,T=[],H=new Map,oe=[],De=new Map,tt=new Map,Ct=new Map,Xt=new Set;this.disabledNodes.forEach(Dn=>{Xt.add(Dn);const Un=this.driver.query(Dn,".ng-animate-queued",!0);for(let li=0;li<Un.length;li++)Xt.add(Un[li])});const Cn=this.bodyNode,Zn=Array.from(this.statesByElement.keys()),si=nl(Zn,this.collectedEnterElements),Kn=new Map;let Ii=0;si.forEach((Dn,Un)=>{const li=is+Ii++;Kn.set(Un,li),Dn.forEach(nr=>Vs(nr,li))});const lr=[],Lr=new Set,As=new Set;for(let Dn=0;Dn<this.collectedLeaveElements.length;Dn++){const Un=this.collectedLeaveElements[Dn],li=Un[Jr];li&&li.setForRemoval&&(lr.push(Un),Lr.add(Un),li.hasAnimation?this.driver.query(Un,".ng-star-inserted",!0).forEach(nr=>Lr.add(nr)):As.add(Un))}const xs=new Map,hs=nl(Zn,Array.from(Lr));hs.forEach((Dn,Un)=>{const li=ho+Ii++;xs.set(Un,li),Dn.forEach(nr=>Vs(nr,li))}),c.push(()=>{si.forEach((Dn,Un)=>{const li=Kn.get(Un);Dn.forEach(nr=>Wa(nr,li))}),hs.forEach((Dn,Un)=>{const li=xs.get(Un);Dn.forEach(nr=>Wa(nr,li))}),lr.forEach(Dn=>{this.processLeaveNode(Dn)})});const Da=[],Ia=[];for(let Dn=this._namespaceList.length-1;Dn>=0;Dn--)this._namespaceList[Dn].drainQueuedTransitions(a).forEach(li=>{const nr=li.player,js=li.element;if(Da.push(nr),this.collectedEnterElements.length){const $s=js[Jr];if($s&&$s.setForMove){if($s.previousTriggersValues&&$s.previousTriggersValues.has(li.triggerName)){const ql=$s.previousTriggersValues.get(li.triggerName),Al=this.statesByElement.get(li.element);Al&&Al[li.triggerName]&&(Al[li.triggerName].value=ql)}return void nr.destroy()}}const Sl=!Cn||!this.driver.containsElement(Cn,js),ps=xs.get(js),ll=Kn.get(js),Hr=this._buildInstruction(li,g,ll,ps,Sl);if(Hr.errors&&Hr.errors.length)return void Ia.push(Hr);if(Sl)return nr.onStart(()=>Ss(js,Hr.fromStyles)),nr.onDestroy(()=>Sn(js,Hr.toStyles)),void T.push(nr);if(li.isFallbackTransition)return nr.onStart(()=>Ss(js,Hr.fromStyles)),nr.onDestroy(()=>Sn(js,Hr.toStyles)),void T.push(nr);const ih=[];Hr.timelines.forEach($s=>{$s.stretchStartingKeyframe=!0,this.disabledNodes.has($s.element)||ih.push($s)}),Hr.timelines=ih,g.append(js,Hr.timelines),oe.push({instruction:Hr,player:nr,element:js}),Hr.queriedElements.forEach($s=>Sr(De,$s,[]).push(nr)),Hr.preStyleProps.forEach(($s,ql)=>{const Al=Object.keys($s);if(Al.length){let xl=tt.get(ql);xl||tt.set(ql,xl=new Set),Al.forEach(oc=>xl.add(oc))}}),Hr.postStyleProps.forEach(($s,ql)=>{const Al=Object.keys($s);let xl=Ct.get(ql);xl||Ct.set(ql,xl=new Set),Al.forEach(oc=>xl.add(oc))})});if(Ia.length){const Dn=[];Ia.forEach(Un=>{Dn.push(function ya(E,c){return new h.vHH(3505,Wn)}())}),Da.forEach(Un=>Un.destroy()),this.reportError(Dn)}const os=new Map,Xo=new Map;oe.forEach(Dn=>{const Un=Dn.element;g.has(Un)&&(Xo.set(Un,Un),this._beforeAnimationBuild(Dn.player.namespaceId,Dn.instruction,os))}),T.forEach(Dn=>{const Un=Dn.element;this._getPreviousPlayers(Un,!1,Dn.namespaceId,Dn.triggerName,null).forEach(nr=>{Sr(os,Un,[]).push(nr),nr.destroy()})});const Dl=lr.filter(Dn=>rt(Dn,tt,Ct)),Il=new Map;Yo(Il,this.driver,As,Ct,Si.l3).forEach(Dn=>{rt(Dn,tt,Ct)&&Dl.push(Dn)});const Vu=new Map;si.forEach((Dn,Un)=>{Yo(Vu,this.driver,new Set(Dn),tt,Si.k1)}),Dl.forEach(Dn=>{const Un=Il.get(Dn),li=Vu.get(Dn);Il.set(Dn,Object.assign(Object.assign({},Un),li))});const fs=[],nh=[],od={};oe.forEach(Dn=>{const{element:Un,player:li,instruction:nr}=Dn;if(g.has(Un)){if(Xt.has(Un))return li.onDestroy(()=>Sn(Un,nr.toStyles)),li.disabled=!0,li.overrideTotalTime(nr.totalTime),void T.push(li);let js=od;if(Xo.size>1){let ps=Un;const ll=[];for(;ps=ps.parentNode;){const Hr=Xo.get(ps);if(Hr){js=Hr;break}ll.push(ps)}ll.forEach(Hr=>Xo.set(Hr,js))}const Sl=this._buildAnimation(li.namespaceId,nr,os,H,Vu,Il);if(li.setRealPlayer(Sl),js===od)fs.push(li);else{const ps=this.playersByElement.get(js);ps&&ps.length&&(li.parentPlayer=uo(ps)),T.push(li)}}else Ss(Un,nr.fromStyles),li.onDestroy(()=>Sn(Un,nr.toStyles)),nh.push(li),Xt.has(Un)&&T.push(li)}),nh.forEach(Dn=>{const Un=H.get(Dn.element);if(Un&&Un.length){const li=uo(Un);Dn.setRealPlayer(li)}}),T.forEach(Dn=>{Dn.parentPlayer?Dn.syncPlayerEvents(Dn.parentPlayer):Dn.destroy()});for(let Dn=0;Dn<lr.length;Dn++){const Un=lr[Dn],li=Un[Jr];if(Wa(Un,ho),li&&li.hasAnimation)continue;let nr=[];if(De.size){let Sl=De.get(Un);Sl&&Sl.length&&nr.push(...Sl);let ps=this.driver.query(Un,ji,!0);for(let ll=0;ll<ps.length;ll++){let Hr=De.get(ps[ll]);Hr&&Hr.length&&nr.push(...Hr)}}const js=nr.filter(Sl=>!Sl.destroyed);js.length?R(this,Un,js):this.processLeaveNode(Un)}return lr.length=0,fs.forEach(Dn=>{this.players.push(Dn),Dn.onDone(()=>{Dn.destroy();const Un=this.players.indexOf(Dn);this.players.splice(Un,1)}),Dn.play()}),fs}elementContainsData(c,a){let g=!1;const T=a[Jr];return T&&T.setForRemoval&&(g=!0),this.playersByElement.has(a)&&(g=!0),this.playersByQueriedElement.has(a)&&(g=!0),this.statesByElement.has(a)&&(g=!0),this._fetchNamespace(c).elementContainsData(a)||g}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,a,g,T,H){let oe=[];if(a){const De=this.playersByQueriedElement.get(c);De&&(oe=De)}else{const De=this.playersByElement.get(c);if(De){const tt=!H||H==$a;De.forEach(Ct=>{Ct.queued||!tt&&Ct.triggerName!=T||oe.push(Ct)})}}return(g||T)&&(oe=oe.filter(De=>!(g&&g!=De.namespaceId||T&&T!=De.triggerName))),oe}_beforeAnimationBuild(c,a,g){const H=a.element,oe=a.isRemovalTransition?void 0:c,De=a.isRemovalTransition?void 0:a.triggerName;for(const tt of a.timelines){const Ct=tt.element,Xt=Ct!==H,Cn=Sr(g,Ct,[]);this._getPreviousPlayers(Ct,Xt,oe,De,a.toState).forEach(si=>{const Kn=si.getRealPlayer();Kn.beforeDestroy&&Kn.beforeDestroy(),si.destroy(),Cn.push(si)})}Ss(H,a.fromStyles)}_buildAnimation(c,a,g,T,H,oe){const De=a.triggerName,tt=a.element,Ct=[],Xt=new Set,Cn=new Set,Zn=a.timelines.map(Kn=>{const Ii=Kn.element;Xt.add(Ii);const lr=Ii[Jr];if(lr&&lr.removedBeforeQueried)return new Si.ZN(Kn.duration,Kn.delay);const Lr=Ii!==tt,As=function U(E){const c=[];return ae(E,c),c}((g.get(Ii)||la).map(os=>os.getRealPlayer())).filter(os=>!!os.element&&os.element===Ii),xs=H.get(Ii),hs=oe.get(Ii),Da=Js(0,this._normalizer,0,Kn.keyframes,xs,hs),Ia=this._buildPlayer(Kn,Da,As);if(Kn.subTimeline&&T&&Cn.add(Ii),Lr){const os=new Ga(c,De,Ii);os.setRealPlayer(Ia),Ct.push(os)}return Ia});Ct.forEach(Kn=>{Sr(this.playersByQueriedElement,Kn.element,[]).push(Kn),Kn.onDone(()=>function ko(E,c,a){let g;if(E instanceof Map){if(g=E.get(c),g){if(g.length){const T=g.indexOf(a);g.splice(T,1)}0==g.length&&E.delete(c)}}else if(g=E[c],g){if(g.length){const T=g.indexOf(a);g.splice(T,1)}0==g.length&&delete E[c]}return g}(this.playersByQueriedElement,Kn.element,Kn))}),Xt.forEach(Kn=>Vs(Kn,lu));const si=uo(Zn);return si.onDestroy(()=>{Xt.forEach(Kn=>Wa(Kn,lu)),Sn(tt,a.toStyles)}),Cn.forEach(Kn=>{Sr(T,Kn,[]).push(si)}),si}_buildPlayer(c,a,g){return a.length>0?this.driver.animate(c.element,a,c.duration,c.delay,c.easing,g):new Si.ZN(c.duration,c.delay)}}class Ga{constructor(c,a,g){this.namespaceId=c,this.triggerName=a,this.element=g,this._player=new Si.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,Object.keys(this._queuedCallbacks).forEach(a=>{this._queuedCallbacks[a].forEach(g=>Mr(c,a,void 0,g))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const a=this._player;a.triggerCallback&&c.onStart(()=>a.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,a){Sr(this._queuedCallbacks,c,[]).push(a)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const a=this._player;a.triggerCallback&&a.triggerCallback(c)}}function io(E){return E&&1===E.nodeType}function tl(E,c){const a=E.style.display;return E.style.display=null!=c?c:"none",a}function Yo(E,c,a,g,T){const H=[];a.forEach(tt=>H.push(tl(tt)));const oe=[];g.forEach((tt,Ct)=>{const Xt={};tt.forEach(Cn=>{const Zn=Xt[Cn]=c.computeStyle(Ct,Cn,T);(!Zn||0==Zn.length)&&(Ct[Jr]=Ro,oe.push(Ct))}),E.set(Ct,Xt)});let De=0;return a.forEach(tt=>tl(tt,H[De++])),oe}function nl(E,c){const a=new Map;if(E.forEach(De=>a.set(De,[])),0==c.length)return a;const T=new Set(c),H=new Map;function oe(De){if(!De)return 1;let tt=H.get(De);if(tt)return tt;const Ct=De.parentNode;return tt=a.has(Ct)?Ct:T.has(Ct)?1:oe(Ct),H.set(De,tt),tt}return c.forEach(De=>{const tt=oe(De);1!==tt&&a.get(tt).push(De)}),a}function Vs(E,c){var a;null===(a=E.classList)||void 0===a||a.add(c)}function Wa(E,c){var a;null===(a=E.classList)||void 0===a||a.remove(c)}function R(E,c,a){uo(a).onDone(()=>E.processLeaveNode(c))}function ae(E,c){for(let a=0;a<E.length;a++){const g=E[a];g instanceof Si.ZE?ae(g.players,c):c.push(g)}}function rt(E,c,a){const g=a.get(E);if(!g)return!1;let T=c.get(E);return T?g.forEach(H=>T.add(H)):c.set(E,g),a.delete(E),!0}class Et{constructor(c,a,g){this.bodyNode=c,this._driver=a,this._normalizer=g,this._triggerCache={},this.onRemovalComplete=(T,H)=>{},this._transitionEngine=new ua(c,a,g),this._timelineEngine=new qo(c,a,g),this._transitionEngine.onRemovalComplete=(T,H)=>this.onRemovalComplete(T,H)}registerTrigger(c,a,g,T,H){const oe=c+"-"+T;let De=this._triggerCache[oe];if(!De){const tt=[],Xt=wn(this._driver,H,tt,[]);if(tt.length)throw function Cs(E,c){return new h.vHH(3404,Wn)}();De=function Ha(E,c,a){return new Er(E,c,a)}(T,Xt,this._normalizer),this._triggerCache[oe]=De}this._transitionEngine.registerTrigger(a,T,De)}register(c,a){this._transitionEngine.register(c,a)}destroy(c,a){this._transitionEngine.destroy(c,a)}onInsert(c,a,g,T){this._transitionEngine.insertNode(c,a,g,T)}onRemove(c,a,g,T){this._transitionEngine.removeNode(c,a,T||!1,g)}disableAnimations(c,a){this._transitionEngine.markElementAsDisabled(c,a)}process(c,a,g,T){if("@"==g.charAt(0)){const[H,oe]=Ts(g);this._timelineEngine.command(H,a,oe,T)}else this._transitionEngine.trigger(c,a,g,T)}listen(c,a,g,T,H){if("@"==g.charAt(0)){const[oe,De]=Ts(g);return this._timelineEngine.listen(oe,a,De,H)}return this._transitionEngine.listen(c,a,g,T,H)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let un=(()=>{class E{constructor(a,g,T){this._element=a,this._startStyles=g,this._endStyles=T,this._state=0;let H=E.initialStylesByElement.get(a);H||E.initialStylesByElement.set(a,H={}),this._initialStyles=H}start(){this._state<1&&(this._startStyles&&Sn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sn(this._element,this._initialStyles),this._endStyles&&(Sn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(E.initialStylesByElement.delete(this._element),this._startStyles&&(Ss(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ss(this._element,this._endStyles),this._endStyles=null),Sn(this._element,this._initialStyles),this._state=3)}}return E.initialStylesByElement=new WeakMap,E})();function Bn(E){let c=null;const a=Object.keys(E);for(let g=0;g<a.length;g++){const T=a[g];ui(T)&&(c=c||{},c[T]=E[T])}return c}function ui(E){return"display"===E||"position"===E}class ii{constructor(c,a,g,T){this.element=c,this.keyframes=a,this.options=g,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=g.duration,this._delay=g.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(c,a,g){return c.animate(a,g)}onStart(c){this._onStartFns.push(c)}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c={};if(this.hasStarted()){const a=this._finalKeyframe;Object.keys(a).forEach(g=>{"offset"!=g&&(c[g]=this._finished?a[g]:_a(this.element,g))})}this.currentSnapshot=c}triggerCallback(c){const a="start"==c?this._onStartFns:this._onDoneFns;a.forEach(g=>g()),a.length=0}}class zn{validateStyleProperty(c){return Io(c)}matchesElement(c,a){return!1}containsElement(c,a){return So(c,a)}getParentElement(c){return Ds(c)}query(c,a,g){return Ao(c,a,g)}computeStyle(c,a,g){return window.getComputedStyle(c)[a]}animate(c,a,g,T,H,oe=[]){const tt={duration:g,delay:T,fill:0==T?"both":"forwards"};H&&(tt.easing=H);const Ct={},Xt=oe.filter(Zn=>Zn instanceof ii);(function Xa(E,c){return 0===E||0===c})(g,T)&&Xt.forEach(Zn=>{let si=Zn.currentSnapshot;Object.keys(si).forEach(Kn=>Ct[Kn]=si[Kn])}),a=function Na(E,c,a){const g=Object.keys(a);if(g.length&&c.length){let H=c[0],oe=[];if(g.forEach(De=>{H.hasOwnProperty(De)||oe.push(De),H[De]=a[De]}),oe.length)for(var T=1;T<c.length;T++){let De=c[T];oe.forEach(function(tt){De[tt]=_a(E,tt)})}}return c}(c,a=a.map(Zn=>$i(Zn,!1)),Ct);const Cn=function Qt(E,c){let a=null,g=null;return Array.isArray(c)&&c.length?(a=Bn(c[0]),c.length>1&&(g=Bn(c[c.length-1]))):c&&(a=Bn(c)),a||g?new un(E,a,g):null}(c,a);return new ii(c,a,tt,Cn)}}let ss=(()=>{class E extends Si._j{constructor(a,g){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(g.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(a){const g=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(a)?(0,Si.vP)(a):a;return Qo(this._renderer,null,g,"register",[T]),new Yi(g,this._renderer)}}return E.\u0275fac=function(a){return new(a||E)(h.LFG(h.FYo),h.LFG(ut.K0))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),E})();class Yi extends Si.LC{constructor(c,a){super(),this._id=c,this._renderer=a}create(c,a){return new il(this._id,c,a||{},this._renderer)}}class il{constructor(c,a,g,T){this.id=c,this.element=a,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",g)}_listen(c,a){return this._renderer.listen(this.element,`@@${this.id}:${c}`,a)}_command(c,...a){return Qo(this._renderer,this.element,this.id,c,a)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){var c,a;return null!==(a=null===(c=this._renderer.engine.players[+this.id])||void 0===c?void 0:c.getPosition())&&void 0!==a?a:0}}function Qo(E,c,a,g,T){return E.setProperty(c,`@@${a}:${g}`,T)}const Ul="@.disabled";let Ca=(()=>{class E{constructor(a,g,T){this.delegate=a,this.engine=g,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),g.onRemovalComplete=(H,oe)=>{const De=null==oe?void 0:oe.parentNode(H);De&&oe.removeChild(De,H)}}createRenderer(a,g){const H=this.delegate.createRenderer(a,g);if(!(a&&g&&g.data&&g.data.animation)){let Xt=this._rendererCache.get(H);return Xt||(Xt=new Za("",H,this.engine),this._rendererCache.set(H,Xt)),Xt}const oe=g.id,De=g.id+"-"+this._currentId;this._currentId++,this.engine.register(De,a);const tt=Xt=>{Array.isArray(Xt)?Xt.forEach(tt):this.engine.registerTrigger(oe,De,a,Xt.name,Xt)};return g.data.animation.forEach(tt),new ca(this,De,H,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(a,g,T){a>=0&&a<this._microtaskId?this._zone.run(()=>g(T)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(H=>{const[oe,De]=H;oe(De)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([g,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return E.\u0275fac=function(a){return new(a||E)(h.LFG(h.FYo),h.LFG(Et),h.LFG(h.R0b))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),E})();class Za{constructor(c,a,g){this.namespaceId=c,this.delegate=a,this.engine=g,this.destroyNode=this.delegate.destroyNode?T=>a.destroyNode(T):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(c,a){return this.delegate.createElement(c,a)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,a){this.delegate.appendChild(c,a),this.engine.onInsert(this.namespaceId,a,c,!1)}insertBefore(c,a,g,T=!0){this.delegate.insertBefore(c,a,g),this.engine.onInsert(this.namespaceId,a,c,T)}removeChild(c,a,g){this.engine.onRemove(this.namespaceId,a,this.delegate,g)}selectRootElement(c,a){return this.delegate.selectRootElement(c,a)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,a,g,T){this.delegate.setAttribute(c,a,g,T)}removeAttribute(c,a,g){this.delegate.removeAttribute(c,a,g)}addClass(c,a){this.delegate.addClass(c,a)}removeClass(c,a){this.delegate.removeClass(c,a)}setStyle(c,a,g,T){this.delegate.setStyle(c,a,g,T)}removeStyle(c,a,g){this.delegate.removeStyle(c,a,g)}setProperty(c,a,g){"@"==a.charAt(0)&&a==Ul?this.disableAnimations(c,!!g):this.delegate.setProperty(c,a,g)}setValue(c,a){this.delegate.setValue(c,a)}listen(c,a,g){return this.delegate.listen(c,a,g)}disableAnimations(c,a){this.engine.disableAnimations(c,a)}}class ca extends Za{constructor(c,a,g,T){super(a,g,T),this.factory=c,this.namespaceId=a}setProperty(c,a,g){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Ul?this.disableAnimations(c,g=void 0===g||!!g):this.engine.process(this.namespaceId,c,a.substr(1),g):this.delegate.setProperty(c,a,g)}listen(c,a,g){if("@"==a.charAt(0)){const T=function Ta(E){switch(E){case"body":return document.body;case"document":return document;case"window":return window;default:return E}}(c);let H=a.substr(1),oe="";return"@"!=H.charAt(0)&&([H,oe]=function ro(E){const c=E.indexOf(".");return[E.substring(0,c),E.substr(c+1)]}(H)),this.engine.listen(this.namespaceId,T,H,oe,De=>{this.factory.scheduleListenerCallback(De._data||-1,g,De)})}return this.delegate.listen(c,a,g)}}let Ka=(()=>{class E extends Et{constructor(a,g,T){super(a.body,g,T)}ngOnDestroy(){this.flush()}}return E.\u0275fac=function(a){return new(a||E)(h.LFG(ut.K0),h.LFG(sa),h.LFG(Rr))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),E})();const rl=new h.OlP("AnimationModuleType"),qs=[{provide:Si._j,useClass:ss},{provide:Rr,useFactory:function Xc(){return new ks}},{provide:Et,useClass:Ka},{provide:h.FYo,useFactory:function Ac(E,c,a){return new Ca(E,c,a)},deps:[f.se,Et,h.R0b]}],Ju=[{provide:sa,useFactory:()=>new zn},{provide:rl,useValue:"BrowserAnimations"},...qs],du=[{provide:sa,useClass:pl},{provide:rl,useValue:"NoopAnimations"},...qs];let Pu=(()=>{class E{static withConfig(a){return{ngModule:E,providers:a.disableAnimations?du:Ju}}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275mod=h.oAB({type:E}),E.\u0275inj=h.cJS({providers:Ju,imports:[f.b2]}),E})();var Bl=x(8968),Lo=x(4004);let Hl=(()=>{class E{constructor(a,g){this.toastr=a,this.router=g}intercept(a,g){return g.handle(a).pipe((0,Lo.U)(T=>{let H=null==T?void 0:T.body;return 0==(null==H?void 0:H.code)&&(null==H?void 0:H.message)?this.toastr.error(null==H?void 0:H.message,"",{timeOut:7e3}):3==(null==H?void 0:H.code)&&("ar"==localStorage.getItem("lang")?this.toastr.error("\u064a\u062c\u0628 \u0639\u0644\u064a\u0643  \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0645\u0624\u0629 \u0627\u062e\u0631\u064a","",{timeOut:7e3}):this.toastr.error("You Have To Login Again","",{timeOut:7e3}),localStorage.removeItem("joincart"),localStorage.removeItem("joinToken"),this.router.navigate(["/auth/login"]),location.reload()),T}))}}return E.\u0275fac=function(a){return new(a||E)(h.LFG(Bl._W),h.LFG(G.F0))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),E})();var so=x(4941),da=x(2011),oo=x(3385),_l=x(4986),Xu=x(8306),jl=x(8996),Ru=x(9646),Bs=x(6351),hu=x(8675),ec=x(4482),tc=x(5403);function fu(){return(0,ec.e)((E,c)=>{let a,g=!1;E.subscribe((0,tc.x)(c,T=>{const H=a;a=T,g&&c.next([H,T]),g=!0}))})}var Fo=x(5026),ed=x(1884),Oc=x(9300),$l=(x(5881),x(3942)),an=x(5525),ha=x(2090),yo=x(4859);function Nu(E,c){if(void 0===c)return{merge:!1};if(void 0!==c.mergeFields&&void 0!==c.merge)throw new an.WA("invalid-argument",`Invalid options passed to function ${E}(): You cannot specify both "merge" and "mergeFields".`);return c}function pu(){if("undefined"==typeof Uint8Array)throw new an.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Gl(){if(!(0,an.Me)())throw new an.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class zl{constructor(c){this._delegate=c}static fromBase64String(c){return Gl(),new zl(an.Jj.fromBase64String(c))}static fromUint8Array(c){return pu(),new zl(an.Jj.fromUint8Array(c))}toBase64(){return Gl(),this._delegate.toBase64()}toUint8Array(){return pu(),this._delegate.toUint8Array()}isEqual(c){return this._delegate.isEqual(c._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gu(E){return function kr(E,c){if("object"!=typeof E||null===E)return!1;const a=E;for(const g of c)if(g in a&&"function"==typeof a[g])return!0;return!1}(E,["next","error","complete"])}class ku{enableIndexedDbPersistence(c,a){return(0,an.ST)(c._delegate,{forceOwnership:a})}enableMultiTabIndexedDbPersistence(c){return(0,an.fH)(c._delegate)}clearIndexedDbPersistence(c){return(0,an.Fc)(c._delegate)}}class mu{constructor(c,a,g){this._delegate=a,this._persistenceProvider=g,this.INTERNAL={delete:()=>this.terminate()},c instanceof an.l7||(this._appCompat=c)}get _databaseId(){return this._delegate._databaseId}settings(c){const a=this._delegate._getSettings();!c.merge&&a.host!==c.host&&(0,an.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),c.merge&&delete(c=Object.assign(Object.assign({},a),c)).merge,this._delegate._setSettings(c)}useEmulator(c,a,g={}){(0,an.at)(this._delegate,c,a,g)}enableNetwork(){return(0,an.Ix)(this._delegate)}disableNetwork(){return(0,an.TF)(this._delegate)}enablePersistence(c){let a=!1,g=!1;return c&&(a=!!c.synchronizeTabs,g=!!c.experimentalForceOwningTab,(0,an.Wi)("synchronizeTabs",a,"experimentalForceOwningTab",g)),a?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,g)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,an.Mx)(this._delegate)}onSnapshotsInSync(c){return(0,an.sc)(this._delegate,c)}get app(){if(!this._appCompat)throw new an.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(c){try{return new cn(this,(0,an.hJ)(this._delegate,c))}catch(a){throw m(a,"collection()","Firestore.collection()")}}doc(c){try{return new C(this,(0,an.JU)(this._delegate,c))}catch(a){throw m(a,"doc()","Firestore.doc()")}}collectionGroup(c){try{return new ct(this,(0,an.B$)(this._delegate,c))}catch(a){throw m(a,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(c){return(0,an.i3)(this._delegate,a=>c(new bl(this,a)))}batch(){return(0,an.qY)(this._delegate),new Wl(new an.PU(this._delegate,c=>(0,an.GL)(this._delegate,c)))}loadBundle(c){return(0,an.Pb)(this._delegate,c)}namedQuery(c){return(0,an.L$)(this._delegate,c).then(a=>a?new ct(this,a):null)}}class yu extends an.u7{constructor(c){super(),this.firestore=c}convertBytes(c){return new zl(new an.Jj(c))}convertReference(c){const a=this.convertDocumentKey(c,this.firestore._databaseId);return C.forKey(a,this.firestore,null)}}class bl{constructor(c,a){this._firestore=c,this._delegate=a,this._userDataWriter=new yu(c)}get(c){const a=ri(c);return this._delegate.get(a).then(g=>new J(this._firestore,new an.xU(this._firestore._delegate,this._userDataWriter,g._key,g._document,g.metadata,a.converter)))}set(c,a,g){const T=ri(c);return g?(Nu("Transaction.set",g),this._delegate.set(T,a,g)):this._delegate.set(T,a),this}update(c,a,g,...T){const H=ri(c);return 2===arguments.length?this._delegate.update(H,a):this._delegate.update(H,a,g,...T),this}delete(c){const a=ri(c);return this._delegate.delete(a),this}}class Wl{constructor(c){this._delegate=c}set(c,a,g){const T=ri(c);return g?(Nu("WriteBatch.set",g),this._delegate.set(T,a,g)):this._delegate.set(T,a),this}update(c,a,g,...T){const H=ri(c);return 2===arguments.length?this._delegate.update(H,a):this._delegate.update(H,a,g,...T),this}delete(c){const a=ri(c);return this._delegate.delete(a),this}commit(){return this._delegate.commit()}}class sl{constructor(c,a,g){this._firestore=c,this._userDataWriter=a,this._delegate=g}fromFirestore(c,a){const g=new an.$q(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,null);return this._delegate.fromFirestore(new ge(this._firestore,g),null!=a?a:{})}toFirestore(c,a){return a?this._delegate.toFirestore(c,a):this._delegate.toFirestore(c)}static getInstance(c,a){const g=sl.INSTANCES;let T=g.get(c);T||(T=new WeakMap,g.set(c,T));let H=T.get(a);return H||(H=new sl(c,new yu(c),a),T.set(a,H)),H}}sl.INSTANCES=new WeakMap;class C{constructor(c,a){this.firestore=c,this._delegate=a,this._userDataWriter=new yu(c)}static forPath(c,a,g){if(c.length%2!=0)throw new an.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${c.canonicalString()} has ${c.length}`);return new C(a,new an.my(a._delegate,g,new an.Ky(c)))}static forKey(c,a,g){return new C(a,new an.my(a._delegate,g,c))}get id(){return this._delegate.id}get parent(){return new cn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(c){try{return new cn(this.firestore,(0,an.hJ)(this._delegate,c))}catch(a){throw m(a,"collection()","DocumentReference.collection()")}}isEqual(c){return(c=(0,ha.m9)(c))instanceof an.my&&(0,an.Eo)(this._delegate,c)}set(c,a){a=Nu("DocumentReference.set",a);try{return a?(0,an.pl)(this._delegate,c,a):(0,an.pl)(this._delegate,c)}catch(g){throw m(g,"setDoc()","DocumentReference.set()")}}update(c,a,...g){try{return 1===arguments.length?(0,an.r7)(this._delegate,c):(0,an.r7)(this._delegate,c,a,...g)}catch(T){throw m(T,"updateDoc()","DocumentReference.update()")}}delete(){return(0,an.oe)(this._delegate)}onSnapshot(...c){const a=v(c),g=S(c,T=>new J(this.firestore,new an.xU(this.firestore._delegate,this._userDataWriter,T._key,T._document,T.metadata,this._delegate.converter)));return(0,an.cf)(this._delegate,a,g)}get(c){let a;return a="cache"===(null==c?void 0:c.source)?(0,an.kl)(this._delegate):"server"===(null==c?void 0:c.source)?(0,an.Xk)(this._delegate):(0,an.QT)(this._delegate),a.then(g=>new J(this.firestore,new an.xU(this.firestore._delegate,this._userDataWriter,g._key,g._document,g.metadata,this._delegate.converter)))}withConverter(c){return new C(this.firestore,this._delegate.withConverter(c?sl.getInstance(this.firestore,c):null))}}function m(E,c,a){return E.message=E.message.replace(c,a),E}function v(E){for(const c of E)if("object"==typeof c&&!gu(c))return c;return{}}function S(E,c){var a,g;let T;return T=gu(E[0])?E[0]:gu(E[1])?E[1]:"function"==typeof E[0]?{next:E[0],error:E[1],complete:E[2]}:{next:E[1],error:E[2],complete:E[3]},{next:H=>{T.next&&T.next(c(H))},error:null===(a=T.error)||void 0===a?void 0:a.bind(T),complete:null===(g=T.complete)||void 0===g?void 0:g.bind(T)}}class J{constructor(c,a){this._firestore=c,this._delegate=a}get ref(){return new C(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(c){return this._delegate.data(c)}get(c,a){return this._delegate.get(c,a)}isEqual(c){return(0,an.qK)(this._delegate,c._delegate)}}class ge extends J{data(c){const a=this._delegate.data(c);return(0,an.K9)(void 0!==a,"Document in a QueryDocumentSnapshot should exist"),a}}class ct{constructor(c,a){this.firestore=c,this._delegate=a,this._userDataWriter=new yu(c)}where(c,a,g){try{return new ct(this.firestore,(0,an.IO)(this._delegate,(0,an.ar)(c,a,g)))}catch(T){throw m(T,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(c,a){try{return new ct(this.firestore,(0,an.IO)(this._delegate,(0,an.Xo)(c,a)))}catch(g){throw m(g,/(orderBy|where)\(\)/,"Query.$1()")}}limit(c){try{return new ct(this.firestore,(0,an.IO)(this._delegate,(0,an.b9)(c)))}catch(a){throw m(a,"limit()","Query.limit()")}}limitToLast(c){try{return new ct(this.firestore,(0,an.IO)(this._delegate,(0,an.vh)(c)))}catch(a){throw m(a,"limitToLast()","Query.limitToLast()")}}startAt(...c){try{return new ct(this.firestore,(0,an.IO)(this._delegate,(0,an.e0)(...c)))}catch(a){throw m(a,"startAt()","Query.startAt()")}}startAfter(...c){try{return new ct(this.firestore,(0,an.IO)(this._delegate,(0,an.TQ)(...c)))}catch(a){throw m(a,"startAfter()","Query.startAfter()")}}endBefore(...c){try{return new ct(this.firestore,(0,an.IO)(this._delegate,(0,an.Lx)(...c)))}catch(a){throw m(a,"endBefore()","Query.endBefore()")}}endAt(...c){try{return new ct(this.firestore,(0,an.IO)(this._delegate,(0,an.Wu)(...c)))}catch(a){throw m(a,"endAt()","Query.endAt()")}}isEqual(c){return(0,an.iE)(this._delegate,c._delegate)}get(c){let a;return a="cache"===(null==c?void 0:c.source)?(0,an.UQ)(this._delegate):"server"===(null==c?void 0:c.source)?(0,an.zN)(this._delegate):(0,an.PL)(this._delegate),a.then(g=>new dn(this.firestore,new an.W(this.firestore._delegate,this._userDataWriter,this._delegate,g._snapshot)))}onSnapshot(...c){const a=v(c),g=S(c,T=>new dn(this.firestore,new an.W(this.firestore._delegate,this._userDataWriter,this._delegate,T._snapshot)));return(0,an.cf)(this._delegate,a,g)}withConverter(c){return new ct(this.firestore,this._delegate.withConverter(c?sl.getInstance(this.firestore,c):null))}}class Jt{constructor(c,a){this._firestore=c,this._delegate=a}get type(){return this._delegate.type}get doc(){return new ge(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dn{constructor(c,a){this._firestore=c,this._delegate=a}get query(){return new ct(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(c=>new ge(this._firestore,c))}docChanges(c){return this._delegate.docChanges(c).map(a=>new Jt(this._firestore,a))}forEach(c,a){this._delegate.forEach(g=>{c.call(a,new ge(this._firestore,g))})}isEqual(c){return(0,an.qK)(this._delegate,c._delegate)}}class cn extends ct{constructor(c,a){super(c,a),this.firestore=c,this._delegate=a}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const c=this._delegate.parent;return c?new C(this.firestore,c):null}doc(c){try{return new C(this.firestore,void 0===c?(0,an.JU)(this._delegate):(0,an.JU)(this._delegate,c))}catch(a){throw m(a,"doc()","CollectionReference.doc()")}}add(c){return(0,an.ET)(this._delegate,c).then(a=>new C(this.firestore,a))}isEqual(c){return(0,an.Eo)(this._delegate,c._delegate)}withConverter(c){return new cn(this.firestore,this._delegate.withConverter(c?sl.getInstance(this.firestore,c):null))}}function ri(E){return(0,an.Cf)(E,an.my)}class br{constructor(...c){this._delegate=new an.Lz(...c)}static documentId(){return new br(an.Xb.keyField().canonicalString())}isEqual(c){return(c=(0,ha.m9)(c))instanceof an.Lz&&this._delegate._internalPath.isEqual(c._internalPath)}}class Xr{constructor(c){this._delegate=c}static serverTimestamp(){const c=(0,an.Bt)();return c._methodName="FieldValue.serverTimestamp",new Xr(c)}static delete(){const c=(0,an.AK)();return c._methodName="FieldValue.delete",new Xr(c)}static arrayUnion(...c){const a=(0,an.vr)(...c);return a._methodName="FieldValue.arrayUnion",new Xr(a)}static arrayRemove(...c){const a=(0,an.Ab)(...c);return a._methodName="FieldValue.arrayRemove",new Xr(a)}static increment(c){const a=(0,an.nP)(c);return a._methodName="FieldValue.increment",new Xr(a)}isEqual(c){return this._delegate.isEqual(c._delegate)}}const qa={Firestore:mu,GeoPoint:an.F8,Timestamp:an.EK,Blob:zl,Transaction:bl,WriteBatch:Wl,DocumentReference:C,DocumentSnapshot:J,Query:ct,QueryDocumentSnapshot:ge,QuerySnapshot:dn,CollectionReference:cn,FieldPath:br,FieldValue:Xr,setLogLevel:function Jd(E){(0,an.Ub)(E)},CACHE_SIZE_UNLIMITED:an.IX};!function ic(E){(function Hs(E,c){E.INTERNAL.registerComponent(new yo.wA("firestore-compat",a=>{const g=a.getProvider("app-compat").getImmediate(),T=a.getProvider("firestore").getImmediate();return c(g,T)},"PUBLIC").setServiceProps(Object.assign({},qa)))})(E,(c,a)=>new mu(c,a,new ku)),E.registerVersion("@firebase/firestore-compat","0.2.3")}($l.Z);var wl=x(440),rc=x(127);function ol(E,c){return function Jo(E,c=_l.z){return new Xu.y(a=>{let g;return null!=c?c.schedule(()=>{g=E.onSnapshot({includeMetadataChanges:!0},a)}):g=E.onSnapshot({includeMetadataChanges:!0},a),()=>{null!=g&&g()}})}(E,c)}function Zl(E,c){return ol(E,c).pipe((0,Lo.U)(a=>({payload:a,type:"query"})))}function Kl(E,c){return Zl(E,c).pipe((0,hu.O)(void 0),fu(),(0,Lo.U)(([a,g])=>{const T=g.payload.docChanges(),H=T.map(oe=>({type:oe.type,payload:oe}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(g.payload.metadata)&&g.payload.docs.forEach((oe,De)=>{const tt=T.find(Xt=>Xt.doc.ref.isEqual(oe.ref)),Ct=null==a?void 0:a.payload.docs.find(Xt=>Xt.ref.isEqual(oe.ref));tt&&JSON.stringify(tt.doc.metadata)===JSON.stringify(oe.metadata)||!tt&&Ct&&JSON.stringify(Ct.metadata)===JSON.stringify(oe.metadata)||H.push({type:"modified",payload:{oldIndex:De,newIndex:De,type:"modified",doc:oe}})}),H}))}function Fn(E,c,a){return Kl(E,a).pipe((0,Fo.R)((g,T)=>function Mc(E,c,a){return c.forEach(g=>{a.indexOf(g.type)>-1&&(E=function Tl(E,c){switch(c.type){case"added":if(!E[c.newIndex]||!E[c.newIndex].doc.ref.isEqual(c.doc.ref))return al(E,c.newIndex,0,c);break;case"modified":if(null==E[c.oldIndex]||E[c.oldIndex].doc.ref.isEqual(c.doc.ref)){if(c.oldIndex!==c.newIndex){const a=E.slice();return a.splice(c.oldIndex,1),a.splice(c.newIndex,0,c),a}return al(E,c.newIndex,1,c)}break;case"removed":if(E[c.oldIndex]&&E[c.oldIndex].doc.ref.isEqual(c.doc.ref))return al(E,c.oldIndex,1)}return E}(E,g))}),E}(g,T.map(H=>H.payload),c),[]),(0,ed.x)(),(0,Lo.U)(g=>g.map(T=>({type:T.type,payload:T}))))}function al(E,c,a,...g){const T=E.slice();return T.splice(c,a,...g),T}function vu(E){return(!E||0===E.length)&&(E=["added","removed","modified"]),E}class sc{constructor(c,a,g){this.ref=c,this.query=a,this.afs=g}stateChanges(c){let a=Kl(this.query,this.afs.schedulers.outsideAngular);return c&&c.length>0&&(a=a.pipe((0,Lo.U)(g=>g.filter(T=>c.indexOf(T.type)>-1)))),a.pipe((0,hu.O)(void 0),fu(),(0,Oc.h)(([g,T])=>T.length>0||!g),(0,Lo.U)(([g,T])=>T),Bs.iC)}auditTrail(c){return this.stateChanges(c).pipe((0,Fo.R)((a,g)=>[...a,...g],[]))}snapshotChanges(c){const a=vu(c);return Fn(this.query,a,this.afs.schedulers.outsideAngular).pipe(Bs.iC)}valueChanges(c={}){return Zl(this.query,this.afs.schedulers.outsideAngular).pipe((0,Lo.U)(a=>a.payload.docs.map(g=>c.idField?Object.assign(Object.assign({},g.data()),{[c.idField]:g.id}):g.data())),Bs.iC)}get(c){return(0,jl.D)(this.query.get(c)).pipe(Bs.iC)}add(c){return this.ref.add(c)}doc(c){return new nd(this.ref.doc(c),this.afs)}}class nd{constructor(c,a){this.ref=c,this.afs=a}set(c,a){return this.ref.set(c,a)}update(c){return this.ref.update(c)}delete(){return this.ref.delete()}collection(c,a){const g=this.ref.collection(c),{ref:T,query:H}=Lu(g,a);return new sc(T,H,this.afs)}snapshotChanges(){return function Cl(E,c){return ol(E,c).pipe((0,hu.O)(void 0),fu(),(0,Lo.U)(([a,g])=>g.exists?(null==a?void 0:a.exists)?{payload:g,type:"modified"}:{payload:g,type:"added"}:{payload:g,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Bs.iC)}valueChanges(c={}){return this.snapshotChanges().pipe((0,Lo.U)(({payload:a})=>c.idField?Object.assign(Object.assign({},a.data()),{[c.idField]:a.id}):a.data()))}get(c){return(0,jl.D)(this.ref.get(c)).pipe(Bs.iC)}}class Xd{constructor(c,a){this.query=c,this.afs=a}stateChanges(c){return c&&0!==c.length?Kl(this.query,this.afs.schedulers.outsideAngular).pipe((0,Lo.U)(a=>a.filter(g=>c.indexOf(g.type)>-1)),(0,Oc.h)(a=>a.length>0),Bs.iC):Kl(this.query,this.afs.schedulers.outsideAngular).pipe(Bs.iC)}auditTrail(c){return this.stateChanges(c).pipe((0,Fo.R)((a,g)=>[...a,...g],[]))}snapshotChanges(c){const a=vu(c);return Fn(this.query,a,this.afs.schedulers.outsideAngular).pipe(Bs.iC)}valueChanges(c={}){return Zl(this.query,this.afs.schedulers.outsideAngular).pipe((0,Lo.U)(g=>g.payload.docs.map(T=>c.idField?Object.assign({[c.idField]:T.id},T.data()):T.data())),Bs.iC)}get(c){return(0,jl.D)(this.query.get(c)).pipe(Bs.iC)}}const id=new h.OlP("angularfire2.enableFirestorePersistence"),eh=new h.OlP("angularfire2.firestore.persistenceSettings"),Xh=new h.OlP("angularfire2.firestore.settings"),ef=new h.OlP("angularfire2.firestore.use-emulator");function Lu(E,c=(a=>a)){return{query:c(E),ref:E}}let Vo=(()=>{class E{constructor(a,g,T,H,oe,De,tt,Ct,Xt,Cn,Zn,si,Kn,Ii,lr,Lr,As){this.schedulers=tt;const xs=(0,da.on)(a,De,g),hs=Xt;Cn&&(0,oo.nw)(xs,De,Zn,Kn,Ii,lr,si,Lr),[this.firestore,this.persistenceEnabled$]=(0,da.cc)(`${xs.name}.firestore`,"AngularFirestore",xs.name,()=>{const Da=De.runOutsideAngular(()=>xs.firestore());if(H&&Da.settings(H),hs&&Da.useEmulator(...hs),T&&!(0,ut.PM)(oe)){const Ia=()=>{try{return(0,jl.D)(Da.enablePersistence(Ct||void 0).then(()=>!0,()=>!1))}catch(os){return"undefined"!=typeof console&&console.warn(os),(0,Ru.of)(!1)}};return[Da,De.runOutsideAngular(Ia)]}return[Da,(0,Ru.of)(!1)]},[H,hs,T])}collection(a,g){let T;T="string"==typeof a?this.firestore.collection(a):a;const{ref:H,query:oe}=Lu(T,g),De=this.schedulers.ngZone.run(()=>H);return new sc(De,oe,this)}collectionGroup(a,g){const T=g||(oe=>oe),H=this.firestore.collectionGroup(a);return new Xd(T(H),this)}doc(a){let g;g="string"==typeof a?this.firestore.doc(a):a;const T=this.schedulers.ngZone.run(()=>g);return new nd(T,this)}createId(){return this.firestore.collection("_").doc().id}}return E.\u0275fac=function(a){return new(a||E)(h.LFG(da.Dh),h.LFG(da.xv,8),h.LFG(id,8),h.LFG(Xh,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Bs.HU),h.LFG(eh,8),h.LFG(ef,8),h.LFG(oo.zQ,8),h.LFG(oo.Qv,8),h.LFG(oo.L6,8),h.LFG(oo._Q,8),h.LFG(oo.rT,8),h.LFG(oo.lh,8),h.LFG(oo.f7,8),h.LFG(wl.nm,8))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac,providedIn:"any"}),E})(),rd=(()=>{class E{constructor(){rc.Z.registerVersion("angularfire",Bs.q4.full,"fst-compat")}static enablePersistence(a){return{ngModule:E,providers:[{provide:id,useValue:!0},{provide:eh,useValue:a}]}}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275mod=h.oAB({type:E}),E.\u0275inj=h.cJS({providers:[Vo]}),E})(),Fu=(()=>{class E{}return E.\u0275fac=function(a){return new(a||E)},E.\u0275mod=h.oAB({type:E,bootstrap:[na]}),E.\u0275inj=h.cJS({providers:[{provide:vr.TP,useClass:wo,multi:!0},{provide:vr.TP,useClass:Hl,multi:!0}],imports:[[dt.k$,Ws,ft.UX,ft.u5,rd,oo.ww,da.hO.initializeApp({apiKey:"AIzaSyBspMnWz9iq5Evt11YwGkcEPqghHyIGwuo",authDomain:"joinapp-515e6.firebaseapp.com",databaseURL:"https://joinapp-515e6.firebaseio.com",projectId:"joinapp-515e6",storageBucket:"joinapp-515e6.appspot.com",messagingSenderId:"794053292456",appId:"1:794053292456:web:36878b6a9a02cff3"}),so.Xt.forRoot(),Be.fx.forRoot(),ut.ez,Bl.Rh.forRoot(),f.b2,vr.JF,Z,ze.mr.forRoot(),Ce.aw.forRoot({defaultLanguage:"en",loader:{provide:Ce.Zw,useFactory:sd,deps:[vr.eN]}}),Pu]]}),E})();function sd(E){return new cs.w(E,"./assets/i18n/",".json")}(0,h.G48)(),f.q6().bootstrapModule(Fu).catch(E=>console.error(E))},5867:(qt,We,x)=>{x.d(We,{C6:()=>f.getApps,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=x(9681);(0,f.registerVersion)("firebase","9.14.0","app")},127:(qt,We,x)=>{x.d(We,{Z:()=>f.Z});var f=x(3942);f.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(qt,We,x)=>{x.r(We);var f=x(5861),h=x(3942),G=x(8247),Ce=x(2090),me=(x(9681),x(1877),x(4859));function ue(){return window}function se(){return(se=(0,f.Z)(function*(_e,X,$){var ee;const{BuildInfo:ne}=ue();(0,G.ap)(X.sessionId,"AuthEvent did not contain a session ID");const xe=yield dt(X.sessionId),et={};return(0,G.aq)()?et.ibi=ne.packageName:(0,G.ar)()?et.apn=ne.packageName:(0,G.as)(_e,"operation-not-supported-in-this-environment"),ne.displayName&&(et.appDisplayName=ne.displayName),et.sessionId=xe,(0,G.at)(_e,$,X.type,void 0,null!==(ee=X.eventId)&&void 0!==ee?ee:void 0,et)})).apply(this,arguments)}function at(){return(at=(0,f.Z)(function*(_e){const{BuildInfo:X}=ue(),$={};(0,G.aq)()?$.iosBundleId=X.packageName:(0,G.ar)()?$.androidPackageName=X.packageName:(0,G.as)(_e,"operation-not-supported-in-this-environment"),yield(0,G.au)(_e,$)})).apply(this,arguments)}function ut(){return(ut=(0,f.Z)(function*(_e,X,$){const{cordova:ee}=ue();let ne=()=>{};try{yield new Promise((xe,et)=>{let Lt=null;function Vt(){var Tn;xe();const vi=null===(Tn=ee.plugins.browsertab)||void 0===Tn?void 0:Tn.close;"function"==typeof vi&&vi(),"function"==typeof(null==$?void 0:$.close)&&$.close()}function bn(){Lt||(Lt=window.setTimeout(()=>{et((0,G.aw)(_e,"redirect-cancelled-by-user"))},2e3))}function vn(){"visible"===(null==document?void 0:document.visibilityState)&&bn()}X.addPassiveListener(Vt),document.addEventListener("resume",bn,!1),(0,G.ar)()&&document.addEventListener("visibilitychange",vn,!1),ne=()=>{X.removePassiveListener(Vt),document.removeEventListener("resume",bn,!1),document.removeEventListener("visibilitychange",vn,!1),Lt&&window.clearTimeout(Lt)}})}finally{ne()}})).apply(this,arguments)}function dt(_e){return Be.apply(this,arguments)}function Be(){return(Be=(0,f.Z)(function*(_e){const X=ft(_e),$=yield crypto.subtle.digest("SHA-256",X);return Array.from(new Uint8Array($)).map(ne=>ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ft(_e){if((0,G.ap)(/[0-9a-zA-Z]+/.test(_e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_e);const X=new ArrayBuffer(_e.length),$=new Uint8Array(X);for(let ee=0;ee<_e.length;ee++)$[ee]=_e.charCodeAt(ee);return $}class be extends G.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(X=>{this.resolveInialized=X})}addPassiveListener(X){this.passiveListeners.add(X)}removePassiveListener(X){this.passiveListeners.delete(X)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(X){return this.resolveInialized(),this.passiveListeners.forEach($=>$(X)),super.onEvent(X)}initialized(){var X=this;return(0,f.Z)(function*(){yield X.initPromise})()}}function Y(_e){return Je.apply(this,arguments)}function Je(){return(Je=(0,f.Z)(function*(_e){const X=yield Ue()._get(Xe(_e));return X&&(yield Ue()._remove(Xe(_e))),X})).apply(this,arguments)}function Fe(){const _e=[],X="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let $=0;$<20;$++){const ee=Math.floor(Math.random()*X.length);_e.push(X.charAt(ee))}return _e.join("")}function Ue(){return(0,G.az)(G.b)}function Xe(_e){return(0,G.aA)("authEvent",_e.config.apiKey,_e.name)}function xt(_e){if(!(null==_e?void 0:_e.includes("?")))return{};const[X,...$]=_e.split("?");return(0,Ce.zd)($.join("?"))}function Q(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,G.aw)("no-auth-event")}}function nn(){var _e;return(null===(_e=null==self?void 0:self.location)||void 0===_e?void 0:_e.protocol)||null}function On(_e=(0,Ce.z$)()){return!("file:"!==nn()&&"ionic:"!==nn()&&"capacitor:"!==nn()||!_e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yn(){try{const _e=self.localStorage,X=G.aI();if(_e)return _e.setItem(X,"1"),_e.removeItem(X),!function ci(_e=(0,Ce.z$)()){return function Jn(){return(0,Ce.w1)()&&11===(null==document?void 0:document.documentMode)}()||function jn(_e=(0,Ce.z$)()){return/Edge\/\d+/.test(_e)}(_e)}()||(0,Ce.hl)()}catch(_e){return Ai()&&(0,Ce.hl)()}return!1}function Ai(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mn(){return(function yn(){return"http:"===nn()||"https:"===nn()}()||(0,Ce.ru)()||On())&&!function Vn(){return(0,Ce.b$)()||(0,Ce.UG)()}()&&Yn()&&!Ai()}function bi(){return On()&&"undefined"!=typeof document}function Li(){return(Li=(0,f.Z)(function*(){return!!bi()&&new Promise(_e=>{const X=setTimeout(()=>{_e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(X),_e(!0)})})})).apply(this,arguments)}const rn={LOCAL:"local",NONE:"none",SESSION:"session"},Ui=G.ax,yi="persistence";function Ve(_e){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,f.Z)(function*(_e){yield _e._initializationPromise;const X=It(),$=G.aA(yi,_e.config.apiKey,_e.name);X&&X.setItem($,_e._getPersistence())})).apply(this,arguments)}function It(){var _e;try{return(null===(_e=function ti(){return"undefined"!=typeof window?window:null}())||void 0===_e?void 0:_e.sessionStorage)||null}catch(X){return null}}const Nt=G.ax;class Zt{constructor(){this.browserResolver=G.az(G.k),this.cordovaResolver=G.az(class pt{constructor(){this._redirectPersistence=G.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=G.aB,this._overrideRedirectResult=G.aC}_initialize(X){var $=this;return(0,f.Z)(function*(){const ee=X._key();let ne=$.eventManagers.get(ee);return ne||(ne=new be(X),$.eventManagers.set(ee,ne),$.attachCallbackListeners(X,ne)),ne})()}_openPopup(X){(0,G.as)(X,"operation-not-supported-in-this-environment")}_openRedirect(X,$,ee,ne){var xe=this;return(0,f.Z)(function*(){!function ze(_e){var X,$,ee,ne,xe,et,Lt,Vt,bn,vn;const Tn=ue();(0,G.ax)("function"==typeof(null===(X=null==Tn?void 0:Tn.universalLinks)||void 0===X?void 0:X.subscribe),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,G.ax)(void 0!==(null===($=null==Tn?void 0:Tn.BuildInfo)||void 0===$?void 0:$.packageName),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,G.ax)("function"==typeof(null===(xe=null===(ne=null===(ee=null==Tn?void 0:Tn.cordova)||void 0===ee?void 0:ee.plugins)||void 0===ne?void 0:ne.browsertab)||void 0===xe?void 0:xe.openUrl),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.ax)("function"==typeof(null===(Vt=null===(Lt=null===(et=null==Tn?void 0:Tn.cordova)||void 0===et?void 0:et.plugins)||void 0===Lt?void 0:Lt.browsertab)||void 0===Vt?void 0:Vt.isAvailable),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,G.ax)("function"==typeof(null===(vn=null===(bn=null==Tn?void 0:Tn.cordova)||void 0===bn?void 0:bn.InAppBrowser)||void 0===vn?void 0:vn.open),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(X);const et=yield xe._initialize(X);yield et.initialized(),et.resetRedirect(),(0,G.aD)(),yield xe._originValidation(X);const Lt=function Qe(_e,X,$=null){return{type:X,eventId:$,urlResponse:null,sessionId:Fe(),postBody:null,tenantId:_e.tenantId,error:(0,G.aw)(_e,"no-auth-event")}}(X,ee,ne);yield function bt(_e,X){return Ue()._set(Xe(_e),X)}(X,Lt);const Vt=yield function q(_e,X,$){return se.apply(this,arguments)}(X,Lt,$),bn=yield function ke(_e){const{cordova:X}=ue();return new Promise($=>{X.plugins.browsertab.isAvailable(ee=>{let ne=null;ee?X.plugins.browsertab.openUrl(_e):ne=X.InAppBrowser.open(_e,(0,G.av)()?"_blank":"_system","location=yes"),$(ne)})})}(Vt);return function lt(_e,X,$){return ut.apply(this,arguments)}(X,et,bn)})()}_isIframeWebStorageSupported(X,$){throw new Error("Method not implemented.")}_originValidation(X){const $=X._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function Te(_e){return at.apply(this,arguments)}(X)),this.originValidationPromises[$]}attachCallbackListeners(X,$){const{universalLinks:ee,handleOpenURL:ne,BuildInfo:xe}=ue(),et=setTimeout((0,f.Z)(function*(){yield Y(X),$.onEvent(Q())}),500),Lt=function(){var vn=(0,f.Z)(function*(Tn){clearTimeout(et);const vi=yield Y(X);let Ci=null;vi&&(null==Tn?void 0:Tn.url)&&(Ci=function nt(_e,X){var $,ee;const ne=function st(_e){const X=xt(_e),$=X.link?decodeURIComponent(X.link):void 0,ee=xt($).link,ne=X.deep_link_id?decodeURIComponent(X.deep_link_id):void 0;return xt(ne).link||ne||ee||$||_e}(X);if(ne.includes("/__/auth/callback")){const xe=xt(ne),et=xe.firebaseError?function it(_e){try{return JSON.parse(_e)}catch(X){return null}}(decodeURIComponent(xe.firebaseError)):null,Lt=null===(ee=null===($=null==et?void 0:et.code)||void 0===$?void 0:$.split("auth/"))||void 0===ee?void 0:ee[1],Vt=Lt?(0,G.aw)(Lt):null;return Vt?{type:_e.type,eventId:_e.eventId,tenantId:_e.tenantId,error:Vt,urlResponse:null,sessionId:null,postBody:null}:{type:_e.type,eventId:_e.eventId,tenantId:_e.tenantId,sessionId:_e.sessionId,urlResponse:ne,postBody:null}}return null}(vi,Tn.url)),$.onEvent(Ci||Q())});return function(vi){return vn.apply(this,arguments)}}();void 0!==ee&&"function"==typeof ee.subscribe&&ee.subscribe(null,Lt);const Vt=ne,bn=`${xe.packageName.toLowerCase()}://`;ue().handleOpenURL=function(){var vn=(0,f.Z)(function*(Tn){if(Tn.toLowerCase().startsWith(bn)&&Lt({url:Tn}),"function"==typeof Vt)try{Vt(Tn)}catch(vi){console.error(vi)}});return function(Tn){return vn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=G.a,this._completeRedirectFn=G.aB,this._overrideRedirectResult=G.aC}_initialize(X){var $=this;return(0,f.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(X)})()}_openPopup(X,$,ee,ne){var xe=this;return(0,f.Z)(function*(){return yield xe.selectUnderlyingResolver(),xe.assertedUnderlyingResolver._openPopup(X,$,ee,ne)})()}_openRedirect(X,$,ee,ne){var xe=this;return(0,f.Z)(function*(){return yield xe.selectUnderlyingResolver(),xe.assertedUnderlyingResolver._openRedirect(X,$,ee,ne)})()}_isIframeWebStorageSupported(X,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(X,$)}_originValidation(X){return this.assertedUnderlyingResolver._originValidation(X)}get _shouldInitProactively(){return bi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var X=this;return(0,f.Z)(function*(){if(X.underlyingResolver)return;const $=yield function on(){return Li.apply(this,arguments)}();X.underlyingResolver=$?X.cordovaResolver:X.browserResolver})()}}function Re(_e){return _e.unwrap()}function we(_e){return wt(_e)}function wt(_e){const{_tokenResponse:X}=_e instanceof Ce.ZR?_e.customData:_e;if(!X)return null;if(!(_e instanceof Ce.ZR)&&"temporaryProof"in X&&"phoneNumber"in X)return G.P.credentialFromResult(_e);const $=X.providerId;if(!$||$===G.o.PASSWORD)return null;let ee;switch($){case G.o.GOOGLE:ee=G.Q;break;case G.o.FACEBOOK:ee=G.N;break;case G.o.GITHUB:ee=G.T;break;case G.o.TWITTER:ee=G.W;break;default:const{oauthIdToken:ne,oauthAccessToken:xe,oauthTokenSecret:et,pendingToken:Lt,nonce:Vt}=X;return xe||et||ne||Lt?Lt?$.startsWith("saml.")?G.aL._create($,Lt):G.J._fromParams({providerId:$,signInMethod:$,pendingToken:Lt,idToken:ne,accessToken:xe}):new G.U($).credential({idToken:ne,accessToken:xe,rawNonce:Vt}):null}return _e instanceof Ce.ZR?ee.credentialFromError(_e):ee.credentialFromResult(_e)}function Mt(_e,X){return X.catch($=>{throw $ instanceof Ce.ZR&&function Ke(_e,X){var $,ee;const ne=null===($=X.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ee=X)||void 0===ee?void 0:ee.code))X.resolver=new fn(_e,G.an(_e,X));else if(ne){const xe=wt(X),et=X;xe&&(et.credential=xe,et.tenantId=ne.tenantId||void 0,et.email=ne.email||void 0,et.phoneNumber=ne.phoneNumber||void 0)}}(_e,$),$}).then($=>{const ne=$.user;return{operationType:$.operationType,credential:we($),additionalUserInfo:G.al($),user:pn.getOrCreate(ne)}})}function Tt(_e,X){return _n.apply(this,arguments)}function _n(){return(_n=(0,f.Z)(function*(_e,X){const $=yield X;return{verificationId:$.verificationId,confirm:ee=>Mt(_e,$.confirm(ee))}})).apply(this,arguments)}class fn{constructor(X,$){this.resolver=$,this.auth=function Oe(_e){return _e.wrapped()}(X)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(X){return Mt(Re(this.auth),this.resolver.resolveSignIn(X))}}class pn{constructor(X){this._delegate=X,this.multiFactor=G.ao(X)}static getOrCreate(X){return pn.USER_MAP.has(X)||pn.USER_MAP.set(X,new pn(X)),pn.USER_MAP.get(X)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(X){return this._delegate.getIdTokenResult(X)}getIdToken(X){return this._delegate.getIdToken(X)}linkAndRetrieveDataWithCredential(X){return this.linkWithCredential(X)}linkWithCredential(X){var $=this;return(0,f.Z)(function*(){return Mt($.auth,G.Z($._delegate,X))})()}linkWithPhoneNumber(X,$){var ee=this;return(0,f.Z)(function*(){return Tt(ee.auth,G.l(ee._delegate,X,$))})()}linkWithPopup(X){var $=this;return(0,f.Z)(function*(){return Mt($.auth,G.d($._delegate,X,Zt))})()}linkWithRedirect(X){var $=this;return(0,f.Z)(function*(){return yield Ve(G.aE($.auth)),G.g($._delegate,X,Zt)})()}reauthenticateAndRetrieveDataWithCredential(X){return this.reauthenticateWithCredential(X)}reauthenticateWithCredential(X){var $=this;return(0,f.Z)(function*(){return Mt($.auth,G._($._delegate,X))})()}reauthenticateWithPhoneNumber(X,$){return Tt(this.auth,G.r(this._delegate,X,$))}reauthenticateWithPopup(X){return Mt(this.auth,G.e(this._delegate,X,Zt))}reauthenticateWithRedirect(X){var $=this;return(0,f.Z)(function*(){return yield Ve(G.aE($.auth)),G.h($._delegate,X,Zt)})()}sendEmailVerification(X){return G.ab(this._delegate,X)}unlink(X){var $=this;return(0,f.Z)(function*(){return yield G.ak($._delegate,X),$})()}updateEmail(X){return G.ag(this._delegate,X)}updatePassword(X){return G.ah(this._delegate,X)}updatePhoneNumber(X){return G.u(this._delegate,X)}updateProfile(X){return G.af(this._delegate,X)}verifyBeforeUpdateEmail(X,$){return G.ac(this._delegate,X,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pn.USER_MAP=new WeakMap;const W=G.ax;let de=(()=>{class _e{constructor($,ee){if(this.app=$,ee.isInitialized())return this._delegate=ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ne}=$.options;W(ne,"invalid-api-key",{appName:$.name}),W(ne,"invalid-api-key",{appName:$.name});const xe="undefined"!=typeof window?Zt:void 0;this._delegate=ee.initialize({options:{persistence:Le(ne,$.name),popupRedirectResolver:xe}}),this._delegate._updateErrorMap(G.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,ee){G.G(this._delegate,$,ee)}applyActionCode($){return G.a2(this._delegate,$)}checkActionCode($){return G.a3(this._delegate,$)}confirmPasswordReset($,ee){return G.a1(this._delegate,$,ee)}createUserWithEmailAndPassword($,ee){var ne=this;return(0,f.Z)(function*(){return Mt(ne._delegate,G.a5(ne._delegate,$,ee))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return G.aa(this._delegate,$)}isSignInWithEmailLink($){return G.a8(this._delegate,$)}getRedirectResult(){var $=this;return(0,f.Z)(function*(){W(Mn(),$._delegate,"operation-not-supported-in-this-environment");const ee=yield G.j($._delegate,Zt);return ee?Mt($._delegate,Promise.resolve(ee)):{credential:null,user:null}})()}addFrameworkForLogging($){!function Ae(_e,X){(0,G.aE)(_e)._logFramework(X)}(this._delegate,$)}onAuthStateChanged($,ee,ne){const{next:xe,error:et,complete:Lt}=Ee($,ee,ne);return this._delegate.onAuthStateChanged(xe,et,Lt)}onIdTokenChanged($,ee,ne){const{next:xe,error:et,complete:Lt}=Ee($,ee,ne);return this._delegate.onIdTokenChanged(xe,et,Lt)}sendSignInLinkToEmail($,ee){return G.a7(this._delegate,$,ee)}sendPasswordResetEmail($,ee){return G.a0(this._delegate,$,ee||void 0)}setPersistence($){var ee=this;return(0,f.Z)(function*(){let ne;switch(function Ot(_e,X){Ui(Object.values(rn).includes(X),_e,"invalid-persistence-type"),(0,Ce.b$)()?Ui(X!==rn.SESSION,_e,"unsupported-persistence-type"):(0,Ce.UG)()?Ui(X===rn.NONE,_e,"unsupported-persistence-type"):Ai()?Ui(X===rn.NONE||X===rn.LOCAL&&(0,Ce.hl)(),_e,"unsupported-persistence-type"):Ui(X===rn.NONE||Yn(),_e,"unsupported-persistence-type")}(ee._delegate,$),$){case rn.SESSION:ne=G.a;break;case rn.LOCAL:ne=(yield G.az(G.i)._isAvailable())?G.i:G.b;break;case rn.NONE:ne=G.L;break;default:return G.as("argument-error",{appName:ee._delegate.name})}return ee._delegate.setPersistence(ne)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return Mt(this._delegate,G.X(this._delegate))}signInWithCredential($){return Mt(this._delegate,G.Y(this._delegate,$))}signInWithCustomToken($){return Mt(this._delegate,G.$(this._delegate,$))}signInWithEmailAndPassword($,ee){return Mt(this._delegate,G.a6(this._delegate,$,ee))}signInWithEmailLink($,ee){return Mt(this._delegate,G.a9(this._delegate,$,ee))}signInWithPhoneNumber($,ee){return Tt(this._delegate,G.s(this._delegate,$,ee))}signInWithPopup($){var ee=this;return(0,f.Z)(function*(){return W(Mn(),ee._delegate,"operation-not-supported-in-this-environment"),Mt(ee._delegate,G.c(ee._delegate,$,Zt))})()}signInWithRedirect($){var ee=this;return(0,f.Z)(function*(){return W(Mn(),ee._delegate,"operation-not-supported-in-this-environment"),yield Ve(ee._delegate),G.f(ee._delegate,$,Zt)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return G.a4(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _e.Persistence=rn,_e})();function Ee(_e,X,$){let ee=_e;"function"!=typeof _e&&({next:ee,error:X,complete:$}=_e);const ne=ee;return{next:et=>ne(et&&pn.getOrCreate(et)),error:X,complete:$}}function Le(_e,X){const $=function Ut(_e,X){const $=It();if(!$)return[];const ee=G.aA(yi,_e,X);switch($.getItem(ee)){case rn.NONE:return[G.L];case rn.LOCAL:return[G.i,G.a];case rn.SESSION:return[G.a];default:return[]}}(_e,X);if("undefined"!=typeof self&&!$.includes(G.i)&&$.push(G.i),"undefined"!=typeof window)for(const ee of[G.b,G.a])$.includes(ee)||$.push(ee);return $.includes(G.L)||$.push(G.L),$}class vt{constructor(){this.providerId="phone",this._delegate=new G.P(Re(h.Z.auth()))}static credential(X,$){return G.P.credential(X,$)}verifyPhoneNumber(X,$){return this._delegate.verifyPhoneNumber(X,$)}unwrap(){return this._delegate}}vt.PHONE_SIGN_IN_METHOD=G.P.PHONE_SIGN_IN_METHOD,vt.PROVIDER_ID=G.P.PROVIDER_ID;const Ft=G.ax;class he{constructor(X,$,ee=h.Z.app()){var ne;Ft(null===(ne=ee.options)||void 0===ne?void 0:ne.apiKey,"invalid-api-key",{appName:ee.name}),this._delegate=new G.R(X,$,ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Me(_e){_e.INTERNAL.registerComponent(new me.wA("auth-compat",X=>{const $=X.getProvider("app-compat").getImmediate(),ee=X.getProvider("auth");return new de($,ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G.A.EMAIL_SIGNIN,PASSWORD_RESET:G.A.PASSWORD_RESET,RECOVER_EMAIL:G.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G.A.VERIFY_EMAIL}},EmailAuthProvider:G.M,FacebookAuthProvider:G.N,GithubAuthProvider:G.T,GoogleAuthProvider:G.Q,OAuthProvider:G.U,SAMLAuthProvider:G.V,PhoneAuthProvider:vt,PhoneMultiFactorGenerator:G.m,RecaptchaVerifier:he,TwitterAuthProvider:G.W,Auth:de,AuthCredential:G.H,Error:Ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_e.registerVersion("@firebase/auth-compat","0.2.24")}(h.Z)},7008:(qt,We,x)=>{x.d(We,{k$:()=>Ne,ve:()=>Ce});var f=x(5e3),h=x(9808);function G(me,ue){if(1&me){const Z=f.EpF();f.TgZ(0,"div",3),f.NdJ("click",function(se){const at=f.CHM(Z).$implicit,ke=f.oxw();return ke.readonly?ke.noop():ke.onStarClick(se,at)})("mousemove",function(se){const at=f.CHM(Z).$implicit,ke=f.oxw();return ke.readonly?ke.noop():ke.onStarHover(se,at)}),f._UZ(1,"span",4),f.qZA()}if(2&me){const Z=ue.$implicit,q=f.oxw();f.Q6J("ngStyle",q.starPadding()),f.xp6(1),f.Q6J("ngClass",Z.classname)("ngStyle",q.starColorAndSize())}}let Ce=(()=>{class me{constructor(){this.maxStars=5,this.initialStars=0,this.animationSpeed=100,this.wholeStars=!1,this.ratingOutput=new f.vpe,this.customClassIdentifier=Math.random().toString(36).substring(2),this.safeSize=()=>Number.isInteger(this.size)&&this.size>0&&this.size<6?this.size:1}ngOnInit(){this.setupStarImages(),this.editableStars=Array.from(new Array(this.maxStars)).map((Z,q)=>new ve(q)),this.setRating(this.initialStars),this.animation&&(this.animationInterval=setInterval(this.starAnimation.bind(this),this.animationSpeed))}ngOnDestroy(){this.customCssClasses&&this.customCssClasses.forEach(Z=>{Z&&Z.parentNode&&Z.parentNode.removeChild(Z)})}setupStarImages(){this.customStarIcons&&(this.customCssClasses=[],Object.keys(this.customStarIcons).map(Z=>Z).forEach(Z=>{const q=this.getStarClass(Z);this.createCssClass(q,Z)}))}createCssClass(Z,q){const se=document.createElement("style");se.type="text/css",se.innerHTML=`.${Z} {\n      -webkit-mask-image: url(${this.customStarIcons[q]});\n      mask-image: url(${this.customStarIcons[q]});\n    }`,document.getElementsByTagName("head")[0].appendChild(se),this.customCssClasses.push(se)}starPadding(){return{"margin-right":this.customPadding||`calc(${this.starSize().width} / 10)`}}starColorAndSize(){return Object.assign({},this.starColor(),this.starSize())}starColor(){return{"background-color":this.color||"crimson"}}starSize(){return{height:this.customSize||15*this.safeSize()+"px",width:this.customSize||16*this.safeSize()+"px"}}starAnimation(){this.animationRunning=!0,this.setRating(this.rating<this.maxStars?this.rating+=.5:0)}cancelStarAnimation(){this.animationRunning&&(clearInterval(this.animationInterval),this.rating=0,this.animationRunning=!1)}setRating(Z){this.rating=Math.round(2*Z)/2,this.onStarsUnhover()}onStarHover(Z,q){this.cancelStarAnimation();const se=this.clickedInFirstHalf(Z);q.classname=this.getStarClass(!this.wholeStars&&se?"half":"full"),this.editableStars.forEach(Te=>{Te.position>q.position?Te.classname=this.getStarClass("empty"):Te.position<q.position&&(Te.classname=this.getStarClass("full"))})}onStarClick(Z,q){this.cancelStarAnimation();const se=this.clickedInFirstHalf(Z);this.rating=q.position+(!this.wholeStars&&se?.5:1),this.ratingOutput.emit(this.rating)}onZeroStarClick(){this.setRating(0),this.ratingOutput.emit(this.rating)}onZeroStarHover(){this.editableStars.forEach(Z=>Z.classname=this.getStarClass("empty"))}onStarsUnhover(){this.editableStars.forEach(Z=>{const q=Z.position+1;Z.classname=this.getStarClass(this.rating>=q?"full":this.rating>q-1&&this.rating<q?"half":"empty")})}clickedInFirstHalf(Z){const q=Z.target;return Z.pageX<q.getBoundingClientRect().left+q.offsetWidth/2}noop(){}getStarClass(Z){return this.customCssClasses?`ngx-stars-star-${Z}-${this.customClassIdentifier}`:`star-${Z}`}getAriaLabel(){return`Rating: ${this.rating} out of ${this.maxStars} stars ${this.readonly?"":". Can be edited."}`}}return me.\u0275fac=function(Z){return new(Z||me)},me.\u0275cmp=f.Xpm({type:me,selectors:[["ngx-stars"]],inputs:{maxStars:"maxStars",initialStars:"initialStars",animationSpeed:"animationSpeed",wholeStars:"wholeStars",readonly:"readonly",size:"size",customSize:"customSize",color:"color",animation:"animation",customPadding:"customPadding",customStarIcons:"customStarIcons"},outputs:{ratingOutput:"ratingOutput"},decls:3,vars:3,consts:[["role","img",1,"stars-line",3,"mouseleave"],["aria-hidden","true",1,"star","zero-star",3,"ngStyle","click","mousemove"],["aria-hidden","true",3,"ngStyle","click","mousemove",4,"ngFor","ngForOf"],["aria-hidden","true",3,"ngStyle","click","mousemove"],["aria-hidden","true",1,"star",3,"ngClass","ngStyle"]],template:function(Z,q){1&Z&&(f.TgZ(0,"div",0),f.NdJ("mouseleave",function(){return q.readonly?q.noop():q.onStarsUnhover()}),f.TgZ(1,"span",1),f.NdJ("click",function(){return q.onZeroStarClick()})("mousemove",function(){return q.readonly?q.noop():q.onZeroStarHover()}),f.qZA(),f.YNc(2,G,2,3,"div",2),f.qZA()),2&Z&&(f.uIk("aria-label",q.getAriaLabel()),f.xp6(1),f.Q6J("ngStyle",q.starSize()),f.xp6(1),f.Q6J("ngForOf",q.editableStars))},directives:[h.PC,h.sg,h.mk],styles:[".stars-line[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.stars-line[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{z-index:999}.zero-star[_ngcontent-%COMP%]{color:transparent;position:absolute;left:-16px}.star[_ngcontent-%COMP%]{display:inline-block;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat}.star-empty[_ngcontent-%COMP%]{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='far' data-icon='star' class='svg-inline--fa fa-star fa-w-18' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512'%3E%3Cpath fill='currentColor' d='M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z'%3E%3C/path%3E%3C/svg%3E%0A\");mask-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='far' data-icon='star' class='svg-inline--fa fa-star fa-w-18' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512'%3E%3Cpath fill='currentColor' d='M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z'%3E%3C/path%3E%3C/svg%3E%0A\")}.star-half[_ngcontent-%COMP%]{-webkit-mask-image:url(\"data:image/svg+xml,%3C!-- had to hack this one's viewbox otherwise it didn't line up with the other two --%3E%3C!-- changed viewbox from '0 0 536 512' to '-20 0 576 512' --%3E%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='star-half-alt' class='svg-inline--fa fa-star-half-alt fa-w-17' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='-20 0 576 512'%3E%3Cpath fill='currentColor' d='M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z'%3E%3C/path%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3C!-- had to hack this one's viewbox otherwise it didn't line up with the other two --%3E%3C!-- changed viewbox from '0 0 536 512' to '-20 0 576 512' --%3E%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='star-half-alt' class='svg-inline--fa fa-star-half-alt fa-w-17' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='-20 0 576 512'%3E%3Cpath fill='currentColor' d='M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z'%3E%3C/path%3E%3C/svg%3E\")}.star-full[_ngcontent-%COMP%]{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='star' class='svg-inline--fa fa-star fa-w-18' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512'%3E%3Cpath fill='currentColor' d='M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z'%3E%3C/path%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='star' class='svg-inline--fa fa-star fa-w-18' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512'%3E%3Cpath fill='currentColor' d='M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z'%3E%3C/path%3E%3C/svg%3E\")}"]}),me})();class ve{constructor(ue){this.position=ue}}let Ne=(()=>{class me{}return me.\u0275fac=function(Z){return new(Z||me)},me.\u0275mod=f.oAB({type:me}),me.\u0275inj=f.cJS({imports:[[h.ez]]}),me})()},8968:(qt,We,x)=>{function ve(Re,Oe,we,Ke){var Tt,wt=arguments.length,Mt=wt<3?Oe:null===Ke?Ke=Object.getOwnPropertyDescriptor(Oe,we):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Mt=Reflect.decorate(Re,Oe,we,Ke);else for(var _n=Re.length-1;_n>=0;_n--)(Tt=Re[_n])&&(Mt=(wt<3?Tt(Mt):wt>3?Tt(Oe,we,Mt):Tt(Oe,we))||Mt);return wt>3&&Mt&&Object.defineProperty(Oe,we,Mt),Mt}function Ne(Re,Oe){return function(we,Ke){Oe(we,Ke,Re)}}function me(Re,Oe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Re,Oe)}x.d(We,{Rh:()=>Ve,_W:()=>rn});var Y=x(5e3),Je=x(1777),nt=x(7579),Fe=x(2313),Ue=x(9808);const Xe=["toast-component",""];function it(Re,Oe){if(1&Re){const we=Y.EpF();Y.TgZ(0,"button",5),Y.NdJ("click",function(){return Y.CHM(we),Y.oxw().remove()}),Y.TgZ(1,"span",6),Y._uU(2,"\xd7"),Y.qZA()()}}function st(Re,Oe){if(1&Re&&(Y.ynx(0),Y._uU(1),Y.BQk()),2&Re){const we=Y.oxw(2);Y.xp6(1),Y.hij("[",we.duplicatesCount+1,"]")}}function xt(Re,Oe){if(1&Re&&(Y.TgZ(0,"div"),Y._uU(1),Y.YNc(2,st,2,1,"ng-container",4),Y.qZA()),2&Re){const we=Y.oxw();Y.Tol(we.options.titleClass),Y.uIk("aria-label",we.title),Y.xp6(1),Y.hij(" ",we.title," "),Y.xp6(1),Y.Q6J("ngIf",we.duplicatesCount)}}function tn(Re,Oe){if(1&Re&&Y._UZ(0,"div",7),2&Re){const we=Y.oxw();Y.Tol(we.options.messageClass),Y.Q6J("innerHTML",we.message,Y.oJD)}}function pt(Re,Oe){if(1&Re&&(Y.TgZ(0,"div",8),Y._uU(1),Y.qZA()),2&Re){const we=Y.oxw();Y.Tol(we.options.messageClass),Y.uIk("aria-label",we.message),Y.xp6(1),Y.hij(" ",we.message," ")}}function mt(Re,Oe){if(1&Re&&(Y.TgZ(0,"div"),Y._UZ(1,"div",9),Y.qZA()),2&Re){const we=Y.oxw();Y.xp6(1),Y.Udp("width",we.width+"%")}}function Q(Re,Oe){if(1&Re){const we=Y.EpF();Y.TgZ(0,"button",5),Y.NdJ("click",function(){return Y.CHM(we),Y.oxw().remove()}),Y.TgZ(1,"span",6),Y._uU(2,"\xd7"),Y.qZA()()}}function Ae(Re,Oe){if(1&Re&&(Y.ynx(0),Y._uU(1),Y.BQk()),2&Re){const we=Y.oxw(2);Y.xp6(1),Y.hij("[",we.duplicatesCount+1,"]")}}function qe(Re,Oe){if(1&Re&&(Y.TgZ(0,"div"),Y._uU(1),Y.YNc(2,Ae,2,1,"ng-container",4),Y.qZA()),2&Re){const we=Y.oxw();Y.Tol(we.options.titleClass),Y.uIk("aria-label",we.title),Y.xp6(1),Y.hij(" ",we.title," "),Y.xp6(1),Y.Q6J("ngIf",we.duplicatesCount)}}function Rt(Re,Oe){if(1&Re&&Y._UZ(0,"div",7),2&Re){const we=Y.oxw();Y.Tol(we.options.messageClass),Y.Q6J("innerHTML",we.message,Y.oJD)}}function Ht(Re,Oe){if(1&Re&&(Y.TgZ(0,"div",8),Y._uU(1),Y.qZA()),2&Re){const we=Y.oxw();Y.Tol(we.options.messageClass),Y.uIk("aria-label",we.message),Y.xp6(1),Y.hij(" ",we.message," ")}}function nn(Re,Oe){if(1&Re&&(Y.TgZ(0,"div"),Y._UZ(1,"div",9),Y.qZA()),2&Re){const we=Y.oxw();Y.xp6(1),Y.Udp("width",we.width+"%")}}class Vn{constructor(Oe,we,Ke,wt,Mt,Tt){this.toastId=Oe,this.config=we,this.message=Ke,this.title=wt,this.toastType=Mt,this.toastRef=Tt,this._onTap=new nt.x,this._onAction=new nt.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Oe){this._onAction.next(Oe)}onAction(){return this._onAction.asObservable()}}const Jn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},jn=new Y.OlP("ToastConfig");class ci{constructor(Oe,we){this.component=Oe,this.injector=we}attach(Oe,we){return this._attachedHost=Oe,Oe.attach(this,we)}detach(){const Oe=this._attachedHost;if(Oe)return this._attachedHost=void 0,Oe.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Oe){this._attachedHost=Oe}}class Ai extends class Yn{attach(Oe,we){return this._attachedPortal=Oe,this.attachComponentPortal(Oe,we)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Oe){this._disposeFn=Oe}}{constructor(Oe,we,Ke){super(),this._hostDomElement=Oe,this._componentFactoryResolver=we,this._appRef=Ke}attachComponentPortal(Oe,we){const Ke=this._componentFactoryResolver.resolveComponentFactory(Oe.component);let wt;return wt=Ke.create(Oe.injector),this._appRef.attachView(wt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(wt.hostView),wt.destroy()}),we?this._hostDomElement.insertBefore(this._getComponentRootNode(wt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(wt)),wt}_getComponentRootNode(Oe){return Oe.hostView.rootNodes[0]}}let Mn=class{constructor(Oe){this._document=Oe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Oe=this._document.createElement("div");Oe.classList.add("overlay-container"),this._document.body.appendChild(Oe),this._containerElement=Oe}};Mn.\u0275fac=function(Oe){return new(Oe||Mn)(Y.LFG(Ue.K0))},Mn.\u0275prov=Y.Yz7({token:Mn,factory:function(Re){return Mn.\u0275fac(Re)},providedIn:"root"}),Mn.ngInjectableDef=(0,Y.Yz7)({factory:function(){return new Mn((0,Y.LFG)(Ue.K0))},token:Mn,providedIn:"root"}),Mn=ve([Ne(0,(0,Y.tBr)(Ue.K0)),me("design:paramtypes",[Object])],Mn);class bi{constructor(Oe){this._portalHost=Oe}attach(Oe,we=!0){return this._portalHost.attach(Oe,we)}detach(){return this._portalHost.detach()}}let on=class{constructor(Oe,we,Ke,wt){this._overlayContainer=Oe,this._componentFactoryResolver=we,this._appRef=Ke,this._document=wt,this._paneElements=new Map}create(Oe,we){return this._createOverlayRef(this.getPaneElement(Oe,we))}getPaneElement(Oe="",we){return this._paneElements.get(we)||this._paneElements.set(we,{}),this._paneElements.get(we)[Oe]||(this._paneElements.get(we)[Oe]=this._createPaneElement(Oe,we)),this._paneElements.get(we)[Oe]}_createPaneElement(Oe,we){const Ke=this._document.createElement("div");return Ke.id="toast-container",Ke.classList.add(Oe),Ke.classList.add("toast-container"),we?we.getContainerElement().appendChild(Ke):this._overlayContainer.getContainerElement().appendChild(Ke),Ke}_createPortalHost(Oe){return new Ai(Oe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Oe){return new bi(this._createPortalHost(Oe))}};on.\u0275fac=function(Oe){return new(Oe||on)(Y.LFG(Mn),Y.LFG(Y._Vd),Y.LFG(Y.z2F),Y.LFG(Ue.K0))},on.\u0275prov=Y.Yz7({token:on,factory:function(Re){return on.\u0275fac(Re)},providedIn:"root"}),on.ngInjectableDef=(0,Y.Yz7)({factory:function(){return new on((0,Y.LFG)(Mn),(0,Y.LFG)(Y._Vd),(0,Y.LFG)(Y.z2F),(0,Y.LFG)(Ue.K0))},token:on,providedIn:"root"}),on=ve([Ne(3,(0,Y.tBr)(Ue.K0)),me("design:paramtypes",[Mn,Y._Vd,Y.z2F,Object])],on);class Li{constructor(Oe){this._overlayRef=Oe,this.duplicatesCount=0,this._afterClosed=new nt.x,this._activate=new nt.x,this._manualClose=new nt.x,this._resetTimeout=new nt.x,this._countDuplicate=new nt.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Oe,we){Oe&&this._resetTimeout.next(),we&&this._countDuplicate.next(++this.duplicatesCount)}}class ti{constructor(Oe,we){this._toastPackage=Oe,this._parentInjector=we}get(Oe,we,Ke){return Oe===Vn?this._toastPackage:this._parentInjector.get(Oe,we,Ke)}}let rn=class{constructor(Oe,we,Ke,wt,Mt){this.overlay=we,this._injector=Ke,this.sanitizer=wt,this.ngZone=Mt,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign({},Oe.default,Oe.config),Oe.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign({},Oe.default.iconClasses,Oe.config.iconClasses))}show(Oe,we,Ke={},wt=""){return this._preBuildNotification(wt,Oe,we,this.applyConfig(Ke))}success(Oe,we,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Oe,we,this.applyConfig(Ke))}error(Oe,we,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Oe,we,this.applyConfig(Ke))}info(Oe,we,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Oe,we,this.applyConfig(Ke))}warning(Oe,we,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Oe,we,this.applyConfig(Ke))}clear(Oe){for(const we of this.toasts)if(void 0!==Oe){if(we.toastId===Oe)return void we.toastRef.manualClose()}else we.toastRef.manualClose()}remove(Oe){const we=this._findToast(Oe);if(!we||(we.activeToast.toastRef.close(),this.toasts.splice(we.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ke=this.toasts[this.currentlyActive].toastRef;Ke.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ke.activate())}return!0}findDuplicate(Oe,we,Ke){for(const wt of this.toasts)if(wt.message===Oe)return wt.toastRef.onDuplicate(we,Ke),wt;return null}applyConfig(Oe={}){return Object.assign({},this.toastrConfig,Oe)}_findToast(Oe){for(let we=0;we<this.toasts.length;we++)if(this.toasts[we].toastId===Oe)return{index:we,activeToast:this.toasts[we]};return null}_preBuildNotification(Oe,we,Ke,wt){return wt.onActivateTick?this.ngZone.run(()=>this._buildNotification(Oe,we,Ke,wt)):this._buildNotification(Oe,we,Ke,wt)}_buildNotification(Oe,we,Ke,wt){if(!wt.toastComponent)throw new Error("toastComponent required");const Mt=this.findDuplicate(we,this.toastrConfig.resetTimeoutOnDuplicate&&wt.timeOut>0,this.toastrConfig.countDuplicates);if(we&&this.toastrConfig.preventDuplicates&&null!==Mt)return Mt;this.previousToastMessage=we;let Tt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Tt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const _n=this.overlay.create(wt.positionClass,this.overlayContainer);this.index=this.index+1;let fn=we;we&&wt.enableHtml&&(fn=this.sanitizer.sanitize(Y.q3G.HTML,we));const pn=new Li(_n),W=new Vn(this.index,wt,fn,Ke,Oe,pn),de=new ti(W,this._injector),Ee=new ci(wt.toastComponent,de),Le=_n.attach(Ee,this.toastrConfig.newestOnTop);pn.componentInstance=Le._component;const vt={toastId:this.index,message:we||"",toastRef:pn,onShown:pn.afterActivate(),onHidden:pn.afterClosed(),onTap:W.onTap(),onAction:W.onAction(),portal:Le};return Tt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{vt.toastRef.activate()})),this.toasts.push(vt),vt}};rn.\u0275fac=function(Oe){return new(Oe||rn)(Y.LFG(jn),Y.LFG(on),Y.LFG(Y.zs3),Y.LFG(Fe.H7),Y.LFG(Y.R0b))},rn.\u0275prov=Y.Yz7({token:rn,factory:function(Re){return rn.\u0275fac(Re)},providedIn:"root"}),rn.ngInjectableDef=(0,Y.Yz7)({factory:function(){return new rn((0,Y.LFG)(jn),(0,Y.LFG)(on),(0,Y.LFG)(Y.gxx),(0,Y.LFG)(Fe.H7),(0,Y.LFG)(Y.R0b))},token:rn,providedIn:"root"}),rn=ve([Ne(0,(0,Y.tBr)(jn)),me("design:paramtypes",[Object,on,Y.zs3,Fe.H7,Y.R0b])],rn);let Ui=(()=>{let Re=class{constructor(we,Ke,wt){this.toastrService=we,this.toastPackage=Ke,this.ngZone=wt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ke.message,this.title=Ke.title,this.options=Ke.config,this.originalTimeout=Ke.config.timeOut,this.toastClasses=`${Ke.toastType} ${Ke.config.toastClass}`,this.sub=Ke.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ke.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ke.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ke.toastRef.countDuplicate().subscribe(Mt=>{this.duplicatesCount=Mt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign({},this.state,{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const we=(new Date).getTime();this.width=(this.hideTime-we)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign({},this.state,{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign({},this.state,{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(we,Ke){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(we),Ke)):this.timeout=setTimeout(()=>we(),Ke)}outsideInterval(we,Ke){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(we),Ke)):this.intervalId=setInterval(()=>we(),Ke)}runInsideAngular(we){this.ngZone?this.ngZone.run(()=>we()):we()}};return Re.\u0275fac=function(we){return new(we||Re)(Y.Y36(rn),Y.Y36(Vn),Y.Y36(Y.R0b))},Re.\u0275cmp=Y.Xpm({type:Re,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(we,Ke){1&we&&Y.NdJ("click",function(){return Ke.tapToast()})("mouseenter",function(){return Ke.stickAround()})("mouseleave",function(){return Ke.delayedHideToast()}),2&we&&(Y.d8E("@flyInOut",Ke.state),Y.Tol(Ke.toastClasses),Y.Udp("display",Ke.displayStyle))},attrs:Xe,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(we,Ke){1&we&&(Y.YNc(0,it,3,0,"button",0),Y.YNc(1,xt,3,5,"div",1),Y.YNc(2,tn,1,3,"div",2),Y.YNc(3,pt,2,4,"div",3),Y.YNc(4,mt,2,2,"div",4)),2&we&&(Y.Q6J("ngIf",Ke.options.closeButton),Y.xp6(1),Y.Q6J("ngIf",Ke.title),Y.xp6(1),Y.Q6J("ngIf",Ke.message&&Ke.options.enableHtml),Y.xp6(1),Y.Q6J("ngIf",Ke.message&&!Ke.options.enableHtml),Y.xp6(1),Y.Q6J("ngIf",Ke.options.progressBar))},directives:[Ue.O5],encapsulation:2,data:{animation:[(0,Je.X$)("flyInOut",[(0,Je.SB)("inactive",(0,Je.oB)({opacity:0})),(0,Je.SB)("active",(0,Je.oB)({opacity:1})),(0,Je.SB)("removed",(0,Je.oB)({opacity:0})),(0,Je.eR)("inactive => active",(0,Je.jt)("{{ easeTime }}ms {{ easing }}")),(0,Je.eR)("active => removed",(0,Je.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),ve([(0,Y.pfw)("class"),me("design:type",Object)],Re.prototype,"toastClasses",void 0),ve([(0,Y.pfw)("@flyInOut"),me("design:type",Object)],Re.prototype,"state",void 0),ve([(0,Y.pfw)("style.display"),me("design:type",Object),me("design:paramtypes",[])],Re.prototype,"displayStyle",null),ve([(0,Y.L6J)("click"),me("design:type",Function),me("design:paramtypes",[]),me("design:returntype",void 0)],Re.prototype,"tapToast",null),ve([(0,Y.L6J)("mouseenter"),me("design:type",Function),me("design:paramtypes",[]),me("design:returntype",void 0)],Re.prototype,"stickAround",null),ve([(0,Y.L6J)("mouseleave"),me("design:type",Function),me("design:paramtypes",[]),me("design:returntype",void 0)],Re.prototype,"delayedHideToast",null),Re=ve([me("design:paramtypes",[rn,Vn,Y.R0b])],Re),Re})();var yi;const Ot=Object.assign({},Jn,{toastComponent:Ui});let Ve=yi=class{static forRoot(Oe={}){return{ngModule:yi,providers:[{provide:jn,useValue:{default:Ot,config:Oe}}]}}};var Ut;Ve.\u0275fac=function(Oe){return new(Oe||Ve)},Ve.\u0275mod=Y.oAB({type:Ve}),Ve.\u0275inj=Y.cJS({imports:[[Ue.ez]]});const Nt=Object.assign({},Jn,{toastComponent:(()=>{let Re=class{constructor(we,Ke,wt){this.toastrService=we,this.toastPackage=Ke,this.appRef=wt,this.width=-1,this.toastClasses="",this.state="inactive",this.message=Ke.message,this.title=Ke.title,this.options=Ke.config,this.originalTimeout=Ke.config.timeOut,this.toastClasses=`${Ke.toastType} ${Ke.config.toastClass}`,this.sub=Ke.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ke.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ke.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ke.toastRef.countDuplicate().subscribe(Mt=>{this.duplicatesCount=Mt})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const we=(new Date).getTime();this.width=(this.hideTime-we)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}};return Re.\u0275fac=function(we){return new(we||Re)(Y.Y36(rn),Y.Y36(Vn),Y.Y36(Y.z2F))},Re.\u0275cmp=Y.Xpm({type:Re,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(we,Ke){1&we&&Y.NdJ("click",function(){return Ke.tapToast()})("mouseenter",function(){return Ke.stickAround()})("mouseleave",function(){return Ke.delayedHideToast()}),2&we&&(Y.Tol(Ke.toastClasses),Y.Udp("display",Ke.displayStyle))},attrs:Xe,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(we,Ke){1&we&&(Y.YNc(0,Q,3,0,"button",0),Y.YNc(1,qe,3,5,"div",1),Y.YNc(2,Rt,1,3,"div",2),Y.YNc(3,Ht,2,4,"div",3),Y.YNc(4,nn,2,2,"div",4)),2&we&&(Y.Q6J("ngIf",Ke.options.closeButton),Y.xp6(1),Y.Q6J("ngIf",Ke.title),Y.xp6(1),Y.Q6J("ngIf",Ke.message&&Ke.options.enableHtml),Y.xp6(1),Y.Q6J("ngIf",Ke.message&&!Ke.options.enableHtml),Y.xp6(1),Y.Q6J("ngIf",Ke.options.progressBar))},directives:[Ue.O5],encapsulation:2}),ve([(0,Y.pfw)("class"),me("design:type",Object)],Re.prototype,"toastClasses",void 0),ve([(0,Y.pfw)("style.display"),me("design:type",Object),me("design:paramtypes",[])],Re.prototype,"displayStyle",null),ve([(0,Y.L6J)("click"),me("design:type",Function),me("design:paramtypes",[]),me("design:returntype",void 0)],Re.prototype,"tapToast",null),ve([(0,Y.L6J)("mouseenter"),me("design:type",Function),me("design:paramtypes",[]),me("design:returntype",void 0)],Re.prototype,"stickAround",null),ve([(0,Y.L6J)("mouseleave"),me("design:type",Function),me("design:paramtypes",[]),me("design:returntype",void 0)],Re.prototype,"delayedHideToast",null),Re=ve([me("design:paramtypes",[rn,Vn,Y.z2F])],Re),Re})()});let Zt=Ut=class{static forRoot(Oe={}){return{ngModule:Ut,providers:[{provide:jn,useValue:{default:Nt,config:Oe}}]}}};Zt.\u0275fac=function(Oe){return new(Oe||Zt)},Zt.\u0275mod=Y.oAB({type:Zt}),Zt.\u0275inj=Y.cJS({imports:[[Ue.ez]]})},1135:(qt,We,x)=>{x.d(We,{X:()=>h});var f=x(7579);class h extends f.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const ve=super._subscribe(Ce);return!ve.closed&&Ce.next(this._value),ve}getValue(){const{hasError:Ce,thrownError:ve,_value:Ne}=this;if(Ce)throw ve;return this._throwIfClosed(),Ne}next(Ce){super.next(this._value=Ce)}}},8306:(qt,We,x)=>{x.d(We,{y:()=>q});var f=x(930),h=x(727),G=x(8822),Ce=x(4671);var me=x(2416),ue=x(576),Z=x(2806);let q=(()=>{class ke{constructor(ut){ut&&(this._subscribe=ut)}lift(ut){const ze=new ke;return ze.source=this,ze.operator=ut,ze}subscribe(ut,ze,dt){const Be=function at(ke){return ke&&ke instanceof f.Lv||function Te(ke){return ke&&(0,ue.m)(ke.next)&&(0,ue.m)(ke.error)&&(0,ue.m)(ke.complete)}(ke)&&(0,h.Nn)(ke)}(ut)?ut:new f.Hp(ut,ze,dt);return(0,Z.x)(()=>{const{operator:ft,source:pe}=this;Be.add(ft?ft.call(Be,pe):pe?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(ut){try{return this._subscribe(ut)}catch(ze){ut.error(ze)}}forEach(ut,ze){return new(ze=se(ze))((dt,Be)=>{const ft=new f.Hp({next:pe=>{try{ut(pe)}catch(be){Be(be),ft.unsubscribe()}},error:Be,complete:dt});this.subscribe(ft)})}_subscribe(ut){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(ut)}[G.L](){return this}pipe(...ut){return function Ne(ke){return 0===ke.length?Ce.y:1===ke.length?ke[0]:function(ut){return ke.reduce((ze,dt)=>dt(ze),ut)}}(ut)(this)}toPromise(ut){return new(ut=se(ut))((ze,dt)=>{let Be;this.subscribe(ft=>Be=ft,ft=>dt(ft),()=>ze(Be))})}}return ke.create=lt=>new ke(lt),ke})();function se(ke){var lt;return null!==(lt=null!=ke?ke:me.v.Promise)&&void 0!==lt?lt:Promise}},7579:(qt,We,x)=>{x.d(We,{x:()=>me});var f=x(8306),h=x(727);const Ce=(0,x(3888).d)(Z=>function(){Z(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=x(8737),Ne=x(2806);let me=(()=>{class Z extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const Te=new ue(this,this);return Te.operator=se,Te}_throwIfClosed(){if(this.closed)throw new Ce}next(se){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Te of this.currentObservers)Te.next(se)}})}error(se){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:Te}=this;for(;Te.length;)Te.shift().error(se)}})}complete(){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:Te,isStopped:at,observers:ke}=this;return Te||at?h.Lc:(this.currentObservers=null,ke.push(se),new h.w0(()=>{this.currentObservers=null,(0,ve.P)(ke,se)}))}_checkFinalizedStatuses(se){const{hasError:Te,thrownError:at,isStopped:ke}=this;Te?se.error(at):ke&&se.complete()}asObservable(){const se=new f.y;return se.source=this,se}}return Z.create=(q,se)=>new ue(q,se),Z})();class ue extends me{constructor(q,se){super(),this.destination=q,this.source=se}next(q){var se,Te;null===(Te=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===Te||Te.call(se,q)}error(q){var se,Te;null===(Te=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===Te||Te.call(se,q)}complete(){var q,se;null===(se=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===se||se.call(q)}_subscribe(q){var se,Te;return null!==(Te=null===(se=this.source)||void 0===se?void 0:se.subscribe(q))&&void 0!==Te?Te:h.Lc}}},930:(qt,We,x)=>{x.d(We,{Hp:()=>ut,Lv:()=>Te});var f=x(576),h=x(727),G=x(2416),Ce=x(7849),ve=x(5032);const Ne=Z("C",void 0,void 0);function Z(pe,be,Qe){return{kind:pe,value:be,error:Qe}}var q=x(3410),se=x(2806);class Te extends h.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,h.Nn)(be)&&be.add(this)):this.destination=ft}static create(be,Qe,bt){return new ut(be,Qe,bt)}next(be){this.isStopped?Be(function ue(pe){return Z("N",pe,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Be(function me(pe){return Z("E",void 0,pe)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Be(Ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function ke(pe,be){return at.call(pe,be)}class lt{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(be)}catch(bt){ze(bt)}}error(be){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(be)}catch(bt){ze(bt)}else ze(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Qe){ze(Qe)}}}class ut extends Te{constructor(be,Qe,bt){let Y;if(super(),(0,f.m)(be)||!be)Y={next:null!=be?be:void 0,error:null!=Qe?Qe:void 0,complete:null!=bt?bt:void 0};else{let Je;this&&G.v.useDeprecatedNextContext?(Je=Object.create(be),Je.unsubscribe=()=>this.unsubscribe(),Y={next:be.next&&ke(be.next,Je),error:be.error&&ke(be.error,Je),complete:be.complete&&ke(be.complete,Je)}):Y=be}this.destination=new lt(Y)}}function ze(pe){G.v.useDeprecatedSynchronousErrorHandling?(0,se.O)(pe):(0,Ce.h)(pe)}function Be(pe,be){const{onStoppedNotification:Qe}=G.v;Qe&&q.z.setTimeout(()=>Qe(pe,be))}const ft={closed:!0,next:ve.Z,error:function dt(pe){throw pe},complete:ve.Z}},727:(qt,We,x)=>{x.d(We,{Lc:()=>Ne,w0:()=>ve,Nn:()=>me});var f=x(576);const G=(0,x(3888).d)(Z=>function(se){Z(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((Te,at)=>`${at+1}) ${Te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var Ce=x(8737);class ve{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const ke of se)ke.remove(this);else se.remove(this);const{initialTeardown:Te}=this;if((0,f.m)(Te))try{Te()}catch(ke){q=ke instanceof G?ke.errors:[ke]}const{_finalizers:at}=this;if(at){this._finalizers=null;for(const ke of at)try{ue(ke)}catch(lt){q=null!=q?q:[],lt instanceof G?q=[...q,...lt.errors]:q.push(lt)}}if(q)throw new G(q)}}add(q){var se;if(q&&q!==this)if(this.closed)ue(q);else{if(q instanceof ve){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(q)}}_hasParent(q){const{_parentage:se}=this;return se===q||Array.isArray(se)&&se.includes(q)}_addParent(q){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(q),se):se?[se,q]:q}_removeParent(q){const{_parentage:se}=this;se===q?this._parentage=null:Array.isArray(se)&&(0,Ce.P)(se,q)}remove(q){const{_finalizers:se}=this;se&&(0,Ce.P)(se,q),q instanceof ve&&q._removeParent(this)}}ve.EMPTY=(()=>{const Z=new ve;return Z.closed=!0,Z})();const Ne=ve.EMPTY;function me(Z){return Z instanceof ve||Z&&"closed"in Z&&(0,f.m)(Z.remove)&&(0,f.m)(Z.add)&&(0,f.m)(Z.unsubscribe)}function ue(Z){(0,f.m)(Z)?Z():Z.unsubscribe()}},2416:(qt,We,x)=>{x.d(We,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(qt,We,x)=>{x.d(We,{a:()=>q});var f=x(8306),h=x(4742),G=x(8996),Ce=x(4671),ve=x(3268),Ne=x(3269),me=x(1810),ue=x(5403),Z=x(9672);function q(...at){const ke=(0,Ne.yG)(at),lt=(0,Ne.jO)(at),{args:ut,keys:ze}=(0,h.D)(at);if(0===ut.length)return(0,G.D)([],ke);const dt=new f.y(function se(at,ke,lt=Ce.y){return ut=>{Te(ke,()=>{const{length:ze}=at,dt=new Array(ze);let Be=ze,ft=ze;for(let pe=0;pe<ze;pe++)Te(ke,()=>{const be=(0,G.D)(at[pe],ke);let Qe=!1;be.subscribe((0,ue.x)(ut,bt=>{dt[pe]=bt,Qe||(Qe=!0,ft--),ft||ut.next(lt(dt.slice()))},()=>{--Be||ut.complete()}))},ut)},ut)}}(ut,ke,ze?Be=>(0,me.n)(ze,Be):Ce.y));return lt?dt.pipe((0,ve.Z)(lt)):dt}function Te(at,ke,lt){at?(0,Z.f)(lt,at,ke):ke()}},7272:(qt,We,x)=>{x.d(We,{z:()=>ve});var f=x(8189),G=x(3269),Ce=x(8996);function ve(...Ne){return function h(){return(0,f.J)(1)}()((0,Ce.D)(Ne,(0,G.yG)(Ne)))}},9770:(qt,We,x)=>{x.d(We,{P:()=>G});var f=x(8306),h=x(8421);function G(Ce){return new f.y(ve=>{(0,h.Xf)(Ce()).subscribe(ve)})}},515:(qt,We,x)=>{x.d(We,{E:()=>h});const h=new(x(8306).y)(ve=>ve.complete())},4128:(qt,We,x)=>{x.d(We,{D:()=>ue});var f=x(8306),h=x(4742),G=x(8421),Ce=x(3269),ve=x(5403),Ne=x(3268),me=x(1810);function ue(...Z){const q=(0,Ce.jO)(Z),{args:se,keys:Te}=(0,h.D)(Z),at=new f.y(ke=>{const{length:lt}=se;if(!lt)return void ke.complete();const ut=new Array(lt);let ze=lt,dt=lt;for(let Be=0;Be<lt;Be++){let ft=!1;(0,G.Xf)(se[Be]).subscribe((0,ve.x)(ke,pe=>{ft||(ft=!0,dt--),ut[Be]=pe},()=>ze--,void 0,()=>{(!ze||!ft)&&(dt||ke.next(Te?(0,me.n)(Te,ut):ut),ke.complete())}))}});return q?at.pipe((0,Ne.Z)(q)):at}},8996:(qt,We,x)=>{x.d(We,{D:()=>be});var f=x(8421),h=x(5363),G=x(9468),Ne=x(8306),ue=x(2202),Z=x(576),q=x(9672);function Te(Qe,bt){if(!Qe)throw new Error("Iterable cannot be null");return new Ne.y(Y=>{(0,q.f)(Y,bt,()=>{const Je=Qe[Symbol.asyncIterator]();(0,q.f)(Y,bt,()=>{Je.next().then(nt=>{nt.done?Y.complete():Y.next(nt.value)})},0,!0)})})}var at=x(3670),ke=x(8239),lt=x(1144),ut=x(6495),ze=x(2206),dt=x(4532),Be=x(3260);function be(Qe,bt){return bt?function pe(Qe,bt){if(null!=Qe){if((0,at.c)(Qe))return function Ce(Qe,bt){return(0,f.Xf)(Qe).pipe((0,G.R)(bt),(0,h.Q)(bt))}(Qe,bt);if((0,lt.z)(Qe))return function me(Qe,bt){return new Ne.y(Y=>{let Je=0;return bt.schedule(function(){Je===Qe.length?Y.complete():(Y.next(Qe[Je++]),Y.closed||this.schedule())})})}(Qe,bt);if((0,ke.t)(Qe))return function ve(Qe,bt){return(0,f.Xf)(Qe).pipe((0,G.R)(bt),(0,h.Q)(bt))}(Qe,bt);if((0,ze.D)(Qe))return Te(Qe,bt);if((0,ut.T)(Qe))return function se(Qe,bt){return new Ne.y(Y=>{let Je;return(0,q.f)(Y,bt,()=>{Je=Qe[ue.h](),(0,q.f)(Y,bt,()=>{let nt,Fe;try{({value:nt,done:Fe}=Je.next())}catch(Ue){return void Y.error(Ue)}Fe?Y.complete():Y.next(nt)},0,!0)}),()=>(0,Z.m)(null==Je?void 0:Je.return)&&Je.return()})}(Qe,bt);if((0,Be.L)(Qe))return function ft(Qe,bt){return Te((0,Be.Q)(Qe),bt)}(Qe,bt)}throw(0,dt.z)(Qe)}(Qe,bt):(0,f.Xf)(Qe)}},8421:(qt,We,x)=>{x.d(We,{Xf:()=>at});var f=x(655),h=x(1144),G=x(8239),Ce=x(8306),ve=x(3670),Ne=x(2206),me=x(4532),ue=x(6495),Z=x(3260),q=x(576),se=x(7849),Te=x(8822);function at(pe){if(pe instanceof Ce.y)return pe;if(null!=pe){if((0,ve.c)(pe))return function ke(pe){return new Ce.y(be=>{const Qe=pe[Te.L]();if((0,q.m)(Qe.subscribe))return Qe.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pe);if((0,h.z)(pe))return function lt(pe){return new Ce.y(be=>{for(let Qe=0;Qe<pe.length&&!be.closed;Qe++)be.next(pe[Qe]);be.complete()})}(pe);if((0,G.t)(pe))return function ut(pe){return new Ce.y(be=>{pe.then(Qe=>{be.closed||(be.next(Qe),be.complete())},Qe=>be.error(Qe)).then(null,se.h)})}(pe);if((0,Ne.D)(pe))return dt(pe);if((0,ue.T)(pe))return function ze(pe){return new Ce.y(be=>{for(const Qe of pe)if(be.next(Qe),be.closed)return;be.complete()})}(pe);if((0,Z.L)(pe))return function Be(pe){return dt((0,Z.Q)(pe))}(pe)}throw(0,me.z)(pe)}function dt(pe){return new Ce.y(be=>{(function ft(pe,be){var Qe,bt,Y,Je;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,f.KL)(pe);!(bt=yield Qe.next()).done;)if(be.next(bt.value),be.closed)return}catch(nt){Y={error:nt}}finally{try{bt&&!bt.done&&(Je=Qe.return)&&(yield Je.call(Qe))}finally{if(Y)throw Y.error}}be.complete()})})(pe,be).catch(Qe=>be.error(Qe))})}},6451:(qt,We,x)=>{x.d(We,{T:()=>Ne});var f=x(8189),h=x(8421),G=x(515),Ce=x(3269),ve=x(8996);function Ne(...me){const ue=(0,Ce.yG)(me),Z=(0,Ce._6)(me,1/0),q=me;return q.length?1===q.length?(0,h.Xf)(q[0]):(0,f.J)(Z)((0,ve.D)(q,ue)):G.E}},9646:(qt,We,x)=>{x.d(We,{of:()=>G});var f=x(3269),h=x(8996);function G(...Ce){const ve=(0,f.yG)(Ce);return(0,h.D)(Ce,ve)}},5403:(qt,We,x)=>{x.d(We,{x:()=>h});var f=x(930);function h(Ce,ve,Ne,me,ue){return new G(Ce,ve,Ne,me,ue)}class G extends f.Lv{constructor(ve,Ne,me,ue,Z,q){super(ve),this.onFinalize=Z,this.shouldUnsubscribe=q,this._next=Ne?function(se){try{Ne(se)}catch(Te){ve.error(Te)}}:super._next,this._error=ue?function(se){try{ue(se)}catch(Te){ve.error(Te)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(se){ve.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ne}=this;super.unsubscribe(),!Ne&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},4351:(qt,We,x)=>{x.d(We,{b:()=>G});var f=x(5577),h=x(576);function G(Ce,ve){return(0,h.m)(ve)?(0,f.z)(Ce,ve,1):(0,f.z)(Ce,1)}},6590:(qt,We,x)=>{x.d(We,{d:()=>G});var f=x(4482),h=x(5403);function G(Ce){return(0,f.e)((ve,Ne)=>{let me=!1;ve.subscribe((0,h.x)(Ne,ue=>{me=!0,Ne.next(ue)},()=>{me||Ne.next(Ce),Ne.complete()}))})}},1884:(qt,We,x)=>{x.d(We,{x:()=>Ce});var f=x(4671),h=x(4482),G=x(5403);function Ce(Ne,me=f.y){return Ne=null!=Ne?Ne:ve,(0,h.e)((ue,Z)=>{let q,se=!0;ue.subscribe((0,G.x)(Z,Te=>{const at=me(Te);(se||!Ne(q,at))&&(se=!1,q=at,Z.next(Te))}))})}function ve(Ne,me){return Ne===me}},9300:(qt,We,x)=>{x.d(We,{h:()=>G});var f=x(4482),h=x(5403);function G(Ce,ve){return(0,f.e)((Ne,me)=>{let ue=0;Ne.subscribe((0,h.x)(me,Z=>Ce.call(ve,Z,ue++)&&me.next(Z)))})}},590:(qt,We,x)=>{x.d(We,{P:()=>me});var f=x(6805),h=x(9300),G=x(5698),Ce=x(6590),ve=x(8068),Ne=x(4671);function me(ue,Z){const q=arguments.length>=2;return se=>se.pipe(ue?(0,h.h)((Te,at)=>ue(Te,at,se)):Ne.y,(0,G.q)(1),q?(0,Ce.d)(Z):(0,ve.T)(()=>new f.K))}},4004:(qt,We,x)=>{x.d(We,{U:()=>G});var f=x(4482),h=x(5403);function G(Ce,ve){return(0,f.e)((Ne,me)=>{let ue=0;Ne.subscribe((0,h.x)(me,Z=>{me.next(Ce.call(ve,Z,ue++))}))})}},8189:(qt,We,x)=>{x.d(We,{J:()=>G});var f=x(5577),h=x(4671);function G(Ce=1/0){return(0,f.z)(h.y,Ce)}},5577:(qt,We,x)=>{x.d(We,{z:()=>ue});var f=x(4004),h=x(8421),G=x(4482),Ce=x(9672),ve=x(5403),me=x(576);function ue(Z,q,se=1/0){return(0,me.m)(q)?ue((Te,at)=>(0,f.U)((ke,lt)=>q(Te,ke,at,lt))((0,h.Xf)(Z(Te,at))),se):("number"==typeof q&&(se=q),(0,G.e)((Te,at)=>function Ne(Z,q,se,Te,at,ke,lt,ut){const ze=[];let dt=0,Be=0,ft=!1;const pe=()=>{ft&&!ze.length&&!dt&&q.complete()},be=bt=>dt<Te?Qe(bt):ze.push(bt),Qe=bt=>{ke&&q.next(bt),dt++;let Y=!1;(0,h.Xf)(se(bt,Be++)).subscribe((0,ve.x)(q,Je=>{null==at||at(Je),ke?be(Je):q.next(Je)},()=>{Y=!0},void 0,()=>{if(Y)try{for(dt--;ze.length&&dt<Te;){const Je=ze.shift();lt?(0,Ce.f)(q,lt,()=>Qe(Je)):Qe(Je)}pe()}catch(Je){q.error(Je)}}))};return Z.subscribe((0,ve.x)(q,be,()=>{ft=!0,pe()})),()=>{null==ut||ut()}}(Te,at,Z,se)))}},5363:(qt,We,x)=>{x.d(We,{Q:()=>Ce});var f=x(9672),h=x(4482),G=x(5403);function Ce(ve,Ne=0){return(0,h.e)((me,ue)=>{me.subscribe((0,G.x)(ue,Z=>(0,f.f)(ue,ve,()=>ue.next(Z),Ne),()=>(0,f.f)(ue,ve,()=>ue.complete(),Ne),Z=>(0,f.f)(ue,ve,()=>ue.error(Z),Ne)))})}},5026:(qt,We,x)=>{x.d(We,{R:()=>Ce});var f=x(4482),h=x(5403);function G(ve,Ne,me,ue,Z){return(q,se)=>{let Te=me,at=Ne,ke=0;q.subscribe((0,h.x)(se,lt=>{const ut=ke++;at=Te?ve(at,lt,ut):(Te=!0,lt),ue&&se.next(at)},Z&&(()=>{Te&&se.next(at),se.complete()})))}}function Ce(ve,Ne){return(0,f.e)(G(ve,Ne,arguments.length>=2,!0))}},3099:(qt,We,x)=>{x.d(We,{B:()=>ve});var f=x(8421),h=x(7579),G=x(930),Ce=x(4482);function ve(me={}){const{connector:ue=(()=>new h.x),resetOnError:Z=!0,resetOnComplete:q=!0,resetOnRefCountZero:se=!0}=me;return Te=>{let at,ke,lt,ut=0,ze=!1,dt=!1;const Be=()=>{null==ke||ke.unsubscribe(),ke=void 0},ft=()=>{Be(),at=lt=void 0,ze=dt=!1},pe=()=>{const be=at;ft(),null==be||be.unsubscribe()};return(0,Ce.e)((be,Qe)=>{ut++,!dt&&!ze&&Be();const bt=lt=null!=lt?lt:ue();Qe.add(()=>{ut--,0===ut&&!dt&&!ze&&(ke=Ne(pe,se))}),bt.subscribe(Qe),!at&&ut>0&&(at=new G.Hp({next:Y=>bt.next(Y),error:Y=>{dt=!0,Be(),ke=Ne(ft,Z,Y),bt.error(Y)},complete:()=>{ze=!0,Be(),ke=Ne(ft,q),bt.complete()}}),(0,f.Xf)(be).subscribe(at))})(Te)}}function Ne(me,ue,...Z){if(!0===ue)return void me();if(!1===ue)return;const q=new G.Hp({next:()=>{q.unsubscribe(),me()}});return ue(...Z).subscribe(q)}},3151:(qt,We,x)=>{x.d(We,{d:()=>ve});var f=x(7579),h=x(6063);class G extends f.x{constructor(me=1/0,ue=1/0,Z=h.l){super(),this._bufferSize=me,this._windowTime=ue,this._timestampProvider=Z,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ue===1/0,this._bufferSize=Math.max(1,me),this._windowTime=Math.max(1,ue)}next(me){const{isStopped:ue,_buffer:Z,_infiniteTimeWindow:q,_timestampProvider:se,_windowTime:Te}=this;ue||(Z.push(me),!q&&Z.push(se.now()+Te)),this._trimBuffer(),super.next(me)}_subscribe(me){this._throwIfClosed(),this._trimBuffer();const ue=this._innerSubscribe(me),{_infiniteTimeWindow:Z,_buffer:q}=this,se=q.slice();for(let Te=0;Te<se.length&&!me.closed;Te+=Z?1:2)me.next(se[Te]);return this._checkFinalizedStatuses(me),ue}_trimBuffer(){const{_bufferSize:me,_timestampProvider:ue,_buffer:Z,_infiniteTimeWindow:q}=this,se=(q?1:2)*me;if(me<1/0&&se<Z.length&&Z.splice(0,Z.length-se),!q){const Te=ue.now();let at=0;for(let ke=1;ke<Z.length&&Z[ke]<=Te;ke+=2)at=ke;at&&Z.splice(0,at+1)}}}var Ce=x(3099);function ve(Ne,me,ue){let Z,q=!1;return Ne&&"object"==typeof Ne?({bufferSize:Z=1/0,windowTime:me=1/0,refCount:q=!1,scheduler:ue}=Ne):Z=null!=Ne?Ne:1/0,(0,Ce.B)({connector:()=>new G(Z,me,ue),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:q})}},8675:(qt,We,x)=>{x.d(We,{O:()=>Ce});var f=x(7272),h=x(3269),G=x(4482);function Ce(...ve){const Ne=(0,h.yG)(ve);return(0,G.e)((me,ue)=>{(Ne?(0,f.z)(ve,me,Ne):(0,f.z)(ve,me)).subscribe(ue)})}},9468:(qt,We,x)=>{x.d(We,{R:()=>h});var f=x(4482);function h(G,Ce=0){return(0,f.e)((ve,Ne)=>{Ne.add(G.schedule(()=>ve.subscribe(Ne),Ce))})}},3900:(qt,We,x)=>{x.d(We,{w:()=>Ce});var f=x(8421),h=x(4482),G=x(5403);function Ce(ve,Ne){return(0,h.e)((me,ue)=>{let Z=null,q=0,se=!1;const Te=()=>se&&!Z&&ue.complete();me.subscribe((0,G.x)(ue,at=>{null==Z||Z.unsubscribe();let ke=0;const lt=q++;(0,f.Xf)(ve(at,lt)).subscribe(Z=(0,G.x)(ue,ut=>ue.next(Ne?Ne(at,ut,lt,ke++):ut),()=>{Z=null,Te()}))},()=>{se=!0,Te()}))})}},5698:(qt,We,x)=>{x.d(We,{q:()=>Ce});var f=x(515),h=x(4482),G=x(5403);function Ce(ve){return ve<=0?()=>f.E:(0,h.e)((Ne,me)=>{let ue=0;Ne.subscribe((0,G.x)(me,Z=>{++ue<=ve&&(me.next(Z),ve<=ue&&me.complete())}))})}},8505:(qt,We,x)=>{x.d(We,{b:()=>ve});var f=x(576),h=x(4482),G=x(5403),Ce=x(4671);function ve(Ne,me,ue){const Z=(0,f.m)(Ne)||me||ue?{next:Ne,error:me,complete:ue}:Ne;return Z?(0,h.e)((q,se)=>{var Te;null===(Te=Z.subscribe)||void 0===Te||Te.call(Z);let at=!0;q.subscribe((0,G.x)(se,ke=>{var lt;null===(lt=Z.next)||void 0===lt||lt.call(Z,ke),se.next(ke)},()=>{var ke;at=!1,null===(ke=Z.complete)||void 0===ke||ke.call(Z),se.complete()},ke=>{var lt;at=!1,null===(lt=Z.error)||void 0===lt||lt.call(Z,ke),se.error(ke)},()=>{var ke,lt;at&&(null===(ke=Z.unsubscribe)||void 0===ke||ke.call(Z)),null===(lt=Z.finalize)||void 0===lt||lt.call(Z)}))}):Ce.y}},8068:(qt,We,x)=>{x.d(We,{T:()=>Ce});var f=x(6805),h=x(4482),G=x(5403);function Ce(Ne=ve){return(0,h.e)((me,ue)=>{let Z=!1;me.subscribe((0,G.x)(ue,q=>{Z=!0,ue.next(q)},()=>Z?ue.complete():ue.error(Ne())))})}function ve(){return new f.K}},4408:(qt,We,x)=>{x.d(We,{o:()=>ve});var f=x(727);class h extends f.w0{constructor(me,ue){super()}schedule(me,ue=0){return this}}const G={setInterval(Ne,me,...ue){const{delegate:Z}=G;return(null==Z?void 0:Z.setInterval)?Z.setInterval(Ne,me,...ue):setInterval(Ne,me,...ue)},clearInterval(Ne){const{delegate:me}=G;return((null==me?void 0:me.clearInterval)||clearInterval)(Ne)},delegate:void 0};var Ce=x(8737);class ve extends h{constructor(me,ue){super(me,ue),this.scheduler=me,this.work=ue,this.pending=!1}schedule(me,ue=0){var Z;if(this.closed)return this;this.state=me;const q=this.id,se=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(se,q,ue)),this.pending=!0,this.delay=ue,this.id=null!==(Z=this.id)&&void 0!==Z?Z:this.requestAsyncId(se,this.id,ue),this}requestAsyncId(me,ue,Z=0){return G.setInterval(me.flush.bind(me,this),Z)}recycleAsyncId(me,ue,Z=0){if(null!=Z&&this.delay===Z&&!1===this.pending)return ue;null!=ue&&G.clearInterval(ue)}execute(me,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Z=this._execute(me,ue);if(Z)return Z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,ue){let q,Z=!1;try{this.work(me)}catch(se){Z=!0,q=se||new Error("Scheduled action threw falsy error")}if(Z)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:me,scheduler:ue}=this,{actions:Z}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(Z,this),null!=me&&(this.id=this.recycleAsyncId(ue,me,null)),this.delay=null,super.unsubscribe()}}}},7565:(qt,We,x)=>{x.d(We,{v:()=>G});var f=x(6063);class h{constructor(ve,Ne=h.now){this.schedulerActionCtor=ve,this.now=Ne}schedule(ve,Ne=0,me){return new this.schedulerActionCtor(this,ve).schedule(me,Ne)}}h.now=f.l.now;class G extends h{constructor(ve,Ne=h.now){super(ve,Ne),this.actions=[],this._active=!1}flush(ve){const{actions:Ne}=this;if(this._active)return void Ne.push(ve);let me;this._active=!0;do{if(me=ve.execute(ve.state,ve.delay))break}while(ve=Ne.shift());if(this._active=!1,me){for(;ve=Ne.shift();)ve.unsubscribe();throw me}}}},4986:(qt,We,x)=>{x.d(We,{P:()=>Ce,z:()=>G});var f=x(4408);const G=new(x(7565).v)(f.o),Ce=G},6063:(qt,We,x)=>{x.d(We,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},233:(qt,We,x)=>{x.d(We,{N:()=>ve});var f=x(4408),G=x(7565);const ve=new class Ce extends G.v{}(class h extends f.o{constructor(ue,Z){super(ue,Z),this.scheduler=ue,this.work=Z}schedule(ue,Z=0){return Z>0?super.schedule(ue,Z):(this.delay=Z,this.state=ue,this.scheduler.flush(this),this)}execute(ue,Z){return Z>0||this.closed?super.execute(ue,Z):this._execute(ue,Z)}requestAsyncId(ue,Z,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(ue,Z,q):(ue.flush(this),0)}})},3410:(qt,We,x)=>{x.d(We,{z:()=>f});const f={setTimeout(h,G,...Ce){const{delegate:ve}=f;return(null==ve?void 0:ve.setTimeout)?ve.setTimeout(h,G,...Ce):setTimeout(h,G,...Ce)},clearTimeout(h){const{delegate:G}=f;return((null==G?void 0:G.clearTimeout)||clearTimeout)(h)},delegate:void 0}},2202:(qt,We,x)=>{x.d(We,{h:()=>h});const h=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(qt,We,x)=>{x.d(We,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(qt,We,x)=>{x.d(We,{K:()=>h});const h=(0,x(3888).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(qt,We,x)=>{x.d(We,{_6:()=>Ne,jO:()=>Ce,yG:()=>ve});var f=x(576),h=x(3532);function G(me){return me[me.length-1]}function Ce(me){return(0,f.m)(G(me))?me.pop():void 0}function ve(me){return(0,h.K)(G(me))?me.pop():void 0}function Ne(me,ue){return"number"==typeof G(me)?me.pop():ue}},4742:(qt,We,x)=>{x.d(We,{D:()=>ve});const{isArray:f}=Array,{getPrototypeOf:h,prototype:G,keys:Ce}=Object;function ve(me){if(1===me.length){const ue=me[0];if(f(ue))return{args:ue,keys:null};if(function Ne(me){return me&&"object"==typeof me&&h(me)===G}(ue)){const Z=Ce(ue);return{args:Z.map(q=>ue[q]),keys:Z}}}return{args:me,keys:null}}},8737:(qt,We,x)=>{function f(h,G){if(h){const Ce=h.indexOf(G);0<=Ce&&h.splice(Ce,1)}}x.d(We,{P:()=>f})},3888:(qt,We,x)=>{function f(h){const Ce=h(ve=>{Error.call(ve),ve.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}x.d(We,{d:()=>f})},1810:(qt,We,x)=>{function f(h,G){return h.reduce((Ce,ve,Ne)=>(Ce[ve]=G[Ne],Ce),{})}x.d(We,{n:()=>f})},2806:(qt,We,x)=>{x.d(We,{O:()=>Ce,x:()=>G});var f=x(2416);let h=null;function G(ve){if(f.v.useDeprecatedSynchronousErrorHandling){const Ne=!h;if(Ne&&(h={errorThrown:!1,error:null}),ve(),Ne){const{errorThrown:me,error:ue}=h;if(h=null,me)throw ue}}else ve()}function Ce(ve){f.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=ve)}},9672:(qt,We,x)=>{function f(h,G,Ce,ve=0,Ne=!1){const me=G.schedule(function(){Ce(),Ne?h.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(h.add(me),!Ne)return me}x.d(We,{f:()=>f})},4671:(qt,We,x)=>{function f(h){return h}x.d(We,{y:()=>f})},1144:(qt,We,x)=>{x.d(We,{z:()=>f});const f=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(qt,We,x)=>{x.d(We,{D:()=>h});var f=x(576);function h(G){return Symbol.asyncIterator&&(0,f.m)(null==G?void 0:G[Symbol.asyncIterator])}},576:(qt,We,x)=>{function f(h){return"function"==typeof h}x.d(We,{m:()=>f})},3670:(qt,We,x)=>{x.d(We,{c:()=>G});var f=x(8822),h=x(576);function G(Ce){return(0,h.m)(Ce[f.L])}},6495:(qt,We,x)=>{x.d(We,{T:()=>G});var f=x(2202),h=x(576);function G(Ce){return(0,h.m)(null==Ce?void 0:Ce[f.h])}},8239:(qt,We,x)=>{x.d(We,{t:()=>h});var f=x(576);function h(G){return(0,f.m)(null==G?void 0:G.then)}},3260:(qt,We,x)=>{x.d(We,{L:()=>Ce,Q:()=>G});var f=x(655),h=x(576);function G(ve){return(0,f.FC)(this,arguments,function*(){const me=ve.getReader();try{for(;;){const{value:ue,done:Z}=yield(0,f.qq)(me.read());if(Z)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ue)}}finally{me.releaseLock()}})}function Ce(ve){return(0,h.m)(null==ve?void 0:ve.getReader)}},3532:(qt,We,x)=>{x.d(We,{K:()=>h});var f=x(576);function h(G){return G&&(0,f.m)(G.schedule)}},4482:(qt,We,x)=>{x.d(We,{A:()=>h,e:()=>G});var f=x(576);function h(Ce){return(0,f.m)(null==Ce?void 0:Ce.lift)}function G(Ce){return ve=>{if(h(ve))return ve.lift(function(Ne){try{return Ce(Ne,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(qt,We,x)=>{x.d(We,{Z:()=>Ce});var f=x(4004);const{isArray:h}=Array;function Ce(ve){return(0,f.U)(Ne=>function G(ve,Ne){return h(Ne)?ve(...Ne):ve(Ne)}(ve,Ne))}},5032:(qt,We,x)=>{function f(){}x.d(We,{Z:()=>f})},7849:(qt,We,x)=>{x.d(We,{h:()=>G});var f=x(2416),h=x(3410);function G(Ce){h.z.setTimeout(()=>{const{onUnhandledError:ve}=f.v;if(!ve)throw Ce;ve(Ce)})}},4532:(qt,We,x)=>{function f(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(We,{z:()=>f})},655:(qt,We,x)=>{function Ce(Fe,Ue){var Xe={};for(var it in Fe)Object.prototype.hasOwnProperty.call(Fe,it)&&Ue.indexOf(it)<0&&(Xe[it]=Fe[it]);if(null!=Fe&&"function"==typeof Object.getOwnPropertySymbols){var st=0;for(it=Object.getOwnPropertySymbols(Fe);st<it.length;st++)Ue.indexOf(it[st])<0&&Object.prototype.propertyIsEnumerable.call(Fe,it[st])&&(Xe[it[st]]=Fe[it[st]])}return Xe}function ve(Fe,Ue,Xe,it){var tn,st=arguments.length,xt=st<3?Ue:null===it?it=Object.getOwnPropertyDescriptor(Ue,Xe):it;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)xt=Reflect.decorate(Fe,Ue,Xe,it);else for(var pt=Fe.length-1;pt>=0;pt--)(tn=Fe[pt])&&(xt=(st<3?tn(xt):st>3?tn(Ue,Xe,xt):tn(Ue,Xe))||xt);return st>3&&xt&&Object.defineProperty(Ue,Xe,xt),xt}function me(Fe,Ue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Fe,Ue)}function ue(Fe,Ue,Xe,it){return new(Xe||(Xe=Promise))(function(xt,tn){function pt(Ae){try{Q(it.next(Ae))}catch(qe){tn(qe)}}function mt(Ae){try{Q(it.throw(Ae))}catch(qe){tn(qe)}}function Q(Ae){Ae.done?xt(Ae.value):function st(xt){return xt instanceof Xe?xt:new Xe(function(tn){tn(xt)})}(Ae.value).then(pt,mt)}Q((it=it.apply(Fe,Ue||[])).next())})}function ze(Fe){return this instanceof ze?(this.v=Fe,this):new ze(Fe)}function dt(Fe,Ue,Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,it=Xe.apply(Fe,Ue||[]),xt=[];return st={},tn("next"),tn("throw"),tn("return"),st[Symbol.asyncIterator]=function(){return this},st;function tn(Rt){it[Rt]&&(st[Rt]=function(Ht){return new Promise(function(nn,yn){xt.push([Rt,Ht,nn,yn])>1||pt(Rt,Ht)})})}function pt(Rt,Ht){try{!function mt(Rt){Rt.value instanceof ze?Promise.resolve(Rt.value.v).then(Q,Ae):qe(xt[0][2],Rt)}(it[Rt](Ht))}catch(nn){qe(xt[0][3],nn)}}function Q(Rt){pt("next",Rt)}function Ae(Rt){pt("throw",Rt)}function qe(Rt,Ht){Rt(Ht),xt.shift(),xt.length&&pt(xt[0][0],xt[0][1])}}function ft(Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Ue=Fe[Symbol.asyncIterator];return Ue?Ue.call(Fe):(Fe=function Te(Fe){var Ue="function"==typeof Symbol&&Symbol.iterator,Xe=Ue&&Fe[Ue],it=0;if(Xe)return Xe.call(Fe);if(Fe&&"number"==typeof Fe.length)return{next:function(){return Fe&&it>=Fe.length&&(Fe=void 0),{value:Fe&&Fe[it++],done:!Fe}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(Fe),Xe={},it("next"),it("throw"),it("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe);function it(xt){Xe[xt]=Fe[xt]&&function(tn){return new Promise(function(pt,mt){!function st(xt,tn,pt,mt){Promise.resolve(mt).then(function(Q){xt({value:Q,done:pt})},tn)}(pt,mt,(tn=Fe[xt](tn)).done,tn.value)})}}}x.d(We,{FC:()=>dt,KL:()=>ft,_T:()=>Ce,gn:()=>ve,mG:()=>ue,qq:()=>ze,w6:()=>me})},1777:(qt,We,x)=>{x.d(We,{LC:()=>h,SB:()=>Z,X$:()=>Ce,ZE:()=>Be,ZN:()=>dt,_j:()=>f,eR:()=>se,jt:()=>ve,k1:()=>ft,l3:()=>G,oB:()=>ue,vP:()=>me});class f{}class h{}const G="*";function Ce(pe,be){return{type:7,name:pe,definitions:be,options:{}}}function ve(pe,be=null){return{type:4,styles:be,timings:pe}}function me(pe,be=null){return{type:2,steps:pe,options:be}}function ue(pe){return{type:6,styles:pe,offset:null}}function Z(pe,be,Qe){return{type:0,name:pe,styles:be,options:Qe}}function se(pe,be,Qe=null){return{type:1,expr:pe,animation:be,options:Qe}}function ze(pe){Promise.resolve(null).then(pe)}class dt{constructor(be=0,Qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=be+Qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}onStart(be){this._onStartFns.push(be)}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ze(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(be=>be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(be){this._position=this.totalTime?be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(be){const Qe="start"==be?this._onStartFns:this._onDoneFns;Qe.forEach(bt=>bt()),Qe.length=0}}class Be{constructor(be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=be;let Qe=0,bt=0,Y=0;const Je=this.players.length;0==Je?ze(()=>this._onFinish()):this.players.forEach(nt=>{nt.onDone(()=>{++Qe==Je&&this._onFinish()}),nt.onDestroy(()=>{++bt==Je&&this._onDestroy()}),nt.onStart(()=>{++Y==Je&&this._onStart()})}),this.totalTime=this.players.reduce((nt,Fe)=>Math.max(nt,Fe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this.players.forEach(be=>be.init())}onStart(be){this._onStartFns.push(be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(be=>be()),this._onStartFns=[])}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(be=>be.play())}pause(){this.players.forEach(be=>be.pause())}restart(){this.players.forEach(be=>be.restart())}finish(){this._onFinish(),this.players.forEach(be=>be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(be=>be.destroy()),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this.players.forEach(be=>be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(be){const Qe=be*this.totalTime;this.players.forEach(bt=>{const Y=bt.totalTime?Math.min(1,Qe/bt.totalTime):1;bt.setPosition(Y)})}getPosition(){const be=this.players.reduce((Qe,bt)=>null===Qe||bt.totalTime>Qe.totalTime?bt:Qe,null);return null!=be?be.getPosition():0}beforeDestroy(){this.players.forEach(be=>{be.beforeDestroy&&be.beforeDestroy()})}triggerCallback(be){const Qe="start"==be?this._onStartFns:this._onDoneFns;Qe.forEach(bt=>bt()),Qe.length=0}}const ft="!"},9808:(qt,We,x)=>{x.d(We,{Do:()=>pe,ED:()=>zr,EM:()=>vr,HT:()=>ve,JF:()=>Fi,K0:()=>me,Mx:()=>Oi,NF:()=>Ni,O5:()=>Dr,Ov:()=>Bt,PC:()=>Es,PM:()=>Or,RF:()=>Ji,S$:()=>ze,V_:()=>q,Ye:()=>be,b0:()=>ft,bD:()=>ta,ez:()=>es,gd:()=>qi,lw:()=>ue,mk:()=>Bi,mr:()=>Be,n9:()=>Ir,q:()=>G,rS:()=>$n,sg:()=>St,tP:()=>gs,uU:()=>us,w_:()=>Ne});var f=x(5e3);let h=null;function G(){return h}function ve(V){h||(h=V)}class Ne{}const me=new f.OlP("DocumentToken");let ue=(()=>{class V{historyGo(F){throw new Error("Not implemented")}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275prov=f.Yz7({token:V,factory:function(){return function Z(){return(0,f.LFG)(se)}()},providedIn:"platform"}),V})();const q=new f.OlP("Location Initialized");let se=(()=>{class V extends ue{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(F){const ce=G().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",F,!1),()=>ce.removeEventListener("popstate",F)}onHashChange(F){const ce=G().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",F,!1),()=>ce.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,ce,$e){Te()?this._history.pushState(F,ce,$e):this.location.hash=$e}replaceState(F,ce,$e){Te()?this._history.replaceState(F,ce,$e):this.location.hash=$e}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return V.\u0275fac=function(F){return new(F||V)(f.LFG(me))},V.\u0275prov=f.Yz7({token:V,factory:function(){return function at(){return new se((0,f.LFG)(me))}()},providedIn:"platform"}),V})();function Te(){return!!window.history.pushState}function ke(V,ie){if(0==V.length)return ie;if(0==ie.length)return V;let F=0;return V.endsWith("/")&&F++,ie.startsWith("/")&&F++,2==F?V+ie.substring(1):1==F?V+ie:V+"/"+ie}function lt(V){const ie=V.match(/#|\?|$/),F=ie&&ie.index||V.length;return V.slice(0,F-("/"===V[F-1]?1:0))+V.slice(F)}function ut(V){return V&&"?"!==V[0]?"?"+V:V}let ze=(()=>{class V{historyGo(F){throw new Error("Not implemented")}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275prov=f.Yz7({token:V,factory:function(){return function dt(V){const ie=(0,f.LFG)(me).location;return new ft((0,f.LFG)(ue),ie&&ie.origin||"")}()},providedIn:"root"}),V})();const Be=new f.OlP("appBaseHref");let ft=(()=>{class V extends ze{constructor(F,ce){if(super(),this._platformLocation=F,this._removeListenerFns=[],null==ce&&(ce=this._platformLocation.getBaseHrefFromDOM()),null==ce)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ce}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return ke(this._baseHref,F)}path(F=!1){const ce=this._platformLocation.pathname+ut(this._platformLocation.search),$e=this._platformLocation.hash;return $e&&F?`${ce}${$e}`:ce}pushState(F,ce,$e,At){const $t=this.prepareExternalUrl($e+ut(At));this._platformLocation.pushState(F,ce,$t)}replaceState(F,ce,$e,At){const $t=this.prepareExternalUrl($e+ut(At));this._platformLocation.replaceState(F,ce,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var ce,$e;null===($e=(ce=this._platformLocation).historyGo)||void 0===$e||$e.call(ce,F)}}return V.\u0275fac=function(F){return new(F||V)(f.LFG(ue),f.LFG(Be,8))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac}),V})(),pe=(()=>{class V extends ze{constructor(F,ce){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(F){const ce=ke(this._baseHref,F);return ce.length>0?"#"+ce:ce}pushState(F,ce,$e,At){let $t=this.prepareExternalUrl($e+ut(At));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.pushState(F,ce,$t)}replaceState(F,ce,$e,At){let $t=this.prepareExternalUrl($e+ut(At));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.replaceState(F,ce,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var ce,$e;null===($e=(ce=this._platformLocation).historyGo)||void 0===$e||$e.call(ce,F)}}return V.\u0275fac=function(F){return new(F||V)(f.LFG(ue),f.LFG(Be,8))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac}),V})(),be=(()=>{class V{constructor(F,ce){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=F;const $e=this._platformStrategy.getBaseHref();this._platformLocation=ce,this._baseHref=lt(Y($e)),this._platformStrategy.onPopState(At=>{this._subject.emit({url:this.path(!0),pop:!0,state:At.state,type:At.type})})}path(F=!1){return this.normalize(this._platformStrategy.path(F))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(F,ce=""){return this.path()==this.normalize(F+ut(ce))}normalize(F){return V.stripTrailingSlash(function bt(V,ie){return V&&ie.startsWith(V)?ie.substring(V.length):ie}(this._baseHref,Y(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._platformStrategy.prepareExternalUrl(F)}go(F,ce="",$e=null){this._platformStrategy.pushState($e,"",F,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+ut(ce)),$e)}replaceState(F,ce="",$e=null){this._platformStrategy.replaceState($e,"",F,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+ut(ce)),$e)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(F=0){var ce,$e;null===($e=(ce=this._platformStrategy).historyGo)||void 0===$e||$e.call(ce,F)}onUrlChange(F){this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)}))}_notifyUrlChangeListeners(F="",ce){this._urlChangeListeners.forEach($e=>$e(F,ce))}subscribe(F,ce,$e){return this._subject.subscribe({next:F,error:ce,complete:$e})}}return V.normalizeQueryParams=ut,V.joinWithSlash=ke,V.stripTrailingSlash=lt,V.\u0275fac=function(F){return new(F||V)(f.LFG(ze),f.LFG(ue))},V.\u0275prov=f.Yz7({token:V,factory:function(){return function Qe(){return new be((0,f.LFG)(ze),(0,f.LFG)(ue))}()},providedIn:"root"}),V})();function Y(V){return V.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Format=0]="Format",Ue[Ue.Standalone=1]="Standalone",Ue))(),Xe=(()=>((Xe=Xe||{})[Xe.Narrow=0]="Narrow",Xe[Xe.Abbreviated=1]="Abbreviated",Xe[Xe.Wide=2]="Wide",Xe[Xe.Short=3]="Short",Xe))(),it=(()=>((it=it||{})[it.Short=0]="Short",it[it.Medium=1]="Medium",it[it.Long=2]="Long",it[it.Full=3]="Full",it))(),st=(()=>((st=st||{})[st.Decimal=0]="Decimal",st[st.Group=1]="Group",st[st.List=2]="List",st[st.PercentSign=3]="PercentSign",st[st.PlusSign=4]="PlusSign",st[st.MinusSign=5]="MinusSign",st[st.Exponential=6]="Exponential",st[st.SuperscriptingExponent=7]="SuperscriptingExponent",st[st.PerMille=8]="PerMille",st[st.Infinity=9]="Infinity",st[st.NaN=10]="NaN",st[st.TimeSeparator=11]="TimeSeparator",st[st.CurrencyDecimal=12]="CurrencyDecimal",st[st.CurrencyGroup=13]="CurrencyGroup",st))();function Ht(V,ie){return ti((0,f.cg1)(V)[f.wAp.DateFormat],ie)}function nn(V,ie){return ti((0,f.cg1)(V)[f.wAp.TimeFormat],ie)}function yn(V,ie){return ti((0,f.cg1)(V)[f.wAp.DateTimeFormat],ie)}function On(V,ie){const F=(0,f.cg1)(V),ce=F[f.wAp.NumberSymbols][ie];if(void 0===ce){if(ie===st.CurrencyDecimal)return F[f.wAp.NumberSymbols][st.Decimal];if(ie===st.CurrencyGroup)return F[f.wAp.NumberSymbols][st.Group]}return ce}function Mn(V){if(!V[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${V[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ti(V,ie){for(let F=ie;F>-1;F--)if(void 0!==V[F])return V[F];throw new Error("Locale data API: locale data undefined")}function rn(V){const[ie,F]=V.split(":");return{hours:+ie,minutes:+F}}const Ve=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ge={},Ut=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var It=(()=>((It=It||{})[It.Short=0]="Short",It[It.ShortGMT=1]="ShortGMT",It[It.Long=2]="Long",It[It.Extended=3]="Extended",It))(),Nt=(()=>((Nt=Nt||{})[Nt.FullYear=0]="FullYear",Nt[Nt.Month=1]="Month",Nt[Nt.Date=2]="Date",Nt[Nt.Hours=3]="Hours",Nt[Nt.Minutes=4]="Minutes",Nt[Nt.Seconds=5]="Seconds",Nt[Nt.FractionalSeconds=6]="FractionalSeconds",Nt[Nt.Day=7]="Day",Nt))(),Zt=(()=>((Zt=Zt||{})[Zt.DayPeriods=0]="DayPeriods",Zt[Zt.Days=1]="Days",Zt[Zt.Months=2]="Months",Zt[Zt.Eras=3]="Eras",Zt))();function Re(V,ie,F,ce){let $e=function ee(V){if(xe(V))return V;if("number"==typeof V&&!isNaN(V))return new Date(V);if("string"==typeof V){if(V=V.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(V)){const[$e,At=1,$t=1]=V.split("-").map(Pn=>+Pn);return Oe($e,At-1,$t)}const F=parseFloat(V);if(!isNaN(V-F))return new Date(F);let ce;if(ce=V.match(Ve))return function ne(V){const ie=new Date(0);let F=0,ce=0;const $e=V[8]?ie.setUTCFullYear:ie.setFullYear,At=V[8]?ie.setUTCHours:ie.setHours;V[9]&&(F=Number(V[9]+V[10]),ce=Number(V[9]+V[11])),$e.call(ie,Number(V[1]),Number(V[2])-1,Number(V[3]));const $t=Number(V[4]||0)-F,Pn=Number(V[5]||0)-ce,Gn=Number(V[6]||0),mi=Math.floor(1e3*parseFloat("0."+(V[7]||0)));return At.call(ie,$t,Pn,Gn,mi),ie}(ce)}const ie=new Date(V);if(!xe(ie))throw new Error(`Unable to convert "${V}" into a date`);return ie}(V);ie=we(F,ie)||ie;let Pn,$t=[];for(;ie;){if(Pn=Ut.exec(ie),!Pn){$t.push(ie);break}{$t=$t.concat(Pn.slice(1));const ei=$t.pop();if(!ei)break;ie=ei}}let Gn=$e.getTimezoneOffset();ce&&(Gn=_e(ce,Gn),$e=function $(V,ie,F){const ce=F?-1:1,$e=V.getTimezoneOffset();return function X(V,ie){return(V=new Date(V.getTime())).setMinutes(V.getMinutes()+ie),V}(V,ce*(_e(ie,$e)-$e))}($e,ce,!0));let mi="";return $t.forEach(ei=>{const fi=function Me(V){if(fe[V])return fe[V];let ie;switch(V){case"G":case"GG":case"GGG":ie=fn(Zt.Eras,Xe.Abbreviated);break;case"GGGG":ie=fn(Zt.Eras,Xe.Wide);break;case"GGGGG":ie=fn(Zt.Eras,Xe.Narrow);break;case"y":ie=Tt(Nt.FullYear,1,0,!1,!0);break;case"yy":ie=Tt(Nt.FullYear,2,0,!0,!0);break;case"yyy":ie=Tt(Nt.FullYear,3,0,!1,!0);break;case"yyyy":ie=Tt(Nt.FullYear,4,0,!1,!0);break;case"Y":ie=he(1);break;case"YY":ie=he(2,!0);break;case"YYY":ie=he(3);break;case"YYYY":ie=he(4);break;case"M":case"L":ie=Tt(Nt.Month,1,1);break;case"MM":case"LL":ie=Tt(Nt.Month,2,1);break;case"MMM":ie=fn(Zt.Months,Xe.Abbreviated);break;case"MMMM":ie=fn(Zt.Months,Xe.Wide);break;case"MMMMM":ie=fn(Zt.Months,Xe.Narrow);break;case"LLL":ie=fn(Zt.Months,Xe.Abbreviated,Ue.Standalone);break;case"LLLL":ie=fn(Zt.Months,Xe.Wide,Ue.Standalone);break;case"LLLLL":ie=fn(Zt.Months,Xe.Narrow,Ue.Standalone);break;case"w":ie=Ft(1);break;case"ww":ie=Ft(2);break;case"W":ie=Ft(1,!0);break;case"d":ie=Tt(Nt.Date,1);break;case"dd":ie=Tt(Nt.Date,2);break;case"c":case"cc":ie=Tt(Nt.Day,1);break;case"ccc":ie=fn(Zt.Days,Xe.Abbreviated,Ue.Standalone);break;case"cccc":ie=fn(Zt.Days,Xe.Wide,Ue.Standalone);break;case"ccccc":ie=fn(Zt.Days,Xe.Narrow,Ue.Standalone);break;case"cccccc":ie=fn(Zt.Days,Xe.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":ie=fn(Zt.Days,Xe.Abbreviated);break;case"EEEE":ie=fn(Zt.Days,Xe.Wide);break;case"EEEEE":ie=fn(Zt.Days,Xe.Narrow);break;case"EEEEEE":ie=fn(Zt.Days,Xe.Short);break;case"a":case"aa":case"aaa":ie=fn(Zt.DayPeriods,Xe.Abbreviated);break;case"aaaa":ie=fn(Zt.DayPeriods,Xe.Wide);break;case"aaaaa":ie=fn(Zt.DayPeriods,Xe.Narrow);break;case"b":case"bb":case"bbb":ie=fn(Zt.DayPeriods,Xe.Abbreviated,Ue.Standalone,!0);break;case"bbbb":ie=fn(Zt.DayPeriods,Xe.Wide,Ue.Standalone,!0);break;case"bbbbb":ie=fn(Zt.DayPeriods,Xe.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":ie=fn(Zt.DayPeriods,Xe.Abbreviated,Ue.Format,!0);break;case"BBBB":ie=fn(Zt.DayPeriods,Xe.Wide,Ue.Format,!0);break;case"BBBBB":ie=fn(Zt.DayPeriods,Xe.Narrow,Ue.Format,!0);break;case"h":ie=Tt(Nt.Hours,1,-12);break;case"hh":ie=Tt(Nt.Hours,2,-12);break;case"H":ie=Tt(Nt.Hours,1);break;case"HH":ie=Tt(Nt.Hours,2);break;case"m":ie=Tt(Nt.Minutes,1);break;case"mm":ie=Tt(Nt.Minutes,2);break;case"s":ie=Tt(Nt.Seconds,1);break;case"ss":ie=Tt(Nt.Seconds,2);break;case"S":ie=Tt(Nt.FractionalSeconds,1);break;case"SS":ie=Tt(Nt.FractionalSeconds,2);break;case"SSS":ie=Tt(Nt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ie=W(It.Short);break;case"ZZZZZ":ie=W(It.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ie=W(It.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ie=W(It.Long);break;default:return null}return fe[V]=ie,ie}(ei);mi+=fi?fi($e,F,Gn):"''"===ei?"'":ei.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),mi}function Oe(V,ie,F){const ce=new Date(0);return ce.setFullYear(V,ie,F),ce.setHours(0,0,0),ce}function we(V,ie){const F=function tn(V){return(0,f.cg1)(V)[f.wAp.LocaleId]}(V);if(Ge[F]=Ge[F]||{},Ge[F][ie])return Ge[F][ie];let ce="";switch(ie){case"shortDate":ce=Ht(V,it.Short);break;case"mediumDate":ce=Ht(V,it.Medium);break;case"longDate":ce=Ht(V,it.Long);break;case"fullDate":ce=Ht(V,it.Full);break;case"shortTime":ce=nn(V,it.Short);break;case"mediumTime":ce=nn(V,it.Medium);break;case"longTime":ce=nn(V,it.Long);break;case"fullTime":ce=nn(V,it.Full);break;case"short":const $e=we(V,"shortTime"),At=we(V,"shortDate");ce=Ke(yn(V,it.Short),[$e,At]);break;case"medium":const $t=we(V,"mediumTime"),Pn=we(V,"mediumDate");ce=Ke(yn(V,it.Medium),[$t,Pn]);break;case"long":const Gn=we(V,"longTime"),mi=we(V,"longDate");ce=Ke(yn(V,it.Long),[Gn,mi]);break;case"full":const ei=we(V,"fullTime"),fi=we(V,"fullDate");ce=Ke(yn(V,it.Full),[ei,fi])}return ce&&(Ge[F][ie]=ce),ce}function Ke(V,ie){return ie&&(V=V.replace(/\{([^}]+)}/g,function(F,ce){return null!=ie&&ce in ie?ie[ce]:F})),V}function wt(V,ie,F="-",ce,$e){let At="";(V<0||$e&&V<=0)&&($e?V=1-V:(V=-V,At=F));let $t=String(V);for(;$t.length<ie;)$t="0"+$t;return ce&&($t=$t.substr($t.length-ie)),At+$t}function Tt(V,ie,F=0,ce=!1,$e=!1){return function(At,$t){let Pn=function _n(V,ie){switch(V){case Nt.FullYear:return ie.getFullYear();case Nt.Month:return ie.getMonth();case Nt.Date:return ie.getDate();case Nt.Hours:return ie.getHours();case Nt.Minutes:return ie.getMinutes();case Nt.Seconds:return ie.getSeconds();case Nt.FractionalSeconds:return ie.getMilliseconds();case Nt.Day:return ie.getDay();default:throw new Error(`Unknown DateType value "${V}".`)}}(V,At);if((F>0||Pn>-F)&&(Pn+=F),V===Nt.Hours)0===Pn&&-12===F&&(Pn=12);else if(V===Nt.FractionalSeconds)return function Mt(V,ie){return wt(V,3).substr(0,ie)}(Pn,ie);const Gn=On($t,st.MinusSign);return wt(Pn,ie,Gn,ce,$e)}}function fn(V,ie,F=Ue.Format,ce=!1){return function($e,At){return function pn(V,ie,F,ce,$e,At){switch(F){case Zt.Months:return function Q(V,ie,F){const ce=(0,f.cg1)(V),At=ti([ce[f.wAp.MonthsFormat],ce[f.wAp.MonthsStandalone]],ie);return ti(At,F)}(ie,$e,ce)[V.getMonth()];case Zt.Days:return function mt(V,ie,F){const ce=(0,f.cg1)(V),At=ti([ce[f.wAp.DaysFormat],ce[f.wAp.DaysStandalone]],ie);return ti(At,F)}(ie,$e,ce)[V.getDay()];case Zt.DayPeriods:const $t=V.getHours(),Pn=V.getMinutes();if(At){const mi=function bi(V){const ie=(0,f.cg1)(V);return Mn(ie),(ie[f.wAp.ExtraData][2]||[]).map(ce=>"string"==typeof ce?rn(ce):[rn(ce[0]),rn(ce[1])])}(ie),ei=function on(V,ie,F){const ce=(0,f.cg1)(V);Mn(ce);const At=ti([ce[f.wAp.ExtraData][0],ce[f.wAp.ExtraData][1]],ie)||[];return ti(At,F)||[]}(ie,$e,ce),fi=mi.findIndex(er=>{if(Array.isArray(er)){const[Hi,Vi]=er,B=$t>=Hi.hours&&Pn>=Hi.minutes,N=$t<Vi.hours||$t===Vi.hours&&Pn<Vi.minutes;if(Hi.hours<Vi.hours){if(B&&N)return!0}else if(B||N)return!0}else if(er.hours===$t&&er.minutes===Pn)return!0;return!1});if(-1!==fi)return ei[fi]}return function pt(V,ie,F){const ce=(0,f.cg1)(V),At=ti([ce[f.wAp.DayPeriodsFormat],ce[f.wAp.DayPeriodsStandalone]],ie);return ti(At,F)}(ie,$e,ce)[$t<12?0:1];case Zt.Eras:return function Ae(V,ie){return ti((0,f.cg1)(V)[f.wAp.Eras],ie)}(ie,ce)[V.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${F}`)}}($e,At,V,ie,F,ce)}}function W(V){return function(ie,F,ce){const $e=-1*ce,At=On(F,st.MinusSign),$t=$e>0?Math.floor($e/60):Math.ceil($e/60);switch(V){case It.Short:return($e>=0?"+":"")+wt($t,2,At)+wt(Math.abs($e%60),2,At);case It.ShortGMT:return"GMT"+($e>=0?"+":"")+wt($t,1,At);case It.Long:return"GMT"+($e>=0?"+":"")+wt($t,2,At)+":"+wt(Math.abs($e%60),2,At);case It.Extended:return 0===ce?"Z":($e>=0?"+":"")+wt($t,2,At)+":"+wt(Math.abs($e%60),2,At);default:throw new Error(`Unknown zone width "${V}"`)}}}function vt(V){return Oe(V.getFullYear(),V.getMonth(),V.getDate()+(4-V.getDay()))}function Ft(V,ie=!1){return function(F,ce){let $e;if(ie){const At=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,$t=F.getDate();$e=1+Math.floor(($t+At)/7)}else{const At=vt(F),$t=function Le(V){const ie=Oe(V,0,1).getDay();return Oe(V,0,1+(ie<=4?4:11)-ie)}(At.getFullYear()),Pn=At.getTime()-$t.getTime();$e=1+Math.round(Pn/6048e5)}return wt($e,V,On(ce,st.MinusSign))}}function he(V,ie=!1){return function(F,ce){return wt(vt(F).getFullYear(),V,On(ce,st.MinusSign),ie)}}const fe={};function _e(V,ie){V=V.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+V)/6e4;return isNaN(F)?ie:F}function xe(V){return V instanceof Date&&!isNaN(V.valueOf())}function Oi(V,ie){ie=encodeURIComponent(ie);for(const F of V.split(";")){const ce=F.indexOf("="),[$e,At]=-1==ce?[F,""]:[F.slice(0,ce),F.slice(ce+1)];if($e.trim()===ie)return decodeURIComponent(At)}return null}let Bi=(()=>{class V{constructor(F,ce,$e,At){this._iterableDiffers=F,this._keyValueDiffers=ce,this._ngEl=$e,this._renderer=At,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(F){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof F?F.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(F){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof F?F.split(/\s+/):F,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const F=this._iterableDiffer.diff(this._rawClass);F&&this._applyIterableChanges(F)}else if(this._keyValueDiffer){const F=this._keyValueDiffer.diff(this._rawClass);F&&this._applyKeyValueChanges(F)}}_applyKeyValueChanges(F){F.forEachAddedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),F.forEachChangedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),F.forEachRemovedItem(ce=>{ce.previousValue&&this._toggleClass(ce.key,!1)})}_applyIterableChanges(F){F.forEachAddedItem(ce=>{if("string"!=typeof ce.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(ce.item)}`);this._toggleClass(ce.item,!0)}),F.forEachRemovedItem(ce=>this._toggleClass(ce.item,!1))}_applyClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(ce=>this._toggleClass(ce,!0)):Object.keys(F).forEach(ce=>this._toggleClass(ce,!!F[ce])))}_removeClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(ce=>this._toggleClass(ce,!1)):Object.keys(F).forEach(ce=>this._toggleClass(ce,!1)))}_toggleClass(F,ce){(F=F.trim())&&F.split(/\s+/g).forEach($e=>{ce?this._renderer.addClass(this._ngEl.nativeElement,$e):this._renderer.removeClass(this._ngEl.nativeElement,$e)})}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),V})();class rr{constructor(ie,F,ce,$e){this.$implicit=ie,this.ngForOf=F,this.index=ce,this.count=$e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let St=(()=>{class V{constructor(F,ce,$e){this._viewContainer=F,this._template=ce,this._differs=$e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const ce=this._viewContainer;F.forEachOperation(($e,At,$t)=>{if(null==$e.previousIndex)ce.createEmbeddedView(this._template,new rr($e.item,this._ngForOf,-1,-1),null===$t?void 0:$t);else if(null==$t)ce.remove(null===At?void 0:At);else if(null!==At){const Pn=ce.get(At);ce.move(Pn,$t),or(Pn,$e)}});for(let $e=0,At=ce.length;$e<At;$e++){const Pn=ce.get($e).context;Pn.index=$e,Pn.count=At,Pn.ngForOf=this._ngForOf}F.forEachIdentityChange($e=>{or(ce.get($e.currentIndex),$e)})}static ngTemplateContextGuard(F,ce){return!0}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),V})();function or(V,ie){V.context.$implicit=ie.item}let Dr=(()=>{class V{constructor(F,ce){this._viewContainer=F,this._context=new _i,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){Gr("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){Gr("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,ce){return!0}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.s_b),f.Y36(f.Rgc))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V})();class _i{constructor(){this.$implicit=null,this.ngIf=null}}function Gr(V,ie){if(ie&&!ie.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,f.AaK)(ie)}'.`)}class Ur{constructor(ie,F){this._viewContainerRef=ie,this._templateRef=F,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ie){ie&&!this._created?this.create():!ie&&this._created&&this.destroy()}}let Ji=(()=>{class V{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(F){this._ngSwitch=F,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(F){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(F)}_matchCase(F){const ce=F==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ce,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ce}_updateDefaultCases(F){if(this._defaultViews&&F!==this._defaultUsed){this._defaultUsed=F;for(let ce=0;ce<this._defaultViews.length;ce++)this._defaultViews[ce].enforceState(F)}}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275dir=f.lG2({type:V,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),V})(),Ir=(()=>{class V{constructor(F,ce,$e){this.ngSwitch=$e,$e._addCase(),this._view=new Ur(F,ce)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Ji,9))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),V})(),zr=(()=>{class V{constructor(F,ce,$e){$e._addDefault(new Ur(F,ce))}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Ji,9))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngSwitchDefault",""]]}),V})(),Es=(()=>{class V{constructor(F,ce,$e){this._ngEl=F,this._differs=ce,this._renderer=$e,this._ngStyle=null,this._differ=null}set ngStyle(F){this._ngStyle=F,!this._differ&&F&&(this._differ=this._differs.find(F).create())}ngDoCheck(){if(this._differ){const F=this._differ.diff(this._ngStyle);F&&this._applyChanges(F)}}_setStyle(F,ce){const[$e,At]=F.split(".");null!=(ce=null!=ce&&At?`${ce}${At}`:ce)?this._renderer.setStyle(this._ngEl.nativeElement,$e,ce):this._renderer.removeStyle(this._ngEl.nativeElement,$e)}_applyChanges(F){F.forEachRemovedItem(ce=>this._setStyle(ce.key,null)),F.forEachAddedItem(ce=>this._setStyle(ce.key,ce.currentValue)),F.forEachChangedItem(ce=>this._setStyle(ce.key,ce.currentValue))}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),V})(),gs=(()=>{class V{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(F){if(F.ngTemplateOutlet){const ce=this._viewContainerRef;this._viewRef&&ce.remove(ce.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ce.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.s_b))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[f.TTD]}),V})();function Xi(V,ie){return new f.vHH(2100,"")}class bo{createSubscription(ie,F){return ie.subscribe({next:F,error:ce=>{throw ce}})}dispose(ie){ie.unsubscribe()}onDestroy(ie){ie.unsubscribe()}}class ot{createSubscription(ie,F){return ie.then(F,ce=>{throw ce})}dispose(ie){}onDestroy(ie){}}const Ye=new ot,gt=new bo;let Bt=(()=>{class V{constructor(F){this._ref=F,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,ce=>this._updateLatestValue(F,ce))}_selectStrategy(F){if((0,f.QGY)(F))return Ye;if((0,f.F4k)(F))return gt;throw Xi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,ce){F===this._obj&&(this._latestValue=ce,this._ref.markForCheck())}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.sBO,16))},V.\u0275pipe=f.Yjl({name:"async",type:V,pure:!1}),V})();const En=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let $n=(()=>{class V{transform(F){if(null==F)return null;if("string"!=typeof F)throw Xi();return F.replace(En,ce=>ce[0].toUpperCase()+ce.substr(1).toLowerCase())}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275pipe=f.Yjl({name:"titlecase",type:V,pure:!0}),V})(),qi=(()=>{class V{transform(F){if(null==F)return null;if("string"!=typeof F)throw Xi();return F.toUpperCase()}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275pipe=f.Yjl({name:"uppercase",type:V,pure:!0}),V})();const Ri=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let us=(()=>{class V{constructor(F,ce){this.locale=F,this.defaultTimezone=ce}transform(F,ce="mediumDate",$e,At){var $t;if(null==F||""===F||F!=F)return null;try{return Re(F,ce,At||this.locale,null!==($t=null!=$e?$e:this.defaultTimezone)&&void 0!==$t?$t:void 0)}catch(Pn){throw Xi()}}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.soG,16),f.Y36(Ri,24))},V.\u0275pipe=f.Yjl({name:"date",type:V,pure:!0}),V})(),es=(()=>{class V{}return V.\u0275fac=function(F){return new(F||V)},V.\u0275mod=f.oAB({type:V}),V.\u0275inj=f.cJS({}),V})();const ta="browser";function Ni(V){return V===ta}function Or(V){return"server"===V}let vr=(()=>{class V{}return V.\u0275prov=(0,f.Yz7)({token:V,providedIn:"root",factory:()=>new wo((0,f.LFG)(me),window)}),V})();class wo{constructor(ie,F){this.document=ie,this.window=F,this.offset=()=>[0,0]}setOffset(ie){this.offset=Array.isArray(ie)?()=>ie:ie}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ie){this.supportsScrolling()&&this.window.scrollTo(ie[0],ie[1])}scrollToAnchor(ie){if(!this.supportsScrolling())return;const F=function Wn(V,ie){const F=V.getElementById(ie)||V.getElementsByName(ie)[0];if(F)return F;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const ce=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let $e=ce.currentNode;for(;$e;){const At=$e.shadowRoot;if(At){const $t=At.getElementById(ie)||At.querySelector(`[name="${ie}"]`);if($t)return $t}$e=ce.nextNode()}}return null}(this.document,ie);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(ie){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=ie)}}scrollToElement(ie){const F=ie.getBoundingClientRect(),ce=F.left+this.window.pageXOffset,$e=F.top+this.window.pageYOffset,At=this.offset();this.window.scrollTo(ce-At[0],$e-At[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ie=Si(this.window.history)||Si(Object.getPrototypeOf(this.window.history));return!(!ie||!ie.writable&&!ie.set)}catch(ie){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ie){return!1}}}function Si(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class Fi{}},520:(qt,We,x)=>{x.d(We,{JF:()=>rn,TP:()=>tn,eN:()=>st});var f=x(9808),h=x(5e3),G=x(9646),Ce=x(8306),ve=x(4351),Ne=x(9300),me=x(4004);class ue{}class Z{}class q{constructor(Ve){this.normalizedNames=new Map,this.lazyUpdate=null,Ve?this.lazyInit="string"==typeof Ve?()=>{this.headers=new Map,Ve.split("\n").forEach(Ge=>{const Ut=Ge.indexOf(":");if(Ut>0){const It=Ge.slice(0,Ut),Nt=It.toLowerCase(),Zt=Ge.slice(Ut+1).trim();this.maybeSetNormalizedName(It,Nt),this.headers.has(Nt)?this.headers.get(Nt).push(Zt):this.headers.set(Nt,[Zt])}})}:()=>{this.headers=new Map,Object.keys(Ve).forEach(Ge=>{let Ut=Ve[Ge];const It=Ge.toLowerCase();"string"==typeof Ut&&(Ut=[Ut]),Ut.length>0&&(this.headers.set(It,Ut),this.maybeSetNormalizedName(Ge,It))})}:this.headers=new Map}has(Ve){return this.init(),this.headers.has(Ve.toLowerCase())}get(Ve){this.init();const Ge=this.headers.get(Ve.toLowerCase());return Ge&&Ge.length>0?Ge[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ve){return this.init(),this.headers.get(Ve.toLowerCase())||null}append(Ve,Ge){return this.clone({name:Ve,value:Ge,op:"a"})}set(Ve,Ge){return this.clone({name:Ve,value:Ge,op:"s"})}delete(Ve,Ge){return this.clone({name:Ve,value:Ge,op:"d"})}maybeSetNormalizedName(Ve,Ge){this.normalizedNames.has(Ge)||this.normalizedNames.set(Ge,Ve)}init(){this.lazyInit&&(this.lazyInit instanceof q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ve=>this.applyUpdate(Ve)),this.lazyUpdate=null))}copyFrom(Ve){Ve.init(),Array.from(Ve.headers.keys()).forEach(Ge=>{this.headers.set(Ge,Ve.headers.get(Ge)),this.normalizedNames.set(Ge,Ve.normalizedNames.get(Ge))})}clone(Ve){const Ge=new q;return Ge.lazyInit=this.lazyInit&&this.lazyInit instanceof q?this.lazyInit:this,Ge.lazyUpdate=(this.lazyUpdate||[]).concat([Ve]),Ge}applyUpdate(Ve){const Ge=Ve.name.toLowerCase();switch(Ve.op){case"a":case"s":let Ut=Ve.value;if("string"==typeof Ut&&(Ut=[Ut]),0===Ut.length)return;this.maybeSetNormalizedName(Ve.name,Ge);const It=("a"===Ve.op?this.headers.get(Ge):void 0)||[];It.push(...Ut),this.headers.set(Ge,It);break;case"d":const Nt=Ve.value;if(Nt){let Zt=this.headers.get(Ge);if(!Zt)return;Zt=Zt.filter(Re=>-1===Nt.indexOf(Re)),0===Zt.length?(this.headers.delete(Ge),this.normalizedNames.delete(Ge)):this.headers.set(Ge,Zt)}else this.headers.delete(Ge),this.normalizedNames.delete(Ge)}}forEach(Ve){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ge=>Ve(this.normalizedNames.get(Ge),this.headers.get(Ge)))}}class se{encodeKey(Ve){return lt(Ve)}encodeValue(Ve){return lt(Ve)}decodeKey(Ve){return decodeURIComponent(Ve)}decodeValue(Ve){return decodeURIComponent(Ve)}}const at=/%(\d[a-f0-9])/gi,ke={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function lt(Ot){return encodeURIComponent(Ot).replace(at,(Ve,Ge)=>{var Ut;return null!==(Ut=ke[Ge])&&void 0!==Ut?Ut:Ve})}function ut(Ot){return`${Ot}`}class ze{constructor(Ve={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ve.encoder||new se,Ve.fromString){if(Ve.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Te(Ot,Ve){const Ge=new Map;return Ot.length>0&&Ot.replace(/^\?/,"").split("&").forEach(It=>{const Nt=It.indexOf("="),[Zt,Re]=-1==Nt?[Ve.decodeKey(It),""]:[Ve.decodeKey(It.slice(0,Nt)),Ve.decodeValue(It.slice(Nt+1))],Oe=Ge.get(Zt)||[];Oe.push(Re),Ge.set(Zt,Oe)}),Ge}(Ve.fromString,this.encoder)}else Ve.fromObject?(this.map=new Map,Object.keys(Ve.fromObject).forEach(Ge=>{const Ut=Ve.fromObject[Ge];this.map.set(Ge,Array.isArray(Ut)?Ut:[Ut])})):this.map=null}has(Ve){return this.init(),this.map.has(Ve)}get(Ve){this.init();const Ge=this.map.get(Ve);return Ge?Ge[0]:null}getAll(Ve){return this.init(),this.map.get(Ve)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ve,Ge){return this.clone({param:Ve,value:Ge,op:"a"})}appendAll(Ve){const Ge=[];return Object.keys(Ve).forEach(Ut=>{const It=Ve[Ut];Array.isArray(It)?It.forEach(Nt=>{Ge.push({param:Ut,value:Nt,op:"a"})}):Ge.push({param:Ut,value:It,op:"a"})}),this.clone(Ge)}set(Ve,Ge){return this.clone({param:Ve,value:Ge,op:"s"})}delete(Ve,Ge){return this.clone({param:Ve,value:Ge,op:"d"})}toString(){return this.init(),this.keys().map(Ve=>{const Ge=this.encoder.encodeKey(Ve);return this.map.get(Ve).map(Ut=>Ge+"="+this.encoder.encodeValue(Ut)).join("&")}).filter(Ve=>""!==Ve).join("&")}clone(Ve){const Ge=new ze({encoder:this.encoder});return Ge.cloneFrom=this.cloneFrom||this,Ge.updates=(this.updates||[]).concat(Ve),Ge}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ve=>this.map.set(Ve,this.cloneFrom.map.get(Ve))),this.updates.forEach(Ve=>{switch(Ve.op){case"a":case"s":const Ge=("a"===Ve.op?this.map.get(Ve.param):void 0)||[];Ge.push(ut(Ve.value)),this.map.set(Ve.param,Ge);break;case"d":if(void 0===Ve.value){this.map.delete(Ve.param);break}{let Ut=this.map.get(Ve.param)||[];const It=Ut.indexOf(ut(Ve.value));-1!==It&&Ut.splice(It,1),Ut.length>0?this.map.set(Ve.param,Ut):this.map.delete(Ve.param)}}}),this.cloneFrom=this.updates=null)}}class Be{constructor(){this.map=new Map}set(Ve,Ge){return this.map.set(Ve,Ge),this}get(Ve){return this.map.has(Ve)||this.map.set(Ve,Ve.defaultValue()),this.map.get(Ve)}delete(Ve){return this.map.delete(Ve),this}has(Ve){return this.map.has(Ve)}keys(){return this.map.keys()}}function pe(Ot){return"undefined"!=typeof ArrayBuffer&&Ot instanceof ArrayBuffer}function be(Ot){return"undefined"!=typeof Blob&&Ot instanceof Blob}function Qe(Ot){return"undefined"!=typeof FormData&&Ot instanceof FormData}class Y{constructor(Ve,Ge,Ut,It){let Nt;if(this.url=Ge,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ve.toUpperCase(),function ft(Ot){switch(Ot){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||It?(this.body=void 0!==Ut?Ut:null,Nt=It):Nt=Ut,Nt&&(this.reportProgress=!!Nt.reportProgress,this.withCredentials=!!Nt.withCredentials,Nt.responseType&&(this.responseType=Nt.responseType),Nt.headers&&(this.headers=Nt.headers),Nt.context&&(this.context=Nt.context),Nt.params&&(this.params=Nt.params)),this.headers||(this.headers=new q),this.context||(this.context=new Be),this.params){const Zt=this.params.toString();if(0===Zt.length)this.urlWithParams=Ge;else{const Re=Ge.indexOf("?");this.urlWithParams=Ge+(-1===Re?"?":Re<Ge.length-1?"&":"")+Zt}}else this.params=new ze,this.urlWithParams=Ge}serializeBody(){return null===this.body?null:pe(this.body)||be(this.body)||Qe(this.body)||function bt(Ot){return"undefined"!=typeof URLSearchParams&&Ot instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qe(this.body)?null:be(this.body)?this.body.type||null:pe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ve={}){var Ge;const Ut=Ve.method||this.method,It=Ve.url||this.url,Nt=Ve.responseType||this.responseType,Zt=void 0!==Ve.body?Ve.body:this.body,Re=void 0!==Ve.withCredentials?Ve.withCredentials:this.withCredentials,Oe=void 0!==Ve.reportProgress?Ve.reportProgress:this.reportProgress;let we=Ve.headers||this.headers,Ke=Ve.params||this.params;const wt=null!==(Ge=Ve.context)&&void 0!==Ge?Ge:this.context;return void 0!==Ve.setHeaders&&(we=Object.keys(Ve.setHeaders).reduce((Mt,Tt)=>Mt.set(Tt,Ve.setHeaders[Tt]),we)),Ve.setParams&&(Ke=Object.keys(Ve.setParams).reduce((Mt,Tt)=>Mt.set(Tt,Ve.setParams[Tt]),Ke)),new Y(Ut,It,Zt,{params:Ke,headers:we,context:wt,reportProgress:Oe,responseType:Nt,withCredentials:Re})}}var Je=(()=>((Je=Je||{})[Je.Sent=0]="Sent",Je[Je.UploadProgress=1]="UploadProgress",Je[Je.ResponseHeader=2]="ResponseHeader",Je[Je.DownloadProgress=3]="DownloadProgress",Je[Je.Response=4]="Response",Je[Je.User=5]="User",Je))();class nt{constructor(Ve,Ge=200,Ut="OK"){this.headers=Ve.headers||new q,this.status=void 0!==Ve.status?Ve.status:Ge,this.statusText=Ve.statusText||Ut,this.url=Ve.url||null,this.ok=this.status>=200&&this.status<300}}class Fe extends nt{constructor(Ve={}){super(Ve),this.type=Je.ResponseHeader}clone(Ve={}){return new Fe({headers:Ve.headers||this.headers,status:void 0!==Ve.status?Ve.status:this.status,statusText:Ve.statusText||this.statusText,url:Ve.url||this.url||void 0})}}class Ue extends nt{constructor(Ve={}){super(Ve),this.type=Je.Response,this.body=void 0!==Ve.body?Ve.body:null}clone(Ve={}){return new Ue({body:void 0!==Ve.body?Ve.body:this.body,headers:Ve.headers||this.headers,status:void 0!==Ve.status?Ve.status:this.status,statusText:Ve.statusText||this.statusText,url:Ve.url||this.url||void 0})}}class Xe extends nt{constructor(Ve){super(Ve,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ve.url||"(unknown url)"}`:`Http failure response for ${Ve.url||"(unknown url)"}: ${Ve.status} ${Ve.statusText}`,this.error=Ve.error||null}}function it(Ot,Ve){return{body:Ve,headers:Ot.headers,context:Ot.context,observe:Ot.observe,params:Ot.params,reportProgress:Ot.reportProgress,responseType:Ot.responseType,withCredentials:Ot.withCredentials}}let st=(()=>{class Ot{constructor(Ge){this.handler=Ge}request(Ge,Ut,It={}){let Nt;if(Ge instanceof Y)Nt=Ge;else{let Oe,we;Oe=It.headers instanceof q?It.headers:new q(It.headers),It.params&&(we=It.params instanceof ze?It.params:new ze({fromObject:It.params})),Nt=new Y(Ge,Ut,void 0!==It.body?It.body:null,{headers:Oe,context:It.context,params:we,reportProgress:It.reportProgress,responseType:It.responseType||"json",withCredentials:It.withCredentials})}const Zt=(0,G.of)(Nt).pipe((0,ve.b)(Oe=>this.handler.handle(Oe)));if(Ge instanceof Y||"events"===It.observe)return Zt;const Re=Zt.pipe((0,Ne.h)(Oe=>Oe instanceof Ue));switch(It.observe||"body"){case"body":switch(Nt.responseType){case"arraybuffer":return Re.pipe((0,me.U)(Oe=>{if(null!==Oe.body&&!(Oe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Oe.body}));case"blob":return Re.pipe((0,me.U)(Oe=>{if(null!==Oe.body&&!(Oe.body instanceof Blob))throw new Error("Response is not a Blob.");return Oe.body}));case"text":return Re.pipe((0,me.U)(Oe=>{if(null!==Oe.body&&"string"!=typeof Oe.body)throw new Error("Response is not a string.");return Oe.body}));default:return Re.pipe((0,me.U)(Oe=>Oe.body))}case"response":return Re;default:throw new Error(`Unreachable: unhandled observe type ${It.observe}}`)}}delete(Ge,Ut={}){return this.request("DELETE",Ge,Ut)}get(Ge,Ut={}){return this.request("GET",Ge,Ut)}head(Ge,Ut={}){return this.request("HEAD",Ge,Ut)}jsonp(Ge,Ut){return this.request("JSONP",Ge,{params:(new ze).append(Ut,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ge,Ut={}){return this.request("OPTIONS",Ge,Ut)}patch(Ge,Ut,It={}){return this.request("PATCH",Ge,it(It,Ut))}post(Ge,Ut,It={}){return this.request("POST",Ge,it(It,Ut))}put(Ge,Ut,It={}){return this.request("PUT",Ge,it(It,Ut))}}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)(h.LFG(ue))},Ot.\u0275prov=h.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();class xt{constructor(Ve,Ge){this.next=Ve,this.interceptor=Ge}handle(Ve){return this.interceptor.intercept(Ve,this.next)}}const tn=new h.OlP("HTTP_INTERCEPTORS");let pt=(()=>{class Ot{intercept(Ge,Ut){return Ut.handle(Ge)}}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)},Ot.\u0275prov=h.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const On=/^\)\]\}',?\n/;let Jn=(()=>{class Ot{constructor(Ge){this.xhrFactory=Ge}handle(Ge){if("JSONP"===Ge.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ce.y(Ut=>{const It=this.xhrFactory.build();if(It.open(Ge.method,Ge.urlWithParams),Ge.withCredentials&&(It.withCredentials=!0),Ge.headers.forEach((Tt,_n)=>It.setRequestHeader(Tt,_n.join(","))),Ge.headers.has("Accept")||It.setRequestHeader("Accept","application/json, text/plain, */*"),!Ge.headers.has("Content-Type")){const Tt=Ge.detectContentTypeHeader();null!==Tt&&It.setRequestHeader("Content-Type",Tt)}if(Ge.responseType){const Tt=Ge.responseType.toLowerCase();It.responseType="json"!==Tt?Tt:"text"}const Nt=Ge.serializeBody();let Zt=null;const Re=()=>{if(null!==Zt)return Zt;const Tt=It.statusText||"OK",_n=new q(It.getAllResponseHeaders()),fn=function Vn(Ot){return"responseURL"in Ot&&Ot.responseURL?Ot.responseURL:/^X-Request-URL:/m.test(Ot.getAllResponseHeaders())?Ot.getResponseHeader("X-Request-URL"):null}(It)||Ge.url;return Zt=new Fe({headers:_n,status:It.status,statusText:Tt,url:fn}),Zt},Oe=()=>{let{headers:Tt,status:_n,statusText:fn,url:pn}=Re(),W=null;204!==_n&&(W=void 0===It.response?It.responseText:It.response),0===_n&&(_n=W?200:0);let de=_n>=200&&_n<300;if("json"===Ge.responseType&&"string"==typeof W){const Ee=W;W=W.replace(On,"");try{W=""!==W?JSON.parse(W):null}catch(Le){W=Ee,de&&(de=!1,W={error:Le,text:W})}}de?(Ut.next(new Ue({body:W,headers:Tt,status:_n,statusText:fn,url:pn||void 0})),Ut.complete()):Ut.error(new Xe({error:W,headers:Tt,status:_n,statusText:fn,url:pn||void 0}))},we=Tt=>{const{url:_n}=Re(),fn=new Xe({error:Tt,status:It.status||0,statusText:It.statusText||"Unknown Error",url:_n||void 0});Ut.error(fn)};let Ke=!1;const wt=Tt=>{Ke||(Ut.next(Re()),Ke=!0);let _n={type:Je.DownloadProgress,loaded:Tt.loaded};Tt.lengthComputable&&(_n.total=Tt.total),"text"===Ge.responseType&&!!It.responseText&&(_n.partialText=It.responseText),Ut.next(_n)},Mt=Tt=>{let _n={type:Je.UploadProgress,loaded:Tt.loaded};Tt.lengthComputable&&(_n.total=Tt.total),Ut.next(_n)};return It.addEventListener("load",Oe),It.addEventListener("error",we),It.addEventListener("timeout",we),It.addEventListener("abort",we),Ge.reportProgress&&(It.addEventListener("progress",wt),null!==Nt&&It.upload&&It.upload.addEventListener("progress",Mt)),It.send(Nt),Ut.next({type:Je.Sent}),()=>{It.removeEventListener("error",we),It.removeEventListener("abort",we),It.removeEventListener("load",Oe),It.removeEventListener("timeout",we),Ge.reportProgress&&(It.removeEventListener("progress",wt),null!==Nt&&It.upload&&It.upload.removeEventListener("progress",Mt)),It.readyState!==It.DONE&&It.abort()}})}}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)(h.LFG(f.JF))},Ot.\u0275prov=h.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const jn=new h.OlP("XSRF_COOKIE_NAME"),ci=new h.OlP("XSRF_HEADER_NAME");class Yn{}let Ai=(()=>{class Ot{constructor(Ge,Ut,It){this.doc=Ge,this.platform=Ut,this.cookieName=It,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ge=this.doc.cookie||"";return Ge!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(Ge,this.cookieName),this.lastCookieString=Ge),this.lastToken}}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)(h.LFG(f.K0),h.LFG(h.Lbi),h.LFG(jn))},Ot.\u0275prov=h.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),Mn=(()=>{class Ot{constructor(Ge,Ut){this.tokenService=Ge,this.headerName=Ut}intercept(Ge,Ut){const It=Ge.url.toLowerCase();if("GET"===Ge.method||"HEAD"===Ge.method||It.startsWith("http://")||It.startsWith("https://"))return Ut.handle(Ge);const Nt=this.tokenService.getToken();return null!==Nt&&!Ge.headers.has(this.headerName)&&(Ge=Ge.clone({headers:Ge.headers.set(this.headerName,Nt)})),Ut.handle(Ge)}}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)(h.LFG(Yn),h.LFG(ci))},Ot.\u0275prov=h.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),bi=(()=>{class Ot{constructor(Ge,Ut){this.backend=Ge,this.injector=Ut,this.chain=null}handle(Ge){if(null===this.chain){const Ut=this.injector.get(tn,[]);this.chain=Ut.reduceRight((It,Nt)=>new xt(It,Nt),this.backend)}return this.chain.handle(Ge)}}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)(h.LFG(Z),h.LFG(h.zs3))},Ot.\u0275prov=h.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),ti=(()=>{class Ot{static disable(){return{ngModule:Ot,providers:[{provide:Mn,useClass:pt}]}}static withOptions(Ge={}){return{ngModule:Ot,providers:[Ge.cookieName?{provide:jn,useValue:Ge.cookieName}:[],Ge.headerName?{provide:ci,useValue:Ge.headerName}:[]]}}}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)},Ot.\u0275mod=h.oAB({type:Ot}),Ot.\u0275inj=h.cJS({providers:[Mn,{provide:tn,useExisting:Mn,multi:!0},{provide:Yn,useClass:Ai},{provide:jn,useValue:"XSRF-TOKEN"},{provide:ci,useValue:"X-XSRF-TOKEN"}]}),Ot})(),rn=(()=>{class Ot{}return Ot.\u0275fac=function(Ge){return new(Ge||Ot)},Ot.\u0275mod=h.oAB({type:Ot}),Ot.\u0275inj=h.cJS({providers:[st,{provide:ue,useClass:bi},Jn,{provide:Z,useExisting:Jn}],imports:[[ti.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ot})()},5e3:(qt,We,x)=>{x.d(We,{$8M:()=>Mo,$Z:()=>yp,AFp:()=>R0,ALo:()=>e0,AaK:()=>ue,Akn:()=>Ho,AsE:()=>au,BQk:()=>Tc,CHM:()=>dl,CRH:()=>d0,CZH:()=>gv,CqO:()=>Ep,DdM:()=>z_,EJc:()=>yw,EiD:()=>Cl,EpF:()=>qu,F$t:()=>wp,F4k:()=>Zc,FYo:()=>L_,FiY:()=>Us,G48:()=>Bw,Gf:()=>u0,GfV:()=>F_,GkF:()=>_p,Gpc:()=>se,Gre:()=>Gy,Hsn:()=>Cp,JOm:()=>ps,JVY:()=>El,Jf7:()=>fs,L6J:()=>fw,L6k:()=>Nu,LAX:()=>Gl,LFG:()=>un,LSH:()=>Tl,Lbi:()=>pw,MAs:()=>jg,NdJ:()=>Ud,O4$:()=>va,OlP:()=>_r,Oqu:()=>kp,PXZ:()=>Pw,Q6J:()=>ru,QGY:()=>Wc,Qsj:()=>fb,R0b:()=>xu,RDi:()=>Si,Rgc:()=>zp,SBq:()=>Hp,Sil:()=>_w,Suo:()=>c0,TTD:()=>Ps,TgZ:()=>ou,Tol:()=>Qc,Udp:()=>Yc,VKq:()=>W_,VLi:()=>xw,W1O:()=>g0,WLB:()=>Z_,X6Q:()=>Uw,XFs:()=>on,Xpm:()=>vt,Y36:()=>Fd,YKP:()=>H_,YNc:()=>Hg,Yjl:()=>ne,Yz7:()=>Ht,ZZ4:()=>xv,_Bn:()=>R_,_UZ:()=>vp,_Vd:()=>Tm,_c5:()=>nC,_uU:()=>$y,aQg:()=>Ov,c2e:()=>gw,cJS:()=>yn,cg1:()=>Wy,d8E:()=>zy,dDg:()=>U0,deG:()=>Ua,dqk:()=>we,eBb:()=>pu,eFA:()=>j0,ekj:()=>Pp,g9A:()=>k0,gxx:()=>Hc,h0i:()=>Yh,hGG:()=>iC,hYB:()=>Tp,hij:()=>Zd,iGM:()=>l0,ifc:()=>It,ip1:()=>P0,kEZ:()=>K_,kL8:()=>o_,kYT:()=>X,kcU:()=>ji,lG2:()=>ee,lcZ:()=>t0,lnq:()=>Lp,mCW:()=>Wl,n5z:()=>Xs,oAB:()=>_e,oJD:()=>Mc,oxw:()=>bp,pB0:()=>zl,pfw:()=>hw,q3G:()=>Fn,q4F:()=>V_,qLn:()=>Lr,qOj:()=>np,qZA:()=>Cc,qzn:()=>yo,s9C:()=>Hd,sBO:()=>Hw,sIi:()=>Md,s_b:()=>Sm,soG:()=>yv,tBr:()=>Qo,tb:()=>L0,tp0:()=>Ca,uIk:()=>Ki,vHH:()=>lt,vpe:()=>Yu,wAp:()=>hi,xp6:()=>gf,yhl:()=>nc,ynx:()=>Vd,z2F:()=>Cv,z3N:()=>ha,zSh:()=>Dd,zs3:()=>tu});var f=x(7579),h=x(727),G=x(8306),Ce=x(6451),ve=x(3099);function Ne(n){for(let i in n)if(n[i]===Ne)return i;throw Error("Could not find renamed property on target object.")}function me(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Z(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const q=Ne({__forward_ref__:Ne});function se(n){return n.__forward_ref__=se,n.toString=function(){return ue(this())},n}function Te(n){return at(n)?n():n}function at(n){return"function"==typeof n&&n.hasOwnProperty(q)&&n.__forward_ref__===se}class lt extends Error{constructor(i,s){super(function ut(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function ze(n){return"string"==typeof n?n:null==n?"":String(n)}function dt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ze(n)}function be(n,i){const s=i?` in ${i}`:"";throw new lt(-201,`No provider for ${dt(n)} found${s}`)}function mt(n,i){null==n&&function Q(n,i,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function Ht(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function yn(n){return{providers:n.providers||[],imports:n.imports||[]}}function On(n){return Vn(n,Yn)||Vn(n,Mn)}function Vn(n,i){return n.hasOwnProperty(i)?n[i]:null}function ci(n){return n&&(n.hasOwnProperty(Ai)||n.hasOwnProperty(bi))?n[Ai]:null}const Yn=Ne({\u0275prov:Ne}),Ai=Ne({\u0275inj:Ne}),Mn=Ne({ngInjectableDef:Ne}),bi=Ne({ngInjectorDef:Ne});var on=(()=>((on=on||{})[on.Default=0]="Default",on[on.Host=1]="Host",on[on.Self=2]="Self",on[on.SkipSelf=4]="SkipSelf",on[on.Optional=8]="Optional",on))();let Li;function rn(n){const i=Li;return Li=n,i}function Ui(n,i,s){const l=On(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&on.Optional?null:void 0!==i?i:void be(ue(n),"Injector")}function Ot(n){return{toString:n}.toString()}var Ve=(()=>((Ve=Ve||{})[Ve.OnPush=0]="OnPush",Ve[Ve.Default=1]="Default",Ve))(),It=(()=>{return(n=It||(It={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",It;var n})();const Nt="undefined"!=typeof globalThis&&globalThis,Zt="undefined"!=typeof window&&window,Re="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,we=Nt||"undefined"!=typeof global&&global||Zt||Re,Mt={},Tt=[],_n=Ne({\u0275cmp:Ne}),fn=Ne({\u0275dir:Ne}),pn=Ne({\u0275pipe:Ne}),W=Ne({\u0275mod:Ne}),de=Ne({\u0275fac:Ne}),Ee=Ne({__NG_ELEMENT_ID__:Ne});let Le=0;function vt(n){return Ot(()=>{const s={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ve.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Tt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||It.Emulated,id:"c",styles:n.styles||Tt,_:null,setInput:null,schemas:n.schemas||null,tView:null},d=n.directives,y=n.features,b=n.pipes;return l.id+=Le++,l.inputs=$(n.inputs,s),l.outputs=$(n.outputs),y&&y.forEach(I=>I(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(he):null,l.pipeDefs=b?()=>("function"==typeof b?b():b).map(fe):null,l})}function he(n){return xe(n)||function et(n){return n[fn]||null}(n)}function fe(n){return function Lt(n){return n[pn]||null}(n)}const Me={};function _e(n){return Ot(()=>{const i={type:n.type,bootstrap:n.bootstrap||Tt,declarations:n.declarations||Tt,imports:n.imports||Tt,exports:n.exports||Tt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Me[n.id]=n.type),i})}function X(n,i){return Ot(()=>{const s=Vt(n,!0);s.declarations=i.declarations||Tt,s.imports=i.imports||Tt,s.exports=i.exports||Tt})}function $(n,i){if(null==n)return Mt;const s={};for(const l in n)if(n.hasOwnProperty(l)){let d=n[l],y=d;Array.isArray(d)&&(y=d[1],d=d[0]),s[d]=l,i&&(i[d]=y)}return s}const ee=vt;function ne(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function xe(n){return n[_n]||null}function Vt(n,i){const s=n[W]||null;if(!s&&!0===i)throw new Error(`Type ${ue(n)} does not have '\u0275mod' property.`);return s}function Ji(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ir(n){return Array.isArray(n)&&!0===n[1]}function zr(n){return 0!=(8&n.flags)}function Wr(n){return 2==(2&n.flags)}function ls(n){return 1==(1&n.flags)}function Zr(n){return null!==n.template}function Es(n){return 0!=(512&n[2])}function Qn(n,i){return n.hasOwnProperty(de)?n[de]:null}class bs{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ps(){return ms}function ms(n){return n.type.prototype.ngOnChanges&&(n.setInput=Go),Aa}function Aa(){const n=ta(this),i=null==n?void 0:n.current;if(i){const s=n.previous;if(s===Mt)n.previous=i;else for(let l in i)s[l]=i[l];n.current=null,this.ngOnChanges(i)}}function Go(n,i,s,l){const d=ta(n)||function qr(n,i){return n[es]=i}(n,{previous:Mt,current:null}),y=d.current||(d.current={}),b=d.previous,I=this.declaredInputs[s],P=b[I];y[I]=new bs(P&&P.currentValue,i,b===Mt),n[l]=i}Ps.ngInherit=!0;const es="__ngSimpleChanges__";function ta(n){return n[es]||null}let wo;function Si(n){wo=n}function Wn(){return void 0!==wo?wo:"undefined"!=typeof document?document:void 0}function Fi(n){return!!n.listen}const V={createRenderer:(n,i)=>Wn()};function F(n){for(;Array.isArray(n);)n=n[0];return n}function At(n,i){return F(i[n])}function $t(n,i){return F(i[n.index])}function Gn(n,i){return n.data[i]}function mi(n,i){return n[i]}function ei(n,i){const s=i[n];return Ji(s)?s:s[0]}function fi(n){return 4==(4&n[2])}function er(n){return 128==(128&n[2])}function Vi(n,i){return null==i?null:n[i]}function B(n){n[18]=0}function N(n,i){n[5]+=i;let s=n,l=n[3];for(;null!==l&&(1===i&&1===s[5]||-1===i&&0===s[5]);)l[5]+=i,s=l,l=l[3]}const M={lFrame:ra(null),bindingsEnabled:!0};function ds(){return M.bindingsEnabled}function Gt(){return M.lFrame.lView}function Ei(){return M.lFrame.tView}function dl(n){return M.lFrame.contextLView=n,n[8]}function ar(){let n=ma();for(;null!==n&&64===n.type;)n=n.parent;return n}function ma(){return M.lFrame.currentTNode}function Zs(n,i){const s=M.lFrame;s.currentTNode=n,s.isParent=i}function xa(){return M.lFrame.isParent}function ya(){M.lFrame.isParent=!1}function Mr(){const n=M.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Rs(){return M.lFrame.bindingIndex}function Sr(){return M.lFrame.bindingIndex++}function Ts(n){const i=M.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function Ma(n,i){const s=M.lFrame;s.bindingIndex=s.bindingRootIndex=n,fl(i)}function fl(n){M.lFrame.currentDirectiveIndex=n}function Zo(n){const i=M.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Do(){return M.lFrame.currentQueryIndex}function Pa(n){M.lFrame.currentQueryIndex=n}function Io(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function ns(n,i,s){if(s&on.SkipSelf){let d=i,y=n;for(;!(d=d.parent,null!==d||s&on.Host||(d=Io(y),null===d||(y=y[15],10&d.type))););if(null===d)return!1;i=d,n=y}const l=M.lFrame=Ao();return l.currentTNode=i,l.lView=n,!0}function So(n){const i=Ao(),s=n[1];M.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Ao(){const n=M.lFrame,i=null===n?null:n.child;return null===i?ra(n):i}function ra(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function pl(){const n=M.lFrame;return M.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const sa=pl;function xo(){const n=pl();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function is(){return M.lFrame.selectedIndex}function ho(n){M.lFrame.selectedIndex=n}function Qi(){const n=M.lFrame;return Gn(n.tView,n.selectedIndex)}function va(){M.lFrame.currentNamespace="svg"}function ji(){!function Is(){M.lFrame.currentNamespace=null}()}function Ns(n,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const y=n.data[s].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:I,ngAfterViewInit:P,ngAfterViewChecked:z,ngOnDestroy:te}=y;b&&(n.contentHooks||(n.contentHooks=[])).push(-s,b),I&&((n.contentHooks||(n.contentHooks=[])).push(s,I),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,I)),P&&(n.viewHooks||(n.viewHooks=[])).push(-s,P),z&&((n.viewHooks||(n.viewHooks=[])).push(s,z),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,z)),null!=te&&(n.destroyHooks||(n.destroyHooks=[])).push(s,te)}}function Kt(n,i,s){oa(n,i,3,s)}function tr(n,i,s,l){(3&n[2])===s&&oa(n,i,s,l)}function $i(n,i){let s=n[2];(3&s)===i&&(s&=2047,s+=1,n[2]=s)}function oa(n,i,s,l){const y=null!=l?l:-1,b=i.length-1;let I=0;for(let P=void 0!==l?65535&n[18]:0;P<b;P++)if("number"==typeof i[P+1]){if(I=i[P],null!=l&&I>=l)break}else i[P]<0&&(n[18]+=65536),(I<y||-1==y)&&(Rn(n,s,i,P),n[18]=(4294901760&n[18])+P+2),P++}function Rn(n,i,s,l){const d=s[l]<0,y=s[l+1],I=n[d?-s[l]:s[l]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{y.call(I)}finally{}}}else try{y.call(I)}finally{}}class Ss{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function ml(n,i,s){const l=Fi(n);let d=0;for(;d<s.length;){const y=s[d];if("number"==typeof y){if(0!==y)break;d++;const b=s[d++],I=s[d++],P=s[d++];l?n.setAttribute(i,I,P,b):i.setAttributeNS(b,I,P)}else{const b=y,I=s[++d];Na(b)?l&&n.setProperty(i,b,I):l?n.setAttribute(i,b,I):i.setAttribute(b,I),d++}}return d}function Xa(n){return 3===n||4===n||6===n}function Na(n){return 64===n.charCodeAt(0)}function rs(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const d=i[l];"number"==typeof d?s=d:0===s||_a(n,s,d,null,-1===s||2===s?i[++l]:null)}}return n}function _a(n,i,s,l,d){let y=0,b=n.length;if(-1===i)b=-1;else for(;y<n.length;){const I=n[y++];if("number"==typeof I){if(I===i){b=-1;break}if(I>i){b=y-1;break}}}for(;y<n.length;){const I=n[y];if("number"==typeof I)break;if(I===s){if(null===l)return void(null!==d&&(n[y+1]=d));if(l===n[y+1])return void(n[y+2]=d)}y++,null!==l&&y++,null!==d&&y++}-1!==b&&(n.splice(b,0,i),y=b+1),n.splice(y++,0,s),null!==l&&n.splice(y++,0,l),null!==d&&n.splice(y++,0,d)}function ka(n){return-1!==n}function Gi(n){return 32767&n}function vs(n,i){let s=function ni(n){return n>>16}(n),l=i;for(;s>0;)l=l[15],s--;return l}let Ea=!0;function Zi(n){const i=Ea;return Ea=n,i}let w=0;function L(n,i){const s=Pe(n,i);if(-1!==s)return s;const l=i[1];l.firstCreatePass&&(n.injectorIndex=i.length,le(l.data,n),le(i,null),le(l.blueprint,null));const d=je(n,i),y=n.injectorIndex;if(ka(d)){const b=Gi(d),I=vs(d,i),P=I[1].data;for(let z=0;z<8;z++)i[y+z]=I[b+z]|P[b+z]}return i[y+8]=d,y}function le(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Pe(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function je(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,d=i;for(;null!==d;){const y=d[1],b=y.type;if(l=2===b?y.declTNode:1===b?d[6]:null,null===l)return-1;if(s++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function kt(n,i,s){!function k(n,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Ee)&&(l=s[Ee]),null==l&&(l=s[Ee]=w++);const d=255&l;i.data[n+(d>>5)]|=1<<d}(n,i,s)}function di(n,i,s){if(s&on.Optional)return n;be(i,"NodeInjector")}function Nn(n,i,s,l){if(s&on.Optional&&void 0===l&&(l=null),0==(s&(on.Self|on.Host))){const d=n[9],y=rn(void 0);try{return d?d.get(i,l,s&on.Optional):Ui(i,l,s&on.Optional)}finally{rn(y)}}return di(l,i,s)}function Mi(n,i,s,l=on.Default,d){if(null!==n){const y=function Yr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Ee)?n[Ee]:void 0;return"number"==typeof i?i>=0?255&i:pr:i}(s);if("function"==typeof y){if(!ns(i,n,l))return l&on.Host?di(d,s,l):Nn(i,s,l,d);try{const b=y(l);if(null!=b||l&on.Optional)return b;be(s)}finally{sa()}}else if("number"==typeof y){let b=null,I=Pe(n,i),P=-1,z=l&on.Host?i[16][6]:null;for((-1===I||l&on.SkipSelf)&&(P=-1===I?je(n,i):i[I+8],-1!==P&&_t(l,!1)?(b=i[1],I=Gi(P),i=vs(P,i)):I=-1);-1!==I;){const te=i[1];if(Ko(y,I,te.data)){const Se=go(I,i,s,b,l,z);if(Se!==Pi)return Se}P=i[I+8],-1!==P&&_t(l,i[1].data[I+8]===z)&&Ko(y,I,i)?(b=te,I=Gi(P),i=vs(P,i)):I=-1}}}return Nn(i,s,l,d)}const Pi={};function pr(){return new Pr(ar(),Gt())}function go(n,i,s,l,d,y){const b=i[1],I=b.data[n+8],te=Oo(I,b,s,null==l?Wr(I)&&Ea:l!=b&&0!=(3&I.type),d&on.Host&&y===I);return null!==te?mo(i,b,te,I):Pi}function Oo(n,i,s,l,d){const y=n.providerIndexes,b=i.data,I=1048575&y,P=n.directiveStart,te=y>>20,Ze=d?I+te:n.directiveEnd;for(let ht=l?I:I+te;ht<Ze;ht++){const Wt=b[ht];if(ht<P&&s===Wt||ht>=P&&Wt.type===s)return ht}if(d){const ht=b[P];if(ht&&Zr(ht)&&ht.type===s)return P}return null}function mo(n,i,s,l){let d=n[s];const y=i.data;if(function hn(n){return n instanceof Ss}(d)){const b=d;b.resolving&&function Be(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new lt(-200,`Circular dependency in DI detected for ${n}${s}`)}(dt(y[s]));const I=Zi(b.canSeeViewProviders);b.resolving=!0;const P=b.injectImpl?rn(b.injectImpl):null;ns(n,l,on.Default);try{d=n[s]=b.factory(void 0,y,n,l),i.firstCreatePass&&s>=l.directiveStart&&function po(n,i,s){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:y}=i.type.prototype;if(l){const b=ms(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,b),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,b)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,d),y&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,y))}(s,y[s],i)}finally{null!==P&&rn(P),Zi(I),b.resolving=!1,sa()}}return d}function Ko(n,i,s){return!!(s[i+(n>>5)]&1<<n)}function _t(n,i){return!(n&on.Self||n&on.Host&&i)}class Pr{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return Mi(this._tNode,this._lView,i,l,s)}}function Xs(n){return Ot(()=>{const i=n.prototype.constructor,s=i[de]||yl(i),l=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==l;){const y=d[de]||yl(d);if(y&&y!==s)return y;d=Object.getPrototypeOf(d)}return y=>new y})}function yl(n){return at(n)?()=>{const i=yl(Te(n));return i&&i()}:Qn(n)}function Mo(n){return function wn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const l=s.length;let d=0;for(;d<l;){const y=s[d];if(Xa(y))break;if(0===y)d+=2;else if("number"==typeof y)for(d++;d<l&&"string"==typeof s[d];)d++;else{if(y===i)return s[d+1];d+=2}}}return null}(ar(),n)}const La="__parameters__",gr="__prop__metadata__";function Fa(n){return function(...s){if(n){const l=n(...s);for(const d in l)this[d]=l[d]}}}function ba(n,i,s){return Ot(()=>{const l=Fa(i);function d(...y){if(this instanceof d)return l.apply(this,y),this;const b=new d(...y);return I.annotation=b,I;function I(P,z,te){const Se=P.hasOwnProperty(La)?P[La]:Object.defineProperty(P,La,{value:[]})[La];for(;Se.length<=te;)Se.push(null);return(Se[te]=Se[te]||[]).push(b),P}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}function Va(n,i,s,l){return Ot(()=>{const d=Fa(i);function y(...b){if(this instanceof y)return d.apply(this,b),this;const I=new y(...b);return function P(z,te){const Se=z.constructor,Ze=Se.hasOwnProperty(gr)?Se[gr]:Object.defineProperty(Se,gr,{value:{}})[gr];Ze[te]=Ze.hasOwnProperty(te)&&Ze[te]||[],Ze[te].unshift(I),l&&l(z,te,...b)}}return s&&(y.prototype=Object.create(s.prototype)),y.prototype.ngMetadataName=n,y.annotationCls=y,y})}class _r{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ht({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ua=new _r("AnalyzeForEntryComponents");function Br(n,i){void 0===i&&(i=n);for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?(i===n&&(i=n.slice(0,s)),Br(l,i)):i!==n&&i.push(l)}return i}function Ls(n,i){n.forEach(s=>Array.isArray(s)?Ls(s,i):i(s))}function uu(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function qo(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function wa(n,i){const s=[];for(let l=0;l<n;l++)s.push(i);return s}function Qr(n,i,s){let l=Jr(n,i);return l>=0?n[1|l]=s:(l=~l,function ja(n,i,s,l){let d=n.length;if(d==i)n.push(s,l);else if(1===d)n.push(l,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>i;)n[d]=n[d-2],d--;n[i]=s,n[i+1]=l}}(n,l,i,s)),l}function Ro(n,i){const s=Jr(n,i);if(s>=0)return n[1|s]}function Jr(n,i){return function $a(n,i,s){let l=0,d=n.length>>s;for(;d!==l;){const y=l+(d-l>>1),b=n[y<<s];if(i===b)return y<<s;b>i?d=y:l=y+1}return~(d<<s)}(n,i,1)}const Yo={},nl="__NG_DI_FLAG__",Vs="ngTempTokenPath",R=/\n/gm,ae="__source",Ie=Ne({provide:String,useValue:Ne});let rt;function Et(n){const i=rt;return rt=n,i}function Qt(n,i=on.Default){if(void 0===rt)throw new lt(203,"");return null===rt?Ui(n,void 0,i):rt.get(n,i&on.Optional?null:void 0,i)}function un(n,i=on.Default){return(function ti(){return Li}()||Qt)(Te(n),i)}const ui=un;function ii(n){const i=[];for(let s=0;s<n.length;s++){const l=Te(n[s]);if(Array.isArray(l)){if(0===l.length)throw new lt(900,"");let d,y=on.Default;for(let b=0;b<l.length;b++){const I=l[b],P=ss(I);"number"==typeof P?-1===P?d=I.token:y|=P:d=I}i.push(un(d,y))}else i.push(un(l))}return i}function zn(n,i){return n[nl]=i,n.prototype[nl]=i,n}function ss(n){return n[nl]}const Qo=zn(ba("Inject",n=>({token:n})),-1),Us=zn(ba("Optional"),8),Ca=zn(ba("SkipSelf"),4);let da,Bs;function _l(n){var i;return(null===(i=function oo(){if(void 0===da&&(da=null,we.trustedTypes))try{da=we.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return da}())||void 0===i?void 0:i.createHTML(n))||n}function ec(n){var i;return(null===(i=function hu(){if(void 0===Bs&&(Bs=null,we.trustedTypes))try{Bs=we.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Bs}())||void 0===i?void 0:i.createHTML(n))||n}class Fo{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ed extends Fo{getTypeName(){return"HTML"}}class Oc extends Fo{getTypeName(){return"Style"}}class td extends Fo{getTypeName(){return"Script"}}class $l extends Fo{getTypeName(){return"URL"}}class an extends Fo{getTypeName(){return"ResourceURL"}}function ha(n){return n instanceof Fo?n.changingThisBreaksApplicationSecurity:n}function yo(n,i){const s=nc(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function nc(n){return n instanceof Fo&&n.getTypeName()||null}function El(n){return new ed(n)}function Nu(n){return new Oc(n)}function pu(n){return new td(n)}function Gl(n){return new $l(n)}function zl(n){return new an(n)}class kr{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(_l(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class ku{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const l=this.inertDocument.createElement("body");s.appendChild(l)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=_l(i),s;const l=this.inertDocument.createElement("body");return l.innerHTML=_l(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const s=i.attributes;for(let d=s.length-1;0<d;d--){const b=s.item(d).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&i.removeAttribute(b)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const yu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,bl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wl(n){return(n=String(n)).match(yu)||n.match(bl)?n:"unsafe:"+n}function C(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function m(...n){const i={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const v=C("area,br,col,hr,img,wbr"),S=C("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),J=C("rp,rt"),dn=m(v,m(S,C("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),m(J,C("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),m(J,S)),cn=C("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ri=C("srcset"),qa=m(cn,ri,C("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),C("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hs=C("script,style,template");class ic{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!dn.hasOwnProperty(s))return this.sanitizedSomething=!0,!Hs.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let d=0;d<l.length;d++){const y=l.item(d),b=y.name,I=b.toLowerCase();if(!qa.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let P=y.value;cn[I]&&(P=Wl(P)),ri[I]&&(n=P,P=(n=String(n)).split(",").map(i=>Wl(i.trim())).join(", ")),this.buf.push(" ",b,'="',Jo(P),'"')}var n;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();dn.hasOwnProperty(s)&&!v.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Jo(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const wl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rc=/([^\#-~ |!])/g;function Jo(n){return n.replace(/&/g,"&amp;").replace(wl,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(rc,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ol;function Cl(n,i){let s=null;try{ol=ol||function gu(n){const i=new ku(n);return function mu(){try{return!!(new window.DOMParser).parseFromString(_l(""),"text/html")}catch(n){return!1}}()?new kr(i):i}(n);let l=i?String(i):"";s=ol.getInertBodyElement(l);let d=5,y=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=y,y=s.innerHTML,s=ol.getInertBodyElement(l)}while(l!==y);return _l((new ic).sanitizeChildren(Zl(s)||s))}finally{if(s){const l=Zl(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Zl(n){return"content"in n&&function Kl(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function Mc(n){const i=Lu();return i?ec(i.sanitize(Fn.HTML,n)||""):yo(n,"HTML")?ec(ha(n)):Cl(Wn(),ze(n))}function Tl(n){const i=Lu();return i?i.sanitize(Fn.URL,n)||"":yo(n,"URL")?ha(n):Wl(ze(n))}function Lu(){const n=Gt();return n&&n[12]}const sd="__ngContext__";function Uo(n,i){n[sd]=i}function c(n){const i=function E(n){return n[sd]||null}(n);return i?Array.isArray(i)?i:i.lView:null}function Kn(n){return n.ngOriginalError}function lr(n,...i){n.error(...i)}class Lr{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),l=function Ii(n){return n&&n.ngErrorLogger||lr}(i);l(this._console,"ERROR",i),s&&l(this._console,"ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Kn(i);for(;s&&Kn(s);)s=Kn(s);return s||null}}const Vu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(we))();function fs(n){return n.ownerDocument.defaultView}function Un(n){return n instanceof Function?n():n}var ps=(()=>((ps=ps||{})[ps.Important=1]="Important",ps[ps.DashCase=2]="DashCase",ps))();function Hr(n,i){return undefined(n,i)}function $s(n){const i=n[3];return Ir(i)?i[3]:i}function xl(n){return Zp(n[13])}function oc(n){return Zp(n[4])}function Zp(n){for(;null!==n&&!Ir(n);)n=n[4];return n}function Pc(n,i,s,l,d){if(null!=l){let y,b=!1;Ir(l)?y=l:Ji(l)&&(b=!0,l=l[0]);const I=F(l);0===n&&null!==s?null==d?of(i,s,I):Ol(i,s,I,d||null,!0):1===n&&null!==s?Ol(i,s,I,d||null,!0):2===n?function Xp(n,i,s){const l=ad(n,i);l&&function af(n,i,s,l){Fi(n)?n.removeChild(i,s,l):i.removeChild(s)}(n,l,i,s)}(i,I,b):3===n&&i.destroyNode(I),null!=y&&function eg(n,i,s,l,d){const y=s[7];y!==F(s)&&Pc(i,n,l,y,d);for(let I=10;I<s.length;I++){const P=s[I];Eu(P[1],P,n,i,l,y)}}(i,n,y,s,d)}}function oh(n,i,s){if(Fi(n))return n.createElement(i,s);{const l=null!==s?function vr(n){const i=n.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(s):null;return null===l?n.createElement(i):n.createElementNS(l,i)}}function _u(n,i){const s=n[9],l=s.indexOf(i),d=i[3];1024&i[2]&&(i[2]&=-1025,N(d,-1)),s.splice(l,1)}function ah(n,i){if(n.length<=10)return;const s=10+i,l=n[s];if(l){const d=l[17];null!==d&&d!==n&&_u(d,l),i>0&&(n[s-1][4]=l[4]);const y=qo(n,10+i);!function Rm(n,i){Eu(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const b=y[19];null!==b&&b.detachView(y[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Yp(n,i){if(!(256&i[2])){const s=i[11];Fi(s)&&s.destroyNode&&Eu(n,i,s,3,null,null),function nf(n){let i=n[13];if(!i)return lh(n[1],n);for(;i;){let s=null;if(Ji(i))s=i[13];else{const l=i[10];l&&(s=l)}if(!s){for(;i&&!i[4]&&i!==n;)Ji(i)&&lh(i[1],i),i=i[3];null===i&&(i=n),Ji(i)&&lh(i[1],i),s=i&&i[4]}i=s}}(i)}}function lh(n,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function ac(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const d=i[s[l]];if(!(d instanceof Ss)){const y=s[l+1];if(Array.isArray(y))for(let b=0;b<y.length;b+=2){const I=d[y[b]],P=y[b+1];try{P.call(I)}finally{}}else try{y.call(d)}finally{}}}}(n,i),function uh(n,i){const s=n.cleanup,l=i[7];let d=-1;if(null!==s)for(let y=0;y<s.length-1;y+=2)if("string"==typeof s[y]){const b=s[y+1],I="function"==typeof b?b(i):F(i[b]),P=l[d=s[y+2]],z=s[y+3];"boolean"==typeof z?I.removeEventListener(s[y],P,z):z>=0?l[d=z]():l[d=-z].unsubscribe(),y+=2}else{const b=l[d=s[y+1]];s[y].call(b)}if(null!==l){for(let y=d+1;y<l.length;y++)l[y]();i[7]=null}}(n,i),1===i[1].type&&Fi(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&Ir(i[3])){s!==i[3]&&_u(s,i);const l=i[19];null!==l&&l.detachView(n)}}}function Uu(n,i,s){return function Bu(n,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[0];if(2&l.flags){const d=n.data[l.directiveStart].encapsulation;if(d===It.None||d===It.Emulated)return null}return $t(l,s)}(n,i.parent,s)}function Ol(n,i,s,l,d){Fi(n)?n.insertBefore(i,s,l,d):i.insertBefore(s,l,d)}function of(n,i,s){Fi(n)?n.appendChild(i,s):i.appendChild(s)}function ch(n,i,s,l,d){null!==l?Ol(n,i,s,l,d):of(n,i,s)}function ad(n,i){return Fi(n)?n.parentNode(i):i.parentNode}function Jp(n,i,s){return uf(n,i,s)}let uf=function lf(n,i,s){return 40&n.type?$t(n,s):null};function Yl(n,i,s,l){const d=Uu(n,l,i),y=i[11],I=Jp(l.parent||i[6],l,i);if(null!=d)if(Array.isArray(s))for(let P=0;P<s.length;P++)ch(y,d,s[P],I,!1);else ch(y,d,s,I,!1)}function dh(n,i){if(null!==i){const s=i.type;if(3&s)return $t(i,n);if(4&s)return df(-1,n[i.index]);if(8&s){const l=i.child;if(null!==l)return dh(n,l);{const d=n[i.index];return Ir(d)?df(-1,d):F(d)}}if(32&s)return Hr(i,n)()||F(n[i.index]);{const l=cf(n,i);return null!==l?Array.isArray(l)?l[0]:dh($s(n[16]),l):dh(n,i.next)}}return null}function cf(n,i){return null!==i?n[16][6].projection[i.projection]:null}function df(n,i){const s=10+n+1;if(s<i.length){const l=i[s],d=l[1].firstChild;if(null!==d)return dh(l,d)}return i[7]}function hf(n,i,s,l,d,y,b){for(;null!=s;){const I=l[s.index],P=s.type;if(b&&0===i&&(I&&Uo(F(I),l),s.flags|=4),64!=(64&s.flags))if(8&P)hf(n,i,s.child,l,d,y,!1),Pc(i,n,d,I,y);else if(32&P){const z=Hr(s,l);let te;for(;te=z();)Pc(i,n,d,te,y);Pc(i,n,d,I,y)}else 16&P?Hu(n,i,l,s,d,y):Pc(i,n,d,I,y);s=b?s.projectionNext:s.next}}function Eu(n,i,s,l,d,y){hf(s,l,n.firstChild,i,d,y,!1)}function Hu(n,i,s,l,d,y){const b=s[16],P=b[6].projection[l.projection];if(Array.isArray(P))for(let z=0;z<P.length;z++)Pc(i,n,d,P[z],y);else hf(n,i,P,b[3],d,y,!0)}function tg(n,i,s){Fi(n)?n.setAttribute(i,"style",s):i.style.cssText=s}function ld(n,i,s){Fi(n)?""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s):i.className=s}function ud(n,i,s){let l=n.length;for(;;){const d=n.indexOf(i,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const y=i.length;if(d+y===l||n.charCodeAt(d+y)<=32)return d}s=d+1}}const ff="ng-template";function cd(n,i,s){let l=0;for(;l<n.length;){let d=n[l++];if(s&&"class"===d){if(d=n[l],-1!==ud(d.toLowerCase(),i,0))return!0}else if(1===d){for(;l<n.length&&"string"==typeof(d=n[l++]);)if(d.toLowerCase()===i)return!0;return!1}}return!1}function dd(n){return 4===n.type&&n.value!==ff}function hd(n,i,s){return i===(4!==n.type||s?n.value:ff)}function ng(n,i,s){let l=4;const d=n.attrs||[],y=function fh(n){for(let i=0;i<n.length;i++)if(Xa(n[i]))return i;return n.length}(d);let b=!1;for(let I=0;I<i.length;I++){const P=i[I];if("number"!=typeof P){if(!b)if(4&l){if(l=2|1&l,""!==P&&!hd(n,P,s)||""===P&&1===i.length){if(ul(l))return!1;b=!0}}else{const z=8&l?P:i[++I];if(8&l&&null!==n.attrs){if(!cd(n.attrs,z,s)){if(ul(l))return!1;b=!0}continue}const Se=Sa(8&l?"class":P,d,dd(n),s);if(-1===Se){if(ul(l))return!1;b=!0;continue}if(""!==z){let Ze;Ze=Se>y?"":d[Se+1].toLowerCase();const ht=8&l?Ze:null;if(ht&&-1!==ud(ht,z,0)||2&l&&z!==Ze){if(ul(l))return!1;b=!0}}}}else{if(!b&&!ul(l)&&!ul(P))return!1;if(b&&ul(P))continue;b=!1,l=P|1&l}}return ul(l)||b}function ul(n){return 0==(1&n)}function Sa(n,i,s,l){if(null===i)return-1;let d=0;if(l||!s){let y=!1;for(;d<i.length;){const b=i[d];if(b===n)return d;if(3===b||6===b)y=!0;else{if(1===b||2===b){let I=i[++d];for(;"string"==typeof I;)I=i[++d];continue}if(4===b)break;if(0===b){d+=4;continue}}d+=y?1:2}return-1}return function ig(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,n)}function pf(n,i,s=!1){for(let l=0;l<i.length;l++)if(ng(n,i[l],s))return!0;return!1}function ju(n,i){e:for(let s=0;s<i.length;s++){const l=i[s];if(n.length===l.length){for(let d=0;d<n.length;d++)if(n[d]!==l[d])continue e;return!0}}return!1}function uc(n,i){return n?":not("+i.trim()+")":i}function rg(n){let i=n[0],s=1,l=2,d="",y=!1;for(;s<n.length;){let b=n[s];if("string"==typeof b)if(2&l){const I=n[++s];d+="["+b+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?d+="."+b:4&l&&(d+=" "+b);else""!==d&&!ul(b)&&(i+=uc(y,d),d=""),l=b,y=y||!ul(l);s++}return""!==d&&(i+=uc(y,d)),i}const pi={};function gf(n){bu(Ei(),Gt(),is()+n,!1)}function bu(n,i,s,l){if(!l)if(3==(3&i[2])){const y=n.preOrderCheckHooks;null!==y&&Kt(i,y,s)}else{const y=n.preOrderHooks;null!==y&&tr(i,y,0,s)}ho(s)}function ph(n,i){return n<<17|i<<2}function Ml(n){return n>>17&32767}function kc(n){return 2|n}function Ql(n){return(131068&n)>>2}function yf(n,i){return-131069&n|i<<2}function _f(n){return 1|n}function Eh(n,i){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const d=s[l],y=s[l+1];if(-1!==y){const b=n.data[y];Pa(d),b.contentQueries(2,i[y],y)}}}function Lc(n,i,s,l,d,y,b,I,P,z){const te=i.blueprint.slice();return te[0]=d,te[2]=140|l,B(te),te[3]=te[15]=n,te[8]=s,te[10]=b||n&&n[10],te[11]=I||n&&n[11],te[12]=P||n&&n[12]||null,te[9]=z||n&&n[9]||null,te[6]=y,te[16]=2==i.type?n[16]:te,te}function hc(n,i,s,l,d){let y=n.data[i];if(null===y)y=function yd(n,i,s,l,d){const y=ma(),b=xa(),P=n.data[i]=function Pf(n,i,s,l,d,y){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?y:y&&y.parent,s,i,l,d);return null===n.firstChild&&(n.firstChild=P),null!==y&&(b?null==y.child&&null!==P.parent&&(y.child=P):null===y.next&&(y.next=P)),P}(n,i,s,l,d),function ia(){return M.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=s,y.value=l,y.attrs=d;const b=function Co(){const n=M.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();y.injectorIndex=null===b?-1:b.injectorIndex}return Zs(y,!0),y}function wu(n,i,s,l){if(0===s)return-1;const d=i.length;for(let y=0;y<s;y++)i.push(l),n.blueprint.push(l),n.data.push(null);return d}function Cu(n,i,s){So(i);try{const l=n.viewQuery;null!==l&&Td(1,l,s);const d=n.template;null!==d&&bh(n,i,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Eh(n,i),n.staticViewQueries&&Td(2,n.viewQuery,s);const y=n.components;null!==y&&function Af(n,i){for(let s=0;s<i.length;s++)Eg(n,i[s])}(i,y)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[2]&=-5,xo()}}function Tu(n,i,s,l){const d=i[2];if(256!=(256&d)){So(i);try{B(i),function co(n){return M.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&bh(n,i,s,2,l);const b=3==(3&d);if(b){const z=n.preOrderCheckHooks;null!==z&&Kt(i,z,null)}else{const z=n.preOrderHooks;null!==z&&tr(i,z,0,null),$i(i,0)}if(function Xm(n){for(let i=xl(n);null!==i;i=oc(i)){if(!i[2])continue;const s=i[9];for(let l=0;l<s.length;l++){const d=s[l],y=d[3];0==(1024&d[2])&&N(y,1),d[2]|=1024}}}(i),function Uf(n){for(let i=xl(n);null!==i;i=oc(i))for(let s=10;s<i.length;s++){const l=i[s],d=l[1];er(l)&&Tu(d,l,d.template,l[8])}}(i),null!==n.contentQueries&&Eh(n,i),b){const z=n.contentCheckHooks;null!==z&&Kt(i,z)}else{const z=n.contentHooks;null!==z&&tr(i,z,1),$i(i,1)}!function Gm(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const d=s[l];if(d<0)ho(~d);else{const y=d,b=s[++l],I=s[++l];Ma(b,y),I(2,i[y])}}}finally{ho(-1)}}(n,i);const I=n.components;null!==I&&function zm(n,i){for(let s=0;s<i.length;s++)ey(n,i[s])}(i,I);const P=n.viewQuery;if(null!==P&&Td(2,P,l),b){const z=n.viewCheckHooks;null!==z&&Kt(i,z)}else{const z=n.viewHooks;null!==z&&tr(i,z,2),$i(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-73,1024&i[2]&&(i[2]&=-1025,N(i[3],-1))}finally{xo()}}}function xf(n,i,s,l){const d=i[10],b=fi(i);try{!b&&d.begin&&d.begin(),b&&Cu(n,i,l),Tu(n,i,s,l)}finally{!b&&d.end&&d.end()}}function bh(n,i,s,l,d){const y=is(),b=2&l;try{ho(-1),b&&i.length>20&&bu(n,i,20,!1),s(l,d)}finally{ho(y)}}function wh(n,i,s){if(zr(i)){const d=i.directiveEnd;for(let y=i.directiveStart;y<d;y++){const b=n.data[y];b.contentQueries&&b.contentQueries(1,s[y],y)}}}function Ch(n,i,s){!ds()||(function kf(n,i,s,l){const d=s.directiveStart,y=s.directiveEnd;n.firstCreatePass||L(s,i),Uo(l,i);const b=s.initialInputs;for(let I=d;I<y;I++){const P=n.data[I],z=Zr(P);z&&Ff(i,s,P);const te=mo(i,n,I,s);Uo(te,i),null!==b&&Sh(0,I-d,te,P,0,b),z&&(ei(s.index,i)[8]=te)}}(n,i,s,$t(s,i)),128==(128&s.flags)&&function yg(n,i,s){const l=s.directiveStart,d=s.directiveEnd,b=s.index,I=function Ds(){return M.lFrame.currentDirectiveIndex}();try{ho(b);for(let P=l;P<d;P++){const z=n.data[P],te=i[P];fl(P),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&Dh(z,te)}}finally{ho(-1),fl(I)}}(n,i,s))}function Of(n,i,s=$t){const l=i.localNames;if(null!==l){let d=i.index+1;for(let y=0;y<l.length;y+=2){const b=l[y+1],I=-1===b?s(i,n):n[b];n[d++]=I}}}function Mf(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Th(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Th(n,i,s,l,d,y,b,I,P,z){const te=20+l,Se=te+d,Ze=function Wm(n,i){const s=[];for(let l=0;l<i;l++)s.push(l<n?null:pi);return s}(te,Se),ht="function"==typeof z?z():z;return Ze[1]={type:n,blueprint:Ze,template:s,queries:null,viewQuery:I,declTNode:i,data:Ze.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:Se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:P,consts:ht,incompleteFirstPass:!1}}function Fc(n,i,s,l){const d=pc(i);null===s?d.push(l):(d.push(s),n.firstCreatePass&&Du(n).push(l,d.length-1))}function Rf(n,i,s){for(let l in n)if(n.hasOwnProperty(l)){const d=n[l];(s=null===s?{}:s).hasOwnProperty(l)?s[l].push(i,d):s[l]=[i,d]}return s}function Ya(n,i,s,l,d,y,b,I){const P=$t(i,s);let te,z=i.inputs;!I&&null!=z&&(te=z[l])?(mc(n,s,te,l,d),Wr(i)&&function Ym(n,i){const s=ei(i,n);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(l=function qm(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),d=null!=b?b(d,i.value||"",l):d,Fi(y)?y.setProperty(P,l,d):Na(l)||(P.setProperty?P.setProperty(l,d):P[l]=d))}function _d(n,i,s,l){let d=!1;if(ds()){const y=function Lf(n,i,s){const l=n.directiveRegistry;let d=null;if(l)for(let y=0;y<l.length;y++){const b=l[y];pf(s,b.selectors,!1)&&(d||(d=[]),kt(L(s,i),n,b.type),Zr(b)?(Jl(n,s),d.unshift(b)):d.push(b))}return d}(n,i,s),b=null===l?null:{"":-1};if(null!==y){d=!0,Ih(s,n.data.length,y.length);for(let te=0;te<y.length;te++){const Se=y[te];Se.providersResolver&&Se.providersResolver(Se)}let I=!1,P=!1,z=wu(n,i,y.length,null);for(let te=0;te<y.length;te++){const Se=y[te];s.mergedAttrs=rs(s.mergedAttrs,Se.hostAttrs),_g(n,s,i,z,Se),Qm(z,Se,b),null!==Se.contentQueries&&(s.flags|=8),(null!==Se.hostBindings||null!==Se.hostAttrs||0!==Se.hostVars)&&(s.flags|=128);const Ze=Se.type.prototype;!I&&(Ze.ngOnChanges||Ze.ngOnInit||Ze.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),I=!0),!P&&(Ze.ngOnChanges||Ze.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),P=!0),z++}!function Km(n,i){const l=i.directiveEnd,d=n.data,y=i.attrs,b=[];let I=null,P=null;for(let z=i.directiveStart;z<l;z++){const te=d[z],Se=te.inputs,Ze=null===y||dd(i)?null:Vf(Se,y);b.push(Ze),I=Rf(Se,z,I),P=Rf(te.outputs,z,P)}null!==I&&(I.hasOwnProperty("class")&&(i.flags|=16),I.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=b,i.inputs=I,i.outputs=P}(n,s)}b&&function vg(n,i,s){if(i){const l=n.localNames=[];for(let d=0;d<i.length;d+=2){const y=s[i[d+1]];if(null==y)throw new lt(-301,!1);l.push(i[d],y)}}}(s,l,b)}return s.mergedAttrs=rs(s.mergedAttrs,s.attrs),d}function Ed(n,i,s,l,d,y){const b=y.hostBindings;if(b){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const P=~i.index;(function bd(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(I)!=P&&I.push(P),I.push(l,d,b)}}function Dh(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Jl(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function Qm(n,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=n;Zr(i)&&(s[""]=n)}}function Ih(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}function _g(n,i,s,l,d){n.data[l]=d;const y=d.factory||(d.factory=Qn(d.type)),b=new Ss(y,Zr(d),null);n.blueprint[l]=b,s[l]=b,Ed(n,i,0,l,wu(n,s,d.hostVars,pi),d)}function Ff(n,i,s){const l=$t(i,n),d=Mf(s),y=n[10],b=Bc(n,Lc(n,d,null,s.onPush?64:16,l,i,y,y.createRenderer(l,s),null,null));n[i.index]=b}function Xl(n,i,s,l,d,y){const b=$t(n,i);!function wd(n,i,s,l,d,y,b){if(null==y)Fi(n)?n.removeAttribute(i,d,s):i.removeAttribute(d);else{const I=null==b?ze(y):b(y,l||"",d);Fi(n)?n.setAttribute(i,d,I,s):s?i.setAttributeNS(s,d,I):i.setAttribute(d,I)}}(i[11],b,y,n.value,s,l,d)}function Sh(n,i,s,l,d,y){const b=y[i];if(null!==b){const I=l.setInput;for(let P=0;P<b.length;){const z=b[P++],te=b[P++],Se=b[P++];null!==I?l.setInput(s,Se,z,te):s[te]=Se}}}function Vf(n,i){let s=null,l=0;for(;l<i.length;){const d=i[l];if(0!==d)if(5!==d){if("number"==typeof d)break;n.hasOwnProperty(d)&&(null===s&&(s=[]),s.push(d,n[d],i[l+1])),l+=2}else l+=2;else l+=4}return s}function fc(n,i,s,l){return new Array(n,!0,!1,i,null,0,l,s,null,null)}function ey(n,i){const s=ei(i,n);if(er(s)){const l=s[1];80&s[2]?Tu(l,s,l.template,s[8]):s[5]>0&&Ah(s)}}function Ah(n){for(let l=xl(n);null!==l;l=oc(l))for(let d=10;d<l.length;d++){const y=l[d];if(1024&y[2]){const b=y[1];Tu(b,y,b.template,y[8])}else y[5]>0&&Ah(y)}const s=n[1].components;if(null!==s)for(let l=0;l<s.length;l++){const d=ei(s[l],n);er(d)&&d[5]>0&&Ah(d)}}function Eg(n,i){const s=ei(i,n),l=s[1];(function ty(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(l,s),Cu(l,s,s[8])}function Bc(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Bf(n){for(;n;){n[2]|=64;const i=$s(n);if(Es(n)&&!i)return n;n=i}return null}function bg(n){!function jf(n){for(let i=0;i<n.components.length;i++){const s=n.components[i],l=c(s),d=l[1];xf(d,l,d.template,s)}}(n[8])}function Td(n,i,s){Pa(0),i(n,s)}const $f=(()=>Promise.resolve(null))();function pc(n){return n[7]||(n[7]=[])}function Du(n){return n.cleanup||(n.cleanup=[])}function gc(n,i){const s=n[9],l=s?s.get(Lr,null):null;l&&l.handleError(i)}function mc(n,i,s,l,d){for(let y=0;y<s.length;){const b=s[y++],I=s[y++],P=i[b],z=n.data[b];null!==z.setInput?z.setInput(P,d,l,I):P[I]=d}}function eu(n,i,s){const l=At(i,n);!function Kp(n,i,s){Fi(n)?n.setValue(i,s):i.textContent=s}(n[11],l,s)}function Iu(n,i,s){let l=s?n.styles:null,d=s?n.classes:null,y=0;if(null!==i)for(let b=0;b<i.length;b++){const I=i[b];"number"==typeof I?y=I:1==y?d=Z(d,I):2==y&&(l=Z(l,I+": "+i[++b]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=d:n.classesWithoutHost=d}const Hc=new _r("INJECTOR",-1);class Oh{get(i,s=Yo){if(s===Yo){const l=new Error(`NullInjectorError: No provider for ${ue(i)}!`);throw l.name="NullInjectorError",l}return s}}const Dd=new _r("Set Injector scope."),Id={},sy={};let Sd;function Mh(){return void 0===Sd&&(Sd=new Oh),Sd}function Dg(n,i=null,s=null,l){const d=Gf(n,i,s,l);return d._resolveInjectorDefTypes(),d}function Gf(n,i=null,s=null,l){return new oy(n,s,i||Mh(),l)}class oy{constructor(i,s,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];s&&Ls(s,I=>this.processProvider(I,i,s)),Ls([i],I=>this.processInjectorType(I,[],y)),this.records.set(Hc,jc(void 0,this));const b=this.records.get(Dd);this.scope=null!=b?b.value:null,this.source=d||("object"==typeof i?null:ue(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=Yo,l=on.Default){this.assertNotDestroyed();const d=Et(this),y=rn(void 0);try{if(!(l&on.SkipSelf)){let I=this.records.get(i);if(void 0===I){const P=function Kf(n){return"function"==typeof n||"object"==typeof n&&n instanceof _r}(i)&&On(i);I=P&&this.injectableDefInScope(P)?jc(Ph(i),Id):null,this.records.set(i,I)}if(null!=I)return this.hydrate(i,I)}return(l&on.Self?Mh():this.parent).get(i,s=l&on.Optional&&s===Yo?null:s)}catch(b){if("NullInjectorError"===b.name){if((b[Vs]=b[Vs]||[]).unshift(ue(i)),d)throw b;return function Yi(n,i,s,l){const d=n[Vs];throw i[ae]&&d.unshift(i[ae]),n.message=function il(n,i,s,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let d=ue(i);if(Array.isArray(i))d=i.map(ue).join(" -> ");else if("object"==typeof i){let y=[];for(let b in i)if(i.hasOwnProperty(b)){let I=i[b];y.push(b+":"+("string"==typeof I?JSON.stringify(I):ue(I)))}d=`{${y.join(", ")}}`}return`${s}${l?"("+l+")":""}[${d}]: ${n.replace(R,"\n  ")}`}("\n"+n.message,d,s,l),n.ngTokenPath=d,n[Vs]=null,n}(b,i,"R3InjectorError",this.source)}throw b}finally{rn(y),Et(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,d)=>i.push(ue(d))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new lt(205,!1)}processInjectorType(i,s,l){if(!(i=Te(i)))return!1;let d=ci(i);const y=null==d&&i.ngModule||void 0,b=void 0===y?i:y,I=-1!==l.indexOf(b);if(void 0!==y&&(d=ci(y)),null==d)return!1;if(null!=d.imports&&!I){let te;l.push(b);try{Ls(d.imports,Se=>{this.processInjectorType(Se,s,l)&&(void 0===te&&(te=[]),te.push(Se))})}finally{}if(void 0!==te)for(let Se=0;Se<te.length;Se++){const{ngModule:Ze,providers:ht}=te[Se];Ls(ht,Wt=>this.processProvider(Wt,Ze,ht||Tt))}}this.injectorDefTypes.add(b);const P=Qn(b)||(()=>new b);this.records.set(b,jc(P,Id));const z=d.providers;if(null!=z&&!I){const te=i;Ls(z,Se=>this.processProvider(Se,te,z))}return void 0!==y&&void 0!==i.providers}processProvider(i,s,l){let d=Wu(i=Te(i))?i:Te(i&&i.provide);const y=function Sg(n,i,s){return Ag(n)?jc(void 0,n.useValue):jc(zf(n),Id)}(i);if(Wu(i)||!0!==i.multi)this.records.get(d);else{let b=this.records.get(d);b||(b=jc(void 0,Id,!0),b.factory=()=>ii(b.multi),this.records.set(d,b)),d=i,b.multi.push(i)}this.records.set(d,y)}hydrate(i,s){return s.value===Id&&(s.value=sy,s.value=s.factory()),"object"==typeof s.value&&s.value&&function uy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Te(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Ph(n){const i=On(n),s=null!==i?i.factory:Qn(n);if(null!==s)return s;if(n instanceof _r)throw new lt(204,!1);if(n instanceof Function)return function Ig(n){const i=n.length;if(i>0)throw wa(i,"?"),new lt(204,!1);const s=function Jn(n){const i=n&&(n[Yn]||n[Mn]);if(i){const s=function jn(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new lt(204,!1)}function zf(n,i,s){let l;if(Wu(n)){const d=Te(n);return Qn(d)||Ph(d)}if(Ag(n))l=()=>Te(n.useValue);else if(function ly(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...ii(n.deps||[]));else if(function ay(n){return!(!n||!n.useExisting)}(n))l=()=>un(Te(n.useExisting));else{const d=Te(n&&(n.useClass||n.provide));if(!function Zf(n){return!!n.deps}(n))return Qn(d)||Ph(d);l=()=>new d(...ii(n.deps))}return l}function jc(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function Ag(n){return null!==n&&"object"==typeof n&&Ie in n}function Wu(n){return"function"==typeof n}let tu=(()=>{class n{static create(s,l){var d;if(Array.isArray(s))return Dg({name:""},l,s,"");{const y=null!==(d=s.name)&&void 0!==d?d:"";return Dg({name:y},s.parent,s.providers,y)}}}return n.THROW_IF_NOT_FOUND=Yo,n.NULL=new Oh,n.\u0275prov=Ht({token:n,providedIn:"any",factory:()=>un(Hc)}),n.__NG_ELEMENT_ID__=-1,n})();function tp(n,i){Ns(c(n)[1],ar())}function np(n){let i=function Vh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;i;){let d;if(Zr(n))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new lt(903,"");d=i.\u0275dir}if(d){if(s){l.push(d);const b=n;b.inputs=Uh(n.inputs),b.declaredInputs=Uh(n.declaredInputs),b.outputs=Uh(n.outputs);const I=d.hostBindings;I&&py(n,I);const P=d.viewQuery,z=d.contentQueries;if(P&&rp(n,P),z&&Ng(n,z),me(n.inputs,d.inputs),me(n.declaredInputs,d.declaredInputs),me(n.outputs,d.outputs),Zr(d)&&d.data.animation){const te=n.data;te.animation=(te.animation||[]).concat(d.data.animation)}}const y=d.features;if(y)for(let b=0;b<y.length;b++){const I=y[b];I&&I.ngInherit&&I(n),I===np&&(s=!1)}}i=Object.getPrototypeOf(i)}!function ip(n){let i=0,s=null;for(let l=n.length-1;l>=0;l--){const d=n[l];d.hostVars=i+=d.hostVars,d.hostAttrs=rs(d.hostAttrs,s=rs(s,d.hostAttrs))}}(l)}function Uh(n){return n===Mt?{}:n===Tt?[]:n}function rp(n,i){const s=n.viewQuery;n.viewQuery=s?(l,d)=>{i(l,d),s(l,d)}:i}function Ng(n,i){const s=n.contentQueries;n.contentQueries=s?(l,d,y)=>{i(l,d,y),s(l,d,y)}:i}function py(n,i){const s=n.hostBindings;n.hostBindings=s?(l,d)=>{i(l,d),s(l,d)}:i}let $c=null;function Zu(){if(!$c){const n=we.Symbol;if(n&&n.iterator)$c=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const l=i[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&($c=l)}}}return $c}function Md(n){return!!ap(n)&&(Array.isArray(n)||!(n instanceof Map)&&Zu()in n)}function ap(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function cl(n,i,s){return n[i]=s}function Bo(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function Ku(n,i,s,l){const d=Bo(n,i,s);return Bo(n,i+1,l)||d}function Pd(n,i,s,l,d){const y=Ku(n,i,s,l);return Bo(n,i+2,d)||y}function Ki(n,i,s,l){const d=Gt();return Bo(d,Sr(),i)&&(Ei(),Xl(Qi(),d,n,i,s,l)),Ki}function _c(n,i,s,l){return Bo(n,Sr(),s)?i+ze(s)+l:pi}function Ec(n,i,s,l,d,y){const I=Ku(n,Rs(),s,d);return Ts(2),I?i+ze(s)+l+ze(d)+y:pi}function Hg(n,i,s,l,d,y,b,I){const P=Gt(),z=Ei(),te=n+20,Se=z.firstCreatePass?function vy(n,i,s,l,d,y,b,I,P){const z=i.consts,te=hc(i,n,4,b||null,Vi(z,I));_d(i,s,te,Vi(z,P)),Ns(i,te);const Se=te.tViews=Th(2,te,l,d,y,i.directiveRegistry,i.pipeRegistry,null,i.schemas,z);return null!==i.queries&&(i.queries.template(i,te),Se.queries=i.queries.embeddedTView(te)),te}(te,z,P,i,s,l,d,y,b):z.data[te];Zs(Se,!1);const Ze=P[11].createComment("");Yl(z,P,Ze,Se),Uo(Ze,P),Bc(P,P[te]=fc(Ze,P,Ze,Se)),ls(Se)&&Ch(z,P,Se),null!=b&&Of(P,Se,I)}function jg(n){return mi(function Oa(){return M.lFrame.contextLView}(),20+n)}function Fd(n,i=on.Default){const s=Gt();return null===s?un(n,i):Mi(ar(),s,Te(n),i)}function yp(){throw new Error("invalid")}function ru(n,i,s){const l=Gt();return Bo(l,Sr(),i)&&Ya(Ei(),Qi(),l,n,i,l[11],s,!1),ru}function su(n,i,s,l,d){const b=d?"class":"style";mc(n,s,i.inputs[b],b,l)}function ou(n,i,s,l){const d=Gt(),y=Ei(),b=20+n,I=d[11],P=d[b]=oh(I,i,function fo(){return M.lFrame.currentNamespace}()),z=y.firstCreatePass?function i_(n,i,s,l,d,y,b){const I=i.consts,z=hc(i,n,2,d,Vi(I,y));return _d(i,s,z,Vi(I,b)),null!==z.attrs&&Iu(z,z.attrs,!1),null!==z.mergedAttrs&&Iu(z,z.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,z),z}(b,y,d,0,i,s,l):y.data[b];Zs(z,!0);const te=z.mergedAttrs;null!==te&&ml(I,P,te);const Se=z.classes;null!==Se&&ld(I,P,Se);const Ze=z.styles;return null!==Ze&&tg(I,P,Ze),64!=(64&z.flags)&&Yl(y,d,P,z),0===function xn(){return M.lFrame.elementDepthCount}()&&Uo(P,d),function ki(){M.lFrame.elementDepthCount++}(),ls(z)&&(Ch(y,d,z),wh(y,z,d)),null!==l&&Of(d,z),ou}function Cc(){let n=ar();xa()?ya():(n=n.parent,Zs(n,!1));const i=n;!function Cs(){M.lFrame.elementDepthCount--}();const s=Ei();return s.firstCreatePass&&(Ns(s,n),zr(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Ra(n){return 0!=(16&n.flags)}(i)&&su(s,i,Gt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Ja(n){return 0!=(32&n.flags)}(i)&&su(s,i,Gt(),i.stylesWithoutHost,!1),Cc}function vp(n,i,s,l){return ou(n,i,s,l),Cc(),vp}function Vd(n,i,s){const l=Gt(),d=Ei(),y=n+20,b=d.firstCreatePass?function Xg(n,i,s,l,d){const y=i.consts,b=Vi(y,l),I=hc(i,n,8,"ng-container",b);return null!==b&&Iu(I,b,!0),_d(i,s,I,Vi(y,d)),null!==i.queries&&i.queries.elementStart(i,I),I}(y,d,l,i,s):d.data[y];Zs(b,!0);const I=l[y]=l[11].createComment("");return Yl(d,l,I,b),Uo(I,l),ls(b)&&(Ch(d,l,b),wh(d,b,l)),null!=s&&Of(l,b),Vd}function Tc(){let n=ar();const i=Ei();return xa()?ya():(n=n.parent,Zs(n,!1)),i.firstCreatePass&&(Ns(i,n),zr(n)&&i.queries.elementEnd(n)),Tc}function _p(n,i,s){return Vd(n,i,s),Tc(),_p}function qu(){return Gt()}function Wc(n){return!!n&&"function"==typeof n.then}function Zc(n){return!!n&&"function"==typeof n.subscribe}const Ep=Zc;function Ud(n,i,s,l){const d=Gt(),y=Ei(),b=ar();return function tm(n,i,s,l,d,y,b,I){const P=ls(l),te=n.firstCreatePass&&Du(n),Se=i[8],Ze=pc(i);let ht=!0;if(3&l.type||I){const In=$t(l,i),Hn=I?I(In):In,sn=Ze.length,oi=I?ir=>I(F(ir[l.index])):l.index;if(Fi(s)){let ir=null;if(!I&&P&&(ir=function Ay(n,i,s,l){const d=n.cleanup;if(null!=d)for(let y=0;y<d.length-1;y+=2){const b=d[y];if(b===s&&d[y+1]===l){const I=i[7],P=d[y+2];return I.length>P?I[P]:null}"string"==typeof b&&(y+=2)}return null}(n,i,d,l.index)),null!==ir)(ir.__ngLastListenerFn__||ir).__ngNextListenerFn__=y,ir.__ngLastListenerFn__=y,ht=!1;else{y=Bd(l,i,Se,y,!1);const Vr=s.listen(Hn,d,y);Ze.push(y,Vr),te&&te.push(d,oi,sn,sn+1)}}else y=Bd(l,i,Se,y,!0),Hn.addEventListener(d,y,b),Ze.push(y),te&&te.push(d,oi,sn,b)}else y=Bd(l,i,Se,y,!1);const Wt=l.outputs;let mn;if(ht&&null!==Wt&&(mn=Wt[d])){const In=mn.length;if(In)for(let Hn=0;Hn<In;Hn+=2){const Ll=i[mn[Hn]][mn[Hn+1]].subscribe(y),Qd=Ze.length;Ze.push(y,Ll),te&&te.push(d,l.index,Qd,-(Qd+1))}}}(y,d,d[11],b,n,i,!!s,l),Ud}function zh(n,i,s,l){try{return!1!==s(l)}catch(d){return gc(n,d),!1}}function Bd(n,i,s,l,d){return function y(b){if(b===Function)return l;const I=2&n.flags?ei(n.index,i):i;0==(32&i[2])&&Bf(I);let P=zh(i,0,l,b),z=y.__ngNextListenerFn__;for(;z;)P=zh(i,0,z,b)&&P,z=z.__ngNextListenerFn__;return d&&!1===P&&(b.preventDefault(),b.returnValue=!1),P}}function bp(n=1){return function Fl(n){return(M.lFrame.contextLView=function gl(n,i){for(;n>0;)i=i[15],n--;return i}(n,M.lFrame.contextLView))[8]}(n)}function Dc(n,i){let s=null;const l=function hh(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(0==(1&s))return i[s+1]}return null}(n);for(let d=0;d<i.length;d++){const y=i[d];if("*"!==y){if(null===l?pf(n,y,!0):ju(l,y))return d}else s=d}return s}function wp(n){const i=Gt()[16][6];if(!i.projection){const l=i.projection=wa(n?n.length:1,null),d=l.slice();let y=i.child;for(;null!==y;){const b=n?Dc(y,n):0;null!==b&&(d[b]?d[b].projectionNext=y:l[b]=y,d[b]=y),y=y.next}}}function Cp(n,i=0,s){const l=Gt(),d=Ei(),y=hc(d,20+n,16,null,s||null);null===y.projection&&(y.projection=i),ya(),64!=(64&y.flags)&&function lc(n,i,s){Hu(i[11],0,i,s,Uu(n,s,i),Jp(s.parent||i[6],s,i))}(d,l,y)}function Hd(n,i,s){return jd(n,"",i,"",s),Hd}function jd(n,i,s,l,d){const y=Gt(),b=_c(y,i,s,l);return b!==pi&&Ya(Ei(),Qi(),y,n,b,y[11],d,!1),jd}function Tp(n,i,s,l,d,y,b){const I=Gt(),P=Ec(I,i,s,l,d,y);return P!==pi&&Ya(Ei(),Qi(),I,n,P,I[11],b,!1),Tp}function im(n,i,s,l,d){const y=n[s+1],b=null===i;let I=l?Ml(y):Ql(y),P=!1;for(;0!==I&&(!1===P||b);){const te=n[I+1];My(n[I],i)&&(P=!0,n[I+1]=l?_f(te):kc(te)),I=l?Ml(te):Ql(te)}P&&(n[s+1]=l?kc(y):_f(y))}function My(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Jr(n,i)>=0}const ao={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Sp(n){return n.substring(ao.key,ao.keyEnd)}function Py(n){return n.substring(ao.value,ao.valueEnd)}function Ap(n,i){const s=ao.textEnd;return s===i?-1:(i=ao.keyEnd=function ky(n,i,s){for(;i<s&&n.charCodeAt(i)>32;)i++;return i}(n,ao.key=i,s),qc(n,i,s))}function rm(n,i){const s=ao.textEnd;let l=ao.key=qc(n,i,s);return s===l?-1:(l=ao.keyEnd=function sm(n,i,s){let l;for(;i<s&&(45===(l=n.charCodeAt(i))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)i++;return i}(n,l,s),l=Op(n,l,s),l=ao.value=qc(n,l,s),l=ao.valueEnd=function om(n,i,s){let l=-1,d=-1,y=-1,b=i,I=b;for(;b<s;){const P=n.charCodeAt(b++);if(59===P)return I;34===P||39===P?I=b=Mp(n,P,b,s):i===b-4&&85===y&&82===d&&76===l&&40===P?I=b=Mp(n,41,b,s):P>32&&(I=b),y=d,d=l,l=-33&P}return I}(n,l,s),Op(n,l,s))}function xp(n){ao.key=0,ao.keyEnd=0,ao.value=0,ao.valueEnd=0,ao.textEnd=n.length}function qc(n,i,s){for(;i<s&&n.charCodeAt(i)<=32;)i++;return i}function Op(n,i,s,l){return(i=qc(n,i,s))<s&&i++,i}function Mp(n,i,s,l){let d=-1,y=s;for(;y<l;){const b=n.charCodeAt(y++);if(b==i&&92!==d)return y;d=92==b&&92===d?0:b}throw new Error}function Yc(n,i,s){return Nl(n,i,s,!1),Yc}function Pp(n,i){return Nl(n,i,null,!0),Pp}function Ho(n){kl(um,Ic,n,!1)}function Ic(n,i){for(let s=function Ny(n){return xp(n),rm(n,qc(n,0,ao.textEnd))}(i);s>=0;s=rm(i,s))um(n,Sp(i),Py(i))}function Qc(n){kl(Qr,ea,n,!0)}function ea(n,i){for(let s=function Ry(n){return xp(n),Ap(n,qc(n,0,ao.textEnd))}(i);s>=0;s=Ap(i,s))Qr(n,Sp(i),!0)}function Nl(n,i,s,l){const d=Gt(),y=Ei(),b=Ts(2);y.firstUpdatePass&&Su(y,n,b,l),i!==pi&&Bo(d,b,i)&&cm(y,y.data[is()],d,d[11],n,d[b+1]=function Np(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ue(ha(n)))),n}(i,s),l,b)}function kl(n,i,s,l){const d=Ei(),y=Ts(2);d.firstUpdatePass&&Su(d,null,y,l);const b=Gt();if(s!==pi&&Bo(b,y,s)){const I=d.data[is()];if(jy(I,l)&&!lm(d,y)){let P=l?I.classesWithoutHost:I.stylesWithoutHost;null!==P&&(s=Z(P,s||"")),su(d,I,b,s,l)}else!function Hy(n,i,s,l,d,y,b,I){d===pi&&(d=Tt);let P=0,z=0,te=0<d.length?d[0]:null,Se=0<y.length?y[0]:null;for(;null!==te||null!==Se;){const Ze=P<d.length?d[P+1]:void 0,ht=z<y.length?y[z+1]:void 0;let mn,Wt=null;te===Se?(P+=2,z+=2,Ze!==ht&&(Wt=Se,mn=ht)):null===Se||null!==te&&te<Se?(P+=2,Wt=te):(z+=2,Wt=Se,mn=ht),null!==Wt&&cm(n,i,s,l,Wt,mn,b,I),te=P<d.length?d[P]:null,Se=z<y.length?y[z]:null}}(d,I,b,b[11],b[y+1],b[y+1]=function By(n,i,s){if(null==s||""===s)return Tt;const l=[],d=ha(s);if(Array.isArray(d))for(let y=0;y<d.length;y++)n(l,d[y],!0);else if("object"==typeof d)for(const y in d)d.hasOwnProperty(y)&&n(l,y,d[y]);else"string"==typeof d&&i(l,d);return l}(n,i,s),l,y)}}function lm(n,i){return i>=n.expandoStartIndex}function Su(n,i,s,l){const d=n.data;if(null===d[s+1]){const y=d[is()],b=lm(n,s);jy(y,l)&&null===i&&!b&&(i=!1),i=function Ly(n,i,s,l){const d=Zo(n);let y=l?i.residualClasses:i.residualStyles;if(null===d)0===(l?i.classBindings:i.styleBindings)&&(s=Wd(s=Rp(null,n,i,s,l),i.attrs,l),y=null);else{const b=i.directiveStylingLast;if(-1===b||n[b]!==d)if(s=Rp(d,n,i,s,l),null===y){let P=function Fy(n,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==Ql(l))return n[Ml(l)]}(n,i,l);void 0!==P&&Array.isArray(P)&&(P=Rp(null,n,i,P[1],l),P=Wd(P,i.attrs,l),function Vy(n,i,s,l){n[Ml(s?i.classBindings:i.styleBindings)]=l}(n,i,l,P))}else y=function Uy(n,i,s){let l;const d=i.directiveEnd;for(let y=1+i.directiveStylingLast;y<d;y++)l=Wd(l,n[y].hostAttrs,s);return Wd(l,i.attrs,s)}(n,i,l)}return void 0!==y&&(l?i.residualClasses=y:i.residualStyles=y),s}(d,y,i,l),function xy(n,i,s,l,d,y){let b=y?i.classBindings:i.styleBindings,I=Ml(b),P=Ql(b);n[l]=s;let te,z=!1;if(Array.isArray(s)){const Se=s;te=Se[1],(null===te||Jr(Se,te)>0)&&(z=!0)}else te=s;if(d)if(0!==P){const Ze=Ml(n[I+1]);n[l+1]=ph(Ze,I),0!==Ze&&(n[Ze+1]=yf(n[Ze+1],l)),n[I+1]=function Lm(n,i){return 131071&n|i<<17}(n[I+1],l)}else n[l+1]=ph(I,0),0!==I&&(n[I+1]=yf(n[I+1],l)),I=l;else n[l+1]=ph(P,0),0===I?I=l:n[P+1]=yf(n[P+1],l),P=l;z&&(n[l+1]=kc(n[l+1])),im(n,te,l,!0),im(n,te,l,!1),function Oy(n,i,s,l,d){const y=d?n.residualClasses:n.residualStyles;null!=y&&"string"==typeof i&&Jr(y,i)>=0&&(s[l+1]=_f(s[l+1]))}(i,te,n,l,y),b=ph(I,P),y?i.classBindings=b:i.styleBindings=b}(d,y,i,s,b,l)}}function Rp(n,i,s,l,d){let y=null;const b=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<b&&(y=i[I],l=Wd(l,y.hostAttrs,d),y!==n);)I++;return null!==n&&(s.directiveStylingLast=I),l}function Wd(n,i,s){const l=s?1:2;let d=-1;if(null!==i)for(let y=0;y<i.length;y++){const b=i[y];"number"==typeof b?d=b:d===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Qr(n,b,!!s||i[++y]))}return void 0===n?null:n}function um(n,i,s){Qr(n,i,ha(s))}function cm(n,i,s,l,d,y,b,I){if(!(3&i.type))return;const P=n.data,z=P[I+1];Au(function vf(n){return 1==(1&n)}(z)?dm(P,i,s,d,Ql(z),b):void 0)||(Au(y)||function sg(n){return 2==(2&n)}(z)&&(y=dm(P,null,s,d,I,b)),function Nm(n,i,s,l,d){const y=Fi(n);if(i)d?y?n.addClass(s,l):s.classList.add(l):y?n.removeClass(s,l):s.classList.remove(l);else{let b=-1===l.indexOf("-")?void 0:ps.DashCase;if(null==d)y?n.removeStyle(s,l,b):s.style.removeProperty(l);else{const I="string"==typeof d&&d.endsWith("!important");I&&(d=d.slice(0,-10),b|=ps.Important),y?n.setStyle(s,l,d,b):s.style.setProperty(l,d,I?"important":"")}}}(l,b,At(is(),s),d,y))}function dm(n,i,s,l,d,y){const b=null===i;let I;for(;d>0;){const P=n[d],z=Array.isArray(P),te=z?P[1]:P,Se=null===te;let Ze=s[d+1];Ze===pi&&(Ze=Se?Tt:void 0);let ht=Se?Ro(Ze,l):te===l?Ze:void 0;if(z&&!Au(ht)&&(ht=Ro(P,l)),Au(ht)&&(I=ht,b))return I;const Wt=n[d+1];d=b?Ml(Wt):Ql(Wt)}if(null!==i){let P=y?i.residualClasses:i.residualStyles;null!=P&&(I=Ro(P,l))}return I}function Au(n){return void 0!==n}function jy(n,i){return 0!=(n.flags&(i?16:32))}function $y(n,i=""){const s=Gt(),l=Ei(),d=n+20,y=l.firstCreatePass?hc(l,d,1,i,null):l.data[d],b=s[d]=function sh(n,i){return Fi(n)?n.createText(i):n.createTextNode(i)}(s[11],i);Yl(l,s,b,y),Zs(y,!1)}function kp(n){return Zd("",n,""),kp}function Zd(n,i,s){const l=Gt(),d=_c(l,n,i,s);return d!==pi&&eu(l,is(),d),Zd}function au(n,i,s,l,d){const y=Gt(),b=Ec(y,n,i,s,l,d);return b!==pi&&eu(y,is(),b),au}function Lp(n,i,s,l,d,y,b){const I=Gt(),P=function iu(n,i,s,l,d,y,b,I){const z=Pd(n,Rs(),s,d,b);return Ts(3),z?i+ze(s)+l+ze(d)+y+ze(b)+I:pi}(I,n,i,s,l,d,y,b);return P!==pi&&eu(I,is(),P),Lp}function Gy(n,i,s){kl(Qr,ea,_c(Gt(),n,i,s),!0)}function zy(n,i,s){const l=Gt();if(Bo(l,Sr(),i)){const y=Ei(),b=Qi();Ya(y,b,l,n,i,function xh(n,i,s){return(null===n||Zr(n))&&(s=function ce(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[i.index])),s[11]}(Zo(y.data),b,l),s,!0)}return zy}const Kd=void 0;var lE=["en",[["a","p"],["AM","PM"],Kd],[["AM","PM"],Kd,Kd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kd,"{1} 'at' {0}",Kd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aE(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let Zh={};function Wy(n){const i=function uE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=a_(i);if(s)return s;const l=i.split("-")[0];if(s=a_(l),s)return s;if("en"===l)return lE;throw new Error(`Missing locale data for the locale "${n}".`)}function o_(n){return Wy(n)[hi.PluralCase]}function a_(n){return n in Zh||(Zh[n]=we.ng&&we.ng.common&&we.ng.common.locales&&we.ng.common.locales[n]),Zh[n]}var hi=(()=>((hi=hi||{})[hi.LocaleId=0]="LocaleId",hi[hi.DayPeriodsFormat=1]="DayPeriodsFormat",hi[hi.DayPeriodsStandalone=2]="DayPeriodsStandalone",hi[hi.DaysFormat=3]="DaysFormat",hi[hi.DaysStandalone=4]="DaysStandalone",hi[hi.MonthsFormat=5]="MonthsFormat",hi[hi.MonthsStandalone=6]="MonthsStandalone",hi[hi.Eras=7]="Eras",hi[hi.FirstDayOfWeek=8]="FirstDayOfWeek",hi[hi.WeekendRange=9]="WeekendRange",hi[hi.DateFormat=10]="DateFormat",hi[hi.TimeFormat=11]="TimeFormat",hi[hi.DateTimeFormat=12]="DateTimeFormat",hi[hi.NumberSymbols=13]="NumberSymbols",hi[hi.NumberFormats=14]="NumberFormats",hi[hi.CurrencyCode=15]="CurrencyCode",hi[hi.CurrencySymbol=16]="CurrencySymbol",hi[hi.CurrencyName=17]="CurrencyName",hi[hi.Currencies=18]="Currencies",hi[hi.Directionality=19]="Directionality",hi[hi.PluralCase=20]="PluralCase",hi[hi.ExtraData=21]="ExtraData",hi))();const _m="en-US";let l_=_m;function qy(n,i,s,l,d){if(n=Te(n),Array.isArray(n))for(let y=0;y<n.length;y++)qy(n[y],i,s,l,d);else{const y=Ei(),b=Gt();let I=Wu(n)?n:Te(n.provide),P=zf(n);const z=ar(),te=1048575&z.providerIndexes,Se=z.directiveStart,Ze=z.providerIndexes>>20;if(Wu(n)||!n.multi){const ht=new Ss(P,d,Fd),Wt=Qy(I,i,d?te:te+Ze,Se);-1===Wt?(kt(L(z,b),y,I),Yy(y,n,i.length),i.push(I),z.directiveStart++,z.directiveEnd++,d&&(z.providerIndexes+=1048576),s.push(ht),b.push(ht)):(s[Wt]=ht,b[Wt]=ht)}else{const ht=Qy(I,i,te+Ze,Se),Wt=Qy(I,i,te,te+Ze),mn=ht>=0&&s[ht],In=Wt>=0&&s[Wt];if(d&&!In||!d&&!mn){kt(L(z,b),y,I);const Hn=function ab(n,i,s,l,d){const y=new Ss(n,s,Fd);return y.multi=[],y.index=i,y.componentProviders=0,P_(y,d,l&&!s),y}(d?ob:sb,s.length,d,l,P);!d&&In&&(s[Wt].providerFactory=Hn),Yy(y,n,i.length,0),i.push(I),z.directiveStart++,z.directiveEnd++,d&&(z.providerIndexes+=1048576),s.push(Hn),b.push(Hn)}else Yy(y,n,ht>-1?ht:Wt,P_(s[d?Wt:ht],P,!d&&l));!d&&l&&In&&s[Wt].componentProviders++}}}function Yy(n,i,s,l){const d=Wu(i),y=function Wf(n){return!!n.useClass}(i);if(d||y){const P=(y?Te(i.useClass):i).prototype.ngOnDestroy;if(P){const z=n.destroyHooks||(n.destroyHooks=[]);if(!d&&i.multi){const te=z.indexOf(s);-1===te?z.push(s,[l,P]):z[te+1].push(l,P)}else z.push(s,P)}}}function P_(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function Qy(n,i,s,l){for(let d=s;d<l;d++)if(i[d]===n)return d;return-1}function sb(n,i,s,l){return Jy(this.multi,[])}function ob(n,i,s,l){const d=this.multi;let y;if(this.providerFactory){const b=this.providerFactory.componentProviders,I=mo(s,s[1],this.providerFactory.index,l);y=I.slice(0,b),Jy(d,y);for(let P=b;P<I.length;P++)y.push(I[P])}else y=[],Jy(d,y);return y}function Jy(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function R_(n,i=[]){return s=>{s.providersResolver=(l,d)=>function rb(n,i,s){const l=Ei();if(l.firstCreatePass){const d=Zr(n);qy(s,l.data,l.blueprint,d,!0),qy(i,l.data,l.blueprint,d,!1)}}(l,d?d(n):n,i)}}class N_{}class cb{resolveComponentFactory(i){throw function ub(n){const i=Error(`No component factory found for ${ue(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Tm=(()=>{class n{}return n.NULL=new cb,n})();function db(){return qh(ar(),Gt())}function qh(n,i){return new Hp($t(n,i))}let Hp=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=db,n})();function hb(n){return n instanceof Hp?n.nativeElement:n}class L_{}let fb=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function gb(){const n=Gt(),s=ei(ar().index,n);return function pb(n){return n[11]}(Ji(s)?s:n)}(),n})(),mb=(()=>{class n{}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:()=>null}),n})();class F_{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const V_=new F_("13.3.11"),Xy={};function Dm(n,i,s,l,d=!1){for(;null!==s;){const y=i[s.index];if(null!==y&&l.push(F(y)),Ir(y))for(let I=10;I<y.length;I++){const P=y[I],z=P[1].firstChild;null!==z&&Dm(P[1],P,z,l)}const b=s.type;if(8&b)Dm(n,i,s.child,l);else if(32&b){const I=Hr(s,i);let P;for(;P=I();)l.push(P)}else if(16&b){const I=cf(i,s);if(Array.isArray(I))l.push(...I);else{const P=$s(i[16]);Dm(P[1],P,I,l,!0)}}s=d?s.projectionNext:s.next}return l}class jp{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return Dm(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Ir(i)){const s=i[8],l=s?s.indexOf(this):-1;l>-1&&(ah(i,l),qo(s,l))}this._attachedToViewContainer=!1}Yp(this._lView[1],this._lView)}onDestroy(i){Fc(this._lView[1],this._lView,null,i)}markForCheck(){Bf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Cd(n,i,s){const l=i[10];l.begin&&l.begin();try{Tu(n,i,n.template,s)}catch(d){throw gc(i,d),d}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new lt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vo(n,i){Eu(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new lt(902,"");this._appRef=i}}class yb extends jp{constructor(i){super(i),this._view=i}detectChanges(){bg(this._view)}checkNoChanges(){}get context(){return null}}class U_ extends Tm{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=xe(i);return new ev(s,this.ngModule)}}function B_(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class ev extends N_{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function cc(n){return n.map(rg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return B_(this.componentDef.inputs)}get outputs(){return B_(this.componentDef.outputs)}create(i,s,l,d){const y=(d=d||this.ngModule)?function _b(n,i){return{get:(s,l,d)=>{const y=n.get(s,Xy,d);return y!==Xy||l===Xy?y:i.get(s,l,d)}}}(i,d.injector):i,b=y.get(L_,V),I=y.get(mb,null),P=b.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",te=l?function vd(n,i,s){if(Fi(n))return n.selectRootElement(i,s===It.ShadowDom);let l="string"==typeof i?n.querySelector(i):i;return l.textContent="",l}(P,l,this.componentDef.encapsulation):oh(b.createRenderer(null,this.componentDef),z,function vb(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(z)),Se=this.componentDef.onPush?576:528,Ze=function Rg(n,i){return{components:[],scheduler:n||Vu,clean:$f,playerHandler:i||null,flags:0}}(),ht=Th(0,null,null,1,0,null,null,null,null,null),Wt=Lc(null,ht,Ze,Se,null,null,b,P,I,y);let mn,In;So(Wt);try{const Hn=function Pg(n,i,s,l,d,y){const b=s[1];s[20]=n;const P=hc(b,20,2,"#host",null),z=P.mergedAttrs=i.hostAttrs;null!==z&&(Iu(P,z,!0),null!==n&&(ml(d,n,z),null!==P.classes&&ld(d,n,P.classes),null!==P.styles&&tg(d,n,P.styles)));const te=l.createRenderer(n,i),Se=Lc(s,Mf(i),null,i.onPush?64:16,s[20],P,l,te,y||null,null);return b.firstCreatePass&&(kt(L(P,s),b,i.type),Jl(b,P),Ih(P,s.length,1)),Bc(s,Se),s[20]=Se}(te,this.componentDef,Wt,b,P);if(te)if(l)ml(P,te,["ng-version",V_.full]);else{const{attrs:sn,classes:oi}=function km(n){const i=[],s=[];let l=1,d=2;for(;l<n.length;){let y=n[l];if("string"==typeof y)2===d?""!==y&&i.push(y,n[++l]):8===d&&s.push(y);else{if(!ul(d))break;d=y}l++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);sn&&ml(P,te,sn),oi&&oi.length>0&&ld(P,te,oi.join(" "))}if(In=Gn(ht,20),void 0!==s){const sn=In.projection=[];for(let oi=0;oi<this.ngContentSelectors.length;oi++){const ir=s[oi];sn.push(null!=ir?Array.from(ir):null)}}mn=function Fh(n,i,s,l,d){const y=s[1],b=function Uc(n,i,s){const l=ar();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),_g(n,l,i,wu(n,i,1,null),s));const d=mo(i,n,l.directiveStart,l);Uo(d,i);const y=$t(l,i);return y&&Uo(y,i),d}(y,s,i);if(l.components.push(b),n[8]=b,d&&d.forEach(P=>P(b,i)),i.contentQueries){const P=ar();i.contentQueries(1,b,P.directiveStart)}const I=ar();return!y.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(ho(I.index),Ed(s[1],I,0,I.directiveStart,I.directiveEnd,i),Dh(i,b)),b}(Hn,this.componentDef,Wt,Ze,[tp]),Cu(ht,Wt,null)}finally{xo()}return new bb(this.componentType,mn,qh(In,Wt),Wt,In)}}class bb extends class lb{}{constructor(i,s,l,d,y){super(),this.location=l,this._rootLView=d,this._tNode=y,this.instance=s,this.hostView=this.changeDetectorRef=new yb(d),this.componentType=i}get injector(){return new Pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Yh{}class H_{}const Qh=new Map;class G_ extends Yh{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new U_(this);const l=Vt(i);this._bootstrapComponents=Un(l.bootstrap),this._r3Injector=Gf(i,s,[{provide:Yh,useValue:this},{provide:Tm,useValue:this.componentFactoryResolver}],ue(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=tu.THROW_IF_NOT_FOUND,l=on.Default){return i===tu||i===Yh||i===Hc?this:this._r3Injector.get(i,s,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class tv extends H_{constructor(i){super(),this.moduleType=i,null!==Vt(i)&&function Cb(n){const i=new Set;!function s(l){const d=Vt(l,!0),y=d.id;null!==y&&(function j_(n,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${n} - ${ue(i)} vs ${ue(i.name)}`)}(y,Qh.get(y),l),Qh.set(y,l));const b=Un(d.imports);for(const I of b)i.has(I)||(i.add(I),s(I))}(n)}(i)}create(i){return new G_(this.moduleType,i)}}function z_(n,i,s){const l=Mr()+n,d=Gt();return d[l]===pi?cl(d,l,s?i.call(s):i()):function yc(n,i){return n[i]}(d,l)}function W_(n,i,s,l){return q_(Gt(),Mr(),n,i,s,l)}function Z_(n,i,s,l,d){return function Y_(n,i,s,l,d,y,b){const I=i+s;return Ku(n,I,d,y)?cl(n,I+2,b?l.call(b,d,y):l(d,y)):$p(n,I+2)}(Gt(),Mr(),n,i,s,l,d)}function K_(n,i,s,l,d,y){return function Q_(n,i,s,l,d,y,b,I){const P=i+s;return Pd(n,P,d,y,b)?cl(n,P+3,I?l.call(I,d,y,b):l(d,y,b)):$p(n,P+3)}(Gt(),Mr(),n,i,s,l,d,y)}function $p(n,i){const s=n[i];return s===pi?void 0:s}function q_(n,i,s,l,d,y){const b=i+s;return Bo(n,b,d)?cl(n,b+1,y?l.call(y,d):l(d)):$p(n,b+1)}function e0(n,i){const s=Ei();let l;const d=n+20;s.firstCreatePass?(l=function Ob(n,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(n===l.name)return l}}(i,s.pipeRegistry),s.data[d]=l,l.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(d,l.onDestroy)):l=s.data[d];const y=l.factory||(l.factory=Qn(l.type)),b=rn(Fd);try{const I=Zi(!1),P=y();return Zi(I),function _y(n,i,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=l}(s,Gt(),d,P),P}finally{rn(b)}}function t0(n,i,s){const l=n+20,d=Gt(),y=mi(d,l);return function Gp(n,i){return n[1].data[i].pure}(d,l)?q_(d,Mr(),i,y.transform,s,y):y.transform(s)}function nv(n){return i=>{setTimeout(n,void 0,i)}}const Yu=class kb extends f.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){var d,y,b;let I=i,P=s||(()=>null),z=l;if(i&&"object"==typeof i){const Se=i;I=null===(d=Se.next)||void 0===d?void 0:d.bind(Se),P=null===(y=Se.error)||void 0===y?void 0:y.bind(Se),z=null===(b=Se.complete)||void 0===b?void 0:b.bind(Se)}this.__isAsync&&(P=nv(P),I&&(I=nv(I)),z&&(z=nv(z)));const te=super.subscribe({next:I,error:P,complete:z});return i instanceof h.w0&&i.add(te),te}};function Lb(){return this._results[Zu()]()}class iv{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Zu(),l=iv.prototype;l[s]||(l[s]=Lb)}get changes(){return this._changes||(this._changes=new Yu)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const d=Br(i);(this._changesDetected=!function Er(n,i,s){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let d=n[l],y=i[l];if(s&&(d=s(d),y=s(y)),y!==d)return!1}return!0}(l._results,d,s))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let zp=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ub,n})();const Fb=zp,Vb=class extends Fb{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(i){const s=this._declarationTContainer.tViews,l=Lc(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(l[19]=y.createEmbeddedView(s)),Cu(s,l,i),new jp(l)}};function Ub(){return Im(ar(),Gt())}function Im(n,i){return 4&n.type?new Vb(i,n,qh(n,i)):null}let Sm=(()=>{class n{}return n.__NG_ELEMENT_ID__=Bb,n})();function Bb(){return s0(ar(),Gt())}const Hb=Sm,n0=class extends Hb{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return qh(this._hostTNode,this._hostLView)}get injector(){return new Pr(this._hostTNode,this._hostLView)}get parentInjector(){const i=je(this._hostTNode,this._hostLView);if(ka(i)){const s=vs(i,this._hostLView),l=Gi(i);return new Pr(s[1].data[l+8],s)}return new Pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=r0(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,l){const d=i.createEmbeddedView(s||{});return this.insert(d,l),d}createComponent(i,s,l,d,y){const b=i&&!function Ba(n){return"function"==typeof n}(i);let I;if(b)I=s;else{const Se=s||{};I=Se.index,l=Se.injector,d=Se.projectableNodes,y=Se.ngModuleRef}const P=b?i:new ev(xe(i)),z=l||this.parentInjector;if(!y&&null==P.ngModule){const Ze=(b?z:this.parentInjector).get(Yh,null);Ze&&(y=Ze)}const te=P.create(z,d,void 0,y);return this.insert(te.hostView,I),te}insert(i,s){const l=i._lView,d=l[1];if(function Hi(n){return Ir(n[3])}(l)){const te=this.indexOf(i);if(-1!==te)this.detach(te);else{const Se=l[3],Ze=new n0(Se,Se[6],Se[3]);Ze.detach(Ze.indexOf(i))}}const y=this._adjustIndex(s),b=this._lContainer;!function rf(n,i,s,l){const d=10+l,y=s.length;l>0&&(s[d-1][4]=i),l<y-10?(i[4]=s[d],uu(s,10+l,i)):(s.push(i),i[4]=null),i[3]=s;const b=i[17];null!==b&&s!==b&&function sf(n,i){const s=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===s?n[9]=[i]:s.push(i)}(b,i);const I=i[19];null!==I&&I.insertView(n),i[2]|=128}(d,l,b,y);const I=df(y,b),P=l[11],z=ad(P,b[7]);return null!==z&&function tf(n,i,s,l,d,y){l[0]=d,l[6]=i,Eu(n,l,s,1,d,y)}(d,b[6],P,l,z,I),i.attachToViewContainerRef(),uu(rv(b),y,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=r0(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=ah(this._lContainer,s);l&&(qo(rv(this._lContainer),s),Yp(l[1],l))}detach(i){const s=this._adjustIndex(i,-1),l=ah(this._lContainer,s);return l&&null!=qo(rv(this._lContainer),s)?new jp(l):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function r0(n){return n[8]}function rv(n){return n[8]||(n[8]=[])}function s0(n,i){let s;const l=i[n.index];if(Ir(l))s=l;else{let d;if(8&n.type)d=F(l);else{const y=i[11];d=y.createComment("");const b=$t(n,i);Ol(y,ad(y,b),d,function Qp(n,i){return Fi(n)?n.nextSibling(i):i.nextSibling}(y,b),!1)}i[n.index]=s=fc(l,i,d,n),Bc(i,s)}return new n0(s,n,i)}class sv{constructor(i){this.queryList=i,this.matches=null}clone(){return new sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class ov{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,d=[];for(let y=0;y<l;y++){const b=s.getByIndex(y);d.push(this.queries[b.indexInDeclarationView].clone())}return new ov(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==p0(i,s).matches&&this.queries[s].setDirty()}}class o0{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class av{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const d=null!==s?s.length:0,y=this.getByIndex(l).embeddedTView(i,d);y&&(y.indexInDeclarationView=l,null!==s?s.push(y):s=[y])}return null!==s?new av(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class lv{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new lv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const y=l[d];this.matchTNodeWithReadOption(i,s,Gb(s,y)),this.matchTNodeWithReadOption(i,s,Oo(s,i,y,!1,!1))}else l===zp?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Oo(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Hp||d===Sm||d===zp&&4&s.type)this.addMatch(s.index,-2);else{const y=Oo(s,i,d,!1,!1);null!==y&&this.addMatch(s.index,y)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function Gb(n,i){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function Wb(n,i,s,l){return-1===s?function zb(n,i){return 11&n.type?qh(n,i):4&n.type?Im(n,i):null}(i,n):-2===s?function Zb(n,i,s){return s===Hp?qh(i,n):s===zp?Im(i,n):s===Sm?s0(i,n):void 0}(n,i,l):mo(n,n[1],s,i)}function a0(n,i,s,l){const d=i[19].queries[l];if(null===d.matches){const y=n.data,b=s.matches,I=[];for(let P=0;P<b.length;P+=2){const z=b[P];I.push(z<0?null:Wb(i,y[z],b[P+1],s.metadata.read))}d.matches=I}return d.matches}function uv(n,i,s,l){const d=n.queries.getByIndex(s),y=d.matches;if(null!==y){const b=a0(n,i,d,s);for(let I=0;I<y.length;I+=2){const P=y[I];if(P>0)l.push(b[I/2]);else{const z=y[I+1],te=i[-P];for(let Se=10;Se<te.length;Se++){const Ze=te[Se];Ze[17]===Ze[3]&&uv(Ze[1],Ze,z,l)}if(null!==te[9]){const Se=te[9];for(let Ze=0;Ze<Se.length;Ze++){const ht=Se[Ze];uv(ht[1],ht,z,l)}}}}}return l}function l0(n){const i=Gt(),s=Ei(),l=Do();Pa(l+1);const d=p0(s,l);if(n.dirty&&fi(i)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const y=d.crossesNgTemplate?uv(s,i,l,[]):a0(s,i,d,l);n.reset(y,hb),n.notifyOnChanges()}return!0}return!1}function u0(n,i,s){const l=Ei();l.firstCreatePass&&(f0(l,new o0(n,i,s),-1),2==(2&i)&&(l.staticViewQueries=!0)),h0(l,Gt(),i)}function c0(n,i,s,l){const d=Ei();if(d.firstCreatePass){const y=ar();f0(d,new o0(i,s,l),y.index),function qb(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}h0(d,Gt(),s)}function d0(){return function Kb(n,i){return n[19].queries[i].queryList}(Gt(),Do())}function h0(n,i,s){const l=new iv(4==(4&s));Fc(n,i,l,l.destroy),null===i[19]&&(i[19]=new ov),i[19].queries.push(new sv(l))}function f0(n,i,s){null===n.queries&&(n.queries=new av),n.queries.track(new lv(i,s))}function p0(n,i){return n.queries.getByIndex(i)}function g0(n,i){return Im(n,i)}const hw=Va("HostBinding",n=>({hostPropertyName:n})),fw=Va("HostListener",(n,i)=>({eventName:n,args:i}));function Om(...n){}const P0=new _r("Application Initializer");let gv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Om,this.reject=Om,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const y=this.appInits[d]();if(Wc(y))s.push(y);else if(Ep(y)){const b=new Promise((I,P)=>{y.subscribe({complete:I,error:P})});s.push(b)}}Promise.all(s).then(()=>{l()}).catch(d=>{this.reject(d)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(un(P0,8))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const R0=new _r("AppId",{providedIn:"root",factory:function N0(){return`${mv()}${mv()}${mv()}`}});function mv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const k0=new _r("Platform Initializer"),pw=new _r("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),L0=new _r("appBootstrapListener");let gw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const yv=new _r("LocaleId",{providedIn:"root",factory:()=>ui(yv,on.Optional|on.SkipSelf)||function mw(){return"undefined"!=typeof $localize&&$localize.locale||_m}()}),yw=new _r("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vw{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let _w=(()=>{class n{compileModuleSync(s){return new tv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),y=Un(Vt(s).declarations).reduce((b,I)=>{const P=xe(I);return P&&b.push(new ev(P)),b},[]);return new vw(l,y)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bw=(()=>Promise.resolve(0))();function vv(n){"undefined"==typeof Zone?bw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class xu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yu(!1),this.onMicrotaskEmpty=new Yu(!1),this.onStable=new Yu(!1),this.onError=new Yu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&s,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function ww(){let n=we.requestAnimationFrame,i=we.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Dw(n){const i=()=>{!function Tw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(we,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ev(n),n.isCheckStableRunning=!0,_v(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ev(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,d,y,b,I)=>{try{return F0(n),s.invokeTask(d,y,b,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||n.shouldCoalesceRunChangeDetection)&&i(),V0(n)}},onInvoke:(s,l,d,y,b,I,P)=>{try{return F0(n),s.invoke(d,y,b,I,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),V0(n)}},onHasTask:(s,l,d,y)=>{s.hasTask(d,y),l===d&&("microTask"==y.change?(n._hasPendingMicrotasks=y.microTask,Ev(n),_v(n)):"macroTask"==y.change&&(n.hasPendingMacrotasks=y.macroTask))},onHandleError:(s,l,d,y)=>(s.handleError(d,y),n.runOutsideAngular(()=>n.onError.emit(y)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,d){const y=this._inner,b=y.scheduleEventTask("NgZoneEvent: "+d,i,Cw,Om,Om);try{return y.runTask(b,s,l)}finally{y.cancelTask(b)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const Cw={};function _v(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ev(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function F0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function V0(n){n._nesting--,_v(n)}class Iw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yu,this.onMicrotaskEmpty=new Yu,this.onStable=new Yu,this.onError=new Yu}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,d){return i.apply(s,l)}}let U0=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xu.assertNotInAngularZone(),vv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,d){let y=-1;l&&l>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==y),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:y,updateCb:d})}whenStable(s,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,l,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(un(xu))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac}),n})(),Sw=(()=>{class n{constructor(){this._applications=new Map,bv.addToWindow(this)}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return bv.findTestabilityInTree(this,s,l)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class Aw{addToWindow(i){}findTestabilityInTree(i,s,l){return null}}function xw(n){bv=n}let bv=new Aw,qd=null;const B0=new _r("AllowMultipleToken"),H0=new _r("PlatformOnDestroy");class Pw{constructor(i,s){this.name=i,this.token=s}}function j0(n,i,s=[]){const l=`Platform: ${i}`,d=new _r(l);return(y=[])=>{let b=wv();if(!b||b.injector.get(B0,!1)){const I=[...s,...y,{provide:d,useValue:!0}];n?n(I):function Rw(n){if(qd&&!qd.get(B0,!1))throw new lt(400,"");qd=n;const i=n.get($0),s=n.get(k0,null);s&&s.forEach(l=>l())}(function kw(n=[],i){return tu.create({name:i,providers:[{provide:Dd,useValue:"platform"},{provide:H0,useValue:()=>qd=null},...n]})}(I,l))}return function Nw(n){const i=wv();if(!i)throw new lt(401,"");return i}()}}function wv(){var n;return null!==(n=null==qd?void 0:qd.get($0))&&void 0!==n?n:null}let $0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const I=function Lw(n,i){let s;return s="noop"===n?new Iw:("zone.js"===n?void 0:n)||new xu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),P=[{provide:xu,useValue:I}];return I.run(()=>{const z=tu.create({providers:P,parent:this.injector,name:s.moduleType.name}),te=s.create(z),Se=te.injector.get(Lr,null);if(!Se)throw new lt(402,"");return I.runOutsideAngular(()=>{const Ze=I.onError.subscribe({next:ht=>{Se.handleError(ht)}});te.onDestroy(()=>{Tv(this._modules,te),Ze.unsubscribe()})}),function Fw(n,i,s){try{const l=s();return Wc(l)?l.catch(d=>{throw i.runOutsideAngular(()=>n.handleError(d)),d}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(Se,I,()=>{const Ze=te.injector.get(gv);return Ze.runInitializers(),Ze.donePromise.then(()=>(function fE(n){mt(n,"Expected localeId to be defined"),"string"==typeof n&&(l_=n.toLowerCase().replace(/_/g,"-"))}(te.injector.get(yv,_m)||_m),this._moduleDoBootstrap(te),te))})})}bootstrapModule(s,l=[]){const d=G0({},l);return function Ow(n,i,s){const l=new tv(s);return Promise.resolve(l)}(0,0,s).then(y=>this.bootstrapModuleFactory(y,d))}_moduleDoBootstrap(s){const l=s.injector.get(Cv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new lt(403,"");s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new lt(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(H0,null);null==s||s(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(un(tu))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function G0(n,i){return Array.isArray(i)?i.reduce(G0,n):Object.assign(Object.assign({},n),i)}let Cv=(()=>{class n{constructor(s,l,d,y){this._zone=s,this._injector=l,this._exceptionHandler=d,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new G.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),I=new G.y(P=>{let z;this._zone.runOutsideAngular(()=>{z=this._zone.onStable.subscribe(()=>{xu.assertNotInAngularZone(),vv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const te=this._zone.onUnstable.subscribe(()=>{xu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{z.unsubscribe(),te.unsubscribe()}});this.isStable=(0,Ce.T)(b,I.pipe((0,ve.B)()))}bootstrap(s,l){if(!this._initStatus.done)throw new lt(405,"");let d;d=s instanceof N_?s:this._injector.get(Tm).resolveComponentFactory(s),this.componentTypes.push(d.componentType);const y=function Mw(n){return n.isBoundToModule}(d)?void 0:this._injector.get(Yh),I=d.create(tu.NULL,[],l||d.selector,y),P=I.location.nativeElement,z=I.injector.get(U0,null),te=z&&I.injector.get(Sw);return z&&te&&te.registerApplication(P,z),I.onDestroy(()=>{this.detachView(I.hostView),Tv(this.components,I),te&&te.unregisterApplication(P)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new lt(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Tv(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(L0,[]).concat(this._bootstrapListeners).forEach(d=>d(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(un(xu),un(tu),un(Lr),un(gv))},n.\u0275prov=Ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tv(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}let W0=!0,Z0=!1;function Uw(){return Z0=!0,W0}function Bw(){if(Z0)throw new Error("Cannot enable prod mode after platform setup.");W0=!1}let Hw=(()=>{class n{}return n.__NG_ELEMENT_ID__=jw,n})();function jw(n){return function $w(n,i,s){if(Wr(n)&&!s){const l=ei(n.index,i);return new jp(l,l)}return 47&n.type?new jp(i[16],i):null}(ar(),Gt(),16==(16&n))}class Q0{constructor(){}supports(i){return Md(i)}create(i){return new qw(i)}}const Kw=(n,i)=>i;class qw{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Kw}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,d=0,y=null;for(;s||l;){const b=!l||s&&s.currentIndex<X0(l,d,y)?s:l,I=X0(b,d,y),P=b.currentIndex;if(b===l)d--,l=l._nextRemoved;else if(s=s._next,null==b.previousIndex)d++;else{y||(y=[]);const z=I-d,te=P-d;if(z!=te){for(let Ze=0;Ze<z;Ze++){const ht=Ze<y.length?y[Ze]:y[Ze]=0,Wt=ht+Ze;te<=Wt&&Wt<z&&(y[Ze]=ht+1)}y[b.previousIndex]=te-z}}I!==P&&i(b,I,P)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Md(i))throw new lt(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,y,b,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let I=0;I<this.length;I++)y=i[I],b=this._trackByFn(I,y),null!==s&&Object.is(s.trackById,b)?(l&&(s=this._verifyReinsertion(s,y,b,I)),Object.is(s.item,y)||this._addIdentityChange(s,y)):(s=this._mismatch(s,y,b,I),l=!0),s=s._next}else d=0,function Lg(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Zu()]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,I=>{b=this._trackByFn(d,I),null!==s&&Object.is(s.trackById,b)?(l&&(s=this._verifyReinsertion(s,I,b,d)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,b,d),l=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,d){let y;return null===i?y=this._itTail:(y=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,y,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,y,d)):i=this._addAfter(new Yw(s,l),y,d),i}_verifyReinsertion(i,s,l,d){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==y?i=this._reinsertAfter(y,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,y=i._nextRemoved;return null===d?this._removalsHead=y:d._nextRemoved=y,null===y?this._removalsTail=d:y._prevRemoved=d,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const d=null===s?this._itHead:s._next;return i._next=d,i._prev=s,null===d?this._itTail=i:d._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new J0),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new J0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Yw{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class J0{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new Qw,this.map.set(s,l)),l.add(i)}get(i,s){const d=this.map.get(i);return d?d.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function X0(n,i,s){const l=n.previousIndex;if(null===l)return l;let d=0;return s&&l<s.length&&(d=s[l]),l+i+d}class eE{constructor(){}supports(i){return i instanceof Map||ap(i)}create(){return new Jw}}class Jw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||ap(i)))throw new lt(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const y=this._getOrCreateRecordForKey(d,l);s=this._insertBeforeOrAppend(s,y)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,s);const y=d._prev,b=d._next;return y&&(y._next=b),b&&(b._prev=y),d._next=null,d._prev=null,d}const l=new Xw(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class Xw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tE(){return new xv([new Q0])}let xv=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const d=l.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||tE()),deps:[[n,new Ca,new Us]]}}find(s){const l=this.factories.find(d=>d.supports(s));if(null!=l)return l;throw new lt(901,"")}}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:tE}),n})();function nE(){return new Ov([new eE])}let Ov=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const d=l.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||nE()),deps:[[n,new Ca,new Us]]}}find(s){const l=this.factories.find(y=>y.supports(s));if(l)return l;throw new lt(901,"")}}return n.\u0275prov=Ht({token:n,providedIn:"root",factory:nE}),n})();const nC=j0(null,"core",[]);let iC=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(un(Cv))},n.\u0275mod=_e({type:n}),n.\u0275inj=yn({}),n})()},3075:(qt,We,x)=>{x.d(We,{Cf:()=>ze,EJ:()=>Qn,Fj:()=>ke,JJ:()=>on,JL:()=>Li,JU:()=>ue,Kr:()=>ta,NI:()=>Ln,On:()=>Wr,UX:()=>fi,Wl:()=>q,YN:()=>bs,_:()=>ot,_Y:()=>ls,a5:()=>ci,cw:()=>Oi,kI:()=>ft,oH:()=>En,qu:()=>Hi,sg:()=>qi,u:()=>hr,u5:()=>ei});var f=x(5e3),h=x(9808),G=x(8996),Ce=x(4128),ve=x(4004);let Ne=(()=>{class B{constructor(M,re){this._renderer=M,this._elementRef=re,this.onChange=Pt=>{},this.onTouched=()=>{}}setProperty(M,re){this._renderer.setProperty(this._elementRef.nativeElement,M,re)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return B.\u0275fac=function(M){return new(M||B)(f.Y36(f.Qsj),f.Y36(f.SBq))},B.\u0275dir=f.lG2({type:B}),B})(),me=(()=>{class B extends Ne{}return B.\u0275fac=function(){let N;return function(re){return(N||(N=f.n5z(B)))(re||B)}}(),B.\u0275dir=f.lG2({type:B,features:[f.qOj]}),B})();const ue=new f.OlP("NgValueAccessor"),Z={provide:ue,useExisting:(0,f.Gpc)(()=>q),multi:!0};let q=(()=>{class B extends me{writeValue(M){this.setProperty("checked",M)}}return B.\u0275fac=function(){let N;return function(re){return(N||(N=f.n5z(B)))(re||B)}}(),B.\u0275dir=f.lG2({type:B,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(M,re){1&M&&f.NdJ("change",function(xn){return re.onChange(xn.target.checked)})("blur",function(){return re.onTouched()})},features:[f._Bn([Z]),f.qOj]}),B})();const se={provide:ue,useExisting:(0,f.Gpc)(()=>ke),multi:!0},at=new f.OlP("CompositionEventMode");let ke=(()=>{class B extends Ne{constructor(M,re,Pt){super(M,re),this._compositionMode=Pt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Te(){const B=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(M){this.setProperty("value",null==M?"":M)}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return B.\u0275fac=function(M){return new(M||B)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(at,8))},B.\u0275dir=f.lG2({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,re){1&M&&f.NdJ("input",function(xn){return re._handleInput(xn.target.value)})("blur",function(){return re.onTouched()})("compositionstart",function(){return re._compositionStart()})("compositionend",function(xn){return re._compositionEnd(xn.target.value)})},features:[f._Bn([se]),f.qOj]}),B})();function lt(B){return null==B||0===B.length}function ut(B){return null!=B&&"number"==typeof B.length}const ze=new f.OlP("NgValidators"),dt=new f.OlP("NgAsyncValidators"),Be=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ft{static min(N){return function pe(B){return N=>{if(lt(N.value)||lt(B))return null;const M=parseFloat(N.value);return!isNaN(M)&&M<B?{min:{min:B,actual:N.value}}:null}}(N)}static max(N){return function be(B){return N=>{if(lt(N.value)||lt(B))return null;const M=parseFloat(N.value);return!isNaN(M)&&M>B?{max:{max:B,actual:N.value}}:null}}(N)}static required(N){return function Qe(B){return lt(B.value)?{required:!0}:null}(N)}static requiredTrue(N){return function bt(B){return!0===B.value?null:{required:!0}}(N)}static email(N){return function Y(B){return lt(B.value)||Be.test(B.value)?null:{email:!0}}(N)}static minLength(N){return function Je(B){return N=>lt(N.value)||!ut(N.value)?null:N.value.length<B?{minlength:{requiredLength:B,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function nt(B){return N=>ut(N.value)&&N.value.length>B?{maxlength:{requiredLength:B,actualLength:N.value.length}}:null}(N)}static pattern(N){return function Fe(B){if(!B)return Ue;let N,M;return"string"==typeof B?(M="","^"!==B.charAt(0)&&(M+="^"),M+=B,"$"!==B.charAt(B.length-1)&&(M+="$"),N=new RegExp(M)):(M=B.toString(),N=B),re=>{if(lt(re.value))return null;const Pt=re.value;return N.test(Pt)?null:{pattern:{requiredPattern:M,actualValue:Pt}}}}(N)}static nullValidator(N){return null}static compose(N){return mt(N)}static composeAsync(N){return Ae(N)}}function Ue(B){return null}function Xe(B){return null!=B}function it(B){const N=(0,f.QGY)(B)?(0,G.D)(B):B;return(0,f.CqO)(N),N}function st(B){let N={};return B.forEach(M=>{N=null!=M?Object.assign(Object.assign({},N),M):N}),0===Object.keys(N).length?null:N}function xt(B,N){return N.map(M=>M(B))}function pt(B){return B.map(N=>function tn(B){return!B.validate}(N)?N:M=>N.validate(M))}function mt(B){if(!B)return null;const N=B.filter(Xe);return 0==N.length?null:function(M){return st(xt(M,N))}}function Q(B){return null!=B?mt(pt(B)):null}function Ae(B){if(!B)return null;const N=B.filter(Xe);return 0==N.length?null:function(M){const re=xt(M,N).map(it);return(0,Ce.D)(re).pipe((0,ve.U)(st))}}function qe(B){return null!=B?Ae(pt(B)):null}function Rt(B,N){return null===B?[N]:Array.isArray(B)?[...B,N]:[B,N]}function Ht(B){return B._rawValidators}function nn(B){return B._rawAsyncValidators}function yn(B){return B?Array.isArray(B)?B:[B]:[]}function On(B,N){return Array.isArray(B)?B.includes(N):B===N}function Vn(B,N){const M=yn(N);return yn(B).forEach(Pt=>{On(M,Pt)||M.push(Pt)}),M}function Jn(B,N){return yn(N).filter(M=>!On(B,M))}class jn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=Q(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,M){return!!this.control&&this.control.hasError(N,M)}getError(N,M){return this.control?this.control.getError(N,M):null}}class ci extends jn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yn extends jn{get formDirective(){return null}get path(){return null}}class Ai{constructor(N){this._cd=N}is(N){var M,re,Pt;return"submitted"===N?!!(null===(M=this._cd)||void 0===M?void 0:M.submitted):!!(null===(Pt=null===(re=this._cd)||void 0===re?void 0:re.control)||void 0===Pt?void 0:Pt[N])}}let on=(()=>{class B extends Ai{constructor(M){super(M)}}return B.\u0275fac=function(M){return new(M||B)(f.Y36(ci,2))},B.\u0275dir=f.lG2({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,re){2&M&&f.ekj("ng-untouched",re.is("untouched"))("ng-touched",re.is("touched"))("ng-pristine",re.is("pristine"))("ng-dirty",re.is("dirty"))("ng-valid",re.is("valid"))("ng-invalid",re.is("invalid"))("ng-pending",re.is("pending"))},features:[f.qOj]}),B})(),Li=(()=>{class B extends Ai{constructor(M){super(M)}}return B.\u0275fac=function(M){return new(M||B)(f.Y36(Yn,10))},B.\u0275dir=f.lG2({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,re){2&M&&f.ekj("ng-untouched",re.is("untouched"))("ng-touched",re.is("touched"))("ng-pristine",re.is("pristine"))("ng-dirty",re.is("dirty"))("ng-valid",re.is("valid"))("ng-invalid",re.is("invalid"))("ng-pending",re.is("pending"))("ng-submitted",re.is("submitted"))},features:[f.qOj]}),B})();function Mt(B,N){return[...N.path,B]}function Tt(B,N){W(B,N),N.valueAccessor.writeValue(B.value),function Ee(B,N){N.valueAccessor.registerOnChange(M=>{B._pendingValue=M,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&vt(B,N)})}(B,N),function Ft(B,N){const M=(re,Pt)=>{N.valueAccessor.writeValue(re),Pt&&N.viewToModelUpdate(re)};B.registerOnChange(M),N._registerOnDestroy(()=>{B._unregisterOnChange(M)})}(B,N),function Le(B,N){N.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&vt(B,N),"submit"!==B.updateOn&&B.markAsTouched()})}(B,N),function pn(B,N){if(N.valueAccessor.setDisabledState){const M=re=>{N.valueAccessor.setDisabledState(re)};B.registerOnDisabledChange(M),N._registerOnDestroy(()=>{B._unregisterOnDisabledChange(M)})}}(B,N)}function _n(B,N,M=!0){const re=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(re),N.valueAccessor.registerOnTouched(re)),de(B,N),B&&(N._invokeOnDestroyCallbacks(),B._registerOnCollectionChange(()=>{}))}function fn(B,N){B.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(N)})}function W(B,N){const M=Ht(B);null!==N.validator?B.setValidators(Rt(M,N.validator)):"function"==typeof M&&B.setValidators([M]);const re=nn(B);null!==N.asyncValidator?B.setAsyncValidators(Rt(re,N.asyncValidator)):"function"==typeof re&&B.setAsyncValidators([re]);const Pt=()=>B.updateValueAndValidity();fn(N._rawValidators,Pt),fn(N._rawAsyncValidators,Pt)}function de(B,N){let M=!1;if(null!==B){if(null!==N.validator){const Pt=Ht(B);if(Array.isArray(Pt)&&Pt.length>0){const xn=Pt.filter(ki=>ki!==N.validator);xn.length!==Pt.length&&(M=!0,B.setValidators(xn))}}if(null!==N.asyncValidator){const Pt=nn(B);if(Array.isArray(Pt)&&Pt.length>0){const xn=Pt.filter(ki=>ki!==N.asyncValidator);xn.length!==Pt.length&&(M=!0,B.setAsyncValidators(xn))}}}const re=()=>{};return fn(N._rawValidators,re),fn(N._rawAsyncValidators,re),M}function vt(B,N){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}function ee(B,N){if(!B.hasOwnProperty("model"))return!1;const M=B.model;return!!M.isFirstChange()||!Object.is(N,M.currentValue)}function et(B,N){if(!N)return null;let M,re,Pt;return Array.isArray(N),N.forEach(xn=>{xn.constructor===ke?M=xn:function ne(B){return Object.getPrototypeOf(B.constructor)===me}(xn)?re=xn:Pt=xn}),Pt||re||M||null}function Lt(B,N){const M=B.indexOf(N);M>-1&&B.splice(M,1)}const vn="VALID",Tn="INVALID",vi="PENDING",Ci="DISABLED";function Cr(B){return(gi(B)?B.validators:B)||null}function xi(B){return Array.isArray(B)?Q(B):B||null}function Yt(B,N){return(gi(N)?N.asyncValidators:B)||null}function qn(B){return Array.isArray(B)?qe(B):B||null}function gi(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}const zi=B=>B instanceof Ln,yr=B=>B instanceof Oi,Wi=B=>B instanceof Bi;function sr(B){return zi(B)?B.value:B.getRawValue()}function ai(B,N){const M=yr(B),re=B.controls;if(!(M?Object.keys(re):re).length)throw new f.vHH(1e3,"");if(!re[N])throw new f.vHH(1001,"")}function Tr(B,N){yr(B),B._forEachChild((re,Pt)=>{if(void 0===N[Pt])throw new f.vHH(1002,"")})}class Di{constructor(N,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=N,this._rawAsyncValidators=M,this._composedValidatorFn=xi(this._rawValidators),this._composedAsyncValidatorFn=qn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===vn}get invalid(){return this.status===Tn}get pending(){return this.status==vi}get disabled(){return this.status===Ci}get enabled(){return this.status!==Ci}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._rawValidators=N,this._composedValidatorFn=xi(N)}setAsyncValidators(N){this._rawAsyncValidators=N,this._composedAsyncValidatorFn=qn(N)}addValidators(N){this.setValidators(Vn(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(Vn(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(Jn(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(Jn(N,this._rawAsyncValidators))}hasValidator(N){return On(this._rawValidators,N)}hasAsyncValidator(N){return On(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=vi,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const M=this._parentMarkedDirty(N.onlySelf);this.status=Ci,this.errors=null,this._forEachChild(re=>{re.disable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:M})),this._onDisabledChange.forEach(re=>re(!0))}enable(N={}){const M=this._parentMarkedDirty(N.onlySelf);this.status=vn,this._forEachChild(re=>{re.enable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:M})),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vn||this.status===vi)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ci:vn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=vi,this._hasOwnPendingAsyncValidator=!0;const M=it(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(re,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,M={}){this.errors=N,this._updateControlsErrors(!1!==M.emitEvent)}get(N){return function Ti(B,N,M){if(null==N||(Array.isArray(N)||(N=N.split(M)),Array.isArray(N)&&0===N.length))return null;let re=B;return N.forEach(Pt=>{re=yr(re)?re.controls.hasOwnProperty(Pt)?re.controls[Pt]:null:Wi(re)&&re.at(Pt)||null}),re}(this,N,".")}getError(N,M){const re=M?this.get(M):this;return re&&re.errors?re.errors[N]:null}hasError(N,M){return!!this.getError(N,M)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Ci:this.errors?Tn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vi)?vi:this._anyControlsHaveStatus(Tn)?Tn:vn}_anyControlsHaveStatus(N){return this._anyControls(M=>M.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_isBoxedValue(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){gi(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ln extends Di{constructor(N=null,M,re){super(Cr(M),Yt(re,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gi(M)&&M.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(N)?N.value:N)}setValue(N,M={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(N,M={}){this.setValue(N,M)}reset(N=this.defaultValue,M={}){this._applyFormState(N),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){Lt(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){Lt(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){this._isBoxedValue(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}}class Oi extends Di{constructor(N,M,re){super(Cr(M),Yt(re,M)),this.controls=N,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,M){return this.controls[N]?this.controls[N]:(this.controls[N]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(N,M,re={}){this.registerControl(N,M),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(N,M={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(N,M,re={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],M&&this.registerControl(N,M),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,M={}){Tr(this,N),Object.keys(N).forEach(re=>{ai(this,re),this.controls[re].setValue(N[re],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(N,M={}){null!=N&&(Object.keys(N).forEach(re=>{this.controls[re]&&this.controls[re].patchValue(N[re],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(N={},M={}){this._forEachChild((re,Pt)=>{re.reset(N[Pt],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(N,M,re)=>(N[re]=sr(M),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(M,re)=>!!re._syncPendingControls()||M);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(M=>{const re=this.controls[M];re&&N(re,M)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const M of Object.keys(this.controls)){const re=this.controls[M];if(this.contains(M)&&N(re))return!0}return!1}_reduceValue(){return this._reduceChildren({},(N,M,re)=>((M.enabled||this.disabled)&&(N[re]=M.value),N))}_reduceChildren(N,M){let re=N;return this._forEachChild((Pt,xn)=>{re=M(re,Pt,xn)}),re}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Bi extends Di{constructor(N,M,re){super(Cr(M),Yt(re,M)),this.controls=N,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[N]}push(N,M={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(N,M,re={}){this.controls.splice(N,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:re.emitEvent})}removeAt(N,M={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(N,M,re={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),M&&(this.controls.splice(N,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,M={}){Tr(this,N),N.forEach((re,Pt)=>{ai(this,Pt),this.at(Pt).setValue(re,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(N,M={}){null!=N&&(N.forEach((re,Pt)=>{this.at(Pt)&&this.at(Pt).patchValue(re,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(N=[],M={}){this._forEachChild((re,Pt)=>{re.reset(N[Pt],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(N=>sr(N))}clear(N={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_syncPendingControls(){let N=this.controls.reduce((M,re)=>!!re._syncPendingControls()||M,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){this.controls.forEach((M,re)=>{N(M,re)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(M=>M.enabled&&N(M))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}}const Ir={provide:ci,useExisting:(0,f.Gpc)(()=>Wr)},zr=(()=>Promise.resolve(null))();let Wr=(()=>{class B extends ci{constructor(M,re,Pt,xn,ki){super(),this._changeDetectorRef=ki,this.control=new Ln,this._registered=!1,this.update=new f.vpe,this._parent=M,this._setValidators(re),this._setAsyncValidators(Pt),this.valueAccessor=et(0,xn)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const re=M.name.previousValue;this.formDirective.removeControl({name:re,path:this._getPath(re)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),ee(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){zr.then(()=>{var re;this.control.setValue(M,{emitViewToModelChange:!1}),null===(re=this._changeDetectorRef)||void 0===re||re.markForCheck()})}_updateDisabled(M){const re=M.isDisabled.currentValue,Pt=""===re||re&&"false"!==re;zr.then(()=>{var xn;Pt&&!this.control.disabled?this.control.disable():!Pt&&this.control.disabled&&this.control.enable(),null===(xn=this._changeDetectorRef)||void 0===xn||xn.markForCheck()})}_getPath(M){return this._parent?Mt(M,this._parent):[M]}}return B.\u0275fac=function(M){return new(M||B)(f.Y36(Yn,9),f.Y36(ze,10),f.Y36(dt,10),f.Y36(ue,10),f.Y36(f.sBO,8))},B.\u0275dir=f.lG2({type:B,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([Ir]),f.qOj,f.TTD]}),B})(),ls=(()=>{class B{}return B.\u0275fac=function(M){return new(M||B)},B.\u0275dir=f.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),B})();const gs={provide:ue,useExisting:(0,f.Gpc)(()=>ot),multi:!0};let Xi=(()=>{class B{}return B.\u0275fac=function(M){return new(M||B)},B.\u0275mod=f.oAB({type:B}),B.\u0275inj=f.cJS({}),B})(),bo=(()=>{class B{constructor(){this._accessors=[]}add(M,re){this._accessors.push([M,re])}remove(M){for(let re=this._accessors.length-1;re>=0;--re)if(this._accessors[re][1]===M)return void this._accessors.splice(re,1)}select(M){this._accessors.forEach(re=>{this._isSameGroup(re,M)&&re[1]!==M&&re[1].fireUncheck(M.value)})}_isSameGroup(M,re){return!!M[0].control&&M[0]._parent===re._control._parent&&M[1].name===re.name}}return B.\u0275fac=function(M){return new(M||B)},B.\u0275prov=f.Yz7({token:B,factory:B.\u0275fac,providedIn:Xi}),B})(),ot=(()=>{class B extends me{constructor(M,re,Pt,xn){super(M,re),this._registry=Pt,this._injector=xn,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(ci),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(M){this._state=M===this.value,this.setProperty("checked",this._state)}registerOnChange(M){this._fn=M,this.onChange=()=>{M(this.value),this._registry.select(this)}}fireUncheck(M){this.writeValue(M)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return B.\u0275fac=function(M){return new(M||B)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(bo),f.Y36(f.zs3))},B.\u0275dir=f.lG2({type:B,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(M,re){1&M&&f.NdJ("change",function(){return re.onChange()})("blur",function(){return re.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[f._Bn([gs]),f.qOj]}),B})();const Bt=new f.OlP("NgModelWithFormControlWarning"),ln={provide:ci,useExisting:(0,f.Gpc)(()=>En)};let En=(()=>{class B extends ci{constructor(M,re,Pt,xn){super(),this._ngModelWarningConfig=xn,this.update=new f.vpe,this._ngModelWarningSent=!1,this._setValidators(M),this._setAsyncValidators(re),this.valueAccessor=et(0,Pt)}set isDisabled(M){}ngOnChanges(M){if(this._isControlChanged(M)){const re=M.form.previousValue;re&&_n(re,this,!1),Tt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}ee(M,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&_n(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_isControlChanged(M){return M.hasOwnProperty("form")}}return B._ngModelWarningSentOnce=!1,B.\u0275fac=function(M){return new(M||B)(f.Y36(ze,10),f.Y36(dt,10),f.Y36(ue,10),f.Y36(Bt,8))},B.\u0275dir=f.lG2({type:B,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[f._Bn([ln]),f.qOj,f.TTD]}),B})();const $n={provide:Yn,useExisting:(0,f.Gpc)(()=>qi)};let qi=(()=>{class B extends Yn{constructor(M,re){super(),this.validators=M,this.asyncValidators=re,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(M),this._setAsyncValidators(re)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(de(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const re=this.form.get(M.path);return Tt(re,M),re.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),re}getControl(M){return this.form.get(M.path)}removeControl(M){_n(M.control||null,M,!1),Lt(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,re){this.form.get(M.path).setValue(re)}onSubmit(M){return this.submitted=!0,function xe(B,N){B._syncPendingControls(),N.forEach(M=>{const re=M.control;"submit"===re.updateOn&&re._pendingChange&&(M.viewToModelUpdate(re._pendingValue),re._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const re=M.control,Pt=this.form.get(M.path);re!==Pt&&(_n(re||null,M),zi(Pt)&&(Tt(Pt,M),M.control=Pt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const re=this.form.get(M.path);(function he(B,N){W(B,N)})(re,M),re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const re=this.form.get(M.path);re&&function fe(B,N){return de(B,N)}(re,M)&&re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){W(this.form,this),this._oldForm&&de(this._oldForm,this)}_checkFormPresent(){}}return B.\u0275fac=function(M){return new(M||B)(f.Y36(ze,10),f.Y36(dt,10))},B.\u0275dir=f.lG2({type:B,selectors:[["","formGroup",""]],hostBindings:function(M,re){1&M&&f.NdJ("submit",function(xn){return re.onSubmit(xn)})("reset",function(){return re.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([$n]),f.qOj,f.TTD]}),B})();const Kr={provide:ci,useExisting:(0,f.Gpc)(()=>hr)};let hr=(()=>{class B extends ci{constructor(M,re,Pt,xn,ki){super(),this._ngModelWarningConfig=ki,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(re),this._setAsyncValidators(Pt),this.valueAccessor=et(0,xn)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),ee(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return Mt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return B._ngModelWarningSentOnce=!1,B.\u0275fac=function(M){return new(M||B)(f.Y36(Yn,13),f.Y36(ze,10),f.Y36(dt,10),f.Y36(ue,10),f.Y36(Bt,8))},B.\u0275dir=f.lG2({type:B,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([Kr]),f.qOj,f.TTD]}),B})();const $o={provide:ue,useExisting:(0,f.Gpc)(()=>Qn),multi:!0};function xr(B,N){return null==B?`${N}`:(N&&"object"==typeof N&&(N="Object"),`${B}: ${N}`.slice(0,50))}let Qn=(()=>{class B extends me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){this.value=M;const Pt=xr(this._getOptionId(M),M);this.setProperty("value",Pt)}registerOnChange(M){this.onChange=re=>{this.value=this._getOptionValue(re),M(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(M){for(const re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(re),M))return re;return null}_getOptionValue(M){const re=function Ms(B){return B.split(":")[0]}(M);return this._optionMap.has(re)?this._optionMap.get(re):M}}return B.\u0275fac=function(){let N;return function(re){return(N||(N=f.n5z(B)))(re||B)}}(),B.\u0275dir=f.lG2({type:B,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(M,re){1&M&&f.NdJ("change",function(xn){return re.onChange(xn.target.value)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([$o]),f.qOj]}),B})(),bs=(()=>{class B{constructor(M,re,Pt){this._element=M,this._renderer=re,this._select=Pt,this._select&&(this.id=this._select._registerOption())}set ngValue(M){null!=this._select&&(this._select._optionMap.set(this.id,M),this._setElementValue(xr(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._setElementValue(M),this._select&&this._select.writeValue(this._select.value)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return B.\u0275fac=function(M){return new(M||B)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Qn,9))},B.\u0275dir=f.lG2({type:B,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),B})();const Ps={provide:ue,useExisting:(0,f.Gpc)(()=>es),multi:!0};function ms(B,N){return null==B?`${N}`:("string"==typeof N&&(N=`'${N}'`),N&&"object"==typeof N&&(N="Object"),`${B}: ${N}`.slice(0,50))}let es=(()=>{class B extends me{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){let re;if(this.value=M,Array.isArray(M)){const Pt=M.map(xn=>this._getOptionId(xn));re=(xn,ki)=>{xn._setSelected(Pt.indexOf(ki.toString())>-1)}}else re=(Pt,xn)=>{Pt._setSelected(!1)};this._optionMap.forEach(re)}registerOnChange(M){this.onChange=re=>{const Pt=[],xn=re.selectedOptions;if(void 0!==xn){const ki=xn;for(let Cs=0;Cs<ki.length;Cs++){const Wo=this._getOptionValue(ki[Cs].value);Pt.push(Wo)}}else{const ki=re.options;for(let Cs=0;Cs<ki.length;Cs++){const ds=ki[Cs];if(ds.selected){const Wo=this._getOptionValue(ds.value);Pt.push(Wo)}}}this.value=Pt,M(Pt)}}_registerOption(M){const re=(this._idCounter++).toString();return this._optionMap.set(re,M),re}_getOptionId(M){for(const re of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(re)._value,M))return re;return null}_getOptionValue(M){const re=function Aa(B){return B.split(":")[0]}(M);return this._optionMap.has(re)?this._optionMap.get(re)._value:M}}return B.\u0275fac=function(){let N;return function(re){return(N||(N=f.n5z(B)))(re||B)}}(),B.\u0275dir=f.lG2({type:B,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(M,re){1&M&&f.NdJ("change",function(xn){return re.onChange(xn.target)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Ps]),f.qOj]}),B})(),ta=(()=>{class B{constructor(M,re,Pt){this._element=M,this._renderer=re,this._select=Pt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(M){null!=this._select&&(this._value=M,this._setElementValue(ms(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._select?(this._value=M,this._setElementValue(ms(this.id,M)),this._select.writeValue(this._select.value)):this._setElementValue(M)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}_setSelected(M){this._renderer.setProperty(this._element.nativeElement,"selected",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return B.\u0275fac=function(M){return new(M||B)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(es,9))},B.\u0275dir=f.lG2({type:B,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),B})(),mi=(()=>{class B{}return B.\u0275fac=function(M){return new(M||B)},B.\u0275mod=f.oAB({type:B}),B.\u0275inj=f.cJS({imports:[[Xi]]}),B})(),ei=(()=>{class B{}return B.\u0275fac=function(M){return new(M||B)},B.\u0275mod=f.oAB({type:B}),B.\u0275inj=f.cJS({imports:[mi]}),B})(),fi=(()=>{class B{static withConfig(M){return{ngModule:B,providers:[{provide:Bt,useValue:M.warnOnNgModelWithFormControl}]}}}return B.\u0275fac=function(M){return new(M||B)},B.\u0275mod=f.oAB({type:B}),B.\u0275inj=f.cJS({imports:[mi]}),B})(),Hi=(()=>{class B{group(M,re=null){const Pt=this._reduceControls(M);let Cs,xn=null,ki=null;return null!=re&&(function er(B){return void 0!==B.asyncValidators||void 0!==B.validators||void 0!==B.updateOn}(re)?(xn=null!=re.validators?re.validators:null,ki=null!=re.asyncValidators?re.asyncValidators:null,Cs=null!=re.updateOn?re.updateOn:void 0):(xn=null!=re.validator?re.validator:null,ki=null!=re.asyncValidator?re.asyncValidator:null)),new Oi(Pt,{asyncValidators:ki,updateOn:Cs,validators:xn})}control(M,re,Pt){return new Ln(M,re,Pt)}array(M,re,Pt){const xn=M.map(ki=>this._createControl(ki));return new Bi(xn,re,Pt)}_reduceControls(M){const re={};return Object.keys(M).forEach(Pt=>{re[Pt]=this._createControl(M[Pt])}),re}_createControl(M){return zi(M)||yr(M)||Wi(M)?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return B.\u0275fac=function(M){return new(M||B)},B.\u0275prov=f.Yz7({token:B,factory:B.\u0275fac,providedIn:fi}),B})()},2313:(qt,We,x)=>{x.d(We,{H7:()=>fe,b2:()=>Mn,q6:()=>Yn,se:()=>it});var f=x(9808),h=x(5e3);class G extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends G{static makeCurrent(){(0,f.HT)(new Ce)}onAndCancel(ee,ne,xe){return ee.addEventListener(ne,xe,!1),()=>{ee.removeEventListener(ne,xe,!1)}}dispatchEvent(ee,ne){ee.dispatchEvent(ne)}remove(ee){ee.parentNode&&ee.parentNode.removeChild(ee)}createElement(ee,ne){return(ne=ne||this.getDefaultDocument()).createElement(ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ee){return ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(ee){return ee instanceof DocumentFragment}getGlobalEventTarget(ee,ne){return"window"===ne?window:"document"===ne?ee:"body"===ne?ee.body:null}getBaseHref(ee){const ne=function Ne(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==ne?null:function ue($){me=me||document.createElement("a"),me.setAttribute("href",$);const ee=me.pathname;return"/"===ee.charAt(0)?ee:`/${ee}`}(ne)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(ee){return(0,f.Mx)(document.cookie,ee)}}let me,ve=null;const Z=new h.OlP("TRANSITION_ID"),se=[{provide:h.ip1,useFactory:function q($,ee,ne){return()=>{ne.get(h.CZH).donePromise.then(()=>{const xe=(0,f.q)(),et=ee.querySelectorAll(`style[ng-transition="${$}"]`);for(let Lt=0;Lt<et.length;Lt++)xe.remove(et[Lt])})}},deps:[Z,f.K0,h.zs3],multi:!0}];class Te{static init(){(0,h.VLi)(new Te)}addToWindow(ee){h.dqk.getAngularTestability=(xe,et=!0)=>{const Lt=ee.findTestabilityInTree(xe,et);if(null==Lt)throw new Error("Could not find testability for element.");return Lt},h.dqk.getAllAngularTestabilities=()=>ee.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>ee.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(xe=>{const et=h.dqk.getAllAngularTestabilities();let Lt=et.length,Vt=!1;const bn=function(vn){Vt=Vt||vn,Lt--,0==Lt&&xe(Vt)};et.forEach(function(vn){vn.whenStable(bn)})})}findTestabilityInTree(ee,ne,xe){if(null==ne)return null;const et=ee.getTestability(ne);return null!=et?et:xe?(0,f.q)().isShadowRoot(ne)?this.findTestabilityInTree(ee,ne.host,!0):this.findTestabilityInTree(ee,ne.parentElement,!0):null}}let at=(()=>{class ${build(){return new XMLHttpRequest}}return $.\u0275fac=function(ne){return new(ne||$)},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();const ke=new h.OlP("EventManagerPlugins");let lt=(()=>{class ${constructor(ne,xe){this._zone=xe,this._eventNameToPlugin=new Map,ne.forEach(et=>et.manager=this),this._plugins=ne.slice().reverse()}addEventListener(ne,xe,et){return this._findPluginFor(xe).addEventListener(ne,xe,et)}addGlobalEventListener(ne,xe,et){return this._findPluginFor(xe).addGlobalEventListener(ne,xe,et)}getZone(){return this._zone}_findPluginFor(ne){const xe=this._eventNameToPlugin.get(ne);if(xe)return xe;const et=this._plugins;for(let Lt=0;Lt<et.length;Lt++){const Vt=et[Lt];if(Vt.supports(ne))return this._eventNameToPlugin.set(ne,Vt),Vt}throw new Error(`No event manager plugin found for event ${ne}`)}}return $.\u0275fac=function(ne){return new(ne||$)(h.LFG(ke),h.LFG(h.R0b))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();class ut{constructor(ee){this._doc=ee}addGlobalEventListener(ee,ne,xe){const et=(0,f.q)().getGlobalEventTarget(this._doc,ee);if(!et)throw new Error(`Unsupported event target ${et} for event ${ne}`);return this.addEventListener(et,ne,xe)}}let ze=(()=>{class ${constructor(){this._stylesSet=new Set}addStyles(ne){const xe=new Set;ne.forEach(et=>{this._stylesSet.has(et)||(this._stylesSet.add(et),xe.add(et))}),this.onStylesAdded(xe)}onStylesAdded(ne){}getAllStyles(){return Array.from(this._stylesSet)}}return $.\u0275fac=function(ne){return new(ne||$)},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})(),dt=(()=>{class $ extends ze{constructor(ne){super(),this._doc=ne,this._hostNodes=new Map,this._hostNodes.set(ne.head,[])}_addStylesToHost(ne,xe,et){ne.forEach(Lt=>{const Vt=this._doc.createElement("style");Vt.textContent=Lt,et.push(xe.appendChild(Vt))})}addHost(ne){const xe=[];this._addStylesToHost(this._stylesSet,ne,xe),this._hostNodes.set(ne,xe)}removeHost(ne){const xe=this._hostNodes.get(ne);xe&&xe.forEach(Be),this._hostNodes.delete(ne)}onStylesAdded(ne){this._hostNodes.forEach((xe,et)=>{this._addStylesToHost(ne,et,xe)})}ngOnDestroy(){this._hostNodes.forEach(ne=>ne.forEach(Be))}}return $.\u0275fac=function(ne){return new(ne||$)(h.LFG(f.K0))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();function Be($){(0,f.q)().remove($)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pe=/%COMP%/g;function Fe($,ee,ne){for(let xe=0;xe<ee.length;xe++){let et=ee[xe];Array.isArray(et)?Fe($,et,ne):(et=et.replace(pe,$),ne.push(et))}return ne}function Ue($){return ee=>{if("__ngUnwrap__"===ee)return $;!1===$(ee)&&(ee.preventDefault(),ee.returnValue=!1)}}let it=(()=>{class ${constructor(ne,xe,et){this.eventManager=ne,this.sharedStylesHost=xe,this.appId=et,this.rendererByCompId=new Map,this.defaultRenderer=new st(ne)}createRenderer(ne,xe){if(!ne||!xe)return this.defaultRenderer;switch(xe.encapsulation){case h.ifc.Emulated:{let et=this.rendererByCompId.get(xe.id);return et||(et=new pt(this.eventManager,this.sharedStylesHost,xe,this.appId),this.rendererByCompId.set(xe.id,et)),et.applyToHost(ne),et}case 1:case h.ifc.ShadowDom:return new mt(this.eventManager,this.sharedStylesHost,ne,xe);default:if(!this.rendererByCompId.has(xe.id)){const et=Fe(xe.id,xe.styles,[]);this.sharedStylesHost.addStyles(et),this.rendererByCompId.set(xe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return $.\u0275fac=function(ne){return new(ne||$)(h.LFG(lt),h.LFG(dt),h.LFG(h.AFp))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();class st{constructor(ee){this.eventManager=ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ee,ne){return ne?document.createElementNS(ft[ne]||ne,ee):document.createElement(ee)}createComment(ee){return document.createComment(ee)}createText(ee){return document.createTextNode(ee)}appendChild(ee,ne){ee.appendChild(ne)}insertBefore(ee,ne,xe){ee&&ee.insertBefore(ne,xe)}removeChild(ee,ne){ee&&ee.removeChild(ne)}selectRootElement(ee,ne){let xe="string"==typeof ee?document.querySelector(ee):ee;if(!xe)throw new Error(`The selector "${ee}" did not match any elements`);return ne||(xe.textContent=""),xe}parentNode(ee){return ee.parentNode}nextSibling(ee){return ee.nextSibling}setAttribute(ee,ne,xe,et){if(et){ne=et+":"+ne;const Lt=ft[et];Lt?ee.setAttributeNS(Lt,ne,xe):ee.setAttribute(ne,xe)}else ee.setAttribute(ne,xe)}removeAttribute(ee,ne,xe){if(xe){const et=ft[xe];et?ee.removeAttributeNS(et,ne):ee.removeAttribute(`${xe}:${ne}`)}else ee.removeAttribute(ne)}addClass(ee,ne){ee.classList.add(ne)}removeClass(ee,ne){ee.classList.remove(ne)}setStyle(ee,ne,xe,et){et&(h.JOm.DashCase|h.JOm.Important)?ee.style.setProperty(ne,xe,et&h.JOm.Important?"important":""):ee.style[ne]=xe}removeStyle(ee,ne,xe){xe&h.JOm.DashCase?ee.style.removeProperty(ne):ee.style[ne]=""}setProperty(ee,ne,xe){ee[ne]=xe}setValue(ee,ne){ee.nodeValue=ne}listen(ee,ne,xe){return"string"==typeof ee?this.eventManager.addGlobalEventListener(ee,ne,Ue(xe)):this.eventManager.addEventListener(ee,ne,Ue(xe))}}class pt extends st{constructor(ee,ne,xe,et){super(ee),this.component=xe;const Lt=Fe(et+"-"+xe.id,xe.styles,[]);ne.addStyles(Lt),this.contentAttr=function Je($){return"_ngcontent-%COMP%".replace(pe,$)}(et+"-"+xe.id),this.hostAttr=function nt($){return"_nghost-%COMP%".replace(pe,$)}(et+"-"+xe.id)}applyToHost(ee){super.setAttribute(ee,this.hostAttr,"")}createElement(ee,ne){const xe=super.createElement(ee,ne);return super.setAttribute(xe,this.contentAttr,""),xe}}class mt extends st{constructor(ee,ne,xe,et){super(ee),this.sharedStylesHost=ne,this.hostEl=xe,this.shadowRoot=xe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Lt=Fe(et.id,et.styles,[]);for(let Vt=0;Vt<Lt.length;Vt++){const bn=document.createElement("style");bn.textContent=Lt[Vt],this.shadowRoot.appendChild(bn)}}nodeOrShadowRoot(ee){return ee===this.hostEl?this.shadowRoot:ee}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ee,ne){return super.appendChild(this.nodeOrShadowRoot(ee),ne)}insertBefore(ee,ne,xe){return super.insertBefore(this.nodeOrShadowRoot(ee),ne,xe)}removeChild(ee,ne){return super.removeChild(this.nodeOrShadowRoot(ee),ne)}parentNode(ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ee)))}}let Q=(()=>{class $ extends ut{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,xe,et){return ne.addEventListener(xe,et,!1),()=>this.removeEventListener(ne,xe,et)}removeEventListener(ne,xe,et){return ne.removeEventListener(xe,et)}}return $.\u0275fac=function(ne){return new(ne||$)(h.LFG(f.K0))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();const Ae=["alt","control","meta","shift"],Rt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ht={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},nn={alt:$=>$.altKey,control:$=>$.ctrlKey,meta:$=>$.metaKey,shift:$=>$.shiftKey};let yn=(()=>{class $ extends ut{constructor(ne){super(ne)}supports(ne){return null!=$.parseEventName(ne)}addEventListener(ne,xe,et){const Lt=$.parseEventName(xe),Vt=$.eventCallback(Lt.fullKey,et,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(ne,Lt.domEventName,Vt))}static parseEventName(ne){const xe=ne.toLowerCase().split("."),et=xe.shift();if(0===xe.length||"keydown"!==et&&"keyup"!==et)return null;const Lt=$._normalizeKey(xe.pop());let Vt="";if(Ae.forEach(vn=>{const Tn=xe.indexOf(vn);Tn>-1&&(xe.splice(Tn,1),Vt+=vn+".")}),Vt+=Lt,0!=xe.length||0===Lt.length)return null;const bn={};return bn.domEventName=et,bn.fullKey=Vt,bn}static getEventFullKey(ne){let xe="",et=function On($){let ee=$.key;if(null==ee){if(ee=$.keyIdentifier,null==ee)return"Unidentified";ee.startsWith("U+")&&(ee=String.fromCharCode(parseInt(ee.substring(2),16)),3===$.location&&Ht.hasOwnProperty(ee)&&(ee=Ht[ee]))}return Rt[ee]||ee}(ne);return et=et.toLowerCase()," "===et?et="space":"."===et&&(et="dot"),Ae.forEach(Lt=>{Lt!=et&&nn[Lt](ne)&&(xe+=Lt+".")}),xe+=et,xe}static eventCallback(ne,xe,et){return Lt=>{$.getEventFullKey(Lt)===ne&&et.runGuarded(()=>xe(Lt))}}static _normalizeKey(ne){return"esc"===ne?"escape":ne}}return $.\u0275fac=function(ne){return new(ne||$)(h.LFG(f.K0))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();const Yn=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:f.bD},{provide:h.g9A,useValue:function Vn(){Ce.makeCurrent(),Te.init()},multi:!0},{provide:f.K0,useFactory:function jn(){return(0,h.RDi)(document),document},deps:[]}]),Ai=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Jn(){return new h.qLn},deps:[]},{provide:ke,useClass:Q,multi:!0,deps:[f.K0,h.R0b,h.Lbi]},{provide:ke,useClass:yn,multi:!0,deps:[f.K0]},{provide:it,useClass:it,deps:[lt,dt,h.AFp]},{provide:h.FYo,useExisting:it},{provide:ze,useExisting:dt},{provide:dt,useClass:dt,deps:[f.K0]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:lt,useClass:lt,deps:[ke,h.R0b]},{provide:f.JF,useClass:at,deps:[]}];let Mn=(()=>{class ${constructor(ne){if(ne)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ne){return{ngModule:$,providers:[{provide:h.AFp,useValue:ne.appId},{provide:Z,useExisting:h.AFp},se]}}}return $.\u0275fac=function(ne){return new(ne||$)(h.LFG($,12))},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({providers:Ai,imports:[f.ez,h.hGG]}),$})();"undefined"!=typeof window&&window;let fe=(()=>{class ${}return $.\u0275fac=function(ne){return new(ne||$)},$.\u0275prov=h.Yz7({token:$,factory:function(ne){let xe=null;return xe=ne?new(ne||$):h.LFG(_e),xe},providedIn:"root"}),$})(),_e=(()=>{class $ extends fe{constructor(ne){super(),this._doc=ne}sanitize(ne,xe){if(null==xe)return null;switch(ne){case h.q3G.NONE:return xe;case h.q3G.HTML:return(0,h.qzn)(xe,"HTML")?(0,h.z3N)(xe):(0,h.EiD)(this._doc,String(xe)).toString();case h.q3G.STYLE:return(0,h.qzn)(xe,"Style")?(0,h.z3N)(xe):xe;case h.q3G.SCRIPT:if((0,h.qzn)(xe,"Script"))return(0,h.z3N)(xe);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.yhl)(xe),(0,h.qzn)(xe,"URL")?(0,h.z3N)(xe):(0,h.mCW)(String(xe));case h.q3G.RESOURCE_URL:if((0,h.qzn)(xe,"ResourceURL"))return(0,h.z3N)(xe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ne} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ne){return(0,h.JVY)(ne)}bypassSecurityTrustStyle(ne){return(0,h.L6k)(ne)}bypassSecurityTrustScript(ne){return(0,h.eBb)(ne)}bypassSecurityTrustUrl(ne){return(0,h.LAX)(ne)}bypassSecurityTrustResourceUrl(ne){return(0,h.pB0)(ne)}}return $.\u0275fac=function(ne){return new(ne||$)(h.LFG(f.K0))},$.\u0275prov=h.Yz7({token:$,factory:function(ne){let xe=null;return xe=ne?new ne:function Me($){return new _e($.get(f.K0))}(h.LFG(h.zs3)),xe},providedIn:"root"}),$})()},2094:(qt,We,x)=>{x.d(We,{gz:()=>rr,F0:()=>ji,Od:()=>tr,yS:()=>Ns,Bz:()=>Qu,lC:()=>ts});var f=x(5e3),h=x(8306),G=x(576);function Ce(O,D){const w=(0,G.m)(O)?O:()=>O,k=L=>L.error(w());return new h.y(D?L=>D.schedule(k,0,L):k)}var ve=x(727),Ne=x(4482),me=x(5403);function ue(){return(0,Ne.e)((O,D)=>{let w=null;O._refCount++;const k=(0,me.x)(D,void 0,void 0,void 0,()=>{if(!O||O._refCount<=0||0<--O._refCount)return void(w=null);const L=O._connection,le=w;w=null,L&&(!le||L===le)&&L.unsubscribe(),D.unsubscribe()});O.subscribe(k),k.closed||(w=O.connect())})}class Z extends h.y{constructor(D,w){super(),this.source=D,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ne.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new ve.w0;const w=this.getSubject();D.add(this.source.subscribe((0,me.x)(w,void 0,()=>{this._teardown(),w.complete()},k=>{this._teardown(),w.error(k)},()=>this._teardown()))),D.closed&&(this._connection=null,D=ve.w0.EMPTY)}return D}refCount(){return ue()(this)}}var q=x(8996),se=x(9646),Te=x(1135),at=x(9841),ke=x(6805),lt=x(7272),ut=x(9770),ze=x(515),dt=x(7579),Be=x(8421);function ft(O){return(0,Ne.e)((D,w)=>{let le,k=null,L=!1;k=D.subscribe((0,me.x)(w,void 0,void 0,Pe=>{le=(0,Be.Xf)(O(Pe,ft(O)(D))),k?(k.unsubscribe(),k=null,le.subscribe(w)):L=!0})),L&&(k.unsubscribe(),k=null,le.subscribe(w))})}var pe=x(9300);function be(O){return O<=0?()=>ze.E:(0,Ne.e)((D,w)=>{let k=[];D.subscribe((0,me.x)(w,L=>{k.push(L),O<k.length&&k.shift()},()=>{for(const L of k)w.next(L);w.complete()},void 0,()=>{k=null}))})}var Qe=x(8068),bt=x(6590),Y=x(4671),Fe=x(4004),Ue=x(3900),Xe=x(5698),it=x(8675),st=x(5026),xt=x(4351),tn=x(590),pt=x(5577),mt=x(8505),Q=x(8189),Ae=x(9808);class qe{constructor(D,w){this.id=D,this.url=w}}class Rt extends qe{constructor(D,w,k="imperative",L=null){super(D,w),this.navigationTrigger=k,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ht extends qe{constructor(D,w,k){super(D,w),this.urlAfterRedirects=k}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nn extends qe{constructor(D,w,k){super(D,w),this.reason=k}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yn extends qe{constructor(D,w,k){super(D,w),this.error=k}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class On extends qe{constructor(D,w,k,L){super(D,w),this.urlAfterRedirects=k,this.state=L}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vn extends qe{constructor(D,w,k,L){super(D,w),this.urlAfterRedirects=k,this.state=L}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends qe{constructor(D,w,k,L,le){super(D,w),this.urlAfterRedirects=k,this.state=L,this.shouldActivate=le}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jn extends qe{constructor(D,w,k,L){super(D,w),this.urlAfterRedirects=k,this.state=L}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ci extends qe{constructor(D,w,k,L){super(D,w),this.urlAfterRedirects=k,this.state=L}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yn{constructor(D){this.route=D}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ai{constructor(D){this.route=D}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mn{constructor(D){this.snapshot=D}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bi{constructor(D){this.snapshot=D}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class on{constructor(D){this.snapshot=D}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Li{constructor(D){this.snapshot=D}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ti{constructor(D,w,k){this.routerEvent=D,this.position=w,this.anchor=k}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rn="primary";class Ui{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const w=this.params[D];return Array.isArray(w)?w[0]:w}return null}getAll(D){if(this.has(D)){const w=this.params[D];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function yi(O){return new Ui(O)}const Ot="ngNavigationCancelingError";function Ve(O){const D=Error("NavigationCancelingError: "+O);return D[Ot]=!0,D}function Ut(O,D,w){const k=w.path.split("/");if(k.length>O.length||"full"===w.pathMatch&&(D.hasChildren()||k.length<O.length))return null;const L={};for(let le=0;le<k.length;le++){const Pe=k[le],je=O[le];if(Pe.startsWith(":"))L[Pe.substring(1)]=je;else if(Pe!==je.path)return null}return{consumed:O.slice(0,k.length),posParams:L}}function Nt(O,D){const w=O?Object.keys(O):void 0,k=D?Object.keys(D):void 0;if(!w||!k||w.length!=k.length)return!1;let L;for(let le=0;le<w.length;le++)if(L=w[le],!Zt(O[L],D[L]))return!1;return!0}function Zt(O,D){if(Array.isArray(O)&&Array.isArray(D)){if(O.length!==D.length)return!1;const w=[...O].sort(),k=[...D].sort();return w.every((L,le)=>k[le]===L)}return O===D}function Re(O){return Array.prototype.concat.apply([],O)}function Oe(O){return O.length>0?O[O.length-1]:null}function Ke(O,D){for(const w in O)O.hasOwnProperty(w)&&D(O[w],w)}function wt(O){return(0,f.CqO)(O)?O:(0,f.QGY)(O)?(0,q.D)(Promise.resolve(O)):(0,se.of)(O)}const Tt={exact:function W(O,D,w){if(!_e(O.segments,D.segments)||!vt(O.segments,D.segments,w)||O.numberOfChildren!==D.numberOfChildren)return!1;for(const k in D.children)if(!O.children[k]||!W(O.children[k],D.children[k],w))return!1;return!0},subset:Ee},_n={exact:function pn(O,D){return Nt(O,D)},subset:function de(O,D){return Object.keys(D).length<=Object.keys(O).length&&Object.keys(D).every(w=>Zt(O[w],D[w]))},ignored:()=>!0};function fn(O,D,w){return Tt[w.paths](O.root,D.root,w.matrixParams)&&_n[w.queryParams](O.queryParams,D.queryParams)&&!("exact"===w.fragment&&O.fragment!==D.fragment)}function Ee(O,D,w){return Le(O,D,D.segments,w)}function Le(O,D,w,k){if(O.segments.length>w.length){const L=O.segments.slice(0,w.length);return!(!_e(L,w)||D.hasChildren()||!vt(L,w,k))}if(O.segments.length===w.length){if(!_e(O.segments,w)||!vt(O.segments,w,k))return!1;for(const L in D.children)if(!O.children[L]||!Ee(O.children[L],D.children[L],k))return!1;return!0}{const L=w.slice(0,O.segments.length),le=w.slice(O.segments.length);return!!(_e(O.segments,L)&&vt(O.segments,L,k)&&O.children[rn])&&Le(O.children[rn],D,le,k)}}function vt(O,D,w){return D.every((k,L)=>_n[w](O[L].parameters,k.parameters))}class Ft{constructor(D,w,k){this.root=D,this.queryParams=w,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yi(this.queryParams)),this._queryParamMap}toString(){return ne.serialize(this)}}class he{constructor(D,w){this.segments=D,this.children=w,this.parent=null,Ke(w,(k,L)=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xe(this)}}class fe{constructor(D,w){this.path=D,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=yi(this.parameters)),this._parameterMap}toString(){return Ci(this)}}function _e(O,D){return O.length===D.length&&O.every((w,k)=>w.path===D[k].path)}class ${}class ee{parse(D){const w=new Wi(D);return new Ft(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(D){const w=`/${et(D.root,!0)}`,k=function Cr(O){const D=Object.keys(O).map(w=>{const k=O[w];return Array.isArray(k)?k.map(L=>`${Vt(w)}=${Vt(L)}`).join("&"):`${Vt(w)}=${Vt(k)}`}).filter(w=>!!w);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${w}${k}${"string"==typeof D.fragment?`#${function bn(O){return encodeURI(O)}(D.fragment)}`:""}`}}const ne=new ee;function xe(O){return O.segments.map(D=>Ci(D)).join("/")}function et(O,D){if(!O.hasChildren())return xe(O);if(D){const w=O.children[rn]?et(O.children[rn],!1):"",k=[];return Ke(O.children,(L,le)=>{le!==rn&&k.push(`${le}:${et(L,!1)}`)}),k.length>0?`${w}(${k.join("//")})`:w}{const w=function X(O,D){let w=[];return Ke(O.children,(k,L)=>{L===rn&&(w=w.concat(D(k,L)))}),Ke(O.children,(k,L)=>{L!==rn&&(w=w.concat(D(k,L)))}),w}(O,(k,L)=>L===rn?[et(O.children[rn],!1)]:[`${L}:${et(k,!1)}`]);return 1===Object.keys(O.children).length&&null!=O.children[rn]?`${xe(O)}/${w[0]}`:`${xe(O)}/(${w.join("//")})`}}function Lt(O){return encodeURIComponent(O).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vt(O){return Lt(O).replace(/%3B/gi,";")}function vn(O){return Lt(O).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tn(O){return decodeURIComponent(O)}function vi(O){return Tn(O.replace(/\+/g,"%20"))}function Ci(O){return`${vn(O.path)}${function Ti(O){return Object.keys(O).map(D=>`;${vn(D)}=${vn(O[D])}`).join("")}(O.parameters)}`}const xi=/^[^\/()?;=#]+/;function Yt(O){const D=O.match(xi);return D?D[0]:""}const qn=/^[^=?&#]+/,zi=/^[^&#]+/;class Wi{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(D.length>0||Object.keys(w).length>0)&&(k[rn]=new he(D,w)),k}parseSegment(){const D=Yt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(D),new fe(Tn(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const w=Yt(this.remaining);if(!w)return;this.capture(w);let k="";if(this.consumeOptional("=")){const L=Yt(this.remaining);L&&(k=L,this.capture(k))}D[Tn(w)]=Tn(k)}parseQueryParam(D){const w=function gi(O){const D=O.match(qn);return D?D[0]:""}(this.remaining);if(!w)return;this.capture(w);let k="";if(this.consumeOptional("=")){const Pe=function yr(O){const D=O.match(zi);return D?D[0]:""}(this.remaining);Pe&&(k=Pe,this.capture(k))}const L=vi(w),le=vi(k);if(D.hasOwnProperty(L)){let Pe=D[L];Array.isArray(Pe)||(Pe=[Pe],D[L]=Pe),Pe.push(le)}else D[L]=le}parseParens(D){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=Yt(this.remaining),L=this.remaining[k.length];if("/"!==L&&")"!==L&&";"!==L)throw new Error(`Cannot parse url '${this.url}'`);let le;k.indexOf(":")>-1?(le=k.substr(0,k.indexOf(":")),this.capture(le),this.capture(":")):D&&(le=rn);const Pe=this.parseChildren();w[le]=1===Object.keys(Pe).length?Pe[rn]:new he([],Pe),this.consumeOptional("//")}return w}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new Error(`Expected "${D}".`)}}class sr{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const w=this.pathFromRoot(D);return w.length>1?w[w.length-2]:null}children(D){const w=ai(D,this._root);return w?w.children.map(k=>k.value):[]}firstChild(D){const w=ai(D,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(D){const w=Tr(D,this._root);return w.length<2?[]:w[w.length-2].children.map(L=>L.value).filter(L=>L!==D)}pathFromRoot(D){return Tr(D,this._root).map(w=>w.value)}}function ai(O,D){if(O===D.value)return D;for(const w of D.children){const k=ai(O,w);if(k)return k}return null}function Tr(O,D){if(O===D.value)return[D];for(const w of D.children){const k=Tr(O,w);if(k.length)return k.unshift(D),k}return[]}class Di{constructor(D,w){this.value=D,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ln(O){const D={};return O&&O.children.forEach(w=>D[w.value.outlet]=w),D}class Oi extends sr{constructor(D,w){super(D),this.snapshot=w,_i(this,D)}toString(){return this.snapshot.toString()}}function Bi(O,D){const w=function gn(O,D){const Pe=new wi([],{},{},"",{},rn,D,null,O.root,-1,{});return new Dr("",new Di(Pe,[]))}(O,D),k=new Te.X([new fe("",{})]),L=new Te.X({}),le=new Te.X({}),Pe=new Te.X({}),je=new Te.X(""),kt=new rr(k,L,Pe,je,le,rn,D,w.root);return kt.snapshot=w.root,new Oi(new Di(kt,[]),w)}class rr{constructor(D,w,k,L,le,Pe,je,kt){this.url=D,this.params=w,this.queryParams=k,this.fragment=L,this.data=le,this.outlet=Pe,this.component=je,this._futureSnapshot=kt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Fe.U)(D=>yi(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Fe.U)(D=>yi(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function St(O,D="emptyOnly"){const w=O.pathFromRoot;let k=0;if("always"!==D)for(k=w.length-1;k>=1;){const L=w[k],le=w[k-1];if(L.routeConfig&&""===L.routeConfig.path)k--;else{if(le.component)break;k--}}return function or(O){return O.reduce((D,w)=>({params:Object.assign(Object.assign({},D.params),w.params),data:Object.assign(Object.assign({},D.data),w.data),resolve:Object.assign(Object.assign({},D.resolve),w._resolvedData)}),{params:{},data:{},resolve:{}})}(w.slice(k))}class wi{constructor(D,w,k,L,le,Pe,je,kt,wn,di,Nn){this.url=D,this.params=w,this.queryParams=k,this.fragment=L,this.data=le,this.outlet=Pe,this.component=je,this.routeConfig=kt,this._urlSegment=wn,this._lastPathIndex=di,this._resolve=Nn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dr extends sr{constructor(D,w){super(w),this.url=D,_i(this,w)}toString(){return Gr(this._root)}}function _i(O,D){D.value._routerState=O,D.children.forEach(w=>_i(O,w))}function Gr(O){const D=O.children.length>0?` { ${O.children.map(Gr).join(", ")} } `:"";return`${O.value}${D}`}function Ur(O){if(O.snapshot){const D=O.snapshot,w=O._futureSnapshot;O.snapshot=w,Nt(D.queryParams,w.queryParams)||O.queryParams.next(w.queryParams),D.fragment!==w.fragment&&O.fragment.next(w.fragment),Nt(D.params,w.params)||O.params.next(w.params),function It(O,D){if(O.length!==D.length)return!1;for(let w=0;w<O.length;++w)if(!Nt(O[w],D[w]))return!1;return!0}(D.url,w.url)||O.url.next(w.url),Nt(D.data,w.data)||O.data.next(w.data)}else O.snapshot=O._futureSnapshot,O.data.next(O._futureSnapshot.data)}function Ji(O,D){const w=Nt(O.params,D.params)&&function Me(O,D){return _e(O,D)&&O.every((w,k)=>Nt(w.parameters,D[k].parameters))}(O.url,D.url);return w&&!(!O.parent!=!D.parent)&&(!O.parent||Ji(O.parent,D.parent))}function zr(O,D,w){if(w&&O.shouldReuseRoute(D.value,w.value.snapshot)){const k=w.value;k._futureSnapshot=D.value;const L=function Wr(O,D,w){return D.children.map(k=>{for(const L of w.children)if(O.shouldReuseRoute(k.value,L.value.snapshot))return zr(O,k,L);return zr(O,k)})}(O,D,w);return new Di(k,L)}{if(O.shouldAttach(D.value)){const le=O.retrieve(D.value);if(null!==le){const Pe=le.route;return Pe.value._futureSnapshot=D.value,Pe.children=D.children.map(je=>zr(O,je)),Pe}}const k=function ls(O){return new rr(new Te.X(O.url),new Te.X(O.params),new Te.X(O.queryParams),new Te.X(O.fragment),new Te.X(O.data),O.outlet,O.component,O)}(D.value),L=D.children.map(le=>zr(O,le));return new Di(k,L)}}function Es(O){return"object"==typeof O&&null!=O&&!O.outlets&&!O.segmentPath}function gs(O){return"object"==typeof O&&null!=O&&O.outlets}function Ws(O,D,w,k,L){let le={};if(k&&Ke(k,(je,kt)=>{le[kt]=Array.isArray(je)?je.map(wn=>`${wn}`):`${je}`}),O===D)return new Ft(w,le,L);const Pe=Xi(O,D,w);return new Ft(Pe,le,L)}function Xi(O,D,w){const k={};return Ke(O.children,(L,le)=>{k[le]=L===D?w:Xi(L,D,w)}),new he(O.segments,k)}class bo{constructor(D,w,k){if(this.isAbsolute=D,this.numberOfDoubleDots=w,this.commands=k,D&&k.length>0&&Es(k[0]))throw new Error("Root segment cannot have matrix parameters");const L=k.find(gs);if(L&&L!==Oe(k))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ye{constructor(D,w,k){this.segmentGroup=D,this.processChildren=w,this.index=k}}function En(O,D,w){if(O||(O=new he([],{})),0===O.segments.length&&O.hasChildren())return $n(O,D,w);const k=function qi(O,D,w){let k=0,L=D;const le={match:!1,pathIndex:0,commandIndex:0};for(;L<O.segments.length;){if(k>=w.length)return le;const Pe=O.segments[L],je=w[k];if(gs(je))break;const kt=`${je}`,wn=k<w.length-1?w[k+1]:null;if(L>0&&void 0===kt)break;if(kt&&wn&&"object"==typeof wn&&void 0===wn.outlets){if(!dr(kt,wn,Pe))return le;k+=2}else{if(!dr(kt,{},Pe))return le;k++}L++}return{match:!0,pathIndex:L,commandIndex:k}}(O,D,w),L=w.slice(k.commandIndex);if(k.match&&k.pathIndex<O.segments.length){const le=new he(O.segments.slice(0,k.pathIndex),{});return le.children[rn]=new he(O.segments.slice(k.pathIndex),O.children),$n(le,0,L)}return k.match&&0===L.length?new he(O.segments,{}):k.match&&!O.hasChildren()?Ri(O,D,w):k.match?$n(O,0,L):Ri(O,D,w)}function $n(O,D,w){if(0===w.length)return new he(O.segments,{});{const k=function ln(O){return gs(O[0])?O[0].outlets:{[rn]:O}}(w),L={};return Ke(k,(le,Pe)=>{"string"==typeof le&&(le=[le]),null!==le&&(L[Pe]=En(O.children[Pe],D,le))}),Ke(O.children,(le,Pe)=>{void 0===k[Pe]&&(L[Pe]=le)}),new he(O.segments,L)}}function Ri(O,D,w){const k=O.segments.slice(0,D);let L=0;for(;L<w.length;){const le=w[L];if(gs(le)){const kt=us(le.outlets);return new he(k,kt)}if(0===L&&Es(w[0])){k.push(new fe(O.segments[D].path,Os(w[0]))),L++;continue}const Pe=gs(le)?le.outlets[rn]:`${le}`,je=L<w.length-1?w[L+1]:null;Pe&&je&&Es(je)?(k.push(new fe(Pe,Os(je))),L+=2):(k.push(new fe(Pe,{})),L++)}return new he(k,{})}function us(O){const D={};return Ke(O,(w,k)=>{"string"==typeof w&&(w=[w]),null!==w&&(D[k]=Ri(new he([],{}),0,w))}),D}function Os(O){const D={};return Ke(O,(w,k)=>D[k]=`${w}`),D}function dr(O,D,w){return O==w.path&&Nt(D,w.parameters)}class Kr{constructor(D,w,k,L){this.routeReuseStrategy=D,this.futureState=w,this.currState=k,this.forwardEvent=L}activate(D){const w=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,k,D),Ur(this.futureState.root),this.activateChildRoutes(w,k,D)}deactivateChildRoutes(D,w,k){const L=Ln(w);D.children.forEach(le=>{const Pe=le.value.outlet;this.deactivateRoutes(le,L[Pe],k),delete L[Pe]}),Ke(L,(le,Pe)=>{this.deactivateRouteAndItsChildren(le,k)})}deactivateRoutes(D,w,k){const L=D.value,le=w?w.value:null;if(L===le)if(L.component){const Pe=k.getContext(L.outlet);Pe&&this.deactivateChildRoutes(D,w,Pe.children)}else this.deactivateChildRoutes(D,w,k);else le&&this.deactivateRouteAndItsChildren(w,k)}deactivateRouteAndItsChildren(D,w){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,w):this.deactivateRouteAndOutlet(D,w)}detachAndStoreRouteSubtree(D,w){const k=w.getContext(D.value.outlet),L=k&&D.value.component?k.children:w,le=Ln(D);for(const Pe of Object.keys(le))this.deactivateRouteAndItsChildren(le[Pe],L);if(k&&k.outlet){const Pe=k.outlet.detach(),je=k.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:Pe,route:D,contexts:je})}}deactivateRouteAndOutlet(D,w){const k=w.getContext(D.value.outlet),L=k&&D.value.component?k.children:w,le=Ln(D);for(const Pe of Object.keys(le))this.deactivateRouteAndItsChildren(le[Pe],L);k&&k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated(),k.attachRef=null,k.resolver=null,k.route=null)}activateChildRoutes(D,w,k){const L=Ln(w);D.children.forEach(le=>{this.activateRoutes(le,L[le.value.outlet],k),this.forwardEvent(new Li(le.value.snapshot))}),D.children.length&&this.forwardEvent(new bi(D.value.snapshot))}activateRoutes(D,w,k){const L=D.value,le=w?w.value:null;if(Ur(L),L===le)if(L.component){const Pe=k.getOrCreateContext(L.outlet);this.activateChildRoutes(D,w,Pe.children)}else this.activateChildRoutes(D,w,k);else if(L.component){const Pe=k.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const je=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),Pe.children.onOutletReAttached(je.contexts),Pe.attachRef=je.componentRef,Pe.route=je.route.value,Pe.outlet&&Pe.outlet.attach(je.componentRef,je.route.value),Ur(je.route.value),this.activateChildRoutes(D,null,Pe.children)}else{const je=function hr(O){for(let D=O.parent;D;D=D.parent){const w=D.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig;if(w&&w.component)return null}return null}(L.snapshot),kt=je?je.module.componentFactoryResolver:null;Pe.attachRef=null,Pe.route=L,Pe.resolver=kt,Pe.outlet&&Pe.outlet.activateWith(L,kt),this.activateChildRoutes(D,null,Pe.children)}}else this.activateChildRoutes(D,null,k)}}class $o{constructor(D,w){this.routes=D,this.module=w}}function xr(O){return"function"==typeof O}function Qn(O){return O instanceof Ft}const Go=Symbol("INITIAL_VALUE");function es(){return(0,Ue.w)(O=>(0,at.a)(O.map(D=>D.pipe((0,Xe.q)(1),(0,it.O)(Go)))).pipe((0,st.R)((D,w)=>{let k=!1;return w.reduce((L,le,Pe)=>L!==Go?L:(le===Go&&(k=!0),k||!1!==le&&Pe!==w.length-1&&!Qn(le)?L:le),D)},Go),(0,pe.h)(D=>D!==Go),(0,Fe.U)(D=>Qn(D)?D:!0===D),(0,Xe.q)(1)))}class ta{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qr,this.attachRef=null}}class qr{constructor(){this.contexts=new Map}onChildOutletCreated(D,w){const k=this.getOrCreateContext(D);k.outlet=w,this.contexts.set(D,k)}onChildOutletDestroyed(D){const w=this.getContext(D);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let w=this.getContext(D);return w||(w=new ta,this.contexts.set(D,w)),w}getContext(D){return this.contexts.get(D)||null}}let ts=(()=>{class O{constructor(w,k,L,le,Pe){this.parentContexts=w,this.location=k,this.resolver=L,this.changeDetector=Pe,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=le||rn,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,k){this.activated=w,this._activatedRoute=k,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,k){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;const Pe=(k=k||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),je=this.parentContexts.getOrCreateContext(this.name).children,kt=new Qs(w,je,this.location.injector);this.activated=this.location.createComponent(Pe,this.location.length,kt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return O.\u0275fac=function(w){return new(w||O)(f.Y36(qr),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},O.\u0275dir=f.lG2({type:O,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),O})();class Qs{constructor(D,w,k){this.route=D,this.childContexts=w,this.parent=k}get(D,w){return D===rr?this.route:D===qr?this.childContexts:this.parent.get(D,w)}}let Ni=(()=>{class O{}return O.\u0275fac=function(w){return new(w||O)},O.\u0275cmp=f.Xpm({type:O,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,k){1&w&&f._UZ(0,"router-outlet")},directives:[ts],encapsulation:2}),O})();function Or(O,D=""){for(let w=0;w<O.length;w++){const k=O[w];zo(k,na(D,k))}}function zo(O,D){O.children&&Or(O.children,D)}function na(O,D){return D?O||D.path?O&&!D.path?`${O}/`:!O&&D.path?D.path:`${O}/${D.path}`:"":O}function cs(O){const D=O.children&&O.children.map(cs),w=D?Object.assign(Object.assign({},O),{children:D}):Object.assign({},O);return!w.component&&(D||w.loadChildren)&&w.outlet&&w.outlet!==rn&&(w.component=Ni),w}function vr(O){return O.outlet||rn}function wo(O,D){const w=O.filter(k=>vr(k)===D);return w.push(...O.filter(k=>vr(k)!==D)),w}const Si={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wn(O,D,w){var k;if(""===D.path)return"full"===D.pathMatch&&(O.hasChildren()||w.length>0)?Object.assign({},Si):{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const le=(D.matcher||Ut)(w,O,D);if(!le)return Object.assign({},Si);const Pe={};Ke(le.posParams,(kt,wn)=>{Pe[wn]=kt.path});const je=le.consumed.length>0?Object.assign(Object.assign({},Pe),le.consumed[le.consumed.length-1].parameters):Pe;return{matched:!0,consumedSegments:le.consumed,remainingSegments:w.slice(le.consumed.length),parameters:je,positionalParamSegments:null!==(k=le.posParams)&&void 0!==k?k:{}}}function ws(O,D,w,k,L="corrected"){if(w.length>0&&function ie(O,D,w){return w.some(k=>ce(O,D,k)&&vr(k)!==rn)}(O,w,k)){const Pe=new he(D,function V(O,D,w,k){const L={};L[rn]=k,k._sourceSegment=O,k._segmentIndexShift=D.length;for(const le of w)if(""===le.path&&vr(le)!==rn){const Pe=new he([],{});Pe._sourceSegment=O,Pe._segmentIndexShift=D.length,L[vr(le)]=Pe}return L}(O,D,k,new he(w,O.children)));return Pe._sourceSegment=O,Pe._segmentIndexShift=D.length,{segmentGroup:Pe,slicedSegments:[]}}if(0===w.length&&function F(O,D,w){return w.some(k=>ce(O,D,k))}(O,w,k)){const Pe=new he(O.segments,function Fi(O,D,w,k,L,le){const Pe={};for(const je of k)if(ce(O,w,je)&&!L[vr(je)]){const kt=new he([],{});kt._sourceSegment=O,kt._segmentIndexShift="legacy"===le?O.segments.length:D.length,Pe[vr(je)]=kt}return Object.assign(Object.assign({},L),Pe)}(O,D,w,k,O.children,L));return Pe._sourceSegment=O,Pe._segmentIndexShift=D.length,{segmentGroup:Pe,slicedSegments:w}}const le=new he(O.segments,O.children);return le._sourceSegment=O,le._segmentIndexShift=D.length,{segmentGroup:le,slicedSegments:w}}function ce(O,D,w){return(!(O.hasChildren()||D.length>0)||"full"!==w.pathMatch)&&""===w.path}function $e(O,D,w,k){return!!(vr(O)===k||k!==rn&&ce(D,w,O))&&("**"===O.path||Wn(D,O,w).matched)}function At(O,D,w){return 0===D.length&&!O.children[w]}class $t{constructor(D){this.segmentGroup=D||null}}class Pn{constructor(D){this.urlTree=D}}function Gn(O){return Ce(new $t(O))}function mi(O){return Ce(new Pn(O))}class Hi{constructor(D,w,k,L,le){this.configLoader=w,this.urlSerializer=k,this.urlTree=L,this.config=le,this.allowRedirects=!0,this.ngModule=D.get(f.h0i)}apply(){const D=ws(this.urlTree.root,[],[],this.config).segmentGroup,w=new he(D.segments,D.children);return this.expandSegmentGroup(this.ngModule,this.config,w,rn).pipe((0,Fe.U)(le=>this.createUrlTree(B(le),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ft(le=>{if(le instanceof Pn)return this.allowRedirects=!1,this.match(le.urlTree);throw le instanceof $t?this.noMatchError(le):le}))}match(D){return this.expandSegmentGroup(this.ngModule,this.config,D.root,rn).pipe((0,Fe.U)(L=>this.createUrlTree(B(L),D.queryParams,D.fragment))).pipe(ft(L=>{throw L instanceof $t?this.noMatchError(L):L}))}noMatchError(D){return new Error(`Cannot match any routes. URL Segment: '${D.segmentGroup}'`)}createUrlTree(D,w,k){const L=D.segments.length>0?new he([],{[rn]:D}):D;return new Ft(L,w,k)}expandSegmentGroup(D,w,k,L){return 0===k.segments.length&&k.hasChildren()?this.expandChildren(D,w,k).pipe((0,Fe.U)(le=>new he([],le))):this.expandSegment(D,k,w,k.segments,L,!0)}expandChildren(D,w,k){const L=[];for(const le of Object.keys(k.children))"primary"===le?L.unshift(le):L.push(le);return(0,q.D)(L).pipe((0,xt.b)(le=>{const Pe=k.children[le],je=wo(w,le);return this.expandSegmentGroup(D,je,Pe,le).pipe((0,Fe.U)(kt=>({segment:kt,outlet:le})))}),(0,st.R)((le,Pe)=>(le[Pe.outlet]=Pe.segment,le),{}),function Je(O,D){const w=arguments.length>=2;return k=>k.pipe(O?(0,pe.h)((L,le)=>O(L,le,k)):Y.y,be(1),w?(0,bt.d)(D):(0,Qe.T)(()=>new ke.K))}())}expandSegment(D,w,k,L,le,Pe){return(0,q.D)(k).pipe((0,xt.b)(je=>this.expandSegmentAgainstRoute(D,w,k,je,L,le,Pe).pipe(ft(wn=>{if(wn instanceof $t)return(0,se.of)(null);throw wn}))),(0,tn.P)(je=>!!je),ft((je,kt)=>{if(je instanceof ke.K||"EmptyError"===je.name)return At(w,L,le)?(0,se.of)(new he([],{})):Gn(w);throw je}))}expandSegmentAgainstRoute(D,w,k,L,le,Pe,je){return $e(L,w,le,Pe)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(D,w,L,le,Pe):je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,w,k,L,le,Pe):Gn(w):Gn(w)}expandSegmentAgainstRouteUsingRedirect(D,w,k,L,le,Pe){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,k,L,Pe):this.expandRegularSegmentAgainstRouteUsingRedirect(D,w,k,L,le,Pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,w,k,L){const le=this.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?mi(le):this.lineralizeSegments(k,le).pipe((0,pt.z)(Pe=>{const je=new he(Pe,{});return this.expandSegment(D,je,w,Pe,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,w,k,L,le,Pe){const{matched:je,consumedSegments:kt,remainingSegments:wn,positionalParamSegments:di}=Wn(w,L,le);if(!je)return Gn(w);const Nn=this.applyRedirectCommands(kt,L.redirectTo,di);return L.redirectTo.startsWith("/")?mi(Nn):this.lineralizeSegments(L,Nn).pipe((0,pt.z)(Mi=>this.expandSegment(D,w,k,Mi.concat(wn),Pe,!1)))}matchSegmentAgainstRoute(D,w,k,L,le){if("**"===k.path)return k.loadChildren?(k._loadedConfig?(0,se.of)(k._loadedConfig):this.configLoader.load(D.injector,k)).pipe((0,Fe.U)(Nn=>(k._loadedConfig=Nn,new he(L,{})))):(0,se.of)(new he(L,{}));const{matched:Pe,consumedSegments:je,remainingSegments:kt}=Wn(w,k,L);return Pe?this.getChildConfig(D,k,L).pipe((0,pt.z)(di=>{const Nn=di.module,Mi=di.routes,{segmentGroup:Pi,slicedSegments:pr}=ws(w,je,kt,Mi),go=new he(Pi.segments,Pi.children);if(0===pr.length&&go.hasChildren())return this.expandChildren(Nn,Mi,go).pipe((0,Fe.U)(Ko=>new he(je,Ko)));if(0===Mi.length&&0===pr.length)return(0,se.of)(new he(je,{}));const Oo=vr(k)===le;return this.expandSegment(Nn,go,Mi,pr,Oo?rn:le,!0).pipe((0,Fe.U)(Yr=>new he(je.concat(Yr.segments),Yr.children)))})):Gn(w)}getChildConfig(D,w,k){return w.children?(0,se.of)(new $o(w.children,D)):w.loadChildren?void 0!==w._loadedConfig?(0,se.of)(w._loadedConfig):this.runCanLoadGuards(D.injector,w,k).pipe((0,pt.z)(L=>L?this.configLoader.load(D.injector,w).pipe((0,Fe.U)(le=>(w._loadedConfig=le,le))):function fi(O){return Ce(Ve(`Cannot load children because the guard of the route "path: '${O.path}'" returned false`))}(w))):(0,se.of)(new $o([],D))}runCanLoadGuards(D,w,k){const L=w.canLoad;if(!L||0===L.length)return(0,se.of)(!0);const le=L.map(Pe=>{const je=D.get(Pe);let kt;if(function bs(O){return O&&xr(O.canLoad)}(je))kt=je.canLoad(w,k);else{if(!xr(je))throw new Error("Invalid CanLoad guard");kt=je(w,k)}return wt(kt)});return(0,se.of)(le).pipe(es(),(0,mt.b)(Pe=>{if(!Qn(Pe))return;const je=Ve(`Redirecting to "${this.urlSerializer.serialize(Pe)}"`);throw je.url=Pe,je}),(0,Fe.U)(Pe=>!0===Pe))}lineralizeSegments(D,w){let k=[],L=w.root;for(;;){if(k=k.concat(L.segments),0===L.numberOfChildren)return(0,se.of)(k);if(L.numberOfChildren>1||!L.children[rn])return Ce(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D.redirectTo}'`));L=L.children[rn]}}applyRedirectCommands(D,w,k){return this.applyRedirectCreatreUrlTree(w,this.urlSerializer.parse(w),D,k)}applyRedirectCreatreUrlTree(D,w,k,L){const le=this.createSegmentGroup(D,w.root,k,L);return new Ft(le,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(D,w){const k={};return Ke(D,(L,le)=>{if("string"==typeof L&&L.startsWith(":")){const je=L.substring(1);k[le]=w[je]}else k[le]=L}),k}createSegmentGroup(D,w,k,L){const le=this.createSegments(D,w.segments,k,L);let Pe={};return Ke(w.children,(je,kt)=>{Pe[kt]=this.createSegmentGroup(D,je,k,L)}),new he(le,Pe)}createSegments(D,w,k,L){return w.map(le=>le.path.startsWith(":")?this.findPosParam(D,le,L):this.findOrReturn(le,k))}findPosParam(D,w,k){const L=k[w.path.substring(1)];if(!L)throw new Error(`Cannot redirect to '${D}'. Cannot find '${w.path}'.`);return L}findOrReturn(D,w){let k=0;for(const L of w){if(L.path===D.path)return w.splice(k),L;k++}return D}}function B(O){const D={};for(const k of Object.keys(O.children)){const le=B(O.children[k]);(le.segments.length>0||le.hasChildren())&&(D[k]=le)}return function Vi(O){if(1===O.numberOfChildren&&O.children[rn]){const D=O.children[rn];return new he(O.segments.concat(D.segments),D.children)}return O}(new he(O.segments,D))}class M{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class re{constructor(D,w){this.component=D,this.route=w}}function Pt(O,D,w){const k=O._root;return ds(k,D?D._root:null,w,[k.value])}function ki(O,D,w){const k=function Cs(O){if(!O)return null;for(let D=O.parent;D;D=D.parent){const w=D.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig}return null}(D);return(k?k.module.injector:w).get(O)}function ds(O,D,w,k,L={canDeactivateChecks:[],canActivateChecks:[]}){const le=Ln(D);return O.children.forEach(Pe=>{(function Wo(O,D,w,k,L={canDeactivateChecks:[],canActivateChecks:[]}){const le=O.value,Pe=D?D.value:null,je=w?w.getContext(O.value.outlet):null;if(Pe&&le.routeConfig===Pe.routeConfig){const kt=function ga(O,D,w){if("function"==typeof w)return w(O,D);switch(w){case"pathParamsChange":return!_e(O.url,D.url);case"pathParamsOrQueryParamsChange":return!_e(O.url,D.url)||!Nt(O.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ji(O,D)||!Nt(O.queryParams,D.queryParams);default:return!Ji(O,D)}}(Pe,le,le.routeConfig.runGuardsAndResolvers);kt?L.canActivateChecks.push(new M(k)):(le.data=Pe.data,le._resolvedData=Pe._resolvedData),ds(O,D,le.component?je?je.children:null:w,k,L),kt&&je&&je.outlet&&je.outlet.isActivated&&L.canDeactivateChecks.push(new re(je.outlet.component,Pe))}else Pe&&Gt(D,je,L),L.canActivateChecks.push(new M(k)),ds(O,null,le.component?je?je.children:null:w,k,L)})(Pe,le[Pe.value.outlet],w,k.concat([Pe.value]),L),delete le[Pe.value.outlet]}),Ke(le,(Pe,je)=>Gt(Pe,w.getContext(je),L)),L}function Gt(O,D,w){const k=Ln(O),L=O.value;Ke(k,(le,Pe)=>{Gt(le,L.component?D?D.children.getContext(Pe):null:D,w)}),w.canDeactivateChecks.push(new re(L.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,L))}class hl{}function Oa(O){return new h.y(D=>D.error(O))}class Js{constructor(D,w,k,L,le,Pe){this.rootComponentType=D,this.config=w,this.urlTree=k,this.url=L,this.paramsInheritanceStrategy=le,this.relativeLinkResolution=Pe}recognize(){const D=ws(this.urlTree.root,[],[],this.config.filter(Pe=>void 0===Pe.redirectTo),this.relativeLinkResolution).segmentGroup,w=this.processSegmentGroup(this.config,D,rn);if(null===w)return null;const k=new wi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new Di(k,w),le=new Dr(this.url,L);return this.inheritParamsAndData(le._root),le}inheritParamsAndData(D){const w=D.value,k=St(w,this.paramsInheritanceStrategy);w.params=Object.freeze(k.params),w.data=Object.freeze(k.data),D.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(D,w,k){return 0===w.segments.length&&w.hasChildren()?this.processChildren(D,w):this.processSegment(D,w,w.segments,k)}processChildren(D,w){const k=[];for(const le of Object.keys(w.children)){const Pe=w.children[le],je=wo(D,le),kt=this.processSegmentGroup(je,Pe,le);if(null===kt)return null;k.push(...kt)}const L=Sr(k);return function Mr(O){O.sort((D,w)=>D.value.outlet===rn?-1:w.value.outlet===rn?1:D.value.outlet.localeCompare(w.value.outlet))}(L),L}processSegment(D,w,k,L){for(const le of D){const Pe=this.processSegmentAgainstRoute(le,w,k,L);if(null!==Pe)return Pe}return At(w,k,L)?[]:null}processSegmentAgainstRoute(D,w,k,L){if(D.redirectTo||!$e(D,w,k,L))return null;let le,Pe=[],je=[];if("**"===D.path){const Pi=k.length>0?Oe(k).parameters:{};le=new wi(k,Pi,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ma(D),vr(D),D.component,D,ia(w),To(w)+k.length,Ds(D))}else{const Pi=Wn(w,D,k);if(!Pi.matched)return null;Pe=Pi.consumedSegments,je=Pi.remainingSegments,le=new wi(Pe,Pi.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ma(D),vr(D),D.component,D,ia(w),To(w)+Pe.length,Ds(D))}const kt=function Rs(O){return O.children?O.children:O.loadChildren?O._loadedConfig.routes:[]}(D),{segmentGroup:wn,slicedSegments:di}=ws(w,Pe,je,kt.filter(Pi=>void 0===Pi.redirectTo),this.relativeLinkResolution);if(0===di.length&&wn.hasChildren()){const Pi=this.processChildren(kt,wn);return null===Pi?null:[new Di(le,Pi)]}if(0===kt.length&&0===di.length)return[new Di(le,[])];const Nn=vr(D)===L,Mi=this.processSegment(kt,wn,di,Nn?rn:L);return null===Mi?null:[new Di(le,Mi)]}}function co(O){const D=O.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function Sr(O){const D=[],w=new Set;for(const k of O){if(!co(k)){D.push(k);continue}const L=D.find(le=>k.value.routeConfig===le.value.routeConfig);void 0!==L?(L.children.push(...k.children),w.add(L)):D.push(k)}for(const k of w){const L=Sr(k.children);D.push(new Di(k.value,L))}return D.filter(k=>!w.has(k))}function ia(O){let D=O;for(;D._sourceSegment;)D=D._sourceSegment;return D}function To(O){let D=O,w=D._segmentIndexShift?D._segmentIndexShift:0;for(;D._sourceSegment;)D=D._sourceSegment,w+=D._segmentIndexShift?D._segmentIndexShift:0;return w-1}function Ma(O){return O.data||{}}function Ds(O){return O.resolve||{}}function Io(O){return[...Object.keys(O),...Object.getOwnPropertySymbols(O)]}function So(O){return(0,Ue.w)(D=>{const w=O(D);return w?(0,q.D)(w).pipe((0,Fe.U)(()=>D)):(0,se.of)(D)})}class pl extends class ra{shouldDetach(D){return!1}store(D,w){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,w){return D.routeConfig===w.routeConfig}}{}const sa=new f.OlP("ROUTES");class xo{constructor(D,w,k,L){this.injector=D,this.compiler=w,this.onLoadStartListener=k,this.onLoadEndListener=L}load(D,w){if(w._loader$)return w._loader$;this.onLoadStartListener&&this.onLoadStartListener(w);const L=this.loadModuleFactory(w.loadChildren).pipe((0,Fe.U)(le=>{this.onLoadEndListener&&this.onLoadEndListener(w);const Pe=le.create(D);return new $o(Re(Pe.injector.get(sa,void 0,f.XFs.Self|f.XFs.Optional)).map(cs),Pe)}),ft(le=>{throw w._loader$=void 0,le}));return w._loader$=new Z(L,()=>new dt.x).pipe(ue()),w._loader$}loadModuleFactory(D){return wt(D()).pipe((0,pt.z)(w=>w instanceof f.YKP?(0,se.of)(w):(0,q.D)(this.compiler.compileModuleAsync(w))))}}class gl{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,w){return D}}function is(O){throw O}function ho(O,D,w){return D.parse("/")}function Qi(O,D){return(0,se.of)(null)}const va={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ji=(()=>{class O{constructor(w,k,L,le,Pe,je,kt){this.rootComponentType=w,this.urlSerializer=k,this.rootContexts=L,this.location=le,this.config=kt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new dt.x,this.errorHandler=is,this.malformedUriErrorHandler=ho,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qi,afterPreactivation:Qi},this.urlHandlingStrategy=new gl,this.routeReuseStrategy=new pl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Pe.get(f.h0i),this.console=Pe.get(f.c2e);const Nn=Pe.get(f.R0b);this.isNgZoneEnabled=Nn instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(kt),this.currentUrlTree=function Mt(){return new Ft(new he([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xo(Pe,je,Mi=>this.triggerEvent(new Yn(Mi)),Mi=>this.triggerEvent(new Ai(Mi))),this.routerState=Bi(this.currentUrlTree,this.rootComponentType),this.transitions=new Te.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}setupNavigations(w){const k=this.events;return w.pipe((0,pe.h)(L=>0!==L.id),(0,Fe.U)(L=>Object.assign(Object.assign({},L),{extractedUrl:this.urlHandlingStrategy.extract(L.rawUrl)})),(0,Ue.w)(L=>{let le=!1,Pe=!1;return(0,se.of)(L).pipe((0,mt.b)(je=>{this.currentNavigation={id:je.id,initialUrl:je.currentRawUrl,extractedUrl:je.extractedUrl,trigger:je.source,extras:je.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ue.w)(je=>{const kt=this.browserUrlTree.toString(),wn=!this.navigated||je.extractedUrl.toString()!==kt||kt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||wn)&&this.urlHandlingStrategy.shouldProcessUrl(je.rawUrl))return fo(je.source)&&(this.browserUrlTree=je.extractedUrl),(0,se.of)(je).pipe((0,Ue.w)(Nn=>{const Mi=this.transitions.getValue();return k.next(new Rt(Nn.id,this.serializeUrl(Nn.extractedUrl),Nn.source,Nn.restoredState)),Mi!==this.transitions.getValue()?ze.E:Promise.resolve(Nn)}),function N(O,D,w,k){return(0,Ue.w)(L=>function er(O,D,w,k,L){return new Hi(O,D,w,k,L).apply()}(O,D,w,L.extractedUrl,k).pipe((0,Fe.U)(le=>Object.assign(Object.assign({},L),{urlAfterRedirects:le}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,mt.b)(Nn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Nn.urlAfterRedirects})}),function fl(O,D,w,k,L){return(0,pt.z)(le=>function uo(O,D,w,k,L="emptyOnly",le="legacy"){try{const Pe=new Js(O,D,w,k,L,le).recognize();return null===Pe?Oa(new hl):(0,se.of)(Pe)}catch(Pe){return Oa(Pe)}}(O,D,le.urlAfterRedirects,w(le.urlAfterRedirects),k,L).pipe((0,Fe.U)(Pe=>Object.assign(Object.assign({},le),{targetSnapshot:Pe}))))}(this.rootComponentType,this.config,Nn=>this.serializeUrl(Nn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,mt.b)(Nn=>{if("eager"===this.urlUpdateStrategy){if(!Nn.extras.skipLocationChange){const Pi=this.urlHandlingStrategy.merge(Nn.urlAfterRedirects,Nn.rawUrl);this.setBrowserUrl(Pi,Nn)}this.browserUrlTree=Nn.urlAfterRedirects}const Mi=new On(Nn.id,this.serializeUrl(Nn.extractedUrl),this.serializeUrl(Nn.urlAfterRedirects),Nn.targetSnapshot);k.next(Mi)}));if(wn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Mi,extractedUrl:Pi,source:pr,restoredState:go,extras:Oo}=je,mo=new Rt(Mi,this.serializeUrl(Pi),pr,go);k.next(mo);const Yr=Bi(Pi,this.rootComponentType).snapshot;return(0,se.of)(Object.assign(Object.assign({},je),{targetSnapshot:Yr,urlAfterRedirects:Pi,extras:Object.assign(Object.assign({},Oo),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=je.rawUrl,je.resolve(null),ze.E}),So(je=>{const{targetSnapshot:kt,id:wn,extractedUrl:di,rawUrl:Nn,extras:{skipLocationChange:Mi,replaceUrl:Pi}}=je;return this.hooks.beforePreactivation(kt,{navigationId:wn,appliedUrlTree:di,rawUrlTree:Nn,skipLocationChange:!!Mi,replaceUrl:!!Pi})}),(0,mt.b)(je=>{const kt=new Vn(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(kt)}),(0,Fe.U)(je=>Object.assign(Object.assign({},je),{guards:Pt(je.targetSnapshot,je.currentSnapshot,this.rootContexts)})),function Ei(O,D){return(0,pt.z)(w=>{const{targetSnapshot:k,currentSnapshot:L,guards:{canActivateChecks:le,canDeactivateChecks:Pe}}=w;return 0===Pe.length&&0===le.length?(0,se.of)(Object.assign(Object.assign({},w),{guardsResult:!0})):function dl(O,D,w,k){return(0,q.D)(O).pipe((0,pt.z)(L=>function ya(O,D,w,k,L){const le=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,se.of)(!0);const Pe=le.map(je=>{const kt=ki(je,D,L);let wn;if(function Aa(O){return O&&xr(O.canDeactivate)}(kt))wn=wt(kt.canDeactivate(O,D,w,k));else{if(!xr(kt))throw new Error("Invalid CanDeactivate guard");wn=wt(kt(O,D,w,k))}return wn.pipe((0,tn.P)())});return(0,se.of)(Pe).pipe(es())}(L.component,L.route,w,D,k)),(0,tn.P)(L=>!0!==L,!0))}(Pe,k,L,O).pipe((0,pt.z)(je=>je&&function Ms(O){return"boolean"==typeof O}(je)?function ar(O,D,w,k){return(0,q.D)(D).pipe((0,xt.b)(L=>(0,lt.z)(function Co(O,D){return null!==O&&D&&D(new Mn(O)),(0,se.of)(!0)}(L.route.parent,k),function ma(O,D){return null!==O&&D&&D(new on(O)),(0,se.of)(!0)}(L.route,k),function xa(O,D,w){const k=D[D.length-1],le=D.slice(0,D.length-1).reverse().map(Pe=>function xn(O){const D=O.routeConfig?O.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:O,guards:D}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>(0,ut.P)(()=>{const je=Pe.guards.map(kt=>{const wn=ki(kt,Pe.node,w);let di;if(function ms(O){return O&&xr(O.canActivateChild)}(wn))di=wt(wn.canActivateChild(k,O));else{if(!xr(wn))throw new Error("Invalid CanActivateChild guard");di=wt(wn(k,O))}return di.pipe((0,tn.P)())});return(0,se.of)(je).pipe(es())}));return(0,se.of)(le).pipe(es())}(O,L.path,w),function Zs(O,D,w){const k=D.routeConfig?D.routeConfig.canActivate:null;if(!k||0===k.length)return(0,se.of)(!0);const L=k.map(le=>(0,ut.P)(()=>{const Pe=ki(le,D,w);let je;if(function Ps(O){return O&&xr(O.canActivate)}(Pe))je=wt(Pe.canActivate(D,O));else{if(!xr(Pe))throw new Error("Invalid CanActivate guard");je=wt(Pe(D,O))}return je.pipe((0,tn.P)())}));return(0,se.of)(L).pipe(es())}(O,L.route,w))),(0,tn.P)(L=>!0!==L,!0))}(k,le,O,D):(0,se.of)(je)),(0,Fe.U)(je=>Object.assign(Object.assign({},w),{guardsResult:je})))})}(this.ngModule.injector,je=>this.triggerEvent(je)),(0,mt.b)(je=>{if(Qn(je.guardsResult)){const wn=Ve(`Redirecting to "${this.serializeUrl(je.guardsResult)}"`);throw wn.url=je.guardsResult,wn}const kt=new Jn(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot,!!je.guardsResult);this.triggerEvent(kt)}),(0,pe.h)(je=>!!je.guardsResult||(this.restoreHistory(je),this.cancelNavigationTransition(je,""),!1)),So(je=>{if(je.guards.canActivateChecks.length)return(0,se.of)(je).pipe((0,mt.b)(kt=>{const wn=new jn(kt.id,this.serializeUrl(kt.extractedUrl),this.serializeUrl(kt.urlAfterRedirects),kt.targetSnapshot);this.triggerEvent(wn)}),(0,Ue.w)(kt=>{let wn=!1;return(0,se.of)(kt).pipe(function Zo(O,D){return(0,pt.z)(w=>{const{targetSnapshot:k,guards:{canActivateChecks:L}}=w;if(!L.length)return(0,se.of)(w);let le=0;return(0,q.D)(L).pipe((0,xt.b)(Pe=>function Do(O,D,w,k){return function Pa(O,D,w,k){const L=Io(O);if(0===L.length)return(0,se.of)({});const le={};return(0,q.D)(L).pipe((0,pt.z)(Pe=>function ns(O,D,w,k){const L=ki(O,D,k);return wt(L.resolve?L.resolve(D,w):L(D,w))}(O[Pe],D,w,k).pipe((0,mt.b)(je=>{le[Pe]=je}))),be(1),(0,pt.z)(()=>Io(le).length===L.length?(0,se.of)(le):ze.E))}(O._resolve,O,D,k).pipe((0,Fe.U)(le=>(O._resolvedData=le,O.data=Object.assign(Object.assign({},O.data),St(O,w).resolve),null)))}(Pe.route,k,O,D)),(0,mt.b)(()=>le++),be(1),(0,pt.z)(Pe=>le===L.length?(0,se.of)(w):ze.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,mt.b)({next:()=>wn=!0,complete:()=>{wn||(this.restoreHistory(kt),this.cancelNavigationTransition(kt,"At least one route resolver didn't emit any value."))}}))}),(0,mt.b)(kt=>{const wn=new ci(kt.id,this.serializeUrl(kt.extractedUrl),this.serializeUrl(kt.urlAfterRedirects),kt.targetSnapshot);this.triggerEvent(wn)}))}),So(je=>{const{targetSnapshot:kt,id:wn,extractedUrl:di,rawUrl:Nn,extras:{skipLocationChange:Mi,replaceUrl:Pi}}=je;return this.hooks.afterPreactivation(kt,{navigationId:wn,appliedUrlTree:di,rawUrlTree:Nn,skipLocationChange:!!Mi,replaceUrl:!!Pi})}),(0,Fe.U)(je=>{const kt=function Ir(O,D,w){const k=zr(O,D._root,w?w._root:void 0);return new Oi(k,D)}(this.routeReuseStrategy,je.targetSnapshot,je.currentRouterState);return Object.assign(Object.assign({},je),{targetRouterState:kt})}),(0,mt.b)(je=>{this.currentUrlTree=je.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(je.urlAfterRedirects,je.rawUrl),this.routerState=je.targetRouterState,"deferred"===this.urlUpdateStrategy&&(je.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,je),this.browserUrlTree=je.urlAfterRedirects)}),((O,D,w)=>(0,Fe.U)(k=>(new Kr(D,k.targetRouterState,k.currentRouterState,w).activate(O),k)))(this.rootContexts,this.routeReuseStrategy,je=>this.triggerEvent(je)),(0,mt.b)({next(){le=!0},complete(){le=!0}}),function nt(O){return(0,Ne.e)((D,w)=>{try{D.subscribe(w)}finally{w.add(O)}})}(()=>{var je;le||Pe||this.cancelNavigationTransition(L,`Navigation ID ${L.id} is not equal to the current navigation id ${this.navigationId}`),(null===(je=this.currentNavigation)||void 0===je?void 0:je.id)===L.id&&(this.currentNavigation=null)}),ft(je=>{if(Pe=!0,function Ge(O){return O&&O[Ot]}(je)){const kt=Qn(je.url);kt||(this.navigated=!0,this.restoreHistory(L,!0));const wn=new nn(L.id,this.serializeUrl(L.extractedUrl),je.message);k.next(wn),kt?setTimeout(()=>{const di=this.urlHandlingStrategy.merge(je.url,this.rawUrlTree),Nn={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fo(L.source)};this.scheduleNavigation(di,"imperative",null,Nn,{resolve:L.resolve,reject:L.reject,promise:L.promise})},0):L.resolve(!1)}else{this.restoreHistory(L,!0);const kt=new yn(L.id,this.serializeUrl(L.extractedUrl),je);k.next(kt);try{L.resolve(this.errorHandler(je))}catch(wn){L.reject(wn)}}return ze.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}setTransition(w){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),w))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const k="popstate"===w.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{var L;const le={replaceUrl:!0},Pe=(null===(L=w.state)||void 0===L?void 0:L.navigationId)?w.state:null;if(Pe){const kt=Object.assign({},Pe);delete kt.navigationId,delete kt.\u0275routerPageId,0!==Object.keys(kt).length&&(le.state=kt)}const je=this.parseUrl(w.url);this.scheduleNavigation(je,k,Pe,le)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){Or(w),this.config=w.map(cs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,k={}){const{relativeTo:L,queryParams:le,fragment:Pe,queryParamsHandling:je,preserveFragment:kt}=k,wn=L||this.routerState.root,di=kt?this.currentUrlTree.fragment:Pe;let Nn=null;switch(je){case"merge":Nn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),le);break;case"preserve":Nn=this.currentUrlTree.queryParams;break;default:Nn=le||null}return null!==Nn&&(Nn=this.removeEmptyProps(Nn)),function Zr(O,D,w,k,L){if(0===w.length)return Ws(D.root,D.root,D.root,k,L);const le=function ot(O){if("string"==typeof O[0]&&1===O.length&&"/"===O[0])return new bo(!0,0,O);let D=0,w=!1;const k=O.reduce((L,le,Pe)=>{if("object"==typeof le&&null!=le){if(le.outlets){const je={};return Ke(le.outlets,(kt,wn)=>{je[wn]="string"==typeof kt?kt.split("/"):kt}),[...L,{outlets:je}]}if(le.segmentPath)return[...L,le.segmentPath]}return"string"!=typeof le?[...L,le]:0===Pe?(le.split("/").forEach((je,kt)=>{0==kt&&"."===je||(0==kt&&""===je?w=!0:".."===je?D++:""!=je&&L.push(je))}),L):[...L,le]},[]);return new bo(w,D,k)}(w);if(le.toRoot())return Ws(D.root,D.root,new he([],{}),k,L);const Pe=function gt(O,D,w){if(O.isAbsolute)return new Ye(D.root,!0,0);if(-1===w.snapshot._lastPathIndex){const le=w.snapshot._urlSegment;return new Ye(le,le===D.root,0)}const k=Es(O.commands[0])?0:1;return function Bt(O,D,w){let k=O,L=D,le=w;for(;le>L;){if(le-=L,k=k.parent,!k)throw new Error("Invalid number of '../'");L=k.segments.length}return new Ye(k,!1,L-le)}(w.snapshot._urlSegment,w.snapshot._lastPathIndex+k,O.numberOfDoubleDots)}(le,D,O),je=Pe.processChildren?$n(Pe.segmentGroup,Pe.index,le.commands):En(Pe.segmentGroup,Pe.index,le.commands);return Ws(D.root,Pe.segmentGroup,je,k,L)}(wn,this.currentUrlTree,w,Nn,null!=di?di:null)}navigateByUrl(w,k={skipLocationChange:!1}){const L=Qn(w)?w:this.parseUrl(w),le=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(le,"imperative",null,k)}navigate(w,k={skipLocationChange:!1}){return function Is(O){for(let D=0;D<O.length;D++){const w=O[D];if(null==w)throw new Error(`The requested path contains ${w} segment at index ${D}`)}}(w),this.navigateByUrl(this.createUrlTree(w,k),k)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let k;try{k=this.urlSerializer.parse(w)}catch(L){k=this.malformedUriErrorHandler(L,this.urlSerializer,w)}return k}isActive(w,k){let L;if(L=!0===k?Object.assign({},va):!1===k?Object.assign({},lu):k,Qn(w))return fn(this.currentUrlTree,w,L);const le=this.parseUrl(w);return fn(this.currentUrlTree,le,L)}removeEmptyProps(w){return Object.keys(w).reduce((k,L)=>{const le=w[L];return null!=le&&(k[L]=le),k},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new Ht(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,k,L,le,Pe){var je,kt;if(this.disposed)return Promise.resolve(!1);let wn,di,Nn;Pe?(wn=Pe.resolve,di=Pe.reject,Nn=Pe.promise):Nn=new Promise((pr,go)=>{wn=pr,di=go});const Mi=++this.navigationId;let Pi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(L=this.location.getState()),Pi=L&&L.\u0275routerPageId?L.\u0275routerPageId:le.replaceUrl||le.skipLocationChange?null!==(je=this.browserPageId)&&void 0!==je?je:0:(null!==(kt=this.browserPageId)&&void 0!==kt?kt:0)+1):Pi=0,this.setTransition({id:Mi,targetPageId:Pi,source:k,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:le,resolve:wn,reject:di,promise:Nn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Nn.catch(pr=>Promise.reject(pr))}setBrowserUrl(w,k){const L=this.urlSerializer.serialize(w),le=Object.assign(Object.assign({},k.extras.state),this.generateNgRouterState(k.id,k.targetPageId));this.location.isCurrentPathEqualTo(L)||k.extras.replaceUrl?this.location.replaceState(L,"",le):this.location.go(L,"",le)}restoreHistory(w,k=!1){var L,le;if("computed"===this.canceledNavigationResolution){const Pe=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(L=this.currentNavigation)||void 0===L?void 0:L.finalUrl)||0===Pe?this.currentUrlTree===(null===(le=this.currentNavigation)||void 0===le?void 0:le.finalUrl)&&0===Pe&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Pe)}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,k){const L=new nn(w.id,this.serializeUrl(w.extractedUrl),k);this.triggerEvent(L),w.resolve(!1)}generateNgRouterState(w,k){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:k}:{navigationId:w}}}return O.\u0275fac=function(w){f.$Z()},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac}),O})();function fo(O){return"imperative"!==O}let po=(()=>{class O{constructor(w,k,L,le,Pe){this.router=w,this.route=k,this.tabIndexAttribute=L,this.renderer=le,this.el=Pe,this.commands=null,this.onChanges=new dt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){if(null!=this.tabIndexAttribute)return;const k=this.renderer,L=this.el.nativeElement;null!==w?k.setAttribute(L,"tabindex",w):k.removeAttribute(L,"tabindex")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const w={skipLocationChange:Kt(this.skipLocationChange),replaceUrl:Kt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Kt(this.preserveFragment)})}}return O.\u0275fac=function(w){return new(w||O)(f.Y36(ji),f.Y36(rr),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},O.\u0275dir=f.lG2({type:O,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,k){1&w&&f.NdJ("click",function(){return k.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),O})(),Ns=(()=>{class O{constructor(w,k,L){this.router=w,this.route=k,this.locationStrategy=L,this.commands=null,this.href=null,this.onChanges=new dt.x,this.subscription=w.events.subscribe(le=>{le instanceof Ht&&this.updateTargetUrlAndHref()})}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:null}ngOnChanges(w){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(w,k,L,le,Pe){if(0!==w||k||L||le||Pe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const je={skipLocationChange:Kt(this.skipLocationChange),replaceUrl:Kt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,je),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Kt(this.preserveFragment)})}}return O.\u0275fac=function(w){return new(w||O)(f.Y36(ji),f.Y36(rr),f.Y36(Ae.S$))},O.\u0275dir=f.lG2({type:O,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(w,k){1&w&&f.NdJ("click",function(le){return k.onClick(le.button,le.ctrlKey,le.shiftKey,le.altKey,le.metaKey)}),2&w&&f.uIk("target",k.target)("href",k.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),O})();function Kt(O){return""===O||!!O}let tr=(()=>{class O{constructor(w,k,L,le,Pe,je){this.router=w,this.element=k,this.renderer=L,this.cdr=le,this.link=Pe,this.linkWithHref=je,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=w.events.subscribe(kt=>{kt instanceof Ht&&this.update()})}ngAfterContentInit(){(0,se.of)(this.links.changes,this.linksWithHrefs.changes,(0,se.of)(null)).pipe((0,Q.J)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var w;null===(w=this.linkInputChangesSubscription)||void 0===w||w.unsubscribe();const k=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(L=>!!L).map(L=>L.onChanges);this.linkInputChangesSubscription=(0,q.D)(k).pipe((0,Q.J)()).subscribe(L=>{this.isActive!==this.isLinkActive(this.router)(L)&&this.update()})}set routerLinkActive(w){const k=Array.isArray(w)?w:w.split(" ");this.classes=k.filter(L=>!!L)}ngOnChanges(w){this.update()}ngOnDestroy(){var w;this.routerEventsSubscription.unsubscribe(),null===(w=this.linkInputChangesSubscription)||void 0===w||w.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const w=this.hasActiveLinks();this.isActive!==w&&(this.isActive=w,this.cdr.markForCheck(),this.classes.forEach(k=>{w?this.renderer.addClass(this.element.nativeElement,k):this.renderer.removeClass(this.element.nativeElement,k)}),this.isActiveChange.emit(w))})}isLinkActive(w){const k=function $i(O){return!!O.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return L=>!!L.urlTree&&w.isActive(L.urlTree,k)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.linkWithHref&&w(this.linkWithHref)||this.links.some(w)||this.linksWithHrefs.some(w)}}return O.\u0275fac=function(w){return new(w||O)(f.Y36(ji),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(po,8),f.Y36(Ns,8))},O.\u0275dir=f.lG2({type:O,selectors:[["","routerLinkActive",""]],contentQueries:function(w,k,L){if(1&w&&(f.Suo(L,po,5),f.Suo(L,Ns,5)),2&w){let le;f.iGM(le=f.CRH())&&(k.links=le),f.iGM(le=f.CRH())&&(k.linksWithHrefs=le)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[f.TTD]}),O})();class oa{}class Sn{preload(D,w){return(0,se.of)(null)}}let Ss=(()=>{class O{constructor(w,k,L,le){this.router=w,this.injector=L,this.preloadingStrategy=le,this.loader=new xo(L,k,kt=>w.triggerEvent(new Yn(kt)),kt=>w.triggerEvent(new Ai(kt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,pe.h)(w=>w instanceof Ht),(0,xt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const w=this.injector.get(f.h0i);return this.processRoutes(w,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,k){const L=[];for(const le of k)if(le.loadChildren&&!le.canLoad&&le._loadedConfig){const Pe=le._loadedConfig;L.push(this.processRoutes(Pe.module,Pe.routes))}else le.loadChildren&&!le.canLoad?L.push(this.preloadConfig(w,le)):le.children&&L.push(this.processRoutes(w,le.children));return(0,q.D)(L).pipe((0,Q.J)(),(0,Fe.U)(le=>{}))}preloadConfig(w,k){return this.preloadingStrategy.preload(k,()=>(k._loadedConfig?(0,se.of)(k._loadedConfig):this.loader.load(w.injector,k)).pipe((0,pt.z)(le=>(k._loadedConfig=le,this.processRoutes(le.module,le.routes)))))}}return O.\u0275fac=function(w){return new(w||O)(f.LFG(ji),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(oa))},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac}),O})(),hn=(()=>{class O{constructor(w,k,L={}){this.router=w,this.viewportScroller=k,this.options=L,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},L.scrollPositionRestoration=L.scrollPositionRestoration||"disabled",L.anchorScrolling=L.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Rt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof Ht&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof ti&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,k){this.router.triggerEvent(new ti(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return O.\u0275fac=function(w){f.$Z()},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac}),O})();const zt=new f.OlP("ROUTER_CONFIGURATION"),fr=new f.OlP("ROUTER_FORROOT_GUARD"),Ra=[Ae.Ye,{provide:$,useClass:ee},{provide:ji,useFactory:function rs(O,D,w,k,L,le,Pe={},je,kt){const wn=new ji(null,O,D,w,k,L,Re(le));return je&&(wn.urlHandlingStrategy=je),kt&&(wn.routeReuseStrategy=kt),function _a(O,D){O.errorHandler&&(D.errorHandler=O.errorHandler),O.malformedUriErrorHandler&&(D.malformedUriErrorHandler=O.malformedUriErrorHandler),O.onSameUrlNavigation&&(D.onSameUrlNavigation=O.onSameUrlNavigation),O.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=O.paramsInheritanceStrategy),O.relativeLinkResolution&&(D.relativeLinkResolution=O.relativeLinkResolution),O.urlUpdateStrategy&&(D.urlUpdateStrategy=O.urlUpdateStrategy),O.canceledNavigationResolution&&(D.canceledNavigationResolution=O.canceledNavigationResolution)}(Pe,wn),Pe.enableTracing&&wn.events.subscribe(di=>{var Nn,Mi;null===(Nn=console.group)||void 0===Nn||Nn.call(console,`Router Event: ${di.constructor.name}`),console.log(di.toString()),console.log(di),null===(Mi=console.groupEnd)||void 0===Mi||Mi.call(console)}),wn},deps:[$,qr,Ae.Ye,f.zs3,f.Sil,sa,zt,[class Fl{},new f.FiY],[class Ao{},new f.FiY]]},qr,{provide:rr,useFactory:function ka(O){return O.routerState.root},deps:[ji]},Ss,Sn,class Rn{preload(D,w){return w().pipe(ft(()=>(0,se.of)(null)))}},{provide:zt,useValue:{enableTracing:!1}}];function Ja(){return new f.PXZ("Router",ji)}let Qu=(()=>{class O{constructor(w,k){}static forRoot(w,k){return{ngModule:O,providers:[Ra,Na(w),{provide:fr,useFactory:Xa,deps:[[ji,new f.FiY,new f.tp0]]},{provide:zt,useValue:k||{}},{provide:Ae.S$,useFactory:ml,deps:[Ae.lw,[new f.tBr(Ae.mr),new f.FiY],zt]},{provide:hn,useFactory:ys,deps:[ji,Ae.EM,zt]},{provide:oa,useExisting:k&&k.preloadingStrategy?k.preloadingStrategy:Sn},{provide:f.PXZ,multi:!0,useFactory:Ja},[Gi,{provide:f.ip1,multi:!0,useFactory:ni,deps:[Gi]},{provide:Ea,useFactory:vs,deps:[Gi]},{provide:f.tb,multi:!0,useExisting:Ea}]]}}static forChild(w){return{ngModule:O,providers:[Na(w)]}}}return O.\u0275fac=function(w){return new(w||O)(f.LFG(fr,8),f.LFG(ji,8))},O.\u0275mod=f.oAB({type:O}),O.\u0275inj=f.cJS({}),O})();function ys(O,D,w){return w.scrollOffset&&D.setOffset(w.scrollOffset),new hn(O,D,w)}function ml(O,D,w={}){return w.useHash?new Ae.Do(O,D):new Ae.b0(O,D)}function Xa(O){return"guarded"}function Na(O){return[{provide:f.deG,multi:!0,useValue:O},{provide:sa,multi:!0,useValue:O}]}let Gi=(()=>{class O{constructor(w){this.injector=w,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new dt.x}appInitializer(){return this.injector.get(Ae.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let k=null;const L=new Promise(je=>k=je),le=this.injector.get(ji),Pe=this.injector.get(zt);return"disabled"===Pe.initialNavigation?(le.setUpLocationChangeListener(),k(!0)):"enabled"===Pe.initialNavigation||"enabledBlocking"===Pe.initialNavigation?(le.hooks.afterPreactivation=()=>this.initNavigation?(0,se.of)(null):(this.initNavigation=!0,k(!0),this.resultOfPreactivationDone),le.initialNavigation()):k(!0),L})}bootstrapListener(w){const k=this.injector.get(zt),L=this.injector.get(Ss),le=this.injector.get(hn),Pe=this.injector.get(ji),je=this.injector.get(f.z2F);w===je.components[0]&&(("enabledNonBlocking"===k.initialNavigation||void 0===k.initialNavigation)&&Pe.initialNavigation(),L.setUpPreloading(),le.init(),Pe.resetRootComponentType(je.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return O.\u0275fac=function(w){return new(w||O)(f.LFG(f.zs3))},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac}),O})();function ni(O){return O.appInitializer.bind(O)}function vs(O){return O.bootstrapListener.bind(O)}const Ea=new f.OlP("Router Initializer")},3942:(qt,We,x)=>{x.d(We,{Z:()=>lt});var f=x(2090),h=x(4859),G=x(9681),Ce=x(1877);class ve{constructor(ze,dt){this._delegate=ze,this.firebase=dt,(0,G._addComponent)(ze,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this._delegate.automaticDataCollectionEnabled=ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ze=>{this._delegate.checkDestroyed(),ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(ze,dt=G._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(ze);return!ft.isInitialized()&&"EXPLICIT"===(null===(Be=ft.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:dt})}_removeServiceInstance(ze,dt=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ze).clearInstance(dt)}_addComponent(ze){(0,G._addComponent)(this._delegate,ze)}_addOrOverwriteComponent(ze){(0,G._addOrOverwriteComponent)(this._delegate,ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function Z(){const ut=function ue(ut){const ze={},dt={__esModule:!0,initializeApp:function pe(Y,Je={}){const nt=G.initializeApp(Y,Je);if((0,f.r3)(ze,nt.name))return ze[nt.name];const Fe=new ut(nt,dt);return ze[nt.name]=Fe,Fe},app:ft,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function Qe(Y){const Je=Y.name,nt=Je.replace("-compat","");if(G._registerComponent(Y)&&"PUBLIC"===Y.type){const Fe=(Ue=ft())=>{if("function"!=typeof Ue[nt])throw me.create("invalid-app-argument",{appName:Je});return Ue[nt]()};void 0!==Y.serviceProps&&(0,f.ZB)(Fe,Y.serviceProps),dt[nt]=Fe,ut.prototype[nt]=function(...Ue){return this._getService.bind(this,Je).apply(this,Y.multipleInstances?Ue:[])}}return"PUBLIC"===Y.type?dt[nt]:null},removeApp:function Be(Y){delete ze[Y]},useAsService:function bt(Y,Je){return"serverAuth"===Je?null:Je},modularAPIs:G}};function ft(Y){if(!(0,f.r3)(ze,Y=Y||G._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:Y});return ze[Y]}return dt.default=dt,Object.defineProperty(dt,"apps",{get:function be(){return Object.keys(ze).map(Y=>ze[Y])}}),ft.App=ut,dt}(ve);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:Z,extendNamespace:function ze(dt){(0,f.ZB)(ut,dt)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),ut}(),se=new Ce.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=q;!function ke(ut){(0,G.registerVersion)("@firebase/app-compat","0.1.39",ut)}()},9681:(qt,We,x)=>{x.r(We),x.d(We,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>Yn,_DEFAULT_ENTRY_NAME:()=>mt,_addComponent:()=>Rt,_addOrOverwriteComponent:()=>Ht,_apps:()=>Ae,_clearComponents:()=>Vn,_components:()=>qe,_getProvider:()=>yn,_registerComponent:()=>nn,_removeServiceInstance:()=>On,deleteApp:()=>on,getApp:()=>Mn,getApps:()=>bi,initializeApp:()=>Ai,onLog:()=>rn,registerVersion:()=>ti,setLogLevel:()=>Ui});var f=x(5861),h=x(4859),G=x(1877),Ce=x(2090),ve=x(8766);class Ne{constructor(de){this.container=de}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function me(W){const de=W.getComponent();return"VERSION"===(null==de?void 0:de.type)}(Ee)){const Le=Ee.getImmediate();return`${Le.library}/${Le.version}`}return null}).filter(Ee=>Ee).join(" ")}}const ue="@firebase/app",Z="0.8.4",q=new G.Yd("@firebase/app"),mt="[DEFAULT]",Q={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ae=new Map,qe=new Map;function Rt(W,de){try{W.container.addComponent(de)}catch(Ee){q.debug(`Component ${de.name} failed to register with FirebaseApp ${W.name}`,Ee)}}function Ht(W,de){W.container.addOrOverwriteComponent(de)}function nn(W){const de=W.name;if(qe.has(de))return q.debug(`There were multiple attempts to register component ${de}.`),!1;qe.set(de,W);for(const Ee of Ae.values())Rt(Ee,W);return!0}function yn(W,de){const Ee=W.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),W.container.getProvider(de)}function On(W,de,Ee=mt){yn(W,de).clearInstance(Ee)}function Vn(){qe.clear()}const jn=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ci{constructor(de,Ee,Le){this._isDeleted=!1,this._options=Object.assign({},de),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=Le,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this.checkDestroyed(),this._automaticDataCollectionEnabled=de}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(de){this._isDeleted=de}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const Yn="9.14.0";function Ai(W,de={}){let Ee=W;"object"!=typeof de&&(de={name:de});const Le=Object.assign({name:mt,automaticDataCollectionEnabled:!1},de),vt=Le.name;if("string"!=typeof vt||!vt)throw jn.create("bad-app-name",{appName:String(vt)});if(Ee||(Ee=(0,Ce.aH)()),!Ee)throw jn.create("no-options");const Ft=Ae.get(vt);if(Ft){if((0,Ce.vZ)(Ee,Ft.options)&&(0,Ce.vZ)(Le,Ft.config))return Ft;throw jn.create("duplicate-app",{appName:vt})}const he=new h.H0(vt);for(const Me of qe.values())he.addComponent(Me);const fe=new ci(Ee,Le,he);return Ae.set(vt,fe),fe}function Mn(W=mt){const de=Ae.get(W);if(!de&&W===mt)return Ai();if(!de)throw jn.create("no-app",{appName:W});return de}function bi(){return Array.from(Ae.values())}function on(W){return Li.apply(this,arguments)}function Li(){return(Li=(0,f.Z)(function*(W){const de=W.name;Ae.has(de)&&(Ae.delete(de),yield Promise.all(W.container.getProviders().map(Ee=>Ee.delete())),W.isDeleted=!0)})).apply(this,arguments)}function ti(W,de,Ee){var Le;let vt=null!==(Le=Q[W])&&void 0!==Le?Le:W;Ee&&(vt+=`-${Ee}`);const Ft=vt.match(/\s|\//),he=de.match(/\s|\//);if(Ft||he){const fe=[`Unable to register library "${vt}" with version "${de}":`];return Ft&&fe.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),Ft&&he&&fe.push("and"),he&&fe.push(`version name "${de}" contains illegal characters (whitespace or "/")`),void q.warn(fe.join(" "))}nn(new h.wA(`${vt}-version`,()=>({library:vt,version:de}),"VERSION"))}function rn(W,de){if(null!==W&&"function"!=typeof W)throw jn.create("invalid-log-argument");(0,G.Am)(W,de)}function Ui(W){(0,G.Ub)(W)}const Ve="firebase-heartbeat-store";let Ge=null;function Ut(){return Ge||(Ge=(0,ve.X3)("firebase-heartbeat-database",1,{upgrade:(W,de)=>{0===de&&W.createObjectStore(Ve)}}).catch(W=>{throw jn.create("idb-open",{originalErrorMessage:W.message})})),Ge}function Nt(){return(Nt=(0,f.Z)(function*(W){var de;try{return(yield Ut()).transaction(Ve).objectStore(Ve).get(Oe(W))}catch(Ee){if(Ee instanceof Ce.ZR)q.warn(Ee.message);else{const Le=jn.create("idb-get",{originalErrorMessage:null===(de=Ee)||void 0===de?void 0:de.message});q.warn(Le.message)}}})).apply(this,arguments)}function Zt(W,de){return Re.apply(this,arguments)}function Re(){return(Re=(0,f.Z)(function*(W,de){var Ee;try{const vt=(yield Ut()).transaction(Ve,"readwrite");return yield vt.objectStore(Ve).put(de,Oe(W)),vt.done}catch(Le){if(Le instanceof Ce.ZR)q.warn(Le.message);else{const vt=jn.create("idb-set",{originalErrorMessage:null===(Ee=Le)||void 0===Ee?void 0:Ee.message});q.warn(vt.message)}}})).apply(this,arguments)}function Oe(W){return`${W.name}!${W.options.appId}`}class wt{constructor(de){this.container=de,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new _n(Ee),this._heartbeatsCachePromise=this._storage.read().then(Le=>(this._heartbeatsCache=Le,Le))}triggerHeartbeat(){var de=this;return(0,f.Z)(function*(){const Le=de.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=Mt();if(null===de._heartbeatsCache&&(de._heartbeatsCache=yield de._heartbeatsCachePromise),de._heartbeatsCache.lastSentHeartbeatDate!==vt&&!de._heartbeatsCache.heartbeats.some(Ft=>Ft.date===vt))return de._heartbeatsCache.heartbeats.push({date:vt,agent:Le}),de._heartbeatsCache.heartbeats=de._heartbeatsCache.heartbeats.filter(Ft=>{const he=new Date(Ft.date).valueOf();return Date.now()-he<=2592e6}),de._storage.overwrite(de._heartbeatsCache)})()}getHeartbeatsHeader(){var de=this;return(0,f.Z)(function*(){if(null===de._heartbeatsCache&&(yield de._heartbeatsCachePromise),null===de._heartbeatsCache||0===de._heartbeatsCache.heartbeats.length)return"";const Ee=Mt(),{heartbeatsToSend:Le,unsentEntries:vt}=function Tt(W,de=1024){const Ee=[];let Le=W.slice();for(const vt of W){const Ft=Ee.find(he=>he.agent===vt.agent);if(Ft){if(Ft.dates.push(vt.date),fn(Ee)>de){Ft.dates.pop();break}}else if(Ee.push({agent:vt.agent,dates:[vt.date]}),fn(Ee)>de){Ee.pop();break}Le=Le.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:Le}}(de._heartbeatsCache.heartbeats),Ft=(0,Ce.L)(JSON.stringify({version:2,heartbeats:Le}));return de._heartbeatsCache.lastSentHeartbeatDate=Ee,vt.length>0?(de._heartbeatsCache.heartbeats=vt,yield de._storage.overwrite(de._heartbeatsCache)):(de._heartbeatsCache.heartbeats=[],de._storage.overwrite(de._heartbeatsCache)),Ft})()}}function Mt(){return(new Date).toISOString().substring(0,10)}class _n{constructor(de){this.app=de,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var de=this;return(0,f.Z)(function*(){return(yield de._canUseIndexedDBPromise)&&(yield function It(W){return Nt.apply(this,arguments)}(de.app))||{heartbeats:[]}})()}overwrite(de){var Ee=this;return(0,f.Z)(function*(){var Le;if(yield Ee._canUseIndexedDBPromise){const Ft=yield Ee.read();return Zt(Ee.app,{lastSentHeartbeatDate:null!==(Le=de.lastSentHeartbeatDate)&&void 0!==Le?Le:Ft.lastSentHeartbeatDate,heartbeats:de.heartbeats})}})()}add(de){var Ee=this;return(0,f.Z)(function*(){var Le;if(yield Ee._canUseIndexedDBPromise){const Ft=yield Ee.read();return Zt(Ee.app,{lastSentHeartbeatDate:null!==(Le=de.lastSentHeartbeatDate)&&void 0!==Le?Le:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...de.heartbeats]})}})()}}function fn(W){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:W})).length}!function pn(W){nn(new h.wA("platform-logger",de=>new Ne(de),"PRIVATE")),nn(new h.wA("heartbeat",de=>new wt(de),"PRIVATE")),ti(ue,Z,W),ti(ue,Z,"esm2017"),ti("fire-js","")}("")},4859:(qt,We,x)=>{x.d(We,{H0:()=>ue,wA:()=>G});var f=x(5861),h=x(2090);class G{constructor(q,se,Te){this.name=q,this.instanceFactory=se,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const Ce="[DEFAULT]";class ve{constructor(q,se){this.name=q,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const se=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(se)){const Te=new h.BH;if(this.instancesDeferred.set(se,Te),this.isInitialized(se)||this.shouldAutoInitialize())try{const at=this.getOrInitializeService({instanceIdentifier:se});at&&Te.resolve(at)}catch(at){}}return this.instancesDeferred.get(se).promise}getImmediate(q){var se;const Te=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),at=null!==(se=null==q?void 0:q.optional)&&void 0!==se&&se;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(at)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(ke){if(at)return null;throw ke}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function me(Z){return"EAGER"===Z.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch(se){}for(const[se,Te]of this.instancesDeferred.entries()){const at=this.normalizeInstanceIdentifier(se);try{const ke=this.getOrInitializeService({instanceIdentifier:at});Te.resolve(ke)}catch(ke){}}}}clearInstance(q=Ce){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,f.Z)(function*(){const se=Array.from(q.instances.values());yield Promise.all([...se.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...se.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=Ce){return this.instances.has(q)}getOptions(q=Ce){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:se={}}=q,Te=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const at=this.getOrInitializeService({instanceIdentifier:Te,options:se});for(const[ke,lt]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(ke)&&lt.resolve(at);return at}onInit(q,se){var Te;const at=this.normalizeInstanceIdentifier(se),ke=null!==(Te=this.onInitCallbacks.get(at))&&void 0!==Te?Te:new Set;ke.add(q),this.onInitCallbacks.set(at,ke);const lt=this.instances.get(at);return lt&&q(lt,at),()=>{ke.delete(q)}}invokeOnInitCallbacks(q,se){const Te=this.onInitCallbacks.get(se);if(Te)for(const at of Te)try{at(q,se)}catch(ke){}}getOrInitializeService({instanceIdentifier:q,options:se={}}){let Te=this.instances.get(q);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(Z=q,Z===Ce?void 0:Z),options:se}),this.instances.set(q,Te),this.instancesOptions.set(q,se),this.invokeOnInitCallbacks(Te,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,Te)}catch(at){}var Z;return Te||null}normalizeInstanceIdentifier(q=Ce){return this.component?this.component.multipleInstances?q:Ce:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const se=this.getProvider(q.name);if(se.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);se.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const se=new ve(q,this);return this.providers.set(q,se),se}getProviders(){return Array.from(this.providers.values())}}},1877:(qt,We,x)=>{x.d(We,{Am:()=>Z,Ub:()=>ue,Yd:()=>me,in:()=>h});const f=[];var h=(()=>{return(q=h||(h={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",h;var q})();const G={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},Ce=h.INFO,ve={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},Ne=(q,se,...Te)=>{if(se<q.logLevel)return;const at=(new Date).toISOString(),ke=ve[se];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[ke](`[${at}]  ${q.name}:`,...Te)};class me{constructor(se){this.name=se,this._logLevel=Ce,this._logHandler=Ne,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in h))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?G[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...se),this._logHandler(this,h.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...se),this._logHandler(this,h.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,h.INFO,...se),this._logHandler(this,h.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,h.WARN,...se),this._logHandler(this,h.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...se),this._logHandler(this,h.ERROR,...se)}}function ue(q){f.forEach(se=>{se.setLogLevel(q)})}function Z(q,se){for(const Te of f){let at=null;se&&se.level&&(at=G[se.level]),Te.userLogHandler=null===q?null:(ke,lt,...ut)=>{const ze=ut.map(dt=>{if(null==dt)return null;if("string"==typeof dt)return dt;if("number"==typeof dt||"boolean"==typeof dt)return dt.toString();if(dt instanceof Error)return dt.message;try{return JSON.stringify(dt)}catch(Be){return null}}).filter(dt=>dt).join(" ");lt>=(null!=at?at:ke.logLevel)&&q({level:h[lt].toLowerCase(),message:ze,args:ut,type:ke.name})}}}},8995:(qt,We,x)=>{x.d(We,{Zw:()=>ke,aw:()=>tn,X$:()=>xt,sK:()=>it});var f=x(5e3),h=x(8306),G=x(576);function Ce(pt){return!!pt&&(pt instanceof h.y||(0,G.m)(pt.lift)&&(0,G.m)(pt.subscribe))}var ve=x(9646),Ne=x(4128),me=x(7272),ue=x(9770),Z=x(5698),q=x(3151),se=x(4004),Te=x(4351),at=x(3900);class ke{}let lt=(()=>{class pt extends ke{getTranslation(Q){return(0,ve.of)({})}}return pt.\u0275fac=function(){let mt;return function(Ae){return(mt||(mt=f.n5z(pt)))(Ae||pt)}}(),pt.\u0275prov=f.Yz7({token:pt,factory:pt.\u0275fac}),pt})();class ut{}let ze=(()=>{class pt{handle(Q){return Q.key}}return pt.\u0275fac=function(Q){return new(Q||pt)},pt.\u0275prov=f.Yz7({token:pt,factory:pt.\u0275fac}),pt})();function dt(pt,mt){if(pt===mt)return!0;if(null===pt||null===mt)return!1;if(pt!=pt&&mt!=mt)return!0;let qe,Rt,Ht,Q=typeof pt;if(Q==typeof mt&&"object"==Q){if(!Array.isArray(pt)){if(Array.isArray(mt))return!1;for(Rt in Ht=Object.create(null),pt){if(!dt(pt[Rt],mt[Rt]))return!1;Ht[Rt]=!0}for(Rt in mt)if(!(Rt in Ht)&&void 0!==mt[Rt])return!1;return!0}if(!Array.isArray(mt))return!1;if((qe=pt.length)==mt.length){for(Rt=0;Rt<qe;Rt++)if(!dt(pt[Rt],mt[Rt]))return!1;return!0}}return!1}function Be(pt){return null!=pt}function ft(pt){return pt&&"object"==typeof pt&&!Array.isArray(pt)}function pe(pt,mt){let Q=Object.assign({},pt);return ft(pt)&&ft(mt)&&Object.keys(mt).forEach(Ae=>{ft(mt[Ae])?Ae in pt?Q[Ae]=pe(pt[Ae],mt[Ae]):Object.assign(Q,{[Ae]:mt[Ae]}):Object.assign(Q,{[Ae]:mt[Ae]})}),Q}class be{}let Qe=(()=>{class pt extends be{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Q,Ae){let qe;return qe="string"==typeof Q?this.interpolateString(Q,Ae):"function"==typeof Q?this.interpolateFunction(Q,Ae):Q,qe}getValue(Q,Ae){let qe="string"==typeof Ae?Ae.split("."):[Ae];Ae="";do{Ae+=qe.shift(),!Be(Q)||!Be(Q[Ae])||"object"!=typeof Q[Ae]&&qe.length?qe.length?Ae+=".":Q=void 0:(Q=Q[Ae],Ae="")}while(qe.length);return Q}interpolateFunction(Q,Ae){return Q(Ae)}interpolateString(Q,Ae){return Ae?Q.replace(this.templateMatcher,(qe,Rt)=>{let Ht=this.getValue(Ae,Rt);return Be(Ht)?Ht:qe}):Q}}return pt.\u0275fac=function(){let mt;return function(Ae){return(mt||(mt=f.n5z(pt)))(Ae||pt)}}(),pt.\u0275prov=f.Yz7({token:pt,factory:pt.\u0275fac}),pt})();class bt{}let Y=(()=>{class pt extends bt{compile(Q,Ae){return Q}compileTranslations(Q,Ae){return Q}}return pt.\u0275fac=function(){let mt;return function(Ae){return(mt||(mt=f.n5z(pt)))(Ae||pt)}}(),pt.\u0275prov=f.Yz7({token:pt,factory:pt.\u0275fac}),pt})();class Je{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new f.vpe,this.onLangChange=new f.vpe,this.onDefaultLangChange=new f.vpe}}const nt=new f.OlP("USE_STORE"),Fe=new f.OlP("USE_DEFAULT_LANG"),Ue=new f.OlP("DEFAULT_LANGUAGE"),Xe=new f.OlP("USE_EXTEND");let it=(()=>{class pt{constructor(Q,Ae,qe,Rt,Ht,nn=!0,yn=!1,On=!1,Vn){this.store=Q,this.currentLoader=Ae,this.compiler=qe,this.parser=Rt,this.missingTranslationHandler=Ht,this.useDefaultLang=nn,this.isolate=yn,this.extend=On,this.pending=!1,this._onTranslationChange=new f.vpe,this._onLangChange=new f.vpe,this._onDefaultLangChange=new f.vpe,this._langs=[],this._translations={},this._translationRequests={},Vn&&this.setDefaultLang(Vn)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Q){this.isolate?this._defaultLang=Q:this.store.defaultLang=Q}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Q){this.isolate?this._currentLang=Q:this.store.currentLang=Q}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Q){this.isolate?this._langs=Q:this.store.langs=Q}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Q){this.isolate?this._translations=Q:this.store.translations=Q}setDefaultLang(Q){if(Q===this.defaultLang)return;let Ae=this.retrieveTranslations(Q);void 0!==Ae?(null==this.defaultLang&&(this.defaultLang=Q),Ae.pipe((0,Z.q)(1)).subscribe(qe=>{this.changeDefaultLang(Q)})):this.changeDefaultLang(Q)}getDefaultLang(){return this.defaultLang}use(Q){if(Q===this.currentLang)return(0,ve.of)(this.translations[Q]);let Ae=this.retrieveTranslations(Q);return void 0!==Ae?(this.currentLang||(this.currentLang=Q),Ae.pipe((0,Z.q)(1)).subscribe(qe=>{this.changeLang(Q)}),Ae):(this.changeLang(Q),(0,ve.of)(this.translations[Q]))}retrieveTranslations(Q){let Ae;return(void 0===this.translations[Q]||this.extend)&&(this._translationRequests[Q]=this._translationRequests[Q]||this.getTranslation(Q),Ae=this._translationRequests[Q]),Ae}getTranslation(Q){this.pending=!0;const Ae=this.currentLoader.getTranslation(Q).pipe((0,q.d)(1),(0,Z.q)(1));return this.loadingTranslations=Ae.pipe((0,se.U)(qe=>this.compiler.compileTranslations(qe,Q)),(0,q.d)(1),(0,Z.q)(1)),this.loadingTranslations.subscribe({next:qe=>{this.translations[Q]=this.extend&&this.translations[Q]?Object.assign(Object.assign({},qe),this.translations[Q]):qe,this.updateLangs(),this.pending=!1},error:qe=>{this.pending=!1}}),Ae}setTranslation(Q,Ae,qe=!1){Ae=this.compiler.compileTranslations(Ae,Q),this.translations[Q]=(qe||this.extend)&&this.translations[Q]?pe(this.translations[Q],Ae):Ae,this.updateLangs(),this.onTranslationChange.emit({lang:Q,translations:this.translations[Q]})}getLangs(){return this.langs}addLangs(Q){Q.forEach(Ae=>{-1===this.langs.indexOf(Ae)&&this.langs.push(Ae)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Q,Ae,qe){let Rt;if(Ae instanceof Array){let Ht={},nn=!1;for(let yn of Ae)Ht[yn]=this.getParsedResult(Q,yn,qe),Ce(Ht[yn])&&(nn=!0);if(nn){const yn=Ae.map(On=>Ce(Ht[On])?Ht[On]:(0,ve.of)(Ht[On]));return(0,Ne.D)(yn).pipe((0,se.U)(On=>{let Vn={};return On.forEach((Jn,jn)=>{Vn[Ae[jn]]=Jn}),Vn}))}return Ht}if(Q&&(Rt=this.parser.interpolate(this.parser.getValue(Q,Ae),qe)),void 0===Rt&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Rt=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],Ae),qe)),void 0===Rt){let Ht={key:Ae,translateService:this};void 0!==qe&&(Ht.interpolateParams=qe),Rt=this.missingTranslationHandler.handle(Ht)}return void 0!==Rt?Rt:Ae}get(Q,Ae){if(!Be(Q)||!Q.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Te.b)(qe=>Ce(qe=this.getParsedResult(qe,Q,Ae))?qe:(0,ve.of)(qe)));{let qe=this.getParsedResult(this.translations[this.currentLang],Q,Ae);return Ce(qe)?qe:(0,ve.of)(qe)}}getStreamOnTranslationChange(Q,Ae){if(!Be(Q)||!Q.length)throw new Error('Parameter "key" required');return(0,me.z)((0,ue.P)(()=>this.get(Q,Ae)),this.onTranslationChange.pipe((0,at.w)(qe=>{const Rt=this.getParsedResult(qe.translations,Q,Ae);return"function"==typeof Rt.subscribe?Rt:(0,ve.of)(Rt)})))}stream(Q,Ae){if(!Be(Q)||!Q.length)throw new Error('Parameter "key" required');return(0,me.z)((0,ue.P)(()=>this.get(Q,Ae)),this.onLangChange.pipe((0,at.w)(qe=>{const Rt=this.getParsedResult(qe.translations,Q,Ae);return Ce(Rt)?Rt:(0,ve.of)(Rt)})))}instant(Q,Ae){if(!Be(Q)||!Q.length)throw new Error('Parameter "key" required');let qe=this.getParsedResult(this.translations[this.currentLang],Q,Ae);if(Ce(qe)){if(Q instanceof Array){let Rt={};return Q.forEach((Ht,nn)=>{Rt[Q[nn]]=Q[nn]}),Rt}return Q}return qe}set(Q,Ae,qe=this.currentLang){this.translations[qe][Q]=this.compiler.compile(Ae,qe),this.updateLangs(),this.onTranslationChange.emit({lang:qe,translations:this.translations[qe]})}changeLang(Q){this.currentLang=Q,this.onLangChange.emit({lang:Q,translations:this.translations[Q]}),null==this.defaultLang&&this.changeDefaultLang(Q)}changeDefaultLang(Q){this.defaultLang=Q,this.onDefaultLangChange.emit({lang:Q,translations:this.translations[Q]})}reloadLang(Q){return this.resetLang(Q),this.getTranslation(Q)}resetLang(Q){this._translationRequests[Q]=void 0,this.translations[Q]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let Q=window.navigator.languages?window.navigator.languages[0]:null;return Q=Q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==Q?(-1!==Q.indexOf("-")&&(Q=Q.split("-")[0]),-1!==Q.indexOf("_")&&(Q=Q.split("_")[0]),Q):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let Q=window.navigator.languages?window.navigator.languages[0]:null;return Q=Q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Q}}return pt.\u0275fac=function(Q){return new(Q||pt)(f.LFG(Je),f.LFG(ke),f.LFG(bt),f.LFG(be),f.LFG(ut),f.LFG(Fe),f.LFG(nt),f.LFG(Xe),f.LFG(Ue))},pt.\u0275prov=f.Yz7({token:pt,factory:pt.\u0275fac}),pt})(),xt=(()=>{class pt{constructor(Q,Ae){this.translate=Q,this._ref=Ae,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(Q,Ae,qe){let Rt=Ht=>{this.value=void 0!==Ht?Ht:Q,this.lastKey=Q,this._ref.markForCheck()};if(qe){let Ht=this.translate.getParsedResult(qe,Q,Ae);Ce(Ht.subscribe)?Ht.subscribe(Rt):Rt(Ht)}this.translate.get(Q,Ae).subscribe(Rt)}transform(Q,...Ae){if(!Q||!Q.length)return Q;if(dt(Q,this.lastKey)&&dt(Ae,this.lastParams))return this.value;let qe;if(Be(Ae[0])&&Ae.length)if("string"==typeof Ae[0]&&Ae[0].length){let Rt=Ae[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{qe=JSON.parse(Rt)}catch(Ht){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${Ae[0]}`)}}else"object"==typeof Ae[0]&&!Array.isArray(Ae[0])&&(qe=Ae[0]);return this.lastKey=Q,this.lastParams=Ae,this.updateValue(Q,qe),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Rt=>{this.lastKey&&Rt.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Q,qe,Rt.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Rt=>{this.lastKey&&(this.lastKey=null,this.updateValue(Q,qe,Rt.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Q,qe))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return pt.\u0275fac=function(Q){return new(Q||pt)(f.Y36(it,16),f.Y36(f.sBO,16))},pt.\u0275pipe=f.Yjl({name:"translate",type:pt,pure:!1}),pt.\u0275prov=f.Yz7({token:pt,factory:pt.\u0275fac}),pt})(),tn=(()=>{class pt{static forRoot(Q={}){return{ngModule:pt,providers:[Q.loader||{provide:ke,useClass:lt},Q.compiler||{provide:bt,useClass:Y},Q.parser||{provide:be,useClass:Qe},Q.missingTranslationHandler||{provide:ut,useClass:ze},Je,{provide:nt,useValue:Q.isolate},{provide:Fe,useValue:Q.useDefaultLang},{provide:Xe,useValue:Q.extend},{provide:Ue,useValue:Q.defaultLanguage},it]}}static forChild(Q={}){return{ngModule:pt,providers:[Q.loader||{provide:ke,useClass:lt},Q.compiler||{provide:bt,useClass:Y},Q.parser||{provide:be,useClass:Qe},Q.missingTranslationHandler||{provide:ut,useClass:ze},{provide:nt,useValue:Q.isolate},{provide:Fe,useValue:Q.useDefaultLang},{provide:Xe,useValue:Q.extend},{provide:Ue,useValue:Q.defaultLanguage},it]}}}return pt.\u0275fac=function(Q){return new(Q||pt)},pt.\u0275mod=f.oAB({type:pt}),pt.\u0275inj=f.cJS({}),pt})()},40:(qt,We,x)=>{x.d(We,{w:()=>f});class f{constructor(G,Ce="/assets/i18n/",ve=".json"){this.http=G,this.prefix=Ce,this.suffix=ve}getTranslation(G){return this.http.get(`${this.prefix}${G}${this.suffix}`)}}},8766:(qt,We,x)=>{x.d(We,{Lj:()=>pe,X3:()=>ft});var f=x(5861);let G,Ce;const me=new WeakMap,ue=new WeakMap,Z=new WeakMap,q=new WeakMap,se=new WeakMap;let ke={get(Je,nt,Fe){if(Je instanceof IDBTransaction){if("done"===nt)return ue.get(Je);if("objectStoreNames"===nt)return Je.objectStoreNames||Z.get(Je);if("store"===nt)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return dt(Je[nt])},set:(Je,nt,Fe)=>(Je[nt]=Fe,!0),has:(Je,nt)=>Je instanceof IDBTransaction&&("done"===nt||"store"===nt)||nt in Je};function ze(Je){return"function"==typeof Je?function ut(Je){return Je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Je)?function(...nt){return Je.apply(Be(this),nt),dt(me.get(this))}:function(...nt){return dt(Je.apply(Be(this),nt))}:function(nt,...Fe){const Ue=Je.call(Be(this),nt,...Fe);return Z.set(Ue,nt.sort?nt.sort():[nt]),dt(Ue)}}(Je):(Je instanceof IDBTransaction&&function at(Je){if(ue.has(Je))return;const nt=new Promise((Fe,Ue)=>{const Xe=()=>{Je.removeEventListener("complete",it),Je.removeEventListener("error",st),Je.removeEventListener("abort",st)},it=()=>{Fe(),Xe()},st=()=>{Ue(Je.error||new DOMException("AbortError","AbortError")),Xe()};Je.addEventListener("complete",it),Je.addEventListener("error",st),Je.addEventListener("abort",st)});ue.set(Je,nt)}(Je),((Je,nt)=>nt.some(Fe=>Je instanceof Fe))(Je,function ve(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Je,ke):Je)}function dt(Je){if(Je instanceof IDBRequest)return function Te(Je){const nt=new Promise((Fe,Ue)=>{const Xe=()=>{Je.removeEventListener("success",it),Je.removeEventListener("error",st)},it=()=>{Fe(dt(Je.result)),Xe()},st=()=>{Ue(Je.error),Xe()};Je.addEventListener("success",it),Je.addEventListener("error",st)});return nt.then(Fe=>{Fe instanceof IDBCursor&&me.set(Fe,Je)}).catch(()=>{}),se.set(nt,Je),nt}(Je);if(q.has(Je))return q.get(Je);const nt=ze(Je);return nt!==Je&&(q.set(Je,nt),se.set(nt,Je)),nt}const Be=Je=>se.get(Je);function ft(Je,nt,{blocked:Fe,upgrade:Ue,blocking:Xe,terminated:it}={}){const st=indexedDB.open(Je,nt),xt=dt(st);return Ue&&st.addEventListener("upgradeneeded",tn=>{Ue(dt(st.result),tn.oldVersion,tn.newVersion,dt(st.transaction))}),Fe&&st.addEventListener("blocked",()=>Fe()),xt.then(tn=>{it&&tn.addEventListener("close",()=>it()),Xe&&tn.addEventListener("versionchange",()=>Xe())}).catch(()=>{}),xt}function pe(Je,{blocked:nt}={}){const Fe=indexedDB.deleteDatabase(Je);return nt&&Fe.addEventListener("blocked",()=>nt()),dt(Fe).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],Qe=["put","add","delete","clear"],bt=new Map;function Y(Je,nt){if(!(Je instanceof IDBDatabase)||nt in Je||"string"!=typeof nt)return;if(bt.get(nt))return bt.get(nt);const Fe=nt.replace(/FromIndex$/,""),Ue=nt!==Fe,Xe=Qe.includes(Fe);if(!(Fe in(Ue?IDBIndex:IDBObjectStore).prototype)||!Xe&&!be.includes(Fe))return;const it=function(){var st=(0,f.Z)(function*(xt,...tn){const pt=this.transaction(xt,Xe?"readwrite":"readonly");let mt=pt.store;return Ue&&(mt=mt.index(tn.shift())),(yield Promise.all([mt[Fe](...tn),Xe&&pt.done]))[0]});return function(tn){return st.apply(this,arguments)}}();return bt.set(nt,it),it}!function lt(Je){ke=Je(ke)}(Je=>oE(sE({},Je),{get:(nt,Fe,Ue)=>Y(nt,Fe)||Je.get(nt,Fe,Ue),has:(nt,Fe)=>!!Y(nt,Fe)||Je.has(nt,Fe)}))},5351:(qt,We,x)=>{x.d(We,{Zf:()=>ut,fx:()=>dt,U_:()=>ze});var f=x(5e3),h=x(7691),G=x(9808),Ce=x(1777);const ve="400ms cubic-bezier(0.4,0.0,0.2,1)",Ne=[(0,Ce.oB)({height:0,visibility:"hidden"}),(0,Ce.jt)(ve,(0,Ce.oB)({height:"*",visibility:"visible"}))],me=[(0,Ce.oB)({height:"*",visibility:"visible"}),(0,Ce.jt)(ve,(0,Ce.oB)({height:0,visibility:"hidden"}))];let ue=(()=>{class Be{constructor(pe,be,Qe){this._el=pe,this._renderer=be,this.collapsed=new f.vpe,this.collapses=new f.vpe,this.expanded=new f.vpe,this.expands=new f.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=Qe.build(me),this._factoryExpandAnimation=Qe.build(Ne)}set display(pe){this._display=pe,"none"!==pe?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(pe){this.collapseNewValue=pe,(!this._player||this._isAnimationDone)&&(this.isExpanded=pe,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(pe,be){if(!pe||!this._stylesLoaded)return bt=>bt();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const Qe=be===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.destroy(),this._player=Qe.create(this._el.nativeElement),this._player.play(),bt=>{var Y;return null===(Y=this._player)||void 0===Y?void 0:Y.onDone(bt)}}}return Be.\u0275fac=function(pe){return new(pe||Be)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Ce._j))},Be.\u0275dir=f.lG2({type:Be,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(pe,be){2&pe&&(f.uIk("aria-hidden",be.isCollapsed),f.ekj("collapse",be.isCollapse)("in",be.isExpanded)("show",be.isExpanded)("collapsing",be.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),Be})(),Z=(()=>{class Be{static forRoot(){return{ngModule:Be,providers:[]}}}return Be.\u0275fac=function(pe){return new(pe||Be)},Be.\u0275mod=f.oAB({type:Be}),Be.\u0275inj=f.cJS({}),Be})();const q=["*"],se=function(Be){return{"text-muted":Be}};function Te(Be,ft){if(1&Be&&(f.TgZ(0,"button",7),f._uU(1),f.qZA()),2&Be){const pe=f.oxw();f.Q6J("ngClass",f.VKq(2,se,pe.isDisabled)),f.xp6(1),f.hij(" ",pe.heading," ")}}const at=[[["","accordion-heading",""]],"*"],ke=["[accordion-heading]","*"];let lt=(()=>{class Be{constructor(){this.closeOthers=!1,this.isAnimated=!1}}return Be.\u0275fac=function(pe){return new(pe||Be)},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),ut=(()=>{class Be{constructor(pe){this.isAnimated=!1,this.closeOthers=!1,this.groups=[],Object.assign(this,pe)}closeOtherPanels(pe){!this.closeOthers||this.groups.forEach(be=>{be!==pe&&(be.isOpen=!1)})}addGroup(pe){pe.isAnimated=this.isAnimated,this.groups.push(pe)}removeGroup(pe){const be=this.groups.indexOf(pe);-1!==be&&this.groups.splice(be,1)}}return Be.\u0275fac=function(pe){return new(pe||Be)(f.Y36(lt))},Be.\u0275cmp=f.Xpm({type:Be,selectors:[["accordion"]],hostAttrs:["role","tablist",1,"panel-group",2,"display","block"],hostVars:1,hostBindings:function(pe,be){2&pe&&f.uIk("aria-multiselectable",be.closeOthers)},inputs:{isAnimated:"isAnimated",closeOthers:"closeOthers"},ngContentSelectors:q,decls:1,vars:0,template:function(pe,be){1&pe&&(f.F$t(),f.Hsn(0))},encapsulation:2}),Be})(),ze=(()=>{class Be{constructor(pe){this.isAnimated=!1,this.panelClass="panel-default",this.isDisabled=!1,this.isOpenChange=new f.vpe,this._isOpen=!1,this.accordion=pe}get isOpen(){return this._isOpen}set isOpen(pe){pe!==this.isOpen&&(pe&&this.accordion.closeOtherPanels(this),this._isOpen=pe,Promise.resolve(null).then(()=>{this.isOpenChange.emit(pe)}))}get isBs3(){return(0,h.XA)()}ngOnInit(){this.accordion.addGroup(this)}ngOnDestroy(){this.accordion.removeGroup(this)}toggleOpen(){this.isDisabled||(this.isOpen=!this.isOpen)}}return Be.\u0275fac=function(pe){return new(pe||Be)(f.Y36(ut))},Be.\u0275cmp=f.Xpm({type:Be,selectors:[["accordion-group"],["accordion-panel"]],hostAttrs:[1,"panel",2,"display","block"],hostVars:2,hostBindings:function(pe,be){2&pe&&f.ekj("panel-open",be.isOpen)},inputs:{heading:"heading",panelClass:"panelClass",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},ngContentSelectors:ke,decls:9,vars:6,consts:[[1,"panel","card",3,"ngClass"],["role","tab",1,"panel-heading","card-header",3,"ngClass","click"],[1,"panel-title"],["role","button",1,"accordion-toggle"],["class","btn btn-link","type","button",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"panel-collapse","collapse",3,"collapse","isAnimated"],[1,"panel-body","card-block","card-body"],["type","button",1,"btn","btn-link",3,"ngClass"]],template:function(pe,be){1&pe&&(f.F$t(at),f.TgZ(0,"div",0)(1,"div",1),f.NdJ("click",function(){return be.toggleOpen()}),f.TgZ(2,"div",2)(3,"div",3),f.YNc(4,Te,2,4,"button",4),f.Hsn(5),f.qZA()()(),f.TgZ(6,"div",5)(7,"div",6),f.Hsn(8,1),f.qZA()()()),2&pe&&(f.Q6J("ngClass",be.panelClass),f.xp6(1),f.Q6J("ngClass",be.isDisabled?"panel-disabled":"panel-enabled"),f.xp6(2),f.uIk("aria-expanded",be.isOpen),f.xp6(1),f.Q6J("ngIf",be.heading),f.xp6(2),f.Q6J("collapse",!be.isOpen)("isAnimated",be.isAnimated))},directives:[G.mk,G.O5,ue],styles:["[_nghost-%COMP%]   .card-header.panel-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .card-header.panel-disabled[_ngcontent-%COMP%]   .btn.btn-link[_ngcontent-%COMP%]{cursor:default;text-decoration:none}"]}),Be})(),dt=(()=>{class Be{static forRoot(){return{ngModule:Be,providers:[]}}}return Be.\u0275fac=function(pe){return new(pe||Be)},Be.\u0275mod=f.oAB({type:Be}),Be.\u0275inj=f.cJS({imports:[[G.ez,Z]]}),Be})()},9062:(qt,We,x)=>{x.d(We,{oj:()=>me});var f=x(5e3),h=x(7691),G=x(5197);class ve{constructor(Z,q,se){this.nodes=Z,this.viewRef=q,this.componentRef=se}}class Ne{constructor(Z,q,se,Te,at,ke,lt,ut){this._viewContainerRef=Z,this._renderer=q,this._elementRef=se,this._injector=Te,this._componentFactoryResolver=at,this._ngZone=ke,this._applicationRef=lt,this._posService=ut,this.onBeforeShow=new f.vpe,this.onShown=new f.vpe,this.onBeforeHide=new f.vpe,this.onHidden=new f.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(Z){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(Z),this}to(Z){return this.container=Z||this.container,this}position(Z){return Z?(this.attachment=Z.attachment||this.attachment,this._elementRef=Z.target||this._elementRef,this):this}provide(Z){return this._providers.push(Z),this}show(Z={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(Z.content,Z.context,Z.initialState);const q=f.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(q,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,Z),this.container instanceof f.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const se=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!se)return;se.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(Z.id?{id:Z.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(Z){var q,se,Te,at,ke,lt;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const ut=this._componentRef.location.nativeElement;return null===(q=ut.parentNode)||void 0===q||q.removeChild(ut),null===(Te=null===(se=this._contentRef)||void 0===se?void 0:se.componentRef)||void 0===Te||Te.destroy(),this._viewContainerRef&&(null===(at=this._contentRef)||void 0===at?void 0:at.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(lt=null===(ke=this._contentRef)||void 0===ke?void 0:ke.viewRef)||void 0===lt||lt.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(Z?{id:Z}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(Z){var q;this.triggers=Z.triggers||this.triggers,this._listenOpts.outsideClick=Z.outsideClick,this._listenOpts.outsideEsc=Z.outsideEsc,Z.target=Z.target||(null===(q=this._elementRef)||void 0===q?void 0:q.nativeElement);const se=this._listenOpts.hide=()=>Z.hide?Z.hide():void this.hide(),Te=this._listenOpts.show=ke=>{Z.show?Z.show(ke):this.show(ke),ke()};return this._renderer&&(this._unregisterListenersFn=(0,h.wo)(this._renderer,{target:Z.target,triggers:Z.triggers,show:Te,hide:se,toggle:ke=>{this.isShown?se():Te(ke)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(Z,q){return Z&&q&&(this._inlineViewRef=Z.createEmbeddedView(q)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const Z=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,h.Rg)(this._renderer,{targets:[Z,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,h.C)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var Z;this._posService.position({element:null===(Z=this._componentRef)||void 0===Z?void 0:Z.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(Z,q,se){if(!Z)return new ve([]);if(Z instanceof f.Rgc){if(this._viewContainerRef){const ke=this._viewContainerRef.createEmbeddedView(Z,q);return ke.markForCheck(),new ve([ke.rootNodes],ke)}const at=Z.createEmbeddedView({});return this._applicationRef.attachView(at),new ve([at.rootNodes],at)}if("function"==typeof Z){const at=this._componentFactoryResolver.resolveComponentFactory(Z),ke=f.zs3.create({providers:this._providers,parent:this._injector}),lt=at.create(ke);return Object.assign(lt.instance,se),this._applicationRef.attachView(lt.hostView),new ve([[lt.location.nativeElement]],lt.hostView,lt)}const Te=this._renderer?[this._renderer.createText(`${Z}`)]:[];return new ve([Te])}}let me=(()=>{class ue{constructor(q,se,Te,at,ke){this._componentFactoryResolver=q,this._ngZone=se,this._injector=Te,this._posService=at,this._applicationRef=ke}createLoader(q,se,Te){return new Ne(se,Te,q,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return ue.\u0275fac=function(q){return new(q||ue)(f.LFG(f._Vd),f.LFG(f.R0b),f.LFG(f.zs3),f.LFG(G.sA),f.LFG(f.z2F))},ue.\u0275prov=f.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})()},8274:(qt,We,x)=>{x.d(We,{Hz:()=>ut,Mq:()=>ze,TO:()=>lt,mr:()=>dt});var f=x(5e3),h=x(9300),G=x(7691),Ce=x(1777),ve=x(9808),Ne=x(9062),me=x(5197);const ue=function(Be){return{dropdown:Be}},Z=["*"],se=[(0,Ce.oB)({height:0,overflow:"hidden"}),(0,Ce.jt)("220ms cubic-bezier(0, 0, 0.2, 1)",(0,Ce.oB)({height:"*",overflow:"hidden"}))];let Te=(()=>{class Be{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new f.vpe,this.isDisabledChange=new f.vpe,this.toggleClick=new f.vpe,this.counts=0,this.dropdownMenu=new Promise(pe=>{this.resolveDropdownMenu=pe})}}return Be.\u0275fac=function(pe){return new(pe||Be)},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"platform"}),Be})(),at=(()=>{class Be{constructor(pe,be,Qe,bt,Y){this._state=pe,this.cd=be,this._renderer=Qe,this._element=bt,this.isOpen=!1,this._factoryDropDownAnimation=Y.build(se),this._subscription=pe.isOpenChange.subscribe(Je=>{this.isOpen=Je;const nt=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),nt&&!(0,G.XA)()&&(this._renderer.addClass(nt,"show"),(nt.classList.contains("dropdown-menu-right")||nt.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(nt,"left","auto"),this._renderer.setStyle(nt,"right","0")),"up"===this.direction&&(this._renderer.setStyle(nt,"top","auto"),this._renderer.setStyle(nt,"transform","translateY(-101%)"))),nt&&this._state.isAnimated&&this._factoryDropDownAnimation.create(nt).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(pe){return this._element.nativeElement.contains(pe)}ngOnDestroy(){this._subscription.unsubscribe()}}return Be.\u0275fac=function(pe){return new(pe||Be)(f.Y36(Te),f.Y36(f.sBO),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Ce._j))},Be.\u0275cmp=f.Xpm({type:Be,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:Z,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(pe,be){1&pe&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA()),2&pe&&(f.ekj("dropup","up"===be.direction)("show",be.isOpen)("open",be.isOpen),f.Q6J("ngClass",f.VKq(7,ue,"down"===be.direction)))},directives:[ve.mk],encapsulation:2,changeDetection:0}),Be})(),ke=(()=>{class Be{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return Be.\u0275fac=function(pe){return new(pe||Be)},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),lt=(()=>{class Be{constructor(pe,be,Qe,bt,Y,Je,nt){this._elementRef=pe,this._renderer=be,this._viewContainerRef=Qe,this._cis=bt,this._state=Y,this._config=Je,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=nt.build(se),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:Te,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(pe){this._state.autoClose=pe}get autoClose(){return this._state.autoClose}set isAnimated(pe){this._state.isAnimated=pe}get isAnimated(){return this._state.isAnimated}set insideClick(pe){this._state.insideClick=pe}get insideClick(){return this._state.insideClick}set isDisabled(pe){this._isDisabled=pe,this._state.isDisabledChange.emit(pe),pe&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(pe){pe?this.show():this.hide()}get isBs4(){return!(0,G.XA)()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(pe=>this.toggle(pe))),this._subscriptions.push(this._state.isDisabledChange.pipe((0,h.h)(pe=>pe)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(pe=>{this._dropdown.attachInline(pe.viewContainer,pe.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(pe=>{const be=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=be?"up":"down";const Qe=this.placement||(be?"top start":"bottom start");this._dropdown.attach(at).to(this.container).position({attachment:Qe}).show({content:pe.templateRef,placement:Qe}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(pe){return this.isOpen||!pe?this.hide():this.show()}_contains(pe){return this._elementRef.nativeElement.contains(pe.target)||this._dropdown.instance&&this._dropdown.instance._contains(pe.target)}navigationClick(pe){const be=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!be)return;const Qe=this._elementRef.nativeElement.ownerDocument.activeElement,bt=be.querySelectorAll(".dropdown-item");switch(pe.keyCode){case 38:this._state.counts>0&&bt[--this._state.counts].focus();break;case 40:this._state.counts+1<bt.length&&(Qe.classList!==bt[this._state.counts].classList?bt[this._state.counts].focus():bt[++this._state.counts].focus())}pe.preventDefault()}ngOnDestroy(){for(const pe of this._subscriptions)pe.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){(0,G.XA)()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const pe=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",pe?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",pe?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return Be.\u0275fac=function(pe){return new(pe||Be)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.s_b),f.Y36(Ne.oj),f.Y36(Te),f.Y36(ke),f.Y36(Ce._j))},Be.\u0275dir=f.lG2({type:Be,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(pe,be){1&pe&&f.NdJ("keydown.arrowDown",function(bt){return be.navigationClick(bt)})("keydown.arrowUp",function(bt){return be.navigationClick(bt)}),2&pe&&f.ekj("dropup",be.dropup)("open",be.isOpen)("show",be.isOpen&&be.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[f._Bn([Te])]}),Be})(),ut=(()=>{class Be{constructor(pe,be,Qe){pe.resolveDropdownMenu({templateRef:Qe,viewContainer:be})}}return Be.\u0275fac=function(pe){return new(pe||Be)(f.Y36(Te),f.Y36(f.s_b),f.Y36(f.Rgc))},Be.\u0275dir=f.lG2({type:Be,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),Be})(),ze=(()=>{class Be{constructor(pe,be,Qe,bt,Y){this._changeDetectorRef=pe,this._dropdown=be,this._element=Qe,this._renderer=bt,this._state=Y,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(Je=>{this.isOpen=Je,Je?(this._documentClickListener=this._renderer.listen("document","click",nt=>{this._state.autoClose&&2!==nt.button&&!this._element.nativeElement.contains(nt.target)&&(!this._state.insideClick||!this._dropdown._contains(nt))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(Je=>this.isDisabled=Je||void 0))}onClick(pe){this._state.stopOnClickPropagation&&pe.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const pe of this._subscriptions)pe.unsubscribe()}}return Be.\u0275fac=function(pe){return new(pe||Be)(f.Y36(f.sBO),f.Y36(lt),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Te))},Be.\u0275dir=f.lG2({type:Be,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(pe,be){1&pe&&f.NdJ("click",function(bt){return be.onClick(bt)}),2&pe&&f.uIk("aria-haspopup",!0)("disabled",be.isDisabled)("aria-expanded",be.isOpen)},exportAs:["bs-dropdown-toggle"]}),Be})(),dt=(()=>{class Be{static forRoot(){return{ngModule:Be,providers:[Ne.oj,me.sA,Te]}}}return Be.\u0275fac=function(pe){return new(pe||Be)},Be.\u0275mod=f.oAB({type:Be}),Be.\u0275inj=f.cJS({imports:[[ve.ez]]}),Be})()},5197:(qt,We,x)=>{x.d(We,{Bz:()=>Xe,sA:()=>fn});var f=x(7691),h=x(5e3),G=x(9808),Ce=x(8421),ve=x(8306),Ne=x(5577),me=x(1144),ue=x(576),Z=x(3268);const q=["addListener","removeListener"],se=["addEventListener","removeEventListener"],Te=["on","off"];function at(W,de,Ee,Le){if((0,ue.m)(Ee)&&(Le=Ee,Ee=void 0),Le)return at(W,de,Ee).pipe((0,Z.Z)(Le));const[vt,Ft]=function ze(W){return(0,ue.m)(W.addEventListener)&&(0,ue.m)(W.removeEventListener)}(W)?se.map(he=>fe=>W[he](de,fe,Ee)):function lt(W){return(0,ue.m)(W.addListener)&&(0,ue.m)(W.removeListener)}(W)?q.map(ke(W,de)):function ut(W){return(0,ue.m)(W.on)&&(0,ue.m)(W.off)}(W)?Te.map(ke(W,de)):[];if(!vt&&(0,me.z)(W))return(0,Ne.z)(he=>at(he,de,Ee))((0,Ce.Xf)(W));if(!vt)throw new TypeError("Invalid event target");return new ve.y(he=>{const fe=(...Me)=>he.next(1<Me.length?Me:Me[0]);return vt(fe),()=>Ft(fe)})}function ke(W,de){return Ee=>Le=>W[Ee](de,Le)}var dt=x(4408),Be=x(727);const ft={schedule(W){let de=requestAnimationFrame,Ee=cancelAnimationFrame;const{delegate:Le}=ft;Le&&(de=Le.requestAnimationFrame,Ee=Le.cancelAnimationFrame);const vt=de(Ft=>{Ee=void 0,W(Ft)});return new Be.w0(()=>null==Ee?void 0:Ee(vt))},requestAnimationFrame(...W){const{delegate:de}=ft;return((null==de?void 0:de.requestAnimationFrame)||requestAnimationFrame)(...W)},cancelAnimationFrame(...W){const{delegate:de}=ft;return((null==de?void 0:de.cancelAnimationFrame)||cancelAnimationFrame)(...W)},delegate:void 0};var be=x(7565);const bt=new class Qe extends be.v{flush(de){this._active=!0;const Ee=this._scheduled;this._scheduled=void 0;const{actions:Le}=this;let vt;de=de||Le.shift();do{if(vt=de.execute(de.state,de.delay))break}while((de=Le[0])&&de.id===Ee&&Le.shift());if(this._active=!1,vt){for(;(de=Le[0])&&de.id===Ee&&Le.shift();)de.unsubscribe();throw vt}}}(class pe extends dt.o{constructor(de,Ee){super(de,Ee),this.scheduler=de,this.work=Ee}requestAsyncId(de,Ee,Le=0){return null!==Le&&Le>0?super.requestAsyncId(de,Ee,Le):(de.actions.push(this),de._scheduled||(de._scheduled=ft.requestAnimationFrame(()=>de.flush(void 0))))}recycleAsyncId(de,Ee,Le=0){var vt;if(null!=Le?Le>0:this.delay>0)return super.recycleAsyncId(de,Ee,Le);const{actions:Ft}=de;null!=Ee&&(null===(vt=Ft[Ft.length-1])||void 0===vt?void 0:vt.id)!==Ee&&(ft.cancelAnimationFrame(Ee),de._scheduled=void 0)}});var Je=x(7579),nt=x(6451),Fe=x(9646),Ue=(()=>{return(W=Ue||(Ue={})).top="top",W.bottom="bottom",W.left="left",W.right="right",W.auto="auto",W.end="right",W.start="left",W["top left"]="top left",W["top right"]="top right",W["right top"]="right top",W["right bottom"]="right bottom",W["bottom right"]="bottom right",W["bottom left"]="bottom left",W["left bottom"]="left bottom",W["left top"]="left top",W["top start"]="top left",W["top end"]="top right",W["end top"]="right top",W["end bottom"]="right bottom",W["bottom end"]="bottom right",W["bottom start"]="bottom left",W["start bottom"]="start bottom",W["start top"]="left top",Ue;var W})(),Xe=(()=>{return(W=Xe||(Xe={})).top="top",W.bottom="bottom",W.left="start",W.right="end",W.auto="auto",W.end="end",W.start="start",W["top left"]="top start",W["top right"]="top end",W["right top"]="end top",W["right bottom"]="end bottom",W["bottom right"]="bottom end",W["bottom left"]="bottom start",W["left bottom"]="start bottom",W["left top"]="start top",W["top start"]="top start",W["top end"]="top end",W["end top"]="end top",W["end bottom"]="end bottom",W["bottom end"]="bottom end",W["bottom start"]="bottom start",W["start bottom"]="start bottom",W["start top"]="start top",Xe;var W})();function it(W,de){if(1!==W.nodeType)return[];const Ee=W.ownerDocument.defaultView,Le=null==Ee?void 0:Ee.getComputedStyle(W,null);return de?Le&&Le[de]:Le}function st(W){if(!W)return document.documentElement;let Le,Ee=null==W?void 0:W.offsetParent;for(;null===Ee&&W.nextElementSibling&&Le!==W.nextElementSibling;)Le=W.nextElementSibling,Ee=Le.offsetParent;const vt=Ee&&Ee.nodeName;return vt&&"BODY"!==vt&&"HTML"!==vt?Ee&&-1!==["TH","TD","TABLE"].indexOf(Ee.nodeName)&&"static"===it(Ee,"position")?st(Ee):Ee:Le?Le.ownerDocument.documentElement:document.documentElement}function tn(W){return null!==W.parentNode?tn(W.parentNode):W}function pt(W,de){if(!(W&&W.nodeType&&de&&de.nodeType))return document.documentElement;const Ee=W.compareDocumentPosition(de)&Node.DOCUMENT_POSITION_FOLLOWING,Le=Ee?W:de,vt=Ee?de:W,Ft=document.createRange();Ft.setStart(Le,0),Ft.setEnd(vt,0);const he=Ft.commonAncestorContainer;if(W!==he&&de!==he||Le.contains(vt))return function xt(W){const{nodeName:de}=W;return"BODY"!==de&&("HTML"===de||st(W.firstElementChild)===W)}(he)?he:st(he);const fe=tn(W);return fe.host?pt(fe.host,de):pt(W,tn(de).host)}function mt(W){if(!W||!W.parentElement)return document.documentElement;let de=W.parentElement;for(;(null==de?void 0:de.parentElement)&&"none"===it(de,"transform");)de=de.parentElement;return de||document.documentElement}function Q(W,de){const Ee="x"===de?"Left":"Top",Le="Left"===Ee?"Right":"Bottom";return parseFloat(W[`border${Ee}Width`])+parseFloat(W[`border${Le}Width`])}function Ae(W,de,Ee,Le){return Math.max(de[`offset${W}`],de[`scroll${W}`],Ee[`client${W}`],Ee[`offset${W}`],Ee[`scroll${W}`],0)}function qe(W){const de=W.body,Ee=W.documentElement;return{height:Ae("Height",de,Ee),width:Ae("Width",de,Ee)}}function Rt(W){return Object.assign(Object.assign({},W),{right:(W.left||0)+W.width,bottom:(W.top||0)+W.height})}function nn(W){return"number"==typeof W||"[object Number]"===Object.prototype.toString.call(W)}function yn(W){const de=W.getBoundingClientRect();if(!(de&&nn(de.top)&&nn(de.left)&&nn(de.bottom)&&nn(de.right)))return de;const Ee={left:de.left,top:de.top,width:de.right-de.left,height:de.bottom-de.top},Le="HTML"===W.nodeName?qe(W.ownerDocument):void 0,vt=(null==Le?void 0:Le.width)||W.clientWidth||nn(de.right)&&nn(Ee.left)&&de.right-Ee.left||0,Ft=(null==Le?void 0:Le.height)||W.clientHeight||nn(de.bottom)&&nn(Ee.top)&&de.bottom-Ee.top||0;let he=W.offsetWidth-vt,fe=W.offsetHeight-Ft;if(he||fe){const Me=it(W);he-=Q(Me,"x"),fe-=Q(Me,"y"),Ee.width-=he,Ee.height-=fe}return Rt(Ee)}function On(W){return"HTML"===W.nodeName?W:W.parentNode||W.host}function Vn(W){if(!W)return document.body;switch(W.nodeName){case"HTML":case"BODY":return W.ownerDocument.body;case"#document":return W.body}const{overflow:de,overflowX:Ee,overflowY:Le}=it(W);return/(auto|scroll|overlay)/.test(String(de)+String(Le)+String(Ee))?W:Vn(On(W))}function Jn(W,de,Ee=!1){var Le,vt,Ft,he,fe,Me;const _e="HTML"===de.nodeName,X=yn(W),$=yn(de),ne=(Vn(W),it(de)),xe=parseFloat(ne.borderTopWidth),et=parseFloat(ne.borderLeftWidth);Ee&&_e&&($.top=Math.max(null!==(Le=$.top)&&void 0!==Le?Le:0,0),$.left=Math.max(null!==(vt=$.left)&&void 0!==vt?vt:0,0));const Lt=Rt({top:(null!==(Ft=X.top)&&void 0!==Ft?Ft:0)-(null!==(he=$.top)&&void 0!==he?he:0)-xe,left:(null!==(fe=X.left)&&void 0!==fe?fe:0)-(null!==(Me=$.left)&&void 0!==Me?Me:0)-et,width:X.width,height:X.height});if(Lt.marginTop=0,Lt.marginLeft=0,_e){const Vt=parseFloat(ne.marginTop),bn=parseFloat(ne.marginLeft);nn(Lt.top)&&(Lt.top-=xe-Vt),nn(Lt.bottom)&&(Lt.bottom-=xe-Vt),nn(Lt.left)&&(Lt.left-=et-bn),nn(Lt.right)&&(Lt.right-=et-bn),Lt.marginTop=Vt,Lt.marginLeft=bn}return Lt}function jn(W,de="top"){const Ee="top"===de?"scrollTop":"scrollLeft",Le=W.nodeName;if("BODY"===Le||"HTML"===Le){const vt=W.ownerDocument.documentElement;return(W.ownerDocument.scrollingElement||vt)[Ee]}return W[Ee]}function Yn(W){const de=W.nodeName;return"BODY"!==de&&"HTML"!==de&&("fixed"===it(W,"position")||Yn(On(W)))}function Ai(W,de,Ee=0,Le,vt=!1){let Ft={top:0,left:0};const he=vt?mt(W):pt(W,de);if("viewport"===Le)Ft=function ci(W,de=!1){const Ee=W.ownerDocument.documentElement,Le=Jn(W,Ee),vt=Math.max(Ee.clientWidth,window.innerWidth||0),Ft=Math.max(Ee.clientHeight,window.innerHeight||0),he=de?0:jn(Ee),fe=de?0:jn(Ee,"left");return Rt({top:he-Number(null==Le?void 0:Le.top)+Number(null==Le?void 0:Le.marginTop),left:fe-Number(null==Le?void 0:Le.left)+Number(null==Le?void 0:Le.marginLeft),width:vt,height:Ft})}(he,vt);else{let fe;"scrollParent"===Le?(fe=Vn(On(de)),"BODY"===fe.nodeName&&(fe=W.ownerDocument.documentElement)):fe="window"===Le?W.ownerDocument.documentElement:Le;const Me=Jn(fe,he,vt);if(Me&&"HTML"===fe.nodeName&&!Yn(he)){const{height:_e,width:X}=qe(W.ownerDocument);nn(Ft.top)&&nn(Me.top)&&nn(Me.marginTop)&&(Ft.top+=Me.top-Me.marginTop),nn(Ft.top)&&(Ft.bottom=Number(_e)+Number(Me.top)),nn(Ft.left)&&nn(Me.left)&&nn(Me.marginLeft)&&(Ft.left+=Me.left-Me.marginLeft),nn(Ft.top)&&(Ft.right=Number(X)+Number(Me.left))}else Me&&(Ft=Me)}return nn(Ft.left)&&(Ft.left+=Ee),nn(Ft.top)&&(Ft.top+=Ee),nn(Ft.right)&&(Ft.right-=Ee),nn(Ft.bottom)&&(Ft.bottom-=Ee),Ft}function Mn({width:W,height:de}){return W*de}function bi(W,de,Ee,Le,vt=["top","bottom","right","left"],Ft="viewport",he=0){var fe,Me,_e,X,$,ee,ne,xe,et,Lt,Vt,bn;if(-1===W.indexOf("auto"))return W;const vn=Ai(Ee,Le,he,Ft),Tn={top:{width:null!==(fe=null==vn?void 0:vn.width)&&void 0!==fe?fe:0,height:(null!==(Me=null==de?void 0:de.top)&&void 0!==Me?Me:0)-(null!==(_e=null==vn?void 0:vn.top)&&void 0!==_e?_e:0)},right:{width:(null!==(X=null==vn?void 0:vn.right)&&void 0!==X?X:0)-(null!==($=null==de?void 0:de.right)&&void 0!==$?$:0),height:null!==(ee=null==vn?void 0:vn.height)&&void 0!==ee?ee:0},bottom:{width:null!==(ne=null==vn?void 0:vn.width)&&void 0!==ne?ne:0,height:(null!==(xe=null==vn?void 0:vn.bottom)&&void 0!==xe?xe:0)-(null!==(et=null==de?void 0:de.bottom)&&void 0!==et?et:0)},left:{width:(null!==(Lt=de.left)&&void 0!==Lt?Lt:0)-(null!==(Vt=null==vn?void 0:vn.left)&&void 0!==Vt?Vt:0),height:null!==(bn=null==vn?void 0:vn.height)&&void 0!==bn?bn:0}},vi=Object.keys(Tn).map(xi=>Object.assign(Object.assign({position:xi},Tn[xi]),{area:Mn(Tn[xi])})).sort((xi,Yt)=>Yt.area-xi.area);let Ci=vi.filter(({width:xi,height:Yt})=>xi>=Ee.clientWidth&&Yt>=Ee.clientHeight);Ci=Ci.filter(({position:xi})=>vt.some(Yt=>Yt===xi));const Ti=Ci.length>0?Ci[0].position:vi[0].position,Cr=W.split(" ")[1];return Ee.className=Ee.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,f.Wl)().isBs5?Xe[Ti]:Ti}`),Ti+(Cr?`-${Cr}`:"")}const rn=(W,de=0)=>W?parseFloat(W):de;function Ui(W){const de=W.ownerDocument.defaultView,Ee=null==de?void 0:de.getComputedStyle(W),Le=rn(null==Ee?void 0:Ee.marginTop)+rn(null==Ee?void 0:Ee.marginBottom),vt=rn(null==Ee?void 0:Ee.marginLeft)+rn(null==Ee?void 0:Ee.marginRight);return{width:Number(W.offsetWidth)+vt,height:Number(W.offsetHeight)+Le}}function yi(W,de,Ee){return Jn(de,Ee?mt(W):pt(W,de),Ee)}function Ot(W,de,Ee){var Le,vt,Ft;const he=Ee.split(" ")[0],fe=Ui(W),Me={width:fe.width,height:fe.height},_e=-1!==["right","left"].indexOf(he),X=_e?"top":"left",$=_e?"left":"top",ee=_e?"height":"width",ne=_e?"width":"height";return Me[X]=(null!==(Le=de[X])&&void 0!==Le?Le:0)+de[ee]/2-fe[ee]/2,Me[$]=he===$?(null!==(vt=de[$])&&void 0!==vt?vt:0)-fe[ne]:null!==(Ft=de[function Li(W){const de={left:"right",right:"left",bottom:"top",top:"bottom"};return W.replace(/left|right|bottom|top/g,Ee=>de[Ee])}($)])&&void 0!==Ft?Ft:0,Me}function Ve(W,de){var Ee;return!!(null===(Ee=W.modifiers[de])||void 0===Ee?void 0:Ee.enabled)}const Ge={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Ut(W,de){return!!(0,f.Wl)().isBs5&&Ge[de].includes(W)}function Zt(W,de,Ee){!W||!de||Object.keys(de).forEach(Le=>{let vt="";-1!==["width","height","top","right","bottom","left"].indexOf(Le)&&function Ht(W){return""!==W&&!isNaN(parseFloat(W))&&isFinite(Number(W))}(de[Le])&&(vt="px"),Ee?Ee.setStyle(W,Le,`${String(de[Le])}${vt}`):W.style[Le]=String(de[Le])+vt})}function Re(W){var de,Ee,Le,vt,Ft,he;let fe=W.offsets.target;const Me=W.instance.target.querySelector(".arrow");if(!Me)return W;const _e=-1!==["left","right"].indexOf(W.placement.split(" ")[0]),X=_e?"height":"width",$=_e?"Top":"Left",ee=$.toLowerCase(),ne=_e?"left":"top",xe=_e?"bottom":"right",et=Ui(Me)[X],Lt=W.placement.split(" ")[1];(null!==(de=W.offsets.host[xe])&&void 0!==de?de:0)-et<(null!==(Ee=fe[ee])&&void 0!==Ee?Ee:0)&&(fe[ee]-=(null!==(Le=fe[ee])&&void 0!==Le?Le:0)-((null!==(vt=W.offsets.host[xe])&&void 0!==vt?vt:0)-et)),Number(W.offsets.host[ee])+Number(et)>(null!==(Ft=fe[xe])&&void 0!==Ft?Ft:0)&&(fe[ee]+=Number(W.offsets.host[ee])+Number(et)-Number(fe[xe])),fe=Rt(fe);const Vt=it(W.instance.target),bn=parseFloat(Vt[`margin${$}`])||0,vn=parseFloat(Vt[`border${$}Width`])||0;let Tn;if(Lt){const Ci=parseFloat(Vt.borderRadius)||0,Ti=Number(bn+vn+Ci);Tn=ee===Lt?Number(W.offsets.host[ee])+Ti:Number(W.offsets.host[ee])+Number(W.offsets.host[X]-Ti)}else Tn=Number(W.offsets.host[ee])+Number(W.offsets.host[X]/2-et/2);let vi=Tn-(null!==(he=fe[ee])&&void 0!==he?he:0)-bn-vn;return vi=Math.max(Math.min(fe[X]-(et+5),vi),0),W.offsets.arrow={[ee]:Math.round(vi),[ne]:""},W.instance.arrow=Me,W}function Oe(W){if(W.offsets.target=Rt(W.offsets.target),!Ve(W.options,"flip"))return W.offsets.target=Object.assign(Object.assign({},W.offsets.target),Ot(W.instance.target,W.offsets.host,W.placement)),W;const de=Ai(W.instance.target,W.instance.host,0,"viewport",!1);let Ee=W.placement.split(" ")[0],Le=W.placement.split(" ")[1]||"";const fe=bi("auto",W.offsets.host,W.instance.target,W.instance.host,W.options.allowedPositions),Me=[Ee,fe];return Me.forEach((_e,X)=>{var $,ee,ne,xe,et,Lt,Vt,bn,vn,Tn,vi,Ci,Ti,Cr,xi,Yt;if(Ee!==_e||Me.length===X+1)return;Ee=W.placement.split(" ")[0];const qn="left"===Ee&&Math.floor(null!==($=W.offsets.target.right)&&void 0!==$?$:0)>Math.floor(null!==(ee=W.offsets.host.left)&&void 0!==ee?ee:0)||"right"===Ee&&Math.floor(null!==(ne=W.offsets.target.left)&&void 0!==ne?ne:0)<Math.floor(null!==(xe=W.offsets.host.right)&&void 0!==xe?xe:0)||"top"===Ee&&Math.floor(null!==(et=W.offsets.target.bottom)&&void 0!==et?et:0)>Math.floor(null!==(Lt=W.offsets.host.top)&&void 0!==Lt?Lt:0)||"bottom"===Ee&&Math.floor(null!==(Vt=W.offsets.target.top)&&void 0!==Vt?Vt:0)<Math.floor(null!==(bn=W.offsets.host.bottom)&&void 0!==bn?bn:0),gi=Math.floor(null!==(vn=W.offsets.target.left)&&void 0!==vn?vn:0)<Math.floor(null!==(Tn=de.left)&&void 0!==Tn?Tn:0),zi=Math.floor(null!==(vi=W.offsets.target.right)&&void 0!==vi?vi:0)>Math.floor(null!==(Ci=de.right)&&void 0!==Ci?Ci:0),yr=Math.floor(null!==(Ti=W.offsets.target.top)&&void 0!==Ti?Ti:0)<Math.floor(null!==(Cr=de.top)&&void 0!==Cr?Cr:0),Wi=Math.floor(null!==(xi=W.offsets.target.bottom)&&void 0!==xi?xi:0)>Math.floor(null!==(Yt=de.bottom)&&void 0!==Yt?Yt:0),sr="left"===Ee&&gi||"right"===Ee&&zi||"top"===Ee&&yr||"bottom"===Ee&&Wi,ai=-1!==["top","bottom"].indexOf(Ee),Tr=ai&&"left"===Le&&gi||ai&&"right"===Le&&zi||!ai&&"left"===Le&&yr||!ai&&"right"===Le&&Wi;(qn||sr||Tr)&&((qn||sr)&&(Ee=Me[X+1]),Tr&&(Le=function ti(W){return"right"===W?"left":"left"===W?"right":W}(Le)),W.placement=Ee+(Le?` ${Le}`:""),W.offsets.target=Object.assign(Object.assign({},W.offsets.target),Ot(W.instance.target,W.offsets.host,W.placement)))}),W}function Ke(W){var de;if(!Ve(W.options,"preventOverflow"))return W;const Ee="transform",Le=W.instance.target.style,{top:vt,left:Ft,[Ee]:he}=Le;Le.top="",Le.left="",Le[Ee]="";const fe=Ai(W.instance.target,W.instance.host,0,(null===(de=W.options.modifiers.preventOverflow)||void 0===de?void 0:de.boundariesElement)||"scrollParent",!1);Le.top=vt,Le.left=Ft,Le[Ee]=he;const _e={primary(X){var $,ee,ne,xe;let et=W.offsets.target[X];return(null!==($=W.offsets.target[X])&&void 0!==$?$:0)<(null!==(ee=fe[X])&&void 0!==ee?ee:0)&&(et=Math.max(null!==(ne=W.offsets.target[X])&&void 0!==ne?ne:0,null!==(xe=fe[X])&&void 0!==xe?xe:0)),{[X]:et}},secondary(X){var $,ee,ne,xe;const et="right"===X,Lt=et?"left":"top";let bn=W.offsets.target[Lt];return(null!==($=W.offsets.target[X])&&void 0!==$?$:0)>(null!==(ee=fe[X])&&void 0!==ee?ee:0)&&(bn=Math.min(null!==(ne=W.offsets.target[Lt])&&void 0!==ne?ne:0,(null!==(xe=fe[X])&&void 0!==xe?xe:0)-W.offsets.target[et?"width":"height"])),{[Lt]:bn}}};return["left","right","top","bottom"].forEach(X=>{const $=-1!==["left","top","start"].indexOf(X)?_e.primary:_e.secondary;W.offsets.target=Object.assign(Object.assign({},W.offsets.target),$(X))}),W}function wt(W){var de;const Ee=W.placement,Le=Ee.split(" ")[0],vt=Ee.split(" ")[1];if(vt){const{host:Ft,target:he}=W.offsets,fe=-1!==["bottom","top"].indexOf(Le),Me=fe?"left":"top",_e=fe?"width":"height",X={start:{[Me]:Ft[Me]},end:{[Me]:(null!==(de=Ft[Me])&&void 0!==de?de:0)+Ft[_e]-he[_e]}};W.offsets.target=Object.assign(Object.assign({},he),{[Me]:Me===vt?X.start[Me]:X.end[Me]})}return W}const Tt=new class Mt{position(de,Ee){return this.offset(de,Ee)}offset(de,Ee){return yi(Ee,de)}positionElements(de,Ee,Le,vt,Ft){const he=[Oe,wt,Ke,Re],Me=function we(W,de,Ee,Le){if(!W||!de)return;const vt=yi(W,de);!Ee.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!Ee.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(Ee="auto");const Ft=!!Ee.match(/auto/g);let he=Ee.match(/auto\s(left|right|top|bottom|start|end)/)?Ee.split(" ")[1]||"auto":Ee;const fe=he.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return fe&&(he=fe[1]+(fe[2]?` ${fe[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(he)&&(he="auto"),he=bi(he,vt,W,de,Le?Le.allowedPositions:void 0),{options:Le||{modifiers:{}},instance:{target:W,host:de,arrow:void 0},offsets:{target:Ot(W,vt,he),host:vt,arrow:void 0},positionFixed:!1,placement:he,placementAuto:Ft}}(Ee,de,Ue[Le],Ft);if(Me)return he.reduce((_e,X)=>X(_e),Me)}};function _n(W,de,Ee,Le,vt,Ft){const he=Tt.positionElements(W,de,Ee,Le,vt);if(!he)return;const fe=function on(W){var de,Ee,Le,vt;return{width:W.offsets.target.width,height:W.offsets.target.height,left:Math.floor(null!==(de=W.offsets.target.left)&&void 0!==de?de:0),top:Math.round(null!==(Ee=W.offsets.target.top)&&void 0!==Ee?Ee:0),bottom:Math.round(null!==(Le=W.offsets.target.bottom)&&void 0!==Le?Le:0),right:Math.floor(null!==(vt=W.offsets.target.right)&&void 0!==vt?vt:0)}}(he);Zt(de,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${fe.left}px, ${fe.top}px, 0px)`},Ft),he.instance.arrow&&Zt(he.instance.arrow,he.offsets.arrow,Ft),function Nt(W,de){const Ee=W.instance.target;let Le=Ee.className;const vt=(0,f.Wl)().isBs5?Xe[W.placement]:W.placement;W.placementAuto&&(Le=Le.replace(/bs-popover-auto/g,`bs-popover-${vt}`),Le=Le.replace(/ms-2|me-2|mb-2|mt-2/g,""),Le=Le.replace(/bs-tooltip-auto/g,`bs-tooltip-${vt}`),Le=Le.replace(/\sauto/g,` ${vt}`),-1!==Le.indexOf("popover")&&(Le=Le+" "+function It(W){return(0,f.Wl)().isBs5?Ut(W,"end")?"ms-2":Ut(W,"start")?"me-2":Ut(W,"top")?"mb-2":Ut(W,"bottom")?"mt-2":"":""}(vt)),-1!==Le.indexOf("popover")&&-1===Le.indexOf("popover-auto")&&(Le+=" popover-auto"),-1!==Le.indexOf("tooltip")&&-1===Le.indexOf("tooltip-auto")&&(Le+=" tooltip-auto")),Le=Le.replace(/left|right|top|bottom|end|start/g,`${vt.split(" ")[0]}`),de?de.setAttribute(Ee,"class",Le):Ee.className=Le}(he,Ft)}let fn=(()=>{class W{constructor(Ee,Le,vt){this.update$$=new Je.x,this.positionElements=new Map,this.isDisabled=!1,(0,G.NF)(vt)&&Ee.runOutsideAngular(()=>{this.triggerEvent$=(0,nt.T)(at(window,"scroll",{passive:!0}),at(window,"resize",{passive:!0}),(0,Fe.of)(0,bt),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(Ft=>{_n(pn(Ft.target),pn(Ft.element),Ft.attachment,Ft.appendToBody,this.options,Le.createRenderer(null,null))})})})}position(Ee){this.addPositionElement(Ee)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(Ee){this.positionElements.set(pn(Ee.element),Ee)}calcPosition(){this.update$$.next(null)}deletePositionElement(Ee){this.positionElements.delete(pn(Ee))}setOptions(Ee){this.options=Ee}}return W.\u0275fac=function(Ee){return new(Ee||W)(h.LFG(h.R0b),h.LFG(h.FYo),h.LFG(h.Lbi))},W.\u0275prov=h.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function pn(W){return"string"==typeof W?document.querySelector(W):W instanceof h.SBq?W.nativeElement:null!=W?W:null}},4941:(qt,We,x)=>{x.d(We,{Xt:()=>se});var f=x(5e3),h=x(3075),G=x(9808);function Ce(Te,at){1&Te&&f._uU(0),2&Te&&f.Oqu(at.index<at.value?"\u2605":"\u2606")}function ve(Te,at){}const Ne=function(Te,at){return{index:Te,value:at}};function me(Te,at){if(1&Te){const ke=f.EpF();f.TgZ(0,"span",3),f._uU(1),f.qZA(),f.TgZ(2,"span",4),f.NdJ("mouseenter",function(){const ze=f.CHM(ke).index;return f.oxw().enter(ze+1)})("click",function(){const ze=f.CHM(ke).index;return f.oxw().rate(ze+1)}),f.YNc(3,ve,0,0,"ng-template",5),f.qZA()}if(2&Te){const ke=at.$implicit,lt=at.index,ut=f.oxw(),ze=f.MAs(2);f.xp6(1),f.hij("(",lt<ut.value?"*":" ",")"),f.xp6(1),f.Udp("cursor",ut.readonly?"default":"pointer"),f.ekj("active",lt<ut.value),f.Q6J("title",ke.title),f.xp6(1),f.Q6J("ngTemplateOutlet",ut.customTemplate||ze)("ngTemplateOutletContext",f.WLB(8,Ne,lt,ut.value))}}let ue=(()=>{class Te{constructor(){this.ariaLabel="rating"}}return Te.\u0275fac=function(ke){return new(ke||Te)},Te.\u0275prov=f.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();const Z={provide:h.JU,useExisting:(0,f.Gpc)(()=>q),multi:!0};let q=(()=>{class Te{constructor(ke,lt){this.changeDetection=ke,this.max=5,this.readonly=!1,this.titles=[],this.onHover=new f.vpe,this.onLeave=new f.vpe,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.ariaLabel="rating",this.range=[],this.value=0,Object.assign(this,lt)}onKeydown(ke){-1!==[37,38,39,40].indexOf(ke.which)&&(ke.preventDefault(),ke.stopPropagation(),this.rate(this.value+(38===ke.which||39===ke.which?1:-1)))}ngOnInit(){this.max=this.max||5,this.titles=void 0!==this.titles&&this.titles.length>0?this.titles:[],this.range=this.buildTemplateObjects(this.max)}writeValue(ke){if(ke%1!==ke)return this.value=Math.round(ke),this.preValue=ke,void this.changeDetection.markForCheck();this.preValue=ke,this.value=ke,this.changeDetection.markForCheck()}enter(ke){this.readonly||(this.value=ke,this.changeDetection.markForCheck(),this.onHover.emit(ke))}reset(){"number"==typeof this.preValue&&(this.value=Math.round(this.preValue),this.changeDetection.markForCheck(),this.onLeave.emit(this.value))}registerOnChange(ke){this.onChange=ke}registerOnTouched(ke){this.onTouched=ke}rate(ke){!this.readonly&&this.range&&ke>=0&&ke<=this.range.length&&(this.writeValue(ke),this.onChange(ke))}buildTemplateObjects(ke){const lt=[];for(let ut=0;ut<ke;ut++)lt.push({index:ut,title:this.titles[ut]||ut+1});return lt}}return Te.\u0275fac=function(ke){return new(ke||Te)(f.Y36(f.sBO),f.Y36(ue))},Te.\u0275cmp=f.Xpm({type:Te,selectors:[["rating"]],hostBindings:function(ke,lt){1&ke&&f.NdJ("keydown",function(ze){return lt.onKeydown(ze)})},inputs:{max:"max",readonly:"readonly",titles:"titles",customTemplate:"customTemplate"},outputs:{onHover:"onHover",onLeave:"onLeave"},features:[f._Bn([Z])],decls:4,vars:4,consts:[["tabindex","0","role","slider","aria-valuemin","0",3,"mouseleave","keydown"],["star",""],["ngFor","",3,"ngForOf"],[1,"sr-only","visually-hidden"],[1,"bs-rating-star",3,"title","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(ke,lt){1&ke&&(f.TgZ(0,"span",0),f.NdJ("mouseleave",function(){return lt.reset()})("keydown",function(ze){return lt.onKeydown(ze)}),f.YNc(1,Ce,1,1,"ng-template",null,1,f.W1O),f.YNc(3,me,4,11,"ng-template",2),f.qZA()),2&ke&&(f.uIk("aria-label",lt.ariaLabel)("aria-valuemax",lt.range.length)("aria-valuenow",lt.value),f.xp6(3),f.Q6J("ngForOf",lt.range))},directives:[G.sg,G.tP],encapsulation:2,changeDetection:0}),Te})(),se=(()=>{class Te{static forRoot(){return{ngModule:Te,providers:[]}}}return Te.\u0275fac=function(ke){return new(ke||Te)},Te.\u0275mod=f.oAB({type:Te}),Te.\u0275inj=f.cJS({imports:[[G.ez]]}),Te})()},7691:(qt,We,x)=>{x.d(We,{AL:()=>Ce,C:()=>ue,Dc:()=>bt,GU:()=>it,O4:()=>pt,Rg:()=>me,Wl:()=>Fe,XA:()=>Y,wo:()=>Ne});var f=x(5e3);class h{constructor(Q,Ae){this.open=Q,this.close=Ae||Q}isManual(){return"manual"===this.open||"manual"===this.close}}const G={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function Ce(mt,Q=G){const Ae=(mt||"").trim();if(0===Ae.length)return[];const qe=Ae.split(/\s+/).map(Ht=>Ht.split(":")).map(Ht=>{const nn=Q[Ht[0]]||Ht;return new h(nn[0],nn[1])}),Rt=qe.filter(Ht=>Ht.isManual());if(Rt.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Rt.length&&qe.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return qe}function Ne(mt,Q){const Ae=Ce(Q.triggers),qe=Q.target;if(1===Ae.length&&Ae[0].isManual())return Function.prototype;const Rt=[],Ht=[],nn=()=>{Ht.forEach(yn=>Rt.push(yn())),Ht.length=0};return Ae.forEach(yn=>{const On=yn.open===yn.close,Vn=On?Q.toggle:Q.show;if(!On&&yn.close&&Q.hide){const Jn=mt.listen(qe,yn.close,Q.hide);Ht.push(()=>Jn)}Vn&&Rt.push(mt.listen(qe,yn.open,()=>Vn(nn)))}),()=>{Rt.forEach(yn=>yn())}}function me(mt,Q){return Q.outsideClick?mt.listen("document","click",Ae=>{Q.target&&Q.target.contains(Ae.target)||Q.targets&&Q.targets.some(qe=>qe.contains(Ae.target))||Q.hide&&Q.hide()}):Function.prototype}function ue(mt,Q){return Q.outsideEsc?mt.listen("document","keyup.esc",Ae=>{Q.target&&Q.target.contains(Ae.target)||Q.targets&&Q.targets.some(qe=>qe.contains(Ae.target))||Q.hide&&Q.hide()}):Function.prototype}const Z="undefined"!=typeof window&&window||{};let be;function Qe(){if(void 0===Z.document)return"bs4";const mt=Z.document.createElement("span");mt.innerText="testing bs version",mt.classList.add("d-none"),mt.classList.add("pl-1"),Z.document.head.appendChild(mt);const Q=mt.getBoundingClientRect(),Ae=Z.getComputedStyle(mt).paddingLeft;return!Q||Q&&0!==Q.top?(Z.document.head.removeChild(mt),"bs3"):Ae&&parseFloat(Ae)?(Z.document.head.removeChild(mt),"bs4"):(Z.document.head.removeChild(mt),"bs5")}function bt(mt){be=mt}function Y(){return void 0===Z||(void 0===Z.__theme?(be||(be=Qe()),"bs3"===be):"bs3"===Z.__theme)}function Je(){return!Y()&&(be||(be=Qe()),"bs4"===be)}function Fe(){return{isBs3:Y(),isBs4:Je(),isBs5:!Y()&&!Je()&&(be||(be=Qe()),"bs5"===be)}}function it(){return function(Ae,qe){const Rt=` __${qe}Value`;Object.defineProperty(Ae,qe,{get(){return this[Rt]},set(Ht){const nn=this[Rt];this[Rt]=Ht,nn!==Ht&&this[qe+"Change"]&&this[qe+"Change"].emit(Ht)}})}}const xt={},tn="undefined"==typeof console||!("warn"in console);function pt(mt){!(0,f.X6Q)()||tn||mt in xt||(xt[mt]=!0,console.warn(mt))}},5861:(qt,We,x)=>{function f(G,Ce,ve,Ne,me,ue,Z){try{var q=G[ue](Z),se=q.value}catch(Te){return void ve(Te)}q.done?Ce(se):Promise.resolve(se).then(Ne,me)}function h(G){return function(){var Ce=this,ve=arguments;return new Promise(function(Ne,me){var ue=G.apply(Ce,ve);function Z(se){f(ue,Ne,me,Z,q,"next",se)}function q(se){f(ue,Ne,me,Z,q,"throw",se)}Z(void 0)})}}x.d(We,{Z:()=>h})}},qt=>{qt(qt.s=326)}]);