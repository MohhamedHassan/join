"use strict";(self.webpackChunkjoin=self.webpackChunkjoin||[]).push([[998],{8998:(U,u,a)=>{a.r(u),a.d(u,{SearchResultModule:()=>F});var c=a(9808),s=a(2094),e=a(5e3),p=a(4004),h=a(520),g=a(4965);let f=(()=>{class o{constructor(t,n){this.http=t,this.glopalService=n}getSearchResult(t){return this.http.post(`${this.glopalService.apiUrlOne}search`,{str:t}).pipe((0,p.U)(n=>Array.isArray(n.payload)?n.payload:[]))}filter(t){return this.http.post(`${this.glopalService.apiUrlOne}getFiltersWeb`,t).pipe((0,p.U)(n=>Array.isArray(n.payload)?n.payload:[]))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(h.eN),e.LFG(g.W))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var v=a(4299),S=a(3631),m=a(8995);function R(o,r){1&o&&e._UZ(0,"app-laoding")}function y(o,r){if(1&o&&(e.TgZ(0,"div",7)(1,"article",8)(2,"div",9),e._UZ(3,"img",10),e.qZA(),e.TgZ(4,"div",11)(5,"h2",12)(6,"a",13)(7,"span",14),e._uU(8),e.qZA()()()()()()),2&o){const t=r.$implicit,n=e.oxw(2);e.xp6(3),e.Q6J("src",null==t?null:t.banner,e.LSH),e.xp6(3),e.Q6J("routerLink",n.routeToDEtailsPage(t)),e.xp6(2),e.hij(" ",(null==t?null:t.title)||(null==t?null:t.name)," ")}}function x(o,r){1&o&&(e.TgZ(0,"p",15),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"no_data"),"\n"))}function T(o,r){if(1&o&&(e.TgZ(0,"div",4),e.YNc(1,y,9,3,"div",5),e.YNc(2,x,3,3,"p",6),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.searchResult),e.xp6(1),e.Q6J("ngIf",!(null!=t.searchResult&&t.searchResult.length))}}const C=[{path:"",component:(()=>{class o{constructor(t,n,l){this.activatedRoute=t,this.serachService=n,this.router=l,this.loading=!0,this.searchResult=[]}ngOnInit(){this.activatedRoute.params.subscribe(t=>{-1==(null==t?void 0:t.str)?this.activatedRoute.queryParamMap.subscribe(n=>{if(console.log(n),n.params.filterbody){let l=JSON.parse(n.params.filterbody)[0],i=new FormData;i.append("interests_id",l.interests_id.toString()),i.append("child_id",l.child_id.toString()),i.append("area_id",l.area_id.toString()),i.append("age_from",l.age_from),i.append("age_to",l.age_to),i.append("price_from",l.price_from),i.append("price_to",l.price_to),i.append("rating",l.rating),this.serachService.filter(i).subscribe(d=>{this.searchResult=d,this.searchResult.map(I=>{I.type="ACTIVITY"}),this.loading=!1,console.log(d)})}}):this.serachService.getSearchResult(null==t?void 0:t.str).subscribe(n=>{this.searchResult=n,this.loading=!1,console.log(n)})})}routeToDEtailsPage(t){return"ACTIVITY"==(null==t?void 0:t.type)?`/activity/${null==t?void 0:t.id}`:"CLUB"==(null==t?void 0:t.type)?`/clup/${null==t?void 0:t.id}`:"/notfound"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.gz),e.Y36(f),e.Y36(s.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-search-result"]],decls:4,vars:2,consts:[["header","search_result"],[1,"container","my-5",2,"min-height","100vh"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"row"],["class","col-md-4 col-lg-3 mb-4",4,"ngFor","ngForOf"],["class","text-secondary fw-bold text-center",4,"ngIf"],[1,"col-md-4","col-lg-3","mb-4"],[1,"clup-cart","glopal-cart","position-relative"],[1,"imgPart"],["alt","join",3,"src"],[1,"detasils","px-3","py-4"],[1,"text-center","clup-card",2,"font-weight","400","padding","10px 0","margin","0"],[3,"routerLink"],[1,"d-block"],[1,"text-secondary","fw-bold","text-center"]],template:function(t,n){1&t&&(e._UZ(0,"app-shared-header",0),e.TgZ(1,"section",1),e.YNc(2,R,1,0,"app-laoding",2),e.YNc(3,T,3,2,"div",3),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},directives:[v.Q,c.O5,S.X,c.sg,s.yS],pipes:[m.X$],styles:[""]}),o})()}];let A=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[s.Bz.forChild(C)],s.Bz]}),o})();var Z=a(4466);let F=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,A,Z.m]]}),o})()}}]);