"use strict";var sC=Object.defineProperty,oC=Object.defineProperties,aC=Object.getOwnPropertyDescriptors,ib=Object.getOwnPropertySymbols,lC=Object.prototype.hasOwnProperty,uC=Object.prototype.propertyIsEnumerable,rb=(qt,Ze,x)=>Ze in qt?sC(qt,Ze,{enumerable:!0,configurable:!0,writable:!0,value:x}):qt[Ze]=x,sb=(qt,Ze)=>{for(var x in Ze||(Ze={}))lC.call(Ze,x)&&rb(qt,x,Ze[x]);if(ib)for(var x of ib(Ze))uC.call(Ze,x)&&rb(qt,x,Ze[x]);return qt},ob=(qt,Ze)=>oC(qt,aC(Ze));(self.webpackChunkjoin=self.webpackChunkjoin||[]).push([[179],{2011:(qt,Ze,x)=>{x.d(Ze,{Dh:()=>ce,GT:()=>Re,cc:()=>nt,hO:()=>ut,on:()=>ne,pX:()=>_e,xv:()=>X});var g=x(5e3),h=x(127),W=x(6351);qt=x.hmd(qt);const De=["ngOnDestroy"],_e=(st,Ue,ft,me={})=>new Proxy(st,{get:(we,et)=>ft.runOutsideAngular(()=>{var Tt;if(st[et])return(null===(Tt=null==me?void 0:me.spy)||void 0===Tt?void 0:Tt.get)&&me.spy.get(et,st[et]),st[et];if(De.indexOf(et)>-1)return()=>{};const Y=Ue.toPromise().then(qe=>{const tt=qe&&qe[et];return"function"==typeof tt?tt.bind(qe):tt&&tt.then?tt.then(Le=>ft.run(()=>Le)):ft.run(()=>tt)});return new Proxy(()=>{},{get:(qe,tt)=>Y[tt],apply:(qe,tt,Le)=>Y.then(Ge=>{var Xe;const ot=Ge&&Ge(...Le);return(null===(Xe=null==me?void 0:me.spy)||void 0===Xe?void 0:Xe.apply)&&me.spy.apply(et,Le,ot),ot})})})}),Re=(st,Ue)=>{Ue.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(me=>{Object.defineProperty(st.prototype,me,Object.getOwnPropertyDescriptor(ft.prototype||ft,me))})})};class Ce{constructor(Ue){return Ue}}const ce=new g.OlP("angularfire2.app.options"),X=new g.OlP("angularfire2.app.name");function ne(st,Ue,ft){const we="object"==typeof ft&&ft||{};we.name=we.name||"string"==typeof ft&&ft||"[DEFAULT]";const Tt=h.Z.apps.filter(Y=>Y&&Y.name===we.name)[0]||Ue.runOutsideAngular(()=>h.Z.initializeApp(st,we));try{JSON.stringify(st)!==JSON.stringify(Tt.options)&&ue("error",`${Tt.name} Firebase App already initialized with different options${qt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Y){}return new Ce(Tt)}const ue=(st,...Ue)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[st](...Ue)},Ne={provide:Ce,useFactory:ne,deps:[ce,g.R0b,[new g.FiY,X]]};let ut=(()=>{class st{constructor(ft){h.Z.registerVersion("angularfire",W.q4.full,"core"),h.Z.registerVersion("angularfire",W.q4.full,"app-compat"),h.Z.registerVersion("angular",g.q4F.full,ft.toString())}static initializeApp(ft,me){return{ngModule:st,providers:[{provide:ce,useValue:ft},{provide:X,useValue:me}]}}}return st.\u0275fac=function(ft){return new(ft||st)(g.LFG(g.Lbi))},st.\u0275mod=g.oAB({type:st}),st.\u0275inj=g.cJS({providers:[Ne]}),st})();function nt(st,Ue,ft,me,we){const[,et,Tt]=globalThis.\u0275AngularfireInstanceCache.find(Y=>Y[0]===st)||[];if(et)return function dt(st,Ue){try{return st.toString()===Ue.toString()}catch(ft){return st===Ue}}(we,Tt)||(Qe("error",`${Ue} was already initialized on the ${ft} Firebase App with different settings.${ct?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:we,was:Tt})),et;{const Y=me();return globalThis.\u0275AngularfireInstanceCache.push([st,Y,we]),Y}}const ct=!!qt.hot,Qe=(st,...Ue)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[st](...Ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(qt,Ze,x)=>{x.d(Ze,{q4:()=>ea,iC:()=>wa,HU:()=>Xa,vb:()=>Iu,JM:()=>ba});var g=x(5e3),h=x(5867),W=x(5861),De=x(9681),_e=x(2090),Re=x(4859),Ce=x(1877),ce=x(8766);const X="@firebase/installations",ne="0.5.16",Ne=`w:${ne}`,ut="FIS_v2",Ue=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(R){return R instanceof _e.ZR&&R.code.includes("request-failed")}function me({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function we(R){return{token:R.token,requestStatus:2,expiresIn:Ge(R.expiresIn),creationTime:Date.now()}}function et(R,B){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,W.Z)(function*(R,B){const Te=(yield B.json()).error;return Ue.create("request-failed",{requestName:R,serverCode:Te.code,serverMessage:Te.message,serverStatus:Te.status})})).apply(this,arguments)}function Y({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function qe(R,{refreshToken:B}){const oe=Y(R);return oe.append("Authorization",function Xe(R){return`${ut} ${R}`}(B)),oe}function tt(R){return Le.apply(this,arguments)}function Le(){return(Le=(0,W.Z)(function*(R){const B=yield R();return B.status>=500&&B.status<600?R():B})).apply(this,arguments)}function Ge(R){return Number(R.replace("s","000"))}function ot(R,B){return it.apply(this,arguments)}function it(){return(it=(0,W.Z)(function*({appConfig:R,heartbeatServiceProvider:B},{fid:oe}){const Te=me(R),Je=Y(R),yt=B.getImmediate({optional:!0});if(yt){const Xn=yield yt.getHeartbeatsHeader();Xn&&Je.append("x-firebase-client",Xn)}const en={method:"POST",headers:Je,body:JSON.stringify({fid:oe,authVersion:ut,appId:R.appId,sdkVersion:Ne})},Nn=yield tt(()=>fetch(Te,en));if(Nn.ok){const Xn=yield Nn.json();return{fid:Xn.fid||oe,registrationStatus:2,refreshToken:Xn.refreshToken,authToken:we(Xn.authToken)}}throw yield et("Create Installation",Nn)})).apply(this,arguments)}function Rt(R){return new Promise(B=>{setTimeout(B,R)})}const pt=/^[cdef][\w-]{21}$/;function q(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const oe=function Se(R){return function on(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return pt.test(oe)?oe:""}catch(R){return""}}function Ke(R){return`${R.appName}!${R.appId}`}const Mt=new Map;function $t(R,B){const oe=Ke(R);Sn(oe,B),function Wn(R,B){const oe=function qn(){return!ui&&"BroadcastChannel"in self&&(ui=new BroadcastChannel("[Firebase] FID Change"),ui.onmessage=R=>{Sn(R.data.key,R.data.fid)}),ui}();oe&&oe.postMessage({key:R,fid:B}),function Si(){0===Mt.size&&ui&&(ui.close(),ui=null)}()}(oe,B)}function Sn(R,B){const oe=Mt.get(R);if(oe)for(const Te of oe)Te(B)}let ui=null;const Yn="firebase-installations-store";let Ui=null;function un(){return Ui||(Ui=(0,ce.X3)("firebase-installations-database",1,{upgrade:(R,B)=>{0===B&&R.createObjectStore(Yn)}})),Ui}function Pi(R,B){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,W.Z)(function*(R,B){const oe=Ke(R),Je=(yield un()).transaction(Yn,"readwrite"),yt=Je.objectStore(Yn),Zt=yield yt.get(oe);return yield yt.put(B,oe),yield Je.done,(!Zt||Zt.fid!==B.fid)&&$t(R,B.fid),B})).apply(this,arguments)}function Jt(R){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,W.Z)(function*(R){const B=Ke(R),Te=(yield un()).transaction(Yn,"readwrite");yield Te.objectStore(Yn).delete(B),yield Te.done})).apply(this,arguments)}function ci(R,B){return It.apply(this,arguments)}function It(){return(It=(0,W.Z)(function*(R,B){const oe=Ke(R),Je=(yield un()).transaction(Yn,"readwrite"),yt=Je.objectStore(Yn),Zt=yield yt.get(oe),en=B(Zt);return void 0===en?yield yt.delete(oe):yield yt.put(en,oe),yield Je.done,en&&(!Zt||Zt.fid!==en.fid)&&$t(R,en.fid),en})).apply(this,arguments)}function ke(R){return $e.apply(this,arguments)}function $e(){return($e=(0,W.Z)(function*(R){let B;const oe=yield ci(R.appConfig,Te=>{const Je=Lt(Te),yt=wt(R,Je);return B=yt.registrationPromise,yt.installationEntry});return""===oe.fid?{installationEntry:yield B}:{installationEntry:oe,registrationPromise:B}})).apply(this,arguments)}function Lt(R){return We(R||{fid:q(),registrationStatus:0})}function wt(R,B){if(0===B.registrationStatus){if(!navigator.onLine)return{installationEntry:B,registrationPromise:Promise.reject(Ue.create("app-offline"))};const oe={fid:B.fid,registrationStatus:1,registrationTime:Date.now()},Te=function Ft(R,B){return Gt.apply(this,arguments)}(R,oe);return{installationEntry:oe,registrationPromise:Te}}return 1===B.registrationStatus?{installationEntry:B,registrationPromise:Pe(R)}:{installationEntry:B}}function Gt(){return(Gt=(0,W.Z)(function*(R,B){try{const oe=yield ot(R,B);return Pi(R.appConfig,oe)}catch(oe){throw ft(oe)&&409===oe.customData.serverCode?yield Jt(R.appConfig):yield Pi(R.appConfig,{fid:B.fid,registrationStatus:0}),oe}})).apply(this,arguments)}function Pe(R){return xe.apply(this,arguments)}function xe(){return(xe=(0,W.Z)(function*(R){let B=yield Ee(R.appConfig);for(;1===B.registrationStatus;)yield Rt(100),B=yield Ee(R.appConfig);if(0===B.registrationStatus){const{installationEntry:oe,registrationPromise:Te}=yield ke(R);return Te||oe}return B})).apply(this,arguments)}function Ee(R){return ci(R,B=>{if(!B)throw Ue.create("installation-not-found");return We(B)})}function We(R){return function _t(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function Dt(R,B){return Et.apply(this,arguments)}function Et(){return(Et=(0,W.Z)(function*({appConfig:R,heartbeatServiceProvider:B},oe){const Te=mn(R,oe),Je=qe(R,oe),yt=B.getImmediate({optional:!0});if(yt){const Xn=yield yt.getHeartbeatsHeader();Xn&&Je.append("x-firebase-client",Xn)}const en={method:"POST",headers:Je,body:JSON.stringify({installation:{sdkVersion:Ne,appId:R.appId}})},Nn=yield tt(()=>fetch(Te,en));if(Nn.ok)return we(yield Nn.json());throw yield et("Generate Auth Token",Nn)})).apply(this,arguments)}function mn(R,{fid:B}){return`${me(R)}/${B}/authTokens:generate`}function bn(R){return ln.apply(this,arguments)}function ln(){return(ln=(0,W.Z)(function*(R,B=!1){let oe;const Te=yield ci(R.appConfig,yt=>{if(!St(yt))throw Ue.create("not-registered");const Zt=yt.authToken;if(!B&&de(Zt))return yt;if(1===Zt.requestStatus)return oe=z(R,B),yt;{if(!navigator.onLine)throw Ue.create("app-offline");const en=Me(yt);return oe=Fe(R,en),en}});return oe?yield oe:Te.authToken})).apply(this,arguments)}function z(R,B){return he.apply(this,arguments)}function he(){return(he=(0,W.Z)(function*(R,B){let oe=yield be(R.appConfig);for(;1===oe.authToken.requestStatus;)yield Rt(100),oe=yield be(R.appConfig);const Te=oe.authToken;return 0===Te.requestStatus?bn(R,B):Te})).apply(this,arguments)}function be(R){return ci(R,B=>{if(!St(B))throw Ue.create("not-registered");return function ve(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(B.authToken)?Object.assign(Object.assign({},B),{authToken:{requestStatus:0}}):B})}function Fe(R,B){return gt.apply(this,arguments)}function gt(){return(gt=(0,W.Z)(function*(R,B){try{const oe=yield Dt(R,B),Te=Object.assign(Object.assign({},B),{authToken:oe});return yield Pi(R.appConfig,Te),oe}catch(oe){if(!ft(oe)||401!==oe.customData.serverCode&&404!==oe.customData.serverCode){const Te=Object.assign(Object.assign({},B),{authToken:{requestStatus:0}});yield Pi(R.appConfig,Te)}else yield Jt(R.appConfig);throw oe}})).apply(this,arguments)}function St(R){return void 0!==R&&2===R.registrationStatus}function de(R){return 2===R.requestStatus&&!function fe(R){const B=Date.now();return B<R.creationTime||R.creationTime+R.expiresIn<B+36e5}(R)}function Me(R){const B={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:B})}function $(){return($=(0,W.Z)(function*(R){const B=R,{installationEntry:oe,registrationPromise:Te}=yield ke(B);return Te?Te.catch(console.error):bn(B).catch(console.error),oe.fid})).apply(this,arguments)}function re(){return(re=(0,W.Z)(function*(R,B=!1){const oe=R;return yield Ae(oe),(yield bn(oe,B)).token})).apply(this,arguments)}function Ae(R){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,W.Z)(function*(R){const{registrationPromise:B}=yield ke(R);B&&(yield B)})).apply(this,arguments)}function Sr(R){return Ue.create("missing-app-config-values",{valueName:R})}const Ii="installations",Hn=R=>{const B=R.getProvider("app").getImmediate(),oe=function Di(R){if(!R||!R.options)throw Sr("App Configuration");if(!R.name)throw Sr("App Name");const B=["projectId","apiKey","appId"];for(const oe of B)if(!R.options[oe])throw Sr(oe);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(B);return{app:B,appConfig:oe,heartbeatServiceProvider:(0,De._getProvider)(B,"heartbeat"),_delete:()=>Promise.resolve()}},di=R=>{const B=R.getProvider("app").getImmediate(),oe=(0,De._getProvider)(B,Ii).getImmediate();return{getId:()=>function ee(R){return $.apply(this,arguments)}(oe),getToken:Je=>function te(R){return re.apply(this,arguments)}(oe,Je)}};(function ji(){(0,De._registerComponent)(new Re.wA(Ii,Hn,"PUBLIC")),(0,De._registerComponent)(new Re.wA("installations-internal",di,"PRIVATE"))})(),(0,De.registerVersion)(X,ne),(0,De.registerVersion)(X,ne,"esm2017");const xr="@firebase/remote-config",pi=new _e.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Or{constructor(B,oe,Te,Je){this.client=B,this.storage=oe,this.storageCache=Te,this.logger=Je}isCachedDataFresh(B,oe){if(!oe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Te=Date.now()-oe,Je=Te<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Te}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${Je}.`),Je}fetch(B){var oe=this;return(0,W.Z)(function*(){const[Te,Je]=yield Promise.all([oe.storage.getLastSuccessfulFetchTimestampMillis(),oe.storage.getLastSuccessfulFetchResponse()]);if(Je&&oe.isCachedDataFresh(B.cacheMaxAgeMillis,Te))return Je;B.eTag=Je&&Je.eTag;const yt=yield oe.client.fetch(B),Zt=[oe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===yt.status&&Zt.push(oe.storage.setLastSuccessfulFetchResponse(yt)),yield Promise.all(Zt),yt})()}}function $s(R=navigator){return R.languages&&R.languages[0]||R.language}class zi{constructor(B,oe,Te,Je,yt,Zt){this.firebaseInstallations=B,this.sdkVersion=oe,this.namespace=Te,this.projectId=Je,this.apiKey=yt,this.appId=Zt}fetch(B){var oe=this;return(0,W.Z)(function*(){var Te,Je,yt;const[Zt,en]=yield Promise.all([oe.firebaseInstallations.getId(),oe.firebaseInstallations.getToken()]),Xn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${oe.projectId}/namespaces/${oe.namespace}:fetch?key=${oe.apiKey}`,$n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},kn={sdk_version:oe.sdkVersion,app_instance_id:Zt,app_instance_id_token:en,app_id:oe.appId,language_code:$s()},Gr={method:"POST",headers:$n,body:JSON.stringify(kn)},ki=fetch(Xn,Gr),pl=new Promise((sa,Mo)=>{B.signal.addEventListener(()=>{const Fs=new Error("The operation was aborted.");Fs.name="AbortError",Mo(Fs)})});let ra;try{yield Promise.race([ki,pl]),ra=yield ki}catch(sa){let Mo="fetch-client-network";throw"AbortError"===(null===(Te=sa)||void 0===Te?void 0:Te.name)&&(Mo="fetch-timeout"),pi.create(Mo,{originalErrorMessage:null===(Je=sa)||void 0===Je?void 0:Je.message})}let yo=ra.status;const Au=ra.headers.get("ETag")||void 0;let Va,gl;if(200===ra.status){let sa;try{sa=yield ra.json()}catch(Mo){throw pi.create("fetch-client-parse",{originalErrorMessage:null===(yt=Mo)||void 0===yt?void 0:yt.message})}Va=sa.entries,gl=sa.state}if("INSTANCE_STATE_UNSPECIFIED"===gl?yo=500:"NO_CHANGE"===gl?yo=304:("NO_TEMPLATE"===gl||"EMPTY_CONFIG"===gl)&&(Va={}),304!==yo&&200!==yo)throw pi.create("fetch-status",{httpStatus:yo});return{status:yo,eTag:Au,config:Va}})()}}class us{constructor(B,oe){this.client=B,this.storage=oe}fetch(B){var oe=this;return(0,W.Z)(function*(){const Te=(yield oe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return oe.attemptFetch(B,Te)})()}attemptFetch(B,{throttleEndTimeMillis:oe,backoffCount:Te}){var Je=this;return(0,W.Z)(function*(){yield function Gs(R,B){return new Promise((oe,Te)=>{const Je=Math.max(B-Date.now(),0),yt=setTimeout(oe,Je);R.addEventListener(()=>{clearTimeout(yt),Te(pi.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,oe);try{const yt=yield Je.client.fetch(B);return yield Je.storage.deleteThrottleMetadata(),yt}catch(yt){if(!function ca(R){if(!(R instanceof _e.ZR&&R.customData))return!1;const B=Number(R.customData.httpStatus);return 429===B||500===B||503===B||504===B}(yt))throw yt;const Zt={throttleEndTimeMillis:Date.now()+(0,_e.$s)(Te),backoffCount:Te+1};return yield Je.storage.setThrottleMetadata(Zt),Je.attemptFetch(B,Zt)}})()}}class da{constructor(B,oe,Te,Je,yt){this.app=B,this._client=oe,this._storageCache=Te,this._storage=Je,this._logger=yt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Yr(R,B){var oe;const Te=R.target.error||void 0;return pi.create(B,{originalErrorMessage:Te&&(null===(oe=Te)||void 0===oe?void 0:oe.message)})}const vr="app_namespace_store";class $o{constructor(B,oe,Te,Je=function xa(){return new Promise((R,B)=>{var oe;try{const Te=indexedDB.open("firebase_remote_config",1);Te.onerror=Je=>{B(Yr(Je,"storage-open"))},Te.onsuccess=Je=>{R(Je.target.result)},Te.onupgradeneeded=Je=>{0===Je.oldVersion&&Je.target.result.createObjectStore(vr,{keyPath:"compositeKey"})}}catch(Te){B(pi.create("storage-open",{originalErrorMessage:null===(oe=Te)||void 0===oe?void 0:oe.message}))}})}()){this.appId=B,this.appName=oe,this.namespace=Te,this.openDbPromise=Je}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var oe=this;return(0,W.Z)(function*(){const Te=yield oe.openDbPromise;return new Promise((Je,yt)=>{var Zt;const Nn=Te.transaction([vr],"readonly").objectStore(vr),Xn=oe.createCompositeKey(B);try{const $n=Nn.get(Xn);$n.onerror=kn=>{yt(Yr(kn,"storage-get"))},$n.onsuccess=kn=>{const Gr=kn.target.result;Je(Gr?Gr.value:void 0)}}catch($n){yt(pi.create("storage-get",{originalErrorMessage:null===(Zt=$n)||void 0===Zt?void 0:Zt.message}))}})})()}set(B,oe){var Te=this;return(0,W.Z)(function*(){const Je=yield Te.openDbPromise;return new Promise((yt,Zt)=>{var en;const Xn=Je.transaction([vr],"readwrite").objectStore(vr),$n=Te.createCompositeKey(B);try{const kn=Xn.put({compositeKey:$n,value:oe});kn.onerror=Gr=>{Zt(Yr(Gr,"storage-set"))},kn.onsuccess=()=>{yt()}}catch(kn){Zt(pi.create("storage-set",{originalErrorMessage:null===(en=kn)||void 0===en?void 0:en.message}))}})})()}delete(B){var oe=this;return(0,W.Z)(function*(){const Te=yield oe.openDbPromise;return new Promise((Je,yt)=>{var Zt;const Nn=Te.transaction([vr],"readwrite").objectStore(vr),Xn=oe.createCompositeKey(B);try{const $n=Nn.delete(Xn);$n.onerror=kn=>{yt(Yr(kn,"storage-delete"))},$n.onsuccess=()=>{Je()}}catch($n){yt(pi.create("storage-delete",{originalErrorMessage:null===(Zt=$n)||void 0===Zt?void 0:Zt.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class gs{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,W.Z)(function*(){const oe=B.storage.getLastFetchStatus(),Te=B.storage.getLastSuccessfulFetchTimestampMillis(),Je=B.storage.getActiveConfig(),yt=yield oe;yt&&(B.lastFetchStatus=yt);const Zt=yield Te;Zt&&(B.lastSuccessfulFetchTimestampMillis=Zt);const en=yield Je;en&&(B.activeConfig=en)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function Go(){return _r.apply(this,arguments)}function _r(){return(_r=(0,W.Z)(function*(){if(!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch(R){return!1}})).apply(this,arguments)}!function $a(){(0,De._registerComponent)(new Re.wA("remote-config",function R(B,{instanceIdentifier:oe}){const Te=B.getProvider("app").getImmediate(),Je=B.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw pi.create("registration-window");if(!(0,_e.hl)())throw pi.create("indexed-db-unavailable");const{projectId:yt,apiKey:Zt,appId:en}=Te.options;if(!yt)throw pi.create("registration-project-id");if(!Zt)throw pi.create("registration-api-key");if(!en)throw pi.create("registration-app-id");const Nn=new $o(en,Te.name,oe=oe||"firebase"),Xn=new gs(Nn),$n=new Ce.Yd(xr);$n.logLevel=Ce.in.ERROR;const kn=new zi(Je,De.SDK_VERSION,oe,yt,Zt,en),Gr=new us(kn,Nn),ki=new Or(Gr,Nn,Xn,$n),pl=new da(Te,ki,Xn,Nn,$n);return function fi(R){const B=(0,_e.m9)(R);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(pl),pl},"PUBLIC").setMultipleInstances(!0)),(0,De.registerVersion)(xr,"0.3.15"),(0,De.registerVersion)(xr,"0.3.15","esm2017")}();const Ds="/firebase-messaging-sw.js",Ln="/firebase-cloud-messaging-push-scope",ms="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ys="google.c.a.c_id",Ga="google.c.a.c_l",zo="google.c.a.ts",Hr="google.c.a.e";var Mr=(()=>{return(R=Mr||(Mr={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",Mr;var R})();function jr(R){const B=new Uint8Array(R);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ws(R){const oe=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Te=atob(oe),Je=new Uint8Array(Te.length);for(let yt=0;yt<Te.length;++yt)Je[yt]=Te.charCodeAt(yt);return Je}const wi="fcm_token_details_db",Wo="fcm_token_object_Store";function fa(R){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,W.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(yt=>yt.name).includes(wi))return null;let B=null;return(yield(0,ce.X3)(wi,5,{upgrade:(Te=(0,W.Z)(function*(Je,yt,Zt,en){var Nn;if(yt<2||!Je.objectStoreNames.contains(Wo))return;const Xn=en.objectStore(Wo),$n=yield Xn.index("fcmSenderId").get(R);if(yield Xn.clear(),$n)if(2===yt){const kn=$n;if(!kn.auth||!kn.p256dh||!kn.endpoint)return;B={token:kn.fcmToken,createTime:null!==(Nn=kn.createTime)&&void 0!==Nn?Nn:Date.now(),subscriptionOptions:{auth:kn.auth,p256dh:kn.p256dh,endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:"string"==typeof kn.vapidKey?kn.vapidKey:jr(kn.vapidKey)}}}else if(3===yt){const kn=$n;B={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:jr(kn.auth),p256dh:jr(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:jr(kn.vapidKey)}}}else if(4===yt){const kn=$n;B={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:jr(kn.auth),p256dh:jr(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:jr(kn.vapidKey)}}}}),function(yt,Zt,en,Nn){return Te.apply(this,arguments)})})).close(),yield(0,ce.Lj)(wi),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),Pr(B)?B:null;var Te}),Qr.apply(this,arguments)}function Pr(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:B}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}const $r="firebase-messaging-store";let Ks=null;function _i(){return Ks||(Ks=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(R,B)=>{0===B&&R.createObjectStore($r)}})),Ks}function U(R){return Q.apply(this,arguments)}function Q(){return(Q=(0,W.Z)(function*(R){const B=Ut(R),Te=yield(yield _i()).transaction($r).objectStore($r).get(B);if(Te)return Te;{const Je=yield fa(R.appConfig.senderId);if(Je)return yield L(R,Je),Je}})).apply(this,arguments)}function L(R,B){return le.apply(this,arguments)}function le(){return(le=(0,W.Z)(function*(R,B){const oe=Ut(R),Je=(yield _i()).transaction($r,"readwrite");return yield Je.objectStore($r).put(B,oe),yield Je.done,B})).apply(this,arguments)}function je(R){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,W.Z)(function*(R){const B=Ut(R),Te=(yield _i()).transaction($r,"readwrite");yield Te.objectStore($r).delete(B),yield Te.done})).apply(this,arguments)}function Ut({appConfig:R}){return R.appId}const Rn=new _e.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function si(R,B){return jn.apply(this,arguments)}function jn(){return(jn=(0,W.Z)(function*(R,B){var oe;const Te=yield N(R),Je=se(B),yt={method:"POST",headers:Te,body:JSON.stringify(Je)};let Zt;try{Zt=yield(yield fetch(H(R.appConfig),yt)).json()}catch(en){throw Rn.create("token-subscribe-failed",{errorInfo:null===(oe=en)||void 0===oe?void 0:oe.toString()})}if(Zt.error)throw Rn.create("token-subscribe-failed",{errorInfo:Zt.error.message});if(!Zt.token)throw Rn.create("token-subscribe-no-token");return Zt.token})).apply(this,arguments)}function ri(R,B){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,W.Z)(function*(R,B){var oe;const Te=yield N(R),Je=se(B.subscriptionOptions),yt={method:"PATCH",headers:Te,body:JSON.stringify(Je)};let Zt;try{Zt=yield(yield fetch(`${H(R.appConfig)}/${B.token}`,yt)).json()}catch(en){throw Rn.create("token-update-failed",{errorInfo:null===(oe=en)||void 0===oe?void 0:oe.toString()})}if(Zt.error)throw Rn.create("token-update-failed",{errorInfo:Zt.error.message});if(!Zt.token)throw Rn.create("token-update-no-token");return Zt.token})).apply(this,arguments)}function xi(R,B){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,W.Z)(function*(R,B){var oe;const Je={method:"DELETE",headers:yield N(R)};try{const Zt=yield(yield fetch(`${H(R.appConfig)}/${B}`,Je)).json();if(Zt.error)throw Rn.create("token-unsubscribe-failed",{errorInfo:Zt.error.message})}catch(yt){throw Rn.create("token-unsubscribe-failed",{errorInfo:null===(oe=yt)||void 0===oe?void 0:oe.toString()})}})).apply(this,arguments)}function H({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function N(R){return M.apply(this,arguments)}function M(){return(M=(0,W.Z)(function*({appConfig:R,installations:B}){const oe=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${oe}`})})).apply(this,arguments)}function se({p256dh:R,auth:B,endpoint:oe,vapidKey:Te}){const Je={web:{endpoint:oe,auth:B,p256dh:R}};return Te!==ms&&(Je.web.applicationPubKey=Te),Je}const At=6048e5;function wn(R){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,W.Z)(function*(R){const B=yield Tl(R.swRegistration,R.vapidKey),oe={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:B.endpoint,auth:jr(B.getKey("auth")),p256dh:jr(B.getKey("p256dh"))},Te=yield U(R.firebaseDependencies);if(Te){if(Ma(Te.subscriptionOptions,oe))return Date.now()>=Te.createTime+At?Zo(R,{token:Te.token,createTime:Date.now(),subscriptionOptions:oe}):Te.token;try{yield xi(R.firebaseDependencies,Te.token)}catch(Je){console.warn(Je)}return Bt(R.firebaseDependencies,oe)}return Bt(R.firebaseDependencies,oe)})).apply(this,arguments)}function vs(R){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,W.Z)(function*(R){const B=yield U(R.firebaseDependencies);B&&(yield xi(R.firebaseDependencies,B.token),yield je(R.firebaseDependencies));const oe=yield R.swRegistration.pushManager.getSubscription();return!oe||oe.unsubscribe()})).apply(this,arguments)}function Zo(R,B){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,W.Z)(function*(R,B){try{const oe=yield ri(R.firebaseDependencies,B),Te=Object.assign(Object.assign({},B),{token:oe,createTime:Date.now()});return yield L(R.firebaseDependencies,Te),oe}catch(oe){throw yield vs(R),oe}})).apply(this,arguments)}function Bt(R,B){return oi.apply(this,arguments)}function oi(){return(oi=(0,W.Z)(function*(R,B){const Te={token:yield si(R,B),createTime:Date.now(),subscriptionOptions:B};return yield L(R,Te),Te.token})).apply(this,arguments)}function Tl(R,B){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,W.Z)(function*(R,B){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ws(B)})})).apply(this,arguments)}function Ma(R,B){return B.vapidKey===R.vapidKey&&B.endpoint===R.endpoint&&B.auth===R.auth&&B.p256dh===R.p256dh}function Co(R){const B={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function Ps(R,B){if(!B.notification)return;R.notification={};const oe=B.notification.title;oe&&(R.notification.title=oe);const Te=B.notification.body;Te&&(R.notification.body=Te);const Je=B.notification.image;Je&&(R.notification.image=Je);const yt=B.notification.icon;yt&&(R.notification.icon=yt)}(B,R),function Pa(R,B){!B.data||(R.data=B.data)}(B,R),function Ra(R,B){var oe,Te,Je,yt,Zt;if(!B.fcmOptions&&!(null===(oe=B.notification)||void 0===oe?void 0:oe.click_action))return;R.fcmOptions={};const en=null!==(Je=null===(Te=B.fcmOptions)||void 0===Te?void 0:Te.link)&&void 0!==Je?Je:null===(yt=B.notification)||void 0===yt?void 0:yt.click_action;en&&(R.fcmOptions.link=en);const Nn=null===(Zt=B.fcmOptions)||void 0===Zt?void 0:Zt.analytics_label;Nn&&(R.fcmOptions.analyticsLabel=Nn)}(B,R),B}function Dl(R){return"object"==typeof R&&!!R&&ys in R}function Il(R,B){const oe=[];for(let Te=0;Te<R.length;Te++)oe.push(R.charAt(Te)),Te<B.length&&oe.push(B.charAt(Te));return oe.join("")}function To(R){return Rn.create("missing-app-config-values",{valueName:R})}Il("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Il("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vr{constructor(B,oe,Te){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Je=function Al(R){if(!R||!R.options)throw To("App Configuration Object");if(!R.name)throw To("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:oe}=R;for(const Te of B)if(!oe[Te])throw To(Te);return{appName:R.name,projectId:oe.projectId,apiKey:oe.apiKey,appId:oe.appId,senderId:oe.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:Je,installations:oe,analyticsProvider:Te}}_delete(){return Promise.resolve()}}function qs(R){return uo.apply(this,arguments)}function uo(){return(uo=(0,W.Z)(function*(R){var B;try{R.swRegistration=yield navigator.serviceWorker.register(Ds,{scope:Ln}),R.swRegistration.update().catch(()=>{})}catch(oe){throw Rn.create("failed-service-worker-registration",{browserErrorMessage:null===(B=oe)||void 0===B?void 0:B.message})}})).apply(this,arguments)}function Xr(R,B){return _s.apply(this,arguments)}function _s(){return(_s=(0,W.Z)(function*(R,B){if(!B&&!R.swRegistration&&(yield qs(R)),B||!R.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw Rn.create("invalid-sw-registration");R.swRegistration=B}})).apply(this,arguments)}function pa(R,B){return co.apply(this,arguments)}function co(){return(co=(0,W.Z)(function*(R,B){B?R.vapidKey=B:R.vapidKey||(R.vapidKey=ms)})).apply(this,arguments)}function rr(){return(rr=(0,W.Z)(function*(R,B){if(!navigator)throw Rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Rn.create("permission-blocked");return yield pa(R,null==B?void 0:B.vapidKey),yield Xr(R,null==B?void 0:B.serviceWorkerRegistration),wn(R)})).apply(this,arguments)}function za(R,B,oe){return ho.apply(this,arguments)}function ho(){return(ho=(0,W.Z)(function*(R,B,oe){const Te=ul(B);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(Te,{message_id:oe[ys],message_name:oe[Ga],message_time:oe[zo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ul(R){switch(R){case Mr.NOTIFICATION_CLICKED:return"notification_open";case Mr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fo(){return(fo=(0,W.Z)(function*(R,B){const oe=B.data;if(!oe.isFirebaseMessaging)return;R.onMessageHandler&&oe.messageType===Mr.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(Co(oe)):R.onMessageHandler.next(Co(oe)));const Te=oe.data;Dl(Te)&&"1"===Te[Hr]&&(yield za(R,oe.messageType,Te))})).apply(this,arguments)}const es="@firebase/messaging",bs=R=>{const B=new Vr(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",oe=>function Wa(R,B){return fo.apply(this,arguments)}(B,oe)),B},Do=R=>{const B=R.getProvider("messaging").getImmediate();return{getToken:Te=>function Na(R,B){return rr.apply(this,arguments)}(B,Te)}};function Za(){return po.apply(this,arguments)}function po(){return(po=(0,W.Z)(function*(){try{yield(0,_e.eu)()}catch(R){return!1}return"undefined"!=typeof window&&(0,_e.hl)()&&(0,_e.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Sl(){(0,De._registerComponent)(new Re.wA("messaging",bs,"PUBLIC")),(0,De._registerComponent)(new Re.wA("messaging-internal",Do,"PRIVATE")),(0,De.registerVersion)(es,"0.11.0"),(0,De.registerVersion)(es,"0.11.0","esm2017")}();const Ys="analytics",Qs="firebase_id",Wt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mi="https://www.googletagmanager.com/gtag/js",Zi=new Ce.Yd("@firebase/analytics");function Ao(R){return Promise.all(R.map(B=>B.catch(oe=>oe)))}function Dn(R,B){const oe=document.createElement("script");oe.src=`${Mi}?l=${R}&id=${B}`,oe.async=!0,document.head.appendChild(oe)}function So(R,B,oe,Te,Je,yt){return rn.apply(this,arguments)}function rn(){return(rn=(0,W.Z)(function*(R,B,oe,Te,Je,yt){const Zt=Te[Je];try{if(Zt)yield B[Zt];else{const Nn=(yield Ao(oe)).find(Xn=>Xn.measurementId===Je);Nn&&(yield B[Nn.appId])}}catch(en){Zi.error(en)}R("config",Je,yt)})).apply(this,arguments)}function bt(R,B,oe,Te,Je){return jt.apply(this,arguments)}function jt(){return(jt=(0,W.Z)(function*(R,B,oe,Te,Je){try{let yt=[];if(Je&&Je.send_to){let Zt=Je.send_to;Array.isArray(Zt)||(Zt=[Zt]);const en=yield Ao(oe);for(const Nn of Zt){const Xn=en.find(kn=>kn.measurementId===Nn),$n=Xn&&B[Xn.appId];if(!$n){yt=[];break}yt.push($n)}}0===yt.length&&(yt=Object.values(B)),yield Promise.all(yt),R("event",Te,Je||{})}catch(yt){Zi.error(yt)}})).apply(this,arguments)}function Ka(R){const B=window.document.getElementsByTagName("script");for(const oe of Object.values(B))if(oe.src&&oe.src.includes(Mi)&&oe.src.includes(R))return oe;return null}const cs=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),qa=new class Yo{constructor(B={},oe=1e3){this.throttleMetadata=B,this.intervalMillis=oe}getThrottleMetadata(B){return this.throttleMetadata[B]}setThrottleMetadata(B,oe){this.throttleMetadata[B]=oe}deleteThrottleMetadata(B){delete this.throttleMetadata[B]}};function ma(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function Ql(R){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,W.Z)(function*(R){var B;const{appId:oe,apiKey:Te}=R,Je={method:"GET",headers:ma(Te)},yt=Wt.replace("{app-id}",oe),Zt=yield fetch(yt,Je);if(200!==Zt.status&&304!==Zt.status){let en="";try{const Nn=yield Zt.json();(null===(B=Nn.error)||void 0===B?void 0:B.message)&&(en=Nn.error.message)}catch(Nn){}throw cs.create("config-fetch-failed",{httpStatus:Zt.status,responseMessage:en})}return Zt.json()})).apply(this,arguments)}function Zn(R){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,W.Z)(function*(R,B=qa,oe){const{appId:Te,apiKey:Je,measurementId:yt}=R.options;if(!Te)throw cs.create("no-app-id");if(!Je){if(yt)return{measurementId:yt,appId:Te};throw cs.create("no-api-key")}const Zt=B.getThrottleMetadata(Te)||{backoffCount:0,throttleEndTimeMillis:Date.now()},en=new D;return setTimeout((0,W.Z)(function*(){en.abort()}),void 0!==oe?oe:6e4),ya({appId:Te,apiKey:Je,measurementId:yt},Zt,en,B)})).apply(this,arguments)}function ya(R,B,oe){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,W.Z)(function*(R,{throttleEndTimeMillis:B,backoffCount:oe},Te,Je=qa){var yt,Zt;const{appId:en,measurementId:Nn}=R;try{yield Fn(Te,B)}catch(Xn){if(Nn)return Zi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Nn} provided in the "measurementId" field in the local Firebase config. [${null===(yt=Xn)||void 0===yt?void 0:yt.message}]`),{appId:en,measurementId:Nn};throw Xn}try{const Xn=yield Ql(R);return Je.deleteThrottleMetadata(en),Xn}catch(Xn){const $n=Xn;if(!O($n)){if(Je.deleteThrottleMetadata(en),Nn)return Zi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Nn} provided in the "measurementId" field in the local Firebase config. [${null==$n?void 0:$n.message}]`),{appId:en,measurementId:Nn};throw Xn}const kn=503===Number(null===(Zt=null==$n?void 0:$n.customData)||void 0===Zt?void 0:Zt.httpStatus)?(0,_e.$s)(oe,Je.intervalMillis,30):(0,_e.$s)(oe,Je.intervalMillis),Gr={throttleEndTimeMillis:Date.now()+kn,backoffCount:oe+1};return Je.setThrottleMetadata(en,Gr),Zi.debug(`Calling attemptFetch again in ${kn} millis`),ya(R,Gr,Te,Je)}})).apply(this,arguments)}function Fn(R,B){return new Promise((oe,Te)=>{const Je=Math.max(B-Date.now(),0),yt=setTimeout(oe,Je);R.addEventListener(()=>{clearTimeout(yt),Te(cs.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}function O(R){if(!(R instanceof _e.ZR&&R.customData))return!1;const B=Number(R.customData.httpStatus);return 429===B||500===B||503===B||504===B}class D{constructor(){this.listeners=[]}addEventListener(B){this.listeners.push(B)}abort(){this.listeners.forEach(B=>B())}}let C,bi;function V(){return(V=(0,W.Z)(function*(R,B,oe,Te,Je){if(Je&&Je.global)R("event",oe,Te);else{const yt=yield B;R("event",oe,Object.assign(Object.assign({},Te),{send_to:yt}))}})).apply(this,arguments)}function tr(R){bi=R}function Js(R){C=R}function ka(){return mo.apply(this,arguments)}function mo(){return(mo=(0,W.Z)(function*(){var R;if(!(0,_e.hl)())return Zi.warn(cs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch(B){return Zi.warn(cs.create("indexeddb-unavailable",{errorInfo:null===(R=B)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function La(){return(La=(0,W.Z)(function*(R,B,oe,Te,Je,yt,Zt){var en;const Nn=Zn(R);Nn.then(ki=>{oe[ki.measurementId]=ki.appId,R.options.measurementId&&ki.measurementId!==R.options.measurementId&&Zi.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${ki.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ki=>Zi.error(ki)),B.push(Nn);const Xn=ka().then(ki=>{if(ki)return Te.getId()}),[$n,kn]=yield Promise.all([Nn,Xn]);Ka(yt)||Dn(yt,$n.measurementId),bi&&(Je("consent","default",bi),tr(void 0)),Je("js",new Date);const Gr=null!==(en=null==Zt?void 0:Zt.config)&&void 0!==en?en:{};return Gr.origin="firebase",Gr.update=!0,null!=kn&&(Gr[Qs]=kn),Je("config",$n.measurementId,Gr),C&&(Je("set",C),Js(void 0)),$n.measurementId})).apply(this,arguments)}class mt{constructor(B){this.app=B}_delete(){return delete Er[this.app.options.appId],Promise.resolve()}}let Er={},Xs=[];const xo={};let Qo,pr,eo="dataLayer",xl=!1;function Xl(R,B,oe){!function hl(){const R=[];if((0,_e.ru)()&&R.push("This is a browser extension environment."),(0,_e.zI)()||R.push("Cookies are not available."),R.length>0){const B=R.map((Te,Je)=>`(${Je+1}) ${Te}`).join(" "),oe=cs.create("invalid-analytics-context",{errorInfo:B});Zi.warn(oe.message)}}();const Te=R.options.appId;if(!Te)throw cs.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw cs.create("no-api-key");Zi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Er[Te])throw cs.create("already-exists",{id:Te});if(!xl){!function In(R){let B=[];Array.isArray(window[R])?B=window[R]:window[R]=B}(eo);const{wrappedGtag:yt,gtagCore:Zt}=function qo(R,B,oe,Te,Je){let yt=function(...Zt){window[Te].push(arguments)};return window[Je]&&"function"==typeof window[Je]&&(yt=window[Je]),window[Je]=function Ni(R,B,oe,Te){function yt(){return(yt=(0,W.Z)(function*(Zt,en,Nn){try{"event"===Zt?yield bt(R,B,oe,en,Nn):"config"===Zt?yield So(R,B,oe,Te,en,Nn):"consent"===Zt?R("consent","update",Nn):R("set",en)}catch(Xn){Zi.error(Xn)}})).apply(this,arguments)}return function Je(Zt,en,Nn){return yt.apply(this,arguments)}}(yt,R,B,oe),{gtagCore:yt,wrappedGtag:window[Je]}}(Er,Xs,xo,eo,"gtag");pr=yt,Qo=Zt,xl=!0}return Er[Te]=function Rs(R,B,oe,Te,Je,yt,Zt){return La.apply(this,arguments)}(R,Xs,xo,B,Qo,eo,oe),new mt(R)}function Jo(){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,W.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch(R){return!1}})).apply(this,arguments)}const wr="@firebase/analytics";!function Ya(){(0,De._registerComponent)(new Re.wA(Ys,(B,{options:oe})=>Xl(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),oe),"PUBLIC")),(0,De._registerComponent)(new Re.wA("analytics-internal",function R(B){try{const oe=B.getProvider(Ys).getImmediate();return{logEvent:(Te,Je,yt)=>function Ns(R,B,oe,Te){R=(0,_e.m9)(R),function F(R,B,oe,Te,Je){return V.apply(this,arguments)}(pr,Er[R.app.options.appId],B,oe,Te).catch(Je=>Zi.error(Je))}(oe,Te,Je,yt)}}catch(oe){throw cs.create("interop-component-reg-failed",{reason:oe})}},"PRIVATE")),(0,De.registerVersion)(wr,"0.8.4"),(0,De.registerVersion)(wr,"0.8.4","esm2017")}();var Fa=x(233),or=x(4986),Tr=x(8505),ks=x(9468),Tu=x(5363);const ea=new g.GfV("7.5.0"),Qa="__angularfire_symbol__analyticsIsSupportedValue",ds="__angularfire_symbol__analyticsIsSupported",ta="__angularfire_symbol__remoteConfigIsSupportedValue",Ja="__angularfire_symbol__remoteConfigIsSupported",Du="__angularfire_symbol__messagingIsSupportedValue",na="__angularfire_symbol__messagingIsSupported";function ba(R,B,oe){if(B){if(1===B.length)return B[0];const yt=B.filter(Zt=>Zt.app===oe);if(1===yt.length)return yt[0]}return oe.container.getProvider(R).getImmediate({optional:!0})}globalThis[ds]||(globalThis[ds]=Jo().then(R=>globalThis[Qa]=R).catch(()=>globalThis[Qa]=!1)),globalThis[na]||(globalThis[na]=Za().then(R=>globalThis[Du]=R).catch(()=>globalThis[Du]=!1)),globalThis[Ja]||(globalThis[Ja]=Go().then(R=>globalThis[ta]=R).catch(()=>globalThis[ta]=!1));const Iu=(R,B)=>{const oe=B?[B]:(0,h.C6)(),Te=[];return oe.forEach(Je=>{Je.container.getProvider(R).instances.forEach(Zt=>{Te.includes(Zt)||Te.push(Zt)})}),Te};function Ls(){}class eu{constructor(B,oe=Fa.N){this.zone=B,this.delegate=oe}now(){return this.delegate.now()}schedule(B,oe,Te){const Je=this.zone;return this.delegate.schedule(function(Zt){Je.runGuarded(()=>{B.apply(this,[Zt])})},oe,Te)}}class Ur{constructor(B){this.zone=B,this.task=null}call(B,oe){const Te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls)),oe.pipe((0,Tr.b)({next:Te,complete:Te,error:Te})).subscribe(B).add(Te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xa=(()=>{class R{constructor(oe){this.ngZone=oe,this.outsideAngular=oe.runOutsideAngular(()=>new eu(Zone.current)),this.insideAngular=oe.run(()=>new eu(Zone.current,or.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(oe){return new(oe||R)(g.LFG(g.R0b))},R.\u0275prov=g.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Ss(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function wa(R){return Ss(),function Ml(R){return function(oe){return(oe=oe.lift(new Ur(R.ngZone))).pipe((0,ks.R)(R.outsideAngular),(0,Tu.Q)(R.insideAngular))}}(Ss())(R)}},8247:(qt,Ze,x)=>{x.d(Ze,{$:()=>H,A:()=>ue,B:()=>nt,G:()=>di,H:()=>ni,J:()=>us,L:()=>de,M:()=>_r,N:()=>Is,P:()=>Qa,Q:()=>ys,R:()=>sr,T:()=>Ga,U:()=>ms,V:()=>Mr,W:()=>jr,X:()=>fa,Y:()=>Tn,Z:()=>si,_:()=>ri,a:()=>ga,a0:()=>wn,a1:()=>vs,a2:()=>Zo,a3:()=>Bt,a4:()=>Tl,a5:()=>Ma,a6:()=>Ps,a7:()=>Pa,a8:()=>Dl,a9:()=>Il,aA:()=>fe,aB:()=>ki,aC:()=>Yu,aD:()=>tl,aE:()=>zt,aI:()=>ma,aL:()=>Hr,aa:()=>qs,ab:()=>Xr,ac:()=>pa,af:()=>za,ag:()=>ul,ah:()=>Wa,ak:()=>$r,al:()=>Yl,an:()=>Mi,ao:()=>rn,ap:()=>tt,aq:()=>Nt,ar:()=>Ae,as:()=>ft,at:()=>Ca,au:()=>Fs,av:()=>yn,aw:()=>me,ax:()=>Y,ay:()=>Va,az:()=>Ge,b:()=>cs,c:()=>_a,d:()=>eu,e:()=>Iu,f:()=>oe,g:()=>Nn,h:()=>yt,i:()=>mo,j:()=>kn,k:()=>Ba,l:()=>Cr,m:()=>Ou,o:()=>ce,r:()=>Fa,s:()=>Xo,u:()=>Tu});var g=x(5861),h=x(2090),W=x(9681),De=x(1877),_e=x(655),Re=x(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ue={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const nt=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},dt=function ut(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ct=new h.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new De.Yd("@firebase/auth");function Ue(T,...y){st.logLevel<=De.in.ERROR&&st.error(`Auth (${W.SDK_VERSION}): ${T}`,...y)}function ft(T,...y){throw Tt(T,...y)}function me(T,...y){return Tt(T,...y)}function we(T,y,_){const A=Object.assign(Object.assign({},dt()),{[y]:_});return new h.LL("auth","Firebase",A).create(y,{appName:T.name})}function et(T,y,_){if(!(y instanceof _))throw _.name!==y.constructor.name&&ft(T,"argument-error"),we(T,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tt(T,...y){if("string"!=typeof T){const _=y[0],A=[...y.slice(1)];return A[0]&&(A[0].appName=T.name),T._errorFactory.create(_,...A)}return ct.create(T,...y)}function Y(T,y,..._){if(!T)throw Tt(y,..._)}function qe(T){const y="INTERNAL ASSERTION FAILED: "+T;throw Ue(y),new Error(y)}function tt(T,y){T||qe(y)}const Le=new Map;function Ge(T){tt(T instanceof Function,"Expected a class definition");let y=Le.get(T);return y?(tt(y instanceof T,"Instance stored in cache mismatched with class"),y):(y=new T,Le.set(T,y),y)}function it(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function Rt(){return"http:"===on()||"https:"===on()}function on(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class q{constructor(y,_){this.shortDelay=y,this.longDelay=_,tt(_>y,"Short delay should be less than long delay!"),this.isMobile=(0,h.uI)()||(0,h.b$)()}get(){return function pt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Rt()||(0,h.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Se(T,y){tt(T.emulator,"Emulator should always be set here");const{url:_}=T.emulator;return y?`${_}${y.startsWith("/")?y.slice(1):y}`:_}class Ke{static initialize(y,_,A){this.fetchImpl=y,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},$t=new q(3e4,6e4);function Xt(T,y){return T.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:T.tenantId}):y}function hn(T,y,_,A){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,g.Z)(function*(T,y,_,A,J={}){return Wn(T,J,(0,g.Z)(function*(){let pe={},rt={};A&&("GET"===y?rt=A:pe={body:JSON.stringify(A)});const Kt=(0,h.xO)(Object.assign({key:T.config.apiKey},rt)).slice(1),nn=yield T._getAdditionalHeaders();return nn["Content-Type"]="application/json",T.languageCode&&(nn["X-Firebase-Locale"]=T.languageCode),Ke.fetch()(ei(T,T.config.apiHost,_,Kt),Object.assign({method:y,headers:nn,referrerPolicy:"no-referrer"},pe))}))})).apply(this,arguments)}function Wn(T,y,_){return ui.apply(this,arguments)}function ui(){return(ui=(0,g.Z)(function*(T,y,_){T._canInitEmulator=!1;const A=Object.assign(Object.assign({},Mt),y);try{const J=new Li(T),pe=yield Promise.race([_(),J.promise]);J.clearNetworkTimeout();const rt=yield pe.json();if("needConfirmation"in rt)throw Yn(T,"account-exists-with-different-credential",rt);if(pe.ok&&!("errorMessage"in rt))return rt;{const Kt=pe.ok?rt.errorMessage:rt.error.message,[nn,sn]=Kt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nn)throw Yn(T,"credential-already-in-use",rt);if("EMAIL_EXISTS"===nn)throw Yn(T,"email-already-in-use",rt);if("USER_DISABLED"===nn)throw Yn(T,"user-disabled",rt);const ai=A[nn]||nn.toLowerCase().replace(/[_\s]+/g,"-");if(sn)throw we(T,ai,sn);ft(T,ai)}}catch(J){if(J instanceof h.ZR)throw J;ft(T,"network-request-failed")}})).apply(this,arguments)}function qn(T,y,_,A){return Si.apply(this,arguments)}function Si(){return(Si=(0,g.Z)(function*(T,y,_,A,J={}){const pe=yield hn(T,y,_,A,J);return"mfaPendingCredential"in pe&&ft(T,"multi-factor-auth-required",{_serverResponse:pe}),pe})).apply(this,arguments)}function ei(T,y,_,A){const J=`${y}${_}?${A}`;return T.config.emulator?Se(T.config,J):`${T.config.apiScheme}://${J}`}class Li{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(me(this.auth,"network-request-failed")),$t.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yn(T,y,_){const A={appName:T.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const J=me(T,y,A);return J.customData._tokenResponse=_,J}function un(){return(un=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Pi(T,y){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Jt(T,y){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function ci(T){if(T)try{const y=new Date(Number(T));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function $e(){return($e=(0,g.Z)(function*(T,y=!1){const _=(0,h.m9)(T),A=yield _.getIdToken(y),J=wt(A);Y(J&&J.exp&&J.auth_time&&J.iat,_.auth,"internal-error");const pe="object"==typeof J.firebase?J.firebase:void 0,rt=null==pe?void 0:pe.sign_in_provider;return{claims:J,token:A,authTime:ci(Lt(J.auth_time)),issuedAtTime:ci(Lt(J.iat)),expirationTime:ci(Lt(J.exp)),signInProvider:rt||null,signInSecondFactor:(null==pe?void 0:pe.sign_in_second_factor)||null}})).apply(this,arguments)}function Lt(T){return 1e3*Number(T)}function wt(T){var y;const[_,A,J]=T.split(".");if(void 0===_||void 0===A||void 0===J)return Ue("JWT malformed, contained fewer than 3 sections"),null;try{const pe=(0,h.tV)(A);return pe?JSON.parse(pe):(Ue("Failed to decode base64 JWT payload"),null)}catch(pe){return Ue("Caught error parsing JWT payload as JSON",null===(y=pe)||void 0===y?void 0:y.toString()),null}}function Gt(T,y){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,g.Z)(function*(T,y,_=!1){if(_)return y;try{return yield y}catch(A){throw A instanceof h.ZR&&xe(A)&&T.auth.currentUser===T&&(yield T.auth.signOut()),A}})).apply(this,arguments)}function xe({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}class Ee{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var _;if(y){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const J=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(y=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(y);this.timerId=setTimeout((0,g.Z)(function*(){yield _.iteration()}),A)}iteration(){var y=this;return(0,g.Z)(function*(){var _;try{yield y.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null===(_=A)||void 0===_?void 0:_.code)&&y.schedule(!0))}y.schedule()})()}}class We{constructor(y,_){this.createdAt=y,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ci(this.lastLoginAt),this.creationTime=ci(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _t(T){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,g.Z)(function*(T){var y;const _=T.auth,A=yield T.getIdToken(),J=yield Gt(T,Jt(_,{idToken:A}));Y(null==J?void 0:J.users.length,_,"internal-error");const pe=J.users[0];T._notifyReloadListener(pe);const rt=(null===(y=pe.providerUserInfo)||void 0===y?void 0:y.length)?ln(pe.providerUserInfo):[],Kt=bn(T.providerData,rt),ai=!!T.isAnonymous&&!(T.email&&pe.passwordHash||(null==Kt?void 0:Kt.length)),mi={uid:pe.localId,displayName:pe.displayName||null,photoURL:pe.photoUrl||null,email:pe.email||null,emailVerified:pe.emailVerified||!1,phoneNumber:pe.phoneNumber||null,tenantId:pe.tenantId||null,providerData:Kt,metadata:new We(pe.createdAt,pe.lastLoginAt),isAnonymous:ai};Object.assign(T,mi)})).apply(this,arguments)}function mn(){return(mn=(0,g.Z)(function*(T){const y=(0,h.m9)(T);yield _t(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function bn(T,y){return[...T.filter(A=>!y.some(J=>J.providerId===A.providerId)),...y]}function ln(T){return T.map(y=>{var{providerId:_}=y,A=(0,_e._T)(y,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function he(){return(he=(0,g.Z)(function*(T,y){const _=yield Wn(T,{},(0,g.Z)(function*(){const A=(0,h.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:J,apiKey:pe}=T.config,rt=ei(T,J,"/v1/token",`key=${pe}`),Kt=yield T._getAdditionalHeaders();return Kt["Content-Type"]="application/x-www-form-urlencoded",Ke.fetch()(rt,{method:"POST",headers:Kt,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class be{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Y(y.idToken,"internal-error"),Y(void 0!==y.idToken,"internal-error"),Y(void 0!==y.refreshToken,"internal-error");const _="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function Ft(T){const y=wt(T);return Y(y,"internal-error"),Y(void 0!==y.exp,"internal-error"),Y(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,_)}getToken(y,_=!1){var A=this;return(0,g.Z)(function*(){return Y(!A.accessToken||A.refreshToken,y,"user-token-expired"),_||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(y,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,_){var A=this;return(0,g.Z)(function*(){const{accessToken:J,refreshToken:pe,expiresIn:rt}=yield function z(T,y){return he.apply(this,arguments)}(y,_);A.updateTokensAndExpiration(J,pe,Number(rt))})()}updateTokensAndExpiration(y,_,A){this.refreshToken=_||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(y,_){const{refreshToken:A,accessToken:J,expirationTime:pe}=_,rt=new be;return A&&(Y("string"==typeof A,"internal-error",{appName:y}),rt.refreshToken=A),J&&(Y("string"==typeof J,"internal-error",{appName:y}),rt.accessToken=J),pe&&(Y("number"==typeof pe,"internal-error",{appName:y}),rt.expirationTime=pe),rt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new be,this.toJSON())}_performRefresh(){return qe("not implemented")}}function Fe(T,y){Y("string"==typeof T||void 0===T,"internal-error",{appName:y})}class gt{constructor(y){var{uid:_,auth:A,stsTokenManager:J}=y,pe=(0,_e._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=pe.displayName||null,this.email=pe.email||null,this.emailVerified=pe.emailVerified||!1,this.phoneNumber=pe.phoneNumber||null,this.photoURL=pe.photoURL||null,this.isAnonymous=pe.isAnonymous||!1,this.tenantId=pe.tenantId||null,this.providerData=pe.providerData?[...pe.providerData]:[],this.metadata=new We(pe.createdAt||void 0,pe.lastLoginAt||void 0)}getIdToken(y){var _=this;return(0,g.Z)(function*(){const A=yield Gt(_,_.stsTokenManager.getToken(_.auth,y));return Y(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(y){return function ke(T){return $e.apply(this,arguments)}(this,y)}reload(){return function Et(T){return mn.apply(this,arguments)}(this)}_assign(y){this!==y&&(Y(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(_=>Object.assign({},_)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new gt(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,_=!1){var A=this;return(0,g.Z)(function*(){let J=!1;y.idToken&&y.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(y),J=!0),_&&(yield _t(A)),yield A.auth._persistUserIfCurrent(A),J&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var y=this;return(0,g.Z)(function*(){const _=yield y.getIdToken();return yield Gt(y,function Ui(T,y){return un.apply(this,arguments)}(y.auth,{idToken:_})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,_){var A,J,pe,rt,Kt,nn,sn,ai;const mi=null!==(A=_.displayName)&&void 0!==A?A:void 0,Vs=null!==(J=_.email)&&void 0!==J?J:void 0,aa=null!==(pe=_.phoneNumber)&&void 0!==pe?pe:void 0,hs=null!==(rt=_.photoURL)&&void 0!==rt?rt:void 0,Oc=null!==(Kt=_.tenantId)&&void 0!==Kt?Kt:void 0,Nl=null!==(nn=_._redirectEventId)&&void 0!==nn?nn:void 0,Mc=null!==(sn=_.createdAt)&&void 0!==sn?sn:void 0,Ro=null!==(ai=_.lastLoginAt)&&void 0!==ai?ai:void 0,{uid:kl,emailVerified:Ll,isAnonymous:sc,providerData:Pc,stsTokenManager:gn}=_;Y(kl&&gn,y,"internal-error");const Pu=be.fromJSON(this.name,gn);Y("string"==typeof kl,y,"internal-error"),Fe(mi,y.name),Fe(Vs,y.name),Y("boolean"==typeof Ll,y,"internal-error"),Y("boolean"==typeof sc,y,"internal-error"),Fe(aa,y.name),Fe(hs,y.name),Fe(Oc,y.name),Fe(Nl,y.name),Fe(Mc,y.name),Fe(Ro,y.name);const Fl=new gt({uid:kl,auth:y,email:Vs,emailVerified:Ll,displayName:mi,isAnonymous:sc,photoURL:hs,phoneNumber:aa,tenantId:Oc,stsTokenManager:Pu,createdAt:Mc,lastLoginAt:Ro});return Pc&&Array.isArray(Pc)&&(Fl.providerData=Pc.map(il=>Object.assign({},il))),Nl&&(Fl._redirectEventId=Nl),Fl}static _fromIdTokenResponse(y,_,A=!1){return(0,g.Z)(function*(){const J=new be;J.updateFromServerResponse(_);const pe=new gt({uid:_.localId,auth:y,stsTokenManager:J,isAnonymous:A});return yield _t(pe),pe})()}}const de=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(_,A){var J=this;return(0,g.Z)(function*(){J.storage[_]=A})()}_get(_){var A=this;return(0,g.Z)(function*(){const J=A.storage[_];return void 0===J?null:J})()}_remove(_){var A=this;return(0,g.Z)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return T.type="NONE",T})();function fe(T,y,_){return`firebase:${T}:${y}:${_}`}class Me{constructor(y,_,A){this.persistence=y,this.auth=_,this.userKey=A;const{config:J,name:pe}=this.auth;this.fullUserKey=fe(this.userKey,J.apiKey,pe),this.fullPersistenceKey=fe("persistence",J.apiKey,pe),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,g.Z)(function*(){const _=yield y.persistence._get(y.fullUserKey);return _?gt._fromJSON(y.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var _=this;return(0,g.Z)(function*(){if(_.persistence===y)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=y,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,_,A="authUser"){return(0,g.Z)(function*(){if(!_.length)return new Me(Ge(de),y,A);const J=(yield Promise.all(_.map(function(){var sn=(0,g.Z)(function*(ai){if(yield ai._isAvailable())return ai});return function(ai){return sn.apply(this,arguments)}}()))).filter(sn=>sn);let pe=J[0]||Ge(de);const rt=fe(A,y.config.apiKey,y.name);let Kt=null;for(const sn of _)try{const ai=yield sn._get(rt);if(ai){const mi=gt._fromJSON(y,ai);sn!==pe&&(Kt=mi),pe=sn;break}}catch(ai){}const nn=J.filter(sn=>sn._shouldAllowMigration);return pe._shouldAllowMigration&&nn.length?(pe=nn[0],Kt&&(yield pe._set(rt,Kt.toJSON())),yield Promise.all(_.map(function(){var sn=(0,g.Z)(function*(ai){if(ai!==pe)try{yield ai._remove(rt)}catch(mi){}});return function(ai){return sn.apply(this,arguments)}}())),new Me(pe,y,A)):new Me(pe,y,A)})()}}function ve(T){const y=T.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(re(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(ee(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Ye(y))return"Blackberry";if(Pt(y))return"Webos";if($(y))return"Safari";if((y.includes("chrome/")||te(y))&&!y.includes("edge/"))return"Chrome";if(Ae(y))return"Android";{const A=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function ee(T=(0,h.z$)()){return/firefox\//i.test(T)}function $(T=(0,h.z$)()){const y=T.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function te(T=(0,h.z$)()){return/crios\//i.test(T)}function re(T=(0,h.z$)()){return/iemobile/i.test(T)}function Ae(T=(0,h.z$)()){return/android/i.test(T)}function Ye(T=(0,h.z$)()){return/blackberry/i.test(T)}function Pt(T=(0,h.z$)()){return/webos/i.test(T)}function Nt(T=(0,h.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function yn(T=(0,h.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function yi(T=(0,h.z$)()){return Nt(T)||Ae(T)||Pt(T)||Ye(T)||/windows phone/i.test(T)||re(T)}function Di(T,y=[]){let _;switch(T){case"Browser":_=ve((0,h.z$)());break;case"Worker":_=`${ve((0,h.z$)())}-${T}`;break;default:_=T}const A=y.length?y.join(","):"FirebaseCore-web";return`${_}/JsCore/${W.SDK_VERSION}/${A}`}class Sr{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,_){const A=pe=>new Promise((rt,Kt)=>{try{rt(y(pe))}catch(nn){Kt(nn)}});A.onAbort=_,this.queue.push(A);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(y){var _=this;return(0,g.Z)(function*(){var A;if(_.auth.currentUser===y)return;const J=[];try{for(const pe of _.queue)yield pe(y),pe.onAbort&&J.push(pe.onAbort)}catch(pe){J.reverse();for(const rt of J)try{rt()}catch(Kt){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(A=pe)||void 0===A?void 0:A.message})}})()}}class Ii{constructor(y,_,A){this.app=y,this.heartbeatServiceProvider=_,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hn(this),this.idTokenSubscription=new Hn(this),this.beforeStateQueue=new Sr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(y,_){var A=this;return _&&(this._popupRedirectResolver=Ge(_)),this._initializationPromise=this.queue((0,g.Z)(function*(){var J,pe;if(!A._deleted&&(A.persistenceManager=yield Me.create(A,y),!A._deleted)){if(null===(J=A._popupRedirectResolver)||void 0===J?void 0:J._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(rt){}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(pe=A.currentUser)||void 0===pe?void 0:pe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,g.Z)(function*(){if(y._deleted)return;const _=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||_){if(y.currentUser&&_&&y.currentUser.uid===_.uid)return y._currentUser._assign(_),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(_,!0)}})()}initializeCurrentUser(y){var _=this;return(0,g.Z)(function*(){var A;const J=yield _.assertedPersistence.getCurrentUser();let pe=J,rt=!1;if(y&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Kt=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,nn=null==pe?void 0:pe._redirectEventId,sn=yield _.tryRedirectSignIn(y);(!Kt||Kt===nn)&&(null==sn?void 0:sn.user)&&(pe=sn.user,rt=!0)}if(!pe)return _.directlySetCurrentUser(null);if(!pe._redirectEventId){if(rt)try{yield _.beforeStateQueue.runMiddleware(pe)}catch(Kt){pe=J,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Kt))}return pe?_.reloadAndSetCurrentUserOrClear(pe):_.directlySetCurrentUser(null)}return Y(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===pe._redirectEventId?_.directlySetCurrentUser(pe):_.reloadAndSetCurrentUserOrClear(pe)})()}tryRedirectSignIn(y){var _=this;return(0,g.Z)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,y,!0)}catch(J){yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(y){var _=this;return(0,g.Z)(function*(){var A;try{yield _t(y)}catch(J){if("auth/network-request-failed"!==(null===(A=J)||void 0===A?void 0:A.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function vt(){if("undefined"==typeof navigator)return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var y=this;return(0,g.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var _=this;return(0,g.Z)(function*(){const A=y?(0,h.m9)(y):null;return A&&Y(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(y,_=!1){var A=this;return(0,g.Z)(function*(){if(!A._deleted)return y&&Y(A.tenantId===y.tenantId,A,"tenant-id-mismatch"),_||(yield A.beforeStateQueue.runMiddleware(y)),A.queue((0,g.Z)(function*(){yield A.directlySetCurrentUser(y),A.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,g.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var _=this;return this.queue((0,g.Z)(function*(){yield _.assertedPersistence.setPersistence(Ge(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new h.LL("auth","Firebase",y())}onAuthStateChanged(y,_,A){return this.registerStateListener(this.authStateSubscription,y,_,A)}beforeAuthStateChanged(y,_){return this.beforeStateQueue.pushCallback(y,_)}onIdTokenChanged(y,_,A){return this.registerStateListener(this.idTokenSubscription,y,_,A)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,_){var A=this;return(0,g.Z)(function*(){const J=yield A.getOrInitRedirectPersistenceManager(_);return null===y?J.removeCurrentUser():J.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var _=this;return(0,g.Z)(function*(){if(!_.redirectPersistenceManager){const A=y&&Ge(y)||_._popupRedirectResolver;Y(A,_,"argument-error"),_.redirectPersistenceManager=yield Me.create(_,[Ge(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(y){var _=this;return(0,g.Z)(function*(){var A,J;return _._isInitialized&&(yield _.queue((0,g.Z)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===y?_._currentUser:(null===(J=_.redirectUser)||void 0===J?void 0:J._redirectEventId)===y?_.redirectUser:null})()}_persistUserIfCurrent(y){var _=this;return(0,g.Z)(function*(){if(y===_.currentUser)return _.queue((0,g.Z)(function*(){return _.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,_,A,J){if(this._deleted)return()=>{};const pe="function"==typeof _?_:_.next.bind(_),rt=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(rt,this,"internal-error"),rt.then(()=>pe(this.currentUser)),"function"==typeof _?y.addObserver(_,A,J):y.addObserver(_)}directlySetCurrentUser(y){var _=this;return(0,g.Z)(function*(){_.currentUser&&_.currentUser!==y&&_._currentUser._stopProactiveRefresh(),y&&_.isProactiveRefreshEnabled&&y._startProactiveRefresh(),_.currentUser=y,y?yield _.assertedPersistence.setCurrentUser(y):yield _.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Di(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,g.Z)(function*(){var _;const A={"X-Client-Version":y.clientVersion};y.app.options.appId&&(A["X-Firebase-gmpid"]=y.app.options.appId);const J=yield null===(_=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return J&&(A["X-Firebase-Client"]=J),A})()}}function zt(T){return(0,h.m9)(T)}class Hn{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,h.ne)(_=>this.observer=_)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function di(T,y,_){const A=zt(T);Y(A._canInitEmulator,A,"emulator-config-failed"),Y(/^https?:\/\//.test(y),A,"invalid-emulator-scheme");const J=!!(null==_?void 0:_.disableWarnings),pe=ji(y),{host:rt,port:Kt}=function xr(T){const y=ji(T),_=/(\/\/)?([^?#/]+)/.exec(T.substr(y.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(A);if(J){const pe=J[1];return{host:pe,port:$i(A.substr(pe.length+1))}}{const[pe,rt]=A.split(":");return{host:pe,port:$i(rt)}}}(y);A.config.emulator={url:`${pe}//${rt}${null===Kt?"":`:${Kt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:rt,port:Kt,protocol:pe.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function nr(){function T(){const y=document.createElement("p"),_=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function ji(T){const y=T.indexOf(":");return y<0?"":T.substr(0,y+1)}function $i(T){if(!T)return null;const y=Number(T);return isNaN(y)?null:y}class ni{constructor(y,_){this.providerId=y,this.signInMethod=_}toJSON(){return qe("not implemented")}_getIdTokenResponse(y){return qe("not implemented")}_linkToIdToken(y,_){return qe("not implemented")}_getReauthenticationResolver(y){return qe("not implemented")}}function yr(T,y){return pi.apply(this,arguments)}function pi(){return(pi=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:resetPassword",Xt(T,y))})).apply(this,arguments)}function Mn(T,y){return qr.apply(this,arguments)}function qr(){return(qr=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Gi(T,y){return js.apply(this,arguments)}function js(){return(js=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:update",Xt(T,y))})).apply(this,arguments)}function Bi(){return(Bi=(0,g.Z)(function*(T,y){return qn(T,"POST","/v1/accounts:signInWithPassword",Xt(T,y))})).apply(this,arguments)}function fs(T,y){return ss.apply(this,arguments)}function ss(){return(ss=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:sendOobCode",Xt(T,y))})).apply(this,arguments)}function hi(T,y){return fi.apply(this,arguments)}function fi(){return(fi=(0,g.Z)(function*(T,y){return fs(T,y)})).apply(this,arguments)}function cn(T,y){return os.apply(this,arguments)}function os(){return(os=(0,g.Z)(function*(T,y){return fs(T,y)})).apply(this,arguments)}function Ot(T,y){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,g.Z)(function*(T,y){return fs(T,y)})).apply(this,arguments)}function vi(T,y){return as.apply(this,arguments)}function as(){return(as=(0,g.Z)(function*(T,y){return fs(T,y)})).apply(this,arguments)}function lr(){return(lr=(0,g.Z)(function*(T,y){return qn(T,"POST","/v1/accounts:signInWithEmailLink",Xt(T,y))})).apply(this,arguments)}function Or(){return(Or=(0,g.Z)(function*(T,y){return qn(T,"POST","/v1/accounts:signInWithEmailLink",Xt(T,y))})).apply(this,arguments)}class $s extends ni{constructor(y,_,A,J=null){super("password",A),this._email=y,this._password=_,this._tenantId=J}static _fromEmailAndPassword(y,_){return new $s(y,_,"password")}static _fromEmailAndCode(y,_,A=null){return new $s(y,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(y){var _=this;return(0,g.Z)(function*(){switch(_.signInMethod){case"password":return function ir(T,y){return Bi.apply(this,arguments)}(y,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function ls(T,y){return lr.apply(this,arguments)}(y,{email:_._email,oobCode:_._password});default:ft(y,"internal-error")}})()}_linkToIdToken(y,_){var A=this;return(0,g.Z)(function*(){switch(A.signInMethod){case"password":return Mn(y,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function ps(T,y){return Or.apply(this,arguments)}(y,{idToken:_,email:A._email,oobCode:A._password});default:ft(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function zi(T,y){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,g.Z)(function*(T,y){return qn(T,"POST","/v1/accounts:signInWithIdp",Xt(T,y))})).apply(this,arguments)}class us extends ni{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const _=new us(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(_.idToken=y.idToken),y.accessToken&&(_.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(_.nonce=y.nonce),y.pendingToken&&(_.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(_.accessToken=y.oauthToken,_.secret=y.oauthTokenSecret):ft("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:A,signInMethod:J}=_,pe=(0,_e._T)(_,["providerId","signInMethod"]);if(!A||!J)return null;const rt=new us(A,J);return rt.idToken=pe.idToken||void 0,rt.accessToken=pe.accessToken||void 0,rt.secret=pe.secret,rt.nonce=pe.nonce,rt.pendingToken=pe.pendingToken||null,rt}_getIdTokenResponse(y){return zi(y,this.buildRequest())}_linkToIdToken(y,_){const A=this.buildRequest();return A.idToken=_,zi(y,A)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,zi(y,_)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),y.postBody=(0,h.xO)(_)}return y}}function ao(T,y){return lo.apply(this,arguments)}function lo(){return(lo=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:sendVerificationCode",Xt(T,y))})).apply(this,arguments)}function Yr(){return(Yr=(0,g.Z)(function*(T,y){return qn(T,"POST","/v1/accounts:signInWithPhoneNumber",Xt(T,y))})).apply(this,arguments)}function Ms(){return(Ms=(0,g.Z)(function*(T,y){const _=yield qn(T,"POST","/v1/accounts:signInWithPhoneNumber",Xt(T,y));if(_.temporaryProof)throw Yn(T,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Sa={USER_NOT_FOUND:"user-not-found"};function $o(){return($o=(0,g.Z)(function*(T,y){return qn(T,"POST","/v1/accounts:signInWithPhoneNumber",Xt(T,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Sa)})).apply(this,arguments)}class gs extends ni{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,_){return new gs({verificationId:y,verificationCode:_})}static _fromTokenResponse(y,_){return new gs({phoneNumber:y,temporaryProof:_})}_getIdTokenResponse(y){return function da(T,y){return Yr.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,_){return function vr(T,y){return Ms.apply(this,arguments)}(y,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function xa(T,y){return $o.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:_,verificationId:A,verificationCode:J}=this.params;return y&&_?{temporaryProof:y,phoneNumber:_}:{sessionInfo:A,code:J}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:_,verificationCode:A,phoneNumber:J,temporaryProof:pe}=y;return A||_||J||pe?new gs({verificationId:_,verificationCode:A,phoneNumber:J,temporaryProof:pe}):null}}class ur{constructor(y){var _,A,J,pe,rt,Kt;const nn=(0,h.zd)((0,h.pd)(y)),sn=null!==(_=nn.apiKey)&&void 0!==_?_:null,ai=null!==(A=nn.oobCode)&&void 0!==A?A:null,mi=function $a(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=nn.mode)&&void 0!==J?J:null);Y(sn&&ai&&mi,"argument-error"),this.apiKey=sn,this.operation=mi,this.code=ai,this.continueUrl=null!==(pe=nn.continueUrl)&&void 0!==pe?pe:null,this.languageCode=null!==(rt=nn.languageCode)&&void 0!==rt?rt:null,this.tenantId=null!==(Kt=nn.tenantId)&&void 0!==Kt?Kt:null}static parseLink(y){const _=function zs(T){const y=(0,h.zd)((0,h.pd)(T)).link,_=y?(0,h.zd)((0,h.pd)(y)).deep_link_id:null,A=(0,h.zd)((0,h.pd)(T)).deep_link_id;return(A?(0,h.zd)((0,h.pd)(A)).link:null)||A||_||y||T}(y);try{return new ur(_)}catch(A){return null}}}let _r=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(_,A){return $s._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const J=ur.parseLink(A);return Y(J,"argument-error"),$s._fromEmailAndCode(_,J.code,J.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class Ds{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Ln extends Ds{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class ms extends Ln{static credentialFromJSON(y){const _="string"==typeof y?JSON.parse(y):y;return Y("providerId"in _&&"signInMethod"in _,"argument-error"),us._fromParams(_)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return Y(y.idToken||y.accessToken,"argument-error"),us._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return ms.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return ms.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:_,oauthAccessToken:A,oauthTokenSecret:J,pendingToken:pe,nonce:rt,providerId:Kt}=y;if(!A&&!J&&!_&&!pe||!Kt)return null;try{return new ms(Kt)._credential({idToken:_,accessToken:A,nonce:rt,pendingToken:pe})}catch(nn){return null}}}let Is=(()=>{class T extends Ln{constructor(){super("facebook.com")}static credential(_){return us._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return T.credential(_.oauthAccessToken)}catch(A){return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),ys=(()=>{class T extends Ln{constructor(){super("google.com"),this.addScope("profile")}static credential(_,A){return us._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:A})}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:A,oauthAccessToken:J}=_;if(!A&&!J)return null;try{return T.credential(A,J)}catch(pe){return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),Ga=(()=>{class T extends Ln{constructor(){super("github.com")}static credential(_){return us._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return T.credential(_.oauthAccessToken)}catch(A){return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Hr extends ni{constructor(y,_){super(y,y),this.pendingToken=_}_getIdTokenResponse(y){return zi(y,this.buildRequest())}_linkToIdToken(y,_){const A=this.buildRequest();return A.idToken=_,zi(y,A)}_getReauthenticationResolver(y){const _=this.buildRequest();return _.autoCreate=!1,zi(y,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const _="string"==typeof y?JSON.parse(y):y,{providerId:A,signInMethod:J,pendingToken:pe}=_;return A&&J&&pe&&A===J?new Hr(A,pe):null}static _create(y,_){return new Hr(y,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mr extends Ds{constructor(y){Y(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return Mr.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return Mr.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const _=Hr.fromJSON(y);return Y(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:_,providerId:A}=y;if(!_||!A)return null;try{return Hr._create(A,_)}catch(J){return null}}}let jr=(()=>{class T extends Ln{constructor(){super("twitter.com")}static credential(_,A){return us._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:A})}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:A,oauthTokenSecret:J}=_;if(!A||!J)return null;try{return T.credential(A,J)}catch(pe){return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Ws(T,y){return wi.apply(this,arguments)}function wi(){return(wi=(0,g.Z)(function*(T,y){return qn(T,"POST","/v1/accounts:signUp",Xt(T,y))})).apply(this,arguments)}class br{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,_,A,J=!1){return(0,g.Z)(function*(){const pe=yield gt._fromIdTokenResponse(y,A,J),rt=Wo(A);return new br({user:pe,providerId:rt,_tokenResponse:A,operationType:_})})()}static _forOperation(y,_,A){return(0,g.Z)(function*(){yield y._updateTokensIfNecessary(A,!0);const J=Wo(A);return new br({user:y,providerId:J,_tokenResponse:A,operationType:_})})()}}function Wo(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function fa(T){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,g.Z)(function*(T){var y;const _=zt(T);if(yield _._initializationPromise,null===(y=_.currentUser)||void 0===y?void 0:y.isAnonymous)return new br({user:_.currentUser,providerId:null,operationType:"signIn"});const A=yield Ws(_,{returnSecureToken:!0}),J=yield br._fromIdTokenResponse(_,"signIn",A,!0);return yield _._updateCurrentUser(J.user),J})).apply(this,arguments)}class Pr extends h.ZR{constructor(y,_,A,J){var pe;super(_.code,_.message),this.operationType=A,this.user=J,Object.setPrototypeOf(this,Pr.prototype),this.customData={appName:y.name,tenantId:null!==(pe=y.tenantId)&&void 0!==pe?pe:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(y,_,A,J){return new Pr(y,_,A,J)}}function wo(T,y,_,A){return("reauthenticate"===y?_._getReauthenticationResolver(T):_._getIdTokenResponse(T)).catch(pe=>{throw"auth/multi-factor-auth-required"===pe.code?Pr._fromErrorAndOperation(T,pe,y,A):pe})}function Zs(T){return new Set(T.map(({providerId:y})=>y).filter(y=>!!y))}function $r(T,y){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,g.Z)(function*(T,y){const _=(0,h.m9)(T);yield Q(!0,_,y);const{providerUserInfo:A}=yield Pi(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[y]}),J=Zs(A||[]);return _.providerData=_.providerData.filter(pe=>J.has(pe.providerId)),J.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function _i(T,y){return U.apply(this,arguments)}function U(){return(U=(0,g.Z)(function*(T,y,_=!1){const A=yield Gt(T,y._linkToIdToken(T.auth,yield T.getIdToken()),_);return br._forOperation(T,"link",A)})).apply(this,arguments)}function Q(T,y,_){return L.apply(this,arguments)}function L(){return(L=(0,g.Z)(function*(T,y,_){yield _t(y);const J=!1===T?"provider-already-linked":"no-such-provider";Y(Zs(y.providerData).has(_)===T,y.auth,J)})).apply(this,arguments)}function le(T,y){return je.apply(this,arguments)}function je(){return(je=(0,g.Z)(function*(T,y,_=!1){var A;const{auth:J}=T,pe="reauthenticate";try{const rt=yield Gt(T,wo(J,pe,y,T),_);Y(rt.idToken,J,"internal-error");const Kt=wt(rt.idToken);Y(Kt,J,"internal-error");const{sub:nn}=Kt;return Y(T.uid===nn,J,"user-mismatch"),br._forOperation(T,pe,rt)}catch(rt){throw"auth/user-not-found"===(null===(A=rt)||void 0===A?void 0:A.code)&&ft(J,"user-mismatch"),rt}})).apply(this,arguments)}function Ct(T,y){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,g.Z)(function*(T,y,_=!1){const A="signIn",J=yield wo(T,A,y),pe=yield br._fromIdTokenResponse(T,A,J);return _||(yield T._updateCurrentUser(pe.user)),pe})).apply(this,arguments)}function Tn(T,y){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,g.Z)(function*(T,y){return Ct(zt(T),y)})).apply(this,arguments)}function si(T,y){return jn.apply(this,arguments)}function jn(){return(jn=(0,g.Z)(function*(T,y){const _=(0,h.m9)(T);return yield Q(!1,_,y.providerId),_i(_,y)})).apply(this,arguments)}function ri(T,y){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,g.Z)(function*(T,y){return le((0,h.m9)(T),y)})).apply(this,arguments)}function xi(T,y){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,g.Z)(function*(T,y){return qn(T,"POST","/v1/accounts:signInWithCustomToken",Xt(T,y))})).apply(this,arguments)}function H(T,y){return N.apply(this,arguments)}function N(){return(N=(0,g.Z)(function*(T,y){const _=zt(T),A=yield xi(_,{token:y,returnSecureToken:!0}),J=yield br._fromIdTokenResponse(_,"signIn",A);return yield _._updateCurrentUser(J.user),J})).apply(this,arguments)}class M{constructor(y,_){this.factorId=y,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(y,_){return"phoneInfo"in _?se._fromServerResponse(y,_):ft(y,"internal-error")}}class se extends M{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,_){return new se(_)}}function At(T,y,_){var A;Y((null===(A=_.url)||void 0===A?void 0:A.length)>0,T,"invalid-continue-uri"),Y(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),y.continueUrl=_.url,y.dynamicLinkDomain=_.dynamicLinkDomain,y.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Y(_.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),y.iOSBundleId=_.iOS.bundleId),_.android&&(Y(_.android.packageName.length>0,T,"missing-android-pkg-name"),y.androidInstallApp=_.android.installApp,y.androidMinimumVersionCode=_.android.minimumVersion,y.androidPackageName=_.android.packageName)}function wn(T,y,_){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,g.Z)(function*(T,y,_){const A=(0,h.m9)(T),J={requestType:"PASSWORD_RESET",email:y};_&&At(A,J,_),yield cn(A,J)})).apply(this,arguments)}function vs(T,y,_){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,g.Z)(function*(T,y,_){yield yr((0,h.m9)(T),{oobCode:y,newPassword:_})})).apply(this,arguments)}function Zo(T,y){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,g.Z)(function*(T,y){yield Gi((0,h.m9)(T),{oobCode:y})})).apply(this,arguments)}function Bt(T,y){return oi.apply(this,arguments)}function oi(){return(oi=(0,g.Z)(function*(T,y){const _=(0,h.m9)(T),A=yield yr(_,{oobCode:y}),J=A.requestType;switch(Y(J,_,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(A.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(A.mfaInfo,_,"internal-error");default:Y(A.email,_,"internal-error")}let pe=null;return A.mfaInfo&&(pe=M._fromServerResponse(zt(_),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:pe},operation:J}})).apply(this,arguments)}function Tl(T,y){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,g.Z)(function*(T,y){const{data:_}=yield Bt((0,h.m9)(T),y);return _.email})).apply(this,arguments)}function Ma(T,y,_){return Co.apply(this,arguments)}function Co(){return(Co=(0,g.Z)(function*(T,y,_){const A=zt(T),J=yield Ws(A,{returnSecureToken:!0,email:y,password:_}),pe=yield br._fromIdTokenResponse(A,"signIn",J);return yield A._updateCurrentUser(pe.user),pe})).apply(this,arguments)}function Ps(T,y,_){return Tn((0,h.m9)(T),_r.credential(y,_))}function Pa(T,y,_){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,g.Z)(function*(T,y,_){const A=(0,h.m9)(T),J={requestType:"EMAIL_SIGNIN",email:y};Y(_.handleCodeInApp,A,"argument-error"),_&&At(A,J,_),yield Ot(A,J)})).apply(this,arguments)}function Dl(T,y){const _=ur.parseLink(y);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function Il(T,y,_){return Al.apply(this,arguments)}function Al(){return(Al=(0,g.Z)(function*(T,y,_){const A=(0,h.m9)(T),J=_r.credentialWithLink(y,_||it());return Y(J._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Tn(A,J)})).apply(this,arguments)}function To(T,y){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:createAuthUri",Xt(T,y))})).apply(this,arguments)}function qs(T,y){return uo.apply(this,arguments)}function uo(){return(uo=(0,g.Z)(function*(T,y){const A={identifier:y,continueUri:Rt()?it():"http://localhost"},{signinMethods:J}=yield To((0,h.m9)(T),A);return J||[]})).apply(this,arguments)}function Xr(T,y){return _s.apply(this,arguments)}function _s(){return(_s=(0,g.Z)(function*(T,y){const _=(0,h.m9)(T),J={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};y&&At(_.auth,J,y);const{email:pe}=yield hi(_.auth,J);pe!==T.email&&(yield T.reload())})).apply(this,arguments)}function pa(T,y,_){return co.apply(this,arguments)}function co(){return(co=(0,g.Z)(function*(T,y,_){const A=(0,h.m9)(T),pe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:y};_&&At(A.auth,pe,_);const{email:rt}=yield vi(A.auth,pe);rt!==T.email&&(yield T.reload())})).apply(this,arguments)}function Na(T,y){return rr.apply(this,arguments)}function rr(){return(rr=(0,g.Z)(function*(T,y){return hn(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function za(T,y){return ho.apply(this,arguments)}function ho(){return(ho=(0,g.Z)(function*(T,{displayName:y,photoURL:_}){if(void 0===y&&void 0===_)return;const A=(0,h.m9)(T),pe={idToken:yield A.getIdToken(),displayName:y,photoUrl:_,returnSecureToken:!0},rt=yield Gt(A,Na(A.auth,pe));A.displayName=rt.displayName||null,A.photoURL=rt.photoUrl||null;const Kt=A.providerData.find(({providerId:nn})=>"password"===nn);Kt&&(Kt.displayName=A.displayName,Kt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(rt)})).apply(this,arguments)}function ul(T,y){return fo((0,h.m9)(T),y,null)}function Wa(T,y){return fo((0,h.m9)(T),null,y)}function fo(T,y,_){return es.apply(this,arguments)}function es(){return(es=(0,g.Z)(function*(T,y,_){const{auth:A}=T,pe={idToken:yield T.getIdToken(),returnSecureToken:!0};y&&(pe.email=y),_&&(pe.password=_);const rt=yield Gt(T,Mn(A,pe));yield T._updateTokensIfNecessary(rt,!0)})).apply(this,arguments)}class bs{constructor(y,_,A={}){this.isNewUser=y,this.providerId=_,this.profile=A}}class Do extends bs{constructor(y,_,A,J){super(y,_,A),this.username=J}}class Sl extends bs{constructor(y,_){super(y,"facebook.com",_)}}class Za extends Do{constructor(y,_){super(y,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class po extends bs{constructor(y,_){super(y,"google.com",_)}}class ql extends Do{constructor(y,_,A){super(y,"twitter.com",_,A)}}function Yl(T){const{user:y,_tokenResponse:_}=T;return y.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ko(T){var y,_;if(!T)return null;const{providerId:A}=T,J=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},pe=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!A&&(null==T?void 0:T.idToken)){const rt=null===(_=null===(y=wt(T.idToken))||void 0===y?void 0:y.firebase)||void 0===_?void 0:_.sign_in_provider;if(rt)return new bs(pe,"anonymous"!==rt&&"custom"!==rt?rt:null)}if(!A)return null;switch(A){case"facebook.com":return new Sl(pe,J);case"github.com":return new Za(pe,J);case"google.com":return new po(pe,J);case"twitter.com":return new ql(pe,J,T.screenName||null);case"custom":case"anonymous":return new bs(pe,null);default:return new bs(pe,A,J)}}(_)}class Es{constructor(y,_,A){this.type=y,this.credential=_,this.auth=A}static _fromIdtoken(y,_){return new Es("enroll",y,_)}static _fromMfaPendingCredential(y){return new Es("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var _,A;if(null==y?void 0:y.multiFactorSession){if(null===(_=y.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Es._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(A=y.multiFactorSession)||void 0===A?void 0:A.idToken)return Es._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Wt{constructor(y,_,A){this.session=y,this.hints=_,this.signInResolver=A}static _fromError(y,_){const A=zt(y),J=_.customData._serverResponse,pe=(J.mfaInfo||[]).map(Kt=>M._fromServerResponse(A,Kt));Y(J.mfaPendingCredential,A,"internal-error");const rt=Es._fromMfaPendingCredential(J.mfaPendingCredential);return new Wt(rt,pe,function(){var Kt=(0,g.Z)(function*(nn){const sn=yield nn._process(A,rt);delete J.mfaInfo,delete J.mfaPendingCredential;const ai=Object.assign(Object.assign({},J),{idToken:sn.idToken,refreshToken:sn.refreshToken});switch(_.operationType){case"signIn":const mi=yield br._fromIdTokenResponse(A,_.operationType,ai);return yield A._updateCurrentUser(mi.user),mi;case"reauthenticate":return Y(_.user,A,"internal-error"),br._forOperation(_.user,_.operationType,ai);default:ft(A,"internal-error")}});return function(nn){return Kt.apply(this,arguments)}}())}resolveSignIn(y){var _=this;return(0,g.Z)(function*(){return _.signInResolver(y)})()}}function Mi(T,y){var _;const A=(0,h.m9)(T),J=y;return Y(y.customData.operationType,A,"argument-error"),Y(null===(_=J.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,A,"argument-error"),Wt._fromError(A,J)}function Zi(T,y){return hn(T,"POST","/v2/accounts/mfaEnrollment:start",Xt(T,y))}class In{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(A=>M._fromServerResponse(y.auth,A)))})}static _fromUser(y){return new In(y)}getSession(){var y=this;return(0,g.Z)(function*(){return Es._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,_){var A=this;return(0,g.Z)(function*(){const J=y,pe=yield A.getSession(),rt=yield Gt(A.user,J._process(A.user.auth,pe,_));return yield A.user._updateTokensIfNecessary(rt),A.user.reload()})()}unenroll(y){var _=this;return(0,g.Z)(function*(){var A;const J="string"==typeof y?y:y.uid,pe=yield _.user.getIdToken(),rt=yield Gt(_.user,function Dn(T,y){return hn(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(T,y))}(_.user.auth,{idToken:pe,mfaEnrollmentId:J}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Kt})=>Kt!==J),yield _.user._updateTokensIfNecessary(rt);try{yield _.user.reload()}catch(Kt){if("auth/user-token-expired"!==(null===(A=Kt)||void 0===A?void 0:A.code))throw Kt}})()}}const So=new WeakMap;function rn(T){const y=(0,h.m9)(T);return So.has(y)||So.set(y,In._fromUser(y)),So.get(y)}const bt="__sak";class jt{constructor(y,_){this.storageRetriever=y,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(bt,"1"),this.storage.removeItem(bt),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,_){return this.storage.setItem(y,JSON.stringify(_)),Promise.resolve()}_get(y){const _=this.storage.getItem(y);return Promise.resolve(_?JSON.parse(_):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const cs=(()=>{class T extends jt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ni(){const T=(0,h.z$)();return $(T)||Nt(T)}()&&function Ei(){try{return!(!window||window===window.top)}catch(T){return!1}}(),this.fallbackToPolling=yi(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const J=this.storage.getItem(A),pe=this.localCache[A];J!==pe&&_(A,pe,J)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((Kt,nn,sn)=>{this.notifyListeners(Kt,sn)});const J=_.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Kt=this.storage.getItem(J);if(_.newValue!==Kt)null!==_.newValue?this.storage.setItem(J,_.newValue):this.storage.removeItem(J);else if(this.localCache[J]===_.newValue&&!A)return}const pe=()=>{const Kt=this.storage.getItem(J);!A&&this.localCache[J]===Kt||this.notifyListeners(J,Kt)},rt=this.storage.getItem(J);!function En(){return(0,h.w1)()&&10===document.documentMode}()||rt===_.newValue||_.newValue===_.oldValue?pe():setTimeout(pe,10)}notifyListeners(_,A){this.localCache[_]=A;const J=this.listeners[_];if(J)for(const pe of Array.from(J))pe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var J=()=>super._set,pe=this;return(0,g.Z)(function*(){yield J().call(pe,_,A),pe.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,J=this;return(0,g.Z)(function*(){const pe=yield A().call(J,_);return J.localCache[_]=JSON.stringify(pe),pe})()}_remove(_){var A=()=>super._remove,J=this;return(0,g.Z)(function*(){yield A().call(J,_),delete J.localCache[_]})()}}return T.type="LOCAL",T})(),ga=(()=>{class T extends jt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return T.type="SESSION",T})();let qa=(()=>{class T{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(pe=>pe.isListeningto(_));if(A)return A;const J=new T(_);return this.receivers.push(J),J}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,g.Z)(function*(){const J=_,{eventId:pe,eventType:rt,data:Kt}=J.data,nn=A.handlersMap[rt];if(!(null==nn?void 0:nn.size))return;J.ports[0].postMessage({status:"ack",eventId:pe,eventType:rt});const sn=Array.from(nn).map(function(){var mi=(0,g.Z)(function*(Vs){return Vs(J.origin,Kt)});return function(Vs){return mi.apply(this,arguments)}}()),ai=yield function Yo(T){return Promise.all(T.map(function(){var y=(0,g.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return y.apply(this,arguments)}}()))}(sn);J.ports[0].postMessage({status:"done",eventId:pe,eventType:rt,response:ai})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function ma(T="",y=10){let _="";for(let A=0;A<y;A++)_+=Math.floor(10*Math.random());return T+_}class Ql{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,_,A=50){var J=this;return(0,g.Z)(function*(){const pe="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!pe)throw new Error("connection_unavailable");let rt,Kt;return new Promise((nn,sn)=>{const ai=ma("",20);pe.port1.start();const mi=setTimeout(()=>{sn(new Error("unsupported_event"))},A);Kt={messageChannel:pe,onMessage(Vs){const aa=Vs;if(aa.data.eventId===ai)switch(aa.data.status){case"ack":clearTimeout(mi),rt=setTimeout(()=>{sn(new Error("timeout"))},3e3);break;case"done":clearTimeout(rt),nn(aa.data.response);break;default:clearTimeout(mi),clearTimeout(rt),sn(new Error("invalid_response"))}}},J.handlers.add(Kt),pe.port1.addEventListener("message",Kt.onMessage),J.target.postMessage({eventType:y,eventId:ai,data:_},[pe.port2])}).finally(()=>{Kt&&J.removeMessageHandler(Kt)})})()}}function Hi(){return window}function Ki(){return void 0!==Hi().WorkerGlobalScope&&"function"==typeof Hi().importScripts}function Ti(){return(Ti=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(T){return null}})).apply(this,arguments)}const D="firebaseLocalStorageDb",F="firebaseLocalStorage",V="fbase_key";class ae{constructor(y){this.request=y}toPromise(){return new Promise((y,_)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Oe(T,y){return T.transaction([F],y?"readwrite":"readonly").objectStore(F)}function xt(){const T=indexedDB.open(D,1);return new Promise((y,_)=>{T.addEventListener("error",()=>{_(T.error)}),T.addEventListener("upgradeneeded",()=>{const A=T.result;try{A.createObjectStore(F,{keyPath:V})}catch(J){_(J)}}),T.addEventListener("success",(0,g.Z)(function*(){const A=T.result;A.objectStoreNames.contains(F)?y(A):(A.close(),yield function He(){const T=indexedDB.deleteDatabase(D);return new ae(T).toPromise()}(),y(yield xt()))}))})}function pn(T,y,_){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,g.Z)(function*(T,y,_){const A=Oe(T,!0).put({[V]:y,value:_});return new ae(A).toPromise()})).apply(this,arguments)}function gi(){return(gi=(0,g.Z)(function*(T,y){const _=Oe(T,!1).get(y),A=yield new ae(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function bi(T,y){const _=Oe(T,!0).delete(y);return new ae(_).toPromise()}const mo=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,g.Z)(function*(){return _.db||(_.db=yield xt()),_.db})()}_withRetries(_){var A=this;return(0,g.Z)(function*(){let J=0;for(;;)try{const pe=yield A._openDb();return yield _(pe)}catch(pe){if(J++>3)throw pe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,g.Z)(function*(){return Ki()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,g.Z)(function*(){_.receiver=qa._getInstance(function O(){return Ki()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,g.Z)(function*(J,pe){return{keyProcessed:(yield _._poll()).includes(pe.key)}});return function(J,pe){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,g.Z)(function*(J,pe){return["keyChanged"]});return function(J,pe){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,g.Z)(function*(){var A,J;if(_.activeServiceWorker=yield function ya(){return Ti.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ql(_.activeServiceWorker);const pe=yield _.sender._send("ping",{},800);!pe||(null===(A=pe[0])||void 0===A?void 0:A.fulfilled)&&(null===(J=pe[0])||void 0===J?void 0:J.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,g.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function Fn(){var T;return(null===(T=null==navigator?void 0:navigator.serviceWorker)||void 0===T?void 0:T.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch(J){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const _=yield xt();return yield pn(_,bt,"1"),yield bi(_,bt),!0}catch(_){}return!1})()}_withPendingWrite(_){var A=this;return(0,g.Z)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var J=this;return(0,g.Z)(function*(){return J._withPendingWrite((0,g.Z)(function*(){return yield J._withRetries(pe=>pn(pe,_,A)),J.localCache[_]=A,J.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,g.Z)(function*(){const J=yield A._withRetries(pe=>function An(T,y){return gi.apply(this,arguments)}(pe,_));return A.localCache[_]=J,J})()}_remove(_){var A=this;return(0,g.Z)(function*(){return A._withPendingWrite((0,g.Z)(function*(){return yield A._withRetries(J=>bi(J,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,g.Z)(function*(){const A=yield _._withRetries(rt=>{const Kt=Oe(rt,!1).getAll();return new ae(Kt).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const J=[],pe=new Set;for(const{fbase_key:rt,value:Kt}of A)pe.add(rt),JSON.stringify(_.localCache[rt])!==JSON.stringify(Kt)&&(_.notifyListeners(rt,Kt),J.push(rt));for(const rt of Object.keys(_.localCache))_.localCache[rt]&&!pe.has(rt)&&(_.notifyListeners(rt,null),J.push(rt));return J})()}notifyListeners(_,A){this.localCache[_]=A;const J=this.listeners[_];if(J)for(const pe of Array.from(J))pe(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})();function Rs(T,y){return hn(T,"POST","/v2/accounts/mfaSignIn:start",Xt(T,y))}function Er(){return(Er=(0,g.Z)(function*(T){return(yield hn(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xo(T){return new Promise((y,_)=>{const A=document.createElement("script");A.setAttribute("src",T),A.onload=y,A.onerror=J=>{const pe=me("internal-error");pe.customData=J,_(pe)},A.type="text/javascript",A.charset="UTF-8",function Xs(){var T,y;return null!==(y=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==y?y:document}().appendChild(A)})}function eo(T){return`__${T}${Math.floor(1e6*Math.random())}`}const pr=1e12;class xl{constructor(y){this.auth=y,this.counter=pr,this._widgets=new Map}render(y,_){const A=this.counter;return this._widgets.set(A,new Jl(y,this.auth.name,_||{})),this.counter++,A}reset(y){var _;const A=y||pr;null===(_=this._widgets.get(A))||void 0===_||_.delete(),this._widgets.delete(A)}getResponse(y){var _;return(null===(_=this._widgets.get(y||pr))||void 0===_?void 0:_.getResponse())||""}execute(y){var _=this;return(0,g.Z)(function*(){var A;return null===(A=_._widgets.get(y||pr))||void 0===A||A.execute(),""})()}}class Jl{constructor(y,_,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof y?document.getElementById(y):y;Y(J,"argument-error",{appName:_}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hl(T){const y=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<T;A++)y.push(_.charAt(Math.floor(Math.random()*_.length)));return y.join("")}(50);const{callback:y,"expired-callback":_}=this.params;if(y)try{y(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xl=eo("rcb"),As=new q(3e4,6e4);class Jo{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(y=Hi().grecaptcha)||void 0===y?void 0:y.render)}load(y,_=""){return Y(function Ol(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(_),y,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Hi().grecaptcha):new Promise((A,J)=>{const pe=Hi().setTimeout(()=>{J(me(y,"network-request-failed"))},As.get());Hi()[Xl]=()=>{Hi().clearTimeout(pe),delete Hi()[Xl];const Kt=Hi().grecaptcha;if(!Kt)return void J(me(y,"internal-error"));const nn=Kt.render;Kt.render=(sn,ai)=>{const mi=nn(sn,ai);return this.counter++,mi},this.hostLanguage=_,A(Kt)},xo(`https://www.google.com/recaptcha/api.js??${(0,h.xO)({onload:Xl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(pe),J(me(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var _;return!!(null===(_=Hi().grecaptcha)||void 0===_?void 0:_.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mr{load(y){return(0,g.Z)(function*(){return new xl(y)})()}clearedOneInstance(){}}const Cu="recaptcha",Cs={theme:"light",type:"image"};class sr{constructor(y,_=Object.assign({},Cs),A){this.parameters=_,this.type=Cu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zt(A),this.isInvisible="invisible"===this.parameters.size,Y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof y?document.getElementById(y):y;Y(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mr:new Jo,this.validateStartingState()}verify(){var y=this;return(0,g.Z)(function*(){y.assertNotDestroyed();const _=yield y.render(),A=y.getAssertedRecaptcha();return A.getResponse(_)||new Promise(pe=>{const rt=Kt=>{!Kt||(y.tokenChangeListeners.delete(rt),pe(Kt))};y.tokenChangeListeners.add(rt),y.isInvisible&&A.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return _=>{if(this.tokenChangeListeners.forEach(A=>A(_)),"function"==typeof y)y(_);else if("string"==typeof y){const A=Hi()[y];"function"==typeof A&&A(_)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,g.Z)(function*(){if(yield y.init(),!y.widgetId){let _=y.container;if(!y.isInvisible){const A=document.createElement("div");_.appendChild(A),_=A}y.widgetId=y.getAssertedRecaptcha().render(_,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,g.Z)(function*(){Y(Rt()&&!Ki(),y.auth,"internal-error"),yield function oh(){let T=null;return new Promise(y=>{"complete"!==document.readyState?(T=()=>y(),window.addEventListener("load",T)):y()}).catch(y=>{throw T&&window.removeEventListener("load",T),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const _=yield function mt(T){return Er.apply(this,arguments)}(y.auth);Y(_,y.auth,"internal-error"),y.parameters.sitekey=_})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ns{constructor(y,_){this.verificationId=y,this.onConfirmation=_}confirm(y){const _=gs._fromVerification(this.verificationId,y);return this.onConfirmation(_)}}function Xo(T,y,_){return wr.apply(this,arguments)}function wr(){return(wr=(0,g.Z)(function*(T,y,_){const A=zt(T),J=yield Tr(A,y,(0,h.m9)(_));return new Ns(J,pe=>Tn(A,pe))})).apply(this,arguments)}function Cr(T,y,_){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,g.Z)(function*(T,y,_){const A=(0,h.m9)(T);yield Q(!1,A,"phone");const J=yield Tr(A.auth,y,(0,h.m9)(_));return new Ns(J,pe=>si(A,pe))})).apply(this,arguments)}function Fa(T,y,_){return or.apply(this,arguments)}function or(){return(or=(0,g.Z)(function*(T,y,_){const A=(0,h.m9)(T),J=yield Tr(A.auth,y,(0,h.m9)(_));return new Ns(J,pe=>ri(A,pe))})).apply(this,arguments)}function Tr(T,y,_){return ks.apply(this,arguments)}function ks(){return(ks=(0,g.Z)(function*(T,y,_){var A;const J=yield _.verify();try{let pe;if(Y("string"==typeof J,T,"argument-error"),Y(_.type===Cu,T,"argument-error"),pe="string"==typeof y?{phoneNumber:y}:y,"session"in pe){const rt=pe.session;if("phoneNumber"in pe)return Y("enroll"===rt.type,T,"internal-error"),(yield Zi(T,{idToken:rt.credential,phoneEnrollmentInfo:{phoneNumber:pe.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{Y("signin"===rt.type,T,"internal-error");const Kt=(null===(A=pe.multiFactorHint)||void 0===A?void 0:A.uid)||pe.multiFactorUid;return Y(Kt,T,"missing-multi-factor-info"),(yield Rs(T,{mfaPendingCredential:rt.credential,mfaEnrollmentId:Kt,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:rt}=yield ao(T,{phoneNumber:pe.phoneNumber,recaptchaToken:J});return rt}}finally{_._reset()}})).apply(this,arguments)}function Tu(T,y){return ea.apply(this,arguments)}function ea(){return(ea=(0,g.Z)(function*(T,y){yield _i((0,h.m9)(T),y)})).apply(this,arguments)}let Qa=(()=>{class T{constructor(_){this.providerId=T.PROVIDER_ID,this.auth=zt(_)}verifyPhoneNumber(_,A){return Tr(this.auth,_,(0,h.m9)(A))}static credential(_,A){return gs._fromVerification(_,A)}static credentialFromResult(_){return T.credentialFromTaggedObject(_)}static credentialFromError(_){return T.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:A,temporaryProof:J}=_;return A&&J?gs._fromTokenResponse(A,J):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function ds(T,y){return y?Ge(y):(Y(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class ta extends ni{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return zi(y,this._buildIdpRequest())}_linkToIdToken(y,_){return zi(y,this._buildIdpRequest(_))}_getReauthenticationResolver(y){return zi(y,this._buildIdpRequest())}_buildIdpRequest(y){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(_.idToken=y),_}}function Ja(T){return Ct(T.auth,new ta(T),T.bypassAuthState)}function Du(T){const{auth:y,user:_}=T;return Y(_,y,"internal-error"),le(_,new ta(T),T.bypassAuthState)}function na(T){return va.apply(this,arguments)}function va(){return(va=(0,g.Z)(function*(T){const{auth:y,user:_}=T;return Y(_,y,"internal-error"),_i(_,new ta(T),T.bypassAuthState)})).apply(this,arguments)}class Rr{constructor(y,_,A,J,pe=!1){this.auth=y,this.resolver=A,this.user=J,this.bypassAuthState=pe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var y=this;return new Promise(function(){var _=(0,g.Z)(function*(A,J){y.pendingPromise={resolve:A,reject:J};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(pe){y.reject(pe)}});return function(A,J){return _.apply(this,arguments)}}())}onAuthEvent(y){var _=this;return(0,g.Z)(function*(){const{urlResponse:A,sessionId:J,postBody:pe,tenantId:rt,error:Kt,type:nn}=y;if(Kt)return void _.reject(Kt);const sn={auth:_.auth,requestUri:A,sessionId:J,tenantId:rt||void 0,postBody:pe||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(nn)(sn))}catch(ai){_.reject(ai)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Ja;case"linkViaPopup":case"linkViaRedirect":return na;case"reauthViaPopup":case"reauthViaRedirect":return Du;default:ft(this.auth,"internal-error")}}resolve(y){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Oo=new q(2e3,1e4);function _a(T,y,_){return ba.apply(this,arguments)}function ba(){return(ba=(0,g.Z)(function*(T,y,_){const A=zt(T);et(T,y,Ds);const J=ds(A,_);return new Xa(A,"signInViaPopup",y,J).executeNotNull()})).apply(this,arguments)}function Iu(T,y,_){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,g.Z)(function*(T,y,_){const A=(0,h.m9)(T);et(A.auth,y,Ds);const J=ds(A.auth,_);return new Xa(A.auth,"reauthViaPopup",y,J,A).executeNotNull()})).apply(this,arguments)}function eu(T,y,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,g.Z)(function*(T,y,_){const A=(0,h.m9)(T);et(A.auth,y,Ds);const J=ds(A.auth,_);return new Xa(A.auth,"linkViaPopup",y,J,A).executeNotNull()})).apply(this,arguments)}let Xa=(()=>{class T extends Rr{constructor(_,A,J,pe,rt){super(_,A,pe,rt),this.provider=J,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var _=this;return(0,g.Z)(function*(){const A=yield _.execute();return Y(A,_.auth,"internal-error"),A})()}onExecution(){var _=this;return(0,g.Z)(function*(){tt(1===_.filter.length,"Popup operations only handle one event");const A=ma();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],A),_.authWindow.associatedEvent=A,_.resolver._originValidation(_.auth).catch(J=>{_.reject(J)}),_.resolver._isIframeWebStorageSupported(_.auth,J=>{J||_.reject(me(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const _=()=>{var A,J;this.pollId=(null===(J=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===J?void 0:J.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Oo.get())};_()}}return T.currentPopupAction=null,T})();const Ea=new Map;class ia extends Rr{constructor(y,_,A=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var y=()=>super.execute,_=this;return(0,g.Z)(function*(){let A=Ea.get(_.auth._key());if(!A){try{const pe=(yield function fl(T,y){return el.apply(this,arguments)}(_.resolver,_.auth))?yield y().call(_):null;A=()=>Promise.resolve(pe)}catch(J){A=()=>Promise.reject(J)}Ea.set(_.auth._key(),A)}return _.bypassAuthState||Ea.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(y){var _=()=>super.onAuthEvent,A=this;return(0,g.Z)(function*(){if("signInViaRedirect"===y.type)return _().call(A,y);if("unknown"!==y.type){if(y.eventId){const J=yield A.auth._redirectUserForId(y.eventId);if(J)return A.user=J,_().call(A,y);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function el(){return(el=(0,g.Z)(function*(T,y){const _=B(y),A=R(T);if(!(yield A._isAvailable()))return!1;const J="true"===(yield A._get(_));return yield A._remove(_),J})).apply(this,arguments)}function wa(T,y){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,g.Z)(function*(T,y){return R(T)._set(B(y),"true")})).apply(this,arguments)}function tl(){Ea.clear()}function Yu(T,y){Ea.set(T._key(),y)}function R(T){return Ge(T._redirectPersistence)}function B(T){return fe("pendingRedirect",T.config.apiKey,T.name)}function oe(T,y,_){return function Te(T,y,_){return Je.apply(this,arguments)}(T,y,_)}function Je(){return(Je=(0,g.Z)(function*(T,y,_){const A=zt(T);et(T,y,Ds);const J=ds(A,_);return yield wa(J,A),J._openRedirect(A,y,"signInViaRedirect")})).apply(this,arguments)}function yt(T,y,_){return function Zt(T,y,_){return en.apply(this,arguments)}(T,y,_)}function en(){return(en=(0,g.Z)(function*(T,y,_){const A=(0,h.m9)(T);et(A.auth,y,Ds);const J=ds(A.auth,_);yield wa(J,A.auth);const pe=yield ra(A);return J._openRedirect(A.auth,y,"reauthViaRedirect",pe)})).apply(this,arguments)}function Nn(T,y,_){return function Xn(T,y,_){return $n.apply(this,arguments)}(T,y,_)}function $n(){return($n=(0,g.Z)(function*(T,y,_){const A=(0,h.m9)(T);et(A.auth,y,Ds);const J=ds(A.auth,_);yield Q(!1,A,y.providerId),yield wa(J,A.auth);const pe=yield ra(A);return J._openRedirect(A.auth,y,"linkViaRedirect",pe)})).apply(this,arguments)}function kn(T,y){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,g.Z)(function*(T,y){return yield zt(T)._initializationPromise,ki(T,y,!1)})).apply(this,arguments)}function ki(T,y){return pl.apply(this,arguments)}function pl(){return(pl=(0,g.Z)(function*(T,y,_=!1){const A=zt(T),J=ds(A,y),rt=yield new ia(A,J,_).execute();return rt&&!_&&(delete rt.user._redirectEventId,yield A._persistUserIfCurrent(rt.user),yield A._setRedirectUser(null,y)),rt})).apply(this,arguments)}function ra(T){return yo.apply(this,arguments)}function yo(){return(yo=(0,g.Z)(function*(T){const y=ma(`${T.uid}:::`);return T._redirectEventId=y,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),y})).apply(this,arguments)}class Va{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(y,A)&&(_=!0,this.sendToConsumer(y,A),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Mo(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sa(T);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=y,_=!0)),_}sendToConsumer(y,_){var A;if(y.error&&!sa(y)){const J=(null===(A=y.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(me(this.auth,J))}else _.onAuthEvent(y)}isEventForConsumer(y,_){const A=null===_.eventId||!!y.eventId&&y.eventId===_.eventId;return _.filter.includes(y.type)&&A}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gl(y))}saveEventToCache(y){this.cachedEventUids.add(gl(y)),this.lastProcessedEventTime=Date.now()}}function gl(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(y=>y).join("-")}function sa({type:T,error:y}){return"unknown"===T&&"auth/no-auth-event"===(null==y?void 0:y.code)}function Fs(T){return nl.apply(this,arguments)}function nl(){return(nl=(0,g.Z)(function*(T,y={}){return hn(T,"GET","/v1/projects",y)})).apply(this,arguments)}const dd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hd=/^https?/;function to(){return(to=(0,g.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:y}=yield Fs(T);for(const _ of y)try{if(fd(_))return}catch(A){}ft(T,"unauthorized-domain")})).apply(this,arguments)}function fd(T){const y=it(),{protocol:_,hostname:A}=new URL(y);if(T.startsWith("chrome-extension://")){const rt=new URL(T);return""===rt.hostname&&""===A?"chrome-extension:"===_&&T.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===_&&rt.hostname===A}if(!hd.test(_))return!1;if(dd.test(T))return A===T;const J=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(A)}const Su=new q(3e4,6e4);function Qu(){const T=Hi().___jsl;if(null==T?void 0:T.H)for(const y of Object.keys(T.H))if(T.H[y].r=T.H[y].r||[],T.H[y].L=T.H[y].L||[],T.H[y].r=[...T.H[y].L],T.CP)for(let _=0;_<T.CP.length;_++)T.CP[_]=null}let tu=null;function Xu(T){return tu=tu||function Ju(T){return new Promise((y,_)=>{var A,J,pe;function rt(){Qu(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Qu(),_(me(T,"network-request-failed"))},timeout:Su.get()})}if(null===(J=null===(A=Hi().gapi)||void 0===A?void 0:A.iframes)||void 0===J?void 0:J.Iframe)y(gapi.iframes.getContext());else{if(!(null===(pe=Hi().gapi)||void 0===pe?void 0:pe.load)){const Kt=eo("iframefcb");return Hi()[Kt]=()=>{gapi.load?rt():_(me(T,"network-request-failed"))},xo(`https://apis.google.com/js/api.js?onload=${Kt}`).catch(nn=>_(nn))}rt()}}).catch(y=>{throw tu=null,y})}(T),tu}const nu=new q(5e3,15e3),ml={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ns=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ic(T){const y=T.config;Y(y.authDomain,T,"auth-domain-config-required");const _=y.emulator?Se(y,"emulator/auth/iframe"):`https://${T.config.authDomain}/__/auth/iframe`,A={apiKey:y.apiKey,appName:T.name,v:W.SDK_VERSION},J=ns.get(T.config.apiHost);J&&(A.eid=J);const pe=T._getFrameworks();return pe.length&&(A.fw=pe.join(",")),`${_}?${(0,h.xO)(A).slice(1)}`}function Ac(){return Ac=(0,g.Z)(function*(T){const y=yield Xu(T),_=Hi().gapi;return Y(_,T,"internal-error"),y.open({where:document.body,url:Ic(T),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ml,dontclear:!0},A=>new Promise(function(){var J=(0,g.Z)(function*(pe,rt){yield A.restyle({setHideOnLeave:!1});const Kt=me(T,"network-request-failed"),nn=Hi().setTimeout(()=>{rt(Kt)},nu.get());function sn(){Hi().clearTimeout(nn),pe(A)}A.ping(sn).then(sn,()=>{rt(Kt)})});return function(pe,rt){return J.apply(this,arguments)}}()))}),Ac.apply(this,arguments)}const Ua={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ts{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function Ca(T,y,_,A,J,pe){Y(T.config.authDomain,T,"auth-domain-config-required"),Y(T.config.apiKey,T,"invalid-api-key");const rt={apiKey:T.config.apiKey,appName:T.name,authType:_,redirectUrl:A,v:W.SDK_VERSION,eventId:J};if(y instanceof Ds){y.setDefaultLanguage(T.languageCode),rt.providerId=y.providerId||"",(0,h.xb)(y.getCustomParameters())||(rt.customParameters=JSON.stringify(y.getCustomParameters()));for(const[nn,sn]of Object.entries(pe||{}))rt[nn]=sn}if(y instanceof Ln){const nn=y.getScopes().filter(sn=>""!==sn);nn.length>0&&(rt.scopes=nn.join(","))}T.tenantId&&(rt.tid=T.tenantId);const Kt=rt;for(const nn of Object.keys(Kt))void 0===Kt[nn]&&delete Kt[nn];return`${function oa({config:T}){return T.emulator?Se(T,"emulator/auth/handler"):`https://${T.authDomain}/__/auth/handler`}(T)}?${(0,h.xO)(Kt).slice(1)}`}const qi="webStorageSupport",Ba=class ec{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ga,this._completeRedirectFn=ki,this._overrideRedirectResult=Yu}_openPopup(y,_,A,J){var pe=this;return(0,g.Z)(function*(){var rt;tt(null===(rt=pe.eventManagers[y._key()])||void 0===rt?void 0:rt.manager,"_initialize() not called before _openPopup()");const Kt=Ca(y,_,A,it(),J);return function pd(T,y,_,A=500,J=600){const pe=Math.max((window.screen.availHeight-J)/2,0).toString(),rt=Math.max((window.screen.availWidth-A)/2,0).toString();let Kt="";const nn=Object.assign(Object.assign({},Ua),{width:A.toString(),height:J.toString(),top:pe,left:rt}),sn=(0,h.z$)().toLowerCase();_&&(Kt=te(sn)?"_blank":_),ee(sn)&&(y=y||"http://localhost",nn.scrollbars="yes");const ai=Object.entries(nn).reduce((Vs,[aa,hs])=>`${Vs}${aa}=${hs},`,"");if(function fn(T=(0,h.z$)()){var y;return Nt(T)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(sn)&&"_self"!==Kt)return function ah(T,y){const _=document.createElement("a");_.href=T,_.target=y;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(y||"",Kt),new Ts(null);const mi=window.open(y||"",Kt,ai);Y(mi,T,"popup-blocked");try{mi.focus()}catch(Vs){}return new Ts(mi)}(y,Kt,ma())})()}_openRedirect(y,_,A,J){var pe=this;return(0,g.Z)(function*(){return yield pe._originValidation(y),function Zn(T){Hi().location.href=T}(Ca(y,_,A,it(),J)),new Promise(()=>{})})()}_initialize(y){const _=y._key();if(this.eventManagers[_]){const{manager:J,promise:pe}=this.eventManagers[_];return J?Promise.resolve(J):(tt(pe,"If manager is not set, promise should be"),pe)}const A=this.initAndGetManager(y);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(y){var _=this;return(0,g.Z)(function*(){const A=yield function Po(T){return Ac.apply(this,arguments)}(y),J=new Va(y);return A.register("authEvent",pe=>(Y(null==pe?void 0:pe.authEvent,y,"invalid-auth-event"),{status:J.onEvent(pe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[y._key()]={manager:J},_.iframes[y._key()]=A,J})()}_isIframeWebStorageSupported(y,_){this.iframes[y._key()].send(qi,{type:qi},J=>{var pe;const rt=null===(pe=null==J?void 0:J[0])||void 0===pe?void 0:pe[qi];void 0!==rt&&_(!!rt),ft(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const _=y._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Pl(T){return to.apply(this,arguments)}(y)),this.originValidationPromises[_]}get _shouldInitProactively(){return yi()||$()||Nt()}};class xc extends class md{constructor(y){this.factorId=y}_process(y,_,A){switch(_.type){case"enroll":return this._finalizeEnroll(y,_.credential,A);case"signin":return this._finalizeSignIn(y,_.credential);default:return qe("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new xc(y)}_finalizeEnroll(y,_,A){return function Ao(T,y){return hn(T,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(T,y))}(y,{idToken:_,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,_){return function La(T,y){return hn(T,"POST","/v2/accounts/mfaSignIn:finalize",Xt(T,y))}(y,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ou=(()=>{class T{constructor(){}static assertion(_){return xc._fromCredential(_)}}return T.FACTOR_ID="phone",T})();var tc="@firebase/auth",yd="0.20.11";class Nr{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var _=this;return(0,g.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const _=this.auth.onIdTokenChanged(A=>{var J;y((null===(J=A)||void 0===J?void 0:J.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,_),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const _=this.internalListeners.get(y);!_||(this.internalListeners.delete(y),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,h.Pz)("authIdTokenMaxAge"),function ic(T){(0,W._registerComponent)(new Re.wA("auth",(y,{options:_})=>{const A=y.getProvider("app").getImmediate(),J=y.getProvider("heartbeat"),{apiKey:pe,authDomain:rt}=A.options;return((Kt,nn)=>{Y(pe&&!pe.includes(":"),"invalid-api-key",{appName:Kt.name}),Y(!(null==rt?void 0:rt.includes(":")),"argument-error",{appName:Kt.name});const sn={apiKey:pe,authDomain:rt,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Di(T)},ai=new Ii(Kt,nn,sn);return function ot(T,y){const _=(null==y?void 0:y.persistence)||[],A=(Array.isArray(_)?_:[_]).map(Ge);(null==y?void 0:y.errorMap)&&T._updateErrorMap(y.errorMap),T._initializeWithPersistence(A,null==y?void 0:y.popupRedirectResolver)}(ai,_),ai})(A,J)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,_,A)=>{y.getProvider("auth-internal").initialize()})),(0,W._registerComponent)(new Re.wA("auth-internal",y=>{const _=zt(y.getProvider("auth").getImmediate());return new Nr(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,W.registerVersion)(tc,yd,function nc(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(T)),(0,W.registerVersion)(tc,yd,"esm2017")}("Browser")},5525:(qt,Ze,x)=>{x.d(Ze,{u7:()=>Mm,Jj:()=>_u,IX:()=>vm,my:()=>Lr,xU:()=>cd,Lz:()=>bu,WA:()=>jt,F8:()=>ad,$q:()=>rh,W:()=>ua,EK:()=>Ti,PU:()=>ff,l7:()=>ds,Ky:()=>V,Xb:()=>F,Cf:()=>Vi,K9:()=>So,Me:()=>wr,yq:()=>Zi,Wi:()=>Ho,ET:()=>qy,Ab:()=>Bm,vr:()=>Um,Fc:()=>Em,hJ:()=>Qd,B$:()=>om,at:()=>sd,oe:()=>Rm,AK:()=>Fm,TF:()=>ag,JU:()=>Xp,ST:()=>bm,fH:()=>ky,Ix:()=>e_,Wu:()=>$y,Lx:()=>nh,qY:()=>Os,GL:()=>Zu,QT:()=>Pm,kl:()=>Gy,Xk:()=>zy,PL:()=>Wy,UQ:()=>Zy,zN:()=>Cg,nP:()=>Hm,b9:()=>By,vh:()=>Hy,Pb:()=>n_,L$:()=>nf,cf:()=>Nm,sc:()=>km,Xo:()=>so,IO:()=>Fy,iE:()=>Jf,Eo:()=>am,i3:()=>Lm,Bt:()=>Vm,pl:()=>hf,Ub:()=>Es,qK:()=>Zl,TQ:()=>Sm,e0:()=>jy,r7:()=>Ky,Mx:()=>og,ar:()=>Am});var ce,g=x(5861),h=x(9681),W=x(4859),De=x(1877),_e=x(2090),Re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ce={},X=X||{},ne=Re||self;function ue(){}function Ne(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function ut(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var dt="closure_uid_"+(1e9*Math.random()>>>0),ct=0;function Qe(r,e,t){return r.call.apply(r.bind,arguments)}function st(r,e,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),r.apply(e,c)}}return function(){return r.apply(e,arguments)}}function Ue(r,e,t){return(Ue=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qe:st).apply(null,arguments)}function ft(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function me(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(o,c,p){for(var b=Array(arguments.length-2),S=2;S<arguments.length;S++)b[S-2]=arguments[S];return e.prototype[c].apply(o,b)}}function we(){this.s=this.s,this.o=this.o}we.prototype.s=!1,we.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function nt(r){Object.prototype.hasOwnProperty.call(r,dt)&&r[dt]||(r[dt]=++ct)}(this)},we.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Y(r){const e=r.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=r[o];return t}return[]}function qe(r,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Ne(o)){const c=r.length||0,p=o.length||0;r.length=c+p;for(let b=0;b<p;b++)r[c+b]=o[b]}else r.push(o)}}function tt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ne.addEventListener("test",ue,e),ne.removeEventListener("test",ue,e)}catch(t){}return r}();function Ge(r){return/^[\s\xa0]*$/.test(r)}var Xe=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function ot(r,e){return r<e?-1:r>e?1:0}function it(){var r=ne.navigator;return r&&(r=r.userAgent)?r:""}function Rt(r){return-1!=it().indexOf(r)}function on(r){return on[" "](r),r}on[" "]=ue;var hn,r,vt=Rt("Opera"),q=Rt("Trident")||Rt("MSIE"),Se=Rt("Edge"),Ke=Se||q,Mt=Rt("Gecko")&&!(-1!=it().toLowerCase().indexOf("webkit")&&!Rt("Edge"))&&!(Rt("Trident")||Rt("MSIE"))&&!Rt("Edge"),$t=-1!=it().toLowerCase().indexOf("webkit")&&!Rt("Edge");function Xt(){var r=ne.document;return r?r.documentMode:void 0}e:{var Sn="",Wn=(r=it(),Mt?/rv:([^\);]+)(\)|;)/.exec(r):Se?/Edge\/([\d\.]+)/.exec(r):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):$t?/WebKit\/(\S+)/.exec(r):vt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Wn&&(Sn=Wn?Wn[1]:""),q){var ui=Xt();if(null!=ui&&ui>parseFloat(Sn)){hn=String(ui);break e}}hn=Sn}var qn={};var Yn=ne.document&&q&&(Xt()||parseInt(hn,10))||void 0;function Ui(r,e){if(tt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Mt){e:{try{on(e.nodeName);var c=!0;break e}catch(p){}c=!1}c||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:un[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Ui.X.h.call(this)}}me(Ui,tt);var un={2:"touch",3:"pen",4:"mouse"};Ui.prototype.h=function(){Ui.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Pi="closure_listenable_"+(1e6*Math.random()|0),Qn=0;function Jt(r,e,t,o,c){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=c,this.key=++Qn,this.ba=this.ea=!1}function Ri(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function ci(r,e,t){for(const o in r)e.call(t,r[o],o,r)}function It(r){const e={};for(const t in r)e[t]=r[t];return e}const ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $e(r,e){let t,o;for(let c=1;c<arguments.length;c++){for(t in o=arguments[c],o)r[t]=o[t];for(let p=0;p<ke.length;p++)t=ke[p],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function Lt(r){this.src=r,this.g={},this.h=0}function wt(r,e){var t=e.type;if(t in r.g){var p,o=r.g[t],c=Tt(o,e);(p=0<=c)&&Array.prototype.splice.call(o,c,1),p&&(Ri(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Ft(r,e,t,o){for(var c=0;c<r.length;++c){var p=r[c];if(!p.ba&&p.listener==e&&p.capture==!!t&&p.ha==o)return c}return-1}Lt.prototype.add=function(r,e,t,o,c){var p=r.toString();(r=this.g[p])||(r=this.g[p]=[],this.h++);var b=Ft(r,e,o,c);return-1<b?(e=r[b],t||(e.ea=!1)):((e=new Jt(e,this.src,p,!!o,c)).ea=t,r.push(e)),e};var Gt="closure_lm_"+(1e6*Math.random()|0),Pe={};function xe(r,e,t,o,c){if(o&&o.once)return _t(r,e,t,o,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)xe(r,e[p],t,o,c);return null}return t=he(t),r&&r[Pi]?r.N(e,t,ut(o)?!!o.capture:!!o,c):Ee(r,e,t,!1,o,c)}function Ee(r,e,t,o,c,p){if(!e)throw Error("Invalid event type");var b=ut(c)?!!c.capture:!!c,S=ln(r);if(S||(r[Gt]=S=new Lt(r)),(t=S.add(e,t,o,b,p)).proxy)return t;if(o=function We(){const e=bn;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)Le||(c=b),void 0===c&&(c=!1),r.addEventListener(e.toString(),o,c);else if(r.attachEvent)r.attachEvent(mn(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function _t(r,e,t,o,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)_t(r,e[p],t,o,c);return null}return t=he(t),r&&r[Pi]?r.O(e,t,ut(o)?!!o.capture:!!o,c):Ee(r,e,t,!0,o,c)}function Dt(r,e,t,o,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)Dt(r,e[p],t,o,c);else o=ut(o)?!!o.capture:!!o,t=he(t),r&&r[Pi]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Ft(p=r.g[e],t,o,c))&&(Ri(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete r.g[e],r.h--))):r&&(r=ln(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Ft(e,t,o,c)),(t=-1<r?e[r]:null)&&Et(t))}function Et(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[Pi])wt(e.i,r);else{var t=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(t,o,r.capture):e.detachEvent?e.detachEvent(mn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=ln(e))?(wt(t,r),0==t.h&&(t.src=null,e[Gt]=null)):Ri(r)}}}function mn(r){return r in Pe?Pe[r]:Pe[r]="on"+r}function bn(r,e){if(r.ba)r=!0;else{e=new Ui(e,this);var t=r.listener,o=r.ha||r.src;r.ea&&Et(r),r=t.call(o,e)}return r}function ln(r){return(r=r[Gt])instanceof Lt?r:null}var z="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(r){return"function"==typeof r?r:(r[z]||(r[z]=function(e){return r.handleEvent(e)}),r[z])}function be(){we.call(this),this.i=new Lt(this),this.P=this,this.I=null}function Fe(r,e){var t,o=r.I;if(o)for(t=[];o;o=o.I)t.push(o);if(r=r.P,o=e.type||e,"string"==typeof e)e=new tt(e,r);else if(e instanceof tt)e.target=e.target||r;else{var c=e;$e(e=new tt(o,r),c)}if(c=!0,t)for(var p=t.length-1;0<=p;p--){var b=e.g=t[p];c=gt(b,o,!0,e)&&c}if(c=gt(b=e.g=r,o,!0,e)&&c,c=gt(b,o,!1,e)&&c,t)for(p=0;p<t.length;p++)c=gt(b=e.g=t[p],o,!1,e)&&c}function gt(r,e,t,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var b=e[p];if(b&&!b.ba&&b.capture==t){var S=b.listener,j=b.ha||b.src;b.ea&&wt(r.i,b),c=!1!==S.call(j,o)&&c}}return c&&!o.defaultPrevented}me(be,we),be.prototype[Pi]=!0,be.prototype.removeEventListener=function(r,e,t,o){Dt(this,r,e,t,o)},be.prototype.M=function(){if(be.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],o=0;o<t.length;o++)Ri(t[o]);delete r.g[e],r.h--}}this.I=null},be.prototype.N=function(r,e,t,o){return this.i.add(String(r),e,!1,t,o)},be.prototype.O=function(r,e,t,o){return this.i.add(String(r),e,!0,t,o)};var St=ne.JSON.stringify;function de(){var r=Ye;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var te,Me=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new ve,r=>r.reset());class ve{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ee(r){ne.setTimeout(()=>{throw r},0)}function $(r,e){te||function re(){var r=ne.Promise.resolve(void 0);te=function(){r.then(Pt)}}(),Ae||(te(),Ae=!0),Ye.add(r,e)}var Ae=!1,Ye=new class fe{constructor(){this.h=this.g=null}add(e,t){const o=Me.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Pt(){for(var r;r=de();){try{r.h.call(r.g)}catch(t){ee(t)}var e=Me;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Ae=!1}function Nt(r,e){be.call(this),this.h=r||1,this.g=e||ne,this.j=Ue(this.lb,this),this.l=Date.now()}function yn(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function fn(r,e,t){if("function"==typeof r)t&&(r=Ue(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ue(r.handleEvent,r)}return 2147483647<Number(e)?-1:ne.setTimeout(r,e||0)}function En(r){r.g=fn(()=>{r.g=null,r.i&&(r.i=!1,En(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}me(Nt,be),(ce=Nt.prototype).ca=!1,ce.R=null,ce.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Fe(this,"tick"),this.ca&&(yn(this),this.start()))}},ce.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){Nt.X.M.call(this),yn(this),delete this.g};class yi extends we{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:En(this)}M(){super.M(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(r){we.call(this),this.h=r,this.g={}}me(Ei,we);var Di=[];function Sr(r,e,t,o){Array.isArray(t)||(t&&(Di[0]=t.toString()),t=Di);for(var c=0;c<t.length;c++){var p=xe(e,t[c],o||r.handleEvent,!1,r.h||r);if(!p)break;r.g[p.key]=p}}function Ii(r){ci(r.g,function(e,t){this.g.hasOwnProperty(t)&&Et(e)},r),r.g={}}function zt(){this.g=!0}function ji(r,e,t,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $i(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var b=1;b<c.length;b++)c[b]=""}}}return St(t)}catch(S){return e}}(r,t)+(o?" "+o:"")})}Ei.prototype.M=function(){Ei.X.M.call(this),Ii(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zt.prototype.Aa=function(){this.g=!1},zt.prototype.info=function(){};var nr={},ni=null;function yr(){return ni=ni||new be}function pi(r){tt.call(this,nr.Pa,r)}function Mn(r){const e=yr();Fe(e,new pi(e))}function qr(r,e){tt.call(this,nr.STAT_EVENT,r),this.stat=e}function Gi(r){const e=yr();Fe(e,new qr(e,r))}function js(r,e){tt.call(this,nr.Qa,r),this.size=e}function ir(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){r()},e)}nr.Pa="serverreachability",me(pi,tt),nr.STAT_EVENT="statevent",me(qr,tt),nr.Qa="timingevent",me(js,tt);var Bi={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},fs={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ss(){}function fi(){}ss.prototype.h=null;var Ji,cn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function os(){tt.call(this,"d")}function Ot(){tt.call(this,"c")}function vi(){}function as(r,e,t,o){this.l=r,this.j=e,this.m=t,this.U=o||1,this.S=new Ei(this),this.O=lr,this.T=new Nt(r=Ke?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ls}function ls(){this.i=null,this.g="",this.h=!1}me(os,tt),me(Ot,tt),me(vi,ss),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},Ji=new vi;var lr=45e3,ps={},Or={};function $s(r,e,t){r.K=1,r.v=ms(ur(e)),r.s=t,r.P=!0,zi(r,null)}function zi(r,e){r.F=Date.now(),ao(r),r.A=ur(r.v);var t=r.A,o=r.U;Array.isArray(o)||(o=[String(o)]),fa(t.i,"t",o),r.C=0,t=r.l.H,r.h=new ls,r.g=ul(r.l,t?e:null,!r.s),0<r.N&&(r.L=new yi(Ue(r.La,r,r.g),r.N)),Sr(r.S,r.g,"readystatechange",r.ib),e=r.H?It(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),Mn(),function Hn(r,e,t,o,c,p){r.info(function(){if(r.g)if(p)for(var b="",S=p.split("&"),j=0;j<S.length;j++){var Z=S[j].split("=");if(1<Z.length){var ge=Z[0];Z=Z[1];var Be=ge.split("_");b=2<=Be.length&&"type"==Be[1]?b+(ge+"=")+Z+"&":b+(ge+"=redacted&")}}else b=null;else b=p;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+e+"\n"+t+"\n"+b})}(r.j,r.u,r.A,r.m,r.U,r.s)}function Gs(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function ca(r,e,t){let c,o=!0;for(;!r.I&&r.C<t.length;){if(c=us(r,t),c==Or){4==e&&(r.o=4,Gi(14),o=!1),ji(r.j,r.m,null,"[Incomplete Response]");break}if(c==ps){r.o=4,Gi(15),ji(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}ji(r.j,r.m,c,null),Ms(r,c)}Gs(r)&&c!=Or&&c!=ps&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Gi(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Xr(e),e.K=!0,Gi(11))):(ji(r.j,r.m,t,"[Invalid Chunked Response]"),vr(r),Yr(r))}function us(r,e){var t=r.C,o=e.indexOf("\n",t);return-1==o?Or:(t=Number(e.substring(t,o)),isNaN(t)?ps:(o+=1)+t>e.length?Or:(e=e.substr(o,t),r.C=o+t,e))}function ao(r){r.V=Date.now()+r.O,lo(r,r.O)}function lo(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ir(Ue(r.gb,r),e)}function da(r){r.B&&(ne.clearTimeout(r.B),r.B=null)}function Yr(r){0==r.l.G||r.I||co(r.l,r)}function vr(r){da(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,yn(r.T),Ii(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function Ms(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||U(t.h,r)))if(!r.J&&U(t.h,r)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch(Z){o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0])e:if(t.u)t.Ba=c[1],0<t.Ba-t.T&&37500>c[2]&&t.L&&0==t.A&&!t.v&&(t.v=ir(Ue(t.cb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<r.F))break e;pa(t),Pa(t)}uo(t),Gi(18)}if(1>=_i(t.h)&&t.ja){try{t.ja()}catch(Z){}t.ja=void 0}}else rr(t,11)}else if((r.J||t.g==r)&&pa(t),!Ge(e))for(c=t.Fa.g.parse(e),e=0;e<c.length;e++){let Z=c[e];if(t.T=Z[0],Z=Z[1],2==t.G)if("c"==Z[0]){t.I=Z[1],t.ka=Z[2];const ge=Z[3];null!=ge&&(t.ma=ge,t.j.info("VER="+t.ma));const Be=Z[4];null!=Be&&(t.Ca=Be,t.j.info("SVER="+t.Ca));const ht=Z[5];null!=ht&&"number"==typeof ht&&0<ht&&(t.J=o=1.5*ht,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Vt=r.g;if(Vt){const Yt=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yt){var p=o.h;p.g||-1==Yt.indexOf("spdy")&&-1==Yt.indexOf("quic")&&-1==Yt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(Q(p,p.h),p.h=null))}if(o.D){const _n=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;_n&&(o.za=_n,Ln(o.F,o.D,_n))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var b=r;if((o=t).sa=ho(o,o.H?o.ka:null,o.V),b.J){L(o.h,b);var S=b,j=o.J;j&&S.setTimeout(j),S.B&&(da(S),ao(S)),o.g=b}else qs(o);0<t.i.length&&Dl(t)}else"stop"!=Z[0]&&"close"!=Z[0]||rr(t,7);else 3==t.G&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?rr(t,7):Ps(t):"noop"!=Z[0]&&t.l&&t.l.wa(Z),t.A=0)}Mn()}catch(Z){}}function $o(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Ne(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function xa(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if("undefined"!=typeof Map&&r instanceof Map)return Array.from(r.keys());if(!("undefined"!=typeof Set&&r instanceof Set)){if(Ne(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const o in r)e[t++]=o;return e}}}(r),o=function Sa(r){if(r.W&&"function"==typeof r.W)return r.W();if("undefined"!=typeof Map&&r instanceof Map||"undefined"!=typeof Set&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Ne(r)){for(var e=[],t=r.length,o=0;o<t;o++)e.push(r[o]);return e}for(o in e=[],t=0,r)e[t++]=r[o];return e}(r),c=o.length,p=0;p<c;p++)e.call(void 0,o[p],t&&t[p],r)}(ce=as.prototype).setTimeout=function(r){this.O=r},ce.ib=function(r){r=r.target;const e=this.L;e&&3==Bt(r)?e.l():this.La(r)},ce.La=function(r){try{if(r==this.g)e:{const ge=Bt(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ge)&&(3!=ge||Ke||this.g&&(this.h.h||this.g.fa()||oi(this.g)))){this.I||4!=ge||7==e||Mn(),da(this);var t=this.g.aa();this.Y=t;t:if(Gs(this)){var o=oi(this.g);r="";var c=o.length,p=4==Bt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){vr(this),Yr(this);var b="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:p&&e==c-1});o.splice(0,c),this.h.g+=r,this.C=0,b=this.h.g}else b=this.g.fa();if(this.i=200==t,function di(r,e,t,o,c,p,b){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+p+" "+b})}(this.j,this.u,this.A,this.m,this.U,ge,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ge(S)){var Z=S;break t}}Z=null}if(!(t=Z)){this.i=!1,this.o=3,Gi(12),vr(this),Yr(this);break e}ji(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ms(this,t)}this.P?(ca(this,ge,b),Ke&&this.i&&3==ge&&(Sr(this.S,this.T,"tick",this.hb),this.T.start())):(ji(this.j,this.m,b,null),Ms(this,b)),4==ge&&vr(this),this.i&&!this.I&&(4==ge?co(this.l,this):(this.i=!1,ao(this)))}else 400==t&&0<b.indexOf("Unknown SID")?(this.o=3,Gi(12)):(this.o=0,Gi(13)),vr(this),Yr(this)}}}catch(ge){}},ce.hb=function(){if(this.g){var r=Bt(this.g),e=this.g.fa();this.C<e.length&&(da(this),ca(this,r,e),this.i&&4!=r&&ao(this))}},ce.cancel=function(){this.I=!0,vr(this)},ce.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function xr(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Mn(),Gi(17)),vr(this),this.o=2,Yr(this)):lo(this,this.V-r)};var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zs(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof zs){this.h=void 0!==e?e:r.h,Go(this,r.j),this.s=r.s,this.g=r.g,_r(this,r.m),this.l=r.l,e=r.i;var t=new Ws;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ds(this,t),this.o=r.o}else r&&(t=String(r).match(gs))?(this.h=!!e,Go(this,t[1]||"",!0),this.s=Is(t[2]||""),this.g=Is(t[3]||"",!0),_r(this,t[4]),this.l=Is(t[5]||"",!0),Ds(this,t[6]||"",!0),this.o=Is(t[7]||"")):(this.h=!!e,this.i=new Ws(null,this.h))}function ur(r){return new zs(r)}function Go(r,e,t){r.j=t?Is(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function _r(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Ds(r,e,t){e instanceof Ws?(r.i=e,function Pr(r,e){e&&!r.j&&(wi(r),r.i=null,r.g.forEach(function(t,o){var c=o.toLowerCase();o!=c&&(br(this,o),fa(this,c,t))},r)),r.j=e}(r.i,r.h)):(t||(e=ys(e,Mr)),r.i=new Ws(e,r.h))}function Ln(r,e,t){r.i.set(e,t)}function ms(r){return Ln(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Is(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ys(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Ga),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Ga(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}zs.prototype.toString=function(){var r=[],e=this.j;e&&r.push(ys(e,zo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(ys(e,zo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(ys(t,"/"==t.charAt(0)?ha:Hr,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",ys(t,jr)),r.join("")};var zo=/[#\/\?@]/g,Hr=/[#\?:]/g,ha=/[#\?]/g,Mr=/[#\?@]/g,jr=/#/g;function Ws(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function wi(r){r.g||(r.g=new Map,r.h=0,r.i&&function $a(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),c=null;if(0<=o){var p=r[t].substring(0,o);c=r[t].substring(o+1)}else p=r[t];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function br(r,e){wi(r),e=Qr(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Wo(r,e){return wi(r),e=Qr(r,e),r.g.has(e)}function fa(r,e,t){br(r,e),0<t.length&&(r.i=null,r.g.set(Qr(r,e),Y(t)),r.h+=t.length)}function Qr(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Zs(r){this.l=r||$r,r=ne.PerformanceNavigationTiming?0<(r=ne.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ne.g&&ne.g.Ga&&ne.g.Ga()&&ne.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=Ws.prototype).add=function(r,e){wi(this),this.i=null,r=Qr(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ce.forEach=function(r,e){wi(this),this.g.forEach(function(t,o){t.forEach(function(c){r.call(e,c,o,this)},this)},this)},ce.oa=function(){wi(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const c=r[o];for(let p=0;p<c.length;p++)t.push(e[o])}return t},ce.W=function(r){wi(this);let e=[];if("string"==typeof r)Wo(this,r)&&(e=e.concat(this.g.get(Qr(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ce.set=function(r,e){return wi(this),this.i=null,Wo(this,r=Qr(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ce.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const p=encodeURIComponent(String(o)),b=this.W(o);for(o=0;o<b.length;o++){var c=p;""!==b[o]&&(c+="="+encodeURIComponent(String(b[o]))),r.push(c)}}return this.i=r.join("&")};var $r=10;function Ks(r){return!!r.h||!!r.g&&r.g.size>=r.j}function _i(r){return r.h?1:r.g?r.g.size:0}function U(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Q(r,e){r.g?r.g.add(e):r.h=e}function L(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function le(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return Y(r.i)}function je(){}function Ct(){this.g=new je}function Ut(r,e,t){const o=t||"";try{$o(r,function(c,p){let b=c;ut(c)&&(b=St(c)),e.push(o+p+"="+encodeURIComponent(b))})}catch(c){throw e.push(o+"type="+encodeURIComponent("_badmap")),c}}function Rn(r,e,t,o,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(o)}catch(p){}}function si(r){this.l=r.ac||null,this.j=r.jb||!1}function jn(r,e){be.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=ri,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zs.prototype.cancel=function(){if(this.i=le(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},je.prototype.stringify=function(r){return ne.JSON.stringify(r,void 0)},je.prototype.parse=function(r){return ne.JSON.parse(r,void 0)},me(si,ss),si.prototype.g=function(){return new jn(this.l,this.j)},si.prototype.i=function(r){return function(){return r}}({}),me(jn,be);var ri=0;function Wi(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function xi(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Ai(r)}function Ai(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ce=jn.prototype).open=function(r,e){if(this.readyState!=ri)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Ai(this)},ce.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||ne).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xi(this)),this.readyState=ri},ce.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==ne.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wi(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},ce.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?xi(this):Ai(this),3==this.readyState&&Wi(this)}},ce.Va=function(r){this.g&&(this.response=this.responseText=r,xi(this))},ce.Ua=function(r){this.g&&(this.response=r,xi(this))},ce.ga=function(){this.g&&xi(this)},ce.setRequestHeader=function(r,e){this.v.append(r,e)},ce.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(jn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var H=ne.JSON.parse;function N(r){be.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=M,this.K=this.L=!1}me(N,be);var M="",se=/^https?$/i,At=["POST","PUT"];function Ci(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,vs(r),Zo(r)}function vs(r){r.D||(r.D=!0,Fe(r,"complete"),Fe(r,"error"))}function Jr(r){if(r.h&&void 0!==X&&(!r.C[1]||4!=Bt(r)||2!=r.aa()))if(r.v&&4==Bt(r))fn(r.Ha,0,r);else if(Fe(r,"readystatechange"),4==Bt(r)){r.h=!1;try{const S=r.aa();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===S){var c=String(r.H).match(gs)[1]||null;if(!c&&ne.self&&ne.self.location){var p=ne.self.location.protocol;c=p.substr(0,p.length-1)}o=!se.test(c?c.toLowerCase():"")}t=o}if(t)Fe(r,"complete"),Fe(r,"success");else{r.m=6;try{var b=2<Bt(r)?r.g.statusText:""}catch(j){b=""}r.j=b+" ["+r.aa()+"]",vs(r)}}finally{Zo(r)}}}function Zo(r,e){if(r.g){Oa(r);const t=r.g,o=r.C[0]?ue:null;r.g=null,r.C=null,e||Fe(r,"ready");try{t.onreadystatechange=o}catch(c){}}}function Oa(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(ne.clearTimeout(r.A),r.A=null)}function Bt(r){return r.g?r.g.readyState:0}function oi(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case M:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Tl(r){let e="";return ci(r,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Xi(r,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Tl(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Ln(r,e,t))}function Ma(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Co(r){this.Ca=0,this.i=[],this.j=new zt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ma("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ma("baseRetryDelayMs",5e3,r),this.bb=Ma("retryDelaySeedMs",1e4,r),this.$a=Ma("forwardChannelMaxRetries",2,r),this.ta=Ma("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new Zs(r&&r.concurrentRequestLimit),this.Fa=new Ct,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ps(r){if(Ra(r),3==r.G){var e=r.U++,t=ur(r.F);Ln(t,"SID",r.I),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),To(r,t),(e=new as(r,r.j,e,void 0)).K=2,e.v=ms(ur(t)),t=!1,ne.navigator&&ne.navigator.sendBeacon&&(t=ne.navigator.sendBeacon(e.v.toString(),"")),!t&&ne.Image&&((new Image).src=e.v,t=!0),t||(e.g=ul(e.l,null),e.g.da(e.v)),e.F=Date.now(),ao(e)}za(r)}function Pa(r){r.g&&(Xr(r),r.g.cancel(),r.g=null)}function Ra(r){Pa(r),r.u&&(ne.clearTimeout(r.u),r.u=null),pa(r),r.h.cancel(),r.m&&("number"==typeof r.m&&ne.clearTimeout(r.m),r.m=null)}function Dl(r){Ks(r.h)||r.m||(r.m=!0,$(r.Ja,r),r.C=0)}function Al(r,e){var t;t=e?e.m:r.U++;const o=ur(r.F);Ln(o,"SID",r.I),Ln(o,"RID",t),Ln(o,"AID",r.T),To(r,o),r.o&&r.s&&Xi(o,r.o,r.s),t=new as(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=Vr(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),Q(r.h,t),$s(t,o,e)}function To(r,e){r.ia&&ci(r.ia,function(t,o){Ln(e,o,t)}),r.l&&$o({},function(t,o){Ln(e,o,t)})}function Vr(r,e,t){t=Math.min(r.i.length,t);var o=r.l?Ue(r.l.Ra,r.l,r):null;e:{var c=r.i;let p=-1;for(;;){const b=["count="+t];-1==p?0<t?(p=c[0].h,b.push("ofs="+p)):p=0:b.push("ofs="+p);let S=!0;for(let j=0;j<t;j++){let Z=c[j].h;const ge=c[j].g;if(Z-=p,0>Z)p=Math.max(0,c[j].h-100),S=!1;else try{Ut(ge,b,"req"+Z+"_")}catch(Be){o&&o(ge)}}if(S){o=b.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,o}function qs(r){r.g||r.u||(r.Z=1,$(r.Ia,r),r.A=0)}function uo(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=ir(Ue(r.Ia,r),Na(r,r.A)),r.A++,0))}function Xr(r){null!=r.B&&(ne.clearTimeout(r.B),r.B=null)}function _s(r){r.g=new as(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=ur(r.sa);Ln(e,"RID","rpc"),Ln(e,"SID",r.I),Ln(e,"CI",r.L?"0":"1"),Ln(e,"AID",r.T),Ln(e,"TYPE","xmlhttp"),To(r,e),r.o&&r.s&&Xi(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=ms(ur(e)),t.s=null,t.P=!0,zi(t,r)}function pa(r){null!=r.v&&(ne.clearTimeout(r.v),r.v=null)}function co(r,e){var t=null;if(r.g==e){pa(r),Xr(r),r.g=null;var o=2}else{if(!U(r.h,e))return;t=e.D,L(r.h,e),o=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var c=r.C;Fe(o=yr(),new js(o,t)),Dl(r)}else qs(r);else if(3==(c=e.o)||0==c&&0<r.pa||!(1==o&&function Il(r,e){return!(_i(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=ir(Ue(r.Ja,r,e),Na(r,r.C)),r.C++,0)))}(r,e)||2==o&&uo(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),c){case 1:rr(r,5);break;case 4:rr(r,10);break;case 3:rr(r,6);break;default:rr(r,2)}}function Na(r,e){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*e}function rr(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var o=Ue(r.kb,r);t||(t=new zs("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||Go(t,"https"),ms(t)),function Tn(r,e){const t=new zt;if(ne.Image){const o=new Image;o.onload=ft(Rn,t,o,"TestLoadImage: loaded",!0,e),o.onerror=ft(Rn,t,o,"TestLoadImage: error",!1,e),o.onabort=ft(Rn,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=ft(Rn,t,o,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(t.toString(),o)}else Gi(2);r.G=0,r.l&&r.l.va(e),za(r),Ra(r)}function za(r){if(r.G=0,r.la=[],r.l){const e=le(r.h);(0!=e.length||0!=r.i.length)&&(qe(r.la,e),qe(r.la,r.i),r.h.i.length=0,Y(r.i),r.i.length=0),r.l.ua()}}function ho(r,e,t){var o=t instanceof zs?ur(t):new zs(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),_r(o,o.m);else{var c=ne.location;o=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var p=new zs(null,void 0);o&&Go(p,o),e&&(p.g=e),c&&_r(p,c),t&&(p.l=t),o=p}return e=r.za,(t=r.D)&&e&&Ln(o,t,e),Ln(o,"VER",r.ma),To(r,o),o}function ul(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new N(t&&r.Da&&!r.ra?new si({jb:!0}):r.ra)).Ka(r.H),e}function Wa(){}function fo(){if(q&&!(10<=Number(Yn)))throw Error("Environmental error: no available transport.")}function es(r,e){be.call(this),this.g=new Co(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Yb)&&!Ge(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ge(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Do(this)}function Ko(r){os.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function bs(){Ot.call(this),this.status=1}function Do(r){this.g=r}(ce=N.prototype).Ka=function(r){this.L=r},ce.da=function(r,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ji.g(),this.C=function hi(r){return r.h||(r.h=r.i())}(this.u?this.u:Ji),this.g.onreadystatechange=Ue(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(p){return void Ci(this,p)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var c in o)t.set(c,o[c]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const p of o.keys())t.set(p,o.get(p))}o=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),c=ne.FormData&&r instanceof ne.FormData,!(0<=Tt(At,e))||o||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,b]of t)this.g.setRequestHeader(p,b);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Oa(this),0<this.B&&((this.K=function wn(r){return q&&function Si(){return function pt(r){var e=qn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=Xe(String(hn)).split("."),t=Xe("9").split("."),o=Math.max(e.length,t.length);for(let b=0;0==r&&b<o;b++){var c=e[b]||"",p=t[b]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==c[0].length&&0==p[0].length)break;r=ot(0==c[1].length?0:parseInt(c[1],10),0==p[1].length?0:parseInt(p[1],10))||ot(0==c[2].length,0==p[2].length)||ot(c[2],p[2]),c=c[3],p=p[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ue(this.qa,this)):this.A=fn(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(p){Ci(this,p)}},ce.qa=function(){void 0!==X&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fe(this,"timeout"),this.abort(8))},ce.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Fe(this,"complete"),Fe(this,"abort"),Zo(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zo(this,!0)),N.X.M.call(this)},ce.Ha=function(){this.s||(this.F||this.v||this.l?Jr(this):this.fb())},ce.fb=function(){Jr(this)},ce.aa=function(){try{return 2<Bt(this)?this.g.status:-1}catch(r){return-1}},ce.fa=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},ce.Sa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),H(e)}},ce.Ea=function(){return this.m},ce.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=Co.prototype).ma=8,ce.G=1,ce.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const c=new as(this,this.j,r,void 0);let p=this.s;if(this.S&&(p?(p=It(p),$e(p,this.S)):p=this.S),null!==this.o||this.N||(c.H=p,p=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Vr(this,c,e),Ln(t=ur(this.F),"RID",r),Ln(t,"CVER",22),this.D&&Ln(t,"X-HTTP-Session-Id",this.D),To(this,t),p&&(this.N?e="headers="+encodeURIComponent(String(Tl(p)))+"&"+e:this.o&&Xi(t,this.o,p)),Q(this.h,c),this.Ya&&Ln(t,"TYPE","init"),this.O?(Ln(t,"$req",e),Ln(t,"SID","null"),c.Z=!0,$s(c,t,null)):$s(c,t,e),this.G=2}}else 3==this.G&&(r?Al(this,r):0==this.i.length||Ks(this.h)||Al(this))},ce.Ia=function(){if(this.u=null,_s(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=ir(Ue(this.eb,this),r)}},ce.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Gi(10),Pa(this),_s(this))},ce.cb=function(){null!=this.v&&(this.v=null,Pa(this),uo(this),Gi(19))},ce.kb=function(r){r?(this.j.info("Successfully pinged google.com"),Gi(2)):(this.j.info("Failed to ping google.com"),Gi(1))},(ce=Wa.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Ra=function(){},fo.prototype.g=function(r,e){return new es(r,e)},me(es,be),es.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;Gi(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=ho(r,null,r.V),Dl(r)},es.prototype.close=function(){Ps(this.g)},es.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=St(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.ab++,r)),3==e.G&&Dl(e)},es.prototype.M=function(){this.g.l=null,delete this.j,Ps(this.g),delete this.g,es.X.M.call(this)},me(Ko,os),me(bs,Ot),me(Do,Wa),Do.prototype.xa=function(){Fe(this.g,"a")},Do.prototype.wa=function(r){Fe(this.g,new Ko(r))},Do.prototype.va=function(r){Fe(this.g,new bs)},Do.prototype.ua=function(){Fe(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,es.prototype.send=es.prototype.u,es.prototype.open=es.prototype.m,es.prototype.close=es.prototype.close,Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,fs.COMPLETE="complete",fi.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",be.prototype.listen=be.prototype.N,N.prototype.listenOnce=N.prototype.O,N.prototype.getLastError=N.prototype.Oa,N.prototype.getLastErrorCode=N.prototype.Ea,N.prototype.getStatus=N.prototype.aa,N.prototype.getResponseJson=N.prototype.Sa,N.prototype.getResponseText=N.prototype.fa,N.prototype.send=N.prototype.da,N.prototype.setWithCredentials=N.prototype.Ka;var Sl=Ce.createWebChannelTransport=function(){return new fo},Za=Ce.getStatEventTarget=function(){return yr()},po=Ce.ErrorCode=Bi,ql=Ce.EventType=fs,Yl=Ce.Event=nr,ts=Ce.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Io=Ce.FetchXmlHttpFactory=si,er=Ce.WebChannel=fi,cl=Ce.XhrIo=N;const qu="@firebase/firestore";class Oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oi.UNAUTHENTICATED=new Oi(null),Oi.GOOGLE_CREDENTIALS=new Oi("google-credentials-uid"),Oi.FIRST_PARTY=new Oi("first-party-uid"),Oi.MOCK_USER=new Oi("mock-user");let Ys="9.14.0";const Qs=new De.Yd("@firebase/firestore");function go(){return Qs.logLevel}function Es(r){Qs.setLogLevel(r)}function Wt(r,...e){if(Qs.logLevel<=De.in.DEBUG){const t=e.map(Ao);Qs.debug(`Firestore (${Ys}): ${r}`,...t)}}function Mi(r,...e){if(Qs.logLevel<=De.in.ERROR){const t=e.map(Ao);Qs.error(`Firestore (${Ys}): ${r}`,...t)}}function Zi(r,...e){if(Qs.logLevel<=De.in.WARN){const t=e.map(Ao);Qs.warn(`Firestore (${Ys}): ${r}`,...t)}}function Ao(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function Dn(r="Unexpected state"){const e=`FIRESTORE (${Ys}) INTERNAL ASSERTION FAILED: `+r;throw Mi(e),new Error(e)}function In(r,e){r||Dn()}function So(r,e){r||Dn()}function rn(r,e){return r}const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jt extends _e.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class qo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ka{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Oi.UNAUTHENTICATED))}shutdown(){}}class Dc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cs{constructor(e){this.t=e,this.currentUser=Oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let c=this.i;const p=Z=>this.i!==c?(c=this.i,t(Z)):Promise.resolve();let b=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Ni,e.enqueueRetryable(()=>p(this.currentUser))};const S=()=>{const Z=b;e.enqueueRetryable((0,g.Z)(function*(){yield Z.promise,yield p(o.currentUser)}))},j=Z=>{Wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(Z=>j(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?j(Z):(Wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Ni)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(In("string"==typeof o.accessToken),new qo(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return In(null===e||"string"==typeof e),new Oi(e)}}class dl{constructor(e,t,o,c){this.h=e,this.l=t,this.m=o,this.g=c,this.type="FirstParty",this.user=Oi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(In(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class ga{constructor(e,t,o,c){this.h=e,this.l=t,this.m=o,this.g=c}getToken(){return Promise.resolve(new dl(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qa{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=p=>{null!=p.error&&Wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const b=p.token!==this.A;return this.A=p.token,Wt("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const c=p=>{Wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.T.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.T.getImmediate({optional:!0});p?c(p):Wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(In("string"==typeof t.token),this.A=t.token,new Yo(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ql(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class Hi{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const c=Ql(40);for(let p=0;p<c.length;++p)o.length<20&&c[p]<t&&(o+=e.charAt(c[p]%e.length))}return o}}function Zn(r,e){return r<e?-1:r>e?1:0}function Ki(r,e,t){return r.length===e.length&&r.every((o,c)=>t(o,e[c]))}function ya(r){return r+"\0"}class Ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new jt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new jt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new jt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new jt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ti.fromMillis(Date.now())}static fromDate(e){return Ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Ti(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zn(this.nanoseconds,e.nanoseconds):Zn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fn(e)}static min(){return new Fn(new Ti(0,0))}static max(){return new Fn(new Ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class O{constructor(e,t,o){void 0===t?t=0:t>e.length&&Dn(),void 0===o?o=e.length-t:o>e.length-t&&Dn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===O.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof O?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let c=0;c<o;c++){const p=e.get(c),b=t.get(c);if(p<b)return-1;if(p>b)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class D extends O{construct(e,t,o){return new D(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new jt(bt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(c=>c.length>0))}return new D(t)}static emptyPath(){return new D([])}}const C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class F extends O{construct(e,t,o){return new F(e,t,o)}static isValidIdentifier(e){return C.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),F.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new F(["__name__"])}static fromServerFormat(e){const t=[];let o="",c=0;const p=()=>{if(0===o.length)throw new jt(bt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let b=!1;for(;c<e.length;){const S=e[c];if("\\"===S){if(c+1===e.length)throw new jt(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[c+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new jt(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=j,c+=2}else"`"===S?(b=!b,c++):"."!==S||b?(o+=S,c++):(p(),c++)}if(p(),b)throw new jt(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new F(t)}static emptyPath(){return new F([])}}class V{constructor(e){this.path=e}static fromPath(e){return new V(D.fromString(e))}static fromName(e){return new V(D.fromString(e).popFirst(5))}static empty(){return new V(D.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===D.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return D.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new V(new D(e.slice()))}}class ae{constructor(e,t,o,c){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=c}}function Oe(r){return r.fields.find(e=>2===e.kind)}function He(r){return r.fields.filter(e=>2!==e.kind)}ae.UNKNOWN_ID=-1;class pn{constructor(e,t){this.fieldPath=e,this.kind=t}}class An{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new An(0,tr.min())}}function gi(r,e){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,c=Fn.fromTimestamp(1e9===o?new Ti(t+1,0):new Ti(t,o));return new tr(c,V.empty(),e)}function bi(r){return new tr(r.readTime,r.key,-1)}class tr{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new tr(Fn.min(),V.empty(),-1)}static max(){return new tr(Fn.max(),V.empty(),-1)}}function Js(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=V.comparator(r.documentKey,e.documentKey),0!==t?t:Zn(r.largestBatchId,e.largestBatchId))}const ka="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Rs(r){return La.apply(this,arguments)}function La(){return La=(0,g.Z)(function*(r){if(r.code!==bt.FAILED_PRECONDITION||r.message!==ka)throw r;Wt("LocalStore","Unexpectedly lost primary lease")}),La.apply(this,arguments)}class mt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new mt((o,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,c)},this.catchCallback=p=>{this.wrapFailure(t,p).next(o,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof mt?t:mt.resolve(t)}catch(t){return mt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):mt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):mt.reject(t)}static resolve(e){return new mt((t,o)=>{t(e)})}static reject(e){return new mt((t,o)=>{o(e)})}static waitFor(e){return new mt((t,o)=>{let c=0,p=0,b=!1;e.forEach(S=>{++c,S.next(()=>{++p,b&&p===c&&t()},j=>o(j))}),b=!0,p===c&&t()})}static or(e){let t=mt.resolve(!1);for(const o of e)t=t.next(c=>c?mt.resolve(c):o());return t}static forEach(e,t){const o=[];return e.forEach((c,p)=>{o.push(t.call(this,c,p))}),this.waitFor(o)}static mapArray(e,t){return new mt((o,c)=>{const p=e.length,b=new Array(p);let S=0;for(let j=0;j<p;j++){const Z=j;t(e[Z]).next(ge=>{b[Z]=ge,++S,S===p&&o(b)},ge=>c(ge))}})}static doWhile(e,t){return new mt((o,c)=>{const p=()=>{!0===e()?t().next(()=>{p()},c):o()};p()})}}class Er{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ni,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new eo(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const c=Jl(o.target.error);this.P.reject(new eo(e,c))}}static open(e,t,o,c){try{return new Er(t,e.transaction(c,o))}catch(p){throw new eo(t,p)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Wt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Qo(t)}}class Xs{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===Xs.D((0,_e.z$)())&&Mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Wt("SimpleDb","Removing database:",e),pr(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,_e.hl)())return!1;if(Xs.N())return!0;const e=(0,_e.z$)(),t=Xs.D(e),o=0<t&&t<10,c=Xs.k(e),p=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,g.Z)(function*(){return t.db||(Wt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,c)=>{const p=indexedDB.open(t.name,t.version);p.onsuccess=b=>{o(b.target.result)},p.onblocked=()=>{c(new eo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=b=>{const S=b.target.error;c("VersionError"===S.name?new jt(bt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new jt(bt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new eo(e,S))},p.onupgradeneeded=b=>{Wt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',b.oldVersion),t.S.$(b.target.result,p.transaction,b.oldVersion,t.version).next(()=>{Wt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,c){var p=this;return(0,g.Z)(function*(){const b="readonly"===t;let S=0;for(;;){++S;try{p.db=yield p.F(e);const j=Er.open(p.db,e,b?"readonly":"readwrite",o),Z=c(j).next(ge=>(j.V(),ge)).catch(ge=>(j.abort(ge),mt.reject(ge))).toPromise();return Z.catch(()=>{}),yield j.v,Z}catch(j){const Z=j,ge="FirebaseError"!==Z.name&&S<3;if(Wt("SimpleDb","Transaction failed with error:",Z.message,"Retrying:",ge),p.close(),!ge)return Promise.reject(Z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xo{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return pr(this.U.delete())}}class eo extends jt{constructor(e,t){super(bt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ws(r){return"IndexedDbTransactionError"===r.name}class Qo{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Wt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Wt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),pr(o)}add(e){return Wt("SimpleDb","ADD",this.store.name,e,e),pr(this.store.add(e))}get(e){return pr(this.store.get(e)).next(t=>(void 0===t&&(t=null),Wt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Wt("SimpleDb","DELETE",this.store.name,e),pr(this.store.delete(e))}count(){return Wt("SimpleDb","COUNT",this.store.name),pr(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const c=this.cursor(o),p=[];return this.H(c,(b,S)=>{p.push(S)}).next(()=>p)}{const c=this.store.getAll(o.range);return new mt((p,b)=>{c.onerror=S=>{b(S.target.error)},c.onsuccess=S=>{p(S.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new mt((c,p)=>{o.onerror=b=>{p(b.target.error)},o.onsuccess=b=>{c(b.target.result)}})}Y(e,t){Wt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const c=this.cursor(o);return this.H(c,(p,b,S)=>S.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const c=this.cursor(o);return this.H(c,t)}tt(e){const t=this.cursor({});return new mt((o,c)=>{t.onerror=p=>{const b=Jl(p.target.error);c(b)},t.onsuccess=p=>{const b=p.target.result;b?e(b.primaryKey,b.value).next(S=>{S?b.continue():o()}):o()}})}H(e,t){const o=[];return new mt((c,p)=>{e.onerror=b=>{p(b.target.error)},e.onsuccess=b=>{const S=b.target.result;if(!S)return void c();const j=new xo(S),Z=t(S.primaryKey,S.value,j);if(Z instanceof mt){const ge=Z.catch(Be=>(j.done(),mt.reject(Be)));o.push(ge)}j.isDone?c():null===j.G?S.continue():S.continue(j.G)}}).next(()=>mt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function pr(r){return new mt((e,t)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const c=Jl(o.target.error);t(c)}})}let xl=!1;function Jl(r){const e=Xs.D((0,_e.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new jt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xl||(xl=!0,setTimeout(()=>{throw o},0)),o}}return r}class hl{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Wt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,g.Z)(function*(){t.task=null;try{Wt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){ws(o)?Wt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Rs(o)}yield t.nt(6e4)}))}}class Xl{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,g.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let c=t,p=!0;return mt.doWhile(()=>!0===p&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!o.has(b))return Wt("IndexBackiller",`Processing collection: ${b}`),this.rt(e,b,c).next(S=>{c-=S,o.add(b)});p=!1})).next(()=>t-c)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,o).next(p=>{const b=p.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.ot(c,p)).next(S=>(Wt("IndexBackiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(e,t,S))).next(()=>b.size)}))}ot(e,t){let o=e;return t.changes.forEach((c,p)=>{const b=bi(p);Js(b,o)>0&&(o=b)}),new tr(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class As{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function gr(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Jo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ol(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}As.at=-1;class mr{constructor(e,t){this.comparator=e,this.root=t||Cs.EMPTY}insert(e,t){return new mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cs.BLACK,null,null))}remove(e){return new mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return t+o.left.size;c<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cu(this.root,e,this.comparator,!0)}}class Cu{constructor(e,t,o,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?o(e.key,t):1,t&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cs{constructor(e,t,o,c,p){this.key=e,this.value=t,this.color=null!=o?o:Cs.RED,this.left=null!=c?c:Cs.EMPTY,this.right=null!=p?p:Cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,c,p){return new Cs(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=c?c:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let c=this;const p=o(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,t,o),null):0===p?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Cs.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dn();const e=this.left.check();if(e!==this.right.check())throw Dn();return e+(this.isRed()?0:1)}}Cs.EMPTY=null,Cs.RED=!0,Cs.BLACK=!1,Cs.EMPTY=new class{constructor(){this.size=0}get key(){throw Dn()}get value(){throw Dn()}get color(){throw Dn()}get left(){throw Dn()}get right(){throw Dn()}copy(r,e,t,o,c){return this}insert(r,e,t){return new Cs(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sr{constructor(e){this.comparator=e,this.data=new mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oh(this.data.getIterator())}getIteratorFrom(e){return new oh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof sr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=o.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sr(this.comparator);return t.data=e,t}}class oh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ns(r){return r.hasNext()?r.getNext():void 0}class Xo{constructor(e){this.fields=e,e.sort(F.comparator)}static empty(){return new Xo([])}unionWith(e){let t=new sr(F.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Xo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ki(this.fields,e.fields,(t,o)=>t.isEqual(o))}}function wr(){return"undefined"!=typeof atob}class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Cr(t)}static fromUint8Array(e){const t=function(o){let c="";for(let p=0;p<o.length;++p)c+=String.fromCharCode(o[p]);return c}(e);return new Cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const Ya=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fa(r){if(In(!!r),"string"==typeof r){let e=0;const t=Ya.exec(r);if(In(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:or(r.seconds),nanos:or(r.nanos)}}function or(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Tr(r){return"string"==typeof r?Cr.fromBase64String(r):Cr.fromUint8Array(r)}function ks(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Tu(r){const e=r.mapValue.fields.__previous_value__;return ks(e)?Tu(e):e}function ea(r){const e=Fa(r.mapValue.fields.__local_write_time__.timestampValue);return new Ti(e.seconds,e.nanos)}class Qa{constructor(e,t,o,c,p,b,S,j){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=c,this.ssl=p,this.forceLongPolling=b,this.autoDetectLongPolling=S,this.useFetchStreams=j}}class ds{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ds("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ds&&e.projectId===this.projectId&&e.database===this.database}}function ta(r){return null==r}function Ja(r){return 0===r&&1/r==-1/0}function Du(r){return"number"==typeof r&&Number.isInteger(r)&&!Ja(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const na={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},va={nullValue:"NULL_VALUE"};function Rr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ks(r)?4:wa(r)?9007199254740991:10:Dn()}function Oo(r,e){if(r===e)return!0;const t=Rr(r);if(t!==Rr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ea(r).isEqual(ea(e));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const p=Fa(o.timestampValue),b=Fa(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return c=e,Tr(r.bytesValue).isEqual(Tr(c.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return or(o.geoPointValue.latitude)===or(c.geoPointValue.latitude)&&or(o.geoPointValue.longitude)===or(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return or(o.integerValue)===or(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const p=or(o.doubleValue),b=or(c.doubleValue);return p===b?Ja(p)===Ja(b):isNaN(p)&&isNaN(b)}return!1}(r,e);case 9:return Ki(r.arrayValue.values||[],e.arrayValue.values||[],Oo);case 10:return function(o,c){const p=o.mapValue.fields||{},b=c.mapValue.fields||{};if(gr(p)!==gr(b))return!1;for(const S in p)if(p.hasOwnProperty(S)&&(void 0===b[S]||!Oo(p[S],b[S])))return!1;return!0}(r,e);default:return Dn()}var c}function _a(r,e){return void 0!==(r.values||[]).find(t=>Oo(t,e))}function ba(r,e){if(r===e)return 0;const t=Rr(r),o=Rr(e);if(t!==o)return Zn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zn(r.booleanValue,e.booleanValue);case 2:return function(c,p){const b=or(c.integerValue||c.doubleValue),S=or(p.integerValue||p.doubleValue);return b<S?-1:b>S?1:b===S?0:isNaN(b)?isNaN(S)?0:-1:1}(r,e);case 3:return Iu(r.timestampValue,e.timestampValue);case 4:return Iu(ea(r),ea(e));case 5:return Zn(r.stringValue,e.stringValue);case 6:return function(c,p){const b=Tr(c),S=Tr(p);return b.compareTo(S)}(r.bytesValue,e.bytesValue);case 7:return function(c,p){const b=c.split("/"),S=p.split("/");for(let j=0;j<b.length&&j<S.length;j++){const Z=Zn(b[j],S[j]);if(0!==Z)return Z}return Zn(b.length,S.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,p){const b=Zn(or(c.latitude),or(p.latitude));return 0!==b?b:Zn(or(c.longitude),or(p.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(c,p){const b=c.values||[],S=p.values||[];for(let j=0;j<b.length&&j<S.length;++j){const Z=ba(b[j],S[j]);if(Z)return Z}return Zn(b.length,S.length)}(r.arrayValue,e.arrayValue);case 10:return function(c,p){if(c===na.mapValue&&p===na.mapValue)return 0;if(c===na.mapValue)return 1;if(p===na.mapValue)return-1;const b=c.fields||{},S=Object.keys(b),j=p.fields||{},Z=Object.keys(j);S.sort(),Z.sort();for(let ge=0;ge<S.length&&ge<Z.length;++ge){const Be=Zn(S[ge],Z[ge]);if(0!==Be)return Be;const ht=ba(b[S[ge]],j[Z[ge]]);if(0!==ht)return ht}return Zn(S.length,Z.length)}(r.mapValue,e.mapValue);default:throw Dn()}}function Iu(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Zn(r,e);const t=Fa(r),o=Fa(e),c=Zn(t.seconds,o.seconds);return 0!==c?c:Zn(t.nanos,o.nanos)}function Ls(r){return eu(r)}function eu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const c=Fa(o);return`time(${c.seconds},${c.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Tr(r.bytesValue).toBase64():"referenceValue"in r?V.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let c="[",p=!0;for(const b of o.values||[])p?p=!1:c+=",",c+=eu(b);return c+"]"}(r.arrayValue):"mapValue"in r?function(o){const c=Object.keys(o.fields||{}).sort();let p="{",b=!0;for(const S of c)b?b=!1:p+=",",p+=`${S}:${eu(o.fields[S])}`;return p+"}"}(r.mapValue):Dn();var e}function Ur(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Xa(r){return!!r&&"integerValue"in r}function Ss(r){return!!r&&"arrayValue"in r}function Ea(r){return!!r&&"nullValue"in r}function ia(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fl(r){return!!r&&"mapValue"in r}function el(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Jo(r.mapValue.fields,(t,o)=>e.mapValue.fields[t]=el(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=el(r.arrayValue.values[t]);return e}return Object.assign({},r)}function wa(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ml(r){return"nullValue"in r?va:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Ur(ds.empty(),V.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Dn()}function tl(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Ur(ds.empty(),V.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?na:Dn()}function Yu(r,e){const t=ba(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function R(r,e){const t=ba(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class B{constructor(e){this.value=e}static empty(){return new B({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!fl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(t)}setAll(e){let t=F.emptyPath(),o={},c=[];e.forEach((b,S)=>{if(!t.isImmediateParentOf(S)){const j=this.getFieldsMap(t);this.applyChanges(j,o,c),o={},c=[],t=S.popLast()}b?o[S.lastSegment()]=el(b):c.push(S.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,o,c)}delete(e){const t=this.field(e.popLast());fl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=t.mapValue.fields[e.get(o)];fl(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,o){Jo(t,(c,p)=>e[c]=p);for(const c of o)delete e[c]}clone(){return new B(el(this.value))}}function oe(r){const e=[];return Jo(r.fields,(t,o)=>{const c=new F([t]);if(fl(o)){const p=oe(o.mapValue).fields;if(0===p.length)e.push(c);else for(const b of p)e.push(c.child(b))}else e.push(c)}),new Xo(e)}class Te{constructor(e,t,o,c,p,b){this.key=e,this.documentType=t,this.version=o,this.readTime=c,this.data=p,this.documentState=b}static newInvalidDocument(e){return new Te(e,0,Fn.min(),Fn.min(),B.empty(),0)}static newFoundDocument(e,t,o){return new Te(e,1,t,Fn.min(),o,0)}static newNoDocument(e,t){return new Te(e,2,t,Fn.min(),B.empty(),0)}static newUnknownDocument(e,t){return new Te(e,3,t,Fn.min(),B.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=B.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=B.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Te&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Te(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Je{constructor(e,t=null,o=[],c=[],p=null,b=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=c,this.limit=p,this.startAt=b,this.endAt=S,this.ht=null}}function yt(r,e=null,t=[],o=[],c=null,p=null,b=null){return new Je(r,e,t,o,c,p,b)}function Zt(r){const e=rn(r);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(c=o).field.canonicalString()+c.op.toString()+Ls(c.value);var c}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),ta(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Ls(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Ls(o)).join(",")),e.ht=t}return e.ht}function Nn(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let c=0;c<r.orderBy.length;c++)if(!dd(r.orderBy[c],e.orderBy[c]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let c=0;c<r.filters.length;c++)if((t=r.filters[c]).op!==(o=e.filters[c]).op||!t.field.isEqual(o.field)||!Oo(t.value,o.value))return!1;var t,o;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Pl(r.startAt,e.startAt)&&Pl(r.endAt,e.endAt)}function Xn(r){return V.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function $n(r,e){return r.filters.filter(t=>t instanceof ki&&t.field.isEqual(e))}function kn(r,e,t){let o=va,c=!0;for(const p of $n(r,e)){let b=va,S=!0;switch(p.op){case"<":case"<=":b=Ml(p.value);break;case"==":case"in":case">=":b=p.value;break;case">":b=p.value,S=!1;break;case"!=":case"not-in":b=va}Yu({value:o,inclusive:c},{value:b,inclusive:S})<0&&(o=b,c=S)}if(null!==t)for(let p=0;p<r.orderBy.length;++p)if(r.orderBy[p].field.isEqual(e)){const b=t.position[p];Yu({value:o,inclusive:c},{value:b,inclusive:t.inclusive})<0&&(o=b,c=t.inclusive);break}return{value:o,inclusive:c}}function Gr(r,e,t){let o=na,c=!0;for(const p of $n(r,e)){let b=na,S=!0;switch(p.op){case">=":case">":b=tl(p.value),S=!1;break;case"==":case"in":case"<=":b=p.value;break;case"<":b=p.value,S=!1;break;case"!=":case"not-in":b=na}R({value:o,inclusive:c},{value:b,inclusive:S})>0&&(o=b,c=S)}if(null!==t)for(let p=0;p<r.orderBy.length;++p)if(r.orderBy[p].field.isEqual(e)){const b=t.position[p];R({value:o,inclusive:c},{value:b,inclusive:t.inclusive})>0&&(o=b,c=t.inclusive);break}return{value:o,inclusive:c}}class ki extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new pl(e,t,o):"array-contains"===t?new Va(e,o):"in"===t?new gl(e,o):"not-in"===t?new sa(e,o):"array-contains-any"===t?new Mo(e,o):new ki(e,t,o)}static lt(e,t,o){return"in"===t?new ra(e,o):new yo(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ba(t,this.value)):null!==t&&Rr(this.value)===Rr(t)&&this.ft(ba(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class pl extends ki{constructor(e,t,o){super(e,t,o),this.key=V.fromName(o.referenceValue)}matches(e){const t=V.comparator(e.key,this.key);return this.ft(t)}}class ra extends ki{constructor(e,t){super(e,"in",t),this.keys=Au(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yo extends ki{constructor(e,t){super(e,"not-in",t),this.keys=Au(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Au(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>V.fromName(o.referenceValue))}class Va extends ki{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ss(t)&&_a(t.arrayValue,this.value)}}class gl extends ki{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_a(this.value.arrayValue,t)}}class sa extends ki{constructor(e,t){super(e,"not-in",t)}matches(e){if(_a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_a(this.value.arrayValue,t)}}class Mo extends ki{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ss(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>_a(this.value.arrayValue,o))}}class Fs{constructor(e,t){this.position=e,this.inclusive=t}}class nl{constructor(e,t="asc"){this.field=e,this.dir=t}}function dd(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function hd(r,e,t){let o=0;for(let c=0;c<r.position.length;c++){const p=e[c],b=r.position[c];if(o=p.field.isKeyField()?V.comparator(V.fromName(b.referenceValue),t.key):ba(b,t.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function Pl(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Oo(r.position[t],e.position[t]))return!1;return!0}class to{constructor(e,t=null,o=[],c=[],p=null,b="F",S=null,j=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=c,this.limit=p,this.limitType=b,this.startAt=S,this.endAt=j,this._t=null,this.wt=null}}function fd(r,e,t,o,c,p,b,S){return new to(r,e,t,o,c,p,b,S)}function Su(r){return new to(r)}function Qu(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Ju(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function tu(r){for(const e of r.filters)if(e.dt())return e.field;return null}function Xu(r){return null!==r.collectionGroup}function nu(r){const e=rn(r);if(null===e._t){e._t=[];const t=tu(e),o=Ju(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new nl(t)),e._t.push(new nl(F.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e._t.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new nl(F.keyField(),p))}}}return e._t}function no(r){const e=rn(r);if(!e.wt)if("F"===e.limitType)e.wt=yt(e.path,e.collectionGroup,nu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of nu(e))t.push(new nl(p.field,"desc"===p.dir?"asc":"desc"));const o=e.endAt?new Fs(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Fs(e.startAt.position,e.startAt.inclusive):null;e.wt=yt(e.path,e.collectionGroup,t,e.filters,e.limit,o,c)}return e.wt}function iu(r,e,t){return new to(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ml(r,e){return Nn(no(r),no(e))&&r.limitType===e.limitType}function ns(r){return`${Zt(no(r))}|lt:${r.limitType}`}function Ic(r){return`Query(target=${function en(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Ls(o.value)}`;var o}).join(", ")}]`),ta(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>Ls(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>Ls(t)).join(",")),`Target(${e})`}(no(r))}; limitType=${r.limitType})`}function Po(r,e){return e.isFoundDocument()&&function(t,o){const c=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):V.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(r,e)&&function(t,o){for(const c of t.explicitOrderBy)if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(r,e)&&function(t,o){for(const c of t.filters)if(!c.matches(o))return!1;return!0}(r,e)&&(o=e,!((t=r).startAt&&!function(c,p,b){const S=hd(c,p,b);return c.inclusive?S<=0:S<0}(t.startAt,nu(t),o)||t.endAt&&!function(c,p,b){const S=hd(c,p,b);return c.inclusive?S>=0:S>0}(t.endAt,nu(t),o)));var t,o}function Ac(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ua(r){return(e,t)=>{let o=!1;for(const c of nu(r)){const p=xu(c,e,t);if(0!==p)return p;o=o||c.field.isKeyField()}return 0}}function xu(r,e,t){const o=r.field.isKeyField()?V.comparator(e.key,t.key):function(c,p,b){const S=p.data.field(c),j=b.data.field(c);return null!==S&&null!==j?ba(S,j):Dn()}(r.field,e,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return Dn()}}function yl(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ja(e)?"-0":e}}function Sc(r){return{integerValue:""+r}}function ru(r,e){return Du(e)?Sc(e):yl(r,e)}class Ts{constructor(){this._=void 0}}function pd(r,e,t){return r instanceof Rl?function(o,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&(p.fields.__previous_value__=c),{mapValue:p}}(t,e):r instanceof Ca?oa(r,e):r instanceof qi?ec(r,e):function(o,c){const p=gd(o,c),b=md(p)+md(o.yt);return Xa(p)&&Xa(o.yt)?Sc(b):yl(o.It,b)}(r,e)}function ah(r,e,t){return r instanceof Ca?oa(r,e):r instanceof qi?ec(r,e):t}function gd(r,e){return r instanceof Ba?Xa(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Rl extends Ts{}class Ca extends Ts{constructor(e){super(),this.elements=e}}function oa(r,e){const t=xc(e);for(const o of r.elements)t.some(c=>Oo(c,o))||t.push(o);return{arrayValue:{values:t}}}class qi extends Ts{constructor(e){super(),this.elements=e}}function ec(r,e){let t=xc(e);for(const o of r.elements)t=t.filter(c=>!Oo(c,o));return{arrayValue:{values:t}}}class Ba extends Ts{constructor(e,t){super(),this.It=e,this.yt=t}}function md(r){return or(r.integerValue||r.doubleValue)}function xc(r){return Ss(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ou{constructor(e,t){this.field=e,this.transform=t}}class yd{constructor(e,t){this.version=e,this.transformResults=t}}class Nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class ic{}function lh(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new pe(r.key,Nr.none()):new T(r.key,r.data,Nr.none());{const t=r.data,o=B.empty();let c=new sr(F.comparator);for(let p of e.fields)if(!c.has(p)){let b=t.field(p);null===b&&p.length>1&&(p=p.popLast(),b=t.field(p)),null===b?o.delete(p):o.set(p,b),c=c.add(p)}return new y(r.key,o,new Xo(c.toArray()),Nr.none())}}function dp(r,e,t){r instanceof T?function(o,c,p){const b=o.value.clone(),S=A(o.fieldTransforms,c,p.transformResults);b.setAll(S),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()}(r,e,t):r instanceof y?function(o,c,p){if(!nc(o.precondition,c))return void c.convertToUnknownDocument(p.version);const b=A(o.fieldTransforms,c,p.transformResults),S=c.data;S.setAll(_(o)),S.setAll(b),c.convertToFoundDocument(p.version,S).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Mu(r,e,t,o){return r instanceof T?function(c,p,b,S){if(!nc(c.precondition,p))return b;const j=c.value.clone(),Z=J(c.fieldTransforms,S,p);return j.setAll(Z),p.convertToFoundDocument(p.version,j).setHasLocalMutations(),null}(r,e,t,o):r instanceof y?function(c,p,b,S){if(!nc(c.precondition,p))return b;const j=J(c.fieldTransforms,S,p),Z=p.data;return Z.setAll(_(c)),Z.setAll(j),p.convertToFoundDocument(p.version,Z).setHasLocalMutations(),null===b?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(ge=>ge.field))}(r,e,t,o):(b=t,nc(r.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b);var p,b}function rc(r,e){let t=null;for(const o of r.fieldTransforms){const c=e.data.field(o.field),p=gd(o.transform,c||null);null!=p&&(null===t&&(t=B.empty()),t.set(o.field,p))}return t||null}function uh(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&Ki(t,o,(c,p)=>function tc(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(t=r.transform)instanceof Ca&&o instanceof Ca||t instanceof qi&&o instanceof qi?Ki(t.elements,o.elements,Oo):t instanceof Ba&&o instanceof Ba?Oo(t.yt,o.yt):t instanceof Rl&&o instanceof Rl);var t,o}(c,p))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,o}class T extends ic{constructor(e,t,o,c=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class y extends ic{constructor(e,t,o,c,p=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function _(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);e.set(t,o)}}),e}function A(r,e,t){const o=new Map;In(r.length===t.length);for(let c=0;c<t.length;c++){const p=r[c],b=p.transform,S=e.data.field(p.field);o.set(p.field,ah(b,S,t[c]))}return o}function J(r,e,t){const o=new Map;for(const c of r){const p=c.transform,b=t.data.field(c.field);o.set(c.field,pd(p,b,e))}return o}class pe extends ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rt extends ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Kt{constructor(e){this.count=e}}var nn,sn;function ai(r){switch(r){default:return Dn();case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0}}function mi(r){if(void 0===r)return Mi("GRPC error has no .code"),bt.UNKNOWN;switch(r){case nn.OK:return bt.OK;case nn.CANCELLED:return bt.CANCELLED;case nn.UNKNOWN:return bt.UNKNOWN;case nn.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case nn.INTERNAL:return bt.INTERNAL;case nn.UNAVAILABLE:return bt.UNAVAILABLE;case nn.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case nn.NOT_FOUND:return bt.NOT_FOUND;case nn.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case nn.ABORTED:return bt.ABORTED;case nn.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case nn.DATA_LOSS:return bt.DATA_LOSS;default:return Dn()}}(sn=nn||(nn={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";class Vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[c,p]of o)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0===c)return this.inner[o]=[[e,t]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[t]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Jo(this.inner,(t,o)=>{for(const[c,p]of o)e(c,p)})}isEmpty(){return Ol(this.inner)}size(){return this.innerSize}}const aa=new mr(V.comparator);function hs(){return aa}const Oc=new mr(V.comparator);function Nl(...r){let e=Oc;for(const t of r)e=e.insert(t.key,t);return e}function Mc(r){let e=Oc;return r.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ro(){return Ll()}function kl(){return Ll()}function Ll(){return new Vs(r=>r.toString(),(r,e)=>r.isEqual(e))}const sc=new mr(V.comparator),Pc=new sr(V.comparator);function gn(...r){let e=Pc;for(const t of r)e=e.add(t);return e}const Pu=new sr(Zn);function Fl(){return Pu}class il{constructor(e,t,o,c,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const c=new Map;return c.set(e,Vl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new il(Fn.min(),c,Fl(),hs(),gn())}}class Vl{constructor(e,t,o,c,p){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Vl(o,t,gn(),gn(),gn())}}class oc{constructor(e,t,o,c){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=c}}class vd{constructor(e,t){this.targetId=e,this.At=t}}class vf{constructor(e,t,o=Cr.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=c}}class _f{constructor(){this.Rt=0,this.bt=pp(),this.Pt=Cr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=gn(),t=gn(),o=gn();return this.bt.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:o=o.add(c);break;default:Dn()}}),new Vl(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=pp()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class hp{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=hs(),this.qt=fp(),this.Kt=new sr(Zn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:Dn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,c)=>{this.Ht(c)&&t(c)})}Yt(e){const t=e.targetId,o=e.At.count,c=this.Xt(t);if(c){const p=c.target;if(Xn(p))if(0===o){const b=new V(p.path);this.jt(t,b,Te.newNoDocument(b,Fn.min()))}else In(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((p,b)=>{const S=this.Xt(b);if(S){if(p.current&&Xn(S.target)){const j=new V(S.target.path);null!==this.Ut.get(j)||this.ee(b,j)||this.jt(b,j,Te.newNoDocument(j,e))}p.Dt&&(t.set(b,p.xt()),p.Nt())}});let o=gn();this.qt.forEach((p,b)=>{let S=!0;b.forEachWhile(j=>{const Z=this.Xt(j);return!Z||2===Z.purpose||(S=!1,!1)}),S&&(o=o.add(p))}),this.Ut.forEach((p,b)=>b.setReadTime(e));const c=new il(e,t,this.Kt,this.Ut,o);return this.Ut=hs(),this.qt=fp(),this.Kt=new sr(Zn),c}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const c=this.zt(e);this.ee(e,t)?c.kt(t,1):c.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new _f,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new sr(Zn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Wt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new _f),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function fp(){return new mr(V.comparator)}function pp(){return new mr(V.comparator)}const Ul={asc:"ASCENDING",desc:"DESCENDING"},vo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ac{constructor(e,t){this.databaseId=e,this.gt=t}}function Ru(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ch(r,e){return r.gt?e.toBase64():e.toUint8Array()}function _o(r,e){return Ru(r,e.toTimestamp())}function is(r){return In(!!r),Fn.fromTimestamp(function(e){const t=Fa(e);return new Ti(t.seconds,t.nanos)}(r))}function Rc(r,e){return(t=r,new D(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function dh(r){const e=D.fromString(r);return In(Tf(e)),e}function Nu(r,e){return Rc(r.databaseId,e.path)}function Ha(r,e){const t=dh(e);if(t.get(1)!==r.databaseId.projectId)throw new jt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new jt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new V(hh(t))}function Nc(r,e){return Rc(r.databaseId,e)}function _d(r){const e=dh(r);return 4===e.length?D.emptyPath():hh(e)}function Bl(r){return new D(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function hh(r){return In(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function bd(r,e,t){return{name:Nu(r,e),fields:t.value.mapValue.fields}}function Ed(r,e,t){const o=Ha(r,e.name),c=is(e.updateTime),p=new B({mapValue:{fields:e.fields}}),b=Te.newFoundDocument(o,c,p);return t&&b.setHasCommittedMutations(),t?b.setHasCommittedMutations():b}function lc(r,e){let t;if(e instanceof T)t={update:bd(r,e.key,e.value)};else if(e instanceof pe)t={delete:Nu(r,e.key)};else if(e instanceof y)t={update:bd(r,e.key,e.data),updateMask:Cf(e.fieldMask)};else{if(!(e instanceof rt))return Dn();t={verify:Nu(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(c,p){const b=p.transform;if(b instanceof Rl)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Ca)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof qi)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Ba)return{fieldPath:p.field.canonicalString(),increment:b.yt};throw Dn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:_o(r,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Dn()),t;var c}function uc(r,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Nr.updateTime(is(c.updateTime)):void 0!==c.exists?Nr.exists(c.exists):Nr.none():Nr.none(),o=e.updateTransforms?e.updateTransforms.map(c=>function(p,b){let S=null;"setToServerValue"in b?(In("REQUEST_TIME"===b.setToServerValue),S=new Rl):"appendMissingElements"in b?S=new Ca(b.appendMissingElements.values||[]):"removeAllFromArray"in b?S=new qi(b.removeAllFromArray.values||[]):"increment"in b?S=new Ba(p,b.increment):Dn();const j=F.fromServerFormat(b.fieldPath);return new Ou(j,S)}(r,c)):[];var c;if(e.update){const c=Ha(r,e.update.name),p=new B({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new Xo((e.updateMask.fieldPaths||[]).map(Z=>F.fromServerFormat(Z)));return new y(c,p,b,t,o)}return new T(c,p,t,o)}if(e.delete){const c=Ha(r,e.delete);return new pe(c,t)}if(e.verify){const c=Ha(r,e.verify);return new rt(c,t)}return Dn()}function bf(r,e){return{documents:[Nc(r,e.path)]}}function cc(r,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Nc(r,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Nc(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function(j){if(0===j.length)return;const Z=j.map(ge=>function(Be){if("=="===Be.op){if(ia(Be.value))return{unaryFilter:{field:su(Be.field),op:"IS_NAN"}};if(Ea(Be.value))return{unaryFilter:{field:su(Be.field),op:"IS_NULL"}}}else if("!="===Be.op){if(ia(Be.value))return{unaryFilter:{field:su(Be.field),op:"IS_NOT_NAN"}};if(Ea(Be.value))return{unaryFilter:{field:su(Be.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:su(Be.field),op:yh(Be.op),value:Be.value}}}(ge));return 1===Z.length?Z[0]:{compositeFilter:{op:"AND",filters:Z}}}(e.filters);c&&(t.structuredQuery.where=c);const p=function(j){if(0!==j.length)return j.map(Z=>{return{field:su((ge=Z).field),direction:mh(ge.dir)};var ge})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const b=(Z=e.limit,r.gt||ta(Z)?Z:{value:Z});var Z,S,j;return null!==b&&(t.structuredQuery.limit=b),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!(j=e.endAt).inclusive,values:j.position}),t}function Ef(r){let e=_d(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let c=null;if(o>0){In(1===o);const ge=t.from[0];ge.allDescendants?c=ge.collectionId:e=e.child(ge.collectionId)}let p=[];t.where&&(p=Cd(t.where));let b=[];t.orderBy&&(b=t.orderBy.map(ge=>{return new nl(dc((Be=ge).field),function(ht){switch(ht){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Be.direction));var Be}));let S=null;t.limit&&(S=function(ge){let Be;return Be="object"==typeof ge?ge.value:ge,ta(Be)?null:Be}(t.limit));let j=null;var ge;t.startAt&&(j=new Fs((ge=t.startAt).values||[],!!ge.before));let Z=null;return t.endAt&&(Z=function(ge){return new Fs(ge.values||[],!ge.before)}(t.endAt)),fd(e,c,b,p,S,"F",j,Z)}function Cd(r){return r?void 0!==r.unaryFilter?[hc(r)]:void 0!==r.fieldFilter?[wf(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>Cd(e)).reduce((e,t)=>e.concat(t)):Dn():[]}function mh(r){return Ul[r]}function yh(r){return vo[r]}function su(r){return{fieldPath:r.canonicalString()}}function dc(r){return F.fromServerFormat(r.fieldPath)}function wf(r){return ki.create(dc(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dn()}}(r.fieldFilter.op),r.fieldFilter.value)}function hc(r){switch(r.unaryFilter.op){case"IS_NAN":const e=dc(r.unaryFilter.field);return ki.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=dc(r.unaryFilter.field);return ki.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=dc(r.unaryFilter.field);return ki.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=dc(r.unaryFilter.field);return ki.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Dn()}}function Cf(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tf(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function bo(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Df(e)),e=gp(r.get(t),e);return Df(e)}function gp(r,e){let t=e;const o=r.length;for(let c=0;c<o;c++){const p=r.charAt(c);switch(p){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=p}}return t}function Df(r){return r+"\x01\x01"}function No(r){const e=r.length;if(In(e>=2),2===e)return In("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),D.emptyPath();const t=e-2,o=[];let c="";for(let p=0;p<e;){const b=r.indexOf("\x01",p);switch((b<0||b>t)&&Dn(),r.charAt(b+1)){case"\x01":const S=r.substring(p,b);let j;0===c.length?j=S:(c+=S,j=c,c=""),o.push(j);break;case"\x10":c+=r.substring(p,b),c+="\0";break;case"\x11":c+=r.substring(p,b+1);break;default:Dn()}p=b+2}return new D(o)}const rl=["userId","batchId"];function vh(r,e){return[r,bo(e)]}function mp(r,e,t){return[r,bo(e),t]}const If={},_h=["prefixPath","collectionGroup","readTime","documentId"],sl=["prefixPath","collectionGroup","documentId"],Td=["collectionGroup","readTime","prefixPath","documentId"],kc=["canonicalId","targetId"],yp=["targetId","path"],Af=["path","targetId"],Lc=["collectionId","parent"],bh=["indexId","uid"],Eh=["uid","sequenceNumber"],Dd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Id=["indexId","uid","orderedDocumentKey"],wh=["userId","collectionPath","documentId"],iy=["userId","collectionPath","largestBatchId"],fc=["userId","collectionGroup","largestBatchId"],Ch=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vp=[...Ch,"documentOverlays"],Ad=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Th=Ad,_p=[...Th,"indexConfiguration","indexState","indexEntries"];class Sd extends mo{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Us(r,e){const t=rn(r);return Xs.M(t.ie,e)}class xd{constructor(e,t,o,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&dp(p,e,o[c])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Mu(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Mu(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=kl();return this.mutations.forEach(c=>{const p=e.get(c.key),b=p.overlayedDocument;let S=this.applyToLocalView(b,p.mutatedFields);S=t.has(c.key)?null:S;const j=lh(b,S);null!==j&&o.set(c.key,j),b.isValidDocument()||b.convertToNoDocument(Fn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gn())}isEqual(e){return this.batchId===e.batchId&&Ki(this.mutations,e.mutations,(t,o)=>uh(t,o))&&Ki(this.baseMutations,e.baseMutations,(t,o)=>uh(t,o))}}class Fc{constructor(e,t,o,c){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=c}static from(e,t,o){In(e.mutations.length===o.length);let c=sc;const p=e.mutations;for(let b=0;b<p.length;b++)c=c.insert(p[b].key,o[b].version);return new Fc(e,t,o,c)}}class Vc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ou{constructor(e,t,o,c,p=Fn.min(),b=Fn.min(),S=Cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=S}withSequenceNumber(e){return new ou(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class pc{constructor(e){this.re=e}}function Od(r,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Dh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Nu(c=r.re,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Ru(c,p.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:ku(e.version)};else{if(!e.isUnknownDocument())return Dn();o.unknownDocument={path:t.path.toArray(),version:ku(e.version)}}var c,p;return o}function Dh(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function ku(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function au(r){const e=new Ti(r.seconds,r.nanoseconds);return Fn.fromTimestamp(e)}function Lu(r,e){const t=(e.baseMutations||[]).map(p=>uc(r.re,p));for(let p=0;p<e.mutations.length-1;++p){const b=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(b.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const o=e.mutations.map(p=>uc(r.re,p)),c=Ti.fromMillis(e.localWriteTimeMs);return new xd(e.batchId,c,t,o)}function vl(r){const e=au(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?au(r.lastLimboFreeSnapshotVersion):Fn.min();let o;var c;return void 0!==r.query.documents?(In(1===(c=r.query).documents.length),o=no(Su(_d(c.documents[0])))):o=no(Ef(r.query)),new ou(o,r.targetId,0,r.lastListenSequenceNumber,e,t,Cr.fromBase64String(r.resumeToken))}function Ih(r,e){const t=ku(e.snapshotVersion),o=ku(e.lastLimboFreeSnapshotVersion);let c;c=Xn(e.target)?bf(r.re,e.target):cc(r.re,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Zt(e.target),readTime:t,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:c}}function Ah(r){const e=Ef({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?iu(e,e.limit,"L"):e}function Sf(r,e){return new Vc(e.largestBatchId,uc(r.re,e.overlayMutation))}function Md(r,e){const t=e.path.lastSegment();return[r,bo(e.path.popLast()),t]}function Ep(r,e,t,o){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:ku(o.readTime),documentKey:bo(o.documentKey.path),largestBatchId:o.largestBatchId}}class wp{getBundleMetadata(e,t){return Pd(e).get(t).next(o=>{if(o)return{id:(c=o).bundleId,createTime:au(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return Pd(e).put({bundleId:(o=t).id,createTime:ku(is(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Sh(e).get(t).next(o=>{if(o)return{name:(c=o).name,query:Ah(c.bundledQuery),readTime:au(c.readTime)};var c})}saveNamedQuery(e,t){return Sh(e).put({name:(o=t).name,readTime:ku(is(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Pd(r){return Us(r,"bundles")}function Sh(r){return Us(r,"namedQueries")}class Fu{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Fu(e,t.uid||"")}getOverlay(e,t){return Vu(e).get(Md(this.userId,t)).next(o=>o?Sf(this.It,o):null)}getOverlays(e,t){const o=Ro();return mt.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&o.set(c,p)})).next(()=>o)}saveOverlays(e,t,o){const c=[];return o.forEach((p,b)=>{const S=new Vc(t,b);c.push(this.ue(e,S))}),mt.waitFor(c)}removeOverlaysForBatchId(e,t,o){const c=new Set;t.forEach(b=>c.add(bo(b.getCollectionPath())));const p=[];return c.forEach(b=>{const S=IDBKeyRange.bound([this.userId,b,o],[this.userId,b,o+1],!1,!0);p.push(Vu(e).Y("collectionPathOverlayIndex",S))}),mt.waitFor(p)}getOverlaysForCollection(e,t,o){const c=Ro(),p=bo(t),b=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return Vu(e).W("collectionPathOverlayIndex",b).next(S=>{for(const j of S){const Z=Sf(this.It,j);c.set(Z.getKey(),Z)}return c})}getOverlaysForCollectionGroup(e,t,o,c){const p=Ro();let b;const S=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vu(e).Z({index:"collectionGroupOverlayIndex",range:S},(j,Z,ge)=>{const Be=Sf(this.It,Z);p.size()<c||Be.largestBatchId===b?(p.set(Be.getKey(),Be),b=Be.largestBatchId):ge.done()}).next(()=>p)}ue(e,t){return Vu(e).put(function(o,c,p){const[b,S,j]=Md(c,p.mutation.key);return{userId:c,collectionPath:S,documentId:j,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:lc(o.re,p.mutation)}}(this.It,this.userId,t))}}function Vu(r){return Us(r,"documentOverlays")}class ol{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(or(e.integerValue));else if("doubleValue"in e){const o=or(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),Ja(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Tr(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?wa(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Dn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const c of Object.keys(o))this._e(c,t),this.ae(o[c],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const c of o)this.ae(c,t)}ge(e,t){this.le(t,37),V.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Uc(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function Rd(r){const e=64-function(t){let o=0;for(let c=0;c<8;++c){const p=Uc(255&t[c]);if(o+=p,8!==p)break}return o}(r);return Math.ceil(e/8)}ol.Te=new ol;class Nd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const c=t.codePointAt(0);this.Ae(240|c>>>18),this.Ae(128|63&c>>>12),this.Ae(128|63&c>>>6),this.Ae(128|63&c)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const c=t.codePointAt(0);this.Pe(240|c>>>18),this.Pe(128|63&c>>>12),this.Pe(128|63&c>>>6),this.Pe(128|63&c)}}this.ve()}De(e){const t=this.Ce(e),o=Rd(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let c=t.length-o;c<t.length;++c)this.buffer[this.position++]=255&t[c]}Ne(e){const t=this.Ce(e),o=Rd(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let c=t.length-o;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(c){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,c,!1),new Uint8Array(p.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let c=1;c<t.length;++c)t[c]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const c=new Uint8Array(o);c.set(this.buffer),this.buffer=c}}class xh{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Bc{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Hl{constructor(){this.Be=new Nd,this.Le=new xh(this.Be),this.Ue=new Bc(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Uu{constructor(e,t,o,c){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=c}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Uu(this.indexId,this.documentKey,this.arrayValue,o)}}function _l(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=xf(r.arrayValue,e.arrayValue),0!==t?t:(t=xf(r.directionalValue,e.directionalValue),0!==t?t:V.comparator(r.documentKey,e.documentKey)))}function xf(r,e){for(let t=0;t<r.length&&t<e.length;++t){const o=r[t]-e[t];if(0!==o)return o}return r.length-e.length}class Cp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=Oe(e);if(void 0!==t&&!this.ze(t))return!1;const o=He(e);let c=0,p=0;for(;c<o.length&&this.ze(o[c]);++c);if(c===o.length)return!0;if(void 0!==this.je){const b=o[c];if(!this.He(this.je,b)||!this.Je(this.Ge[p++],b))return!1;++c}for(;c<o.length;++c){const b=o[c];if(p>=this.Ge.length||!this.Je(this.Ge[p++],b))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class kd{constructor(){this.Ye=new Bu}addToCollectionParentIndex(e,t){return this.Ye.add(t),mt.resolve()}getCollectionParents(e,t){return mt.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return mt.resolve()}deleteFieldIndex(e,t){return mt.resolve()}getDocumentsMatchingTarget(e,t){return mt.resolve(null)}getIndexType(e,t){return mt.resolve(0)}getFieldIndexes(e,t){return mt.resolve([])}getNextCollectionGroupToUpdate(e){return mt.resolve(null)}getMinOffset(e,t){return mt.resolve(tr.min())}getMinOffsetFromCollectionGroup(e,t){return mt.resolve(tr.min())}updateCollectionGroup(e,t,o){return mt.resolve()}updateIndexEntries(e,t){return mt.resolve()}}class Bu{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),c=this.index[t]||new sr(D.comparator),p=!c.has(o);return this.index[t]=c.add(o),p}has(e){const t=e.lastSegment(),o=e.popLast(),c=this.index[t];return c&&c.has(o)}getEntries(e){return(this.index[e]||new sr(D.comparator)).toArray()}}const Hc=new Uint8Array(0);class ry{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Bu,this.Ze=new Vs(o=>Zt(o),(o,c)=>Nn(o,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const p={collectionId:o,parent:bo(c)};return Oh(e).put(p)}return mt.resolve()}getCollectionParents(e,t){const o=[],c=IDBKeyRange.bound([t,""],[ya(t),""],!1,!0);return Oh(e).W(c).next(p=>{for(const b of p){if(b.collectionId!==t)break;o.push(No(b.parent))}return o})}addFieldIndex(e,t){const o=jc(e),c={indexId:(b=t).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var b;delete c.indexId;const p=o.add(c);if(t.indexState){const b=$c(e);return p.next(S=>{b.put(Ep(S,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return p.next()}deleteFieldIndex(e,t){const o=jc(e),c=$c(e),p=tn(e);return o.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=tn(e);let c=!0;const p=new Map;return mt.forEach(this.tn(t),b=>this.en(e,b).next(S=>{c&&(c=!!S),p.set(b,S)})).next(()=>{if(c){let b=gn();const S=[];return mt.forEach(p,(j,Z)=>{var ge;Wt("IndexedDbIndexManager",`Using index ${ge=j,`id=${ge.indexId}|cg=${ge.collectionGroup}|f=${ge.fields.map(fr=>`${fr.fieldPath}:${fr.kind}`).join(",")}`} to execute ${Zt(t)}`);const Be=function(fr,oo){const Ir=Oe(oo);if(void 0===Ir)return null;for(const dr of $n(fr,Ir.fieldPath))switch(dr.op){case"array-contains-any":return dr.value.arrayValue.values||[];case"array-contains":return[dr.value]}return null}(Z,j),ht=function(fr,oo){const Ir=new Map;for(const dr of He(oo))for(const Eo of $n(fr,dr.fieldPath))switch(Eo.op){case"==":case"in":Ir.set(dr.fieldPath.canonicalString(),Eo.value);break;case"not-in":case"!=":return Ir.set(dr.fieldPath.canonicalString(),Eo.value),Array.from(Ir.values())}return null}(Z,j),Vt=function(fr,oo){const Ir=[];let dr=!0;for(const Eo of He(oo)){const sh=0===Eo.kind?kn(fr,Eo.fieldPath,fr.startAt):Gr(fr,Eo.fieldPath,fr.startAt);Ir.push(sh.value),dr&&(dr=sh.inclusive)}return new Fs(Ir,dr)}(Z,j),Yt=function(fr,oo){const Ir=[];let dr=!0;for(const Eo of He(oo)){const sh=0===Eo.kind?Gr(fr,Eo.fieldPath,fr.endAt):kn(fr,Eo.fieldPath,fr.endAt);Ir.push(sh.value),dr&&(dr=sh.inclusive)}return new Fs(Ir,dr)}(Z,j),_n=this.nn(j,Z,Vt),xn=this.nn(j,Z,Yt),ar=this.sn(j,Z,ht),Fr=this.rn(j.indexId,Be,_n,Vt.inclusive,xn,Yt.inclusive,ar);return mt.forEach(Fr,fr=>o.J(fr,t.limit).next(oo=>{oo.forEach(Ir=>{const dr=V.fromSegments(Ir.documentKey);b.has(dr)||(b=b.add(dr),S.push(dr))})}))}).next(()=>S)}return mt.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,c,p,b,S){const j=(null!=t?t.length:1)*Math.max(o.length,p.length),Z=j/(null!=t?t.length:1),ge=[];for(let Be=0;Be<j;++Be){const ht=t?this.on(t[Be/Z]):Hc,Vt=this.un(e,ht,o[Be%Z],c),Yt=this.cn(e,ht,p[Be%Z],b),_n=S.map(xn=>this.un(e,ht,xn,!0));ge.push(...this.createRange(Vt,Yt,_n))}return ge}un(e,t,o,c){const p=new Uu(e,V.empty(),t,o);return c?p:p.Ke()}cn(e,t,o,c){const p=new Uu(e,V.empty(),t,o);return c?p.Ke():p}en(e,t){const o=new Cp(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(p=>{let b=null;for(const S of p)o.We(S)&&(!b||S.fields.length>b.fields.length)&&(b=S);return b})}getIndexType(e,t){let o=2;return mt.forEach(this.tn(t),c=>this.en(e,c).next(p=>{p?0!==o&&p.fields.length<function(b){let S=new sr(F.comparator),j=!1;for(const Z of b.filters){const ge=Z;ge.field.isKeyField()||("array-contains"===ge.op||"array-contains-any"===ge.op?j=!0:S=S.add(ge.field))}for(const Z of b.orderBy)Z.field.isKeyField()||(S=S.add(Z.field));return S.size+(j?1:0)}(c)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new Hl;for(const c of He(e)){const p=t.data.field(c.fieldPath);if(null==p)return null;const b=o.qe(c.kind);ol.Te.ce(p,b)}return o.$e()}on(e){const t=new Hl;return ol.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new Hl;return ol.Te.ce(Ur(this.databaseId,t),o.qe(function(c){const p=He(c);return 0===p.length?0:p[p.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let c=[];c.push(new Hl);let p=0;for(const b of He(e)){const S=o[p++];for(const j of c)if(this.ln(t,b.fieldPath)&&Ss(S))c=this.fn(c,b,S);else{const Z=j.qe(b.kind);ol.Te.ce(S,Z)}}return this.dn(c)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const c=[...e],p=[];for(const b of o.arrayValue.values||[])for(const S of c){const j=new Hl;j.seed(S.$e()),ol.Te.ce(b,j.qe(t.kind)),p.push(j)}return p}ln(e,t){return!!e.filters.find(o=>o instanceof ki&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=jc(e),c=$c(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(p=>{const b=[];return mt.forEach(p,S=>c.get([S.indexId,this.uid]).next(j=>{b.push(function(Z,ge){const Be=ge?new An(ge.sequenceNumber,new tr(au(ge.readTime),new V(No(ge.documentKey)),ge.largestBatchId)):An.empty(),ht=Z.fields.map(([Vt,Yt])=>new pn(F.fromServerFormat(Vt),Yt));return new ae(Z.indexId,Z.collectionGroup,ht,Be)}(S,j))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,c)=>{const p=o.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==p?p:Zn(o.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const c=jc(e),p=$c(e);return this._n(e).next(b=>c.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>mt.forEach(S,j=>p.put(Ep(j.indexId,this.user,b,o)))))}updateIndexEntries(e,t){const o=new Map;return mt.forEach(t,(c,p)=>{const b=o.get(c.collectionGroup);return(b?mt.resolve(b):this.getFieldIndexes(e,c.collectionGroup)).next(S=>(o.set(c.collectionGroup,S),mt.forEach(S,j=>this.wn(e,c,j).next(Z=>{const ge=this.mn(p,j);return Z.isEqual(ge)?mt.resolve():this.gn(e,p,j,Z,ge)}))))})}yn(e,t,o,c){return tn(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,c){return tn(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const c=tn(e);let p=new sr(_l);return c.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(b,S)=>{p=p.add(new Uu(o.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>p)}mn(e,t){let o=new sr(_l);const c=this.an(t,e);if(null==c)return o;const p=Oe(t);if(null!=p){const b=e.data.field(p.fieldPath);if(Ss(b))for(const S of b.arrayValue.values||[])o=o.add(new Uu(t.indexId,e.key,this.on(S),c))}else o=o.add(new Uu(t.indexId,e.key,Hc,c));return o}gn(e,t,o,c,p){Wt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const b=[];return function(S,j,Z,ge,Be){const ht=S.getIterator(),Vt=j.getIterator();let Yt=Ns(ht),_n=Ns(Vt);for(;Yt||_n;){let xn=!1,ar=!1;if(Yt&&_n){const Fr=Z(Yt,_n);Fr<0?ar=!0:Fr>0&&(xn=!0)}else null!=Yt?ar=!0:xn=!0;xn?(ge(_n),_n=Ns(Vt)):ar?(Be(Yt),Yt=Ns(ht)):(Yt=Ns(ht),_n=Ns(Vt))}}(c,p,_l,S=>{b.push(this.yn(e,t,o,S))},S=>{b.push(this.pn(e,t,o,S))}),mt.waitFor(b)}_n(e){let t=1;return $c(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,c,p)=>{p.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((b,S)=>_l(b,S)).filter((b,S,j)=>!S||0!==_l(b,j[S-1]));const c=[];c.push(e);for(const b of o){const S=_l(b,e),j=_l(b,t);if(0===S)c[0]=e.Ke();else if(S>0&&j<0)c.push(b),c.push(b.Ke());else if(j>0)break}c.push(t);const p=[];for(let b=0;b<c.length;b+=2)p.push(IDBKeyRange.bound([c[b].indexId,this.uid,c[b].arrayValue,c[b].directionalValue,Hc,[]],[c[b+1].indexId,this.uid,c[b+1].arrayValue,c[b+1].directionalValue,Hc,[]]));return p}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ld)}getMinOffset(e,t){return mt.mapArray(this.tn(t),o=>this.en(e,o).next(c=>c||Dn())).next(Ld)}}function Oh(r){return Us(r,"collectionParents")}function tn(r){return Us(r,"indexEntries")}function jc(r){return Us(r,"indexConfiguration")}function $c(r){return Us(r,"indexState")}function Ld(r){In(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<r.length;o++){const c=r[o].indexState.offset;Js(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new tr(e.readTime,e.documentKey,t)}const Ta={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ko{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ko(e,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Hu(r,e,t){const o=r.store("mutations"),c=r.store("documentMutations"),p=[],b=IDBKeyRange.only(t.batchId);let S=0;const j=o.Z({range:b},(ge,Be,ht)=>(S++,ht.delete()));p.push(j.next(()=>{In(1===S)}));const Z=[];for(const ge of t.mutations){const Be=mp(e,ge.key.path,t.batchId);p.push(c.delete(Be)),Z.push(ge.key)}return mt.waitFor(p).next(()=>Z)}function gc(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Dn();e=r.noDocument}return JSON.stringify(e).length}ko.DEFAULT_COLLECTION_PERCENTILE=10,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ko.DEFAULT=new ko(41943040,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ko.DISABLED=new ko(-1,0,0);class Fd{constructor(e,t,o,c){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=c,this.In={}}static oe(e,t,o,c){In(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Fd(p,t,o,c)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jl(e).Z({index:"userMutationsIndex",range:o},(c,p,b)=>{t=!1,b.done()}).next(()=>t)}addMutationBatch(e,t,o,c){const p=bl(e),b=jl(e);return b.add({}).next(S=>{In("number"==typeof S);const j=new xd(S,t,o,c),Z=function(ht,Vt,Yt){const _n=Yt.baseMutations.map(ar=>lc(ht.re,ar)),xn=Yt.mutations.map(ar=>lc(ht.re,ar));return{userId:Vt,batchId:Yt.batchId,localWriteTimeMs:Yt.localWriteTime.toMillis(),baseMutations:_n,mutations:xn}}(this.It,this.userId,j),ge=[];let Be=new sr((ht,Vt)=>Zn(ht.canonicalString(),Vt.canonicalString()));for(const ht of c){const Vt=mp(this.userId,ht.key.path,S);Be=Be.add(ht.key.path.popLast()),ge.push(b.put(Z)),ge.push(p.put(Vt,If))}return Be.forEach(ht=>{ge.push(this.indexManager.addToCollectionParentIndex(e,ht))}),e.addOnCommittedListener(()=>{this.In[S]=j.keys()}),mt.waitFor(ge).next(()=>j)})}lookupMutationBatch(e,t){return jl(e).get(t).next(o=>o?(In(o.userId===this.userId),Lu(this.It,o)):null)}Tn(e,t){return this.In[t]?mt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const c=o.keys();return this.In[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,c=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return jl(e).Z({index:"userMutationsIndex",range:c},(b,S,j)=>{S.userId===this.userId&&(In(S.batchId>=o),p=Lu(this.It,S)),j.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return jl(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(c,p,b)=>{o=p.batchId,b.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jl(e).W("userMutationsIndex",t).next(o=>o.map(c=>Lu(this.It,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=vh(this.userId,t.path),c=IDBKeyRange.lowerBound(o),p=[];return bl(e).Z({range:c},(b,S,j)=>{const[Z,ge,Be]=b,ht=No(ge);if(Z===this.userId&&t.path.isEqual(ht))return jl(e).get(Be).next(Vt=>{if(!Vt)throw Dn();In(Vt.userId===this.userId),p.push(Lu(this.It,Vt))});j.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new sr(Zn);const c=[];return t.forEach(p=>{const b=vh(this.userId,p.path),S=IDBKeyRange.lowerBound(b),j=bl(e).Z({range:S},(Z,ge,Be)=>{const[ht,Vt,Yt]=Z,_n=No(Vt);ht===this.userId&&p.path.isEqual(_n)?o=o.add(Yt):Be.done()});c.push(j)}),mt.waitFor(c).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,c=o.length+1,p=vh(this.userId,o),b=IDBKeyRange.lowerBound(p);let S=new sr(Zn);return bl(e).Z({range:b},(j,Z,ge)=>{const[Be,ht,Vt]=j,Yt=No(ht);Be===this.userId&&o.isPrefixOf(Yt)?Yt.length===c&&(S=S.add(Vt)):ge.done()}).next(()=>this.En(e,S))}En(e,t){const o=[],c=[];return t.forEach(p=>{c.push(jl(e).get(p).next(b=>{if(null===b)throw Dn();In(b.userId===this.userId),o.push(Lu(this.It,b))}))}),mt.waitFor(c).next(()=>o)}removeMutationBatch(e,t){return Hu(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),mt.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return mt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),c=[];return bl(e).Z({range:o},(p,b,S)=>{if(p[0]===this.userId){const j=No(p[1]);c.push(j)}else S.done()}).next(()=>{In(0===c.length)})})}containsKey(e,t){return Of(e,this.userId,t)}Rn(e){return Mf(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Of(r,e,t){const o=vh(e,t.path),c=o[1],p=IDBKeyRange.lowerBound(o);let b=!1;return bl(r).Z({range:p,X:!0},(S,j,Z)=>{const[ge,Be,ht]=S;ge===e&&Be===c&&(b=!0),Z.done()}).next(()=>b)}function jl(r){return Us(r,"mutations")}function bl(r){return Us(r,"documentMutations")}function Mf(r){return Us(r,"mutationQueues")}class lu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new lu(0)}static vn(){return new lu(-1)}}class Pf{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new lu(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Fn.fromTimestamp(new Ti(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(c=>(c.highestListenSequenceNumber=t,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.Sn(e,c)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bn(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(In(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let c=0;const p=[];return Bn(e).Z((b,S)=>{const j=vl(S);j.sequenceNumber<=t&&null===o.get(j.targetId)&&(c++,p.push(this.removeTargetData(e,j)))}).next(()=>mt.waitFor(p)).next(()=>c)}forEachTarget(e,t){return Bn(e).Z((o,c)=>{const p=vl(c);t(p)})}Vn(e){return la(e).get("targetGlobalKey").next(t=>(In(null!==t),t))}Sn(e,t){return la(e).put("targetGlobalKey",t)}Dn(e,t){return Bn(e).put(Ih(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Zt(t),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return Bn(e).Z({range:c,index:"queryTargetsIndex"},(b,S,j)=>{const Z=vl(S);Nn(t,Z.target)&&(p=Z,j.done())}).next(()=>p)}addMatchingKeys(e,t,o){const c=[],p=zr(e);return t.forEach(b=>{const S=bo(b.path);c.push(p.put({targetId:o,path:S})),c.push(this.referenceDelegate.addReference(e,o,b))}),mt.waitFor(c)}removeMatchingKeys(e,t,o){const c=zr(e);return mt.forEach(t,p=>{const b=bo(p.path);return mt.waitFor([c.delete([o,b]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,t){const o=zr(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),c=zr(e);let p=gn();return c.Z({range:o,X:!0},(b,S,j)=>{const Z=No(b[1]),ge=new V(Z);p=p.add(ge)}).next(()=>p)}containsKey(e,t){const o=bo(t.path),c=IDBKeyRange.bound([o],[ya(o)],!1,!0);let p=0;return zr(e).Z({index:"documentTargetsIndex",X:!0,range:c},([b,S],j,Z)=>{0!==b&&(p++,Z.done())}).next(()=>p>0)}se(e,t){return Bn(e).get(t).next(o=>o?vl(o):null)}}function Bn(r){return Us(r,"targets")}function la(r){return Us(r,"targetGlobal")}function zr(r){return Us(r,"targetDocuments")}function Vd([r,e],[t,o]){const c=Zn(r,t);return 0===c?Zn(e,o):c}class Gc{constructor(e){this.xn=e,this.buffer=new sr(Vd),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Vd(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lo{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Wt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,g.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){ws(o)?Wt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Rs(o)}yield t.Fn(3e5)}))}}class mc{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return mt.resolve(As.at);const o=new Gc(t);return this.$n.forEachTarget(e,c=>o.On(c.sequenceNumber)).next(()=>this.$n.Ln(e,c=>o.On(c))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(Ta)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ta):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,c,p,b,S,j,Z;const ge=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Be=>(Be>this.params.maximumSequenceNumbersToCollect?(Wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Be}`),c=this.params.maximumSequenceNumbersToCollect):c=Be,b=Date.now(),this.nthSequenceNumber(e,c))).next(Be=>(o=Be,S=Date.now(),this.removeTargets(e,o,t))).next(Be=>(p=Be,j=Date.now(),this.removeOrphanedDocuments(e,o))).next(Be=>(Z=Date.now(),go()<=De.in.DEBUG&&Wt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ge}ms\n\tDetermined least recently used ${c} in `+(S-b)+`ms\n\tRemoved ${p} targets in `+(j-S)+`ms\n\tRemoved ${Be} documents in `+(Z-j)+`ms\nTotal Duration: ${Z-ge}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:p,documentsRemoved:Be})))}}class Fo{constructor(e,t){this.db=e,this.garbageCollector=new mc(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(c=>o+c))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,c)=>t(c))}addReference(e,t,o){return yc(e,o)}removeReference(e,t,o){return yc(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return yc(e,t)}Gn(e,t){return function(o,c){let p=!1;return Mf(o).tt(b=>Of(o,b,c).next(S=>(S&&(p=!0),mt.resolve(!S)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let p=0;return this.Kn(e,(b,S)=>{if(S<=t){const j=this.Gn(e,b).next(Z=>{if(!Z)return p++,o.getEntry(e,b).next(()=>(o.removeEntry(b,Fn.min()),zr(e).delete([0,bo(b.path)])))});c.push(j)}}).next(()=>mt.waitFor(c)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return yc(e,t)}Kn(e,t){const o=zr(e);let c,p=As.at;return o.Z({index:"documentTargetsIndex"},([b,S],{path:j,sequenceNumber:Z})=>{0===b?(p!==As.at&&t(new V(No(c)),p),p=Z,c=j):p=As.at}).next(()=>{p!==As.at&&t(new V(No(c)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yc(r,e){return zr(r).put((o=r.currentSequenceNumber,{targetId:0,path:bo(e.path),sequenceNumber:o}));var o}class ja{constructor(){this.changes=new Vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Te.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?mt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uu{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return cu(e).put(o)}removeEntry(e,t,o){return cu(e).delete(function(c,p){const b=c.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],Dh(p),b[b.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=Te.newInvalidDocument(t);return cu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ud(t))},(c,p)=>{o=this.jn(t,p)}).next(()=>o)}Wn(e,t){let o={size:0,document:Te.newInvalidDocument(t)};return cu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ud(t))},(c,p)=>{o={document:this.jn(t,p),size:gc(p)}}).next(()=>o)}getEntries(e,t){let o=hs();return this.zn(e,t,(c,p)=>{const b=this.jn(c,p);o=o.insert(c,b)}).next(()=>o)}Hn(e,t){let o=hs(),c=new mr(V.comparator);return this.zn(e,t,(p,b)=>{const S=this.jn(p,b);o=o.insert(p,S),c=c.insert(p,gc(b))}).next(()=>({documents:o,Jn:c}))}zn(e,t,o){if(t.isEmpty())return mt.resolve();let c=new sr(Zc);t.forEach(j=>c=c.add(j));const p=IDBKeyRange.bound(Ud(c.first()),Ud(c.last())),b=c.getIterator();let S=b.getNext();return cu(e).Z({index:"documentKeyIndex",range:p},(j,Z,ge)=>{const Be=V.fromSegments([...Z.prefixPath,Z.collectionGroup,Z.documentId]);for(;S&&Zc(S,Be)<0;)o(S,null),S=b.getNext();S&&S.isEqual(Be)&&(o(S,Z),S=b.hasNext()?b.getNext():null),S?ge.j(Ud(S)):ge.done()}).next(()=>{for(;S;)o(S,null),S=b.hasNext()?b.getNext():null})}getAllFromCollection(e,t,o){const c=[t.popLast().toArray(),t.lastSegment(),Dh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],p=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cu(e).W(IDBKeyRange.bound(c,p,!0)).next(b=>{let S=hs();for(const j of b){const Z=this.jn(V.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);S=S.insert(Z.key,Z)}return S})}getAllFromCollectionGroup(e,t,o,c){let p=hs();const b=Wc(t,o),S=Wc(t,tr.max());return cu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,S,!0)},(j,Z,ge)=>{const Be=this.jn(V.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);p=p.insert(Be.key,Be),p.size===c&&ge.done()}).next(()=>p)}newChangeBuffer(e){return new zc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ju(e).get("remoteDocumentGlobalKey").next(t=>(In(!!t),t))}Qn(e,t){return ju(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function bp(r,e){let t;if(e.document)t=Ed(r.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=V.fromSegments(e.noDocument.path),c=au(e.noDocument.readTime);t=Te.newNoDocument(o,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dn();{const o=V.fromSegments(e.unknownDocument.path),c=au(e.unknownDocument.version);t=Te.newUnknownDocument(o,c)}}return e.readTime&&t.setReadTime(function(o){const c=new Ti(o[0],o[1]);return Fn.fromTimestamp(c)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(Fn.min()))return o}return Te.newInvalidDocument(e)}}function $l(r){return new uu(r)}class zc extends ja{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Vs(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(e){const t=[];let o=0,c=new sr((p,b)=>Zn(p.canonicalString(),b.canonicalString()));return this.changes.forEach((p,b)=>{const S=this.Xn.get(p);if(t.push(this.Yn.removeEntry(e,p,S.readTime)),b.isValidDocument()){const j=Od(this.Yn.It,b);c=c.add(p.path.popLast()),o+=gc(j)-S.size,t.push(this.Yn.addEntry(e,p,j))}else if(o-=S.size,this.trackRemovals){const j=Od(this.Yn.It,b.convertToNoDocument(Fn.min()));t.push(this.Yn.addEntry(e,p,j))}}),c.forEach(p=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,p))}),t.push(this.Yn.updateMetadata(e,o)),mt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:c})=>(c.forEach((p,b)=>{this.Xn.set(p,{size:b,readTime:o.get(p).readTime})}),o))}}function ju(r){return Us(r,"remoteDocumentGlobal")}function cu(r){return Us(r,"remoteDocumentsV14")}function Ud(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Wc(r,e){const t=e.documentKey.path.toArray();return[r,Dh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Zc(r,e){const t=r.path.toArray(),o=e.path.toArray();let c=0;for(let p=0;p<t.length-2&&p<o.length-2;++p)if(c=Zn(t[p],o[p]),c)return c;return c=Zn(t.length,o.length),c||(c=Zn(t[t.length-2],o[o.length-2]),c||Zn(t[t.length-1],o[o.length-1]))}class Bd{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Hd{constructor(e,t,o,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(o=c,this.getBaseDocument(e,t,o))).next(c=>(null!==o&&Mu(o.mutation,c,Xo.empty(),Ti.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,gn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=gn()){const c=Ro();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,o).next(p=>{let b=Nl();return p.forEach((S,j)=>{b=b.insert(S,j.overlayedDocument)}),b}))}getOverlayedDocuments(e,t){const o=Ro();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,gn()))}populateOverlays(e,t,o){const c=[];return o.forEach(p=>{t.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((b,S)=>{t.set(b,S)})})}computeViews(e,t,o,c){let p=hs();const b=Ll(),S=Ll();return t.forEach((j,Z)=>{const ge=o.get(Z.key);c.has(Z.key)&&(void 0===ge||ge.mutation instanceof y)?p=p.insert(Z.key,Z):void 0!==ge&&(b.set(Z.key,ge.mutation.getFieldMask()),Mu(ge.mutation,Z,ge.mutation.getFieldMask(),Ti.now()))}),this.recalculateAndSaveOverlays(e,p).next(j=>(j.forEach((Z,ge)=>b.set(Z,ge)),t.forEach((Z,ge)=>{var Be;return S.set(Z,new Bd(ge,null!==(Be=b.get(Z))&&void 0!==Be?Be:null))}),S))}recalculateAndSaveOverlays(e,t){const o=Ll();let c=new mr((b,S)=>b-S),p=gn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(b=>{for(const S of b)S.keys().forEach(j=>{const Z=t.get(j);if(null===Z)return;let ge=o.get(j)||Xo.empty();ge=S.applyToLocalView(Z,ge),o.set(j,ge);const Be=(c.get(S.batchId)||gn()).add(j);c=c.insert(S.batchId,Be)})}).next(()=>{const b=[],S=c.getReverseIterator();for(;S.hasNext();){const j=S.getNext(),Z=j.key,ge=j.value,Be=kl();ge.forEach(ht=>{if(!p.has(ht)){const Vt=lh(t.get(ht),o.get(ht));null!==Vt&&Be.set(ht,Vt),p=p.add(ht)}}),b.push(this.documentOverlayCache.saveOverlays(e,Z,Be))}return mt.waitFor(b)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return V.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Xu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var c}getNextDocuments(e,t,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,c).next(p=>{const b=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,c-p.size):mt.resolve(Ro());let S=-1,j=p;return b.next(Z=>mt.forEach(Z,(ge,Be)=>(S<Be.largestBatchId&&(S=Be.largestBatchId),p.get(ge)?mt.resolve():this.getBaseDocument(e,ge,Be).next(ht=>{j=j.insert(ge,ht)}))).next(()=>this.populateOverlays(e,Z,p)).next(()=>this.computeViews(e,j,Z,gn())).next(ge=>({batchId:S,changes:Mc(ge)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new V(t)).next(o=>{let c=Nl();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const c=t.collectionGroup;let p=Nl();return this.indexManager.getCollectionParents(e,c).next(b=>mt.forEach(b,S=>{const j=(Z=t,ge=S.child(c),new to(ge,null,Z.explicitOrderBy.slice(),Z.filters.slice(),Z.limit,Z.limitType,Z.startAt,Z.endAt));var Z,ge;return this.getDocumentsMatchingCollectionQuery(e,j,o).next(Z=>{Z.forEach((ge,Be)=>{p=p.insert(ge,Be)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,o){let c;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(p=>(c=p,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(p=>{p.forEach((S,j)=>{const Z=j.getKey();null===c.get(Z)&&(c=c.insert(Z,Te.newInvalidDocument(Z)))});let b=Nl();return c.forEach((S,j)=>{const Z=p.get(S);void 0!==Z&&Mu(Z.mutation,j,Xo.empty(),Ti.now()),Po(t,j)&&(b=b.insert(S,j))}),b})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):mt.resolve(Te.newInvalidDocument(t))}}class Kc{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return mt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:is(o.createTime)}),mt.resolve()}getNamedQuery(e,t){return mt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Ah(o.bundledQuery),readTime:is(o.readTime)}),mt.resolve();var o}}class Mh{constructor(){this.overlays=new mr(V.comparator),this.es=new Map}getOverlay(e,t){return mt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ro();return mt.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&o.set(c,p)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((c,p)=>{this.ue(e,t,p)}),mt.resolve()}removeOverlaysForBatchId(e,t,o){const c=this.es.get(o);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.es.delete(o)),mt.resolve()}getOverlaysForCollection(e,t,o){const c=Ro(),p=t.length+1,b=new V(t.child("")),S=this.overlays.getIteratorFrom(b);for(;S.hasNext();){const j=S.getNext().value,Z=j.getKey();if(!t.isPrefixOf(Z.path))break;Z.path.length===p&&j.largestBatchId>o&&c.set(j.getKey(),j)}return mt.resolve(c)}getOverlaysForCollectionGroup(e,t,o,c){let p=new mr((Z,ge)=>Z-ge);const b=this.overlays.getIterator();for(;b.hasNext();){const Z=b.getNext().value;if(Z.getKey().getCollectionGroup()===t&&Z.largestBatchId>o){let ge=p.get(Z.largestBatchId);null===ge&&(ge=Ro(),p=p.insert(Z.largestBatchId,ge)),ge.set(Z.getKey(),Z)}}const S=Ro(),j=p.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((Z,ge)=>S.set(Z,ge)),!(S.size()>=c)););return mt.resolve(S)}ue(e,t,o){const c=this.overlays.get(o.key);if(null!==c){const b=this.es.get(c.largestBatchId).delete(o.key);this.es.set(c.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new Vc(t,o));let p=this.es.get(t);void 0===p&&(p=gn(),this.es.set(t,p)),this.es.set(t,p.add(o.key))}}class jd{constructor(){this.ns=new sr(Bs.ss),this.rs=new sr(Bs.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new Bs(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new Bs(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new V(new D([])),o=new Bs(t,e),c=new Bs(t,e+1),p=[];return this.rs.forEachInRange([o,c],b=>{this.cs(b),p.push(b.key)}),p}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new V(new D([])),o=new Bs(t,e),c=new Bs(t,e+1);let p=gn();return this.rs.forEachInRange([o,c],b=>{p=p.add(b.key)}),p}containsKey(e){const t=new Bs(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Bs{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return V.comparator(e.key,t.key)||Zn(e._s,t._s)}static os(e,t){return Zn(e._s,t._s)||V.comparator(e.key,t.key)}}class Ph{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new sr(Bs.ss)}checkEmpty(e){return mt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,c){const p=this.ws;this.ws++;const b=new xd(p,t,o,c);this.mutationQueue.push(b);for(const S of c)this.gs=this.gs.add(new Bs(S.key,p)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return mt.resolve(b)}lookupMutationBatch(e,t){return mt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.ps(t+1),p=c<0?0:c;return mt.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Bs(t,0),c=new Bs(t,Number.POSITIVE_INFINITY),p=[];return this.gs.forEachInRange([o,c],b=>{const S=this.ys(b._s);p.push(S)}),mt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new sr(Zn);return t.forEach(c=>{const p=new Bs(c,0),b=new Bs(c,Number.POSITIVE_INFINITY);this.gs.forEachInRange([p,b],S=>{o=o.add(S._s)})}),mt.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,c=o.length+1;let p=o;V.isDocumentKey(p)||(p=p.child(""));const b=new Bs(new V(p),0);let S=new sr(Zn);return this.gs.forEachWhile(j=>{const Z=j.key.path;return!!o.isPrefixOf(Z)&&(Z.length===c&&(S=S.add(j._s)),!0)},b),mt.resolve(this.Is(S))}Is(e){const t=[];return e.forEach(o=>{const c=this.ys(o);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){In(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return mt.forEach(t.mutations,c=>{const p=new Bs(c.key,t.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new Bs(t,0),c=this.gs.firstAfterOrEqual(o);return mt.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return mt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Tp{constructor(e){this.Es=e,this.docs=new mr(V.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,c=this.docs.get(o),p=c?c.size:0,b=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:b}),this.size+=b-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return mt.resolve(o?o.document.mutableCopy():Te.newInvalidDocument(t))}getEntries(e,t){let o=hs();return t.forEach(c=>{const p=this.docs.get(c);o=o.insert(c,p?p.document.mutableCopy():Te.newInvalidDocument(c))}),mt.resolve(o)}getAllFromCollection(e,t,o){let c=hs();const p=new V(t.child("")),b=this.docs.getIteratorFrom(p);for(;b.hasNext();){const{key:S,value:{document:j}}=b.getNext();if(!t.isPrefixOf(S.path))break;S.path.length>t.length+1||Js(bi(j),o)<=0||(c=c.insert(j.key,j.mutableCopy()))}return mt.resolve(c)}getAllFromCollectionGroup(e,t,o,c){Dn()}As(e,t){return mt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Rh(this)}getSize(e){return mt.resolve(this.size)}}class Rh extends ja{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?t.push(this.Yn.addEntry(e,c)):this.Yn.removeEntry(o)}),mt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Dp{constructor(e){this.persistence=e,this.Rs=new Vs(t=>Zt(t),Nn),this.lastRemoteSnapshotVersion=Fn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new jd,this.targetCount=0,this.vs=lu.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,c)=>t(c)),mt.resolve()}getLastRemoteSnapshotVersion(e){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),mt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new lu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,mt.resolve()}updateTargetData(e,t){return this.Dn(t),mt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,mt.resolve()}removeTargets(e,t,o){let c=0;const p=[];return this.Rs.forEach((b,S)=>{S.sequenceNumber<=t&&null===o.get(S.targetId)&&(this.Rs.delete(b),p.push(this.removeMatchingKeysForTargetId(e,S.targetId)),c++)}),mt.waitFor(p).next(()=>c)}getTargetCount(e){return mt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return mt.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),mt.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const c=this.persistence.referenceDelegate,p=[];return c&&t.forEach(b=>{p.push(c.markPotentiallyOrphaned(e,b))}),mt.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),mt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return mt.resolve(o)}containsKey(e,t){return mt.resolve(this.Ps.containsKey(t))}}class Nh{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new As(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Dp(this),this.indexManager=new kd,this.remoteDocumentCache=new Tp(o=>this.referenceDelegate.xs(o)),this.It=new pc(t),this.Ns=new Kc(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Ph(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){Wt("MemoryPersistence","Starting transaction:",e);const c=new Fg(this.Ss.next());return this.referenceDelegate.ks(),o(c).next(p=>this.referenceDelegate.Os(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Ms(e,t){return mt.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class Fg extends mo{constructor(e){super(),this.currentSequenceNumber=e}}class vc{constructor(e){this.persistence=e,this.Fs=new jd,this.$s=null}static Bs(e){return new vc(e)}get Ls(){if(this.$s)return this.$s;throw Dn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),mt.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),mt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),mt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(c=>this.Ls.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(p=>this.Ls.add(p.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.Ls,o=>{const c=V.fromPath(o);return this.Us(e,c).next(p=>{p||t.removeEntry(c,Fn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return mt.or([()=>mt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class kh{constructor(e){this.It=e}$(e,t,o,c){const p=new Er("createOrUpgrade",t);var S;o<1&&c>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rl,{unique:!0}),S.createObjectStore("documentMutations"),Rf(e),function(S){S.createObjectStore("remoteDocuments")}(e));let b=mt.resolve();return o<3&&c>=3&&(0!==o&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),Rf(e)),b=b.next(()=>function(S){const j=S.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fn.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",Z)}(p))),o<4&&c>=4&&(0!==o&&(b=b.next(()=>function(S,j){return j.store("mutations").W().next(Z=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rl,{unique:!0});const ge=j.store("mutations"),Be=Z.map(ht=>ge.put(ht));return mt.waitFor(Be)})}(e,p))),b=b.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&c>=5&&(b=b.next(()=>this.qs(p))),o<6&&c>=6&&(b=b.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(p)))),o<7&&c>=7&&(b=b.next(()=>this.Gs(p))),o<8&&c>=8&&(b=b.next(()=>this.Qs(e,p))),o<9&&c>=9&&(b=b.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&c>=10&&(b=b.next(()=>this.js(p))),o<11&&c>=11&&(b=b.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&c>=12&&(b=b.next(()=>{!function(S){const j=S.createObjectStore("documentOverlays",{keyPath:wh});j.createIndex("collectionPathOverlayIndex",iy,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",fc,{unique:!1})}(e)})),o<13&&c>=13&&(b=b.next(()=>function(S){const j=S.createObjectStore("remoteDocumentsV14",{keyPath:_h});j.createIndex("documentKeyIndex",sl),j.createIndex("collectionGroupIndex",Td)}(e)).next(()=>this.Ws(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&c>=14&&(b=b.next(()=>this.zs(e,p))),o<15&&c>=15&&(b=b.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:bh}).createIndex("sequenceNumberIndex",Eh,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:Dd}).createIndex("documentKeyIndex",Id,{unique:!1})}(e))),b}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,c)=>{t+=gc(c)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(c=>mt.forEach(c,p=>{const b=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",b).next(S=>mt.forEach(S,j=>{In(j.userId===p.userId);const Z=Lu(this.It,j);return Hu(e,p.userId,Z).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const p=[];return o.Z((b,S)=>{const j=new D(b),Z=[0,bo(j)];p.push(t.get(Z).next(ge=>ge?mt.resolve():t.put({targetId:0,path:bo(j),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>mt.waitFor(p))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Lc});const o=t.store("collectionParents"),c=new Bu,p=b=>{if(c.add(b)){const S=b.lastSegment(),j=b.popLast();return o.put({collectionId:S,parent:bo(j)})}};return t.store("remoteDocuments").Z({X:!0},(b,S)=>{const j=new D(b);return p(j.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([b,S,j],Z)=>{const ge=No(S);return p(ge.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,c)=>{const p=vl(c),b=Ih(this.It,p);return t.put(b)})}Ws(e,t){const o=t.store("remoteDocuments"),c=[];return o.Z((p,b)=>{const S=t.store("remoteDocumentsV14"),j=(Z=b,Z.document?new V(D.fromString(Z.document.name).popFirst(5)):Z.noDocument?V.fromSegments(Z.noDocument.path):Z.unknownDocument?V.fromSegments(Z.unknownDocument.path):Dn()).path.toArray();var Z;const ge={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};c.push(S.put(ge))}).next(()=>mt.waitFor(c))}zs(e,t){const o=t.store("mutations"),c=$l(this.It),p=new Nh(vc.Bs,this.It.re);return o.W().next(b=>{const S=new Map;return b.forEach(j=>{var Z;let ge=null!==(Z=S.get(j.userId))&&void 0!==Z?Z:gn();Lu(this.It,j).keys().forEach(Be=>ge=ge.add(Be)),S.set(j.userId,ge)}),mt.forEach(S,(j,Z)=>{const ge=new Oi(Z),Be=Fu.oe(this.It,ge),ht=p.getIndexManager(ge),Vt=Fd.oe(ge,this.It,ht,p.referenceDelegate);return new Hd(c,Vt,Be,ht).recalculateAndSaveOverlaysForDocumentKeys(new Sd(t,As.at),j).next()})})}}function Rf(r){r.createObjectStore("targetDocuments",{keyPath:yp}).createIndex("documentTargetsIndex",Af,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kc,{unique:!0}),r.createObjectStore("targetGlobal")}const qc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Lh{constructor(e,t,o,c,p,b,S,j,Z,ge,Be=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=p,this.window=b,this.document=S,this.Js=Z,this.Ys=ge,this.Xs=Be,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=ht=>Promise.resolve(),!Lh.C())throw new jt(bt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fo(this,c),this.ii=t+"main",this.It=new pc(j),this.ri=new Xs(this.ii,this.Xs,new kh(this.It)),this.Cs=new Pf(this.referenceDelegate,this.It),this.remoteDocumentCache=$l(this.It),this.Ns=new wp,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ge&&Mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new jt(bt.FAILED_PRECONDITION,qc);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new As(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,g.Z)(function*(c){if(t.started)return e(c)});return function(c){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,g.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,g.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Fh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ws(e))return Wt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Wt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return $d(e).get("owner").next(t=>mt.resolve(this.mi(t)))}gi(e){return Fh(e).delete(this.clientId)}yi(){var e=this;return(0,g.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=Us(o,"clientMetadata");return c.W().next(p=>{const b=e.Ii(p,18e5),S=p.filter(j=>-1===b.indexOf(j));return mt.forEach(S,j=>c.delete(j.clientId)).next(()=>S)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?mt.resolve(!0):$d(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new jt(bt.FAILED_PRECONDITION,qc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fh(e).W().next(o=>void 0===this.Ii(o,5e3).find(c=>{if(this.clientId!==c.clientId){const b=!this.inForeground&&c.inForeground,S=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||b&&S)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Wt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,g.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Sd(t,As.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Fh(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Fd.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ry(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Fu.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){Wt("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",p=15===(b=this.Xs)?_p:14===b?Th:13===b?Ad:12===b?vp:11===b?Ch:void Dn();var b;let S;return this.ri.runTransaction(e,c,p,j=>(S=new Sd(j,this.Ss?this.Ss.next():As.at),"readwrite-primary"===t?this.fi(S).next(Z=>!!Z||this.di(S)).next(Z=>{if(!Z)throw Mi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new jt(bt.FAILED_PRECONDITION,ka);return o(S)}).next(Z=>this.wi(S).next(()=>Z)):this.Vi(S).next(()=>o(S)))).then(j=>(S.raiseOnCommittedEvent(),j))}Vi(e){return $d(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new jt(bt.FAILED_PRECONDITION,qc)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $d(e).put("owner",t)}static C(){return Xs.C()}_i(e){const t=$d(e);return t.get("owner").next(o=>this.mi(o)?(Wt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):mt.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Mi(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,_e.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Wt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Mi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Mi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $d(r){return Us(r,"owner")}function Fh(r){return Us(r,"clientMetadata")}function Nf(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class kf{constructor(e,t,o,c){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=c}static Ci(e,t){let o=gn(),c=gn();for(const p of t.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new kf(e,t.fromCache,o,c)}}class Vg{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,c){return this.ki(e,t).next(p=>p||this.Oi(e,t,c,o)).next(p=>p||this.Mi(e,t))}ki(e,t){if(Qu(t))return mt.resolve(null);let o=no(t);return this.indexManager.getIndexType(e,o).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=iu(t,null,"F"),o=no(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const b=gn(...p);return this.Ni.getDocuments(e,b).next(S=>this.indexManager.getMinOffset(e,o).next(j=>{const Z=this.Fi(t,S);return this.$i(t,Z,b,j.readTime)?this.ki(e,iu(t,null,"F")):this.Bi(e,Z,t,j)}))})))}Oi(e,t,o,c){return Qu(t)||c.isEqual(Fn.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(p=>{const b=this.Fi(t,p);return this.$i(t,b,o,c)?this.Mi(e,t):(go()<=De.in.DEBUG&&Wt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Ic(t)),this.Bi(e,b,t,gi(c,-1)))})}Fi(e,t){let o=new sr(Ua(e));return t.forEach((c,p)=>{Po(e,p)&&(o=o.add(p))}),o}$i(e,t,o,c){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Mi(e,t){return go()<=De.in.DEBUG&&Wt("QueryEngine","Using full collection scan to execute query:",Ic(t)),this.Ni.getDocumentsMatchingQuery(e,t,tr.min())}Bi(e,t,o,c){return this.Ni.getDocumentsMatchingQuery(e,o,c).next(p=>(t.forEach(b=>{p=p.insert(b.key,b)}),p))}}class v{constructor(e,t,o,c){this.persistence=e,this.Li=t,this.It=c,this.Ui=new mr(Zn),this.qi=new Vs(p=>Zt(p),Nn),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hd(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function u(r,e,t,o){return new v(r,e,t,o)}function a(r,e){return f.apply(this,arguments)}function f(){return f=(0,g.Z)(function*(r,e){const t=rn(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let c;return t.mutationQueue.getAllMutationBatches(o).next(p=>(c=p,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(p=>{const b=[],S=[];let j=gn();for(const Z of c){b.push(Z.batchId);for(const ge of Z.mutations)j=j.add(ge.key)}for(const Z of p){S.push(Z.batchId);for(const ge of Z.mutations)j=j.add(ge.key)}return t.localDocuments.getDocuments(o,j).next(Z=>({ji:Z,removedBatchIds:b,addedBatchIds:S}))})})}),f.apply(this,arguments)}function E(r,e){const t=rn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),p=t.Gi.newChangeBuffer({trackRemovals:!0});return function(b,S,j,Z){const ge=j.batch,Be=ge.keys();let ht=mt.resolve();return Be.forEach(Vt=>{ht=ht.next(()=>Z.getEntry(S,Vt)).next(Yt=>{const _n=j.docVersions.get(Vt);In(null!==_n),Yt.version.compareTo(_n)<0&&(ge.applyToRemoteDocument(Yt,j),Yt.isValidDocument()&&(Yt.setReadTime(j.commitVersion),Z.addEntry(Yt)))})}),ht.next(()=>b.mutationQueue.removeMutationBatch(S,ge))}(t,o,e,p).next(()=>p.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(b){let S=gn();for(let j=0;j<b.mutationResults.length;++j)b.mutationResults[j].transformResults.length>0&&(S=S.add(b.batch.mutations[j].key));return S}(e))).next(()=>t.localDocuments.getDocuments(o,c))})}function k(r){const e=rn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function K(r,e){const t=rn(r),o=e.snapshotVersion;let c=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const b=t.Gi.newChangeBuffer({trackRemovals:!0});c=t.Ui;const S=[];e.targetChanges.forEach((ge,Be)=>{const ht=c.get(Be);if(!ht)return;S.push(t.Cs.removeMatchingKeys(p,ge.removedDocuments,Be).next(()=>t.Cs.addMatchingKeys(p,ge.addedDocuments,Be)));let Vt=ht.withSequenceNumber(p.currentSequenceNumber);var Yt,_n,xn;e.targetMismatches.has(Be)?Vt=Vt.withResumeToken(Cr.EMPTY_BYTE_STRING,Fn.min()).withLastLimboFreeSnapshotVersion(Fn.min()):ge.resumeToken.approximateByteSize()>0&&(Vt=Vt.withResumeToken(ge.resumeToken,o)),c=c.insert(Be,Vt),_n=Vt,xn=ge,(0===(Yt=ht).resumeToken.approximateByteSize()||_n.snapshotVersion.toMicroseconds()-Yt.snapshotVersion.toMicroseconds()>=3e8||xn.addedDocuments.size+xn.modifiedDocuments.size+xn.removedDocuments.size>0)&&S.push(t.Cs.updateTargetData(p,Vt))});let j=hs(),Z=gn();if(e.documentUpdates.forEach(ge=>{e.resolvedLimboDocuments.has(ge)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(p,ge))}),S.push(ye(p,b,e.documentUpdates).next(ge=>{j=ge.Wi,Z=ge.zi})),!o.isEqual(Fn.min())){const ge=t.Cs.getLastRemoteSnapshotVersion(p).next(Be=>t.Cs.setTargetsMetadata(p,p.currentSequenceNumber,o));S.push(ge)}return mt.waitFor(S).next(()=>b.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,j,Z)).next(()=>j)}).then(p=>(t.Ui=c,p))}function ye(r,e,t){let o=gn(),c=gn();return t.forEach(p=>o=o.add(p)),e.getEntries(r,o).next(p=>{let b=hs();return t.forEach((S,j)=>{const Z=p.get(S);j.isFoundDocument()!==Z.isFoundDocument()&&(c=c.add(S)),j.isNoDocument()&&j.version.isEqual(Fn.min())?(e.removeEntry(S,j.readTime),b=b.insert(S,j)):!Z.isValidDocument()||j.version.compareTo(Z.version)>0||0===j.version.compareTo(Z.version)&&Z.hasPendingWrites?(e.addEntry(j),b=b.insert(S,j)):Wt("LocalStore","Ignoring outdated watch update for ",S,". Current version:",Z.version," Watch version:",j.version)}),{Wi:b,zi:c}})}function Ve(r,e){const t=rn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function at(r,e){const t=rn(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return t.Cs.getTargetData(o,e).next(p=>p?(c=p,mt.resolve(c)):t.Cs.allocateTargetId(o).next(b=>(c=new ou(e,b,0,o.currentSequenceNumber),t.Cs.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=t.Ui.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function kt(r,e,t){return dn.apply(this,arguments)}function dn(){return dn=(0,g.Z)(function*(r,e,t){const o=rn(r),c=o.Ui.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",p,b=>o.persistence.referenceDelegate.removeTarget(b,c)))}catch(b){if(!ws(b))throw b;Wt("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}o.Ui=o.Ui.remove(e),o.qi.delete(c.target)}),dn.apply(this,arguments)}function Cn(r,e,t){const o=rn(r);let c=Fn.min(),p=gn();return o.persistence.runTransaction("Execute query","readonly",b=>function(S,j,Z){const ge=rn(S),Be=ge.qi.get(Z);return void 0!==Be?mt.resolve(ge.Ui.get(Be)):ge.Cs.getTargetData(j,Z)}(o,b,no(e)).next(S=>{if(S)return c=S.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(b,S.targetId).next(j=>{p=j})}).next(()=>o.Li.getDocumentsMatchingQuery(b,e,t?c:Fn.min(),t?p:gn())).next(S=>(zn(o,Ac(e),S),{documents:S,Hi:p})))}function Vn(r,e){const t=rn(r),o=rn(t.Cs),c=t.Ui.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",p=>o.se(p,e).next(b=>b?b.target:null))}function Un(r,e){const t=rn(r),o=t.Ki.get(e)||Fn.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Gi.getAllFromCollectionGroup(c,e,gi(o,-1),Number.MAX_SAFE_INTEGER)).then(c=>(zn(t,e,c),c))}function zn(r,e,t){let o=r.Ki.get(e)||Fn.min();t.forEach((c,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),r.Ki.set(e,o)}function cr(){return cr=(0,g.Z)(function*(r,e,t,o){const c=rn(r);let p=gn(),b=hs();for(const Z of t){const ge=e.Ji(Z.metadata.name);Z.document&&(p=p.add(ge));const Be=e.Yi(Z);Be.setReadTime(e.Xi(Z.metadata.readTime)),b=b.insert(ge,Be)}const S=c.Gi.newChangeBuffer({trackRemovals:!0}),j=yield at(c,(Z=o,no(Su(D.fromString(`__bundle__/docs/${Z}`)))));var Z;return c.persistence.runTransaction("Apply bundle documents","readwrite",Z=>ye(Z,S,b).next(ge=>(S.apply(Z),ge)).next(ge=>c.Cs.removeMatchingKeysForTargetId(Z,j.targetId).next(()=>c.Cs.addMatchingKeys(Z,p,j.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(Z,ge.Wi,ge.zi)).next(()=>ge.Wi)))}),cr.apply(this,arguments)}function Wr(r,e){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,g.Z)(function*(r,e,t=gn()){const o=yield at(r,no(Ah(e.bundledQuery))),c=rn(r);return c.persistence.runTransaction("Save named query","readwrite",p=>{const b=is(e.readTime);if(o.snapshotVersion.compareTo(b)>=0)return c.Ns.saveNamedQuery(p,e);const S=o.withResumeToken(Cr.EMPTY_BYTE_STRING,b);return c.Ui=c.Ui.insert(S.targetId,S),c.Cs.updateTargetData(p,S).next(()=>c.Cs.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>c.Cs.addMatchingKeys(p,t,o.targetId)).next(()=>c.Ns.saveNamedQuery(p,e))})}),Dr.apply(this,arguments)}function li(r,e){return`firestore_clients_${r}_${e}`}function hr(r,e,t){let o=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Br(r,e){return`firestore_targets_${r}_${e}`}class kr{constructor(e,t,o,c){this.user=e,this.batchId=t,this.state=o,this.error=c}static Zi(e,t,o){const c=JSON.parse(o);let p,b="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return b&&c.error&&(b="string"==typeof c.error.message&&"string"==typeof c.error.code,b&&(p=new jt(c.error.code,c.error.message))),b?new kr(e,t,c.state,p):(Mi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class io{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let c,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(c=new jt(o.error.code,o.error.message))),p?new io(e,o.state,c):(Mi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ro{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let c="object"==typeof o&&o.activeTargetIds instanceof Array,p=Fl();for(let b=0;c&&b<o.activeTargetIds.length;++b)c=Du(o.activeTargetIds[b]),p=p.add(o.activeTargetIds[b]);return c?new ro(e,p):(Mi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class al{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new al(t.clientId,t.onlineState):(Mi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Yc{constructor(){this.activeTargetIds=Fl()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class du{constructor(e,t,o,c,p){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new mr(Zn),this.started=!1,this.cr=[];const b=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ar=li(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Yc),this.lr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,g.Z)(function*(){const t=yield e.syncEngine.vi();for(const c of t){if(c===e.sr)continue;const p=e.getItem(li(e.persistenceKey,c));if(p){const b=ro.Zi(c,p);b&&(e.ur=e.ur.insert(b.clientId,b))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const c=e.yr(o);c&&e.pr(c)}for(const c of e.cr)e.rr(c);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Br(this.persistenceKey,e));if(o){const c=io.Zi(e,o);c&&(t=c.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Br(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(c=>{this.Er(c)}),this.currentUser=e,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Wt("SharedClientState","READ",e,t),t}setItem(e,t){Wt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Wt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Wt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void Mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,g.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const c=t.vr(o.key);return t.Vr(c,null)}{const c=t.Sr(o.key,o.newValue);if(c)return t.Vr(c.clientId,c)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const c=t.Dr(o.key,o.newValue);if(c)return t.Cr(c)}}else if(t._r.test(o.key)){if(null!==o.newValue){const c=t.Nr(o.key,o.newValue);if(c)return t.kr(c)}}else if(o.key===t.wr){if(null!==o.newValue){const c=t.yr(o.newValue);if(c)return t.pr(c)}}else if(o.key===t.hr){const c=function(p){let b=As.at;if(null!=p)try{const S=JSON.parse(p);In("number"==typeof S),b=S}catch(S){Mi("SharedClientState","Failed to read sequence number from WebStorage",S)}return b}(o.newValue);c!==As.at&&t.sequenceNumberHandler(c)}else if(o.key===t.mr){const c=t.Or(o.newValue);yield Promise.all(c.map(p=>t.syncEngine.Mr(p)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const c=new kr(this.currentUser,e,t,o),p=hr(this.persistenceKey,this.currentUser,e);this.setItem(p,c.tr())}Er(e){const t=hr(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const c=Br(this.persistenceKey,e),p=new io(e,t,o);this.setItem(c,p.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return ro.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),c=Number(o[1]);return kr.Zi(new Oi(void 0!==o[2]?o[2]:null),c,t)}Nr(e,t){const o=this._r.exec(e),c=Number(o[1]);return io.Zi(c,t)}yr(e){return al.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,g.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Wt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),c=this.Ir(this.ur),p=this.Ir(o),b=[],S=[];return p.forEach(j=>{c.has(j)||b.push(j)}),c.forEach(j=>{p.has(j)||S.push(j)}),this.syncEngine.Br(b,S).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Fl();return e.forEach((o,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class El{constructor(){this.Lr=new Yc,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Yc,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gd{qr(e){}shutdown(){}}class zd{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Wt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Wt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const On={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gn{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ti extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,c,p){const b=this.ho(e,t);Wt("RestConnection","Sending: ",b,o);const S={};return this.lo(S,c,p),this.fo(e,b,S,o).then(j=>(Wt("RestConnection","Received: ",j),j),j=>{throw Zi("RestConnection",`${e} failed with error: `,j,"url: ",b,"request:",o),j})}_o(e,t,o,c,p,b){return this.ao(e,t,o,c,p)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ys,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,p)=>e[p]=c),o&&o.headers.forEach((c,p)=>e[p]=c)}ho(e,t){return`${this.oo}/v1/${t}:${On[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,c){return new Promise((p,b)=>{const S=new cl;S.setWithCredentials(!0),S.listenOnce(ql.COMPLETE,()=>{var Z;try{switch(S.getLastErrorCode()){case po.NO_ERROR:const ge=S.getResponseJson();Wt("Connection","XHR received:",JSON.stringify(ge)),p(ge);break;case po.TIMEOUT:Wt("Connection",'RPC "'+e+'" timed out'),b(new jt(bt.DEADLINE_EXCEEDED,"Request time out"));break;case po.HTTP_ERROR:const Be=S.getStatus();if(Wt("Connection",'RPC "'+e+'" failed with status:',Be,"response text:",S.getResponseText()),Be>0){let ht=S.getResponseJson();Array.isArray(ht)&&(ht=ht[0]);const Vt=null===(Z=ht)||void 0===Z?void 0:Z.error;if(Vt&&Vt.status&&Vt.message){const Yt=function(_n){const xn=_n.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(xn)>=0?xn:bt.UNKNOWN}(Vt.status);b(new jt(Yt,Vt.message))}else b(new jt(bt.UNKNOWN,"Server responded with status "+S.getStatus()))}else b(new jt(bt.UNAVAILABLE,"Connection failed."));break;default:Dn()}}finally{Wt("Connection",'RPC "'+e+'" completed.')}});const j=JSON.stringify(c);S.send(t,"POST",j,o,15)})}wo(e,t,o){const c=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Sl(),b=Za(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(S.xmlHttpFactory=new Io({})),this.lo(S.initMessageHeaders,t,o),S.encodeInitMessageHeaders=!0;const j=c.join("");Wt("Connection","Creating WebChannel: "+j,S);const Z=p.createWebChannel(j,S);let ge=!1,Be=!1;const ht=new Gn({Hr:Yt=>{Be?Wt("Connection","Not sending because WebChannel is closed:",Yt):(ge||(Wt("Connection","Opening WebChannel transport."),Z.open(),ge=!0),Wt("Connection","WebChannel sending:",Yt),Z.send(Yt))},Jr:()=>Z.close()}),Vt=(Yt,_n,xn)=>{Yt.listen(_n,ar=>{try{xn(ar)}catch(Fr){setTimeout(()=>{throw Fr},0)}})};return Vt(Z,er.EventType.OPEN,()=>{Be||Wt("Connection","WebChannel transport opened.")}),Vt(Z,er.EventType.CLOSE,()=>{Be||(Be=!0,Wt("Connection","WebChannel transport closed"),ht.io())}),Vt(Z,er.EventType.ERROR,Yt=>{Be||(Be=!0,Zi("Connection","WebChannel transport errored:",Yt),ht.io(new jt(bt.UNAVAILABLE,"The operation could not be completed")))}),Vt(Z,er.EventType.MESSAGE,Yt=>{var _n;if(!Be){const xn=Yt.data[0];In(!!xn);const ar=xn,Fr=ar.error||(null===(_n=ar[0])||void 0===_n?void 0:_n.error);if(Fr){Wt("Connection","WebChannel received error:",Fr);const fr=Fr.status;let oo=function(dr){const Eo=nn[dr];if(void 0!==Eo)return mi(Eo)}(fr),Ir=Fr.message;void 0===oo&&(oo=bt.INTERNAL,Ir="Unknown error status: "+fr+" with message "+Fr.message),Be=!0,ht.io(new jt(oo,Ir)),Z.close()}else Wt("Connection","WebChannel received:",xn),ht.ro(xn)}}),Vt(b,Yl.STAT_EVENT,Yt=>{Yt.stat===ts.PROXY?Wt("Connection","Detected buffering proxy"):Yt.stat===ts.NOPROXY&&Wt("Connection","Detected no buffering proxy")}),setTimeout(()=>{ht.so()},0),ht}}function Yi(){return"undefined"!=typeof window?window:null}function rs(){return"undefined"!=typeof document?document:null}function Vo(r){return new ac(r,!0)}class Uo{constructor(e,t,o=1e3,c=1.5,p=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=c,this.po=p,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),c=Math.max(0,t-o);c>0&&Wt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,c,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class wl{constructor(e,t,o,c,p,b,S,j){this.Hs=e,this.vo=o,this.Vo=c,this.connection=p,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=S,this.listener=j,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Uo(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,g.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,g.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,g.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===bt.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===bt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.So===t&&this.Go(o,c)},o=>{e(()=>{const c=new jt(bt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(c)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(c=>{o(()=>this.Qo(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,g.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Wt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Wt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zr extends wl{constructor(e,t,o,c,p,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,c,b),this.It=p}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function ph(r,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Dn(),c=e.targetChange.targetIds||[],p=function(j,Z){return j.gt?(In(void 0===Z||"string"==typeof Z),Cr.fromBase64String(Z||"")):(In(void 0===Z||Z instanceof Uint8Array),Cr.fromUint8Array(Z||new Uint8Array))}(r,e.targetChange.resumeToken),b=e.targetChange.cause,S=b&&function(j){const Z=void 0===j.code?bt.UNKNOWN:mi(j.code);return new jt(Z,j.message||"")}(b);t=new vf(o,c,p,S||null)}else if("documentChange"in e){const o=e.documentChange,c=Ha(r,o.document.name),p=is(o.document.updateTime),b=new B({mapValue:{fields:o.document.fields}}),S=Te.newFoundDocument(c,p,b);t=new oc(o.targetIds||[],o.removedTargetIds||[],S.key,S)}else if("documentDelete"in e){const o=e.documentDelete,c=Ha(r,o.document),p=o.readTime?is(o.readTime):Fn.min(),b=Te.newNoDocument(c,p);t=new oc([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,c=Ha(r,o.document);t=new oc([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return Dn();{const o=e.filter,p=new Kt(o.count||0);t=new vd(o.targetId,p)}}var j;return t}(this.It,e),o=function(c){if(!("targetChange"in c))return Fn.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Fn.min():p.readTime?is(p.readTime):Fn.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=Bl(this.It),t.addTarget=function(c,p){let b;const S=p.target;return b=Xn(S)?{documents:bf(c,S)}:{query:cc(c,S)},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?b.resumeToken=ch(c,p.resumeToken):p.snapshotVersion.compareTo(Fn.min())>0&&(b.readTime=Ru(c,p.snapshotVersion.toTimestamp())),b}(this.It,e);const o=function wd(r,e){const t=function(o,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=Bl(this.It),t.removeTarget=e,this.Bo(t)}}class Lf extends wl{constructor(e,t,o,c,p,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,c,b),this.It=p,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(In(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function gh(r,e){return r&&r.length>0?(In(void 0!==e),r.map(t=>function(o,c){let p=is(o.updateTime?o.updateTime:c);return p.isEqual(Fn.min())&&(p=is(c)),new yd(p,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=is(e.commitTime);return this.listener.Zo(o,t)}return In(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Bl(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>lc(this.It,o))};this.Bo(t)}}class Da extends class{}{constructor(e,t,o,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.It=c,this.nu=!1}su(){if(this.nu)throw new jt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.ao(e,t,o,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new jt(bt.UNKNOWN,c.toString())})}_o(e,t,o,c){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,b])=>this.connection._o(e,t,o,p,b,c)).catch(p=>{throw"FirebaseError"===p.name?(p.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new jt(bt.UNKNOWN,p.toString())})}terminate(){this.nu=!0}}class $u{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Mi(t),this.ou=!1):Wt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class _c{constructor(e,t,o,c,p){var b=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=p,this.mu.qr(S=>{o.enqueueAndForget((0,g.Z)(function*(){var j;fu(b)&&(Wt("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,g.Z)(function*(Z){const ge=rn(Z);ge._u.add(4),yield Wd(ge),ge.gu.set("Unknown"),ge._u.delete(4),yield hu(ge)}),function(Z){return j.apply(this,arguments)})(b))}))}),this.gu=new $u(o,c)}}function hu(r){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,g.Z)(function*(r){if(fu(r))for(const e of r.wu)yield e(!0)}),Ug.apply(this,arguments)}function Wd(r){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,g.Z)(function*(r){for(const e of r.wu)yield e(!1)}),Vh.apply(this,arguments)}function Uh(r,e){const t=rn(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Ap(t)?Ff(t):Jc(t).ko()&&Ip(t,e))}function Bh(r,e){const t=rn(r),o=Jc(t);t.du.delete(e),o.ko()&&Bg(t,e),0===t.du.size&&(o.ko()?o.Fo():fu(t)&&t.gu.set("Unknown"))}function Ip(r,e){r.yu.Mt(e.targetId),Jc(r).zo(e)}function Bg(r,e){r.yu.Mt(e),Jc(r).Ho(e)}function Ff(r){r.yu=new hp({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),Jc(r).start(),r.gu.uu()}function Ap(r){return fu(r)&&!Jc(r).No()&&r.du.size>0}function fu(r){return 0===rn(r)._u.size}function Hg(r){r.yu=void 0}function sy(r){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,g.Z)(function*(r){r.du.forEach((e,t)=>{Ip(r,e)})}),Vf.apply(this,arguments)}function jg(r,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,g.Z)(function*(r,e){Hg(r),Ap(r)?(r.gu.hu(e),Ff(r)):r.gu.set("Unknown")}),Sp.apply(this,arguments)}function pu(r,e,t){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,g.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof vf&&2===e.state&&e.cause)try{yield(o=(0,g.Z)(function*(c,p){const b=p.cause;for(const S of p.targetIds)c.du.has(S)&&(yield c.remoteSyncer.rejectListen(S,b),c.du.delete(S),c.yu.removeTarget(S))}),function(c,p){return o.apply(this,arguments)})(r,e)}catch(o){Wt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Uf(r,o)}else if(e instanceof oc?r.yu.Gt(e):e instanceof vd?r.yu.Yt(e):r.yu.Wt(e),!t.isEqual(Fn.min()))try{const o=yield k(r.localStore);t.compareTo(o)>=0&&(yield function(c,p){const b=c.yu.te(p);return b.targetChanges.forEach((S,j)=>{if(S.resumeToken.approximateByteSize()>0){const Z=c.du.get(j);Z&&c.du.set(j,Z.withResumeToken(S.resumeToken,p))}}),b.targetMismatches.forEach(S=>{const j=c.du.get(S);if(!j)return;c.du.set(S,j.withResumeToken(Cr.EMPTY_BYTE_STRING,j.snapshotVersion)),Bg(c,S);const Z=new ou(j.target,S,1,j.sequenceNumber);Ip(c,Z)}),c.remoteSyncer.applyRemoteEvent(b)}(r,t))}catch(o){Wt("RemoteStore","Failed to raise snapshot:",o),yield Uf(r,o)}var o}),Hh.apply(this,arguments)}function Uf(r,e,t){return xp.apply(this,arguments)}function xp(){return xp=(0,g.Z)(function*(r,e,t){if(!ws(e))throw e;r._u.add(1),yield Wd(r),r.gu.set("Offline"),t||(t=()=>k(r.localStore)),r.asyncQueue.enqueueRetryable((0,g.Z)(function*(){Wt("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield hu(r)}))}),xp.apply(this,arguments)}function oy(r,e){return e().catch(t=>Uf(r,t,e))}function Qc(r){return Op.apply(this,arguments)}function Op(){return Op=(0,g.Z)(function*(r){const e=rn(r),t=Gu(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;ay(e);)try{const c=yield Ve(e.localStore,o);if(null===c){0===e.fu.length&&t.Fo();break}o=c.batchId,ly(e,c)}catch(c){yield Uf(e,c)}Bf(e)&&$g(e)}),Op.apply(this,arguments)}function ay(r){return fu(r)&&r.fu.length<10}function ly(r,e){r.fu.push(e);const t=Gu(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Bf(r){return fu(r)&&!Gu(r).No()&&r.fu.length>0}function $g(r){Gu(r).start()}function uy(r){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,g.Z)(function*(r){Gu(r).eu()}),Zd.apply(this,arguments)}function Mp(r){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,g.Z)(function*(r){const e=Gu(r);for(const t of r.fu)e.Xo(t.mutations)}),Pp.apply(this,arguments)}function Rp(r,e,t){return jh.apply(this,arguments)}function jh(){return jh=(0,g.Z)(function*(r,e,t){const o=r.fu.shift(),c=Fc.from(o,e,t);yield oy(r,()=>r.remoteSyncer.applySuccessfulWrite(c)),yield Qc(r)}),jh.apply(this,arguments)}function Gg(r,e){return zg.apply(this,arguments)}function zg(){return zg=(0,g.Z)(function*(r,e){var t;e&&Gu(r).Yo&&(yield(t=(0,g.Z)(function*(o,c){if(ai(p=c.code)&&p!==bt.ABORTED){const b=o.fu.shift();Gu(o).Mo(),yield oy(o,()=>o.remoteSyncer.rejectFailedWrite(b.batchId,c)),yield Qc(o)}var p}),function(o,c){return t.apply(this,arguments)})(r,e)),Bf(r)&&$g(r)}),zg.apply(this,arguments)}function cy(r,e){return $h.apply(this,arguments)}function $h(){return $h=(0,g.Z)(function*(r,e){const t=rn(r);t.asyncQueue.verifyOperationInProgress(),Wt("RemoteStore","RemoteStore received new credentials");const o=fu(t);t._u.add(3),yield Wd(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield hu(t)}),$h.apply(this,arguments)}function Wg(r,e){return Np.apply(this,arguments)}function Np(){return Np=(0,g.Z)(function*(r,e){const t=rn(r);e?(t._u.delete(2),yield hu(t)):e||(t._u.add(2),yield Wd(t),t.gu.set("Unknown"))}),Np.apply(this,arguments)}function Jc(r){return r.pu||(r.pu=function(e,t,o){const c=rn(e);return c.su(),new Zr(t,c.connection,c.authCredentials,c.appCheckCredentials,c.It,o)}(r.datastore,r.asyncQueue,{Yr:sy.bind(null,r),Zr:jg.bind(null,r),Wo:pu.bind(null,r)}),r.wu.push(function(){var e=(0,g.Z)(function*(t){t?(r.pu.Mo(),Ap(r)?Ff(r):r.gu.set("Unknown")):(yield r.pu.stop(),Hg(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function Gu(r){return r.Iu||(r.Iu=function(e,t,o){const c=rn(e);return c.su(),new Lf(t,c.connection,c.authCredentials,c.appCheckCredentials,c.It,o)}(r.datastore,r.asyncQueue,{Yr:uy.bind(null,r),Zr:Gg.bind(null,r),tu:Mp.bind(null,r),Zo:Rp.bind(null,r)}),r.wu.push(function(){var e=(0,g.Z)(function*(t){t?(r.Iu.Mo(),yield Qc(r)):(yield r.Iu.stop(),r.fu.length>0&&(Wt("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class Hf{constructor(e,t,o,c,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=c,this.removalCallback=p,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,t,o,c,p){const b=Date.now()+o,S=new Hf(e,t,b,c,p);return S.start(o),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jt(bt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xc(r,e){if(Mi("AsyncQueue",`${e}: ${r}`),ws(r))return new jt(bt.UNAVAILABLE,`${e}: ${r}`);throw r}class ed{constructor(e){this.comparator=e?(t,o)=>e(t,o)||V.comparator(t.key,o.key):(t,o)=>V.comparator(t.key,o.key),this.keyedMap=Nl(),this.sortedSet=new mr(this.comparator)}static emptySet(e){return new ed(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ed)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=o.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new ed;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class gu{constructor(){this.Tu=new mr(V.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Dn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class zu{constructor(e,t,o,c,p,b,S,j,Z){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=p,this.fromCache=b,this.syncStateChanged=S,this.excludesMetadataChanges=j,this.hasCachedResults=Z}static fromInitialDocuments(e,t,o,c,p){const b=[];return t.forEach(S=>{b.push({type:0,doc:S})}),new zu(e,t,ed.emptySet(t),b,o,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ml(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==o[c].type||!t[c].doc.isEqual(o[c].doc))return!1;return!0}}class dy{constructor(){this.Au=void 0,this.listeners=[]}}class hy{constructor(){this.queries=new Vs(e=>ns(e),ml),this.onlineState="Unknown",this.Ru=new Set}}function Zg(r,e){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,g.Z)(function*(r,e){const t=rn(r),o=e.query;let c=!1,p=t.queries.get(o);if(p||(c=!0,p=new dy),c)try{p.Au=yield t.onListen(o)}catch(b){const S=Xc(b,`Initialization of query '${Ic(e.query)}' failed`);return void e.onError(S)}t.queries.set(o,p),p.listeners.push(e),e.bu(t.onlineState),p.Au&&e.Pu(p.Au)&&Wh(t)}),Kd.apply(this,arguments)}function jf(r,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,g.Z)(function*(r,e){const t=rn(r),o=e.query;let c=!1;const p=t.queries.get(o);if(p){const b=p.listeners.indexOf(e);b>=0&&(p.listeners.splice(b,1),c=0===p.listeners.length)}if(c)return t.queries.delete(o),t.onUnlisten(o)}),Gh.apply(this,arguments)}function zh(r,e){const t=rn(r);let o=!1;for(const c of e){const b=t.queries.get(c.query);if(b){for(const S of b.listeners)S.Pu(c)&&(o=!0);b.Au=c}}o&&Wh(t)}function fy(r,e,t){const o=rn(r),c=o.queries.get(e);if(c)for(const p of c.listeners)p.onError(t);o.queries.delete(e)}function Wh(r){r.Ru.forEach(e=>{e.next()})}class $f{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new zu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Kg{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class kp{constructor(e){this.It=e}Ji(e){return Ha(this.It,e)}Yi(e){return e.metadata.exists?Ed(this.It,e.document,!1):Te.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return is(e)}}class py{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Gf(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const o=D.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new kp(this.It);for(const c of e)if(c.metadata.queries){const p=o.Ji(c.metadata.name);for(const b of c.metadata.queries){const S=(t.get(b)||gn()).add(p);t.set(b,S)}}return t}complete(){var e=this;return(0,g.Z)(function*(){const t=yield function Fi(r,e,t,o){return cr.apply(this,arguments)}(e.localStore,new kp(e.It),e.documents,e.Mu.id),o=e.$u(e.documents);for(const c of e.queries)yield Wr(e.localStore,c,o.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Gf(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class qg{constructor(e){this.key=e}}class Yg{constructor(e){this.key=e}}class Lp{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=gn(),this.mutatedKeys=gn(),this.Gu=Ua(e),this.Qu=new ed(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new gu,c=t?t.Qu:this.Qu;let p=t?t.mutatedKeys:this.mutatedKeys,b=c,S=!1;const j="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,Z="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((ge,Be)=>{const ht=c.get(ge),Vt=Po(this.query,Be)?Be:null,Yt=!!ht&&this.mutatedKeys.has(ht.key),_n=!!Vt&&(Vt.hasLocalMutations||this.mutatedKeys.has(Vt.key)&&Vt.hasCommittedMutations);let xn=!1;ht&&Vt?ht.data.isEqual(Vt.data)?Yt!==_n&&(o.track({type:3,doc:Vt}),xn=!0):this.Hu(ht,Vt)||(o.track({type:2,doc:Vt}),xn=!0,(j&&this.Gu(Vt,j)>0||Z&&this.Gu(Vt,Z)<0)&&(S=!0)):!ht&&Vt?(o.track({type:0,doc:Vt}),xn=!0):ht&&!Vt&&(o.track({type:1,doc:ht}),xn=!0,(j||Z)&&(S=!0)),xn&&(Vt?(b=b.add(Vt),p=_n?p.add(ge):p.delete(ge)):(b=b.delete(ge),p=p.delete(ge)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ge="F"===this.query.limitType?b.last():b.first();b=b.delete(ge.key),p=p.delete(ge.key),o.track({type:1,doc:ge})}return{Qu:b,zu:o,$i:S,mutatedKeys:p}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const c=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const p=e.zu.Eu();p.sort((Z,ge)=>function(Be,ht){const Vt=Yt=>{switch(Yt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dn()}};return Vt(Be)-Vt(ht)}(Z.type,ge.type)||this.Gu(Z.doc,ge.doc)),this.Ju(o);const b=t?this.Yu():[],S=0===this.Ku.size&&this.current?1:0,j=S!==this.qu;return this.qu=S,0!==p.length||j?{snapshot:new zu(this.query,e.Qu,c,p,e.mutatedKeys,0===S,j,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:b}:{Xu:b}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new gu,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=gn(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new Yg(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new qg(o))}),t}tc(e){this.Uu=e.Hi,this.Ku=gn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return zu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class qd{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Qg{constructor(e){this.key=e,this.nc=!1}}class gy{constructor(e,t,o,c,p,b){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=b,this.sc={},this.ic=new Vs(S=>ns(S),ml),this.rc=new Map,this.oc=new Set,this.uc=new mr(V.comparator),this.cc=new Map,this.ac=new jd,this.hc={},this.lc=new Map,this.fc=lu.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function my(r,e){return bc.apply(this,arguments)}function bc(){return bc=(0,g.Z)(function*(r,e){const t=Ec(r);let o,c;const p=t.ic.get(e);if(p)o=p.targetId,t.sharedClientState.addLocalQueryTarget(o),c=p.view.ec();else{const b=yield at(t.localStore,no(e));t.isPrimaryClient&&Uh(t.remoteStore,b);const S=t.sharedClientState.addLocalQueryTarget(b.targetId);o=b.targetId,c=yield Fp(t,e,o,"current"===S,b.resumeToken)}return c}),bc.apply(this,arguments)}function Fp(r,e,t,o,c){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,g.Z)(function*(r,e,t,o,c){r._c=(Be,ht,Vt)=>{return(Yt=(0,g.Z)(function*(_n,xn,ar,Fr){let fr=xn.view.Wu(ar);fr.$i&&(fr=yield Cn(_n.localStore,xn.query,!1).then(({documents:dr})=>xn.view.Wu(dr,fr)));const oo=Fr&&Fr.targetChanges.get(xn.targetId),Ir=xn.view.applyChanges(fr,_n.isPrimaryClient,oo);return qh(_n,xn.targetId,Ir.Xu),Ir.snapshot}),function(_n,xn,ar,Fr){return Yt.apply(this,arguments)})(r,Be,ht,Vt);var Yt};const p=yield Cn(r.localStore,e,!0),b=new Lp(e,p.Hi),S=b.Wu(p.documents),j=Vl.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,c),Z=b.applyChanges(S,r.isPrimaryClient,j);qh(r,t,Z.Xu);const ge=new qd(e,t,b);return r.ic.set(e,ge),r.rc.has(t)?r.rc.get(t).push(e):r.rc.set(t,[e]),Z.snapshot}),Vp.apply(this,arguments)}function yy(r,e){return Up.apply(this,arguments)}function Up(){return Up=(0,g.Z)(function*(r,e){const t=rn(r),o=t.ic.get(e),c=t.rc.get(o.targetId);if(c.length>1)return t.rc.set(o.targetId,c.filter(p=>!ml(p,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield kt(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Bh(t.remoteStore,o.targetId),Kh(t,o.targetId)}).catch(Rs))):(Kh(t,o.targetId),yield kt(t.localStore,o.targetId,!0))}),Up.apply(this,arguments)}function Zh(){return Zh=(0,g.Z)(function*(r,e,t){const o=Qp(r);try{const c=yield function(p,b){const S=rn(p),j=Ti.now(),Z=b.reduce((ht,Vt)=>ht.add(Vt.key),gn());let ge,Be;return S.persistence.runTransaction("Locally write mutations","readwrite",ht=>{let Vt=hs(),Yt=gn();return S.Gi.getEntries(ht,Z).next(_n=>{Vt=_n,Vt.forEach((xn,ar)=>{ar.isValidDocument()||(Yt=Yt.add(xn))})}).next(()=>S.localDocuments.getOverlayedDocuments(ht,Vt)).next(_n=>{ge=_n;const xn=[];for(const ar of b){const Fr=rc(ar,ge.get(ar.key).overlayedDocument);null!=Fr&&xn.push(new y(ar.key,Fr,oe(Fr.value.mapValue),Nr.exists(!0)))}return S.mutationQueue.addMutationBatch(ht,j,xn,b)}).next(_n=>{Be=_n;const xn=_n.applyToLocalDocumentSet(ge,Yt);return S.documentOverlayCache.saveOverlays(ht,_n.batchId,xn)})}).then(()=>({batchId:Be.batchId,changes:Mc(ge)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(p,b,S){let j=p.hc[p.currentUser.toKey()];j||(j=new mr(Zn)),j=j.insert(b,S),p.hc[p.currentUser.toKey()]=j}(o,c.batchId,t),yield yu(o,c.changes),yield Qc(o.remoteStore)}catch(c){const p=Xc(c,"Failed to persist write");t.reject(p)}}),Zh.apply(this,arguments)}function Bp(r,e){return zf.apply(this,arguments)}function zf(){return zf=(0,g.Z)(function*(r,e){const t=rn(r);try{const o=yield K(t.localStore,e);e.targetChanges.forEach((c,p)=>{const b=t.cc.get(p);b&&(In(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?b.nc=!0:c.modifiedDocuments.size>0?In(b.nc):c.removedDocuments.size>0&&(In(b.nc),b.nc=!1))}),yield yu(t,o,e)}catch(o){yield Rs(o)}}),zf.apply(this,arguments)}function Hp(r,e,t){const o=rn(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const c=[];o.ic.forEach((p,b)=>{const S=b.view.bu(e);S.snapshot&&c.push(S.snapshot)}),function(p,b){const S=rn(p);S.onlineState=b;let j=!1;S.queries.forEach((Z,ge)=>{for(const Be of ge.listeners)Be.bu(b)&&(j=!0)}),j&&Wh(S)}(o.eventManager,e),c.length&&o.sc.Wo(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Jg(r,e,t){return jp.apply(this,arguments)}function jp(){return jp=(0,g.Z)(function*(r,e,t){const o=rn(r);o.sharedClientState.updateQueryState(e,"rejected",t);const c=o.cc.get(e),p=c&&c.key;if(p){let b=new mr(V.comparator);b=b.insert(p,Te.newNoDocument(p,Fn.min()));const S=gn().add(p),j=new il(Fn.min(),new Map,new sr(Zn),b,S);yield Bp(o,j),o.uc=o.uc.remove(p),o.cc.delete(e),Kf(o)}else yield kt(o.localStore,e,!1).then(()=>Kh(o,e,t)).catch(Rs)}),jp.apply(this,arguments)}function vy(r,e){return $p.apply(this,arguments)}function $p(){return $p=(0,g.Z)(function*(r,e){const t=rn(r),o=e.batch.batchId;try{const c=yield E(t.localStore,e);zp(t,o,null),Gp(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield yu(t,c)}catch(c){yield Rs(c)}}),$p.apply(this,arguments)}function _y(r,e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,g.Z)(function*(r,e,t){const o=rn(r);try{const c=yield function(p,b){const S=rn(p);return S.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let Z;return S.mutationQueue.lookupMutationBatch(j,b).next(ge=>(In(null!==ge),Z=ge.keys(),S.mutationQueue.removeMutationBatch(j,ge))).next(()=>S.mutationQueue.performConsistencyCheck(j)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(j,Z,b)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,Z)).next(()=>S.localDocuments.getDocuments(j,Z))})}(o.localStore,e);zp(o,e,t),Gp(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield yu(o,c)}catch(c){yield Rs(c)}}),Wf.apply(this,arguments)}function Zf(){return Zf=(0,g.Z)(function*(r,e){const t=rn(r);fu(t.remoteStore)||Wt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(p){const b=rn(p);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>b.mutationQueue.getHighestUnacknowledgedBatchId(S))}(t.localStore);if(-1===o)return void e.resolve();const c=t.lc.get(o)||[];c.push(e),t.lc.set(o,c)}catch(o){const c=Xc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),Zf.apply(this,arguments)}function Gp(r,e){(r.lc.get(e)||[]).forEach(t=>{t.resolve()}),r.lc.delete(e)}function zp(r,e,t){const o=rn(r);let c=o.hc[o.currentUser.toKey()];if(c){const p=c.get(e);p&&(t?p.reject(t):p.resolve(),c=c.remove(e)),o.hc[o.currentUser.toKey()]=c}}function Kh(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r.rc.get(e))r.ic.delete(o),t&&r.sc.wc(o,t);r.rc.delete(e),r.isPrimaryClient&&r.ac.ls(e).forEach(o=>{r.ac.containsKey(o)||by(r,o)})}function by(r,e){r.oc.delete(e.path.canonicalString());const t=r.uc.get(e);null!==t&&(Bh(r.remoteStore,t),r.uc=r.uc.remove(e),r.cc.delete(t),Kf(r))}function qh(r,e,t){for(const o of t)o instanceof qg?(r.ac.addReference(o.key,e),Ey(r,o)):o instanceof Yg?(Wt("SyncEngine","Document no longer in limbo: "+o.key),r.ac.removeReference(o.key,e),r.ac.containsKey(o.key)||by(r,o.key)):Dn()}function Ey(r,e){const t=e.key,o=t.path.canonicalString();r.uc.get(t)||r.oc.has(o)||(Wt("SyncEngine","New document in limbo: "+t),r.oc.add(o),Kf(r))}function Kf(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const e=r.oc.values().next().value;r.oc.delete(e);const t=new V(D.fromString(e)),o=r.fc.next();r.cc.set(o,new Qg(t)),r.uc=r.uc.insert(t,o),Uh(r.remoteStore,new ou(no(Su(t.path)),o,2,As.at))}}function yu(r,e,t){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,g.Z)(function*(r,e,t){const o=rn(r),c=[],p=[],b=[];var S;o.ic.isEmpty()||(o.ic.forEach((S,j)=>{b.push(o._c(j,e,t).then(Z=>{if((Z||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(j.targetId,(null==Z?void 0:Z.fromCache)?"not-current":"current"),Z){c.push(Z);const ge=kf.Ci(j.targetId,Z);p.push(ge)}}))}),yield Promise.all(b),o.sc.Wo(c),yield(S=(0,g.Z)(function*(j,Z){const ge=rn(j);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",Be=>mt.forEach(Z,ht=>mt.forEach(ht.Si,Vt=>ge.persistence.referenceDelegate.addReference(Be,ht.targetId,Vt)).next(()=>mt.forEach(ht.Di,Vt=>ge.persistence.referenceDelegate.removeReference(Be,ht.targetId,Vt)))))}catch(Be){if(!ws(Be))throw Be;Wt("LocalStore","Failed to update sequence numbers: "+Be)}for(const Be of Z){const ht=Be.targetId;if(!Be.fromCache){const Vt=ge.Ui.get(ht),_n=Vt.withLastLimboFreeSnapshotVersion(Vt.snapshotVersion);ge.Ui=ge.Ui.insert(ht,_n)}}}),function(j,Z){return S.apply(this,arguments)})(o.localStore,p))}),Xg.apply(this,arguments)}function zl(r,e){return em.apply(this,arguments)}function em(){return em=(0,g.Z)(function*(r,e){const t=rn(r);if(!t.currentUser.isEqual(e)){Wt("SyncEngine","User change. New user:",e.toKey());const o=yield a(t.localStore,e);t.currentUser=e,(c=t).lc.forEach(b=>{b.forEach(S=>{S.reject(new jt(bt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield yu(t,o.ji)}var c}),em.apply(this,arguments)}function qv(r,e){const t=rn(r),o=t.cc.get(e);if(o&&o.nc)return gn().add(o.key);{let c=gn();const p=t.rc.get(e);if(!p)return c;for(const b of p){const S=t.ic.get(b);c=c.unionWith(S.view.ju)}return c}}function tm(r,e){return qf.apply(this,arguments)}function qf(){return qf=(0,g.Z)(function*(r,e){const t=rn(r),o=yield Cn(t.localStore,e.query,!0),c=e.view.tc(o);return t.isPrimaryClient&&qh(t,e.targetId,c.Xu),c}),qf.apply(this,arguments)}function nm(r,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,g.Z)(function*(r,e){const t=rn(r);return Un(t.localStore,e).then(o=>yu(t,o))}),Wp.apply(this,arguments)}function Yv(r,e,t,o){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,g.Z)(function*(r,e,t,o){const c=rn(r),p=yield function(b,S){const j=rn(b),Z=rn(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",ge=>Z.Tn(ge,S).next(Be=>Be?j.localDocuments.getDocuments(ge,Be):mt.resolve(null)))}(c.localStore,e);var S;null!==p?("pending"===t?yield Qc(c.remoteStore):"acknowledged"===t||"rejected"===t?(zp(c,e,o||null),Gp(c,e),S=e,rn(rn(c.localStore).mutationQueue).An(S)):Dn(),yield yu(c,p)):Wt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Yf.apply(this,arguments)}function Kp(){return Kp=(0,g.Z)(function*(r,e){const t=rn(r);if(Ec(t),Qp(t),!0===e&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),c=yield Qf(t,o.toArray());t.dc=!0,yield Wg(t.remoteStore,!0);for(const p of c)Uh(t.remoteStore,p)}else if(!1===e&&!1!==t.dc){const o=[];let c=Promise.resolve();t.rc.forEach((p,b)=>{t.sharedClientState.isLocalQueryTarget(b)?o.push(b):c=c.then(()=>(Kh(t,b),kt(t.localStore,b,!0))),Bh(t.remoteStore,b)}),yield c,yield Qf(t,o),function(p){const b=rn(p);b.cc.forEach((S,j)=>{Bh(b.remoteStore,j)}),b.ac.fs(),b.cc=new Map,b.uc=new mr(V.comparator)}(t),t.dc=!1,yield Wg(t.remoteStore,!1)}}),Kp.apply(this,arguments)}function Qf(r,e,t){return qp.apply(this,arguments)}function qp(){return qp=(0,g.Z)(function*(r,e,t){const o=rn(r),c=[],p=[];for(const b of e){let S;const j=o.rc.get(b);if(j&&0!==j.length){S=yield at(o.localStore,no(j[0]));for(const Z of j){const ge=o.ic.get(Z),Be=yield tm(o,ge);Be.snapshot&&p.push(Be.snapshot)}}else{const Z=yield Vn(o.localStore,b);S=yield at(o.localStore,Z),yield Fp(o,im(Z),b,!1,S.resumeToken)}c.push(S)}return o.sc.Wo(p),c}),qp.apply(this,arguments)}function im(r){return fd(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function wy(r){const e=rn(r);return rn(rn(e.localStore).persistence).vi()}function Cy(r,e,t,o){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,g.Z)(function*(r,e,t,o){const c=rn(r);if(c.dc)return void Wt("SyncEngine","Ignoring unexpected query state notification.");const p=c.rc.get(e);if(p&&p.length>0)switch(t){case"current":case"not-current":{const b=yield Un(c.localStore,Ac(p[0])),S=il.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Cr.EMPTY_BYTE_STRING);yield yu(c,b,S);break}case"rejected":yield kt(c.localStore,e,!0),Kh(c,e,o);break;default:Dn()}}),Yp.apply(this,arguments)}function Ty(r,e,t){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,g.Z)(function*(r,e,t){const o=Ec(r);if(o.dc){for(const c of e){if(o.rc.has(c)){Wt("SyncEngine","Adding an already active target "+c);continue}const p=yield Vn(o.localStore,c),b=yield at(o.localStore,p);yield Fp(o,im(p),b.targetId,!1,b.resumeToken),Uh(o.remoteStore,b)}for(const c of t)o.rc.has(c)&&(yield kt(o.localStore,c,!1).then(()=>{Bh(o.remoteStore,c),Kh(o,c)}).catch(Rs))}}),Yd.apply(this,arguments)}function Ec(r){const e=rn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jg.bind(null,e),e.sc.Wo=zh.bind(null,e.eventManager),e.sc.wc=fy.bind(null,e.eventManager),e}function Qp(r){const e=rn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_y.bind(null,e),e}class rm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,g.Z)(function*(){t.It=Vo(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return u(this.persistence,new Vg,e.initialUser,this.It)}yc(e){return new Nh(vc.Bs,this.It)}gc(e){return new El}terminate(){var e=this;return(0,g.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sm extends rm{constructor(e,t,o){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,g.Z)(function*(){yield t().call(o,e),yield o.Ac.initialize(o,e),yield Qp(o.Ac.syncEngine),yield Qc(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return u(this.persistence,new Vg,e.initialUser,this.It)}Tc(e,t){return new Lo(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const o=new Xl(t,this.persistence);return new hl(e.asyncQueue,o)}yc(e){const t=Nf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ko.withCacheSize(this.cacheSizeBytes):ko.DEFAULT;return new Lh(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Yi(),rs(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new El}}class Jp extends sm{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,g.Z)(function*(){yield t().call(o,e);const c=o.Ac.syncEngine;o.sharedClientState instanceof du&&(o.sharedClientState.syncEngine={Fr:Yv.bind(null,c),$r:Cy.bind(null,c),Br:Ty.bind(null,c),vi:wy.bind(null,c),Mr:nm.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var p=(0,g.Z)(function*(b){yield function Zp(r,e){return Kp.apply(this,arguments)}(o.Ac.syncEngine,b),o.gcScheduler&&(b&&!o.gcScheduler.started?o.gcScheduler.start():b||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(b&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():b||o.indexBackfillerScheduler.stop())});return function(b){return p.apply(this,arguments)}}())})()}gc(e){const t=Yi();if(!du.C(t))throw new jt(bt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Nf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new du(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Cl{initialize(e,t){var o=this;return(0,g.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>Hp(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=zl.bind(null,o.syncEngine),yield Wg(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hy}createDatastore(e){const t=Vo(e.databaseInfo.databaseId),o=new ti(e.databaseInfo);return new Da(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,c=e.asyncQueue,p=S=>Hp(this.syncEngine,S,0),b=zd.C()?new zd:new Gd,new _c(t,o,c,p,b);var t,o,c,p,b}createSyncEngine(e,t){return function(o,c,p,b,S,j,Z){const ge=new gy(o,c,p,b,S,j);return Z&&(ge.dc=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,g.Z)(function*(t){const o=rn(t);Wt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield Wd(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function td(r,e,t){if(!t)throw new jt(bt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Ho(r,e,t,o){if(!0===e&&!0===o)throw new jt(bt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function wc(r){if(!V.isDocumentKey(r))throw new jt(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Qh(r){if(V.isDocumentKey(r))throw new jt(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ia(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Dn()}function Vi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new jt(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ia(r);throw new jt(bt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function nd(r,e){if(e<=0)throw new jt(bt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}const id=new Map;class rd{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new jt(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new jt(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Ho("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vu{constructor(e,t,o,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new jt(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new jt(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rd(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ka;switch(t.type){case"gapi":return new ga(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new jt(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=id.get(e);t&&(Wt("ComponentProvider","Removing Datastore"),id.delete(e),t.terminate())}(this),Promise.resolve()}}function sd(r,e,t,o={}){var c;const p=(r=Vi(r,vu))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&Zi("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let b,S;if("string"==typeof o.mockUserToken)b=o.mockUserToken,S=Oi.MOCK_USER;else{b=(0,_e.Sg)(o.mockUserToken,null===(c=r._app)||void 0===c?void 0:c.options.projectId);const j=o.mockUserToken.sub||o.mockUserToken.user_id;if(!j)throw new jt(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Oi(j)}r._authCredentials=new Dc(new qo(b,S))}}class Lr{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lr(this.firestore,e,this._key)}}class xs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class Aa extends xs{constructor(e,t,o){super(e,t,Su(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lr(this.firestore,null,new V(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function Qd(r,e,...t){if(r=(0,_e.m9)(r),td("collection","path",e),r instanceof vu){const o=D.fromString(e,...t);return Qh(o),new Aa(r,null,o)}{if(!(r instanceof Lr||r instanceof Aa))throw new jt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(D.fromString(e,...t));return Qh(o),new Aa(r.firestore,null,o)}}function om(r,e){if(r=Vi(r,vu),td("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new jt(bt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xs(r,null,(t=e,new to(D.emptyPath(),t)));var t}function Xp(r,e,...t){if(r=(0,_e.m9)(r),1===arguments.length&&(e=Hi.R()),td("doc","path",e),r instanceof vu){const o=D.fromString(e,...t);return wc(o),new Lr(r,null,new V(o))}{if(!(r instanceof Lr||r instanceof Aa))throw new jt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(D.fromString(e,...t));return wc(o),new Lr(r.firestore,r instanceof Aa?r.converter:null,new V(o))}}function am(r,e){return r=(0,_e.m9)(r),e=(0,_e.m9)(e),(r instanceof Lr||r instanceof Aa)&&(e instanceof Lr||e instanceof Aa)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Jf(r,e){return r=(0,_e.m9)(r),e=(0,_e.m9)(e),r instanceof xs&&e instanceof xs&&r.firestore===e.firestore&&ml(r._query,e._query)&&r.converter===e.converter}function eg(r,e=10240){let t=0;return{read:()=>(0,g.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,g.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Jh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class lm{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Ni,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.ku)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,g.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,g.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,g.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const o=e.vc.decode(t),c=Number(o);isNaN(c)&&e.Dc(`length string (${o}) is not valid number`);const p=yield e.Cc(c);return new Kg(JSON.parse(p),t.length+c)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,g.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Cc(e){var t=this;return(0,g.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const o=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,g.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class cm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,g.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new jt(bt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(c=(0,g.Z)(function*(p,b){const S=rn(p),j=Bl(S.It)+"/documents",Z={documents:b.map(Vt=>Nu(S.It,Vt))},ge=yield S._o("BatchGetDocuments",j,Z,b.length),Be=new Map;ge.forEach(Vt=>{const Yt=function fh(r,e){return"found"in e?function(t,o){In(!!o.found);const c=Ha(t,o.found.name),p=is(o.found.updateTime),b=new B({mapValue:{fields:o.found.fields}});return Te.newFoundDocument(c,p,b)}(r,e):"missing"in e?function(t,o){In(!!o.missing),In(!!o.readTime);const c=Ha(t,o.missing),p=is(o.readTime);return Te.newNoDocument(c,p)}(r,e):Dn()}(S.It,Vt);Be.set(Yt.key.toString(),Yt)});const ht=[];return b.forEach(Vt=>{const Yt=Be.get(Vt.toString());In(!!Yt),ht.push(Yt)}),ht}),function(p,b){return c.apply(this,arguments)})(t.datastore,e);var c;return o.forEach(c=>t.recordVersion(c)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new pe(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,g.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,c)=>{const p=V.fromPath(c);e.mutations.push(new rt(p,e.precondition(p)))}),yield(o=(0,g.Z)(function*(c,p){const b=rn(c),S=Bl(b.It)+"/documents",j={writes:p.map(Z=>lc(b.It,Z))};yield b.ao("Commit",S,j)}),function(c,p){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dn();t=Fn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new jt(bt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Fn.min())?Nr.exists(!1):Nr.updateTime(t):Nr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Fn.min()))throw new jt(bt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nr.updateTime(t)}return Nr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ay{constructor(e,t,o,c,p){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=c,this.deferred=p,this.kc=o.maxAttempts,this.xo=new Uo(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,g.Z)(function*(){const t=new cm(e.datastore),o=e.Mc(t);o&&o.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(p=>{e.Fc(p)}))}).catch(c=>{e.Fc(c)})}))}Mc(e){try{const t=this.updateFunction(e);return!ta(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ai(t)}return!1}}class dm{constructor(e,t,o,c){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=c,this.user=Oi.UNAUTHENTICATED,this.clientId=Hi.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var b=(0,g.Z)(function*(S){Wt("FirestoreClient","Received user=",S.uid),yield p.authCredentialListener(S),p.user=S});return function(S){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(o,b=>(Wt("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,g.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new jt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const c=Xc(o,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function tg(r,e){return ng.apply(this,arguments)}function ng(){return ng=(0,g.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Wt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var c=(0,g.Z)(function*(p){o.isEqual(p)||(yield a(e.localStore,p),o=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),ng.apply(this,arguments)}function hm(r,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,g.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield ig(r);Wt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(t,o),r.setCredentialChangeListener(c=>cy(e.remoteStore,c)),r.setAppCheckTokenChangeListener((c,p)=>cy(e.remoteStore,p)),r.onlineComponents=e}),Xf.apply(this,arguments)}function ig(r){return ep.apply(this,arguments)}function ep(){return ep=(0,g.Z)(function*(r){return r.offlineComponents||(Wt("FirestoreClient","Using default OfflineComponentProvider"),yield tg(r,new rm)),r.offlineComponents}),ep.apply(this,arguments)}function tp(r){return rg.apply(this,arguments)}function rg(){return rg=(0,g.Z)(function*(r){return r.onlineComponents||(Wt("FirestoreClient","Using default OnlineComponentProvider"),yield hm(r,new Cl)),r.onlineComponents}),rg.apply(this,arguments)}function Sy(r){return ig(r).then(e=>e.persistence)}function np(r){return ig(r).then(e=>e.localStore)}function Xh(r){return tp(r).then(e=>e.remoteStore)}function ef(r){return tp(r).then(e=>e.syncEngine)}function tf(r){return pm.apply(this,arguments)}function pm(){return pm=(0,g.Z)(function*(r){const e=yield tp(r),t=e.eventManager;return t.onListen=my.bind(null,e.syncEngine),t.onUnlisten=yy.bind(null,e.syncEngine),t}),pm.apply(this,arguments)}function Oy(r,e,t={}){const o=new Ni;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(c,p,b,S,j){const Z=new Jh({next:Be=>{p.enqueueAndForget(()=>jf(c,ge));const ht=Be.docs.has(b);!ht&&Be.fromCache?j.reject(new jt(bt.UNAVAILABLE,"Failed to get document because the client is offline.")):ht&&Be.fromCache&&S&&"server"===S.source?j.reject(new jt(bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Be)},error:Be=>j.reject(Be)}),ge=new $f(Su(b.path),Z,{includeMetadataChanges:!0,Nu:!0});return Zg(c,ge)}(yield tf(r),r.asyncQueue,e,t,o)})),o.promise}function od(r,e,t={}){const o=new Ni;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function(c,p,b,S,j){const Z=new Jh({next:Be=>{p.enqueueAndForget(()=>jf(c,ge)),Be.fromCache&&"server"===S.source?j.reject(new jt(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Be)},error:Be=>j.reject(Be)}),ge=new $f(b,Z,{includeMetadataChanges:!0,Nu:!0});return Zg(c,ge)}(yield tf(r),r.asyncQueue,e,t,o)})),o.promise}class ym{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Uo(this,"async_queue_retry"),this.Wc=()=>{const t=rs();t&&Wt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=rs();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=rs();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Ni;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,g.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!ws(t))throw t;Wt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Mi("INTERNAL UNHANDLED ERROR: ",function(p){let b=p.message||"";return p.stack&&(b=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),b}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const c=Hf.createAndSchedule(this,e,t,o,p=>this.Yc(p));return this.qc.push(c),c}zc(){this.Kc&&Dn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,g.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Jd(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(r)}class Ny{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ni,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const vm=-1;class Kr extends vu{constructor(e,t,o,c){super(e,t,o,c),this.type="firestore",this._queue=new ym,this._persistenceKey=(null==c?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||_m(this),this._firestoreClient.terminate()}}function Os(r){return r._firestoreClient||_m(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function _m(r){var e;const t=r._freezeSettings(),o=(p=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Qa(r._databaseId,p,r._persistenceKey,(S=t).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,S.useFetchStreams));var p,S;r._firestoreClient=new dm(r._authCredentials,r._appCheckCredentials,r._queue,o)}function bm(r,e){lg(r=Vi(r,Kr));const t=Os(r),o=r._freezeSettings(),c=new Cl;return sg(t,c,new sm(c,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function ky(r){lg(r=Vi(r,Kr));const e=Os(r),t=r._freezeSettings(),o=new Cl;return sg(e,o,new Jp(o,t.cacheSizeBytes))}function sg(r,e,t){const o=new Ni;return r.asyncQueue.enqueue((0,g.Z)(function*(){try{yield tg(r,t),yield hm(r,e),o.resolve()}catch(c){const p=c;if(!("FirebaseError"===(b=p).name?b.code===bt.FAILED_PRECONDITION||b.code===bt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&b instanceof DOMException)||22===b.code||20===b.code||11===b.code))throw p;Zi("Error enabling offline persistence. Falling back to persistence disabled: "+p),o.reject(p)}var b})).then(()=>o.promise)}function Em(r){if(r._initialized&&!r._terminated)throw new jt(bt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ni;return r._queue.enqueueAndForgetEvenWhileRestricted((0,g.Z)(function*(){try{yield(t=(0,g.Z)(function*(o){if(!Xs.C())return Promise.resolve();const c=o+"main";yield Xs.delete(c)}),function(o){return t.apply(this,arguments)})(Nf(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function og(r){return function(e){const t=new Ni;return e.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function Kv(r,e){return Zf.apply(this,arguments)}(yield ef(e),t)})),t.promise}(Os(r=Vi(r,Kr)))}function e_(r){return function Qv(r){return r.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield Sy(r),t=yield Xh(r);return e.setNetworkEnabled(!0),function(o){const c=rn(o);return c._u.delete(0),hu(c)}(t)}))}(Os(r=Vi(r,Kr)))}function ag(r){return function xy(r){return r.asyncQueue.enqueue((0,g.Z)(function*(){const e=yield Sy(r),t=yield Xh(r);return e.setNetworkEnabled(!1),(o=(0,g.Z)(function*(c){const p=rn(c);p._u.add(0),yield Wd(p),p.gu.set("Offline")}),function(c){return o.apply(this,arguments)})(t);var o}))}(Os(r=Vi(r,Kr)))}function n_(r,e){const t=Os(r=Vi(r,Kr)),o=new Ny;return function mm(r,e,t,o){const c=function(p,b){let S;return S="string"==typeof p?(new TextEncoder).encode(p):p,j=function(j,Z){if(j instanceof Uint8Array)return eg(j,Z);if(j instanceof ArrayBuffer)return eg(new Uint8Array(j),Z);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new lm(j,b);var j}(t,Vo(e));r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){!function Yh(r,e,t){const o=rn(r);var c;(c=(0,g.Z)(function*(p,b,S){try{const j=yield b.getMetadata();if(yield function(ht,Vt){const Yt=rn(ht),_n=is(Vt.createTime);return Yt.persistence.runTransaction("hasNewerBundle","readonly",xn=>Yt.Ns.getBundleMetadata(xn,Vt.id)).then(xn=>!!xn&&xn.createTime.compareTo(_n)>=0)}(p.localStore,j))return yield b.close(),S._completeWith({taskState:"Success",documentsLoaded:(ht=j).totalDocuments,bytesLoaded:ht.totalBytes,totalDocuments:ht.totalDocuments,totalBytes:ht.totalBytes}),Promise.resolve(new Set);S._updateProgress(Gf(j));const Z=new py(j,p.localStore,b.It);let ge=yield b.mc();for(;ge;){const ht=yield Z.Fu(ge);ht&&S._updateProgress(ht),ge=yield b.mc()}const Be=yield Z.complete();return yield yu(p,Be.Lu,void 0),yield function(ht,Vt){const Yt=rn(ht);return Yt.persistence.runTransaction("Save bundle","readwrite",_n=>Yt.Ns.saveBundleMetadata(_n,Vt))}(p.localStore,j),S._completeWith(Be.progress),Promise.resolve(Be.Bu)}catch(j){return Zi("SyncEngine",`Loading bundle failed with ${j}`),S._failWith(j),Promise.resolve(new Set)}var ht}),function(p,b,S){return c.apply(this,arguments)})(o,e,t).then(c=>{o.sharedClientState.notifyBundleLoaded(c)})}(yield ef(r),c,o)}))}(t,r._databaseId,e,o),o}function nf(r,e){return function Ry(r,e){return r.asyncQueue.enqueue((0,g.Z)(function*(){return function(t,o){const c=rn(t);return c.persistence.runTransaction("Get named query","readonly",p=>c.Ns.getNamedQuery(p,o))}(yield np(r),e)}))}(Os(r=Vi(r,Kr)),e).then(t=>t?new xs(r,null,t.query):null)}function lg(r){if(r._initialized||r._terminated)throw new jt(bt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _u{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _u(Cr.fromBase64String(e))}catch(t){throw new jt(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _u(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new jt(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new F(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Eu{constructor(e){this._methodName=e}}class ad{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new jt(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new jt(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zn(this._lat,e._lat)||Zn(this._long,e._long)}}const ug=/^__.*__$/;class r_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new y(e,this.data,this.fieldMask,t,this.fieldTransforms):new T(e,this.data,t,this.fieldTransforms)}}class wm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new y(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rf(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dn()}}class ld{constructor(e,t,o,c,p,b){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=c,void 0===p&&this.na(),this.fieldTransforms=p||[],this.fieldMask=b||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new ld(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:o,oa:!1});return c.ua(e),c}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:o,oa:!1});return c.na(),c}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return cf(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(rf(this.sa)&&ug.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Cm{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||Vo(e)}da(e,t,o,c=!1){return new ld({sa:e,methodName:t,fa:o,path:F.emptyPath(),oa:!1,la:c},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Cc(r){const e=r._freezeSettings(),t=Vo(r._databaseId);return new Cm(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Xd(r,e,t,o,c,p={}){const b=r.da(p.merge||p.mergeFields?2:0,e,t,c);af("Data must be an object, but it was:",b,o);const S=hg(o,b);let j,Z;if(p.merge)j=new Xo(b.fieldMask),Z=b.fieldTransforms;else if(p.mergeFields){const ge=[];for(const Be of p.mergeFields){const ht=lf(e,Be,t);if(!b.contains(ht))throw new jt(bt.INVALID_ARGUMENT,`Field '${ht}' is specified in your field mask but missing from your input data.`);gg(ge,ht)||ge.push(ht)}j=new Xo(ge),Z=b.fieldTransforms.filter(Be=>j.covers(Be.field))}else j=null,Z=b.fieldTransforms;return new r_(new B(S),j,Z)}class eh extends Eu{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}function cg(r,e,t){return new ld({sa:3,fa:e.settings.fa,methodName:r._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class sf extends Eu{_toFieldTransform(e){return new Ou(e.path,new Rl)}isEqual(e){return e instanceof sf}}class Tm extends Eu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=cg(this,e,!0),o=this._a.map(p=>ud(p,t)),c=new Ca(o);return new Ou(e.path,c)}isEqual(e){return this===e}}class Ly extends Eu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=cg(this,e,!0),o=this._a.map(p=>ud(p,t)),c=new qi(o);return new Ou(e.path,c)}isEqual(e){return this===e}}class Dm extends Eu{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Ba(e.It,ru(e.It,this.wa));return new Ou(e.path,t)}isEqual(e){return this===e}}function ip(r,e,t,o){const c=r.da(1,e,t);af("Data must be an object, but it was:",c,o);const p=[],b=B.empty();Jo(o,(j,Z)=>{const ge=uf(e,j,t);Z=(0,_e.m9)(Z);const Be=c.ca(ge);if(Z instanceof eh)p.push(ge);else{const ht=ud(Z,Be);null!=ht&&(p.push(ge),b.set(ge,ht))}});const S=new Xo(p);return new wm(b,S,c.fieldTransforms)}function of(r,e,t,o,c,p){const b=r.da(1,e,t),S=[lf(e,o,t)],j=[c];if(p.length%2!=0)throw new jt(bt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ht=0;ht<p.length;ht+=2)S.push(lf(e,p[ht])),j.push(p[ht+1]);const Z=[],ge=B.empty();for(let ht=S.length-1;ht>=0;--ht)if(!gg(Z,S[ht])){const Vt=S[ht];let Yt=j[ht];Yt=(0,_e.m9)(Yt);const _n=b.ca(Vt);if(Yt instanceof eh)Z.push(Vt);else{const xn=ud(Yt,_n);null!=xn&&(Z.push(Vt),ge.set(Vt,xn))}}const Be=new Xo(Z);return new wm(ge,Be,b.fieldTransforms)}function dg(r,e,t,o=!1){return ud(t,r.da(o?4:3,e))}function ud(r,e){if(fg(r=(0,_e.m9)(r)))return af("Unsupported field value:",e,r),hg(r,e);if(r instanceof Eu)return function(t,o){if(!rf(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const c=[];let p=0;for(const b of t){let S=ud(b,o.aa(p));null==S&&(S={nullValue:"NULL_VALUE"}),c.push(S),p++}return{arrayValue:{values:c}}}(r,e)}return function(t,o){if(null===(t=(0,_e.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ru(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=Ti.fromDate(t);return{timestampValue:Ru(o.It,c)}}if(t instanceof Ti){const c=new Ti(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ru(o.It,c)}}if(t instanceof ad)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _u)return{bytesValue:ch(o.It,t._byteString)};if(t instanceof Lr){const c=o.databaseId,p=t.firestore._databaseId;if(!p.isEqual(c))throw o.ha(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Rc(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${Ia(t)}`)}(r,e)}function hg(r,e){const t={};return Ol(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jo(r,(o,c)=>{const p=ud(c,e.ra(o));null!=p&&(t[o]=p)}),{mapValue:{fields:t}}}function fg(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Ti||r instanceof ad||r instanceof _u||r instanceof Lr||r instanceof Eu)}function af(r,e,t){if(!fg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Ia(t);throw e.ha("an object"===o?r+" a custom object":r+" "+o)}var o}function lf(r,e,t){if((e=(0,_e.m9)(e))instanceof bu)return e._internalPath;if("string"==typeof e)return uf(r,e);throw cf("Field path arguments must be of type string or ",r,!1,void 0,t)}const pg=new RegExp("[~\\*/\\[\\]]");function uf(r,e,t){if(e.search(pg)>=0)throw cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new bu(...e.split("."))._internalPath}catch(o){throw cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function cf(r,e,t,o,c){const p=o&&!o.isEmpty(),b=void 0!==c;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let j="";return(p||b)&&(j+=" (found",p&&(j+=` in field ${o}`),b&&(j+=` in document ${c}`),j+=")"),new jt(bt.INVALID_ARGUMENT,S+r+j)}function gg(r,e){return r.some(t=>t.isEqual(e))}class th{constructor(e,t,o,c,p){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Lr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Im(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(df("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Im extends th{data(){return super.data()}}function df(r,e){return"string"==typeof e?uf(r,e):e instanceof bu?e._internalPath:e._delegate._internalPath}function mg(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new jt(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rp{}function Fy(r,...e){for(const t of e)r=t._apply(r);return r}class Vy extends rp{constructor(e,t,o){super(),this.ma=e,this.ga=t,this.ya=o,this.type="where"}_apply(e){const t=Cc(e.firestore),o=function(c,p,b,S,j,Z,ge){let Be;if(j.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new jt(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){Om(ge,Z);const Vt=[];for(const Yt of ge)Vt.push(bg(S,c,Yt));Be={arrayValue:{values:Vt}}}else Be=bg(S,c,ge)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||Om(ge,Z),Be=dg(b,"where",ge,"in"===Z||"not-in"===Z);const ht=ki.create(j,Z,Be);return function(Vt,Yt){if(Yt.dt()){const xn=tu(Vt);if(null!==xn&&!xn.isEqual(Yt.field))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${xn.toString()}' and '${Yt.field.toString()}'`);const ar=Ju(Vt);null!==ar&&Eg(0,Yt.field,ar)}const _n=function(xn,ar){for(const Fr of xn.filters)if(ar.indexOf(Fr.op)>=0)return Fr.op;return null}(Vt,function(xn){switch(xn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Yt.op));if(null!==_n)throw new jt(bt.INVALID_ARGUMENT,_n===Yt.op?`Invalid query. You cannot use more than one '${Yt.op.toString()}' filter.`:`Invalid query. You cannot use '${Yt.op.toString()}' filters with '${_n.toString()}' filters.`)}(c,ht),ht}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new xs(e.firestore,e.converter,function(c,p){const b=c.filters.concat([p]);return new to(c.path,c.collectionGroup,c.explicitOrderBy.slice(),b,c.limit,c.limitType,c.startAt,c.endAt)}(e._query,o))}}function Am(r,e,t){const o=e,c=df("where",r);return new Vy(c,o,t)}class Uy extends rp{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(o,c,p){if(null!==o.startAt)throw new jt(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new jt(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new nl(c,p);return function(S,j){if(null===Ju(S)){const Z=tu(S);null!==Z&&Eg(0,Z,j.field)}}(o,b),b}(e._query,this.ma,this.pa);return new xs(e.firestore,e.converter,function(o,c){const p=o.explicitOrderBy.concat([c]);return new to(o.path,o.collectionGroup,p,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function so(r,e="asc"){const t=e,o=df("orderBy",r);return new Uy(o,t)}class yg extends rp{constructor(e,t,o){super(),this.type=e,this.Ia=t,this.Ta=o}_apply(e){return new xs(e.firestore,e.converter,iu(e._query,this.Ia,this.Ta))}}function By(r){return nd("limit",r),new yg("limit",r,"F")}function Hy(r){return nd("limitToLast",r),new yg("limitToLast",r,"L")}class vg extends rp{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=xm(e,this.type,this.Ea,this.Aa);return new xs(e.firestore,e.converter,(c=t,new to((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)));var o,c}}function jy(...r){return new vg("startAt",r,!0)}function Sm(...r){return new vg("startAfter",r,!1)}class _g extends rp{constructor(e,t,o){super(),this.type=e,this.Ea=t,this.Aa=o}_apply(e){const t=xm(e,this.type,this.Ea,this.Aa);return new xs(e.firestore,e.converter,(c=t,new to((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)));var o,c}}function nh(...r){return new _g("endBefore",r,!1)}function $y(...r){return new _g("endAt",r,!0)}function xm(r,e,t,o){if(t[0]=(0,_e.m9)(t[0]),t[0]instanceof th)return function(c,p,b,S,j){if(!S)throw new jt(bt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const Z=[];for(const ge of nu(c))if(ge.field.isKeyField())Z.push(Ur(p,S.key));else{const Be=S.data.field(ge.field);if(ks(Be))throw new jt(bt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ge.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Be){const ht=ge.field.canonicalString();throw new jt(bt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ht}' (used as the orderBy) does not exist.`)}Z.push(Be)}return new Fs(Z,j)}(r._query,r.firestore._databaseId,e,t[0]._document,o);{const c=Cc(r.firestore);return function(p,b,S,j,Z,ge){const Be=p.explicitOrderBy;if(Z.length>Be.length)throw new jt(bt.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ht=[];for(let Vt=0;Vt<Z.length;Vt++){const Yt=Z[Vt];if(Be[Vt].field.isKeyField()){if("string"!=typeof Yt)throw new jt(bt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof Yt}`);if(!Xu(p)&&-1!==Yt.indexOf("/"))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${Yt}' contains a slash.`);const _n=p.path.child(D.fromString(Yt));if(!V.isDocumentKey(_n))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${_n}' is not because it contains an odd number of segments.`);const xn=new V(_n);ht.push(Ur(b,xn))}else{const _n=dg(S,j,Yt);ht.push(_n)}}return new Fs(ht,ge)}(r._query,r.firestore._databaseId,c,e,t,o)}}function bg(r,e,t){if("string"==typeof(t=(0,_e.m9)(t))){if(""===t)throw new jt(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xu(e)&&-1!==t.indexOf("/"))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(D.fromString(t));if(!V.isDocumentKey(o))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ur(r,new V(o))}if(t instanceof Lr)return Ur(r,t._key);throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ia(t)}.`)}function Om(r,e){if(!Array.isArray(r)||0===r.length)throw new jt(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new jt(bt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Eg(r,e,t){if(!t.isEqual(e))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Mm{convertValue(e,t="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dn()}}convertObject(e,t){const o={};return Jo(e.fields,(c,p)=>{o[c]=this.convertValue(p,t)}),o}convertGeoPoint(e){return new ad(or(e.latitude),or(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Tu(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(ea(e));default:return null}}convertTimestamp(e){const t=Fa(e);return new Ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=D.fromString(e);In(Tf(o));const c=new ds(o.get(1),o.get(3)),p=new V(o.popFirst(5));return c.isEqual(t)||Mi(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function ih(r,e,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,o}class wg extends Mm{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lr(this.firestore,null,t)}}class jo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cd extends th{constructor(e,t,o,c,p,b){super(e,t,o,c,b),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(df("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class rh extends cd{data(e={}){return super.data(e)}}class ua{constructor(e,t,o,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new jo(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new rh(this._firestore,this._userDataWriter,o.key,o,new jo(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new jt(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let p=0;return o._snapshot.docChanges.map(b=>({type:"added",doc:new rh(o._firestore,o._userDataWriter,b.doc.key,b.doc,new jo(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:p++}))}{let p=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(b=>c||3!==b.type).map(b=>{const S=new rh(o._firestore,o._userDataWriter,b.doc.key,b.doc,new jo(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter);let j=-1,Z=-1;return 0!==b.type&&(j=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),1!==b.type&&(p=p.add(b.doc),Z=p.indexOf(b.doc.key)),{type:Wl(b.type),doc:S,oldIndex:j,newIndex:Z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Wl(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dn()}}function Zl(r,e){return r instanceof cd&&e instanceof cd?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof ua&&e instanceof ua&&r._firestore===e._firestore&&Jf(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function Pm(r){r=Vi(r,Lr);const e=Vi(r.firestore,Kr);return Oy(Os(e),r._key).then(t=>Tg(e,r,t))}class Wu extends Mm{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lr(this.firestore,null,t)}}function Gy(r){r=Vi(r,Lr);const e=Vi(r.firestore,Kr),t=Os(e),o=new Wu(e);return function gm(r,e){const t=new Ni;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(o=(0,g.Z)(function*(c,p,b){try{const S=yield function(j,Z){const ge=rn(j);return ge.persistence.runTransaction("read document","readonly",Be=>ge.localDocuments.getDocument(Be,Z))}(c,p);S.isFoundDocument()?b.resolve(S):S.isNoDocument()?b.resolve(null):b.reject(new jt(bt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const j=Xc(S,`Failed to get document '${p} from cache`);b.reject(j)}}),function(c,p,b){return o.apply(this,arguments)})(yield np(r),e,t);var o})),t.promise}(t,r._key).then(c=>new cd(e,o,r._key,c,new jo(null!==c&&c.hasLocalMutations,!0),r.converter))}function zy(r){r=Vi(r,Lr);const e=Vi(r.firestore,Kr);return Oy(Os(e),r._key,{source:"server"}).then(t=>Tg(e,r,t))}function Wy(r){r=Vi(r,xs);const e=Vi(r.firestore,Kr),t=Os(e),o=new Wu(e);return mg(r._query),od(t,r._query).then(c=>new ua(e,o,r,c))}function Zy(r){r=Vi(r,xs);const e=Vi(r.firestore,Kr),t=Os(e),o=new Wu(e);return function My(r,e){const t=new Ni;return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return(o=(0,g.Z)(function*(c,p,b){try{const S=yield Cn(c,p,!0),j=new Lp(p,S.Hi),Z=j.Wu(S.documents),ge=j.applyChanges(Z,!1);b.resolve(ge.snapshot)}catch(S){const j=Xc(S,`Failed to execute query '${p} against cache`);b.reject(j)}}),function(c,p,b){return o.apply(this,arguments)})(yield np(r),e,t);var o})),t.promise}(t,r._query).then(c=>new ua(e,o,r,c))}function Cg(r){r=Vi(r,xs);const e=Vi(r.firestore,Kr),t=Os(e),o=new Wu(e);return od(t,r._query,{source:"server"}).then(c=>new ua(e,o,r,c))}function hf(r,e,t){r=Vi(r,Lr);const o=Vi(r.firestore,Kr),c=ih(r.converter,e,t);return Zu(o,[Xd(Cc(o),"setDoc",r._key,c,null!==r.converter,t).toMutation(r._key,Nr.none())])}function Ky(r,e,t,...o){r=Vi(r,Lr);const c=Vi(r.firestore,Kr),p=Cc(c);let b;return b="string"==typeof(e=(0,_e.m9)(e))||e instanceof bu?of(p,"updateDoc",r._key,e,t,o):ip(p,"updateDoc",r._key,e),Zu(c,[b.toMutation(r._key,Nr.exists(!0))])}function Rm(r){return Zu(Vi(r.firestore,Kr),[new pe(r._key,Nr.none())])}function qy(r,e){const t=Vi(r.firestore,Kr),o=Xp(r),c=ih(r.converter,e);return Zu(t,[Xd(Cc(r.firestore),"addDoc",o._key,c,null!==r.converter,{}).toMutation(o._key,Nr.exists(!1))]).then(()=>o)}function Nm(r,...e){var t,o,c;r=(0,_e.m9)(r);let p={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||Jd(e[b])||(p=e[b],b++);const S={includeMetadataChanges:p.includeMetadataChanges};if(Jd(e[b])){const Be=e[b];e[b]=null===(t=Be.next)||void 0===t?void 0:t.bind(Be),e[b+1]=null===(o=Be.error)||void 0===o?void 0:o.bind(Be),e[b+2]=null===(c=Be.complete)||void 0===c?void 0:c.bind(Be)}let j,Z,ge;if(r instanceof Lr)Z=Vi(r.firestore,Kr),ge=Su(r._key.path),j={next:Be=>{e[b]&&e[b](Tg(Z,r,Be))},error:e[b+1],complete:e[b+2]};else{const Be=Vi(r,xs);Z=Vi(Be.firestore,Kr),ge=Be._query;const ht=new Wu(Z);j={next:Vt=>{e[b]&&e[b](new ua(Z,ht,Be,Vt))},error:e[b+1],complete:e[b+2]},mg(r._query)}return function(Be,ht,Vt,Yt){const _n=new Jh(Yt),xn=new $f(ht,_n,Vt);return Be.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return Zg(yield tf(Be),xn)})),()=>{_n.bc(),Be.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return jf(yield tf(Be),xn)}))}}(Os(Z),ge,S,j)}function km(r,e){return function Py(r,e){const t=new Jh(e);return r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return o=yield tf(r),c=t,rn(o).Ru.add(c),void c.next();var o,c})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return o=yield tf(r),c=t,void rn(o).Ru.delete(c);var o,c}))}}(Os(r=Vi(r,Kr)),Jd(e)?e:{next:e})}function Zu(r,e){return function(t,o){const c=new Ni;return t.asyncQueue.enqueueAndForget((0,g.Z)(function*(){return function mu(r,e,t){return Zh.apply(this,arguments)}(yield ef(t),o,c)})),c.promise}(Os(r),e)}function Tg(r,e,t){const o=t.docs.get(e._key),c=new Wu(r);return new cd(r,c,e._key,o,new jo(t.hasPendingWrites,t.fromCache),e.converter)}const Dg={maxAttempts:5};class ff{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cc(e)}set(e,t,o){this._verifyNotCommitted();const c=wu(e,this._firestore),p=ih(c.converter,t,o),b=Xd(this._dataReader,"WriteBatch.set",c._key,p,null!==c.converter,o);return this._mutations.push(b.toMutation(c._key,Nr.none())),this}update(e,t,o,...c){this._verifyNotCommitted();const p=wu(e,this._firestore);let b;return b="string"==typeof(t=(0,_e.m9)(t))||t instanceof bu?of(this._dataReader,"WriteBatch.update",p._key,t,o,c):ip(this._dataReader,"WriteBatch.update",p._key,t),this._mutations.push(b.toMutation(p._key,Nr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wu(e,this._firestore);return this._mutations=this._mutations.concat(new pe(t._key,Nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new jt(bt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wu(r,e){if((r=(0,_e.m9)(r)).firestore!==e)throw new jt(bt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Ig extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cc(e)}get(e){const t=wu(e,this._firestore),o=new wg(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return Dn();const p=c[0];if(p.isFoundDocument())return new th(this._firestore,o,p.key,p,t.converter);if(p.isNoDocument())return new th(this._firestore,o,t._key,null,t.converter);throw Dn()})}set(e,t,o){const c=wu(e,this._firestore),p=ih(c.converter,t,o),b=Xd(this._dataReader,"Transaction.set",c._key,p,null!==c.converter,o);return this._transaction.set(c._key,b),this}update(e,t,o,...c){const p=wu(e,this._firestore);let b;return b="string"==typeof(t=(0,_e.m9)(t))||t instanceof bu?of(this._dataReader,"Transaction.update",p._key,t,o,c):ip(this._dataReader,"Transaction.update",p._key,t),this._transaction.update(p._key,b),this}delete(e){const t=wu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wu(e,this._firestore),o=new Wu(this._firestore);return super.get(e).then(c=>new cd(this._firestore,o,t._key,c._document,new jo(!1,!1),t.converter))}}function Lm(r,e,t){r=Vi(r,Kr);const o=Object.assign(Object.assign({},Dg),t);return function(c){if(c.maxAttempts<1)throw new jt(bt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(c,p,b){const S=new Ni;return c.asyncQueue.enqueueAndForget((0,g.Z)(function*(){const j=yield function fm(r){return tp(r).then(e=>e.datastore)}(c);new Ay(c.asyncQueue,j,b,p,S).run()})),S.promise}(Os(r),c=>e(new Ig(r,c)),o)}function Fm(){return new eh("deleteField")}function Vm(){return new sf("serverTimestamp")}function Um(...r){return new Tm("arrayUnion",r)}function Bm(...r){return new Ly("arrayRemove",r)}function Hm(r){return new Dm("increment",r)}!function(r,e=!0){Ys=h.SDK_VERSION,(0,h._registerComponent)(new W.wA("firestore",(t,{instanceIdentifier:o,options:c})=>{const p=t.getProvider("app").getImmediate(),b=new Kr(new cs(t.getProvider("auth-internal")),new qa(t.getProvider("app-check-internal")),function(S,j){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new jt(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ds(S.options.projectId,j)}(p,o),p);return c=Object.assign({useFetchStreams:e},c),b._setSettings(c),b},"PUBLIC").setMultipleInstances(!0)),(0,h.registerVersion)(qu,"3.7.3",r),(0,h.registerVersion)(qu,"3.7.3","esm2017")}()},2090:(qt,Ze,x)=>{x.d(Ze,{$s:()=>be,BH:()=>vt,G6:()=>et,L:()=>ce,LL:()=>Mt,Pz:()=>pt,Sg:()=>q,UG:()=>dt,US:()=>Re,ZB:()=>ue,ZR:()=>Ke,aH:()=>on,b$:()=>st,eu:()=>Y,hl:()=>Tt,jU:()=>ct,m9:()=>St,ne:()=>$e,pd:()=>It,r3:()=>Li,ru:()=>Qe,tV:()=>X,uI:()=>nt,vZ:()=>Pi,w1:()=>ft,xO:()=>Ri,xb:()=>Ui,z$:()=>ut,zI:()=>qe,zd:()=>ci});const De=function(de){const fe=[];let Me=0;for(let ve=0;ve<de.length;ve++){let ee=de.charCodeAt(ve);ee<128?fe[Me++]=ee:ee<2048?(fe[Me++]=ee>>6|192,fe[Me++]=63&ee|128):55296==(64512&ee)&&ve+1<de.length&&56320==(64512&de.charCodeAt(ve+1))?(ee=65536+((1023&ee)<<10)+(1023&de.charCodeAt(++ve)),fe[Me++]=ee>>18|240,fe[Me++]=ee>>12&63|128,fe[Me++]=ee>>6&63|128,fe[Me++]=63&ee|128):(fe[Me++]=ee>>12|224,fe[Me++]=ee>>6&63|128,fe[Me++]=63&ee|128)}return fe},Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(de,fe){if(!Array.isArray(de))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Me=fe?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let ee=0;ee<de.length;ee+=3){const $=de[ee],te=ee+1<de.length,re=te?de[ee+1]:0,Ae=ee+2<de.length,Ye=Ae?de[ee+2]:0;let yn=(15&re)<<2|Ye>>6,fn=63&Ye;Ae||(fn=64,te||(yn=64)),ve.push(Me[$>>2],Me[(3&$)<<4|re>>4],Me[yn],Me[fn])}return ve.join("")},encodeString(de,fe){return this.HAS_NATIVE_SUPPORT&&!fe?btoa(de):this.encodeByteArray(De(de),fe)},decodeString(de,fe){return this.HAS_NATIVE_SUPPORT&&!fe?atob(de):function(de){const fe=[];let Me=0,ve=0;for(;Me<de.length;){const ee=de[Me++];if(ee<128)fe[ve++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const $=de[Me++];fe[ve++]=String.fromCharCode((31&ee)<<6|63&$)}else if(ee>239&&ee<365){const Ae=((7&ee)<<18|(63&de[Me++])<<12|(63&de[Me++])<<6|63&de[Me++])-65536;fe[ve++]=String.fromCharCode(55296+(Ae>>10)),fe[ve++]=String.fromCharCode(56320+(1023&Ae))}else{const $=de[Me++],te=de[Me++];fe[ve++]=String.fromCharCode((15&ee)<<12|(63&$)<<6|63&te)}}return fe.join("")}(this.decodeStringToByteArray(de,fe))},decodeStringToByteArray(de,fe){this.init_();const Me=fe?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let ee=0;ee<de.length;){const $=Me[de.charAt(ee++)],re=ee<de.length?Me[de.charAt(ee)]:0;++ee;const Ye=ee<de.length?Me[de.charAt(ee)]:64;++ee;const Nt=ee<de.length?Me[de.charAt(ee)]:64;if(++ee,null==$||null==re||null==Ye||null==Nt)throw Error();ve.push($<<2|re>>4),64!==Ye&&(ve.push(re<<4&240|Ye>>2),64!==Nt&&ve.push(Ye<<6&192|Nt))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let de=0;de<this.ENCODED_VALS.length;de++)this.byteToCharMap_[de]=this.ENCODED_VALS.charAt(de),this.charToByteMap_[this.byteToCharMap_[de]]=de,this.byteToCharMapWebSafe_[de]=this.ENCODED_VALS_WEBSAFE.charAt(de),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[de]]=de,de>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(de)]=de,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(de)]=de)}}},ce=function(de){return function(de){const fe=De(de);return Re.encodeByteArray(fe,!0)}(de).replace(/\./g,"")},X=function(de){try{return Re.decodeString(de,!0)}catch(fe){console.error("base64Decode failed: ",fe)}return null};function ue(de,fe){if(!(fe instanceof Object))return fe;switch(fe.constructor){case Date:return new Date(fe.getTime());case Object:void 0===de&&(de={});break;case Array:de=[];break;default:return fe}for(const Me in fe)!fe.hasOwnProperty(Me)||!Ne(Me)||(de[Me]=ue(de[Me],fe[Me]));return de}function Ne(de){return"__proto__"!==de}function ut(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function dt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(de){return!1}}function ct(){return"object"==typeof self&&self.self===self}function Qe(){const de="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof de&&void 0!==de.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ft(){const de=ut();return de.indexOf("MSIE ")>=0||de.indexOf("Trident/")>=0}function et(){return!dt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tt(){return"object"==typeof indexedDB}function Y(){return new Promise((de,fe)=>{try{let Me=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(ve);ee.onsuccess=()=>{ee.result.close(),Me||self.indexedDB.deleteDatabase(ve),de(!0)},ee.onupgradeneeded=()=>{Me=!1},ee.onerror=()=>{var $;fe((null===($=ee.error)||void 0===$?void 0:$.message)||"")}}catch(Me){fe(Me)}})}function qe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const ot=()=>{try{return function tt(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const de=process.env.__FIREBASE_DEFAULTS__;return de?JSON.parse(de):void 0})()||(()=>{if("undefined"==typeof document)return;let de;try{de=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Me){return}const fe=de&&X(de[1]);return fe&&JSON.parse(fe)})()}catch(de){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${de}`)}},on=()=>{var de;return null===(de=ot())||void 0===de?void 0:de.config},pt=de=>{var fe;return null===(fe=ot())||void 0===fe?void 0:fe[`_${de}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((fe,Me)=>{this.resolve=fe,this.reject=Me})}wrapCallback(fe){return(Me,ve)=>{Me?this.reject(Me):this.resolve(ve),"function"==typeof fe&&(this.promise.catch(()=>{}),1===fe.length?fe(Me):fe(Me,ve))}}}function q(de,fe){if(de.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=fe||"demo-project",ee=de.iat||0,$=de.sub||de.user_id;if(!$)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const te=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:ee,exp:ee+3600,auth_time:ee,sub:$,user_id:$,firebase:{sign_in_provider:"custom",identities:{}}},de);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(te)),""].join(".")}class Ke extends Error{constructor(fe,Me,ve){super(Me),this.code=fe,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor(fe,Me,ve){this.service=fe,this.serviceName=Me,this.errors=ve}create(fe,...Me){const ve=Me[0]||{},ee=`${this.service}/${fe}`,$=this.errors[fe],te=$?function $t(de,fe){return de.replace(Xt,(Me,ve)=>{const ee=fe[ve];return null!=ee?String(ee):`<${ve}?>`})}($,ve):"Error";return new Ke(ee,`${this.serviceName}: ${te} (${ee}).`,ve)}}const Xt=/\{\$([^}]+)}/g;function Li(de,fe){return Object.prototype.hasOwnProperty.call(de,fe)}function Ui(de){for(const fe in de)if(Object.prototype.hasOwnProperty.call(de,fe))return!1;return!0}function Pi(de,fe){if(de===fe)return!0;const Me=Object.keys(de),ve=Object.keys(fe);for(const ee of Me){if(!ve.includes(ee))return!1;const $=de[ee],te=fe[ee];if(Qn($)&&Qn(te)){if(!Pi($,te))return!1}else if($!==te)return!1}for(const ee of ve)if(!Me.includes(ee))return!1;return!0}function Qn(de){return null!==de&&"object"==typeof de}function Ri(de){const fe=[];for(const[Me,ve]of Object.entries(de))Array.isArray(ve)?ve.forEach(ee=>{fe.push(encodeURIComponent(Me)+"="+encodeURIComponent(ee))}):fe.push(encodeURIComponent(Me)+"="+encodeURIComponent(ve));return fe.length?"&"+fe.join("&"):""}function ci(de){const fe={};return de.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[ee,$]=ve.split("=");fe[decodeURIComponent(ee)]=decodeURIComponent($)}}),fe}function It(de){const fe=de.indexOf("?");if(!fe)return"";const Me=de.indexOf("#",fe);return de.substring(fe,Me>0?Me:void 0)}function $e(de,fe){const Me=new Lt(de,fe);return Me.subscribe.bind(Me)}class Lt{constructor(fe,Me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Me,this.task.then(()=>{fe(this)}).catch(ve=>{this.error(ve)})}next(fe){this.forEachObserver(Me=>{Me.next(fe)})}error(fe){this.forEachObserver(Me=>{Me.error(fe)}),this.close(fe)}complete(){this.forEachObserver(fe=>{fe.complete()}),this.close()}subscribe(fe,Me,ve){let ee;if(void 0===fe&&void 0===Me&&void 0===ve)throw new Error("Missing Observer.");ee=function Ft(de,fe){if("object"!=typeof de||null===de)return!1;for(const Me of fe)if(Me in de&&"function"==typeof de[Me])return!0;return!1}(fe,["next","error","complete"])?fe:{next:fe,error:Me,complete:ve},void 0===ee.next&&(ee.next=Gt),void 0===ee.error&&(ee.error=Gt),void 0===ee.complete&&(ee.complete=Gt);const $=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch(te){}}),this.observers.push(ee),$}unsubscribeOne(fe){void 0===this.observers||void 0===this.observers[fe]||(delete this.observers[fe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(fe){if(!this.finalized)for(let Me=0;Me<this.observers.length;Me++)this.sendOne(Me,fe)}sendOne(fe,Me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[fe])try{Me(this.observers[fe])}catch(ve){"undefined"!=typeof console&&console.error&&console.error(ve)}})}close(fe){this.finalized||(this.finalized=!0,void 0!==fe&&(this.finalError=fe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gt(){}function be(de,fe=1e3,Me=2){const ve=fe*Math.pow(Me,de),ee=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+ee)}function St(de){return de&&de._delegate?de._delegate:de}},5089:(qt,Ze,x)=>{x.d(Ze,{e:()=>Re});var g=x(1135),h=x(4004),W=x(5e3),De=x(4965),_e=x(520);let Re=(()=>{class Ce{constructor(X,ne){this.glopalService=X,this.http=ne,this.arealoading=!1,this.addressesLoading=!1,this.userProfile=new g.X(null),this.addresses=new g.X(null),this.areas=new g.X(null)}isLogin(){return!!localStorage.getItem("joinToken")}signupu(X){return this.http.post(`${this.glopalService.apiUrlOne}signUp`,X)}logIn(X){return this.http.post(`${this.glopalService.apiUrlOne}logIn`,X)}getUserProfile(){return this.http.get(`${this.glopalService.apiUrlOne}user/getProfile`).pipe((0,h.U)(X=>X.payload)).subscribe(X=>this.userProfile.next(X))}updateUserProfile(X){return this.http.post(`${this.glopalService.apiUrlOne}user/updateProfile`,X)}getAllAreas(){return this.arealoading=!0,this.http.get(`${this.glopalService.apiUrlOne}areaList`).pipe((0,h.U)(X=>X.payload)).subscribe(X=>{this.areas.next(X),this.arealoading=!1})}getAddress(X){return this.addressesLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/list_address`,{user_id:X}).pipe((0,h.U)(ne=>ne.payload)).subscribe(ne=>{this.addresses.next(ne),this.addressesLoading=!1})}addAddress(X){return this.http.post(`${this.glopalService.apiUrlOne}user/add_address`,X)}deleteAddress(X){return this.http.post(`${this.glopalService.apiUrlOne}user/delete_address`,{address_id:X})}updateAddres(X){return this.http.post(`${this.glopalService.apiUrlOne}user/edit_address`,X)}resetPassword(X){return this.http.post(`${this.glopalService.apiUrlOne}resetPassword`,X)}}return Ce.\u0275fac=function(X){return new(X||Ce)(W.LFG(De.W),W.LFG(_e.eN))},Ce.\u0275prov=W.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},2169:(qt,Ze,x)=>{x.d(Ze,{Y:()=>Re});var g=x(1135),h=x(4004),W=x(5e3),De=x(520),_e=x(4965);let Re=(()=>{class Ce{constructor(X,ne){this.http=X,this.glopalService=ne,this.activities=new g.X([]),this.clups=new g.X([]),this.intersts=new g.X([]),this.activitiesLoading=!0,this.clupsLoading=!0,this.interistsLoading=!1,this.ActivitiesRequestComplete=!1}getTopSliderGuest(){return this.http.post(`${this.glopalService.apiUrlOne}promoBannerOpen`,{}).pipe((0,h.U)(X=>Array.isArray(X.payload)?X.payload:[]))}getTopSliderUser(){return this.http.post(`${this.glopalService.apiUrlOne}user/promoBanner`,{}).pipe((0,h.U)(X=>Array.isArray(X.payload)?X.payload:[]))}getActivitiesGuest(X){return this.activitiesLoading=!0,this.ActivitiesRequestComplete=!1,this.http.post(`${this.glopalService.apiUrlOne}getActivityListWeb`,{activity_type:"DATE",limit:10,page:X}).pipe((0,h.U)(ue=>ue.payload)).subscribe(ue=>{Array.isArray(ue)?this.activities.next(ue):this.activities.next([]),this.activitiesLoading=!1,this.ActivitiesRequestComplete=!0})}getActivitiesUser(X){return this.ActivitiesRequestComplete=!1,this.activitiesLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/getActivityList`,{activity_type:"DATE",limit:10,page:X}).pipe((0,h.U)(ue=>ue.payload)).subscribe(ue=>{Array.isArray(ue)?this.activities.next(ue):this.activities.next([]),this.activitiesLoading=!1,this.ActivitiesRequestComplete=!0})}getClupsGuest(){return this.clupsLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}getClubListWeb`,{}).pipe((0,h.U)(X=>X.payload)).subscribe(X=>{Array.isArray(X)?this.clups.next(X):this.clups.next([]),this.clupsLoading=!1})}getClupsUser(){return this.clupsLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/getClubList`,{}).pipe((0,h.U)(X=>X.payload)).subscribe(X=>{Array.isArray(X)?this.clups.next(X):this.clups.next([]),this.clupsLoading=!1})}getIntersts(){return this.interistsLoading=!0,this.http.get(`${this.glopalService.apiUrlOne}interestsList`).pipe((0,h.U)(X=>X.payload)).subscribe(X=>{Array.isArray(X)?this.intersts.next(X):this.intersts.next([]),this.interistsLoading=!1})}getPopular(){return this.http.get(`${this.glopalService.apiUrlOne}mostSelling`).pipe((0,h.U)(X=>Array.isArray(X.payload)?X.payload:[]))}}return Ce.\u0275fac=function(X){return new(X||Ce)(W.LFG(De.eN),W.LFG(_e.W))},Ce.\u0275prov=W.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},1408:(qt,Ze,x)=>{x.d(Ze,{Z:()=>Re});var g=x(1135),h=x(4004),W=x(5e3),De=x(520),_e=x(4965);let Re=(()=>{class Ce{constructor(X,ne){this.http=X,this.glopalService=ne,this.members=new g.X(null),this.membersLoading=!1}getAllMembers(){return this.membersLoading=!0,this.http.post(`${this.glopalService.apiUrlOne}user/userChildDetails`,{}).pipe((0,h.U)(X=>{var ne;return null===(ne=null==X?void 0:X.payload)||void 0===ne?void 0:ne.child_data})).subscribe(X=>{Array.isArray(X)?this.members.next(X):this.members.next([]),this.membersLoading=!1})}addMember(X){return this.http.post(`${this.glopalService.apiUrlOne}user/addChild`,X)}updateMember(X){return this.http.post(`${this.glopalService.apiUrlOne}user/updateChild`,X)}deleteMember(X){return this.http.post(`${this.glopalService.apiUrlOne}user/removeChild`,{child_id:X})}}return Ce.\u0275fac=function(X){return new(X||Ce)(W.LFG(De.eN),W.LFG(_e.W))},Ce.\u0275prov=W.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},3904:(qt,Ze,x)=>{x.d(Ze,{T:()=>Re});var g=x(1135),h=x(4004),W=x(5e3),De=x(520),_e=x(4965);let Re=(()=>{class Ce{constructor(X,ne){this.http=X,this.glopalService=ne,this.notification=new g.X(null),this.loading=!1}getNotifications(){return this.loading=!0,this.http.post(`${this.glopalService.apiUrlOne}getNotificationLog`,{}).pipe((0,h.U)(X=>Array.isArray(X.payload)?X.payload:[])).subscribe(X=>{this.notification.next(X),this.loading=!1})}deleteNotification(X){return this.http.post(`${this.glopalService.apiUrlOne}deleteNotification`,{id:X})}}return Ce.\u0275fac=function(X){return new(X||Ce)(W.LFG(De.eN),W.LFG(_e.W))},Ce.\u0275prov=W.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},9863:(qt,Ze,x)=>{x.d(Ze,{d:()=>_e});var g=x(4004),h=x(5e3),W=x(4965),De=x(520);let _e=(()=>{class Re{constructor(ce,X){this.glopalService=ce,this.http=X}getStoreTabs(){return this.http.get(`${this.glopalService.apiUrlTwo}categories`)}getCategoryById(ce,X){return this.http.get(`${this.glopalService.apiUrlTwo}category/${ce}/products`,{params:{page:X}}).pipe((0,g.U)(ne=>{var ue;return null===(ue=null==ne?void 0:ne.payload)||void 0===ue?void 0:ue.data}))}getProductDetails(ce){return this.http.get(`${this.glopalService.apiUrlTwo}product/${ce}`).pipe((0,g.U)(X=>null==X?void 0:X.payload))}}return Re.\u0275fac=function(ce){return new(ce||Re)(h.LFG(W.W),h.LFG(De.eN))},Re.\u0275prov=h.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})()},4965:(qt,Ze,x)=>{x.d(Ze,{W:()=>W});var g=x(1135),h=x(5e3);let W=(()=>{class De{constructor(){this.hideNavbarAndFooter=new g.X(!1),this.apiUrlOne="https://app.join.com.kw/api/v1/",this.apiUrlTwo="https://app.join.com.kw/api/v2/"}}return De.\u0275fac=function(Re){return new(Re||De)},De.\u0275prov=h.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})()},3341:(qt,Ze,x)=>{var g=x(2313),h=x(5e3),W=x(2094),De=x(8995);let _e=(()=>{class v{constructor(){}ngOnInit(){}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275cmp=h.Xpm({type:v,selectors:[["app-notfound"]],decls:5,vars:3,consts:[[1,"py-5","container","text-center",2,"min-height","100vh"],["src","assets/images/notfound-page.svg","alt","",1,"img-fluid"],[1,"text-center"]],template:function(a,f){1&a&&(h.TgZ(0,"section",0),h._UZ(1,"img",1),h.TgZ(2,"h1",2),h._uU(3),h.ALo(4,"translate"),h.qZA()()),2&a&&(h.xp6(3),h.hij(" ",h.lcZ(4,1,"notfound")," "))},pipes:[De.X$],styles:[""]}),v})(),Re=(()=>{class v{constructor(a){this.router=a}canActivate(a,f){return!!localStorage.getItem("joinToken")||(this.router.navigate(["/auth/login"]),!1)}}return v.\u0275fac=function(a){return new(a||v)(h.LFG(W.F0))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const ce=[{path:"",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(5)]).then(x.bind(x,8005)).then(v=>v.HomeModule)},{path:"auth",canActivate:[(()=>{class v{constructor(a){this.router=a}canActivate(a,f){return!localStorage.getItem("joinToken")||(this.router.navigate(["/"]),!1)}}return v.\u0275fac=function(a){return new(a||v)(h.LFG(W.F0))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(410)]).then(x.bind(x,6269)).then(v=>v.AuthModule)},{path:"store",loadChildren:()=>Promise.all([x.e(466),x.e(592)]).then(x.bind(x,5718)).then(v=>v.StoreModule)},{path:"activities",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(181)]).then(x.bind(x,3181)).then(v=>v.ActivitiesModule)},{path:"activity/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(803)]).then(x.bind(x,8803)).then(v=>v.ActivityDetailsModule)},{path:"interests/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(703)]).then(x.bind(x,5703)).then(v=>v.InterstsModule)},{path:"clup/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(743)]).then(x.bind(x,2743)).then(v=>v.ClupDetailsModule)},{path:"product/:id",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(277)]).then(x.bind(x,3277)).then(v=>v.ProductDetailsModule)},{path:"search/:str",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(998)]).then(x.bind(x,8998)).then(v=>v.SearchResultModule)},{path:"profile",canActivate:[Re],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(908)]).then(x.bind(x,6908)).then(v=>v.ProfileModule)},{path:"favorite",canActivate:[Re],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(356)]).then(x.bind(x,356)).then(v=>v.FavoritModule)},{path:"history",canActivate:[Re],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(311)]).then(x.bind(x,7311)).then(v=>v.HistoryModule)},{path:"members",canActivate:[Re],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(655)]).then(x.bind(x,6655)).then(v=>v.MembersModule)},{path:"notifications",canActivate:[Re],loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(515)]).then(x.bind(x,7515)).then(v=>v.NotificationsModule)},{path:"cart",loadChildren:()=>Promise.all([x.e(466),x.e(592),x.e(746)]).then(x.bind(x,2746)).then(v=>v.CartModule)},{path:"**",component:_e}];let X=(()=>{class v{}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=h.oAB({type:v}),v.\u0275inj=h.cJS({imports:[[W.Bz.forRoot(ce,{initialNavigation:"enabled",scrollPositionRestoration:"enabled",useHash:!0})],W.Bz]}),v})();var ne=x(3904),ue=x(1408),Ne=x(2169),ut=x(5089),nt=x(9863),dt=x(4965),ct=x(9808),Qe=x(8274),st=x(5351),Ue=x(3075);function ft(v,u){1&v&&h._uU(0),2&v&&h.Oqu(u.index<u.value?"\u2605":"\u2606")}function me(v,u){}const we=function(v,u){return{index:v,value:u}};function et(v,u){if(1&v){const a=h.EpF();h.TgZ(0,"span",3),h._uU(1),h.qZA(),h.TgZ(2,"span",4),h.NdJ("mouseenter",function(){const k=h.CHM(a).index;return h.oxw().enter(k+1)})("click",function(){const k=h.CHM(a).index;return h.oxw().rate(k+1)}),h.YNc(3,me,0,0,"ng-template",5),h.qZA()}if(2&v){const a=u.$implicit,f=u.index,E=h.oxw(),k=h.MAs(2);h.xp6(1),h.hij("(",f<E.value?"*":" ",")"),h.xp6(1),h.Udp("cursor",E.readonly?"default":"pointer"),h.ekj("active",f<E.value),h.Q6J("title",a.title),h.xp6(1),h.Q6J("ngTemplateOutlet",E.customTemplate||k)("ngTemplateOutletContext",h.WLB(8,we,f,E.value))}}let Tt=(()=>{class v{constructor(){this.ariaLabel="rating"}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Y={provide:Ue.JU,useExisting:(0,h.Gpc)(()=>qe),multi:!0};let qe=(()=>{class v{constructor(a,f){this.changeDetection=a,this.max=5,this.readonly=!1,this.titles=[],this.onHover=new h.vpe,this.onLeave=new h.vpe,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.ariaLabel="rating",this.range=[],this.value=0,Object.assign(this,f)}onKeydown(a){-1!==[37,38,39,40].indexOf(a.which)&&(a.preventDefault(),a.stopPropagation(),this.rate(this.value+(38===a.which||39===a.which?1:-1)))}ngOnInit(){this.max=this.max||5,this.titles=void 0!==this.titles&&this.titles.length>0?this.titles:[],this.range=this.buildTemplateObjects(this.max)}writeValue(a){if(a%1!==a)return this.value=Math.round(a),this.preValue=a,void this.changeDetection.markForCheck();this.preValue=a,this.value=a,this.changeDetection.markForCheck()}enter(a){this.readonly||(this.value=a,this.changeDetection.markForCheck(),this.onHover.emit(a))}reset(){"number"==typeof this.preValue&&(this.value=Math.round(this.preValue),this.changeDetection.markForCheck(),this.onLeave.emit(this.value))}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouched=a}rate(a){!this.readonly&&this.range&&a>=0&&a<=this.range.length&&(this.writeValue(a),this.onChange(a))}buildTemplateObjects(a){const f=[];for(let E=0;E<a;E++)f.push({index:E,title:this.titles[E]||E+1});return f}}return v.\u0275fac=function(a){return new(a||v)(h.Y36(h.sBO),h.Y36(Tt))},v.\u0275cmp=h.Xpm({type:v,selectors:[["rating"]],hostBindings:function(a,f){1&a&&h.NdJ("keydown",function(k){return f.onKeydown(k)})},inputs:{max:"max",readonly:"readonly",titles:"titles",customTemplate:"customTemplate"},outputs:{onHover:"onHover",onLeave:"onLeave"},features:[h._Bn([Y])],decls:4,vars:4,consts:[["tabindex","0","role","slider","aria-valuemin","0",3,"mouseleave","keydown"],["star",""],["ngFor","",3,"ngForOf"],[1,"sr-only","visually-hidden"],[1,"bs-rating-star",3,"title","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(a,f){1&a&&(h.TgZ(0,"span",0),h.NdJ("mouseleave",function(){return f.reset()})("keydown",function(k){return f.onKeydown(k)}),h.YNc(1,ft,1,1,"ng-template",null,1,h.W1O),h.YNc(3,et,4,11,"ng-template",2),h.qZA()),2&a&&(h.uIk("aria-label",f.ariaLabel)("aria-valuemax",f.range.length)("aria-valuenow",f.value),h.xp6(3),h.Q6J("ngForOf",f.range))},directives:[ct.sg,ct.tP],encapsulation:2,changeDetection:0}),v})(),tt=(()=>{class v{static forRoot(){return{ngModule:v,providers:[]}}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=h.oAB({type:v}),v.\u0275inj=h.cJS({imports:[[ct.ez]]}),v})();function Le(v){return"function"==typeof v}let Ge=!1;const Xe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(v){if(v){const u=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+u.stack)}else Ge&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Ge=v},get useDeprecatedSynchronousErrorHandling(){return Ge}};function ot(v){setTimeout(()=>{throw v},0)}const it={closed:!0,next(v){},error(v){if(Xe.useDeprecatedSynchronousErrorHandling)throw v;ot(v)},complete(){}},Rt=Array.isArray||(v=>v&&"number"==typeof v.length),vt=(()=>{function v(u){return Error.call(this),this.message=u?`${u.length} errors occurred during unsubscription:\n${u.map((a,f)=>`${f+1}) ${a.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=u,this}return v.prototype=Object.create(Error.prototype),v})();class q{constructor(u){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,u&&(this._ctorUnsubscribe=!0,this._unsubscribe=u)}unsubscribe(){let u;if(this.closed)return;let{_parentOrParents:a,_ctorUnsubscribe:f,_unsubscribe:E,_subscriptions:k}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof q)a.remove(this);else if(null!==a)for(let K=0;K<a.length;++K)a[K].remove(this);if(Le(E)){f&&(this._unsubscribe=void 0);try{E.call(this)}catch(K){u=K instanceof vt?Se(K.errors):[K]}}if(Rt(k)){let K=-1,ye=k.length;for(;++K<ye;){const Ve=k[K];if(null!==(v=Ve)&&"object"==typeof v)try{Ve.unsubscribe()}catch(at){u=u||[],at instanceof vt?u=u.concat(Se(at.errors)):u.push(at)}}}var v;if(u)throw new vt(u)}add(u){let a=u;if(!u)return q.EMPTY;switch(typeof u){case"function":a=new q(u);case"object":if(a===this||a.closed||"function"!=typeof a.unsubscribe)return a;if(this.closed)return a.unsubscribe(),a;if(!(a instanceof q)){const k=a;a=new q,a._subscriptions=[k]}break;default:throw new Error("unrecognized teardown "+u+" added to Subscription.")}let{_parentOrParents:f}=a;if(null===f)a._parentOrParents=this;else if(f instanceof q){if(f===this)return a;a._parentOrParents=[f,this]}else{if(-1!==f.indexOf(this))return a;f.push(this)}const E=this._subscriptions;return null===E?this._subscriptions=[a]:E.push(a),a}remove(u){const a=this._subscriptions;if(a){const f=a.indexOf(u);-1!==f&&a.splice(f,1)}}}var v;function Se(v){return v.reduce((u,a)=>u.concat(a instanceof vt?a.errors:a),[])}q.EMPTY=((v=new q).closed=!0,v);const Ke="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class $t extends q{constructor(u,a,f){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=it;break;case 1:if(!u){this.destination=it;break}if("object"==typeof u){u instanceof $t?(this.syncErrorThrowable=u.syncErrorThrowable,this.destination=u,u.add(this)):(this.syncErrorThrowable=!0,this.destination=new Xt(this,u));break}default:this.syncErrorThrowable=!0,this.destination=new Xt(this,u,a,f)}}[Ke](){return this}static create(u,a,f){const E=new $t(u,a,f);return E.syncErrorThrowable=!1,E}next(u){this.isStopped||this._next(u)}error(u){this.isStopped||(this.isStopped=!0,this._error(u))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(u){this.destination.next(u)}_error(u){this.destination.error(u),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:u}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=u,this}}class Xt extends $t{constructor(u,a,f,E){super(),this._parentSubscriber=u;let k,K=this;Le(a)?k=a:a&&(k=a.next,f=a.error,E=a.complete,a!==it&&(K=Object.create(a),Le(K.unsubscribe)&&this.add(K.unsubscribe.bind(K)),K.unsubscribe=this.unsubscribe.bind(this))),this._context=K,this._next=k,this._error=f,this._complete=E}next(u){if(!this.isStopped&&this._next){const{_parentSubscriber:a}=this;Xe.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable?this.__tryOrSetError(a,this._next,u)&&this.unsubscribe():this.__tryOrUnsub(this._next,u)}}error(u){if(!this.isStopped){const{_parentSubscriber:a}=this,{useDeprecatedSynchronousErrorHandling:f}=Xe;if(this._error)f&&a.syncErrorThrowable?(this.__tryOrSetError(a,this._error,u),this.unsubscribe()):(this.__tryOrUnsub(this._error,u),this.unsubscribe());else if(a.syncErrorThrowable)f?(a.syncErrorValue=u,a.syncErrorThrown=!0):ot(u),this.unsubscribe();else{if(this.unsubscribe(),f)throw u;ot(u)}}}complete(){if(!this.isStopped){const{_parentSubscriber:u}=this;if(this._complete){const a=()=>this._complete.call(this._context);Xe.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable?(this.__tryOrSetError(u,a),this.unsubscribe()):(this.__tryOrUnsub(a),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(u,a){try{u.call(this._context,a)}catch(f){if(this.unsubscribe(),Xe.useDeprecatedSynchronousErrorHandling)throw f;ot(f)}}__tryOrSetError(u,a,f){if(!Xe.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{a.call(this._context,f)}catch(E){return Xe.useDeprecatedSynchronousErrorHandling?(u.syncErrorValue=E,u.syncErrorThrown=!0,!0):(ot(E),!0)}return!1}_unsubscribe(){const{_parentSubscriber:u}=this;this._context=null,this._parentSubscriber=null,u.unsubscribe()}}const Wn="function"==typeof Symbol&&Symbol.observable||"@@observable";function ui(v){return v}let ei=(()=>{class v{constructor(a){this._isScalar=!1,a&&(this._subscribe=a)}lift(a){const f=new v;return f.source=this,f.operator=a,f}subscribe(a,f,E){const{operator:k}=this,K=function Sn(v,u,a){if(v){if(v instanceof $t)return v;if(v[Ke])return v[Ke]()}return v||u||a?new $t(v,u,a):new $t(it)}(a,f,E);if(K.add(k?k.call(K,this.source):this.source||Xe.useDeprecatedSynchronousErrorHandling&&!K.syncErrorThrowable?this._subscribe(K):this._trySubscribe(K)),Xe.useDeprecatedSynchronousErrorHandling&&K.syncErrorThrowable&&(K.syncErrorThrowable=!1,K.syncErrorThrown))throw K.syncErrorValue;return K}_trySubscribe(a){try{return this._subscribe(a)}catch(f){Xe.useDeprecatedSynchronousErrorHandling&&(a.syncErrorThrown=!0,a.syncErrorValue=f),function hn(v){for(;v;){const{closed:u,destination:a,isStopped:f}=v;if(u||f)return!1;v=a&&a instanceof $t?a:null}return!0}(a)?a.error(f):console.warn(f)}}forEach(a,f){return new(f=Li(f))((E,k)=>{let K;K=this.subscribe(ye=>{try{a(ye)}catch(Ve){k(Ve),K&&K.unsubscribe()}},k,E)})}_subscribe(a){const{source:f}=this;return f&&f.subscribe(a)}[Wn](){return this}pipe(...a){return 0===a.length?this:function Si(v){return 0===v.length?ui:1===v.length?v[0]:function(a){return v.reduce((f,E)=>E(f),a)}}(a)(this)}toPromise(a){return new(a=Li(a))((f,E)=>{let k;this.subscribe(K=>k=K,K=>E(K),()=>f(k))})}}return v.create=u=>new v(u),v})();function Li(v){if(v||(v=Xe.Promise||Promise),!v)throw new Error("no Promise impl found");return v}const Ui=(()=>{function v(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return v.prototype=Object.create(Error.prototype),v})();class un extends q{constructor(u,a){super(),this.subject=u,this.subscriber=a,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const u=this.subject,a=u.observers;if(this.subject=null,!a||0===a.length||u.isStopped||u.closed)return;const f=a.indexOf(this.subscriber);-1!==f&&a.splice(f,1)}}class Pi extends $t{constructor(u){super(u),this.destination=u}}let Qn=(()=>{class v extends ei{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ke](){return new Pi(this)}lift(a){const f=new Jt(this,this);return f.operator=a,f}next(a){if(this.closed)throw new Ui;if(!this.isStopped){const{observers:f}=this,E=f.length,k=f.slice();for(let K=0;K<E;K++)k[K].next(a)}}error(a){if(this.closed)throw new Ui;this.hasError=!0,this.thrownError=a,this.isStopped=!0;const{observers:f}=this,E=f.length,k=f.slice();for(let K=0;K<E;K++)k[K].error(a);this.observers.length=0}complete(){if(this.closed)throw new Ui;this.isStopped=!0;const{observers:a}=this,f=a.length,E=a.slice();for(let k=0;k<f;k++)E[k].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(a){if(this.closed)throw new Ui;return super._trySubscribe(a)}_subscribe(a){if(this.closed)throw new Ui;return this.hasError?(a.error(this.thrownError),q.EMPTY):this.isStopped?(a.complete(),q.EMPTY):(this.observers.push(a),new un(this,a))}asObservable(){const a=new ei;return a.source=this,a}}return v.create=(u,a)=>new Jt(u,a),v})();class Jt extends Qn{constructor(u,a){super(),this.destination=u,this.source=a}next(u){const{destination:a}=this;a&&a.next&&a.next(u)}error(u){const{destination:a}=this;a&&a.error&&this.destination.error(u)}complete(){const{destination:u}=this;u&&u.complete&&this.destination.complete()}_subscribe(u){const{source:a}=this;return a?this.source.subscribe(u):q.EMPTY}}class Ri extends q{constructor(u,a){super()}schedule(u,a=0){return this}}let It=(()=>{class v{constructor(a,f=v.now){this.SchedulerAction=a,this.now=f}schedule(a,f=0,E){return new this.SchedulerAction(this,a).schedule(E,f)}}return v.now=()=>Date.now(),v})();class ke extends It{constructor(u,a=It.now){super(u,()=>ke.delegate&&ke.delegate!==this?ke.delegate.now():a()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(u,a=0,f){return ke.delegate&&ke.delegate!==this?ke.delegate.schedule(u,a,f):super.schedule(u,a,f)}flush(u){const{actions:a}=this;if(this.active)return void a.push(u);let f;this.active=!0;do{if(f=u.execute(u.state,u.delay))break}while(u=a.shift());if(this.active=!1,f){for(;u=a.shift();)u.unsubscribe();throw f}}}const Lt=new ke(class ci extends Ri{constructor(u,a){super(u,a),this.scheduler=u,this.work=a,this.pending=!1}schedule(u,a=0){if(this.closed)return this;this.state=u;const f=this.id,E=this.scheduler;return null!=f&&(this.id=this.recycleAsyncId(E,f,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(E,this.id,a),this}requestAsyncId(u,a,f=0){return setInterval(u.flush.bind(u,this),f)}recycleAsyncId(u,a,f=0){if(null!==f&&this.delay===f&&!1===this.pending)return a;clearInterval(a)}execute(u,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const f=this._execute(u,a);if(f)return f;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(u,a){let E,f=!1;try{this.work(u)}catch(k){f=!0,E=!!k&&k||new Error(k)}if(f)return this.unsubscribe(),E}_unsubscribe(){const u=this.id,a=this.scheduler,f=a.actions,E=f.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==E&&f.splice(E,1),null!=u&&(this.id=this.recycleAsyncId(a,u,null)),this.delay=null}}),wt={leading:!0,trailing:!1};function xe(v,u=Lt,a=wt){return f=>f.lift(new Ee(v,u,a.leading,a.trailing))}class Ee{constructor(u,a,f,E){this.duration=u,this.scheduler=a,this.leading=f,this.trailing=E}call(u,a){return a.subscribe(new We(u,this.duration,this.scheduler,this.leading,this.trailing))}}class We extends $t{constructor(u,a,f,E,k){super(u),this.duration=a,this.scheduler=f,this.leading=E,this.trailing=k,this._hasTrailingValue=!1,this._trailingValue=null}_next(u){this.throttled?this.trailing&&(this._trailingValue=u,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(_t,this.duration,{subscriber:this})),this.leading?this.destination.next(u):this.trailing&&(this._trailingValue=u,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const u=this.throttled;u&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),u.unsubscribe(),this.remove(u),this.throttled=null)}}function _t(v){const{subscriber:u}=v;u.clearThrottle()}function Dt(){}function Et(v,u,a){return function(E){return E.lift(new mn(v,u,a))}}class mn{constructor(u,a,f){this.nextOrObserver=u,this.error=a,this.complete=f}call(u,a){return a.subscribe(new bn(u,this.nextOrObserver,this.error,this.complete))}}class bn extends $t{constructor(u,a,f,E){super(u),this._tapNext=Dt,this._tapError=Dt,this._tapComplete=Dt,this._tapError=f||Dt,this._tapComplete=E||Dt,Le(a)?(this._context=this,this._tapNext=a):a&&(this._context=a,this._tapNext=a.next||Dt,this._tapError=a.error||Dt,this._tapComplete=a.complete||Dt)}_next(u){try{this._tapNext.call(this._context,u)}catch(a){return void this.destination.error(a)}this.destination.next(u)}_error(u){try{this._tapError.call(this._context,u)}catch(a){return void this.destination.error(a)}this.destination.error(u)}_complete(){try{this._tapComplete.call(this._context)}catch(u){return void this.destination.error(u)}return this.destination.complete()}}function ln(v,u){return a=>a.lift(new z(v,u))}class z{constructor(u,a){this.compare=u,this.keySelector=a}call(u,a){return a.subscribe(new he(u,this.compare,this.keySelector))}}class he extends $t{constructor(u,a,f){super(u),this.keySelector=f,this.hasKey=!1,"function"==typeof a&&(this.compare=a)}compare(u,a){return u===a}_next(u){let a;try{const{keySelector:E}=this;a=E?E(u):u}catch(E){return this.destination.error(E)}let f=!1;if(this.hasKey)try{const{compare:E}=this;f=E(this.key,a)}catch(E){return this.destination.error(E)}else this.hasKey=!0;f||(this.key=a,this.destination.next(u))}}class Fe{constructor(u,a){this.predicate=u,this.thisArg=a}call(u,a){return a.subscribe(new gt(u,this.predicate,this.thisArg))}}class gt extends $t{constructor(u,a,f){super(u),this.predicate=a,this.thisArg=f,this.count=0}_next(u){let a;try{a=this.predicate.call(this.thisArg,u,this.count++)}catch(f){return void this.destination.error(f)}a&&this.destination.next(u)}}var St="undefined"!=typeof window?window:{screen:{},navigator:{}},de=(St.matchMedia||function(){return{matches:!1}}).bind(St),fe=!1,ve=function(){};St.addEventListener&&St.addEventListener("p",ve,{get passive(){return fe=!0}}),St.removeEventListener&&St.removeEventListener("p",ve,!1);var ee=fe,te="ontouchstart"in St,Pt=(te||"TouchEvent"in St&&de("(any-pointer: coarse)"),St.navigator.userAgent||"");de("(pointer: coarse)").matches&&/iPad|Macintosh/.test(Pt)&&Math.min(St.screen.width||0,St.screen.height||0);(de("(pointer: coarse)").matches||!de("(pointer: fine)").matches&&te)&&/Windows.*Firefox/.test(Pt),de("(any-pointer: fine)").matches||de("(any-hover: hover)");const Ei=["tooltipTemplate"],Di=["leftOuterSelectionBar"],Sr=["rightOuterSelectionBar"],Ii=["fullBar"],zt=["selectionBar"],Hn=["minHandle"],di=["maxHandle"],ji=["floorLabel"],xr=["ceilLabel"],$i=["minHandleLabel"],nr=["maxHandleLabel"],ni=["combinedLabel"],yr=["ticksElement"];function pi(v,u){if(1&v&&h._UZ(0,"ngx-slider-tooltip-wrapper",31),2&v){const a=h.oxw().$implicit,f=h.oxw();h.Q6J("template",f.tooltipTemplate)("tooltip",a.valueTooltip)("placement",a.valueTooltipPlacement)("content",a.value)}}function Mn(v,u){if(1&v&&h._UZ(0,"span",32),2&v){const a=h.oxw().$implicit;h.Q6J("innerHTML",a.legend,h.oJD)}}const qr=function(v){return{"ngx-slider-selected":v}};function Gi(v,u){if(1&v&&(h.TgZ(0,"span",27),h._UZ(1,"ngx-slider-tooltip-wrapper",28),h.YNc(2,pi,1,4,"ngx-slider-tooltip-wrapper",29),h.YNc(3,Mn,1,1,"span",30),h.qZA()),2&v){const a=u.$implicit,f=h.oxw();h.Q6J("ngClass",h.VKq(7,qr,a.selected))("ngStyle",a.style),h.xp6(1),h.Q6J("template",f.tooltipTemplate)("tooltip",a.tooltip)("placement",a.tooltipPlacement),h.xp6(1),h.Q6J("ngIf",null!=a.value),h.xp6(1),h.Q6J("ngIf",null!=a.legend)}}function js(v,u){}function ir(v,u){1&v&&h.YNc(0,js,0,0,"ng-template")}const Bi=function(v,u,a){return{tooltip:v,placement:u,content:a}};function fs(v,u){if(1&v&&(h.ynx(0),h.YNc(1,ir,1,0,null,1),h.BQk()),2&v){const a=h.oxw();h.xp6(1),h.Q6J("ngTemplateOutlet",a.template)("ngTemplateOutletContext",h.kEZ(2,Bi,a.tooltip,a.placement,a.content))}}function ss(v,u){if(1&v&&(h.ynx(0),h.TgZ(1,"div",2),h._uU(2),h.qZA(),h.BQk()),2&v){const a=h.oxw();h.xp6(1),h.uIk("title",a.tooltip)("data-tooltip-placement",a.placement),h.xp6(1),h.hij(" ",a.content," ")}}const hi={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};hi[hi.Low]="Low",hi[hi.High]="High",hi[hi.Floor]="Floor",hi[hi.Ceil]="Ceil",hi[hi.TickValue]="TickValue";class fi{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.getStepLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.rotate=0,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel="ngx-slider",this.ariaLabelledBy=null,this.ariaLabelHigh="ngx-slider-max",this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const cn={Min:0,Max:1};cn[cn.Min]="Min",cn[cn.Max]="Max";class os{}class Ot{static isNullOrUndefined(u){return null==u}static areArraysEqual(u,a){if(u.length!==a.length)return!1;for(let f=0;f<u.length;++f)if(u[f]!==a[f])return!1;return!0}static linearValueToPosition(u,a,f){return(u-a)/(f-a)}static logValueToPosition(u,a,f){return((u=Math.log(u))-(a=Math.log(a)))/((f=Math.log(f))-a)}static linearPositionToValue(u,a,f){return u*(f-a)+a}static logPositionToValue(u,a,f){return a=Math.log(a),f=Math.log(f),Math.exp(u*(f-a)+a)}static findStepIndex(u,a){const f=a.map(k=>Math.abs(u-k.value));let E=0;for(let k=0;k<a.length;k++)f[k]!==f[E]&&f[k]<f[E]&&(E=k);return E}}class Ji{static isTouchEvent(u){return void 0!==window.TouchEvent?u instanceof TouchEvent:void 0!==u.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class vi{static roundToPrecisionLimit(u,a){return+u.toPrecision(a)}static isModuloWithinPrecisionLimit(u,a,f){const E=Math.pow(10,-f);return Math.abs(u%a)<=E||Math.abs(Math.abs(u%a)-a)<=E}static clampToRange(u,a,f){return Math.min(Math.max(u,a),f)}}class as{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class ls{constructor(u){this.renderer=u}attachPassiveEventListener(u,a,f,E){if(!0!==ee)return this.attachEventListener(u,a,f,E);const k=new as;k.eventName=a,k.events=new Qn;const K=ye=>{k.events.next(ye)};return u.addEventListener(a,K,{passive:!0,capture:!1}),k.teardownCallback=()=>{u.removeEventListener(a,K,{passive:!0,capture:!1})},k.eventsSubscription=k.events.pipe(Ot.isNullOrUndefined(E)?Et(()=>{}):xe(E,void 0,{leading:!0,trailing:!0})).subscribe(ye=>{f(ye)}),k}detachEventListener(u){Ot.isNullOrUndefined(u.eventsSubscription)||(u.eventsSubscription.unsubscribe(),u.eventsSubscription=null),Ot.isNullOrUndefined(u.events)||(u.events.complete(),u.events=null),Ot.isNullOrUndefined(u.teardownCallback)||(u.teardownCallback(),u.teardownCallback=null)}attachEventListener(u,a,f,E){const k=new as;return k.eventName=a,k.events=new Qn,k.teardownCallback=this.renderer.listen(u,a,ye=>{k.events.next(ye)}),k.eventsSubscription=k.events.pipe(Ot.isNullOrUndefined(E)?Et(()=>{}):xe(E,void 0,{leading:!0,trailing:!0})).subscribe(ye=>{f(ye)}),k}}let lr=(()=>{class v{constructor(a,f,E){this.elemRef=a,this.renderer=f,this.changeDetectionRef=E,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this._rotate=0,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.transform="",this.eventListeners=[],this.eventListenerHelper=new ls(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}get rotate(){return this._rotate}setAlwaysHide(a){this._alwaysHide=a,this.visibility=a?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(a){this._vertical=a,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(a){this._scale=a}setRotate(a){this._rotate=a,this.transform="rotate("+a+"deg)"}getRotate(){return this._rotate}setPosition(a){this._position!==a&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=a,this._vertical?this.bottom=Math.round(a)+"px":this.left=Math.round(a)+"px"}calculateDimension(){const a=this.getBoundingClientRect();this._dimension=this.vertical?(a.bottom-a.top)*this.scale:(a.right-a.left)*this.scale}setDimension(a){this._dimension!==a&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=a,this._vertical?this.height=Math.round(a)+"px":this.width=Math.round(a)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(a,f,E){const k=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,a,f,E);this.eventListeners.push(k)}onPassive(a,f,E){const k=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,a,f,E);this.eventListeners.push(k)}off(a){let f,E;Ot.isNullOrUndefined(a)?(f=[],E=this.eventListeners):(f=this.eventListeners.filter(k=>k.eventName!==a),E=this.eventListeners.filter(k=>k.eventName===a));for(const k of E)this.eventListenerHelper.detachEventListener(k);this.eventListeners=f}isRefDestroyed(){return Ot.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return v.\u0275fac=function(a){return new(a||v)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO))},v.\u0275dir=h.lG2({type:v,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(a,f){2&a&&h.Udp("opacity",f.opacity)("visibility",f.visibility)("left",f.left)("bottom",f.bottom)("height",f.height)("width",f.width)("transform",f.transform)}}),v})(),ps=(()=>{class v extends lr{constructor(a,f,E){super(a,f,E),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return v.\u0275fac=function(a){return new(a||v)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO))},v.\u0275dir=h.lG2({type:v,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(a,f){2&a&&(h.uIk("role",f.role)("tabindex",f.tabindex)("aria-orientation",f.ariaOrientation)("aria-label",f.ariaLabel)("aria-labelledby",f.ariaLabelledBy)("aria-valuenow",f.ariaValueNow)("aria-valuetext",f.ariaValueText)("aria-valuemin",f.ariaValueMin)("aria-valuemax",f.ariaValueMax),h.ekj("ngx-slider-active",f.active))},features:[h.qOj]}),v})(),Or=(()=>{class v extends lr{constructor(a,f,E){super(a,f,E),this._value=null}get value(){return this._value}setValue(a){let f=!1;!this.alwaysHide&&(Ot.isNullOrUndefined(this.value)||this.value.length!==a.length||this.value.length>0&&0===this.dimension)&&(f=!0),this._value=a,this.elemRef.nativeElement.innerHTML=a,f&&this.calculateDimension()}}return v.\u0275fac=function(a){return new(a||v)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO))},v.\u0275dir=h.lG2({type:v,selectors:[["","ngxSliderLabel",""]],features:[h.qOj]}),v})();class $s{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class zi{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class Gs{static compare(u,a){return!(Ot.isNullOrUndefined(u)&&Ot.isNullOrUndefined(a)||Ot.isNullOrUndefined(u)!==Ot.isNullOrUndefined(a))&&u.value===a.value&&u.highValue===a.highValue}}class ca extends Gs{static compare(u,a){return!(Ot.isNullOrUndefined(u)&&Ot.isNullOrUndefined(a)||Ot.isNullOrUndefined(u)!==Ot.isNullOrUndefined(a))&&u.value===a.value&&u.highValue===a.highValue&&u.forceChange===a.forceChange}}const us={provide:Ue.JU,useExisting:(0,h.Gpc)(()=>ao),multi:!0};let ao=(()=>{class v{constructor(a,f,E,k){this.renderer=a,this.elementRef=f,this.changeDetectionRef=E,this.zone=k,this.value=null,this.valueChange=new h.vpe,this.highValue=null,this.highValueChange=new h.vpe,this.options=new fi,this.userChangeStart=new h.vpe,this.userChange=new h.vpe,this.userChangeEnd=new h.vpe,this.initHasRun=!1,this.inputModelChangeSubject=new Qn,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new Qn,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new fi,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new zi,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.sliderElementAriaLabel="ngx-slider",this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new ls(this.renderer)}set manualRefresh(a){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=a.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(a){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=a.subscribe(f=>{this.focusPointer(f)})}get range(){return!Ot.isNullOrUndefined(this.value)&&!Ot.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new fi,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(a){!Ot.isNullOrUndefined(a.options)&&JSON.stringify(a.options.previousValue)!==JSON.stringify(a.options.currentValue)&&this.onChangeOptions(),(!Ot.isNullOrUndefined(a.value)||!Ot.isNullOrUndefined(a.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(a){a instanceof Array?(this.value=a[0],this.highValue=a[1]):this.value=a,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(a){this.onChangeCallback=a}registerOnTouched(a){this.onTouchedCallback=a}setDisabledState(a){this.viewOptions.disabled=a,this.updateDisabledState()}setAriaLabel(a){this.viewOptions.ariaLabel=a,this.updateAriaLabel()}onResize(a){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(ln(ca.compare),function be(v,u){return function(f){return f.lift(new Fe(v,u))}}(a=>!a.forceChange&&!a.internalChange)).subscribe(a=>this.applyInputModelChange(a))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(ln(ca.compare)).subscribe(a=>this.publishOutputModelChange(a))}subscribeResizeObserver(){Ji.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){Ji.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){Ot.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){Ot.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){Ot.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){Ot.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){Ot.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){Ot.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(a){return a===cn.Min?this.minHandleElement:a===cn.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===cn.Min?this.viewLowValue:this.currentTrackingPointer===cn.Max?this.viewHighValue:null}modelValueToViewValue(a){return Ot.isNullOrUndefined(a)?NaN:Ot.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+a:Ot.findStepIndex(+a,this.viewOptions.stepsArray)}viewValueToModelValue(a){return Ot.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?a:this.getStepValue(a)}getStepValue(a){const f=this.viewOptions.stepsArray[a];return Ot.isNullOrUndefined(f)?NaN:f.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(a){const f=this.normaliseModelValues(a),E=!Gs.compare(a,f);E&&(this.value=f.value,this.highValue=f.highValue),this.viewLowValue=this.modelValueToViewValue(f.value),this.viewHighValue=this.range?this.modelValueToViewValue(f.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:f.value,highValue:f.highValue,forceChange:E,userEventInitiated:!1})}publishOutputModelChange(a){const f=()=>{this.valueChange.emit(a.value),this.range&&this.highValueChange.emit(a.highValue),Ot.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[a.value,a.highValue]:a.value),Ot.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[a.value,a.highValue]:a.value)};a.userEventInitiated?(f(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{f()})}normaliseModelValues(a){const f=new Gs;if(f.value=a.value,f.highValue=a.highValue,!Ot.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const E=Ot.findStepIndex(f.value,this.viewOptions.stepsArray);if(f.value=this.viewOptions.stepsArray[E].value,this.range){const k=Ot.findStepIndex(f.highValue,this.viewOptions.stepsArray);f.highValue=this.viewOptions.stepsArray[k].value}}return f}if(this.viewOptions.enforceStep&&(f.value=this.roundStep(f.value),this.range&&(f.highValue=this.roundStep(f.highValue))),this.viewOptions.enforceRange&&(f.value=vi.clampToRange(f.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(f.highValue=vi.clampToRange(f.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&a.value>a.highValue))if(this.viewOptions.noSwitching)f.value=f.highValue;else{const E=a.value;f.value=a.highValue,f.highValue=E}return f}renormaliseModelValues(){const a={value:this.value,highValue:this.highValue},f=this.normaliseModelValues(a);Gs.compare(f,a)||(this.value=f.value,this.highValue=f.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const a=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const f=this.getOptionsInfluencingEventBindings(this.viewOptions),E=!Ot.areArraysEqual(a,f);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(E)}applyOptions(){if(this.viewOptions=new fi,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!Ot.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!Ot.isNullOrUndefined(this.viewOptions.tickStep)||!Ot.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!Ot.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),Ot.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),Ot.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(a,f)=>a+" - "+f),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,Ot.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=a=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(a):a))}applyFloorCeilOptions(){if(Ot.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),Ot.isNullOrUndefined(this.viewOptions.ceil)||Ot.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,Ot.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=a=>String(a))}resetSlider(a=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),a&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(a){a!==cn.Min&&a!==cn.Max&&(a=cn.Min),a===cn.Min?this.minHandleElement.focus():this.range&&a===cn.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){Ot.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const a=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(a||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(a||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(a||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const a of this.getAllSliderElements())Ot.isNullOrUndefined(a)||a.setVertical(this.viewOptions.vertical)}updateScale(){for(const a of this.getAllSliderElements())a.setScale(this.viewOptions.scale)}updateRotate(){for(const a of this.getAllSliderElements())a.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",Ot.isNullOrUndefined(this.viewOptions.ariaLabel)?Ot.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",Ot.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?Ot.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,hi.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,hi.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){Ot.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const a=this.minHandleElement.dimension;this.handleHalfDimension=a/2,Ot.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-a,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const a=Ot.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,f=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&a.reverse();const E=Ot.isNullOrUndefined(this.viewOptions.tickValueStep)?Ot.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let k=!1;const K=a.map(ye=>{let Ve=this.valueToPosition(ye);this.viewOptions.vertical&&(Ve=this.maxHandlePosition-Ve);const at=f+"("+Math.round(Ve)+"px)",kt=new $s;kt.selected=this.isTickSelected(ye),kt.style={"-webkit-transform":at,"-moz-transform":at,"-o-transform":at,"-ms-transform":at,transform:at},kt.selected&&!Ot.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(kt.style["background-color"]=this.getSelectionBarColor()),!kt.selected&&!Ot.isNullOrUndefined(this.viewOptions.getTickColor)&&(kt.style["background-color"]=this.getTickColor(ye)),Ot.isNullOrUndefined(this.viewOptions.ticksTooltip)||(kt.tooltip=this.viewOptions.ticksTooltip(ye),kt.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!Ot.isNullOrUndefined(E)&&vi.isModuloWithinPrecisionLimit(ye,E,this.viewOptions.precisionLimit)&&(kt.value=this.getDisplayValue(ye,hi.TickValue),Ot.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(kt.valueTooltip=this.viewOptions.ticksValuesTooltip(ye),kt.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let dn=null;if(Ot.isNullOrUndefined(this.viewOptions.stepsArray))Ot.isNullOrUndefined(this.viewOptions.getLegend)||(dn=this.viewOptions.getLegend(ye));else{const Cn=this.viewOptions.stepsArray[ye];Ot.isNullOrUndefined(this.viewOptions.getStepLegend)?Ot.isNullOrUndefined(Cn)||(dn=Cn.legend):dn=this.viewOptions.getStepLegend(Cn)}return Ot.isNullOrUndefined(dn)||(kt.legend=dn,k=!0),kt});if(setTimeout(()=>{this.sliderElementWithLegendClass=k}),Ot.isNullOrUndefined(this.ticks)||this.ticks.length!==K.length)this.ticks=K;else for(let ye=0;ye<K.length;++ye)Object.assign(this.ticks[ye],K[ye]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const a=Ot.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,f=[],E=1+Math.floor(vi.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/a,this.viewOptions.precisionLimit));for(let k=0;k<E;++k)f.push(vi.roundToPrecisionLimit(this.viewOptions.floor+a*k,this.viewOptions.precisionLimit));return f}isTickSelected(a){if(!this.range)if(Ot.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(a>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&a<=this.viewLowValue)return!0}else{const f=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>f&&a>=f&&a<=this.viewLowValue)return!0;if(this.viewLowValue<f&&a<=f&&a>=this.viewLowValue)return!0}return!!(this.range&&a>=this.viewLowValue&&a<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,hi.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,hi.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(a,f){a===cn.Min?this.updateLowHandle(f):a===cn.Max&&this.updateHighHandle(f),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(a,f){const E=a===cn.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,k=f-E/2+this.handleHalfDimension,K=this.fullBarElement.dimension-E;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&a===cn.Min||!this.viewOptions.rightToLeft&&a===cn.Max?Math.min(k,K):Math.min(Math.max(k,0),K):k}updateLowHandle(a){this.minHandleElement.setPosition(a),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,hi.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(cn.Min,a)),Ot.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(cn.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(a){this.maxHandleElement.setPosition(a),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,hi.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(cn.Max,a)),Ot.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(cn.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let a=!1,f=!1;const E=this.isLabelBelowFloorLabel(this.minHandleLabelElement),k=this.isLabelAboveCeilLabel(this.minHandleLabelElement),K=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),ye=this.isLabelBelowFloorLabel(this.combinedLabelElement),Ve=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(E?(a=!0,this.floorLabelElement.hide()):(a=!1,this.floorLabelElement.show()),k?(f=!0,this.ceilLabelElement.hide()):(f=!1,this.ceilLabelElement.show()),this.range){const at=this.combinedLabelElement.isVisible()?Ve:K,kt=this.combinedLabelElement.isVisible()?ye:E;at?this.ceilLabelElement.hide():f||this.ceilLabelElement.show(),kt?this.floorLabelElement.hide():a||this.floorLabelElement.show()}}isLabelBelowFloorLabel(a){const f=a.position,k=this.floorLabelElement.position;return this.viewOptions.rightToLeft?f+a.dimension>=k-2:f<=k+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(a){const f=a.position,k=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?f<=k+this.ceilLabelElement.dimension+2:f+a.dimension>=k-2}updateSelectionBar(){let a=0,f=0;const E=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,k=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)f=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),a=k;else if(Ot.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))E?(f=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),a=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(f=this.minHandleElement.position+this.handleHalfDimension,a=0);else{const K=this.viewOptions.showSelectionBarFromValue,ye=this.valueToPosition(K);(this.viewOptions.rightToLeft?this.viewLowValue<=K:this.viewLowValue>K)?(f=this.minHandleElement.position-ye,a=ye+this.handleHalfDimension):(f=ye-this.minHandleElement.position,a=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(f),this.selectionBarElement.setPosition(a),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(a),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(a+f)),this.leftOuterSelectionBarElement.setPosition(a+f)):(this.leftOuterSelectionBarElement.setDimension(a),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(a+f)),this.rightOuterSelectionBarElement.setPosition(a+f))),Ot.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!Ot.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const K=Ot.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),ye=K-a>0&&!E||K-a<=0&&E;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?ye?"bottom":"top":ye?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(K+f+a+(ye?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=K-a+(ye?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const K=this.getSelectionBarColor();this.barStyle={backgroundColor:K}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(a){return this.viewOptions.getPointerColor(a===cn.Max?this.highValue:this.value,a)}getTickColor(a){return this.viewOptions.getTickColor(a)}updateCombinedLabel(){let a=null;if(a=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,a){const f=this.getDisplayValue(this.viewLowValue,hi.Low),E=this.getDisplayValue(this.viewHighValue,hi.High),k=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(E,f):this.viewOptions.combineLabels(f,E);this.combinedLabelElement.setValue(k);const K=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(K),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(a,f){return!Ot.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(a=this.getStepValue(a)),this.viewOptions.translate(a,f)}roundStep(a,f){const E=Ot.isNullOrUndefined(f)?this.viewOptions.step:f;let k=vi.roundToPrecisionLimit((a-this.viewOptions.floor)/E,this.viewOptions.precisionLimit);return k=Math.round(k)*E,vi.roundToPrecisionLimit(this.viewOptions.floor+k,this.viewOptions.precisionLimit)}valueToPosition(a){let f=Ot.linearValueToPosition;Ot.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(f=Ot.logValueToPosition):f=this.viewOptions.customValueToPosition;let E=f(a=vi.clampToRange(a,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return Ot.isNullOrUndefined(E)&&(E=0),this.viewOptions.rightToLeft&&(E=1-E),E*this.maxHandlePosition}positionToValue(a){let f=a/this.maxHandlePosition;this.viewOptions.rightToLeft&&(f=1-f);let E=Ot.linearPositionToValue;Ot.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(E=Ot.logPositionToValue):E=this.viewOptions.customPositionToValue;const k=E(f,this.viewOptions.floor,this.viewOptions.ceil);return Ot.isNullOrUndefined(k)?0:k}getEventXY(a,f){if(a instanceof MouseEvent)return this.viewOptions.vertical||0!==this.viewOptions.rotate?a.clientY:a.clientX;let E=0;const k=a.touches;if(!Ot.isNullOrUndefined(f))for(let K=0;K<k.length;K++)if(k[K].identifier===f){E=K;break}return this.viewOptions.vertical||0!==this.viewOptions.rotate?k[E].clientY:k[E].clientX}getEventPosition(a,f){const E=this.elementRef.nativeElement.getBoundingClientRect(),k=this.viewOptions.vertical||0!==this.viewOptions.rotate?E.bottom:E.left;let K=0;return K=this.viewOptions.vertical||0!==this.viewOptions.rotate?-this.getEventXY(a,f)+k:this.getEventXY(a,f)-k,K*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(a){if(!this.range)return cn.Min;const f=this.getEventPosition(a),E=Math.abs(f-this.minHandleElement.position),k=Math.abs(f-this.maxHandleElement.position);return E<k?cn.Min:E>k?cn.Max:this.viewOptions.rightToLeft?f>this.minHandleElement.position?cn.Min:cn.Max:f<this.minHandleElement.position?cn.Min:cn.Max}bindEvents(){const a=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",f=>this.onBarStart(null,a,f,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",f=>this.onBarStart(cn.Min,a,f,!0,!0)),this.maxHandleElement.on("mousedown",f=>this.onBarStart(cn.Max,a,f,!0,!0))):(this.minHandleElement.on("mousedown",f=>this.onStart(cn.Min,f,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",f=>this.onStart(cn.Max,f,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",f=>this.onStart(null,f,!0,!0,!0)),this.ticksElement.on("mousedown",f=>this.onStart(null,f,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",f=>this.onBarStart(null,a,f,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",f=>this.onBarStart(cn.Min,a,f,!0,!0)),this.maxHandleElement.onPassive("touchstart",f=>this.onBarStart(cn.Max,a,f,!0,!0))):(this.minHandleElement.onPassive("touchstart",f=>this.onStart(cn.Min,f,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",f=>this.onStart(cn.Max,f,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",f=>this.onStart(null,f,!0,!0,!0)),this.ticksElement.onPassive("touchstart",f=>this.onStart(null,f,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(cn.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(cn.Max)))}getOptionsInfluencingEventBindings(a){return[a.disabled,a.readOnly,a.draggableRange,a.draggableRangeOnly,a.onlyBindHandles,a.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const a of this.getAllSliderElements())Ot.isNullOrUndefined(a)||a.off()}onBarStart(a,f,E,k,K,ye,Ve){f?this.onDragStart(a,E,k,K):this.onStart(a,E,k,K,ye,Ve)}onStart(a,f,E,k,K,ye){f.stopPropagation(),!Ji.isTouchEvent(f)&&!ee&&f.preventDefault(),this.moving=!1,this.calculateViewDimensions(),Ot.isNullOrUndefined(a)&&(a=this.getNearestHandle(f)),this.currentTrackingPointer=a;const Ve=this.getPointerElement(a);if(Ve.active=!0,this.viewOptions.keyboardSupport&&Ve.focus(),E){this.unsubscribeOnMove();const at=kt=>this.dragging.active?this.onDragMove(kt):this.onMove(kt);this.onMoveEventListener=Ji.isTouchEvent(f)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",at):this.eventListenerHelper.attachEventListener(document,"mousemove",at)}if(k){this.unsubscribeOnEnd();const at=kt=>this.onEnd(kt);this.onEndEventListener=Ji.isTouchEvent(f)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",at):this.eventListenerHelper.attachEventListener(document,"mouseup",at)}this.userChangeStart.emit(this.getChangeContext()),Ji.isTouchEvent(f)&&!Ot.isNullOrUndefined(f.changedTouches)&&Ot.isNullOrUndefined(this.touchId)&&(this.touchId=f.changedTouches[0].identifier),K&&this.onMove(f,!0),ye&&this.onEnd(f)}onMove(a,f){let E=null;if(Ji.isTouchEvent(a)){const at=a.changedTouches;for(let kt=0;kt<at.length;kt++)if(at[kt].identifier===this.touchId){E=at[kt];break}if(Ot.isNullOrUndefined(E))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const k=Ot.isNullOrUndefined(E)?this.getEventPosition(a):this.getEventPosition(a,E.identifier);let K;k<=0?K=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:k>=this.maxHandlePosition?K=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(K=this.positionToValue(k),K=f&&!Ot.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(K,this.viewOptions.tickStep):this.roundStep(K)),this.positionTrackingHandle(K)}onEnd(a){Ji.isTouchEvent(a)&&a.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(a){const f=this.getPointerElement(a);f.on("blur",()=>this.onPointerBlur(f)),f.on("keydown",E=>this.onKeyboardEvent(E)),f.on("keyup",()=>this.onKeyUp()),f.active=!0,this.currentTrackingPointer=a,this.currentFocusPointer=a,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(a){a.off("blur"),a.off("keydown"),a.off("keyup"),a.active=!1,Ot.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(a){const f=this.viewOptions.ceil-this.viewOptions.floor;let E=a+this.viewOptions.step,k=a-this.viewOptions.step,K=a+f/10,ye=a-f/10;this.viewOptions.reversedControls&&(E=a-this.viewOptions.step,k=a+this.viewOptions.step,K=a-f/10,ye=a+f/10);const Ve={UP:E,DOWN:k,LEFT:k,RIGHT:E,PAGEUP:K,PAGEDOWN:ye,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(Ve.LEFT=E,Ve.RIGHT=k,(this.viewOptions.vertical||0!==this.viewOptions.rotate)&&(Ve.UP=k,Ve.DOWN=E)),Ve}onKeyboardEvent(a){const f=this.getCurrentTrackingValue(),E=Ot.isNullOrUndefined(a.keyCode)?a.which:a.keyCode,Ve=this.getKeyActions(f)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[E]];if(Ot.isNullOrUndefined(Ve)||Ot.isNullOrUndefined(this.currentTrackingPointer))return;a.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const at=vi.clampToRange(Ve,this.viewOptions.floor,this.viewOptions.ceil),kt=this.roundStep(at);if(this.viewOptions.draggableRangeOnly){const dn=this.viewHighValue-this.viewLowValue;let Cn,Vn;this.currentTrackingPointer===cn.Min?(Cn=kt,Vn=kt+dn,Vn>this.viewOptions.ceil&&(Vn=this.viewOptions.ceil,Cn=Vn-dn)):this.currentTrackingPointer===cn.Max&&(Vn=kt,Cn=kt-dn,Cn<this.viewOptions.floor&&(Cn=this.viewOptions.floor,Vn=Cn+dn)),this.positionTrackingBar(Cn,Vn)}else this.positionTrackingHandle(kt)}onDragStart(a,f,E,k){const K=this.getEventPosition(f);this.dragging=new zi,this.dragging.active=!0,this.dragging.value=this.positionToValue(K),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-K:K-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?K-this.maxHandleElement.position:this.maxHandleElement.position-K,this.onStart(a,f,E,k)}getMinValue(a,f,E){const k=this.viewOptions.rightToLeft;let K=null;return K=f?E?k?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:k?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(k?a+this.dragging.lowLimit:a-this.dragging.lowLimit),this.roundStep(K)}getMaxValue(a,f,E){const k=this.viewOptions.rightToLeft;let K=null;return K=f?E?k?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:k?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:k?this.positionToValue(a+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(a-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(K)}onDragMove(a){const f=this.getEventPosition(a);let E,k,K,ye;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(E=this.dragging.lowLimit,k=this.dragging.highLimit,K=this.maxHandleElement,ye=this.minHandleElement):(E=this.dragging.highLimit,k=this.dragging.lowLimit,K=this.minHandleElement,ye=this.maxHandleElement);const at=f>=this.maxHandlePosition-E;let kt,dn;if(f<=k){if(0===K.position)return;kt=this.getMinValue(f,!0,!1),dn=this.getMaxValue(f,!0,!1)}else if(at){if(ye.position===this.maxHandlePosition)return;dn=this.getMaxValue(f,!0,!0),kt=this.getMinValue(f,!0,!0)}else kt=this.getMinValue(f,!1,!1),dn=this.getMaxValue(f,!1,!1);this.positionTrackingBar(kt,dn)}positionTrackingBar(a,f){!Ot.isNullOrUndefined(this.viewOptions.minLimit)&&a<this.viewOptions.minLimit&&(f=vi.roundToPrecisionLimit((a=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!Ot.isNullOrUndefined(this.viewOptions.maxLimit)&&f>this.viewOptions.maxLimit&&(a=vi.roundToPrecisionLimit((f=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=a,this.viewHighValue=f,this.applyViewChange(),this.updateHandles(cn.Min,this.valueToPosition(a)),this.updateHandles(cn.Max,this.valueToPosition(f))}positionTrackingHandle(a){a=this.applyMinMaxLimit(a),this.range&&(this.viewOptions.pushRange?a=this.applyPushRange(a):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===cn.Min&&a>this.viewHighValue?a=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===cn.Max&&a<this.viewLowValue&&(a=this.applyMinMaxRange(this.viewLowValue))),a=this.applyMinMaxRange(a),this.currentTrackingPointer===cn.Min&&a>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(cn.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=cn.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===cn.Max&&a<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(cn.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=cn.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==a&&(this.currentTrackingPointer===cn.Min?(this.viewLowValue=a,this.applyViewChange()):this.currentTrackingPointer===cn.Max&&(this.viewHighValue=a,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(a)),this.updateAriaAttributes())}applyMinMaxLimit(a){return!Ot.isNullOrUndefined(this.viewOptions.minLimit)&&a<this.viewOptions.minLimit?this.viewOptions.minLimit:!Ot.isNullOrUndefined(this.viewOptions.maxLimit)&&a>this.viewOptions.maxLimit?this.viewOptions.maxLimit:a}applyMinMaxRange(a){const E=Math.abs(a-(this.currentTrackingPointer===cn.Min?this.viewHighValue:this.viewLowValue));if(!Ot.isNullOrUndefined(this.viewOptions.minRange)&&E<this.viewOptions.minRange){if(this.currentTrackingPointer===cn.Min)return vi.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===cn.Max)return vi.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!Ot.isNullOrUndefined(this.viewOptions.maxRange)&&E>this.viewOptions.maxRange){if(this.currentTrackingPointer===cn.Min)return vi.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===cn.Max)return vi.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return a}applyPushRange(a){const f=this.currentTrackingPointer===cn.Min?this.viewHighValue-a:a-this.viewLowValue,E=Ot.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,k=this.viewOptions.maxRange;return f<E?(this.currentTrackingPointer===cn.Min?(this.viewHighValue=vi.roundToPrecisionLimit(Math.min(a+E,this.viewOptions.ceil),this.viewOptions.precisionLimit),a=vi.roundToPrecisionLimit(this.viewHighValue-E,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(cn.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===cn.Max&&(this.viewLowValue=vi.roundToPrecisionLimit(Math.max(a-E,this.viewOptions.floor),this.viewOptions.precisionLimit),a=vi.roundToPrecisionLimit(this.viewLowValue+E,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(cn.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!Ot.isNullOrUndefined(k)&&f>k&&(this.currentTrackingPointer===cn.Min?(this.viewHighValue=vi.roundToPrecisionLimit(a+k,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(cn.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===cn.Max&&(this.viewLowValue=vi.roundToPrecisionLimit(a-k,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(cn.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),a}getChangeContext(){const a=new os;return a.pointerType=this.currentTrackingPointer,a.value=+this.value,this.range&&(a.highValue=+this.highValue),a}}return v.\u0275fac=function(a){return new(a||v)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(h.R0b))},v.\u0275cmp=h.Xpm({type:v,selectors:[["ngx-slider"]],contentQueries:function(a,f,E){if(1&a&&h.Suo(E,Ei,5),2&a){let k;h.iGM(k=h.CRH())&&(f.tooltipTemplate=k.first)}},viewQuery:function(a,f){if(1&a&&(h.Gf(Di,5,lr),h.Gf(Sr,5,lr),h.Gf(Ii,5,lr),h.Gf(zt,5,lr),h.Gf(Hn,5,ps),h.Gf(di,5,ps),h.Gf(ji,5,Or),h.Gf(xr,5,Or),h.Gf($i,5,Or),h.Gf(nr,5,Or),h.Gf(ni,5,Or),h.Gf(yr,5,lr)),2&a){let E;h.iGM(E=h.CRH())&&(f.leftOuterSelectionBarElement=E.first),h.iGM(E=h.CRH())&&(f.rightOuterSelectionBarElement=E.first),h.iGM(E=h.CRH())&&(f.fullBarElement=E.first),h.iGM(E=h.CRH())&&(f.selectionBarElement=E.first),h.iGM(E=h.CRH())&&(f.minHandleElement=E.first),h.iGM(E=h.CRH())&&(f.maxHandleElement=E.first),h.iGM(E=h.CRH())&&(f.floorLabelElement=E.first),h.iGM(E=h.CRH())&&(f.ceilLabelElement=E.first),h.iGM(E=h.CRH())&&(f.minHandleLabelElement=E.first),h.iGM(E=h.CRH())&&(f.maxHandleLabelElement=E.first),h.iGM(E=h.CRH())&&(f.combinedLabelElement=E.first),h.iGM(E=h.CRH())&&(f.ticksElement=E.first)}},hostAttrs:[1,"ngx-slider"],hostVars:8,hostBindings:function(a,f){1&a&&h.NdJ("resize",function(k){return f.onResize(k)},!1,h.Jf7),2&a&&(h.uIk("disabled",f.sliderElementDisabledAttr)("aria-label",f.sliderElementAriaLabel),h.ekj("vertical",f.sliderElementVerticalClass)("animate",f.sliderElementAnimateClass)("with-legend",f.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[h._Bn([us]),h.TTD],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(a,f){1&a&&(h.TgZ(0,"span",0,1),h._UZ(2,"span",2),h.qZA(),h.TgZ(3,"span",3,4),h._UZ(5,"span",2),h.qZA(),h.TgZ(6,"span",5,6),h._UZ(8,"span",2),h.qZA(),h.TgZ(9,"span",7,8),h._UZ(11,"span",9),h.qZA(),h._UZ(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),h.TgZ(26,"span",24,25),h.YNc(28,Gi,4,9,"span",26),h.qZA()),2&a&&(h.xp6(6),h.ekj("ngx-slider-transparent",f.fullBarTransparentClass),h.xp6(3),h.ekj("ngx-slider-draggable",f.selectionBarDraggableClass),h.xp6(2),h.Q6J("ngStyle",f.barStyle),h.xp6(1),h.Q6J("ngStyle",f.minPointerStyle),h.xp6(2),h.Udp("display",f.range?"inherit":"none"),h.Q6J("ngStyle",f.maxPointerStyle),h.xp6(12),h.ekj("ngx-slider-ticks-values-under",f.ticksUnderValuesClass),h.Q6J("hidden",!f.showTicks),h.xp6(2),h.Q6J("ngForOf",f.ticks))},directives:function(){return[lr,ct.PC,ps,Or,ct.sg,ct.mk,lo,ct.O5]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-pointer:after{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),v})(),lo=(()=>{class v{}return v.\u0275fac=function(a){return new(a||v)},v.\u0275cmp=h.Xpm({type:v,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(a,f){1&a&&(h.YNc(0,fs,2,6,"ng-container",0),h.YNc(1,ss,3,3,"ng-container",0)),2&a&&(h.Q6J("ngIf",f.template),h.xp6(1),h.Q6J("ngIf",!f.template))},directives:[ct.O5,ct.tP],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),v})(),da=(()=>{class v{}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=h.oAB({type:v}),v.\u0275inj=h.cJS({imports:[[ct.ez]]}),v})();function Yr(v,u){1&v&&h._UZ(0,"i",13)}function vr(v,u){if(1&v){const a=h.EpF();h.TgZ(0,"li",18)(1,"input",19),h.NdJ("ngModelChange",function(E){return h.CHM(a).$implicit.selected=E}),h.qZA(),h.TgZ(2,"label",20),h._uU(3),h.qZA()()}if(2&v){const a=u.$implicit,f=u.index;h.xp6(1),h.Q6J("id",(null==a?null:a.sub_interests_name)+f)("ngModel",a.selected),h.xp6(1),h.Q6J("for",(null==a?null:a.sub_interests_name)+f),h.xp6(1),h.hij(" ",null==a?null:a.sub_interests_name," ")}}function Ms(v,u){if(1&v&&(h.TgZ(0,"ul",14)(1,"li")(2,"span",15),h._uU(3),h.qZA(),h.TgZ(4,"ul",16),h.YNc(5,vr,4,4,"li",17),h.qZA()()()),2&v){const a=u.$implicit;h.xp6(3),h.hij(" ",null==a?null:a.name," "),h.xp6(2),h.Q6J("ngForOf",null==a?null:a.sub_interests)}}function Sa(v,u){1&v&&h._UZ(0,"i",13)}function xa(v,u){if(1&v){const a=h.EpF();h.TgZ(0,"li",22)(1,"input",19),h.NdJ("ngModelChange",function(E){return h.CHM(a).$implicit.selected=E}),h.qZA(),h.TgZ(2,"label",20),h._uU(3),h.qZA()()}if(2&v){const a=u.$implicit,f=u.index;h.xp6(1),h.Q6J("id",(null==a?null:a.name)+f)("ngModel",a.selected),h.xp6(1),h.Q6J("for",(null==a?null:a.name)+f),h.xp6(1),h.hij(" ",null==a?null:a.name," ")}}function $o(v,u){if(1&v&&(h.TgZ(0,"ul",14)(1,"li")(2,"span",15),h._uU(3),h.qZA(),h.TgZ(4,"ul",16),h.YNc(5,xa,4,4,"li",21),h.qZA()()()),2&v){const a=u.$implicit;h.xp6(3),h.hij(" ",null==a?null:a.gov," "),h.xp6(2),h.Q6J("ngForOf",null==a?null:a.areas)}}function gs(v,u){1&v&&h._UZ(0,"i",13)}function $a(v,u){if(1&v){const a=h.EpF();h.TgZ(0,"li",22)(1,"input",19),h.NdJ("ngModelChange",function(E){return h.CHM(a).$implicit.selected=E}),h.qZA(),h.TgZ(2,"label",20),h._uU(3),h.qZA()()}if(2&v){const a=u.$implicit,f=u.index;h.xp6(1),h.Q6J("id",(null==a?null:a.child_name)+f)("ngModel",a.selected),h.xp6(1),h.Q6J("for",(null==a?null:a.child_name)+f),h.xp6(1),h.hij(" ",null==a?null:a.child_name," ")}}function zs(v,u){if(1&v&&(h.TgZ(0,"div",3)(1,"div")(2,"accordion",4)(3,"accordion-group",5),h.ALo(4,"translate"),h.TgZ(5,"div",6),h.YNc(6,gs,1,0,"i",7),h.qZA(),h.TgZ(7,"ul",14),h.YNc(8,$a,4,4,"li",21),h.qZA()()()()()),2&v){const a=h.oxw();h.xp6(2),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(4,4,"members")),h.xp6(3),h.Q6J("ngIf",null==a.membersservice?null:a.membersservice.membersLoading),h.xp6(2),h.Q6J("ngForOf",a.members)}}let ur=(()=>{class v{constructor(a,f,E,k){this.homeService=a,this.router=f,this.membersservice=E,this.authService=k,this.interst=[],this.areas=[],this.members=[],this.rate=0,this.value=0,this.highValue=60,this.options={floor:0,ceil:60},this.value2=0,this.highValue2=3e3,this.options2={floor:0,ceil:3e3},this.closefilterpopup=new h.vpe}ngOnInit(){localStorage.getItem("joinToken")&&this.membersservice.getAllMembers(),this.homeService.getIntersts(),this.authService.getAllAreas(),this.homeService.intersts.subscribe(a=>{this.interst=a,this.interst.forEach(f=>{var E;(null===(E=null==f?void 0:f.sub_interests)||void 0===E?void 0:E.length)&&(null==f||f.sub_interests.map(k=>{k.selected=!1}))})}),this.authService.areas.subscribe(a=>{a&&(this.areas=a,this.areas.forEach(f=>{var E;(null===(E=null==f?void 0:f.areas)||void 0===E?void 0:E.length)&&(null==f||f.areas.map(k=>{k.selected=!1}))}))}),this.membersservice.members.subscribe(a=>{a&&(this.members=a,this.members.forEach(f=>{f.selected=!1}))})}isLogin(){return!!localStorage.getItem("joinToken")}doneFilter(){let a=[{interests_id:[],child_id:[],area_id:[],age_from:this.value,age_to:this.highValue,price_from:this.value2,price_to:this.highValue2,rating:this.rate}];this.interst.forEach(f=>{f.sub_interests.forEach(E=>{(null==E?void 0:E.selected)&&a[0].interests_id.push(null==E?void 0:E.sub_interests_id)})}),this.areas.forEach(f=>{f.areas.forEach(E=>{(null==E?void 0:E.selected)&&a[0].area_id.push(null==E?void 0:E.id)})}),this.members.forEach(f=>{(null==f?void 0:f.selected)&&a[0].child_id.push(null==f?void 0:f.child_id)}),this.closefilterpopup.emit(!0),this.router.navigate(["/search/-1"],{queryParams:{filterbody:JSON.stringify(a)}})}}return v.\u0275fac=function(a){return new(a||v)(h.Y36(Ne.Y),h.Y36(W.F0),h.Y36(ue.Z),h.Y36(ut.e))},v.\u0275cmp=h.Xpm({type:v,selectors:[["app-filter"]],outputs:{closefilterpopup:"closefilterpopup"},decls:44,vars:39,consts:[[1,"container"],[2,"font-weight","400","font-size","20px","line-height","30px"],[1,"row","body"],[1,"col-lg-6","col-xl-4","mb-3"],[3,"isAnimated"],[3,"heading"],[1,"text-center"],["class","fas fa-circle-notch fa-spin",4,"ngIf"],["class","list-unstyled p-0",4,"ngFor","ngForOf"],["class","col-lg-6 col-xl-4 mb-3",4,"ngIf"],[3,"ngModel","max","ngModelChange"],[3,"value","highValue","options","valueChange","highValueChange"],[1,"orangebtn",3,"click"],[1,"fas","fa-circle-notch","fa-spin"],[1,"list-unstyled","p-0"],[1,"d-block","rounded","text-white","p-2","mb-2",2,"background-color","#F89416"],[1,"list-unstyled","p-0","mx-2"],["class","mb-2 d-flex",4,"ngFor","ngForOf"],[1,"mb-2","d-flex"],["type","checkbox",3,"id","ngModel","ngModelChange"],[1,"mx-2",3,"for"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"]],template:function(a,f){1&a&&(h.TgZ(0,"div",0)(1,"h2",1),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"div",2)(5,"div",3)(6,"div")(7,"accordion",4)(8,"accordion-group",5),h.ALo(9,"translate"),h.TgZ(10,"div",6),h.YNc(11,Yr,1,0,"i",7),h.qZA(),h.YNc(12,Ms,6,2,"ul",8),h.qZA()()()(),h.TgZ(13,"div",3)(14,"div")(15,"accordion",4)(16,"accordion-group",5),h.ALo(17,"translate"),h.TgZ(18,"div",6),h.YNc(19,Sa,1,0,"i",7),h.qZA(),h.YNc(20,$o,6,2,"ul",8),h.qZA()()()(),h.YNc(21,zs,9,6,"div",9),h.TgZ(22,"div",3)(23,"div")(24,"accordion",4)(25,"accordion-group",5),h.ALo(26,"translate"),h.TgZ(27,"div",6)(28,"rating",10),h.NdJ("ngModelChange",function(k){return f.rate=k}),h.qZA()()()()()(),h.TgZ(29,"div",3)(30,"div")(31,"accordion",4)(32,"accordion-group",5),h.ALo(33,"translate"),h.TgZ(34,"ngx-slider",11),h.NdJ("valueChange",function(k){return f.value2=k})("highValueChange",function(k){return f.highValue2=k}),h.qZA()()()()(),h.TgZ(35,"div",3)(36,"div")(37,"accordion",4)(38,"accordion-group",5),h.ALo(39,"translate"),h.TgZ(40,"ngx-slider",11),h.NdJ("valueChange",function(k){return f.value=k})("highValueChange",function(k){return f.highValue=k}),h.qZA()()()()()(),h.TgZ(41,"button",12),h.NdJ("click",function(){return f.doneFilter()}),h._uU(42),h.ALo(43,"translate"),h.qZA()()),2&a&&(h.xp6(2),h.Oqu(h.lcZ(3,25,"Filter")),h.xp6(5),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(9,27,"Interests")),h.xp6(3),h.Q6J("ngIf",null==f.homeService?null:f.homeService.interistsLoading),h.xp6(1),h.Q6J("ngForOf",f.interst),h.xp6(3),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(17,29,"area")),h.xp6(3),h.Q6J("ngIf",null==f.authService?null:f.authService.arealoading),h.xp6(1),h.Q6J("ngForOf",f.areas),h.xp6(1),h.Q6J("ngIf",f.isLogin()),h.xp6(3),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(26,31,"rating")),h.xp6(3),h.Q6J("ngModel",f.rate)("max",5),h.xp6(3),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(33,33,"price")),h.xp6(2),h.Q6J("value",f.value2)("highValue",f.highValue2)("options",f.options2),h.xp6(3),h.Q6J("isAnimated",!0),h.xp6(1),h.s9C("heading",h.lcZ(39,35,"age")),h.xp6(2),h.Q6J("value",f.value)("highValue",f.highValue)("options",f.options),h.xp6(2),h.hij(" ",h.lcZ(43,37,"search")," "))},directives:[st.Zf,st.U_,ct.O5,ct.sg,Ue.Wl,Ue.JJ,Ue.On,qe,ao],pipes:[De.X$],styles:[".accordion-toggle .btn.btn-link{color:#000!important;text-decoration:none!important}  .bs-rating-star{font-size:30px!important}"]}),v})();const Go=function(v){return{id:v}};function _r(v,u){if(1&v&&(h.TgZ(0,"div",31)(1,"a",32),h._uU(2),h.qZA()()),2&v){const a=u.$implicit,f=h.oxw(3);h.xp6(1),h.Q6J("queryParams",h.VKq(2,Go,null==a?null:a.id)),h.xp6(1),h.hij(" ","ar"==f.lang?null==a?null:a.name_ar:null==a?null:a.name_en," ")}}function Ds(v,u){if(1&v&&(h.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"p",29),h._uU(4),h.ALo(5,"translate"),h.qZA(),h._UZ(6,"hr"),h.qZA(),h.YNc(7,_r,3,4,"div",30),h.qZA()()),2&v){const a=h.oxw(2);h.xp6(4),h.hij(" ",h.lcZ(5,2,"categories")," "),h.xp6(3),h.Q6J("ngForOf",a.categories)}}const Ln=function(){return{exact:!0}};function ms(v,u){if(1&v){const a=h.EpF();h.ynx(0),h.TgZ(1,"li",14)(2,"a",33),h.NdJ("click",function(){h.CHM(a);const E=h.oxw(2);return E.openNavbar=!E.openNavbar}),h._uU(3),h.ALo(4,"translate"),h.qZA()(),h.TgZ(5,"li",14)(6,"a",34),h.NdJ("click",function(){h.CHM(a);const E=h.oxw(2);return E.openNavbar=!E.openNavbar}),h._uU(7),h.ALo(8,"translate"),h.qZA()(),h.TgZ(9,"li",14)(10,"a",35),h.NdJ("click",function(){h.CHM(a);const E=h.oxw(2);return E.openNavbar=!E.openNavbar}),h._uU(11),h.ALo(12,"translate"),h.qZA()(),h.BQk()}2&v&&(h.xp6(2),h.Q6J("routerLinkActiveOptions",h.DdM(12,Ln)),h.xp6(1),h.Oqu(h.lcZ(4,6,"myaccount")),h.xp6(3),h.Q6J("routerLinkActiveOptions",h.DdM(13,Ln)),h.xp6(1),h.Oqu(h.lcZ(8,8,"notifications")),h.xp6(3),h.Q6J("routerLinkActiveOptions",h.DdM(14,Ln)),h.xp6(1),h.Oqu(h.lcZ(12,10,"favorite")))}function Is(v,u){if(1&v){const a=h.EpF();h.TgZ(0,"li",36)(1,"a",37),h.NdJ("click",function(){h.CHM(a);const E=h.oxw(2);return E.openNavbar=!E.openNavbar}),h._uU(2),h.ALo(3,"translate"),h.qZA()()}2&v&&(h.xp6(2),h.Oqu(h.lcZ(3,1,"signin")))}function ys(v,u){1&v&&(h.TgZ(0,"li",21)(1,"div",38)(2,"a",39),h._UZ(3,"i",40),h.qZA(),h.TgZ(4,"a",41),h._UZ(5,"i",42),h.qZA(),h.TgZ(6,"a",43),h._UZ(7,"i",44),h.qZA()()())}function Ga(v,u){if(1&v&&(h.TgZ(0,"ul",50)(1,"li",51),h._UZ(2,"img",52),h.qZA(),h.TgZ(3,"li",53)(4,"span",54),h._uU(5),h.ALo(6,"titlecase"),h.ALo(7,"titlecase"),h.qZA(),h.TgZ(8,"span",55),h._uU(9),h.qZA()(),h.TgZ(10,"li",56)(11,"a",57),h._UZ(12,"i",58),h._uU(13),h.ALo(14,"translate"),h.qZA()(),h.TgZ(15,"li",56)(16,"a",43),h._UZ(17,"i",59),h._uU(18),h.ALo(19,"translate"),h.qZA()(),h.TgZ(20,"li",56)(21,"a",60),h._UZ(22,"i",61),h._uU(23),h.ALo(24,"translate"),h.qZA()(),h.TgZ(25,"li",56)(26,"a",62),h._UZ(27,"i",63),h._uU(28),h.ALo(29,"translate"),h.qZA()(),h.TgZ(30,"li",56)(31,"a",64),h._UZ(32,"i",65),h._uU(33),h.ALo(34,"translate"),h.qZA()()()),2&v){const a=h.oxw(3);h.xp6(5),h.AsE(" ",h.lcZ(6,8,null==a.userdata?null:a.userdata.fname)," ",h.lcZ(7,10,null==a.userdata?null:a.userdata.lname)," "),h.xp6(4),h.hij(" ",null==a.userdata?null:a.userdata.email," "),h.xp6(4),h.hij(" ",h.lcZ(14,12,"myaccount")," "),h.xp6(5),h.hij(" ",h.lcZ(19,14,"notifications")," "),h.xp6(5),h.hij(" ",h.lcZ(24,16,"favorite")," "),h.xp6(5),h.hij(" ",h.lcZ(29,18,"history")," "),h.xp6(5),h.hij(" ",h.lcZ(34,20,"follow")," ")}}function zo(v,u){if(1&v&&(h.TgZ(0,"li",45)(1,"div",46)(2,"a",47),h._uU(3),h.ALo(4,"uppercase"),h._UZ(5,"span",48),h.qZA(),h.YNc(6,Ga,35,22,"ul",49),h.qZA()()),2&v){const a=h.oxw(2);h.xp6(3),h.hij(" ",h.lcZ(4,1,a.userName)," ")}}const Hr=function(v,u){return{"padding-right":v,"padding-left":u}},ha=function(v,u){return{right:v,left:u}},Mr=function(v,u){return{"d-flex":v,"d-none":u}};function jr(v,u){if(1&v){const a=h.EpF();h.TgZ(0,"nav")(1,"div",2)(2,"div",3)(3,"a",4),h.NdJ("click",function(){h.CHM(a);const E=h.oxw();return E.openNavbar=!E.openNavbar}),h._UZ(4,"img",5),h.qZA(),h._UZ(5,"span",6),h.TgZ(6,"div",7)(7,"input",8,9),h.NdJ("keyup.enter",function(){h.CHM(a);const E=h.MAs(8);return h.oxw().inputSearch(E.value)}),h.ALo(9,"translate"),h.qZA(),h.TgZ(10,"i",10),h.NdJ("click",function(){return h.CHM(a),h.oxw().filterPopup=!0}),h.qZA()(),h.TgZ(11,"i",11),h.NdJ("click",function(){h.CHM(a);const E=h.oxw();return E.openNavbar=!E.openNavbar}),h.qZA()(),h.TgZ(12,"ul",12)(13,"li")(14,"a",13),h.NdJ("click",function(){h.CHM(a);const E=h.oxw();return E.openNavbar=!E.openNavbar}),h._uU(15),h.ALo(16,"translate"),h.qZA()(),h.TgZ(17,"li",14)(18,"a",15),h.NdJ("click",function(){h.CHM(a);const E=h.oxw();return E.openNavbar=!E.openNavbar}),h._uU(19),h.ALo(20,"translate"),h.qZA()(),h.TgZ(21,"li",16)(22,"a",17),h.NdJ("click",function(){h.CHM(a);const E=h.oxw();return E.openNavbar=!E.openNavbar}),h._uU(23),h.ALo(24,"translate"),h.qZA(),h.YNc(25,Ds,8,4,"div",18),h.qZA(),h.TgZ(26,"li")(27,"a",19),h.NdJ("click",function(){h.CHM(a);const E=h.oxw();return E.openNavbar=!E.openNavbar}),h._uU(28),h.ALo(29,"translate"),h.qZA()(),h.YNc(30,ms,13,15,"ng-container",0),h.TgZ(31,"li")(32,"a",20),h.NdJ("click",function(){h.CHM(a);const E=h.oxw();return E.openNavbar=!E.openNavbar}),h._uU(33),h.ALo(34,"translate"),h.qZA()(),h.TgZ(35,"li",21)(36,"a",22),h.NdJ("click",function(){h.CHM(a);const E=h.oxw();return E.selectLang("ar"==E.lang?"en":"ar"),E.openNavbar=!E.openNavbar}),h._uU(37),h.qZA()(),h.YNc(38,Is,4,3,"li",23),h.YNc(39,ys,8,0,"li",24),h.YNc(40,zo,7,3,"li",25),h.qZA()()()}if(2&v){const a=h.oxw();h.xp6(7),h.s9C("placeholder",h.lcZ(9,17,"lets_explore")),h.Q6J("ngStyle",h.WLB(29,Hr,"ar"==a.lang?"30px":"7px","ar"==a.lang?"7px":"30px")),h.xp6(3),h.Q6J("ngStyle",h.WLB(32,ha,"ar"==a.lang?"10px":"auto","ar"==a.lang?"auto":"10px")),h.xp6(2),h.Q6J("ngClass",h.WLB(35,Mr,a.openNavbar,!a.openNavbar)),h.xp6(2),h.Q6J("routerLinkActiveOptions",h.DdM(38,Ln)),h.xp6(1),h.Oqu(h.lcZ(16,19,"home")),h.xp6(3),h.Q6J("routerLinkActiveOptions",h.DdM(39,Ln)),h.xp6(1),h.Oqu(h.lcZ(20,21,"store")),h.xp6(4),h.Oqu(h.lcZ(24,23,"store")),h.xp6(4),h.Q6J("routerLinkActiveOptions",h.DdM(40,Ln)),h.xp6(1),h.Oqu(h.lcZ(29,25,"activities")),h.xp6(2),h.Q6J("ngIf",a.isLogin()),h.xp6(3),h.Oqu(h.lcZ(34,27,"aboutus")),h.xp6(4),h.hij(" ","ar"==a.lang?"en":"ar",""),h.xp6(1),h.Q6J("ngIf",!a.isLogin()),h.xp6(1),h.Q6J("ngIf",a.isLogin()),h.xp6(1),h.Q6J("ngIf",a.isLogin())}}const Ws=function(v,u){return{left:v,right:u}};function wi(v,u){if(1&v){const a=h.EpF();h.TgZ(0,"div",66)(1,"div",67)(2,"i",68),h.NdJ("click",function(){return h.CHM(a),h.oxw().filterPopup=!1}),h.qZA(),h.TgZ(3,"app-filter",69),h.NdJ("closefilterpopup",function(){return h.CHM(a),h.oxw().filterPopup=!1}),h.qZA()()()}if(2&v){const a=h.oxw();h.Q6J("ngClass",h.WLB(2,Mr,a.filterPopup,!a.filterPopup)),h.xp6(2),h.Q6J("ngStyle",h.WLB(5,Ws,"ar"==a.lang?"20px":"auto","ar"==a.lang?"auto":"20px"))}}let br=(()=>{class v{constructor(a,f,E,k,K){this.authService=a,this.storeSerive=f,this.glopalService=E,this.router=k,this.translateService=K,this.openNavbar=!1,this.currentLang="",this.hidenave=!1,this.userName="",this.filterPopup=!1,this.userdata=null,this.categories=[],this.currentLang=localStorage.getItem("lang")||"en",this.translateService.use(this.currentLang),"ar"==this.currentLang?document.body.classList.add("custom-rtl"):document.body.classList.remove("custom-rtl")}isLogin(){return!!localStorage.getItem("joinToken")}selectLang(a){location.reload(),this.translateService.use(a),"ar"==a?document.body.classList.add("custom-rtl"):document.body.classList.remove("custom-rtl"),localStorage.setItem("lang",a)}get lang(){return localStorage.getItem("lang")||"en"}ngOnInit(){this.storeSerive.getStoreTabs().subscribe(a=>{var f;return this.categories=null===(f=null==a?void 0:a.payload)||void 0===f?void 0:f.data}),localStorage.getItem("joinToken")&&(this.userName.toUpperCase(),this.authService.getUserProfile()),this.authService.userProfile.subscribe(a=>{if(a){let f="",E="";(null==a?void 0:a.fname)&&(f=null==a?void 0:a.fname.slice(0,1)),(null==a?void 0:a.lname)&&(E=null==a?void 0:a.lname.slice(0,1)),this.userName=`${f}${E}`,this.userdata=a}}),this.glopalService.hideNavbarAndFooter.subscribe(a=>{this.hidenave=a})}inputSearch(a){a.trim().length>0&&this.router.navigate([`/search/${a}`])}}return v.\u0275fac=function(a){return new(a||v)(h.Y36(ut.e),h.Y36(nt.d),h.Y36(dt.W),h.Y36(W.F0),h.Y36(De.sK))},v.\u0275cmp=h.Xpm({type:v,selectors:[["app-navbar"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","cstmpopup",3,"ngClass",4,"ngIf"],[1,"container","flex-column","flex-lg-row","d-flex","justify-content-lg-between","py-2","align-items-lg-center"],[1,"logo","d-flex","justify-content-between","justify-content-lg-start","align-items-center"],["routerLink","/",3,"click"],["src","assets/images/mainlogo.png","alt","join"],[1,"d-none","d-lg-block","mx-2"],[1,"position-relative"],["type","text",3,"ngStyle","placeholder","keyup.enter"],["searchInput",""],[1,"fa-solid","fa-filter","maincolor",3,"ngStyle","click"],[1,"fa-solid","fa-bars","d-lg-none",2,"cursor","pointer",3,"click"],[1,"links","main","list-unstyled","m-0","py-1","px-0","d-lg-flex","align-items-lg-center","flex-column","flex-lg-row",3,"ngClass"],["routerLinkActive","active","routerLink","/",3,"routerLinkActiveOptions","click"],[1,"d-lg-none"],["routerLinkActive","active","routerLink","/store",3,"routerLinkActiveOptions","click"],["dropdown","",1,"btn-group","d-none","d-lg-block"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",3,"click"],["id","dropdown-basic","class","dropdown-menu store ","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["routerLinkActive","active","routerLink","/activities",3,"routerLinkActiveOptions","click"],["routerLink","/store",3,"click"],[1,"lang"],[2,"cursor","pointer",3,"click"],["class","lang signinbtn",4,"ngIf"],["class","lang",4,"ngIf"],["class","d-none d-lg-block lang position-relative subparent lang",4,"ngIf"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","store"],[1,"row","p-3"],[1,"col-md-12"],[1,"fw-bold","maincolor","m-0"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],["routerLink","/store",1,"p-0",3,"queryParams"],["routerLinkActive","active","routerLink","/profile",3,"routerLinkActiveOptions","click"],["routerLinkActive","active","routerLink","/notifications",3,"routerLinkActiveOptions","click"],["routerLinkActive","active","routerLink","/favorite",3,"routerLinkActiveOptions","click"],[1,"lang","signinbtn"],["routerLink","/auth/login",3,"click"],[1,"additionicons"],["routerLink","/cart"],[1,"fa-solid","fa-cart-shopping"],["routerLink","/favorite",1,"mx-2"],[1,"fa-solid","fa-heart"],["routerLink","/notifications"],[1,"fa-solid","fa-bell"],[1,"d-none","d-lg-block","lang","position-relative","subparent","lang"],["dropdown","",1,"btn-group"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"username",2,"-webkit-user-select","none","/* safari */\n                    -ms-user-select","none","/* ie 10 and ie 11 */\n                    user-select","none"],[1,"caret"],["id","dropdown-basic","class","dropdown-menu cstm","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","cstm"],["role","menuitem"],["src","assets/images/bg.jpg","alt","join",1,"w-100",2,"height","130px","object-fit","cover"],[1,"text-center","first"],[1,"maincolor","d-block"],[1,"text-secondary","d-block",2,"word-wrap","break-word"],["role","menuitem",1,"lang"],["routerLink","/profile"],[1,"fa-regular","fa-user","maincolor"],[1,"fa-solid","fa-bell","maincolor"],["routerLink","/favorite"],[1,"fa-solid","fa-heart","maincolor"],["routerLink","/history"],[1,"fa-regular","fa-clock","maincolor"],["href","https://reach.link/Join_App","target","_blank"],[1,"fa-solid","fa-headset","maincolor"],[1,"cstmpopup",3,"ngClass"],[1,"content"],[1,"fa-solid","fa-x",3,"ngStyle","click"],[3,"closefilterpopup"]],template:function(a,f){1&a&&(h.YNc(0,jr,41,41,"nav",0),h.YNc(1,wi,4,8,"div",1)),2&a&&(h.Q6J("ngIf",!f.hidenave),h.xp6(1),h.Q6J("ngIf",f.filterPopup))},directives:[ct.O5,W.yS,ct.PC,ct.mk,W.Od,Qe.TO,Qe.Mq,Qe.Hz,ct.sg,ur],pipes:[De.X$,ct.gd,ct.rS],styles:['.swiper-button-next,   .swiper-button-prev{background:#F89416!important;color:#fff!important;border-radius:50%!important;width:40px;height:40px;text-align:center;line-height:40px}  .swiper-button-next:after,   .swiper-button-prev:after{font-size:20px;font-weight:700}  .swiper-pagination-bullet-active{background-color:#f89416!important}  .dropdown-menu.cstm{inset:105% auto auto -270px!important;width:300px;padding:0!important;border-radius:0!important}  .dropdown-menu.store{min-width:400px}  .dropdown-menu.store a:hover{color:#00dcdc!important}  .custom-rtl .dropdown-menu.cstm{inset:105% -270px auto 0!important;width:300px;direction:rtl;text-align:right}  .accordion-toggle[aria-expanded=true]:after{font-family:"Font Awesome 5 Free";content:"\\f077";display:inline-block;padding-left:3px;vertical-align:middle;font-weight:900;position:absolute;color:#00dcdc;right:1rem;top:1rem}  .card{background-color:transparent;border:1px solid #e7e7e7;box-shadow:0 8px 16px #0000000d;margin-bottom:10px}  .card-header{border-bottom:none;background-color:transparent;padding:10px 0}  .accordion-toggle[aria-expanded=false]:after{font-family:"Font Awesome 5 Free";content:"\\f078";color:#00dcdc;display:inline-block;padding-left:3px;vertical-align:middle;font-weight:900;position:absolute;right:1rem;top:1rem}  .btn-link{font-weight:500;color:#000;text-decoration:none}  .btn.focus,   .btn:focus{box-shadow:none}  .btn-link:hover{color:#000;text-decoration:none}  .custom-rtl .accordion-toggle[aria-expanded=false]:after{left:1rem;right:auto}  .custom-rtl .accordion-toggle[aria-expanded=true]:after{left:1rem;right:auto}  bs-datepicker-container,   bs-daterangepicker-container{z-index:11111111111111111000000}  bs-datepicker-container{top:-50%!important}.subparent[_ngcontent-%COMP%]:hover   .submenu[_ngcontent-%COMP%]{display:block}.subparent[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{max-height:70vh;overflow:auto;box-shadow:0 2px 12px #0000001a;border:1px solid #ebeef5;border-radius:10px;position:absolute;z-index:111;background:white;top:40px;width:200px;display:none}.subparent[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block}.additionicons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}']}),v})();function Wo(v,u){if(1&v&&(h.TgZ(0,"li"),h._UZ(1,"i",5),h.TgZ(2,"span",6),h._uU(3),h.ALo(4,"translate"),h.qZA()()),2&v){const a=u.$implicit;h.xp6(3),h.hij(" ",h.lcZ(4,1,a)," ")}}let fa=(()=>{class v{constructor(){this.h2="",this.p="",this.src=""}ngOnInit(){}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275cmp=h.Xpm({type:v,selectors:[["app-reusable-footer-cart"]],inputs:{h2:"h2",p:"p",src:"src",li:"li"},decls:11,vars:8,consts:[[1,"footerCart"],["alt","join",1,"mb-2",3,"src"],[2,"min-height","70px"],[1,"m-0","p-0","list-unstyled"],[4,"ngFor","ngForOf"],[1,"fa-solid","fa-circle-check"],[1,"mx-2"]],template:function(a,f){1&a&&(h.TgZ(0,"article",0),h._UZ(1,"img",1),h.TgZ(2,"h2"),h._uU(3),h.ALo(4,"translate"),h.qZA(),h.TgZ(5,"div",2)(6,"p"),h._uU(7),h.ALo(8,"translate"),h.qZA()(),h.TgZ(9,"ul",3),h.YNc(10,Wo,5,3,"li",4),h.qZA()()),2&a&&(h.xp6(1),h.Q6J("src",f.src,h.LSH),h.xp6(2),h.Oqu(h.lcZ(4,4,f.h2)),h.xp6(4),h.Oqu(h.lcZ(8,6,f.p)),h.xp6(3),h.Q6J("ngForOf",f.li))},directives:[ct.sg],pipes:[De.X$],styles:[""]}),v})();function Qr(v,u){if(1&v&&(h.TgZ(0,"div",6)(1,"div"),h._UZ(2,"app-reusable-footer-cart",38),h.qZA()()),2&v){const a=u.$implicit;h.xp6(2),h.Q6J("h2",a.h2)("p",a.p)("src",a.img)("li",a.li)}}function Pr(v,u){1&v&&(h.ynx(0),h.TgZ(1,"li")(2,"a",39),h._uU(3),h.ALo(4,"translate"),h.qZA()(),h.BQk()),2&v&&(h.xp6(3),h.Oqu(h.lcZ(4,1,"wishlist")))}function wo(v,u){if(1&v&&(h.TgZ(0,"footer",1)(1,"div",2)(2,"div",3)(3,"div",4),h.YNc(4,Qr,3,4,"div",5),h.TgZ(5,"div",6)(6,"article",7),h._UZ(7,"img",8),h.TgZ(8,"h2"),h._uU(9),h.ALo(10,"translate"),h.qZA(),h.TgZ(11,"p",9),h._uU(12),h.ALo(13,"translate"),h.qZA(),h._UZ(14,"img",10)(15,"span",11)(16,"img",12),h.qZA()(),h.TgZ(17,"div",6)(18,"article"),h._UZ(19,"img",13),h.TgZ(20,"p",14),h._uU(21),h.ALo(22,"translate"),h.qZA()()(),h.TgZ(23,"div",6)(24,"article")(25,"h2"),h._uU(26),h.ALo(27,"translate"),h.qZA(),h.TgZ(28,"ul",15)(29,"li")(30,"a",16),h._uU(31),h.ALo(32,"translate"),h.qZA()(),h.TgZ(33,"li")(34,"a",17),h._uU(35),h.ALo(36,"translate"),h.qZA()(),h.TgZ(37,"li")(38,"a",18),h._uU(39),h.ALo(40,"translate"),h.qZA()(),h.YNc(41,Pr,5,3,"ng-container",19),h.qZA()()(),h.TgZ(42,"div",6)(43,"article")(44,"h2"),h._uU(45),h.ALo(46,"translate"),h.qZA(),h.TgZ(47,"p",20),h._uU(48),h.ALo(49,"translate"),h.qZA(),h.TgZ(50,"ul",21)(51,"li"),h._uU(52),h.ALo(53,"translate"),h.qZA(),h.TgZ(54,"li"),h._uU(55),h.ALo(56,"translate"),h.qZA(),h.TgZ(57,"li"),h._uU(58),h.ALo(59,"translate"),h.qZA()(),h.TgZ(60,"p",22),h._UZ(61,"i",23),h._uU(62," 1881010"),h.qZA()()(),h.TgZ(63,"div",6)(64,"article")(65,"h2"),h._uU(66),h.ALo(67,"translate"),h.qZA(),h.TgZ(68,"ul",24)(69,"li")(70,"a",25),h._UZ(71,"i",26),h.qZA()(),h.TgZ(72,"li")(73,"a",27),h._UZ(74,"i",28),h.qZA()(),h.TgZ(75,"li")(76,"a",29),h._UZ(77,"i",30),h.qZA()()(),h.TgZ(78,"h2"),h._uU(79),h.ALo(80,"translate"),h.qZA(),h._UZ(81,"img",31),h.qZA()()()(),h.TgZ(82,"div",32)(83,"div",33)(84,"p",34),h._uU(85,"Copyright \xa9Join KUIT 2022"),h.qZA(),h.TgZ(86,"ul",35)(87,"li")(88,"a",36),h._uU(89),h.ALo(90,"translate"),h.qZA()(),h._UZ(91,"li",37),h.TgZ(92,"li")(93,"a",36),h._uU(94),h.ALo(95,"translate"),h.qZA()()()()()()()),2&v){const a=h.oxw();h.xp6(4),h.Q6J("ngForOf",a.footerCart),h.xp6(5),h.Oqu(h.lcZ(10,18,"Download_Center")),h.xp6(3),h.Oqu(h.lcZ(13,20,"Use_mobile_app_and_get_biggest_discounts")),h.xp6(9),h.Oqu(h.lcZ(22,22,"long")),h.xp6(5),h.Oqu(h.lcZ(27,24,"links")),h.xp6(5),h.Oqu(h.lcZ(32,26,"home")),h.xp6(4),h.Oqu(h.lcZ(36,28,"store")),h.xp6(4),h.Oqu(h.lcZ(40,30,"cart")),h.xp6(2),h.Q6J("ngIf",a.islogin()),h.xp6(4),h.Oqu(h.lcZ(46,32,"contactus")),h.xp6(3),h.Oqu(h.lcZ(49,34,"address")),h.xp6(4),h.hij("",h.lcZ(53,36,"email:")," info@royal_pharm.com"),h.xp6(3),h.hij("",h.lcZ(56,38,"tel")," 2930-3303-22"),h.xp6(3),h.hij("",h.lcZ(59,40,"fax")," (+202) 2268 1308"),h.xp6(8),h.Oqu(h.lcZ(67,42,"Follow_Us")),h.xp6(13),h.Oqu(h.lcZ(80,44,"Accepted_Payment_Methods")),h.xp6(10),h.hij(" ",h.lcZ(90,46,"privacy")," "),h.xp6(5),h.hij(" ",h.lcZ(95,48,"termsandconditions")," ")}}let Zs=(()=>{class v{constructor(a){this.glopalService=a,this.footerCart=[{h2:"Assured_Purchase",p:"Provide_genuine",img:"assets/images/car.53532650.svg",li:["100%_genuine_products","Deliver_items_at_door","Free_return_products"]},{h2:"Easy_To_Buy_Return",p:"Single_click_buy_return_products",img:"assets/images/money.2faef535.svg",li:["Same_day_delivery_available","Click_to_return_products","Quick_support_links_available"]},{h2:"Secure_Payments",p:"Accepts_all_credit_debit_cards",img:"assets/images/visa.daa9ad19.svg",li:["payment_security","Confirmation_authentity","Delivery_items_at_door"]}],this.hideFooter=!1}ngOnInit(){this.footerCart.length=3,this.glopalService.hideNavbarAndFooter.subscribe(a=>{this.hideFooter=a})}islogin(){return!!localStorage.getItem("joinToken")}}return v.\u0275fac=function(a){return new(a||v)(h.Y36(dt.W))},v.\u0275cmp=h.Xpm({type:v,selectors:[["app-footer"]],decls:1,vars:1,consts:[["style","background-image: url('assets/images/bg.jpg');","class","pt-5",4,"ngIf"],[1,"pt-5",2,"background-image","url('assets/images/bg.jpg')"],[2,"position","relative","z-index","111"],[1,"container"],[1,"row"],["class","col-md-6 col-lg-3 mb-5",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-3","mb-5"],[1,"footerCart"],["src","assets/images/download.90e934e8.svg","alt","join",1,"mb-2"],[2,"min-height","70px"],["src","assets/images/googleplay.png","alt","googleplay",2,"width","100px"],[1,"mx-1"],["src","assets/images/appstore.png","alt","googleplay",2,"width","100px"],["src","assets/images/footerjoin.svg","alt","join",2,"width","100px"],[1,"mt-3"],[1,"m-0","p-0","list-unstyled","links"],["routerLink","/"],["routerLink","/store"],["routerLink","/cart"],[4,"ngIf"],[1,"mb-4"],[1,"p-0","list-unstyled"],[1,"phone"],[1,"fa-solid","fa-phone"],[1,"mb-5","p-0","list-unstyled","socialmedia"],["target","_blank","href","https://www.facebook.com/justt.joinn/"],[1,"fa-brands","fa-square-facebook"],["target","_blank","href","https://twitter.com/join_app"],[1,"fa-brands","fa-square-twitter"],["target","_blank","href","https://www.snapchat.com/add/join.co"],[1,"fa-brands","fa-square-snapchat"],["src","assets/images/visa.svg","alt","join",1,"img-fluid"],[1,"orangeSection","text-white","py-3"],[1,"container","flex-column","flex-md-row","d-flex","justify-content-between","align-items-md-center"],[1,"m-0"],[1,"d-flex","list-unstyled","p-0","m-0"],["href",""],[1,"mx-2"],[3,"h2","p","src","li"],["routerLink","/favorite"]],template:function(a,f){1&a&&h.YNc(0,wo,96,50,"footer",0),2&a&&h.Q6J("ngIf",!f.hideFooter)},directives:[ct.O5,ct.sg,fa,W.yS],pipes:[De.X$],styles:[""]}),v})(),$r=(()=>{class v{constructor(a,f,E,k){this.notficationsService=a,this.membersservice=f,this.homeService=E,this.authService=k}ngOnInit(){localStorage.getItem("joinToken")&&(this.notficationsService.getNotifications(),this.membersservice.getAllMembers(),this.authService.getUserProfile()),this.authService.getAllAreas(),this.homeService.getIntersts()}}return v.\u0275fac=function(a){return new(a||v)(h.Y36(ne.T),h.Y36(ue.Z),h.Y36(Ne.Y),h.Y36(ut.e))},v.\u0275cmp=h.Xpm({type:v,selectors:[["app-root"]],decls:3,vars:0,template:function(a,f){1&a&&h._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},directives:[br,W.lC,Zs],styles:[""]}),v})();var Ks=x(40),_i=x(520);let U=(()=>{class v{intercept(a,f){let E=a.clone({setHeaders:{"auth-token":`${localStorage.getItem("joinToken")}`,Lang:localStorage.getItem("lang")||"en"}});return f.handle(E)}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})();var Q=x(1777);const L=!1;function je(v){return new h.vHH(3e3,L)}function qs(){return"undefined"!=typeof window&&void 0!==window.document}function uo(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Xr(v){switch(v.length){case 0:return new Q.ZN;case 1:return v[0];default:return new Q.ZE(v)}}function _s(v,u,a,f,E={},k={}){const K=[],ye=[];let Ve=-1,at=null;if(f.forEach(kt=>{const dn=kt.offset,Cn=dn==Ve,Vn=Cn&&at||{};Object.keys(kt).forEach(Un=>{let zn=Un,Fi=kt[Un];if("offset"!==Un)switch(zn=u.normalizePropertyName(zn,K),Fi){case Q.k1:Fi=E[Un];break;case Q.l3:Fi=k[Un];break;default:Fi=u.normalizeStyleValue(Un,zn,Fi,K)}Vn[zn]=Fi}),Cn||ye.push(Vn),at=Vn,Ve=dn}),K.length)throw function Tl(v){return new h.vHH(3502,L)}();return ye}function pa(v,u,a,f){switch(u){case"start":v.onStart(()=>f(a&&co(a,"start",v)));break;case"done":v.onDone(()=>f(a&&co(a,"done",v)));break;case"destroy":v.onDestroy(()=>f(a&&co(a,"destroy",v)))}}function co(v,u,a){const f=a.totalTime,k=Na(v.element,v.triggerName,v.fromState,v.toState,u||v.phaseName,null==f?v.totalTime:f,!!a.disabled),K=v._data;return null!=K&&(k._data=K),k}function Na(v,u,a,f,E="",k=0,K){return{element:v,triggerName:u,fromState:a,toState:f,phaseName:E,totalTime:k,disabled:!!K}}function rr(v,u,a){let f;return v instanceof Map?(f=v.get(u),f||v.set(u,f=a)):(f=v[u],f||(f=v[u]=a)),f}function za(v){const u=v.indexOf(":");return[v.substring(1,u),v.substr(u+1)]}let ho=(v,u)=>!1,ul=(v,u,a)=>[],Wa=null;function fo(v){const u=v.parentNode||v.host;return u===Wa?null:u}(uo()||"undefined"!=typeof Element)&&(qs()?(Wa=(()=>document.documentElement)(),ho=(v,u)=>{for(;u;){if(u===v)return!0;u=fo(u)}return!1}):ho=(v,u)=>v.contains(u),ul=(v,u,a)=>{if(a)return Array.from(v.querySelectorAll(u));const f=v.querySelector(u);return f?[f]:[]});let bs=null,Do=!1;function Sl(v){bs||(bs=function Za(){return"undefined"!=typeof document?document.body:null}()||{},Do=!!bs.style&&"WebkitAppearance"in bs.style);let u=!0;return bs.style&&!function Ko(v){return"ebkit"==v.substring(1,6)}(v)&&(u=v in bs.style,!u&&Do&&(u="Webkit"+v.charAt(0).toUpperCase()+v.substr(1)in bs.style)),u}const po=ho,ql=ul;let ts=(()=>{class v{validateStyleProperty(a){return Sl(a)}matchesElement(a,f){return!1}containsElement(a,f){return po(a,f)}getParentElement(a){return fo(a)}query(a,f,E){return ql(a,f,E)}computeStyle(a,f,E){return E||""}animate(a,f,E,k,K,ye=[],Ve){return new Q.ZN(E,k)}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})(),Io=(()=>{class v{}return v.NOOP=new ts,v})();const Oi="ng-enter",Ys="ng-leave",Qs="ng-trigger",go=".ng-trigger",Es="ng-animating",Wt=".ng-animating";function Mi(v){if("number"==typeof v)return v;const u=v.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:Zi(parseFloat(u[1]),u[2])}function Zi(v,u){return"s"===u?1e3*v:v}function Ao(v,u,a){return v.hasOwnProperty("duration")?v:function Dn(v,u,a){let E,k=0,K="";if("string"==typeof v){const ye=v.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ye)return u.push(je()),{duration:0,delay:0,easing:""};E=Zi(parseFloat(ye[1]),ye[2]);const Ve=ye[3];null!=Ve&&(k=Zi(parseFloat(Ve),ye[4]));const at=ye[5];at&&(K=at)}else E=v;if(!a){let ye=!1,Ve=u.length;E<0&&(u.push(function Ct(){return new h.vHH(3100,L)}()),ye=!0),k<0&&(u.push(function Ut(){return new h.vHH(3101,L)}()),ye=!0),ye&&u.splice(Ve,0,je())}return{duration:E,delay:k,easing:K}}(v,u,a)}function In(v,u={}){return Object.keys(v).forEach(a=>{u[a]=v[a]}),u}function rn(v,u,a={}){if(u)for(let f in v)a[f]=v[f];else In(v,a);return a}function bt(v,u,a){return a?u+":"+a+";":""}function jt(v){let u="";for(let a=0;a<v.style.length;a++){const f=v.style.item(a);u+=bt(0,f,v.style.getPropertyValue(f))}for(const a in v.style)v.style.hasOwnProperty(a)&&!a.startsWith("_")&&(u+=bt(0,Ql(a),v.style[a]));v.setAttribute("style",u)}function Ni(v,u,a){v.style&&(Object.keys(u).forEach(f=>{const E=ma(f);a&&!a.hasOwnProperty(f)&&(a[f]=v.style[E]),v.style[E]=u[f]}),uo()&&jt(v))}function qo(v,u){v.style&&(Object.keys(u).forEach(a=>{const f=ma(a);v.style[f]=""}),uo()&&jt(v))}function Ka(v){return Array.isArray(v)?1==v.length?v[0]:(0,Q.vP)(v):v}const cs=new RegExp("{{\\s*(.+?)\\s*}}","g");function dl(v){let u=[];if("string"==typeof v){let a;for(;a=cs.exec(v);)u.push(a[1]);cs.lastIndex=0}return u}function ga(v,u,a){const f=v.toString(),E=f.replace(cs,(k,K)=>{let ye=u[K];return u.hasOwnProperty(K)||(a.push(function Rn(v){return new h.vHH(3003,L)}()),ye=""),ye.toString()});return E==f?v:E}function Yo(v){const u=[];let a=v.next();for(;!a.done;)u.push(a.value),a=v.next();return u}const qa=/-+([a-z0-9])/g;function ma(v){return v.replace(qa,(...u)=>u[1].toUpperCase())}function Ql(v){return v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ki(v,u,a){switch(u.type){case 7:return v.visitTrigger(u,a);case 0:return v.visitState(u,a);case 1:return v.visitTransition(u,a);case 2:return v.visitSequence(u,a);case 3:return v.visitGroup(u,a);case 4:return v.visitAnimate(u,a);case 5:return v.visitKeyframes(u,a);case 6:return v.visitStyle(u,a);case 8:return v.visitReference(u,a);case 9:return v.visitAnimateChild(u,a);case 10:return v.visitAnimateRef(u,a);case 11:return v.visitQuery(u,a);case 12:return v.visitStagger(u,a);default:throw function si(v){return new h.vHH(3004,L)}()}}function ya(v,u){return window.getComputedStyle(v)[u]}function Oe(v,u){const a=[];return"string"==typeof v?v.split(/\s*,\s*/).forEach(f=>function He(v,u,a){if(":"==v[0]){const Ve=function xt(v,u){switch(v){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,f)=>parseFloat(f)>parseFloat(a);case":decrement":return(a,f)=>parseFloat(f)<parseFloat(a);default:return u.push(function Zo(v){return new h.vHH(3016,L)}()),"* => *"}}(v,a);if("function"==typeof Ve)return void u.push(Ve);v=Ve}const f=v.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==f||f.length<4)return a.push(function Jr(v){return new h.vHH(3015,L)}()),u;const E=f[1],k=f[2],K=f[3];u.push(An(E,K));"<"==k[0]&&!("*"==E&&"*"==K)&&u.push(An(K,E))}(f,a,u)):a.push(v),a}const pn=new Set(["true","1"]),Jn=new Set(["false","0"]);function An(v,u){const a=pn.has(v)||Jn.has(v),f=pn.has(u)||Jn.has(u);return(E,k)=>{let K="*"==v||v==E,ye="*"==u||u==k;return!K&&a&&"boolean"==typeof E&&(K=E?pn.has(v):Jn.has(v)),!ye&&f&&"boolean"==typeof k&&(ye=k?pn.has(u):Jn.has(u)),K&&ye}}const bi=new RegExp("s*:selfs*,?","g");function tr(v,u,a,f){return new ka(v).build(u,a,f)}class ka{constructor(u){this._driver=u}build(u,a,f){const E=new La(a);this._resetContextStyleTimingState(E);const k=Ki(this,Ka(u),E);return E.unsupportedCSSPropertiesFound.size&&E.unsupportedCSSPropertiesFound.keys(),k}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles={},u.collectedStyles[""]={},u.currentTime=0}visitTrigger(u,a){let f=a.queryCount=0,E=a.depCount=0;const k=[],K=[];return"@"==u.name.charAt(0)&&a.errors.push(function ri(){return new h.vHH(3006,L)}()),u.definitions.forEach(ye=>{if(this._resetContextStyleTimingState(a),0==ye.type){const Ve=ye,at=Ve.name;at.toString().split(/\s*,\s*/).forEach(kt=>{Ve.name=kt,k.push(this.visitState(Ve,a))}),Ve.name=at}else if(1==ye.type){const Ve=this.visitTransition(ye,a);f+=Ve.queryCount,E+=Ve.depCount,K.push(Ve)}else a.errors.push(function Wi(){return new h.vHH(3007,L)}())}),{type:7,name:u.name,states:k,transitions:K,queryCount:f,depCount:E,options:null}}visitState(u,a){const f=this.visitStyle(u.styles,a),E=u.options&&u.options.params||null;if(f.containsDynamicStyles){const k=new Set,K=E||{};f.styles.forEach(ye=>{if(Er(ye)){const Ve=ye;Object.keys(Ve).forEach(at=>{dl(Ve[at]).forEach(kt=>{K.hasOwnProperty(kt)||k.add(kt)})})}}),k.size&&(Yo(k.values()),a.errors.push(function xi(v,u){return new h.vHH(3008,L)}()))}return{type:0,name:u.name,style:f,options:E?{params:E}:null}}visitTransition(u,a){a.queryCount=0,a.depCount=0;const f=Ki(this,Ka(u.animation),a);return{type:1,matchers:Oe(u.expr,a.errors),animation:f,queryCount:a.queryCount,depCount:a.depCount,options:xo(u.options)}}visitSequence(u,a){return{type:2,steps:u.steps.map(f=>Ki(this,f,a)),options:xo(u.options)}}visitGroup(u,a){const f=a.currentTime;let E=0;const k=u.steps.map(K=>{a.currentTime=f;const ye=Ki(this,K,a);return E=Math.max(E,a.currentTime),ye});return a.currentTime=E,{type:3,steps:k,options:xo(u.options)}}visitAnimate(u,a){const f=function Xs(v,u){if(v.hasOwnProperty("duration"))return v;if("number"==typeof v)return eo(Ao(v,u).duration,0,"");const a=v;if(a.split(/\s+/).some(k=>"{"==k.charAt(0)&&"{"==k.charAt(1))){const k=eo(0,0,"");return k.dynamic=!0,k.strValue=a,k}const E=Ao(a,u);return eo(E.duration,E.delay,E.easing)}(u.timings,a.errors);a.currentAnimateTimings=f;let E,k=u.styles?u.styles:(0,Q.oB)({});if(5==k.type)E=this.visitKeyframes(k,a);else{let K=u.styles,ye=!1;if(!K){ye=!0;const at={};f.easing&&(at.easing=f.easing),K=(0,Q.oB)(at)}a.currentTime+=f.duration+f.delay;const Ve=this.visitStyle(K,a);Ve.isEmptyStep=ye,E=Ve}return a.currentAnimateTimings=null,{type:4,timings:f,style:E,options:null}}visitStyle(u,a){const f=this._makeStyleAst(u,a);return this._validateStyleAst(f,a),f}_makeStyleAst(u,a){const f=[];Array.isArray(u.styles)?u.styles.forEach(K=>{"string"==typeof K?K==Q.l3?f.push(K):a.errors.push(function Ai(v){return new h.vHH(3002,L)}()):f.push(K)}):f.push(u.styles);let E=!1,k=null;return f.forEach(K=>{if(Er(K)){const ye=K,Ve=ye.easing;if(Ve&&(k=Ve,delete ye.easing),!E)for(let at in ye)if(ye[at].toString().indexOf("{{")>=0){E=!0;break}}}),{type:6,styles:f,easing:k,offset:u.offset,containsDynamicStyles:E,options:null}}_validateStyleAst(u,a){const f=a.currentAnimateTimings;let E=a.currentTime,k=a.currentTime;f&&k>0&&(k-=f.duration+f.delay),u.styles.forEach(K=>{"string"!=typeof K&&Object.keys(K).forEach(ye=>{if(!this._driver.validateStyleProperty(ye))return delete K[ye],void a.unsupportedCSSPropertiesFound.add(ye);const Ve=a.collectedStyles[a.currentQuerySelector],at=Ve[ye];let kt=!0;at&&(k!=E&&k>=at.startTime&&E<=at.endTime&&(a.errors.push(function N(v,u,a,f,E){return new h.vHH(3010,L)}()),kt=!1),k=at.startTime),kt&&(Ve[ye]={startTime:k,endTime:E}),a.options&&function Dc(v,u,a){const f=u.params||{},E=dl(v);E.length&&E.forEach(k=>{f.hasOwnProperty(k)||a.push(function Tn(v){return new h.vHH(3001,L)}())})}(K[ye],a.options,a.errors)})})}visitKeyframes(u,a){const f={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function M(){return new h.vHH(3011,L)}()),f;let k=0;const K=[];let ye=!1,Ve=!1,at=0;const kt=u.steps.map(cr=>{const Wr=this._makeStyleAst(cr,a);let Dr=null!=Wr.offset?Wr.offset:function mt(v){if("string"==typeof v)return null;let u=null;if(Array.isArray(v))v.forEach(a=>{if(Er(a)&&a.hasOwnProperty("offset")){const f=a;u=parseFloat(f.offset),delete f.offset}});else if(Er(v)&&v.hasOwnProperty("offset")){const a=v;u=parseFloat(a.offset),delete a.offset}return u}(Wr.styles),li=0;return null!=Dr&&(k++,li=Wr.offset=Dr),Ve=Ve||li<0||li>1,ye=ye||li<at,at=li,K.push(li),Wr});Ve&&a.errors.push(function se(){return new h.vHH(3012,L)}()),ye&&a.errors.push(function At(){return new h.vHH(3200,L)}());const dn=u.steps.length;let Cn=0;k>0&&k<dn?a.errors.push(function wn(){return new h.vHH(3202,L)}()):0==k&&(Cn=1/(dn-1));const Vn=dn-1,Un=a.currentTime,zn=a.currentAnimateTimings,Fi=zn.duration;return kt.forEach((cr,Wr)=>{const Dr=Cn>0?Wr==Vn?1:Cn*Wr:K[Wr],li=Dr*Fi;a.currentTime=Un+zn.delay+li,zn.duration=li,this._validateStyleAst(cr,a),cr.offset=Dr,f.styles.push(cr)}),f}visitReference(u,a){return{type:8,animation:Ki(this,Ka(u.animation),a),options:xo(u.options)}}visitAnimateChild(u,a){return a.depCount++,{type:9,options:xo(u.options)}}visitAnimateRef(u,a){return{type:10,animation:this.visitReference(u.animation,a),options:xo(u.options)}}visitQuery(u,a){const f=a.currentQuerySelector,E=u.options||{};a.queryCount++,a.currentQuery=u;const[k,K]=function mo(v){const u=!!v.split(/\s*,\s*/).find(a=>":self"==a);return u&&(v=v.replace(bi,"")),v=v.replace(/@\*/g,go).replace(/@\w+/g,a=>go+"-"+a.substr(1)).replace(/:animating/g,Wt),[v,u]}(u.selector);a.currentQuerySelector=f.length?f+" "+k:k,rr(a.collectedStyles,a.currentQuerySelector,{});const ye=Ki(this,Ka(u.animation),a);return a.currentQuery=null,a.currentQuerySelector=f,{type:11,selector:k,limit:E.limit||0,optional:!!E.optional,includeSelf:K,animation:ye,originalSelector:u.selector,options:xo(u.options)}}visitStagger(u,a){a.currentQuery||a.errors.push(function Ci(){return new h.vHH(3013,L)}());const f="full"===u.timings?{duration:0,delay:0,easing:"full"}:Ao(u.timings,a.errors,!0);return{type:12,animation:Ki(this,Ka(u.animation),a),timings:f,options:null}}}class La{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Er(v){return!Array.isArray(v)&&"object"==typeof v}function xo(v){return v?(v=In(v)).params&&(v.params=function Rs(v){return v?In(v):null}(v.params)):v={},v}function eo(v,u,a){return{duration:v,delay:u,easing:a}}function ws(v,u,a,f,E,k,K=null,ye=!1){return{type:1,element:v,keyframes:u,preStyleProps:a,postStyleProps:f,duration:E,delay:k,totalTime:E+k,easing:K,subTimeline:ye}}class Qo{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,a){let f=this._map.get(u);f||this._map.set(u,f=[]),f.push(...a)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const Jl=new RegExp(":enter","g"),Xl=new RegExp(":leave","g");function As(v,u,a,f,E,k={},K={},ye,Ve,at=[]){return(new gr).buildKeyframes(v,u,a,f,E,k,K,ye,Ve,at)}class gr{buildKeyframes(u,a,f,E,k,K,ye,Ve,at,kt=[]){at=at||new Qo;const dn=new Ol(u,a,at,E,k,kt,[]);dn.options=Ve,dn.currentTimeline.setStyles([K],null,dn.errors,Ve),Ki(this,f,dn);const Cn=dn.timelines.filter(Vn=>Vn.containsAnimation());if(Object.keys(ye).length){let Vn;for(let Un=Cn.length-1;Un>=0;Un--){const zn=Cn[Un];if(zn.element===a){Vn=zn;break}}Vn&&!Vn.allowOnlyTimelineStyles()&&Vn.setStyles([ye],null,dn.errors,Ve)}return Cn.length?Cn.map(Vn=>Vn.buildKeyframes()):[ws(a,[],[],[],0,0,"",!1)]}visitTrigger(u,a){}visitState(u,a){}visitTransition(u,a){}visitAnimateChild(u,a){const f=a.subInstructions.get(a.element);if(f){const E=a.createSubContext(u.options),k=a.currentTimeline.currentTime,K=this._visitSubInstructions(f,E,E.options);k!=K&&a.transformIntoNewTimeline(K)}a.previousNode=u}visitAnimateRef(u,a){const f=a.createSubContext(u.options);f.transformIntoNewTimeline(),this.visitReference(u.animation,f),a.transformIntoNewTimeline(f.currentTimeline.currentTime),a.previousNode=u}_visitSubInstructions(u,a,f){let k=a.currentTimeline.currentTime;const K=null!=f.duration?Mi(f.duration):null,ye=null!=f.delay?Mi(f.delay):null;return 0!==K&&u.forEach(Ve=>{const at=a.appendInstructionToTimeline(Ve,K,ye);k=Math.max(k,at.duration+at.delay)}),k}visitReference(u,a){a.updateOptions(u.options,!0),Ki(this,u.animation,a),a.previousNode=u}visitSequence(u,a){const f=a.subContextCount;let E=a;const k=u.options;if(k&&(k.params||k.delay)&&(E=a.createSubContext(k),E.transformIntoNewTimeline(),null!=k.delay)){6==E.previousNode.type&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Jo);const K=Mi(k.delay);E.delayNextStep(K)}u.steps.length&&(u.steps.forEach(K=>Ki(this,K,E)),E.currentTimeline.applyStylesToKeyframe(),E.subContextCount>f&&E.transformIntoNewTimeline()),a.previousNode=u}visitGroup(u,a){const f=[];let E=a.currentTimeline.currentTime;const k=u.options&&u.options.delay?Mi(u.options.delay):0;u.steps.forEach(K=>{const ye=a.createSubContext(u.options);k&&ye.delayNextStep(k),Ki(this,K,ye),E=Math.max(E,ye.currentTimeline.currentTime),f.push(ye.currentTimeline)}),f.forEach(K=>a.currentTimeline.mergeTimelineCollectedStyles(K)),a.transformIntoNewTimeline(E),a.previousNode=u}_visitTiming(u,a){if(u.dynamic){const f=u.strValue;return Ao(a.params?ga(f,a.params,a.errors):f,a.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,a){const f=a.currentAnimateTimings=this._visitTiming(u.timings,a),E=a.currentTimeline;f.delay&&(a.incrementTime(f.delay),E.snapshotCurrentStyles());const k=u.style;5==k.type?this.visitKeyframes(k,a):(a.incrementTime(f.duration),this.visitStyle(k,a),E.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=u}visitStyle(u,a){const f=a.currentTimeline,E=a.currentAnimateTimings;!E&&f.getCurrentStyleProperties().length&&f.forwardFrame();const k=E&&E.easing||u.easing;u.isEmptyStep?f.applyEmptyStep(k):f.setStyles(u.styles,k,a.errors,a.options),a.previousNode=u}visitKeyframes(u,a){const f=a.currentAnimateTimings,E=a.currentTimeline.duration,k=f.duration,ye=a.createSubContext().currentTimeline;ye.easing=f.easing,u.styles.forEach(Ve=>{ye.forwardTime((Ve.offset||0)*k),ye.setStyles(Ve.styles,Ve.easing,a.errors,a.options),ye.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(ye),a.transformIntoNewTimeline(E+k),a.previousNode=u}visitQuery(u,a){const f=a.currentTimeline.currentTime,E=u.options||{},k=E.delay?Mi(E.delay):0;k&&(6===a.previousNode.type||0==f&&a.currentTimeline.getCurrentStyleProperties().length)&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Jo);let K=f;const ye=a.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!E.optional,a.errors);a.currentQueryTotal=ye.length;let Ve=null;ye.forEach((at,kt)=>{a.currentQueryIndex=kt;const dn=a.createSubContext(u.options,at);k&&dn.delayNextStep(k),at===a.element&&(Ve=dn.currentTimeline),Ki(this,u.animation,dn),dn.currentTimeline.applyStylesToKeyframe(),K=Math.max(K,dn.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(K),Ve&&(a.currentTimeline.mergeTimelineCollectedStyles(Ve),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=u}visitStagger(u,a){const f=a.parentContext,E=a.currentTimeline,k=u.timings,K=Math.abs(k.duration),ye=K*(a.currentQueryTotal-1);let Ve=K*a.currentQueryIndex;switch(k.duration<0?"reverse":k.easing){case"reverse":Ve=ye-Ve;break;case"full":Ve=f.currentStaggerTime}const kt=a.currentTimeline;Ve&&kt.delayNextStep(Ve);const dn=kt.currentTime;Ki(this,u.animation,a),a.previousNode=u,f.currentStaggerTime=E.currentTime-dn+(E.startTime-f.currentTimeline.startTime)}}const Jo={};class Ol{constructor(u,a,f,E,k,K,ye,Ve){this._driver=u,this.element=a,this.subInstructions=f,this._enterClassName=E,this._leaveClassName=k,this.errors=K,this.timelines=ye,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Jo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ve||new mr(this._driver,a,0),ye.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,a){if(!u)return;const f=u;let E=this.options;null!=f.duration&&(E.duration=Mi(f.duration)),null!=f.delay&&(E.delay=Mi(f.delay));const k=f.params;if(k){let K=E.params;K||(K=this.options.params={}),Object.keys(k).forEach(ye=>{(!a||!K.hasOwnProperty(ye))&&(K[ye]=ga(k[ye],K,this.errors))})}}_copyOptions(){const u={};if(this.options){const a=this.options.params;if(a){const f=u.params={};Object.keys(a).forEach(E=>{f[E]=a[E]})}}return u}createSubContext(u=null,a,f){const E=a||this.element,k=new Ol(this._driver,E,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(E,f||0));return k.previousNode=this.previousNode,k.currentAnimateTimings=this.currentAnimateTimings,k.options=this._copyOptions(),k.updateOptions(u),k.currentQueryIndex=this.currentQueryIndex,k.currentQueryTotal=this.currentQueryTotal,k.parentContext=this,this.subContextCount++,k}transformIntoNewTimeline(u){return this.previousNode=Jo,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,a,f){const E={duration:null!=a?a:u.duration,delay:this.currentTimeline.currentTime+(null!=f?f:0)+u.delay,easing:""},k=new Cu(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,E,u.stretchStartingKeyframe);return this.timelines.push(k),E}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,a,f,E,k,K){let ye=[];if(E&&ye.push(this.element),u.length>0){u=(u=u.replace(Jl,"."+this._enterClassName)).replace(Xl,"."+this._leaveClassName);let at=this._driver.query(this.element,u,1!=f);0!==f&&(at=f<0?at.slice(at.length+f,at.length):at.slice(0,f)),ye.push(...at)}return!k&&0==ye.length&&K.push(function vs(v){return new h.vHH(3014,L)}()),ye}}class mr{constructor(u,a,f,E){this._driver=u,this.element=a,this.startTime=f,this._elementTimelineStylesLookup=E,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const a=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||a?(this.forwardTime(this.currentTime+u),a&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,a){return this.applyStylesToKeyframe(),new mr(this._driver,u,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,a){this._localTimelineStyles[u]=a,this._globalTimelineStyles[u]=a,this._styleSummary[u]={time:this.currentTime,value:a}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&(this._previousKeyframe.easing=u),Object.keys(this._globalTimelineStyles).forEach(a=>{this._backFill[a]=this._globalTimelineStyles[a]||Q.l3,this._currentKeyframe[a]=Q.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,a,f,E){a&&(this._previousKeyframe.easing=a);const k=E&&E.params||{},K=function sr(v,u){const a={};let f;return v.forEach(E=>{"*"===E?(f=f||Object.keys(u),f.forEach(k=>{a[k]=Q.l3})):rn(E,!1,a)}),a}(u,this._globalTimelineStyles);Object.keys(K).forEach(ye=>{const Ve=ga(K[ye],k,f);this._pendingStyles[ye]=Ve,this._localTimelineStyles.hasOwnProperty(ye)||(this._backFill[ye]=this._globalTimelineStyles.hasOwnProperty(ye)?this._globalTimelineStyles[ye]:Q.l3),this._updateStyle(ye,Ve)})}applyStylesToKeyframe(){const u=this._pendingStyles,a=Object.keys(u);0!=a.length&&(this._pendingStyles={},a.forEach(f=>{this._currentKeyframe[f]=u[f]}),Object.keys(this._localTimelineStyles).forEach(f=>{this._currentKeyframe.hasOwnProperty(f)||(this._currentKeyframe[f]=this._localTimelineStyles[f])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(u=>{const a=this._localTimelineStyles[u];this._pendingStyles[u]=a,this._updateStyle(u,a)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let a in this._currentKeyframe)u.push(a);return u}mergeTimelineCollectedStyles(u){Object.keys(u._styleSummary).forEach(a=>{const f=this._styleSummary[a],E=u._styleSummary[a];(!f||E.time>f.time)&&this._updateStyle(a,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,a=new Set,f=1===this._keyframes.size&&0===this.duration;let E=[];this._keyframes.forEach((ye,Ve)=>{const at=rn(ye,!0);Object.keys(at).forEach(kt=>{const dn=at[kt];dn==Q.k1?u.add(kt):dn==Q.l3&&a.add(kt)}),f||(at.offset=Ve/this.duration),E.push(at)});const k=u.size?Yo(u.values()):[],K=a.size?Yo(a.values()):[];if(f){const ye=E[0],Ve=In(ye);ye.offset=0,Ve.offset=1,E=[ye,Ve]}return ws(this.element,E,k,K,this.duration,this.startTime,this.easing,!1)}}class Cu extends mr{constructor(u,a,f,E,k,K,ye=!1){super(u,a,K.delay),this.keyframes=f,this.preStyleProps=E,this.postStyleProps=k,this._stretchStartingKeyframe=ye,this.timings={duration:K.duration,delay:K.delay,easing:K.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:a,duration:f,easing:E}=this.timings;if(this._stretchStartingKeyframe&&a){const k=[],K=f+a,ye=a/K,Ve=rn(u[0],!1);Ve.offset=0,k.push(Ve);const at=rn(u[0],!1);at.offset=Cs(ye),k.push(at);const kt=u.length-1;for(let dn=1;dn<=kt;dn++){let Cn=rn(u[dn],!1);Cn.offset=Cs((a+Cn.offset*f)/K),k.push(Cn)}f=K,a=0,E="",u=k}return ws(this.element,u,this.preStyleProps,this.postStyleProps,f,a,E,!0)}}function Cs(v,u=3){const a=Math.pow(10,u-1);return Math.round(v*a)/a}class Ns{}class wr extends Ns{normalizePropertyName(u,a){return ma(u)}normalizeStyleValue(u,a,f,E){let k="";const K=f.toString().trim();if(Cr[a]&&0!==f&&"0"!==f)if("number"==typeof f)k="px";else{const ye=f.match(/^[+-]?[\d\.]+([a-z]*)$/);ye&&0==ye[1].length&&E.push(function jn(v,u){return new h.vHH(3005,L)}())}return K+k}}const Cr=(()=>function Ya(v){const u={};return v.forEach(a=>u[a]=!0),u}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Fa(v,u,a,f,E,k,K,ye,Ve,at,kt,dn,Cn){return{type:0,element:v,triggerName:u,isRemovalTransition:E,fromState:a,fromStyles:k,toState:f,toStyles:K,timelines:ye,queriedElements:Ve,preStyleProps:at,postStyleProps:kt,totalTime:dn,errors:Cn}}const or={};class Tr{constructor(u,a,f){this._triggerName=u,this.ast=a,this._stateStyles=f}match(u,a,f,E){return function ks(v,u,a,f,E){return v.some(k=>k(u,a,f,E))}(this.ast.matchers,u,a,f,E)}buildStyles(u,a,f){const E=this._stateStyles["*"],k=this._stateStyles[u],K=E?E.buildStyles(a,f):{};return k?k.buildStyles(a,f):K}build(u,a,f,E,k,K,ye,Ve,at,kt){const dn=[],Cn=this.ast.options&&this.ast.options.params||or,Un=this.buildStyles(f,ye&&ye.params||or,dn),zn=Ve&&Ve.params||or,Fi=this.buildStyles(E,zn,dn),cr=new Set,Wr=new Map,Dr=new Map,li="void"===E,hr={params:Object.assign(Object.assign({},Cn),zn)},Br=kt?[]:As(u,a,this.ast.animation,k,K,Un,Fi,hr,at,dn);let kr=0;if(Br.forEach(ro=>{kr=Math.max(ro.duration+ro.delay,kr)}),dn.length)return Fa(a,this._triggerName,f,E,li,Un,Fi,[],[],Wr,Dr,kr,dn);Br.forEach(ro=>{const al=ro.element,Yc=rr(Wr,al,{});ro.preStyleProps.forEach(El=>Yc[El]=!0);const du=rr(Dr,al,{});ro.postStyleProps.forEach(El=>du[El]=!0),al!==a&&cr.add(al)});const io=Yo(cr.values());return Fa(a,this._triggerName,f,E,li,Un,Fi,Br,io,Wr,Dr,kr)}}class Tu{constructor(u,a,f){this.styles=u,this.defaultParams=a,this.normalizer=f}buildStyles(u,a){const f={},E=In(this.defaultParams);return Object.keys(u).forEach(k=>{const K=u[k];null!=K&&(E[k]=K)}),this.styles.styles.forEach(k=>{if("string"!=typeof k){const K=k;Object.keys(K).forEach(ye=>{let Ve=K[ye];Ve.length>1&&(Ve=ga(Ve,E,a));const at=this.normalizer.normalizePropertyName(ye,a);Ve=this.normalizer.normalizeStyleValue(ye,at,Ve,a),f[at]=Ve})}}),f}}class Qa{constructor(u,a,f){this.name=u,this.ast=a,this._normalizer=f,this.transitionFactories=[],this.states={},a.states.forEach(E=>{this.states[E.name]=new Tu(E.style,E.options&&E.options.params||{},f)}),ta(this.states,"true","1"),ta(this.states,"false","0"),a.transitions.forEach(E=>{this.transitionFactories.push(new Tr(u,E,this.states))}),this.fallbackTransition=function ds(v,u,a){return new Tr(v,{type:1,animation:{type:2,steps:[],options:null},matchers:[(K,ye)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,a,f,E){return this.transitionFactories.find(K=>K.match(u,a,f,E))||null}matchStyles(u,a,f){return this.fallbackTransition.buildStyles(u,a,f)}}function ta(v,u,a){v.hasOwnProperty(u)?v.hasOwnProperty(a)||(v[a]=v[u]):v.hasOwnProperty(a)&&(v[u]=v[a])}const Ja=new Qo;class Du{constructor(u,a,f){this.bodyNode=u,this._driver=a,this._normalizer=f,this._animations={},this._playersById={},this.players=[]}register(u,a){const f=[],k=tr(this._driver,a,f,[]);if(f.length)throw function Xi(v){return new h.vHH(3503,L)}();this._animations[u]=k}_buildPlayer(u,a,f){const E=u.element,k=_s(0,this._normalizer,0,u.keyframes,a,f);return this._driver.animate(E,k,u.duration,u.delay,u.easing,[],!0)}create(u,a,f={}){const E=[],k=this._animations[u];let K;const ye=new Map;if(k?(K=As(this._driver,a,k,Oi,Ys,{},{},f,Ja,E),K.forEach(kt=>{const dn=rr(ye,kt.element,{});kt.postStyleProps.forEach(Cn=>dn[Cn]=null)})):(E.push(function Ma(){return new h.vHH(3300,L)}()),K=[]),E.length)throw function Co(v){return new h.vHH(3504,L)}();ye.forEach((kt,dn)=>{Object.keys(kt).forEach(Cn=>{kt[Cn]=this._driver.computeStyle(dn,Cn,Q.l3)})});const at=Xr(K.map(kt=>{const dn=ye.get(kt.element);return this._buildPlayer(kt,{},dn)}));return this._playersById[u]=at,at.onDestroy(()=>this.destroy(u)),this.players.push(at),at}destroy(u){const a=this._getPlayer(u);a.destroy(),delete this._playersById[u];const f=this.players.indexOf(a);f>=0&&this.players.splice(f,1)}_getPlayer(u){const a=this._playersById[u];if(!a)throw function Ps(v){return new h.vHH(3301,L)}();return a}listen(u,a,f,E){const k=Na(a,"","","");return pa(this._getPlayer(u),f,k,E),()=>{}}command(u,a,f,E){if("register"==f)return void this.register(u,E[0]);if("create"==f)return void this.create(u,a,E[0]||{});const k=this._getPlayer(u);switch(f){case"play":k.play();break;case"pause":k.pause();break;case"reset":k.reset();break;case"restart":k.restart();break;case"finish":k.finish();break;case"init":k.init();break;case"setPosition":k.setPosition(parseFloat(E[0]));break;case"destroy":this.destroy(u)}}}const na="ng-animate-queued",Rr="ng-animate-disabled",Iu=[],Ls={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eu={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ur="__ng_removed";class Xa{constructor(u,a=""){this.namespaceId=a;const f=u&&u.hasOwnProperty("value");if(this.value=function Ml(v){return null!=v?v:null}(f?u.value:u),f){const k=In(u);delete k.value,this.options=k}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(u){const a=u.params;if(a){const f=this.options.params;Object.keys(a).forEach(E=>{null==f[E]&&(f[E]=a[E])})}}}const Ss="void",Ea=new Xa(Ss);class ia{constructor(u,a,f){this.id=u,this.hostElement=a,this._engine=f,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,Te(a,this._hostClassName)}listen(u,a,f,E){if(!this._triggers.hasOwnProperty(a))throw function Pa(v,u){return new h.vHH(3302,L)}();if(null==f||0==f.length)throw function Ra(v){return new h.vHH(3303,L)}();if(!function Yu(v){return"start"==v||"done"==v}(f))throw function Dl(v,u){return new h.vHH(3400,L)}();const k=rr(this._elementListeners,u,[]),K={name:a,phase:f,callback:E};k.push(K);const ye=rr(this._engine.statesByElement,u,{});return ye.hasOwnProperty(a)||(Te(u,Qs),Te(u,Qs+"-"+a),ye[a]=Ea),()=>{this._engine.afterFlush(()=>{const Ve=k.indexOf(K);Ve>=0&&k.splice(Ve,1),this._triggers[a]||delete ye[a]})}}register(u,a){return!this._triggers[u]&&(this._triggers[u]=a,!0)}_getTrigger(u){const a=this._triggers[u];if(!a)throw function Il(v){return new h.vHH(3401,L)}();return a}trigger(u,a,f,E=!0){const k=this._getTrigger(a),K=new el(this.id,a,u);let ye=this._engine.statesByElement.get(u);ye||(Te(u,Qs),Te(u,Qs+"-"+a),this._engine.statesByElement.set(u,ye={}));let Ve=ye[a];const at=new Xa(f,this.id);if(!(f&&f.hasOwnProperty("value"))&&Ve&&at.absorbOptions(Ve.options),ye[a]=at,Ve||(Ve=Ea),at.value!==Ss&&Ve.value===at.value){if(!function Nn(v,u){const a=Object.keys(v),f=Object.keys(u);if(a.length!=f.length)return!1;for(let E=0;E<a.length;E++){const k=a[E];if(!u.hasOwnProperty(k)||v[k]!==u[k])return!1}return!0}(Ve.params,at.params)){const zn=[],Fi=k.matchStyles(Ve.value,Ve.params,zn),cr=k.matchStyles(at.value,at.params,zn);zn.length?this._engine.reportError(zn):this._engine.afterFlush(()=>{qo(u,Fi),Ni(u,cr)})}return}const Cn=rr(this._engine.playersByElement,u,[]);Cn.forEach(zn=>{zn.namespaceId==this.id&&zn.triggerName==a&&zn.queued&&zn.destroy()});let Vn=k.matchTransition(Ve.value,at.value,u,at.params),Un=!1;if(!Vn){if(!E)return;Vn=k.fallbackTransition,Un=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:a,transition:Vn,fromState:Ve,toState:at,player:K,isFallbackTransition:Un}),Un||(Te(u,na),K.onStart(()=>{Je(u,na)})),K.onDone(()=>{let zn=this.players.indexOf(K);zn>=0&&this.players.splice(zn,1);const Fi=this._engine.playersByElement.get(u);if(Fi){let cr=Fi.indexOf(K);cr>=0&&Fi.splice(cr,1)}}),this.players.push(K),Cn.push(K),K}deregister(u){delete this._triggers[u],this._engine.statesByElement.forEach((a,f)=>{delete a[u]}),this._elementListeners.forEach((a,f)=>{this._elementListeners.set(f,a.filter(E=>E.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const a=this._engine.playersByElement.get(u);a&&(a.forEach(f=>f.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,a){const f=this._engine.driver.query(u,go,!0);f.forEach(E=>{if(E[Ur])return;const k=this._engine.fetchNamespacesByElement(E);k.size?k.forEach(K=>K.triggerLeaveAnimation(E,a,!1,!0)):this.clearElementCache(E)}),this._engine.afterFlushAnimationsDone(()=>f.forEach(E=>this.clearElementCache(E)))}triggerLeaveAnimation(u,a,f,E){const k=this._engine.statesByElement.get(u),K=new Map;if(k){const ye=[];if(Object.keys(k).forEach(Ve=>{if(K.set(Ve,k[Ve].value),this._triggers[Ve]){const at=this.trigger(u,Ve,Ss,E);at&&ye.push(at)}}),ye.length)return this._engine.markElementAsRemoved(this.id,u,!0,a,K),f&&Xr(ye).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const a=this._elementListeners.get(u),f=this._engine.statesByElement.get(u);if(a&&f){const E=new Set;a.forEach(k=>{const K=k.name;if(E.has(K))return;E.add(K);const Ve=this._triggers[K].fallbackTransition,at=f[K]||Ea,kt=new Xa(Ss),dn=new el(this.id,K,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:K,transition:Ve,fromState:at,toState:kt,player:dn,isFallbackTransition:!0})})}}removeNode(u,a){const f=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,a),this.triggerLeaveAnimation(u,a,!0))return;let E=!1;if(f.totalAnimations){const k=f.players.length?f.playersByQueriedElement.get(u):[];if(k&&k.length)E=!0;else{let K=u;for(;K=K.parentNode;)if(f.statesByElement.get(K)){E=!0;break}}}if(this.prepareLeaveAnimationListeners(u),E)f.markElementAsRemoved(this.id,u,!1,a);else{const k=u[Ur];(!k||k===Ls)&&(f.afterFlush(()=>this.clearElementCache(u)),f.destroyInnerAnimations(u),f._onRemovalComplete(u,a))}}insertNode(u,a){Te(u,this._hostClassName)}drainQueuedTransitions(u){const a=[];return this._queue.forEach(f=>{const E=f.player;if(E.destroyed)return;const k=f.element,K=this._elementListeners.get(k);K&&K.forEach(ye=>{if(ye.name==f.triggerName){const Ve=Na(k,f.triggerName,f.fromState.value,f.toState.value);Ve._data=u,pa(f.player,ye.phase,Ve,ye.callback)}}),E.markedForDestroy?this._engine.afterFlush(()=>{E.destroy()}):a.push(f)}),this._queue=[],a.sort((f,E)=>{const k=f.transition.ast.depCount,K=E.transition.ast.depCount;return 0==k||0==K?k-K:this._engine.driver.containsElement(f.element,E.element)?1:-1})}destroy(u){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}elementContainsData(u){let a=!1;return this._elementListeners.has(u)&&(a=!0),a=!!this._queue.find(f=>f.element===u)||a,a}}class fl{constructor(u,a,f){this.bodyNode=u,this.driver=a,this._normalizer=f,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(E,k)=>{}}_onRemovalComplete(u,a){this.onRemovalComplete(u,a)}get queuedPlayers(){const u=[];return this._namespaceList.forEach(a=>{a.players.forEach(f=>{f.queued&&u.push(f)})}),u}createNamespace(u,a){const f=new ia(u,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(f,a):(this.newHostElements.set(a,f),this.collectEnterElement(a)),this._namespaceLookup[u]=f}_balanceNamespaceList(u,a){const f=this._namespaceList,E=this.namespacesByHostElement,k=f.length-1;if(k>=0){let K=!1;if(void 0!==this.driver.getParentElement){let ye=this.driver.getParentElement(a);for(;ye;){const Ve=E.get(ye);if(Ve){const at=f.indexOf(Ve);f.splice(at+1,0,u),K=!0;break}ye=this.driver.getParentElement(ye)}}else for(let ye=k;ye>=0;ye--)if(this.driver.containsElement(f[ye].hostElement,a)){f.splice(ye+1,0,u),K=!0;break}K||f.unshift(u)}else f.push(u);return E.set(a,u),u}register(u,a){let f=this._namespaceLookup[u];return f||(f=this.createNamespace(u,a)),f}registerTrigger(u,a,f){let E=this._namespaceLookup[u];E&&E.register(a,f)&&this.totalAnimations++}destroy(u,a){if(!u)return;const f=this._fetchNamespace(u);this.afterFlush(()=>{this.namespacesByHostElement.delete(f.hostElement),delete this._namespaceLookup[u];const E=this._namespaceList.indexOf(f);E>=0&&this._namespaceList.splice(E,1)}),this.afterFlushAnimationsDone(()=>f.destroy(a))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const a=new Set,f=this.statesByElement.get(u);if(f){const E=Object.keys(f);for(let k=0;k<E.length;k++){const K=f[E[k]].namespaceId;if(K){const ye=this._fetchNamespace(K);ye&&a.add(ye)}}}return a}trigger(u,a,f,E){if(tl(a)){const k=this._fetchNamespace(u);if(k)return k.trigger(a,f,E),!0}return!1}insertNode(u,a,f,E){if(!tl(a))return;const k=a[Ur];if(k&&k.setForRemoval){k.setForRemoval=!1,k.setForMove=!0;const K=this.collectedLeaveElements.indexOf(a);K>=0&&this.collectedLeaveElements.splice(K,1)}if(u){const K=this._fetchNamespace(u);K&&K.insertNode(a,f)}E&&this.collectEnterElement(a)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,a){a?this.disabledNodes.has(u)||(this.disabledNodes.add(u),Te(u,Rr)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),Je(u,Rr))}removeNode(u,a,f,E){if(tl(a)){const k=u?this._fetchNamespace(u):null;if(k?k.removeNode(a,E):this.markElementAsRemoved(u,a,!1,E),f){const K=this.namespacesByHostElement.get(a);K&&K.id!==u&&K.removeNode(a,E)}}else this._onRemovalComplete(a,E)}markElementAsRemoved(u,a,f,E,k){this.collectedLeaveElements.push(a),a[Ur]={namespaceId:u,setForRemoval:E,hasAnimation:f,removedBeforeQueried:!1,previousTriggersValues:k}}listen(u,a,f,E,k){return tl(a)?this._fetchNamespace(u).listen(a,f,E,k):()=>{}}_buildInstruction(u,a,f,E,k){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,f,E,u.fromState.options,u.toState.options,a,k)}destroyInnerAnimations(u){let a=this.driver.query(u,go,!0);a.forEach(f=>this.destroyActiveAnimationsForElement(f)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(u,Wt,!0),a.forEach(f=>this.finishActiveQueriedAnimationOnElement(f)))}destroyActiveAnimationsForElement(u){const a=this.playersByElement.get(u);a&&a.forEach(f=>{f.queued?f.markedForDestroy=!0:f.destroy()})}finishActiveQueriedAnimationOnElement(u){const a=this.playersByQueriedElement.get(u);a&&a.forEach(f=>f.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return Xr(this.players).onDone(()=>u());u()})}processLeaveNode(u){var a;const f=u[Ur];if(f&&f.setForRemoval){if(u[Ur]=Ls,f.namespaceId){this.destroyInnerAnimations(u);const E=this._fetchNamespace(f.namespaceId);E&&E.clearElementCache(u)}this._onRemovalComplete(u,f.setForRemoval)}(null===(a=u.classList)||void 0===a?void 0:a.contains(Rr))&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(E=>{this.markElementAsDisabled(E,!1)})}flush(u=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((f,E)=>this._balanceNamespaceList(f,E)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let f=0;f<this.collectedEnterElements.length;f++)Te(this.collectedEnterElements[f],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const f=[];try{a=this._flushAnimations(f,u)}finally{for(let E=0;E<f.length;E++)f[E]()}}else for(let f=0;f<this.collectedLeaveElements.length;f++)this.processLeaveNode(this.collectedLeaveElements[f]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(f=>f()),this._flushFns=[],this._whenQuietFns.length){const f=this._whenQuietFns;this._whenQuietFns=[],a.length?Xr(a).onDone(()=>{f.forEach(E=>E())}):f.forEach(E=>E())}}reportError(u){throw function Al(v){return new h.vHH(3402,L)}()}_flushAnimations(u,a){const f=new Qo,E=[],k=new Map,K=[],ye=new Map,Ve=new Map,at=new Map,kt=new Set;this.disabledNodes.forEach(On=>{kt.add(On);const Gn=this.driver.query(On,".ng-animate-queued",!0);for(let ti=0;ti<Gn.length;ti++)kt.add(Gn[ti])});const dn=this.bodyNode,Cn=Array.from(this.statesByElement.keys()),Vn=oe(Cn,this.collectedEnterElements),Un=new Map;let zn=0;Vn.forEach((On,Gn)=>{const ti=Oi+zn++;Un.set(Gn,ti),On.forEach(Yi=>Te(Yi,ti))});const Fi=[],cr=new Set,Wr=new Set;for(let On=0;On<this.collectedLeaveElements.length;On++){const Gn=this.collectedLeaveElements[On],ti=Gn[Ur];ti&&ti.setForRemoval&&(Fi.push(Gn),cr.add(Gn),ti.hasAnimation?this.driver.query(Gn,".ng-star-inserted",!0).forEach(Yi=>cr.add(Yi)):Wr.add(Gn))}const Dr=new Map,li=oe(Cn,Array.from(cr));li.forEach((On,Gn)=>{const ti=Ys+zn++;Dr.set(Gn,ti),On.forEach(Yi=>Te(Yi,ti))}),u.push(()=>{Vn.forEach((On,Gn)=>{const ti=Un.get(Gn);On.forEach(Yi=>Je(Yi,ti))}),li.forEach((On,Gn)=>{const ti=Dr.get(Gn);On.forEach(Yi=>Je(Yi,ti))}),Fi.forEach(On=>{this.processLeaveNode(On)})});const hr=[],Br=[];for(let On=this._namespaceList.length-1;On>=0;On--)this._namespaceList[On].drainQueuedTransitions(a).forEach(ti=>{const Yi=ti.player,rs=ti.element;if(hr.push(Yi),this.collectedEnterElements.length){const Bo=rs[Ur];if(Bo&&Bo.setForMove){if(Bo.previousTriggersValues&&Bo.previousTriggersValues.has(ti.triggerName)){const Gl=Bo.previousTriggersValues.get(ti.triggerName),$u=this.statesByElement.get(ti.element);$u&&$u[ti.triggerName]&&($u[ti.triggerName].value=Gl)}return void Yi.destroy()}}const Vo=!dn||!this.driver.containsElement(dn,rs),Uo=Dr.get(rs),wl=Un.get(rs),Zr=this._buildInstruction(ti,f,wl,Uo,Vo);if(Zr.errors&&Zr.errors.length)return void Br.push(Zr);if(Vo)return Yi.onStart(()=>qo(rs,Zr.fromStyles)),Yi.onDestroy(()=>Ni(rs,Zr.toStyles)),void E.push(Yi);if(ti.isFallbackTransition)return Yi.onStart(()=>qo(rs,Zr.fromStyles)),Yi.onDestroy(()=>Ni(rs,Zr.toStyles)),void E.push(Yi);const Lf=[];Zr.timelines.forEach(Bo=>{Bo.stretchStartingKeyframe=!0,this.disabledNodes.has(Bo.element)||Lf.push(Bo)}),Zr.timelines=Lf,f.append(rs,Zr.timelines),K.push({instruction:Zr,player:Yi,element:rs}),Zr.queriedElements.forEach(Bo=>rr(ye,Bo,[]).push(Yi)),Zr.preStyleProps.forEach((Bo,Gl)=>{const $u=Object.keys(Bo);if($u.length){let _c=Ve.get(Gl);_c||Ve.set(Gl,_c=new Set),$u.forEach(hu=>_c.add(hu))}}),Zr.postStyleProps.forEach((Bo,Gl)=>{const $u=Object.keys(Bo);let _c=at.get(Gl);_c||at.set(Gl,_c=new Set),$u.forEach(hu=>_c.add(hu))})});if(Br.length){const On=[];Br.forEach(Gn=>{On.push(function Vr(v,u){return new h.vHH(3505,L)}())}),hr.forEach(Gn=>Gn.destroy()),this.reportError(On)}const kr=new Map,io=new Map;K.forEach(On=>{const Gn=On.element;f.has(Gn)&&(io.set(Gn,Gn),this._beforeAnimationBuild(On.player.namespaceId,On.instruction,kr))}),E.forEach(On=>{const Gn=On.element;this._getPreviousPlayers(Gn,!1,On.namespaceId,On.triggerName,null).forEach(Yi=>{rr(kr,Gn,[]).push(Yi),Yi.destroy()})});const ro=Fi.filter(On=>Xn(On,Ve,at)),al=new Map;B(al,this.driver,Wr,at,Q.l3).forEach(On=>{Xn(On,Ve,at)&&ro.push(On)});const du=new Map;Vn.forEach((On,Gn)=>{B(du,this.driver,new Set(On),Ve,Q.k1)}),ro.forEach(On=>{const Gn=al.get(On),ti=du.get(On);al.set(On,Object.assign(Object.assign({},Gn),ti))});const El=[],Gd=[],zd={};K.forEach(On=>{const{element:Gn,player:ti,instruction:Yi}=On;if(f.has(Gn)){if(kt.has(Gn))return ti.onDestroy(()=>Ni(Gn,Yi.toStyles)),ti.disabled=!0,ti.overrideTotalTime(Yi.totalTime),void E.push(ti);let rs=zd;if(io.size>1){let Uo=Gn;const wl=[];for(;Uo=Uo.parentNode;){const Zr=io.get(Uo);if(Zr){rs=Zr;break}wl.push(Uo)}wl.forEach(Zr=>io.set(Zr,rs))}const Vo=this._buildAnimation(ti.namespaceId,Yi,kr,k,du,al);if(ti.setRealPlayer(Vo),rs===zd)El.push(ti);else{const Uo=this.playersByElement.get(rs);Uo&&Uo.length&&(ti.parentPlayer=Xr(Uo)),E.push(ti)}}else qo(Gn,Yi.fromStyles),ti.onDestroy(()=>Ni(Gn,Yi.toStyles)),Gd.push(ti),kt.has(Gn)&&E.push(ti)}),Gd.forEach(On=>{const Gn=k.get(On.element);if(Gn&&Gn.length){const ti=Xr(Gn);On.setRealPlayer(ti)}}),E.forEach(On=>{On.parentPlayer?On.syncPlayerEvents(On.parentPlayer):On.destroy()});for(let On=0;On<Fi.length;On++){const Gn=Fi[On],ti=Gn[Ur];if(Je(Gn,Ys),ti&&ti.hasAnimation)continue;let Yi=[];if(ye.size){let Vo=ye.get(Gn);Vo&&Vo.length&&Yi.push(...Vo);let Uo=this.driver.query(Gn,Wt,!0);for(let wl=0;wl<Uo.length;wl++){let Zr=ye.get(Uo[wl]);Zr&&Zr.length&&Yi.push(...Zr)}}const rs=Yi.filter(Vo=>!Vo.destroyed);rs.length?yt(this,Gn,rs):this.processLeaveNode(Gn)}return Fi.length=0,El.forEach(On=>{this.players.push(On),On.onDone(()=>{On.destroy();const Gn=this.players.indexOf(On);this.players.splice(Gn,1)}),On.play()}),El}elementContainsData(u,a){let f=!1;const E=a[Ur];return E&&E.setForRemoval&&(f=!0),this.playersByElement.has(a)&&(f=!0),this.playersByQueriedElement.has(a)&&(f=!0),this.statesByElement.has(a)&&(f=!0),this._fetchNamespace(u).elementContainsData(a)||f}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,a,f,E,k){let K=[];if(a){const ye=this.playersByQueriedElement.get(u);ye&&(K=ye)}else{const ye=this.playersByElement.get(u);if(ye){const Ve=!k||k==Ss;ye.forEach(at=>{at.queued||!Ve&&at.triggerName!=E||K.push(at)})}}return(f||E)&&(K=K.filter(ye=>!(f&&f!=ye.namespaceId||E&&E!=ye.triggerName))),K}_beforeAnimationBuild(u,a,f){const k=a.element,K=a.isRemovalTransition?void 0:u,ye=a.isRemovalTransition?void 0:a.triggerName;for(const Ve of a.timelines){const at=Ve.element,kt=at!==k,dn=rr(f,at,[]);this._getPreviousPlayers(at,kt,K,ye,a.toState).forEach(Vn=>{const Un=Vn.getRealPlayer();Un.beforeDestroy&&Un.beforeDestroy(),Vn.destroy(),dn.push(Vn)})}qo(k,a.fromStyles)}_buildAnimation(u,a,f,E,k,K){const ye=a.triggerName,Ve=a.element,at=[],kt=new Set,dn=new Set,Cn=a.timelines.map(Un=>{const zn=Un.element;kt.add(zn);const Fi=zn[Ur];if(Fi&&Fi.removedBeforeQueried)return new Q.ZN(Un.duration,Un.delay);const cr=zn!==Ve,Wr=function Zt(v){const u=[];return en(v,u),u}((f.get(zn)||Iu).map(kr=>kr.getRealPlayer())).filter(kr=>!!kr.element&&kr.element===zn),Dr=k.get(zn),li=K.get(zn),hr=_s(0,this._normalizer,0,Un.keyframes,Dr,li),Br=this._buildPlayer(Un,hr,Wr);if(Un.subTimeline&&E&&dn.add(zn),cr){const kr=new el(u,ye,zn);kr.setRealPlayer(Br),at.push(kr)}return Br});at.forEach(Un=>{rr(this.playersByQueriedElement,Un.element,[]).push(Un),Un.onDone(()=>function wa(v,u,a){let f;if(v instanceof Map){if(f=v.get(u),f){if(f.length){const E=f.indexOf(a);f.splice(E,1)}0==f.length&&v.delete(u)}}else if(f=v[u],f){if(f.length){const E=f.indexOf(a);f.splice(E,1)}0==f.length&&delete v[u]}return f}(this.playersByQueriedElement,Un.element,Un))}),kt.forEach(Un=>Te(Un,Es));const Vn=Xr(Cn);return Vn.onDestroy(()=>{kt.forEach(Un=>Je(Un,Es)),Ni(Ve,a.toStyles)}),dn.forEach(Un=>{rr(E,Un,[]).push(Vn)}),Vn}_buildPlayer(u,a,f){return a.length>0?this.driver.animate(u.element,a,u.duration,u.delay,u.easing,f):new Q.ZN(u.duration,u.delay)}}class el{constructor(u,a,f){this.namespaceId=u,this.triggerName=a,this.element=f,this._player=new Q.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,Object.keys(this._queuedCallbacks).forEach(a=>{this._queuedCallbacks[a].forEach(f=>pa(u,a,void 0,f))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const a=this._player;a.triggerCallback&&u.onStart(()=>a.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,a){rr(this._queuedCallbacks,u,[]).push(a)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const a=this._player;a.triggerCallback&&a.triggerCallback(u)}}function tl(v){return v&&1===v.nodeType}function R(v,u){const a=v.style.display;return v.style.display=null!=u?u:"none",a}function B(v,u,a,f,E){const k=[];a.forEach(Ve=>k.push(R(Ve)));const K=[];f.forEach((Ve,at)=>{const kt={};Ve.forEach(dn=>{const Cn=kt[dn]=u.computeStyle(at,dn,E);(!Cn||0==Cn.length)&&(at[Ur]=eu,K.push(at))}),v.set(at,kt)});let ye=0;return a.forEach(Ve=>R(Ve,k[ye++])),K}function oe(v,u){const a=new Map;if(v.forEach(ye=>a.set(ye,[])),0==u.length)return a;const E=new Set(u),k=new Map;function K(ye){if(!ye)return 1;let Ve=k.get(ye);if(Ve)return Ve;const at=ye.parentNode;return Ve=a.has(at)?at:E.has(at)?1:K(at),k.set(ye,Ve),Ve}return u.forEach(ye=>{const Ve=K(ye);1!==Ve&&a.get(Ve).push(ye)}),a}function Te(v,u){var a;null===(a=v.classList)||void 0===a||a.add(u)}function Je(v,u){var a;null===(a=v.classList)||void 0===a||a.remove(u)}function yt(v,u,a){Xr(a).onDone(()=>v.processLeaveNode(u))}function en(v,u){for(let a=0;a<v.length;a++){const f=v[a];f instanceof Q.ZE?en(f.players,u):u.push(f)}}function Xn(v,u,a){const f=a.get(v);if(!f)return!1;let E=u.get(v);return E?f.forEach(k=>E.add(k)):u.set(v,f),a.delete(v),!0}class $n{constructor(u,a,f){this.bodyNode=u,this._driver=a,this._normalizer=f,this._triggerCache={},this.onRemovalComplete=(E,k)=>{},this._transitionEngine=new fl(u,a,f),this._timelineEngine=new Du(u,a,f),this._transitionEngine.onRemovalComplete=(E,k)=>this.onRemovalComplete(E,k)}registerTrigger(u,a,f,E,k){const K=u+"-"+E;let ye=this._triggerCache[K];if(!ye){const Ve=[],kt=tr(this._driver,k,Ve,[]);if(Ve.length)throw function oi(v,u){return new h.vHH(3404,L)}();ye=function ea(v,u,a){return new Qa(v,u,a)}(E,kt,this._normalizer),this._triggerCache[K]=ye}this._transitionEngine.registerTrigger(a,E,ye)}register(u,a){this._transitionEngine.register(u,a)}destroy(u,a){this._transitionEngine.destroy(u,a)}onInsert(u,a,f,E){this._transitionEngine.insertNode(u,a,f,E)}onRemove(u,a,f,E){this._transitionEngine.removeNode(u,a,E||!1,f)}disableAnimations(u,a){this._transitionEngine.markElementAsDisabled(u,a)}process(u,a,f,E){if("@"==f.charAt(0)){const[k,K]=za(f);this._timelineEngine.command(k,a,K,E)}else this._transitionEngine.trigger(u,a,f,E)}listen(u,a,f,E,k){if("@"==f.charAt(0)){const[K,ye]=za(f);return this._timelineEngine.listen(K,a,ye,k)}return this._transitionEngine.listen(u,a,f,E,k)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Gr=(()=>{class v{constructor(a,f,E){this._element=a,this._startStyles=f,this._endStyles=E,this._state=0;let k=v.initialStylesByElement.get(a);k||v.initialStylesByElement.set(a,k={}),this._initialStyles=k}start(){this._state<1&&(this._startStyles&&Ni(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ni(this._element,this._initialStyles),this._endStyles&&(Ni(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(v.initialStylesByElement.delete(this._element),this._startStyles&&(qo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qo(this._element,this._endStyles),this._endStyles=null),Ni(this._element,this._initialStyles),this._state=3)}}return v.initialStylesByElement=new WeakMap,v})();function ki(v){let u=null;const a=Object.keys(v);for(let f=0;f<a.length;f++){const E=a[f];pl(E)&&(u=u||{},u[E]=v[E])}return u}function pl(v){return"display"===v||"position"===v}class ra{constructor(u,a,f,E){this.element=u,this.keyframes=a,this.options=f,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=f.duration,this._delay=f.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(u,a,f){return u.animate(a,f)}onStart(u){this._onStartFns.push(u)}onDone(u){this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u={};if(this.hasStarted()){const a=this._finalKeyframe;Object.keys(a).forEach(f=>{"offset"!=f&&(u[f]=this._finished?a[f]:ya(this.element,f))})}this.currentSnapshot=u}triggerCallback(u){const a="start"==u?this._onStartFns:this._onDoneFns;a.forEach(f=>f()),a.length=0}}class yo{validateStyleProperty(u){return Sl(u)}matchesElement(u,a){return!1}containsElement(u,a){return po(u,a)}getParentElement(u){return fo(u)}query(u,a,f){return ql(u,a,f)}computeStyle(u,a,f){return window.getComputedStyle(u)[a]}animate(u,a,f,E,k,K=[]){const Ve={duration:f,delay:E,fill:0==E?"both":"forwards"};k&&(Ve.easing=k);const at={},kt=K.filter(Cn=>Cn instanceof ra);(function Hi(v,u){return 0===v||0===u})(f,E)&&kt.forEach(Cn=>{let Vn=Cn.currentSnapshot;Object.keys(Vn).forEach(Un=>at[Un]=Vn[Un])}),a=function Zn(v,u,a){const f=Object.keys(a);if(f.length&&u.length){let k=u[0],K=[];if(f.forEach(ye=>{k.hasOwnProperty(ye)||K.push(ye),k[ye]=a[ye]}),K.length)for(var E=1;E<u.length;E++){let ye=u[E];K.forEach(function(Ve){ye[Ve]=ya(v,Ve)})}}return u}(u,a=a.map(Cn=>rn(Cn,!1)),at);const dn=function kn(v,u){let a=null,f=null;return Array.isArray(u)&&u.length?(a=ki(u[0]),u.length>1&&(f=ki(u[u.length-1]))):u&&(a=ki(u)),a||f?new Gr(v,a,f):null}(u,a);return new ra(u,a,Ve,dn)}}let Au=(()=>{class v extends Q._j{constructor(a,f){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(f.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(a){const f=this._nextAnimationId.toString();this._nextAnimationId++;const E=Array.isArray(a)?(0,Q.vP)(a):a;return sa(this._renderer,null,f,"register",[E]),new Va(f,this._renderer)}}return v.\u0275fac=function(a){return new(a||v)(h.LFG(h.FYo),h.LFG(ct.K0))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})();class Va extends Q.LC{constructor(u,a){super(),this._id=u,this._renderer=a}create(u,a){return new gl(this._id,u,a||{},this._renderer)}}class gl{constructor(u,a,f,E){this.id=u,this.element=a,this._renderer=E,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",f)}_listen(u,a){return this._renderer.listen(this.element,`@@${this.id}:${u}`,a)}_command(u,...a){return sa(this._renderer,this.element,this.id,u,a)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){var u,a;return null!==(a=null===(u=this._renderer.engine.players[+this.id])||void 0===u?void 0:u.getPosition())&&void 0!==a?a:0}}function sa(v,u,a,f,E){return v.setProperty(u,`@@${a}:${f}`,E)}const Fs="@.disabled";let nl=(()=>{class v{constructor(a,f,E){this.delegate=a,this.engine=f,this._zone=E,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),f.onRemovalComplete=(k,K)=>{const ye=null==K?void 0:K.parentNode(k);ye&&K.removeChild(ye,k)}}createRenderer(a,f){const k=this.delegate.createRenderer(a,f);if(!(a&&f&&f.data&&f.data.animation)){let kt=this._rendererCache.get(k);return kt||(kt=new dd("",k,this.engine),this._rendererCache.set(k,kt)),kt}const K=f.id,ye=f.id+"-"+this._currentId;this._currentId++,this.engine.register(ye,a);const Ve=kt=>{Array.isArray(kt)?kt.forEach(Ve):this.engine.registerTrigger(K,ye,a,kt.name,kt)};return f.data.animation.forEach(Ve),new hd(this,ye,k,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(a,f,E){a>=0&&a<this._microtaskId?this._zone.run(()=>f(E)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(k=>{const[K,ye]=k;K(ye)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([f,E]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return v.\u0275fac=function(a){return new(a||v)(h.LFG(h.FYo),h.LFG($n),h.LFG(h.R0b))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})();class dd{constructor(u,a,f){this.namespaceId=u,this.delegate=a,this.engine=f,this.destroyNode=this.delegate.destroyNode?E=>a.destroyNode(E):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(u,a){return this.delegate.createElement(u,a)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,a){this.delegate.appendChild(u,a),this.engine.onInsert(this.namespaceId,a,u,!1)}insertBefore(u,a,f,E=!0){this.delegate.insertBefore(u,a,f),this.engine.onInsert(this.namespaceId,a,u,E)}removeChild(u,a,f){this.engine.onRemove(this.namespaceId,a,this.delegate,f)}selectRootElement(u,a){return this.delegate.selectRootElement(u,a)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,a,f,E){this.delegate.setAttribute(u,a,f,E)}removeAttribute(u,a,f){this.delegate.removeAttribute(u,a,f)}addClass(u,a){this.delegate.addClass(u,a)}removeClass(u,a){this.delegate.removeClass(u,a)}setStyle(u,a,f,E){this.delegate.setStyle(u,a,f,E)}removeStyle(u,a,f){this.delegate.removeStyle(u,a,f)}setProperty(u,a,f){"@"==a.charAt(0)&&a==Fs?this.disableAnimations(u,!!f):this.delegate.setProperty(u,a,f)}setValue(u,a){this.delegate.setValue(u,a)}listen(u,a,f){return this.delegate.listen(u,a,f)}disableAnimations(u,a){this.engine.disableAnimations(u,a)}}class hd extends dd{constructor(u,a,f,E){super(a,f,E),this.factory=u,this.namespaceId=a}setProperty(u,a,f){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Fs?this.disableAnimations(u,f=void 0===f||!!f):this.engine.process(this.namespaceId,u,a.substr(1),f):this.delegate.setProperty(u,a,f)}listen(u,a,f){if("@"==a.charAt(0)){const E=function Pl(v){switch(v){case"body":return document.body;case"document":return document;case"window":return window;default:return v}}(u);let k=a.substr(1),K="";return"@"!=k.charAt(0)&&([k,K]=function to(v){const u=v.indexOf(".");return[v.substring(0,u),v.substr(u+1)]}(k)),this.engine.listen(this.namespaceId,E,k,K,ye=>{this.factory.scheduleListenerCallback(ye._data||-1,f,ye)})}return this.delegate.listen(u,a,f)}}let fd=(()=>{class v extends $n{constructor(a,f,E){super(a.body,f,E)}ngOnDestroy(){this.flush()}}return v.\u0275fac=function(a){return new(a||v)(h.LFG(ct.K0),h.LFG(Io),h.LFG(Ns))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})();const Ju=new h.OlP("AnimationModuleType"),tu=[{provide:Q._j,useClass:Au},{provide:Ns,useFactory:function Su(){return new wr}},{provide:$n,useClass:fd},{provide:h.FYo,useFactory:function Qu(v,u,a){return new nl(v,u,a)},deps:[g.se,$n,h.R0b]}],Xu=[{provide:Io,useFactory:()=>new yo},{provide:Ju,useValue:"BrowserAnimations"},...tu],nu=[{provide:Io,useClass:ts},{provide:Ju,useValue:"NoopAnimations"},...tu];let no=(()=>{class v{static withConfig(a){return{ngModule:v,providers:a.disableAnimations?nu:Xu}}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=h.oAB({type:v}),v.\u0275inj=h.cJS({providers:Xu,imports:[g.b2]}),v})();var ml=x(8968),ns=x(4004);let Ic=(()=>{class v{constructor(a,f){this.toastr=a,this.router=f}intercept(a,f){return f.handle(a).pipe((0,ns.U)(E=>{let k=null==E?void 0:E.body;return 0==(null==k?void 0:k.code)&&(null==k?void 0:k.message)?this.toastr.error(null==k?void 0:k.message,"",{timeOut:7e3}):3==(null==k?void 0:k.code)&&("ar"==localStorage.getItem("lang")?this.toastr.error("\u064a\u062c\u0628 \u0639\u0644\u064a\u0643  \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0645\u0624\u0629 \u0627\u062e\u0631\u064a","",{timeOut:7e3}):this.toastr.error("You Have To Login Again","",{timeOut:7e3}),localStorage.removeItem("joinToken"),this.router.navigate(["/auth/login"])),E}))}}return v.\u0275fac=function(a){return new(a||v)(h.LFG(ml._W),h.LFG(W.F0))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac}),v})();var Po=x(2011),Ac=x(7579),Ua=x(9646),xu=x(8306),yl=x(8996),Sc=x(6451),ru=x(5363),Ts=x(3900),pd=x(3151),ah=x(590),gd=x(576);function Rl(v,u){return(0,gd.m)(u)?(0,Ts.w)(()=>v,u):(0,Ts.w)(()=>v)}var Ca=x(9468),oa=x(9300),qi=x(6351);x(5867);var A=x(5861),J=x(9681),pe=x(4859),rt=x(2090),Kt=x(1877);const nn=new Map,sn={activated:!1,tokenObservers:[]},ai={initialized:!1,enabled:!1};function mi(v){return nn.get(v)||Object.assign({},sn)}function aa(){return ai}class Ll{constructor(u,a,f,E,k){if(this.operation=u,this.retryPolicy=a,this.getWaitDuration=f,this.lowerBound=E,this.upperBound=k,this.pending=null,this.nextErrorWaitInterval=E,E>k)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(u){var a=this;return(0,A.Z)(function*(){a.stop();try{a.pending=new rt.BH,yield function sc(v){return new Promise(u=>{setTimeout(u,v)})}(a.getNextRun(u)),a.pending.resolve(),yield a.pending.promise,a.pending=new rt.BH,yield a.operation(),a.pending.resolve(),yield a.pending.promise,a.process(!0).catch(()=>{})}catch(f){a.retryPolicy(f)?a.process(!1).catch(()=>{}):a.stop()}})()}getNextRun(u){if(u)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const a=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),a}}}const gn=new rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Fl(v){if(!mi(v).activated)throw gn.create("use-before-activation",{appName:v.name})}function oc(v,u){return vd.apply(this,arguments)}function vd(){return vd=(0,A.Z)(function*({url:v,body:u},a){var f,E;const k={"Content-Type":"application/json"},K=a.getImmediate({optional:!0});if(K){const Vn=yield K.getHeartbeatsHeader();Vn&&(k["X-Firebase-Client"]=Vn)}const ye={method:"POST",body:JSON.stringify(u),headers:k};let Ve,at;try{Ve=yield fetch(v,ye)}catch(Vn){throw gn.create("fetch-network-error",{originalErrorMessage:null===(f=Vn)||void 0===f?void 0:f.message})}if(200!==Ve.status)throw gn.create("fetch-status-error",{httpStatus:Ve.status});try{at=yield Ve.json()}catch(Vn){throw gn.create("fetch-parse-error",{originalErrorMessage:null===(E=Vn)||void 0===E?void 0:E.message})}const kt=at.ttl.match(/^([\d.]+)(s)$/);if(!kt||!kt[2]||isNaN(Number(kt[1])))throw gn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${at.ttl}`});const dn=1e3*Number(kt[1]),Cn=Date.now();return{token:at.token,expireTimeMillis:Cn+dn,issuedAtTimeMillis:Cn}}),vd.apply(this,arguments)}function hp(v,u){const{projectId:a,appId:f,apiKey:E}=v.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${a}/apps/${f}:exchangeDebugToken?key=${E}`,body:{debug_token:u}}}const Ul="firebase-app-check-store";let ac=null;function Ru(){return ac||(ac=new Promise((v,u)=>{var a;try{const f=indexedDB.open("firebase-app-check-database",1);f.onsuccess=E=>{v(E.target.result)},f.onerror=E=>{var k;u(gn.create("storage-open",{originalErrorMessage:null===(k=E.target.error)||void 0===k?void 0:k.message}))},f.onupgradeneeded=E=>{0===E.oldVersion&&E.target.result.createObjectStore(Ul,{keyPath:"compositeKey"})}}catch(f){u(gn.create("storage-open",{originalErrorMessage:null===(a=f)||void 0===a?void 0:a.message}))}}),ac)}function Nu(){return Nu=(0,A.Z)(function*(v,u){const f=(yield Ru()).transaction(Ul,"readwrite"),k=f.objectStore(Ul).put({compositeKey:v,value:u});return new Promise((K,ye)=>{k.onsuccess=Ve=>{K()},f.onerror=Ve=>{var at;ye(gn.create("storage-set",{originalErrorMessage:null===(at=Ve.target.error)||void 0===at?void 0:at.message}))}})}),Nu.apply(this,arguments)}const Bl=new Kt.Yd("@firebase/app-check");function Ed(v,u){return(0,rt.hl)()?function _o(v,u){return function dh(v,u){return Nu.apply(this,arguments)}(function _d(v){return`${v.options.appId}-${v.name}`}(v),u)}(v,u).catch(a=>{Bl.warn(`Failed to write token to IndexedDB. Error: ${a}`)}):Promise.resolve()}function lc(){return aa().enabled}function uc(){return gh.apply(this,arguments)}function gh(){return gh=(0,A.Z)(function*(){const v=aa();if(v.enabled&&v.token)return v.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),gh.apply(this,arguments)}const cc={error:"UNKNOWN_ERROR"};function Ef(v){return rt.US.encodeString(JSON.stringify(v),!1)}function wd(v){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,A.Z)(function*(v,u=!1){const a=v.app;Fl(a);const f=mi(a);let k,E=f.token;if(E&&!hc(E)&&(f.token=void 0,E=void 0),!E){const Ve=yield f.cachedTokenPromise;Ve&&(hc(Ve)?E=Ve:yield Ed(a,void 0))}if(!u&&E&&hc(E))return{token:E.token};let ye,K=!1;if(lc()){f.exchangeTokenPromise||(f.exchangeTokenPromise=oc(hp(a,yield uc()),v.heartbeatServiceProvider).finally(()=>{f.exchangeTokenPromise=void 0}),K=!0);const Ve=yield f.exchangeTokenPromise;return yield Ed(a,Ve),f.token=Ve,{token:Ve.token}}try{f.exchangeTokenPromise||(f.exchangeTokenPromise=f.provider.getToken().finally(()=>{f.exchangeTokenPromise=void 0}),K=!0),E=yield mi(a).exchangeTokenPromise}catch(Ve){"appCheck/throttled"===Ve.code?Bl.warn(Ve.message):Bl.error(Ve),k=Ve}return E?k?ye=hc(E)?{token:E.token,internalError:k}:Cf(k):(ye={token:E.token},f.token=E,yield Ed(a,E)):ye=Cf(k),K&&wf(a,ye),ye}),Cd.apply(this,arguments)}function yh(v,u){const a=mi(v),f=a.tokenObservers.filter(E=>E.next!==u);0===f.length&&a.tokenRefresher&&a.tokenRefresher.isRunning()&&a.tokenRefresher.stop(),a.tokenObservers=f}function su(v){const{app:u}=v,a=mi(u);let f=a.tokenRefresher;f||(f=function dc(v){const{app:u}=v;return new Ll((0,A.Z)(function*(){let f;if(f=mi(u).token?yield wd(v,!0):yield wd(v),f.error)throw f.error;if(f.internalError)throw f.internalError}),()=>!0,()=>{const a=mi(u);if(a.token){let f=a.token.issuedAtTimeMillis+.5*(a.token.expireTimeMillis-a.token.issuedAtTimeMillis)+3e5;return f=Math.min(f,a.token.expireTimeMillis-3e5),Math.max(0,f-Date.now())}return 0},3e4,96e4)}(v),a.tokenRefresher=f),!f.isRunning()&&a.isTokenAutoRefreshEnabled&&f.start()}function wf(v,u){const a=mi(v).tokenObservers;for(const f of a)try{"EXTERNAL"===f.type&&null!=u.error?f.error(u.error):f.next(u)}catch(E){}}function hc(v){return v.expireTimeMillis-Date.now()>0}function Cf(v){return{token:Ef(cc),error:v}}class Tf{constructor(u,a){this.app=u,this.heartbeatServiceProvider=a}_delete(){const{tokenObservers:u}=mi(this.app);for(const a of u)yh(this.app,a.next);return Promise.resolve()}}const Sd="app-check-internal";!function Us(){(0,J._registerComponent)(new pe.wA("app-check",v=>function bo(v,u){return new Tf(v,u)}(v.getProvider("app").getImmediate(),v.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,u,a)=>{v.getProvider(Sd).initialize()})),(0,J._registerComponent)(new pe.wA(Sd,v=>function gp(v){return{getToken:u=>wd(v,u),addTokenListener:u=>function mh(v,u,a,f){const{app:E}=v,k=mi(E);if(k.tokenObservers=[...k.tokenObservers,{next:a,error:f,type:u}],k.token&&hc(k.token)){const ye=k.token;Promise.resolve().then(()=>{a({token:ye.token}),su(v)}).catch(()=>{})}k.cachedTokenPromise.then(()=>su(v))}(v,"INTERNAL",u),removeTokenListener:u=>yh(v.app,u)}}(v.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)("@firebase/app-check","0.5.17")}();class Vc{constructor(){return(0,qi.vb)("app-check")}}"undefined"!=typeof window&&window;var Pd=x(127);const Fu=new h.OlP("angularfire2.auth.use-emulator"),Vu=new h.OlP("angularfire2.auth.settings"),ol=new h.OlP("angularfire2.auth.tenant-id"),Uc=new h.OlP("angularfire2.auth.langugage-code"),Rd=new h.OlP("angularfire2.auth.use-device-language"),Nd=new h.OlP("angularfire.auth.persistence"),xh=(v,u,a,f,E,k,K,ye)=>(0,Po.cc)(`${v.name}.auth`,"AngularFireAuth",v.name,()=>{const Ve=u.runOutsideAngular(()=>v.auth());if(a&&Ve.useEmulator(...a),f&&(Ve.tenantId=f),Ve.languageCode=E,k&&Ve.useDeviceLanguage(),K)for(const[at,kt]of Object.entries(K))Ve.settings[at]=kt;return ye&&Ve.setPersistence(ye),Ve},[a,f,E,k,K,ye]);let Bc=(()=>{class v{constructor(a,f,E,k,K,ye,Ve,at,kt,dn,Cn,Vn){const Un=new Ac.x,zn=(0,Ua.of)(void 0).pipe((0,ru.Q)(K.outsideAngular),(0,Ts.w)(()=>k.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,5881)))),(0,ns.U)(()=>(0,Po.on)(a,k,f)),(0,ns.U)(Fi=>xh(Fi,k,ye,at,kt,dn,Ve,Cn)),(0,pd.d)({bufferSize:1,refCount:!1}));if((0,ct.PM)(E))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ua.of)(null);else{zn.pipe((0,ah.P)()).subscribe();const cr=zn.pipe((0,Ts.w)(li=>li.getRedirectResult().then(hr=>hr,()=>null)),qi.iC,(0,pd.d)({bufferSize:1,refCount:!1})),Wr=zn.pipe((0,Ts.w)(li=>new xu.y(hr=>({unsubscribe:k.runOutsideAngular(()=>li.onAuthStateChanged(Br=>hr.next(Br),Br=>hr.error(Br),()=>hr.complete()))})))),Dr=zn.pipe((0,Ts.w)(li=>new xu.y(hr=>({unsubscribe:k.runOutsideAngular(()=>li.onIdTokenChanged(Br=>hr.next(Br),Br=>hr.error(Br),()=>hr.complete()))}))));this.authState=cr.pipe(Rl(Wr),(0,Ca.R)(K.outsideAngular),(0,ru.Q)(K.insideAngular)),this.user=cr.pipe(Rl(Dr),(0,Ca.R)(K.outsideAngular),(0,ru.Q)(K.insideAngular)),this.idToken=this.user.pipe((0,Ts.w)(li=>li?(0,yl.D)(li.getIdToken()):(0,Ua.of)(null))),this.idTokenResult=this.user.pipe((0,Ts.w)(li=>li?(0,yl.D)(li.getIdTokenResult()):(0,Ua.of)(null))),this.credential=(0,Sc.T)(cr,Un,this.authState.pipe((0,oa.h)(li=>!li))).pipe((0,ns.U)(li=>(null==li?void 0:li.user)?li:null),(0,Ca.R)(K.outsideAngular),(0,ru.Q)(K.insideAngular))}return(0,Po.pX)(this,zn,k,{spy:{apply:(Fi,cr,Wr)=>{(Fi.startsWith("signIn")||Fi.startsWith("createUser"))&&Wr.then(Dr=>Un.next(Dr))}}})}}return v.\u0275fac=function(a){return new(a||v)(h.LFG(Po.Dh),h.LFG(Po.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(qi.HU),h.LFG(Fu,8),h.LFG(Vu,8),h.LFG(ol,8),h.LFG(Uc,8),h.LFG(Rd,8),h.LFG(Nd,8),h.LFG(Vc,8))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),Hl=(()=>{class v{constructor(){Pd.Z.registerVersion("angularfire",qi.q4.full,"auth-compat")}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=h.oAB({type:v}),v.\u0275inj=h.cJS({providers:[Bc]}),v})();var Uu=x(4986),_l=x(8675),xf=x(4482),Cp=x(5403);function kd(){return(0,xf.e)((v,u)=>{let a,f=!1;v.subscribe((0,Cp.x)(u,E=>{const k=a;a=E,f&&u.next([k,E]),f=!0}))})}var Bu=x(5026),Hc=x(1884),Oh=(x(5881),x(3942)),tn=x(5525);function Ld(v,u){if(void 0===u)return{merge:!1};if(void 0!==u.mergeFields&&void 0!==u.merge)throw new tn.WA("invalid-argument",`Invalid options passed to function ${v}(): You cannot specify both "merge" and "mergeFields".`);return u}function Ta(){if("undefined"==typeof Uint8Array)throw new tn.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ko(){if(!(0,tn.Me)())throw new tn.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Hu{constructor(u){this._delegate=u}static fromBase64String(u){return ko(),new Hu(tn.Jj.fromBase64String(u))}static fromUint8Array(u){return Ta(),new Hu(tn.Jj.fromUint8Array(u))}toBase64(){return ko(),this._delegate.toBase64()}toUint8Array(){return Ta(),this._delegate.toUint8Array()}isEqual(u){return this._delegate.isEqual(u._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gc(v){return function Fd(v,u){if("object"!=typeof v||null===v)return!1;const a=v;for(const f of u)if(f in a&&"function"==typeof a[f])return!0;return!1}(v,["next","error","complete"])}class Of{enableIndexedDbPersistence(u,a){return(0,tn.ST)(u._delegate,{forceOwnership:a})}enableMultiTabIndexedDbPersistence(u){return(0,tn.fH)(u._delegate)}clearIndexedDbPersistence(u){return(0,tn.Fc)(u._delegate)}}class jl{constructor(u,a,f){this._delegate=a,this._persistenceProvider=f,this.INTERNAL={delete:()=>this.terminate()},u instanceof tn.l7||(this._appCompat=u)}get _databaseId(){return this._delegate._databaseId}settings(u){const a=this._delegate._getSettings();!u.merge&&a.host!==u.host&&(0,tn.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),u.merge&&delete(u=Object.assign(Object.assign({},a),u)).merge,this._delegate._setSettings(u)}useEmulator(u,a,f={}){(0,tn.at)(this._delegate,u,a,f)}enableNetwork(){return(0,tn.Ix)(this._delegate)}disableNetwork(){return(0,tn.TF)(this._delegate)}enablePersistence(u){let a=!1,f=!1;return u&&(a=!!u.synchronizeTabs,f=!!u.experimentalForceOwningTab,(0,tn.Wi)("synchronizeTabs",a,"experimentalForceOwningTab",f)),a?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,f)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,tn.Mx)(this._delegate)}onSnapshotsInSync(u){return(0,tn.sc)(this._delegate,u)}get app(){if(!this._appCompat)throw new tn.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(u){try{return new uu(this,(0,tn.hJ)(this._delegate,u))}catch(a){throw zr(a,"collection()","Firestore.collection()")}}doc(u){try{return new la(this,(0,tn.JU)(this._delegate,u))}catch(a){throw zr(a,"doc()","Firestore.doc()")}}collectionGroup(u){try{return new Fo(this,(0,tn.B$)(this._delegate,u))}catch(a){throw zr(a,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(u){return(0,tn.i3)(this._delegate,a=>u(new lu(this,a)))}batch(){return(0,tn.qY)(this._delegate),new Pf(new tn.PU(this._delegate,u=>(0,tn.GL)(this._delegate,u)))}loadBundle(u){return(0,tn.Pb)(this._delegate,u)}namedQuery(u){return(0,tn.L$)(this._delegate,u).then(a=>a?new Fo(this,a):null)}}class bl extends tn.u7{constructor(u){super(),this.firestore=u}convertBytes(u){return new Hu(new tn.Jj(u))}convertReference(u){const a=this.convertDocumentKey(u,this.firestore._databaseId);return la.forKey(a,this.firestore,null)}}class lu{constructor(u,a){this._firestore=u,this._delegate=a,this._userDataWriter=new bl(u)}get(u){const a=$l(u);return this._delegate.get(a).then(f=>new Lo(this._firestore,new tn.xU(this._firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,a.converter)))}set(u,a,f){const E=$l(u);return f?(Ld("Transaction.set",f),this._delegate.set(E,a,f)):this._delegate.set(E,a),this}update(u,a,f,...E){const k=$l(u);return 2===arguments.length?this._delegate.update(k,a):this._delegate.update(k,a,f,...E),this}delete(u){const a=$l(u);return this._delegate.delete(a),this}}class Pf{constructor(u){this._delegate=u}set(u,a,f){const E=$l(u);return f?(Ld("WriteBatch.set",f),this._delegate.set(E,a,f)):this._delegate.set(E,a),this}update(u,a,f,...E){const k=$l(u);return 2===arguments.length?this._delegate.update(k,a):this._delegate.update(k,a,f,...E),this}delete(u){const a=$l(u);return this._delegate.delete(a),this}commit(){return this._delegate.commit()}}class Bn{constructor(u,a,f){this._firestore=u,this._userDataWriter=a,this._delegate=f}fromFirestore(u,a){const f=new tn.$q(this._firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,null);return this._delegate.fromFirestore(new mc(this._firestore,f),null!=a?a:{})}toFirestore(u,a){return a?this._delegate.toFirestore(u,a):this._delegate.toFirestore(u)}static getInstance(u,a){const f=Bn.INSTANCES;let E=f.get(u);E||(E=new WeakMap,f.set(u,E));let k=E.get(a);return k||(k=new Bn(u,new bl(u),a),E.set(a,k)),k}}Bn.INSTANCES=new WeakMap;class la{constructor(u,a){this.firestore=u,this._delegate=a,this._userDataWriter=new bl(u)}static forPath(u,a,f){if(u.length%2!=0)throw new tn.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${u.canonicalString()} has ${u.length}`);return new la(a,new tn.my(a._delegate,f,new tn.Ky(u)))}static forKey(u,a,f){return new la(a,new tn.my(a._delegate,f,u))}get id(){return this._delegate.id}get parent(){return new uu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(u){try{return new uu(this.firestore,(0,tn.hJ)(this._delegate,u))}catch(a){throw zr(a,"collection()","DocumentReference.collection()")}}isEqual(u){return(u=(0,rt.m9)(u))instanceof tn.my&&(0,tn.Eo)(this._delegate,u)}set(u,a){a=Ld("DocumentReference.set",a);try{return a?(0,tn.pl)(this._delegate,u,a):(0,tn.pl)(this._delegate,u)}catch(f){throw zr(f,"setDoc()","DocumentReference.set()")}}update(u,a,...f){try{return 1===arguments.length?(0,tn.r7)(this._delegate,u):(0,tn.r7)(this._delegate,u,a,...f)}catch(E){throw zr(E,"updateDoc()","DocumentReference.update()")}}delete(){return(0,tn.oe)(this._delegate)}onSnapshot(...u){const a=Vd(u),f=Gc(u,E=>new Lo(this.firestore,new tn.xU(this.firestore._delegate,this._userDataWriter,E._key,E._document,E.metadata,this._delegate.converter)));return(0,tn.cf)(this._delegate,a,f)}get(u){let a;return a="cache"===(null==u?void 0:u.source)?(0,tn.kl)(this._delegate):"server"===(null==u?void 0:u.source)?(0,tn.Xk)(this._delegate):(0,tn.QT)(this._delegate),a.then(f=>new Lo(this.firestore,new tn.xU(this.firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,this._delegate.converter)))}withConverter(u){return new la(this.firestore,this._delegate.withConverter(u?Bn.getInstance(this.firestore,u):null))}}function zr(v,u,a){return v.message=v.message.replace(u,a),v}function Vd(v){for(const u of v)if("object"==typeof u&&!gc(u))return u;return{}}function Gc(v,u){var a,f;let E;return E=gc(v[0])?v[0]:gc(v[1])?v[1]:"function"==typeof v[0]?{next:v[0],error:v[1],complete:v[2]}:{next:v[1],error:v[2],complete:v[3]},{next:k=>{E.next&&E.next(u(k))},error:null===(a=E.error)||void 0===a?void 0:a.bind(E),complete:null===(f=E.complete)||void 0===f?void 0:f.bind(E)}}class Lo{constructor(u,a){this._firestore=u,this._delegate=a}get ref(){return new la(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(u){return this._delegate.data(u)}get(u,a){return this._delegate.get(u,a)}isEqual(u){return(0,tn.qK)(this._delegate,u._delegate)}}class mc extends Lo{data(u){const a=this._delegate.data(u);return(0,tn.K9)(void 0!==a,"Document in a QueryDocumentSnapshot should exist"),a}}class Fo{constructor(u,a){this.firestore=u,this._delegate=a,this._userDataWriter=new bl(u)}where(u,a,f){try{return new Fo(this.firestore,(0,tn.IO)(this._delegate,(0,tn.ar)(u,a,f)))}catch(E){throw zr(E,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(u,a){try{return new Fo(this.firestore,(0,tn.IO)(this._delegate,(0,tn.Xo)(u,a)))}catch(f){throw zr(f,/(orderBy|where)\(\)/,"Query.$1()")}}limit(u){try{return new Fo(this.firestore,(0,tn.IO)(this._delegate,(0,tn.b9)(u)))}catch(a){throw zr(a,"limit()","Query.limit()")}}limitToLast(u){try{return new Fo(this.firestore,(0,tn.IO)(this._delegate,(0,tn.vh)(u)))}catch(a){throw zr(a,"limitToLast()","Query.limitToLast()")}}startAt(...u){try{return new Fo(this.firestore,(0,tn.IO)(this._delegate,(0,tn.e0)(...u)))}catch(a){throw zr(a,"startAt()","Query.startAt()")}}startAfter(...u){try{return new Fo(this.firestore,(0,tn.IO)(this._delegate,(0,tn.TQ)(...u)))}catch(a){throw zr(a,"startAfter()","Query.startAfter()")}}endBefore(...u){try{return new Fo(this.firestore,(0,tn.IO)(this._delegate,(0,tn.Lx)(...u)))}catch(a){throw zr(a,"endBefore()","Query.endBefore()")}}endAt(...u){try{return new Fo(this.firestore,(0,tn.IO)(this._delegate,(0,tn.Wu)(...u)))}catch(a){throw zr(a,"endAt()","Query.endAt()")}}isEqual(u){return(0,tn.iE)(this._delegate,u._delegate)}get(u){let a;return a="cache"===(null==u?void 0:u.source)?(0,tn.UQ)(this._delegate):"server"===(null==u?void 0:u.source)?(0,tn.zN)(this._delegate):(0,tn.PL)(this._delegate),a.then(f=>new ja(this.firestore,new tn.W(this.firestore._delegate,this._userDataWriter,this._delegate,f._snapshot)))}onSnapshot(...u){const a=Vd(u),f=Gc(u,E=>new ja(this.firestore,new tn.W(this.firestore._delegate,this._userDataWriter,this._delegate,E._snapshot)));return(0,tn.cf)(this._delegate,a,f)}withConverter(u){return new Fo(this.firestore,this._delegate.withConverter(u?Bn.getInstance(this.firestore,u):null))}}class yc{constructor(u,a){this._firestore=u,this._delegate=a}get type(){return this._delegate.type}get doc(){return new mc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ja{constructor(u,a){this._firestore=u,this._delegate=a}get query(){return new Fo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(u=>new mc(this._firestore,u))}docChanges(u){return this._delegate.docChanges(u).map(a=>new yc(this._firestore,a))}forEach(u,a){this._delegate.forEach(f=>{u.call(a,new mc(this._firestore,f))})}isEqual(u){return(0,tn.qK)(this._delegate,u._delegate)}}class uu extends Fo{constructor(u,a){super(u,a),this.firestore=u,this._delegate=a}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const u=this._delegate.parent;return u?new la(this.firestore,u):null}doc(u){try{return new la(this.firestore,void 0===u?(0,tn.JU)(this._delegate):(0,tn.JU)(this._delegate,u))}catch(a){throw zr(a,"doc()","CollectionReference.doc()")}}add(u){return(0,tn.ET)(this._delegate,u).then(a=>new la(this.firestore,a))}isEqual(u){return(0,tn.Eo)(this._delegate,u._delegate)}withConverter(u){return new uu(this.firestore,this._delegate.withConverter(u?Bn.getInstance(this.firestore,u):null))}}function $l(v){return(0,tn.Cf)(v,tn.my)}class zc{constructor(...u){this._delegate=new tn.Lz(...u)}static documentId(){return new zc(tn.Xb.keyField().canonicalString())}isEqual(u){return(u=(0,rt.m9)(u))instanceof tn.Lz&&this._delegate._internalPath.isEqual(u._internalPath)}}class ju{constructor(u){this._delegate=u}static serverTimestamp(){const u=(0,tn.Bt)();return u._methodName="FieldValue.serverTimestamp",new ju(u)}static delete(){const u=(0,tn.AK)();return u._methodName="FieldValue.delete",new ju(u)}static arrayUnion(...u){const a=(0,tn.vr)(...u);return a._methodName="FieldValue.arrayUnion",new ju(a)}static arrayRemove(...u){const a=(0,tn.Ab)(...u);return a._methodName="FieldValue.arrayRemove",new ju(a)}static increment(u){const a=(0,tn.nP)(u);return a._methodName="FieldValue.increment",new ju(a)}isEqual(u){return this._delegate.isEqual(u._delegate)}}const cu={Firestore:jl,GeoPoint:tn.F8,Timestamp:tn.EK,Blob:Hu,Transaction:lu,WriteBatch:Pf,DocumentReference:la,DocumentSnapshot:Lo,Query:Fo,QueryDocumentSnapshot:mc,QuerySnapshot:ja,CollectionReference:uu,FieldPath:zc,FieldValue:ju,setLogLevel:function Mf(v){(0,tn.Ub)(v)},CACHE_SIZE_UNLIMITED:tn.IX};function Bd(v,u){return function Zc(v,u=Uu.z){return new xu.y(a=>{let f;return null!=u?u.schedule(()=>{f=v.onSnapshot({includeMetadataChanges:!0},a)}):f=v.onSnapshot({includeMetadataChanges:!0},a),()=>{null!=f&&f()}})}(v,u)}function Kc(v,u){return Bd(v,u).pipe((0,ns.U)(a=>({payload:a,type:"query"})))}function Mh(v,u){return Kc(v,u).pipe((0,_l.O)(void 0),kd(),(0,ns.U)(([a,f])=>{const E=f.payload.docChanges(),k=E.map(K=>({type:K.type,payload:K}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(f.payload.metadata)&&f.payload.docs.forEach((K,ye)=>{const Ve=E.find(kt=>kt.doc.ref.isEqual(K.ref)),at=null==a?void 0:a.payload.docs.find(kt=>kt.ref.isEqual(K.ref));Ve&&JSON.stringify(Ve.doc.metadata)===JSON.stringify(K.metadata)||!Ve&&at&&JSON.stringify(at.metadata)===JSON.stringify(K.metadata)||k.push({type:"modified",payload:{oldIndex:ye,newIndex:ye,type:"modified",doc:K}})}),k}))}function jd(v,u,a){return Mh(v,a).pipe((0,Bu.R)((f,E)=>function Bs(v,u,a){return u.forEach(f=>{a.indexOf(f.type)>-1&&(v=function Tp(v,u){switch(u.type){case"added":if(!v[u.newIndex]||!v[u.newIndex].doc.ref.isEqual(u.doc.ref))return Ph(v,u.newIndex,0,u);break;case"modified":if(null==v[u.oldIndex]||v[u.oldIndex].doc.ref.isEqual(u.doc.ref)){if(u.oldIndex!==u.newIndex){const a=v.slice();return a.splice(u.oldIndex,1),a.splice(u.newIndex,0,u),a}return Ph(v,u.newIndex,1,u)}break;case"removed":if(v[u.oldIndex]&&v[u.oldIndex].doc.ref.isEqual(u.doc.ref))return Ph(v,u.oldIndex,1)}return v}(v,f))}),v}(f,E.map(k=>k.payload),u),[]),(0,Hc.x)(),(0,ns.U)(f=>f.map(E=>({type:E.type,payload:E}))))}function Ph(v,u,a,...f){const E=v.slice();return E.splice(u,a,...f),E}function Rh(v){return(!v||0===v.length)&&(v=["added","removed","modified"]),v}!function Wc(v){(function Ud(v,u){v.INTERNAL.registerComponent(new pe.wA("firestore-compat",a=>{const f=a.getProvider("app-compat").getImmediate(),E=a.getProvider("firestore").getImmediate();return u(f,E)},"PUBLIC").setServiceProps(Object.assign({},cu)))})(v,(u,a)=>new jl(u,a,new Of)),v.registerVersion("@firebase/firestore-compat","0.2.3")}(Oh.Z);class Dp{constructor(u,a,f){this.ref=u,this.query=a,this.afs=f}stateChanges(u){let a=Mh(this.query,this.afs.schedulers.outsideAngular);return u&&u.length>0&&(a=a.pipe((0,ns.U)(f=>f.filter(E=>u.indexOf(E.type)>-1)))),a.pipe((0,_l.O)(void 0),kd(),(0,oa.h)(([f,E])=>E.length>0||!f),(0,ns.U)(([f,E])=>E),qi.iC)}auditTrail(u){return this.stateChanges(u).pipe((0,Bu.R)((a,f)=>[...a,...f],[]))}snapshotChanges(u){const a=Rh(u);return jd(this.query,a,this.afs.schedulers.outsideAngular).pipe(qi.iC)}valueChanges(u={}){return Kc(this.query,this.afs.schedulers.outsideAngular).pipe((0,ns.U)(a=>a.payload.docs.map(f=>u.idField?Object.assign(Object.assign({},f.data()),{[u.idField]:f.id}):f.data())),qi.iC)}get(u){return(0,yl.D)(this.query.get(u)).pipe(qi.iC)}add(u){return this.ref.add(u)}doc(u){return new Nh(this.ref.doc(u),this.afs)}}class Nh{constructor(u,a){this.ref=u,this.afs=a}set(u,a){return this.ref.set(u,a)}update(u){return this.ref.update(u)}delete(){return this.ref.delete()}collection(u,a){const f=this.ref.collection(u),{ref:E,query:k}=Lh(f,a);return new Dp(E,k,this.afs)}snapshotChanges(){return function Hd(v,u){return Bd(v,u).pipe((0,_l.O)(void 0),kd(),(0,ns.U)(([a,f])=>f.exists?(null==a?void 0:a.exists)?{payload:f,type:"modified"}:{payload:f,type:"added"}:{payload:f,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qi.iC)}valueChanges(u={}){return this.snapshotChanges().pipe((0,ns.U)(({payload:a})=>u.idField?Object.assign(Object.assign({},a.data()),{[u.idField]:a.id}):a.data()))}get(u){return(0,yl.D)(this.ref.get(u)).pipe(qi.iC)}}class Fg{constructor(u,a){this.query=u,this.afs=a}stateChanges(u){return u&&0!==u.length?Mh(this.query,this.afs.schedulers.outsideAngular).pipe((0,ns.U)(a=>a.filter(f=>u.indexOf(f.type)>-1)),(0,oa.h)(a=>a.length>0),qi.iC):Mh(this.query,this.afs.schedulers.outsideAngular).pipe(qi.iC)}auditTrail(u){return this.stateChanges(u).pipe((0,Bu.R)((a,f)=>[...a,...f],[]))}snapshotChanges(u){const a=Rh(u);return jd(this.query,a,this.afs.schedulers.outsideAngular).pipe(qi.iC)}valueChanges(u={}){return Kc(this.query,this.afs.schedulers.outsideAngular).pipe((0,ns.U)(f=>f.payload.docs.map(E=>u.idField?Object.assign({[u.idField]:E.id},E.data()):E.data())),qi.iC)}get(u){return(0,yl.D)(this.query.get(u)).pipe(qi.iC)}}const vc=new h.OlP("angularfire2.enableFirestorePersistence"),kh=new h.OlP("angularfire2.firestore.persistenceSettings"),Rf=new h.OlP("angularfire2.firestore.settings"),qc=new h.OlP("angularfire2.firestore.use-emulator");function Lh(v,u=(a=>a)){return{query:u(v),ref:v}}let $d=(()=>{class v{constructor(a,f,E,k,K,ye,Ve,at,kt,dn,Cn,Vn,Un,zn,Fi,cr,Wr){this.schedulers=Ve;const Dr=(0,Po.on)(a,ye,f),li=kt;dn&&xh(Dr,ye,Cn,Un,zn,Fi,Vn,cr),[this.firestore,this.persistenceEnabled$]=(0,Po.cc)(`${Dr.name}.firestore`,"AngularFirestore",Dr.name,()=>{const hr=ye.runOutsideAngular(()=>Dr.firestore());if(k&&hr.settings(k),li&&hr.useEmulator(...li),E&&!(0,ct.PM)(K)){const Br=()=>{try{return(0,yl.D)(hr.enablePersistence(at||void 0).then(()=>!0,()=>!1))}catch(kr){return"undefined"!=typeof console&&console.warn(kr),(0,Ua.of)(!1)}};return[hr,ye.runOutsideAngular(Br)]}return[hr,(0,Ua.of)(!1)]},[k,li,E])}collection(a,f){let E;E="string"==typeof a?this.firestore.collection(a):a;const{ref:k,query:K}=Lh(E,f),ye=this.schedulers.ngZone.run(()=>k);return new Dp(ye,K,this)}collectionGroup(a,f){const E=f||(K=>K),k=this.firestore.collectionGroup(a);return new Fg(E(k),this)}doc(a){let f;f="string"==typeof a?this.firestore.doc(a):a;const E=this.schedulers.ngZone.run(()=>f);return new Nh(E,this)}createId(){return this.firestore.collection("_").doc().id}}return v.\u0275fac=function(a){return new(a||v)(h.LFG(Po.Dh),h.LFG(Po.xv,8),h.LFG(vc,8),h.LFG(Rf,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(qi.HU),h.LFG(kh,8),h.LFG(qc,8),h.LFG(Bc,8),h.LFG(Fu,8),h.LFG(Vu,8),h.LFG(ol,8),h.LFG(Uc,8),h.LFG(Rd,8),h.LFG(Nd,8),h.LFG(Vc,8))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"any"}),v})(),Fh=(()=>{class v{constructor(){Pd.Z.registerVersion("angularfire",qi.q4.full,"fst-compat")}static enablePersistence(a){return{ngModule:v,providers:[{provide:vc,useValue:!0},{provide:kh,useValue:a}]}}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=h.oAB({type:v}),v.\u0275inj=h.cJS({providers:[$d]}),v})(),Nf=(()=>{class v{}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=h.oAB({type:v,bootstrap:[$r]}),v.\u0275inj=h.cJS({providers:[{provide:_i.TP,useClass:U,multi:!0},{provide:_i.TP,useClass:Ic,multi:!0}],imports:[[da,Ue.UX,Ue.u5,Fh,Hl,Po.hO.initializeApp({apiKey:"AIzaSyBspMnWz9iq5Evt11YwGkcEPqghHyIGwuo",authDomain:"joinapp-515e6.firebaseapp.com",databaseURL:"https://joinapp-515e6.firebaseio.com",projectId:"joinapp-515e6",storageBucket:"joinapp-515e6.appspot.com",messagingSenderId:"794053292456",appId:"1:794053292456:web:36878b6a9a02cff3"}),tt.forRoot(),st.fx.forRoot(),ct.ez,ml.Rh.forRoot(),g.b2,_i.JF,X,Qe.mr.forRoot(),De.aw.forRoot({defaultLanguage:"en",loader:{provide:De.Zw,useFactory:kf,deps:[_i.eN]}}),no]]}),v})();function kf(v){return new Ks.w(v,"./assets/i18n/",".json")}(0,h.G48)(),g.q6().bootstrapModule(Nf).catch(v=>console.error(v))},5867:(qt,Ze,x)=>{x.d(Ze,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=x(9681);(0,g.registerVersion)("firebase","9.14.0","app")},127:(qt,Ze,x)=>{x.d(Ze,{Z:()=>g.Z});var g=x(3942);g.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(qt,Ze,x)=>{x.r(Ze);var g=x(5861),h=x(3942),W=x(8247),De=x(2090),Ce=(x(9681),x(1877),x(4859));function ce(){return window}function ue(){return(ue=(0,g.Z)(function*(ve,ee,$){var te;const{BuildInfo:re}=ce();(0,W.ap)(ee.sessionId,"AuthEvent did not contain a session ID");const Ae=yield st(ee.sessionId),Ye={};return(0,W.aq)()?Ye.ibi=re.packageName:(0,W.ar)()?Ye.apn=re.packageName:(0,W.as)(ve,"operation-not-supported-in-this-environment"),re.displayName&&(Ye.appDisplayName=re.displayName),Ye.sessionId=Ae,(0,W.at)(ve,$,ee.type,void 0,null!==(te=ee.eventId)&&void 0!==te?te:void 0,Ye)})).apply(this,arguments)}function ut(){return(ut=(0,g.Z)(function*(ve){const{BuildInfo:ee}=ce(),$={};(0,W.aq)()?$.iosBundleId=ee.packageName:(0,W.ar)()?$.androidPackageName=ee.packageName:(0,W.as)(ve,"operation-not-supported-in-this-environment"),yield(0,W.au)(ve,$)})).apply(this,arguments)}function ct(){return(ct=(0,g.Z)(function*(ve,ee,$){const{cordova:te}=ce();let re=()=>{};try{yield new Promise((Ae,Ye)=>{let Pt=null;function Nt(){var En;Ae();const yi=null===(En=te.plugins.browsertab)||void 0===En?void 0:En.close;"function"==typeof yi&&yi(),"function"==typeof(null==$?void 0:$.close)&&$.close()}function yn(){Pt||(Pt=window.setTimeout(()=>{Ye((0,W.aw)(ve,"redirect-cancelled-by-user"))},2e3))}function fn(){"visible"===(null==document?void 0:document.visibilityState)&&yn()}ee.addPassiveListener(Nt),document.addEventListener("resume",yn,!1),(0,W.ar)()&&document.addEventListener("visibilitychange",fn,!1),re=()=>{ee.removePassiveListener(Nt),document.removeEventListener("resume",yn,!1),document.removeEventListener("visibilitychange",fn,!1),Pt&&window.clearTimeout(Pt)}})}finally{re()}})).apply(this,arguments)}function st(ve){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,g.Z)(function*(ve){const ee=ft(ve),$=yield crypto.subtle.digest("SHA-256",ee);return Array.from(new Uint8Array($)).map(re=>re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ft(ve){if((0,W.ap)(/[0-9a-zA-Z]+/.test(ve),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ve);const ee=new ArrayBuffer(ve.length),$=new Uint8Array(ee);for(let te=0;te<ve.length;te++)$[te]=ve.charCodeAt(te);return $}class we extends W.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ee=>{this.resolveInialized=ee})}addPassiveListener(ee){this.passiveListeners.add(ee)}removePassiveListener(ee){this.passiveListeners.delete(ee)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ee){return this.resolveInialized(),this.passiveListeners.forEach($=>$(ee)),super.onEvent(ee)}initialized(){var ee=this;return(0,g.Z)(function*(){yield ee.initPromise})()}}function Y(ve){return qe.apply(this,arguments)}function qe(){return(qe=(0,g.Z)(function*(ve){const ee=yield Ge()._get(Xe(ve));return ee&&(yield Ge()._remove(Xe(ve))),ee})).apply(this,arguments)}function Le(){const ve=[],ee="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let $=0;$<20;$++){const te=Math.floor(Math.random()*ee.length);ve.push(ee.charAt(te))}return ve.join("")}function Ge(){return(0,W.az)(W.b)}function Xe(ve){return(0,W.aA)("authEvent",ve.config.apiKey,ve.name)}function Rt(ve){if(!(null==ve?void 0:ve.includes("?")))return{};const[ee,...$]=ve.split("?");return(0,De.zd)($.join("?"))}function q(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,W.aw)("no-auth-event")}}function Xt(){var ve;return(null===(ve=null==self?void 0:self.location)||void 0===ve?void 0:ve.protocol)||null}function Sn(ve=(0,De.z$)()){return!("file:"!==Xt()&&"ionic:"!==Xt()&&"capacitor:"!==Xt()||!ve.toLowerCase().match(/iphone|ipad|ipod|android/))}function ei(){try{const ve=self.localStorage,ee=W.aI();if(ve)return ve.setItem(ee,"1"),ve.removeItem(ee),!function Si(ve=(0,De.z$)()){return function ui(){return(0,De.w1)()&&11===(null==document?void 0:document.documentMode)}()||function qn(ve=(0,De.z$)()){return/Edge\/\d+/.test(ve)}(ve)}()||(0,De.hl)()}catch(ve){return Li()&&(0,De.hl)()}return!1}function Li(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yn(){return(function hn(){return"http:"===Xt()||"https:"===Xt()}()||(0,De.ru)()||Sn())&&!function Wn(){return(0,De.b$)()||(0,De.UG)()}()&&ei()&&!Li()}function Ui(){return Sn()&&"undefined"!=typeof document}function Pi(){return(Pi=(0,g.Z)(function*(){return!!Ui()&&new Promise(ve=>{const ee=setTimeout(()=>{ve(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ee),ve(!0)})})})).apply(this,arguments)}const Jt={LOCAL:"local",NONE:"none",SESSION:"session"},Ri=W.ax,ci="persistence";function ke(ve){return $e.apply(this,arguments)}function $e(){return($e=(0,g.Z)(function*(ve){yield ve._initializationPromise;const ee=wt(),$=W.aA(ci,ve.config.apiKey,ve.name);ee&&ee.setItem($,ve._getPersistence())})).apply(this,arguments)}function wt(){var ve;try{return(null===(ve=function Qn(){return"undefined"!=typeof window?window:null}())||void 0===ve?void 0:ve.sessionStorage)||null}catch(ee){return null}}const Ft=W.ax;class Gt{constructor(){this.browserResolver=W.az(W.k),this.cordovaResolver=W.az(class pt{constructor(){this._redirectPersistence=W.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=W.aB,this._overrideRedirectResult=W.aC}_initialize(ee){var $=this;return(0,g.Z)(function*(){const te=ee._key();let re=$.eventManagers.get(te);return re||(re=new we(ee),$.eventManagers.set(te,re),$.attachCallbackListeners(ee,re)),re})()}_openPopup(ee){(0,W.as)(ee,"operation-not-supported-in-this-environment")}_openRedirect(ee,$,te,re){var Ae=this;return(0,g.Z)(function*(){!function Qe(ve){var ee,$,te,re,Ae,Ye,Pt,Nt,yn,fn;const En=ce();(0,W.ax)("function"==typeof(null===(ee=null==En?void 0:En.universalLinks)||void 0===ee?void 0:ee.subscribe),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,W.ax)(void 0!==(null===($=null==En?void 0:En.BuildInfo)||void 0===$?void 0:$.packageName),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,W.ax)("function"==typeof(null===(Ae=null===(re=null===(te=null==En?void 0:En.cordova)||void 0===te?void 0:te.plugins)||void 0===re?void 0:re.browsertab)||void 0===Ae?void 0:Ae.openUrl),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.ax)("function"==typeof(null===(Nt=null===(Pt=null===(Ye=null==En?void 0:En.cordova)||void 0===Ye?void 0:Ye.plugins)||void 0===Pt?void 0:Pt.browsertab)||void 0===Nt?void 0:Nt.isAvailable),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.ax)("function"==typeof(null===(fn=null===(yn=null==En?void 0:En.cordova)||void 0===yn?void 0:yn.InAppBrowser)||void 0===fn?void 0:fn.open),ve,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ee);const Ye=yield Ae._initialize(ee);yield Ye.initialized(),Ye.resetRedirect(),(0,W.aD)(),yield Ae._originValidation(ee);const Pt=function et(ve,ee,$=null){return{type:ee,eventId:$,urlResponse:null,sessionId:Le(),postBody:null,tenantId:ve.tenantId,error:(0,W.aw)(ve,"no-auth-event")}}(ee,te,re);yield function Tt(ve,ee){return Ge()._set(Xe(ve),ee)}(ee,Pt);const Nt=yield function ne(ve,ee,$){return ue.apply(this,arguments)}(ee,Pt,$),yn=yield function nt(ve){const{cordova:ee}=ce();return new Promise($=>{ee.plugins.browsertab.isAvailable(te=>{let re=null;te?ee.plugins.browsertab.openUrl(ve):re=ee.InAppBrowser.open(ve,(0,W.av)()?"_blank":"_system","location=yes"),$(re)})})}(Nt);return function dt(ve,ee,$){return ct.apply(this,arguments)}(ee,Ye,yn)})()}_isIframeWebStorageSupported(ee,$){throw new Error("Method not implemented.")}_originValidation(ee){const $=ee._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function Ne(ve){return ut.apply(this,arguments)}(ee)),this.originValidationPromises[$]}attachCallbackListeners(ee,$){const{universalLinks:te,handleOpenURL:re,BuildInfo:Ae}=ce(),Ye=setTimeout((0,g.Z)(function*(){yield Y(ee),$.onEvent(q())}),500),Pt=function(){var fn=(0,g.Z)(function*(En){clearTimeout(Ye);const yi=yield Y(ee);let Ei=null;yi&&(null==En?void 0:En.url)&&(Ei=function tt(ve,ee){var $,te;const re=function it(ve){const ee=Rt(ve),$=ee.link?decodeURIComponent(ee.link):void 0,te=Rt($).link,re=ee.deep_link_id?decodeURIComponent(ee.deep_link_id):void 0;return Rt(re).link||re||te||$||ve}(ee);if(re.includes("/__/auth/callback")){const Ae=Rt(re),Ye=Ae.firebaseError?function ot(ve){try{return JSON.parse(ve)}catch(ee){return null}}(decodeURIComponent(Ae.firebaseError)):null,Pt=null===(te=null===($=null==Ye?void 0:Ye.code)||void 0===$?void 0:$.split("auth/"))||void 0===te?void 0:te[1],Nt=Pt?(0,W.aw)(Pt):null;return Nt?{type:ve.type,eventId:ve.eventId,tenantId:ve.tenantId,error:Nt,urlResponse:null,sessionId:null,postBody:null}:{type:ve.type,eventId:ve.eventId,tenantId:ve.tenantId,sessionId:ve.sessionId,urlResponse:re,postBody:null}}return null}(yi,En.url)),$.onEvent(Ei||q())});return function(yi){return fn.apply(this,arguments)}}();void 0!==te&&"function"==typeof te.subscribe&&te.subscribe(null,Pt);const Nt=re,yn=`${Ae.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var fn=(0,g.Z)(function*(En){if(En.toLowerCase().startsWith(yn)&&Pt({url:En}),"function"==typeof Nt)try{Nt(En)}catch(yi){console.error(yi)}});return function(En){return fn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=W.a,this._completeRedirectFn=W.aB,this._overrideRedirectResult=W.aC}_initialize(ee){var $=this;return(0,g.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(ee)})()}_openPopup(ee,$,te,re){var Ae=this;return(0,g.Z)(function*(){return yield Ae.selectUnderlyingResolver(),Ae.assertedUnderlyingResolver._openPopup(ee,$,te,re)})()}_openRedirect(ee,$,te,re){var Ae=this;return(0,g.Z)(function*(){return yield Ae.selectUnderlyingResolver(),Ae.assertedUnderlyingResolver._openRedirect(ee,$,te,re)})()}_isIframeWebStorageSupported(ee,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ee,$)}_originValidation(ee){return this.assertedUnderlyingResolver._originValidation(ee)}get _shouldInitProactively(){return Ui()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ft(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ee=this;return(0,g.Z)(function*(){if(ee.underlyingResolver)return;const $=yield function un(){return Pi.apply(this,arguments)}();ee.underlyingResolver=$?ee.cordovaResolver:ee.browserResolver})()}}function Pe(ve){return ve.unwrap()}function Ee(ve){return _t(ve)}function _t(ve){const{_tokenResponse:ee}=ve instanceof De.ZR?ve.customData:ve;if(!ee)return null;if(!(ve instanceof De.ZR)&&"temporaryProof"in ee&&"phoneNumber"in ee)return W.P.credentialFromResult(ve);const $=ee.providerId;if(!$||$===W.o.PASSWORD)return null;let te;switch($){case W.o.GOOGLE:te=W.Q;break;case W.o.FACEBOOK:te=W.N;break;case W.o.GITHUB:te=W.T;break;case W.o.TWITTER:te=W.W;break;default:const{oauthIdToken:re,oauthAccessToken:Ae,oauthTokenSecret:Ye,pendingToken:Pt,nonce:Nt}=ee;return Ae||Ye||re||Pt?Pt?$.startsWith("saml.")?W.aL._create($,Pt):W.J._fromParams({providerId:$,signInMethod:$,pendingToken:Pt,idToken:re,accessToken:Ae}):new W.U($).credential({idToken:re,accessToken:Ae,rawNonce:Nt}):null}return ve instanceof De.ZR?te.credentialFromError(ve):te.credentialFromResult(ve)}function Dt(ve,ee){return ee.catch($=>{throw $ instanceof De.ZR&&function We(ve,ee){var $,te;const re=null===($=ee.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===(null===(te=ee)||void 0===te?void 0:te.code))ee.resolver=new bn(ve,W.an(ve,ee));else if(re){const Ae=_t(ee),Ye=ee;Ae&&(Ye.credential=Ae,Ye.tenantId=re.tenantId||void 0,Ye.email=re.email||void 0,Ye.phoneNumber=re.phoneNumber||void 0)}}(ve,$),$}).then($=>{const re=$.user;return{operationType:$.operationType,credential:Ee($),additionalUserInfo:W.al($),user:ln.getOrCreate(re)}})}function Et(ve,ee){return mn.apply(this,arguments)}function mn(){return(mn=(0,g.Z)(function*(ve,ee){const $=yield ee;return{verificationId:$.verificationId,confirm:te=>Dt(ve,$.confirm(te))}})).apply(this,arguments)}class bn{constructor(ee,$){this.resolver=$,this.auth=function xe(ve){return ve.wrapped()}(ee)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ee){return Dt(Pe(this.auth),this.resolver.resolveSignIn(ee))}}class ln{constructor(ee){this._delegate=ee,this.multiFactor=W.ao(ee)}static getOrCreate(ee){return ln.USER_MAP.has(ee)||ln.USER_MAP.set(ee,new ln(ee)),ln.USER_MAP.get(ee)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ee){return this._delegate.getIdTokenResult(ee)}getIdToken(ee){return this._delegate.getIdToken(ee)}linkAndRetrieveDataWithCredential(ee){return this.linkWithCredential(ee)}linkWithCredential(ee){var $=this;return(0,g.Z)(function*(){return Dt($.auth,W.Z($._delegate,ee))})()}linkWithPhoneNumber(ee,$){var te=this;return(0,g.Z)(function*(){return Et(te.auth,W.l(te._delegate,ee,$))})()}linkWithPopup(ee){var $=this;return(0,g.Z)(function*(){return Dt($.auth,W.d($._delegate,ee,Gt))})()}linkWithRedirect(ee){var $=this;return(0,g.Z)(function*(){return yield ke(W.aE($.auth)),W.g($._delegate,ee,Gt)})()}reauthenticateAndRetrieveDataWithCredential(ee){return this.reauthenticateWithCredential(ee)}reauthenticateWithCredential(ee){var $=this;return(0,g.Z)(function*(){return Dt($.auth,W._($._delegate,ee))})()}reauthenticateWithPhoneNumber(ee,$){return Et(this.auth,W.r(this._delegate,ee,$))}reauthenticateWithPopup(ee){return Dt(this.auth,W.e(this._delegate,ee,Gt))}reauthenticateWithRedirect(ee){var $=this;return(0,g.Z)(function*(){return yield ke(W.aE($.auth)),W.h($._delegate,ee,Gt)})()}sendEmailVerification(ee){return W.ab(this._delegate,ee)}unlink(ee){var $=this;return(0,g.Z)(function*(){return yield W.ak($._delegate,ee),$})()}updateEmail(ee){return W.ag(this._delegate,ee)}updatePassword(ee){return W.ah(this._delegate,ee)}updatePhoneNumber(ee){return W.u(this._delegate,ee)}updateProfile(ee){return W.af(this._delegate,ee)}verifyBeforeUpdateEmail(ee,$){return W.ac(this._delegate,ee,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ln.USER_MAP=new WeakMap;const z=W.ax;let he=(()=>{class ve{constructor($,te){if(this.app=$,te.isInitialized())return this._delegate=te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:re}=$.options;z(re,"invalid-api-key",{appName:$.name}),z(re,"invalid-api-key",{appName:$.name});const Ae="undefined"!=typeof window?Gt:void 0;this._delegate=te.initialize({options:{persistence:Fe(re,$.name),popupRedirectResolver:Ae}}),this._delegate._updateErrorMap(W.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ln.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,te){W.G(this._delegate,$,te)}applyActionCode($){return W.a2(this._delegate,$)}checkActionCode($){return W.a3(this._delegate,$)}confirmPasswordReset($,te){return W.a1(this._delegate,$,te)}createUserWithEmailAndPassword($,te){var re=this;return(0,g.Z)(function*(){return Dt(re._delegate,W.a5(re._delegate,$,te))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return W.aa(this._delegate,$)}isSignInWithEmailLink($){return W.a8(this._delegate,$)}getRedirectResult(){var $=this;return(0,g.Z)(function*(){z(Yn(),$._delegate,"operation-not-supported-in-this-environment");const te=yield W.j($._delegate,Gt);return te?Dt($._delegate,Promise.resolve(te)):{credential:null,user:null}})()}addFrameworkForLogging($){!function Se(ve,ee){(0,W.aE)(ve)._logFramework(ee)}(this._delegate,$)}onAuthStateChanged($,te,re){const{next:Ae,error:Ye,complete:Pt}=be($,te,re);return this._delegate.onAuthStateChanged(Ae,Ye,Pt)}onIdTokenChanged($,te,re){const{next:Ae,error:Ye,complete:Pt}=be($,te,re);return this._delegate.onIdTokenChanged(Ae,Ye,Pt)}sendSignInLinkToEmail($,te){return W.a7(this._delegate,$,te)}sendPasswordResetEmail($,te){return W.a0(this._delegate,$,te||void 0)}setPersistence($){var te=this;return(0,g.Z)(function*(){let re;switch(function It(ve,ee){Ri(Object.values(Jt).includes(ee),ve,"invalid-persistence-type"),(0,De.b$)()?Ri(ee!==Jt.SESSION,ve,"unsupported-persistence-type"):(0,De.UG)()?Ri(ee===Jt.NONE,ve,"unsupported-persistence-type"):Li()?Ri(ee===Jt.NONE||ee===Jt.LOCAL&&(0,De.hl)(),ve,"unsupported-persistence-type"):Ri(ee===Jt.NONE||ei(),ve,"unsupported-persistence-type")}(te._delegate,$),$){case Jt.SESSION:re=W.a;break;case Jt.LOCAL:re=(yield W.az(W.i)._isAvailable())?W.i:W.b;break;case Jt.NONE:re=W.L;break;default:return W.as("argument-error",{appName:te._delegate.name})}return te._delegate.setPersistence(re)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return Dt(this._delegate,W.X(this._delegate))}signInWithCredential($){return Dt(this._delegate,W.Y(this._delegate,$))}signInWithCustomToken($){return Dt(this._delegate,W.$(this._delegate,$))}signInWithEmailAndPassword($,te){return Dt(this._delegate,W.a6(this._delegate,$,te))}signInWithEmailLink($,te){return Dt(this._delegate,W.a9(this._delegate,$,te))}signInWithPhoneNumber($,te){return Et(this._delegate,W.s(this._delegate,$,te))}signInWithPopup($){var te=this;return(0,g.Z)(function*(){return z(Yn(),te._delegate,"operation-not-supported-in-this-environment"),Dt(te._delegate,W.c(te._delegate,$,Gt))})()}signInWithRedirect($){var te=this;return(0,g.Z)(function*(){return z(Yn(),te._delegate,"operation-not-supported-in-this-environment"),yield ke(te._delegate),W.f(te._delegate,$,Gt)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return W.a4(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ve.Persistence=Jt,ve})();function be(ve,ee,$){let te=ve;"function"!=typeof ve&&({next:te,error:ee,complete:$}=ve);const re=te;return{next:Ye=>re(Ye&&ln.getOrCreate(Ye)),error:ee,complete:$}}function Fe(ve,ee){const $=function Lt(ve,ee){const $=wt();if(!$)return[];const te=W.aA(ci,ve,ee);switch($.getItem(te)){case Jt.NONE:return[W.L];case Jt.LOCAL:return[W.i,W.a];case Jt.SESSION:return[W.a];default:return[]}}(ve,ee);if("undefined"!=typeof self&&!$.includes(W.i)&&$.push(W.i),"undefined"!=typeof window)for(const te of[W.b,W.a])$.includes(te)||$.push(te);return $.includes(W.L)||$.push(W.L),$}class gt{constructor(){this.providerId="phone",this._delegate=new W.P(Pe(h.Z.auth()))}static credential(ee,$){return W.P.credential(ee,$)}verifyPhoneNumber(ee,$){return this._delegate.verifyPhoneNumber(ee,$)}unwrap(){return this._delegate}}gt.PHONE_SIGN_IN_METHOD=W.P.PHONE_SIGN_IN_METHOD,gt.PROVIDER_ID=W.P.PROVIDER_ID;const St=W.ax;class de{constructor(ee,$,te=h.Z.app()){var re;St(null===(re=te.options)||void 0===re?void 0:re.apiKey,"invalid-api-key",{appName:te.name}),this._delegate=new W.R(ee,$,te.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Me(ve){ve.INTERNAL.registerComponent(new Ce.wA("auth-compat",ee=>{const $=ee.getProvider("app-compat").getImmediate(),te=ee.getProvider("auth");return new he($,te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:W.A.EMAIL_SIGNIN,PASSWORD_RESET:W.A.PASSWORD_RESET,RECOVER_EMAIL:W.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:W.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:W.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:W.A.VERIFY_EMAIL}},EmailAuthProvider:W.M,FacebookAuthProvider:W.N,GithubAuthProvider:W.T,GoogleAuthProvider:W.Q,OAuthProvider:W.U,SAMLAuthProvider:W.V,PhoneAuthProvider:gt,PhoneMultiFactorGenerator:W.m,RecaptchaVerifier:de,TwitterAuthProvider:W.W,Auth:he,AuthCredential:W.H,Error:De.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ve.registerVersion("@firebase/auth-compat","0.2.24")}(h.Z)},8968:(qt,Ze,x)=>{function _e(Pe,xe,Ee,We){var Et,_t=arguments.length,Dt=_t<3?xe:null===We?We=Object.getOwnPropertyDescriptor(xe,Ee):We;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Dt=Reflect.decorate(Pe,xe,Ee,We);else for(var mn=Pe.length-1;mn>=0;mn--)(Et=Pe[mn])&&(Dt=(_t<3?Et(Dt):_t>3?Et(xe,Ee,Dt):Et(xe,Ee))||Dt);return _t>3&&Dt&&Object.defineProperty(xe,Ee,Dt),Dt}function Re(Pe,xe){return function(Ee,We){xe(Ee,We,Pe)}}function Ce(Pe,xe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Pe,xe)}x.d(Ze,{Rh:()=>ke,_W:()=>Jt});var Y=x(5e3),qe=x(1777),tt=x(7579),Le=x(2313),Ge=x(9808);const Xe=["toast-component",""];function ot(Pe,xe){if(1&Pe){const Ee=Y.EpF();Y.TgZ(0,"button",5),Y.NdJ("click",function(){return Y.CHM(Ee),Y.oxw().remove()}),Y.TgZ(1,"span",6),Y._uU(2,"\xd7"),Y.qZA()()}}function it(Pe,xe){if(1&Pe&&(Y.ynx(0),Y._uU(1),Y.BQk()),2&Pe){const Ee=Y.oxw(2);Y.xp6(1),Y.hij("[",Ee.duplicatesCount+1,"]")}}function Rt(Pe,xe){if(1&Pe&&(Y.TgZ(0,"div"),Y._uU(1),Y.YNc(2,it,2,1,"ng-container",4),Y.qZA()),2&Pe){const Ee=Y.oxw();Y.Tol(Ee.options.titleClass),Y.uIk("aria-label",Ee.title),Y.xp6(1),Y.hij(" ",Ee.title," "),Y.xp6(1),Y.Q6J("ngIf",Ee.duplicatesCount)}}function on(Pe,xe){if(1&Pe&&Y._UZ(0,"div",7),2&Pe){const Ee=Y.oxw();Y.Tol(Ee.options.messageClass),Y.Q6J("innerHTML",Ee.message,Y.oJD)}}function pt(Pe,xe){if(1&Pe&&(Y.TgZ(0,"div",8),Y._uU(1),Y.qZA()),2&Pe){const Ee=Y.oxw();Y.Tol(Ee.options.messageClass),Y.uIk("aria-label",Ee.message),Y.xp6(1),Y.hij(" ",Ee.message," ")}}function vt(Pe,xe){if(1&Pe&&(Y.TgZ(0,"div"),Y._UZ(1,"div",9),Y.qZA()),2&Pe){const Ee=Y.oxw();Y.xp6(1),Y.Udp("width",Ee.width+"%")}}function q(Pe,xe){if(1&Pe){const Ee=Y.EpF();Y.TgZ(0,"button",5),Y.NdJ("click",function(){return Y.CHM(Ee),Y.oxw().remove()}),Y.TgZ(1,"span",6),Y._uU(2,"\xd7"),Y.qZA()()}}function Se(Pe,xe){if(1&Pe&&(Y.ynx(0),Y._uU(1),Y.BQk()),2&Pe){const Ee=Y.oxw(2);Y.xp6(1),Y.hij("[",Ee.duplicatesCount+1,"]")}}function Ke(Pe,xe){if(1&Pe&&(Y.TgZ(0,"div"),Y._uU(1),Y.YNc(2,Se,2,1,"ng-container",4),Y.qZA()),2&Pe){const Ee=Y.oxw();Y.Tol(Ee.options.titleClass),Y.uIk("aria-label",Ee.title),Y.xp6(1),Y.hij(" ",Ee.title," "),Y.xp6(1),Y.Q6J("ngIf",Ee.duplicatesCount)}}function Mt(Pe,xe){if(1&Pe&&Y._UZ(0,"div",7),2&Pe){const Ee=Y.oxw();Y.Tol(Ee.options.messageClass),Y.Q6J("innerHTML",Ee.message,Y.oJD)}}function $t(Pe,xe){if(1&Pe&&(Y.TgZ(0,"div",8),Y._uU(1),Y.qZA()),2&Pe){const Ee=Y.oxw();Y.Tol(Ee.options.messageClass),Y.uIk("aria-label",Ee.message),Y.xp6(1),Y.hij(" ",Ee.message," ")}}function Xt(Pe,xe){if(1&Pe&&(Y.TgZ(0,"div"),Y._UZ(1,"div",9),Y.qZA()),2&Pe){const Ee=Y.oxw();Y.xp6(1),Y.Udp("width",Ee.width+"%")}}class Wn{constructor(xe,Ee,We,_t,Dt,Et){this.toastId=xe,this.config=Ee,this.message=We,this.title=_t,this.toastType=Dt,this.toastRef=Et,this._onTap=new tt.x,this._onAction=new tt.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(xe){this._onAction.next(xe)}onAction(){return this._onAction.asObservable()}}const ui={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},qn=new Y.OlP("ToastConfig");class Si{constructor(xe,Ee){this.component=xe,this.injector=Ee}attach(xe,Ee){return this._attachedHost=xe,xe.attach(this,Ee)}detach(){const xe=this._attachedHost;if(xe)return this._attachedHost=void 0,xe.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(xe){this._attachedHost=xe}}class Li extends class ei{attach(xe,Ee){return this._attachedPortal=xe,this.attachComponentPortal(xe,Ee)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(xe){this._disposeFn=xe}}{constructor(xe,Ee,We){super(),this._hostDomElement=xe,this._componentFactoryResolver=Ee,this._appRef=We}attachComponentPortal(xe,Ee){const We=this._componentFactoryResolver.resolveComponentFactory(xe.component);let _t;return _t=We.create(xe.injector),this._appRef.attachView(_t.hostView),this.setDisposeFn(()=>{this._appRef.detachView(_t.hostView),_t.destroy()}),Ee?this._hostDomElement.insertBefore(this._getComponentRootNode(_t),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(_t)),_t}_getComponentRootNode(xe){return xe.hostView.rootNodes[0]}}let Yn=class{constructor(xe){this._document=xe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const xe=this._document.createElement("div");xe.classList.add("overlay-container"),this._document.body.appendChild(xe),this._containerElement=xe}};Yn.\u0275fac=function(xe){return new(xe||Yn)(Y.LFG(Ge.K0))},Yn.\u0275prov=Y.Yz7({token:Yn,factory:function(Pe){return Yn.\u0275fac(Pe)},providedIn:"root"}),Yn.ngInjectableDef=(0,Y.Yz7)({factory:function(){return new Yn((0,Y.LFG)(Ge.K0))},token:Yn,providedIn:"root"}),Yn=_e([Re(0,(0,Y.tBr)(Ge.K0)),Ce("design:paramtypes",[Object])],Yn);class Ui{constructor(xe){this._portalHost=xe}attach(xe,Ee=!0){return this._portalHost.attach(xe,Ee)}detach(){return this._portalHost.detach()}}let un=class{constructor(xe,Ee,We,_t){this._overlayContainer=xe,this._componentFactoryResolver=Ee,this._appRef=We,this._document=_t,this._paneElements=new Map}create(xe,Ee){return this._createOverlayRef(this.getPaneElement(xe,Ee))}getPaneElement(xe="",Ee){return this._paneElements.get(Ee)||this._paneElements.set(Ee,{}),this._paneElements.get(Ee)[xe]||(this._paneElements.get(Ee)[xe]=this._createPaneElement(xe,Ee)),this._paneElements.get(Ee)[xe]}_createPaneElement(xe,Ee){const We=this._document.createElement("div");return We.id="toast-container",We.classList.add(xe),We.classList.add("toast-container"),Ee?Ee.getContainerElement().appendChild(We):this._overlayContainer.getContainerElement().appendChild(We),We}_createPortalHost(xe){return new Li(xe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(xe){return new Ui(this._createPortalHost(xe))}};un.\u0275fac=function(xe){return new(xe||un)(Y.LFG(Yn),Y.LFG(Y._Vd),Y.LFG(Y.z2F),Y.LFG(Ge.K0))},un.\u0275prov=Y.Yz7({token:un,factory:function(Pe){return un.\u0275fac(Pe)},providedIn:"root"}),un.ngInjectableDef=(0,Y.Yz7)({factory:function(){return new un((0,Y.LFG)(Yn),(0,Y.LFG)(Y._Vd),(0,Y.LFG)(Y.z2F),(0,Y.LFG)(Ge.K0))},token:un,providedIn:"root"}),un=_e([Re(3,(0,Y.tBr)(Ge.K0)),Ce("design:paramtypes",[Yn,Y._Vd,Y.z2F,Object])],un);class Pi{constructor(xe){this._overlayRef=xe,this.duplicatesCount=0,this._afterClosed=new tt.x,this._activate=new tt.x,this._manualClose=new tt.x,this._resetTimeout=new tt.x,this._countDuplicate=new tt.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(xe,Ee){xe&&this._resetTimeout.next(),Ee&&this._countDuplicate.next(++this.duplicatesCount)}}class Qn{constructor(xe,Ee){this._toastPackage=xe,this._parentInjector=Ee}get(xe,Ee,We){return xe===Wn?this._toastPackage:this._parentInjector.get(xe,Ee,We)}}let Jt=class{constructor(xe,Ee,We,_t,Dt){this.overlay=Ee,this._injector=We,this.sanitizer=_t,this.ngZone=Dt,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign({},xe.default,xe.config),xe.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign({},xe.default.iconClasses,xe.config.iconClasses))}show(xe,Ee,We={},_t=""){return this._preBuildNotification(_t,xe,Ee,this.applyConfig(We))}success(xe,Ee,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",xe,Ee,this.applyConfig(We))}error(xe,Ee,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",xe,Ee,this.applyConfig(We))}info(xe,Ee,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",xe,Ee,this.applyConfig(We))}warning(xe,Ee,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",xe,Ee,this.applyConfig(We))}clear(xe){for(const Ee of this.toasts)if(void 0!==xe){if(Ee.toastId===xe)return void Ee.toastRef.manualClose()}else Ee.toastRef.manualClose()}remove(xe){const Ee=this._findToast(xe);if(!Ee||(Ee.activeToast.toastRef.close(),this.toasts.splice(Ee.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const We=this.toasts[this.currentlyActive].toastRef;We.isInactive()||(this.currentlyActive=this.currentlyActive+1,We.activate())}return!0}findDuplicate(xe,Ee,We){for(const _t of this.toasts)if(_t.message===xe)return _t.toastRef.onDuplicate(Ee,We),_t;return null}applyConfig(xe={}){return Object.assign({},this.toastrConfig,xe)}_findToast(xe){for(let Ee=0;Ee<this.toasts.length;Ee++)if(this.toasts[Ee].toastId===xe)return{index:Ee,activeToast:this.toasts[Ee]};return null}_preBuildNotification(xe,Ee,We,_t){return _t.onActivateTick?this.ngZone.run(()=>this._buildNotification(xe,Ee,We,_t)):this._buildNotification(xe,Ee,We,_t)}_buildNotification(xe,Ee,We,_t){if(!_t.toastComponent)throw new Error("toastComponent required");const Dt=this.findDuplicate(Ee,this.toastrConfig.resetTimeoutOnDuplicate&&_t.timeOut>0,this.toastrConfig.countDuplicates);if(Ee&&this.toastrConfig.preventDuplicates&&null!==Dt)return Dt;this.previousToastMessage=Ee;let Et=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Et=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const mn=this.overlay.create(_t.positionClass,this.overlayContainer);this.index=this.index+1;let bn=Ee;Ee&&_t.enableHtml&&(bn=this.sanitizer.sanitize(Y.q3G.HTML,Ee));const ln=new Pi(mn),z=new Wn(this.index,_t,bn,We,xe,ln),he=new Qn(z,this._injector),be=new Si(_t.toastComponent,he),Fe=mn.attach(be,this.toastrConfig.newestOnTop);ln.componentInstance=Fe._component;const gt={toastId:this.index,message:Ee||"",toastRef:ln,onShown:ln.afterActivate(),onHidden:ln.afterClosed(),onTap:z.onTap(),onAction:z.onAction(),portal:Fe};return Et||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{gt.toastRef.activate()})),this.toasts.push(gt),gt}};Jt.\u0275fac=function(xe){return new(xe||Jt)(Y.LFG(qn),Y.LFG(un),Y.LFG(Y.zs3),Y.LFG(Le.H7),Y.LFG(Y.R0b))},Jt.\u0275prov=Y.Yz7({token:Jt,factory:function(Pe){return Jt.\u0275fac(Pe)},providedIn:"root"}),Jt.ngInjectableDef=(0,Y.Yz7)({factory:function(){return new Jt((0,Y.LFG)(qn),(0,Y.LFG)(un),(0,Y.LFG)(Y.gxx),(0,Y.LFG)(Le.H7),(0,Y.LFG)(Y.R0b))},token:Jt,providedIn:"root"}),Jt=_e([Re(0,(0,Y.tBr)(qn)),Ce("design:paramtypes",[Object,un,Y.zs3,Le.H7,Y.R0b])],Jt);let Ri=(()=>{let Pe=class{constructor(Ee,We,_t){this.toastrService=Ee,this.toastPackage=We,this.ngZone=_t,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=We.message,this.title=We.title,this.options=We.config,this.originalTimeout=We.config.timeOut,this.toastClasses=`${We.toastType} ${We.config.toastClass}`,this.sub=We.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=We.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=We.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=We.toastRef.countDuplicate().subscribe(Dt=>{this.duplicatesCount=Dt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign({},this.state,{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ee=(new Date).getTime();this.width=(this.hideTime-Ee)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign({},this.state,{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign({},this.state,{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ee,We){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ee),We)):this.timeout=setTimeout(()=>Ee(),We)}outsideInterval(Ee,We){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ee),We)):this.intervalId=setInterval(()=>Ee(),We)}runInsideAngular(Ee){this.ngZone?this.ngZone.run(()=>Ee()):Ee()}};return Pe.\u0275fac=function(Ee){return new(Ee||Pe)(Y.Y36(Jt),Y.Y36(Wn),Y.Y36(Y.R0b))},Pe.\u0275cmp=Y.Xpm({type:Pe,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ee,We){1&Ee&&Y.NdJ("click",function(){return We.tapToast()})("mouseenter",function(){return We.stickAround()})("mouseleave",function(){return We.delayedHideToast()}),2&Ee&&(Y.d8E("@flyInOut",We.state),Y.Tol(We.toastClasses),Y.Udp("display",We.displayStyle))},attrs:Xe,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(Ee,We){1&Ee&&(Y.YNc(0,ot,3,0,"button",0),Y.YNc(1,Rt,3,5,"div",1),Y.YNc(2,on,1,3,"div",2),Y.YNc(3,pt,2,4,"div",3),Y.YNc(4,vt,2,2,"div",4)),2&Ee&&(Y.Q6J("ngIf",We.options.closeButton),Y.xp6(1),Y.Q6J("ngIf",We.title),Y.xp6(1),Y.Q6J("ngIf",We.message&&We.options.enableHtml),Y.xp6(1),Y.Q6J("ngIf",We.message&&!We.options.enableHtml),Y.xp6(1),Y.Q6J("ngIf",We.options.progressBar))},directives:[Ge.O5],encapsulation:2,data:{animation:[(0,qe.X$)("flyInOut",[(0,qe.SB)("inactive",(0,qe.oB)({opacity:0})),(0,qe.SB)("active",(0,qe.oB)({opacity:1})),(0,qe.SB)("removed",(0,qe.oB)({opacity:0})),(0,qe.eR)("inactive => active",(0,qe.jt)("{{ easeTime }}ms {{ easing }}")),(0,qe.eR)("active => removed",(0,qe.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),_e([(0,Y.pfw)("class"),Ce("design:type",Object)],Pe.prototype,"toastClasses",void 0),_e([(0,Y.pfw)("@flyInOut"),Ce("design:type",Object)],Pe.prototype,"state",void 0),_e([(0,Y.pfw)("style.display"),Ce("design:type",Object),Ce("design:paramtypes",[])],Pe.prototype,"displayStyle",null),_e([(0,Y.L6J)("click"),Ce("design:type",Function),Ce("design:paramtypes",[]),Ce("design:returntype",void 0)],Pe.prototype,"tapToast",null),_e([(0,Y.L6J)("mouseenter"),Ce("design:type",Function),Ce("design:paramtypes",[]),Ce("design:returntype",void 0)],Pe.prototype,"stickAround",null),_e([(0,Y.L6J)("mouseleave"),Ce("design:type",Function),Ce("design:paramtypes",[]),Ce("design:returntype",void 0)],Pe.prototype,"delayedHideToast",null),Pe=_e([Ce("design:paramtypes",[Jt,Wn,Y.R0b])],Pe),Pe})();var ci;const It=Object.assign({},ui,{toastComponent:Ri});let ke=ci=class{static forRoot(xe={}){return{ngModule:ci,providers:[{provide:qn,useValue:{default:It,config:xe}}]}}};var Lt;ke.\u0275fac=function(xe){return new(xe||ke)},ke.\u0275mod=Y.oAB({type:ke}),ke.\u0275inj=Y.cJS({imports:[[Ge.ez]]});const Ft=Object.assign({},ui,{toastComponent:(()=>{let Pe=class{constructor(Ee,We,_t){this.toastrService=Ee,this.toastPackage=We,this.appRef=_t,this.width=-1,this.toastClasses="",this.state="inactive",this.message=We.message,this.title=We.title,this.options=We.config,this.originalTimeout=We.config.timeOut,this.toastClasses=`${We.toastType} ${We.config.toastClass}`,this.sub=We.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=We.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=We.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=We.toastRef.countDuplicate().subscribe(Dt=>{this.duplicatesCount=Dt})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ee=(new Date).getTime();this.width=(this.hideTime-Ee)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}};return Pe.\u0275fac=function(Ee){return new(Ee||Pe)(Y.Y36(Jt),Y.Y36(Wn),Y.Y36(Y.z2F))},Pe.\u0275cmp=Y.Xpm({type:Pe,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(Ee,We){1&Ee&&Y.NdJ("click",function(){return We.tapToast()})("mouseenter",function(){return We.stickAround()})("mouseleave",function(){return We.delayedHideToast()}),2&Ee&&(Y.Tol(We.toastClasses),Y.Udp("display",We.displayStyle))},attrs:Xe,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(Ee,We){1&Ee&&(Y.YNc(0,q,3,0,"button",0),Y.YNc(1,Ke,3,5,"div",1),Y.YNc(2,Mt,1,3,"div",2),Y.YNc(3,$t,2,4,"div",3),Y.YNc(4,Xt,2,2,"div",4)),2&Ee&&(Y.Q6J("ngIf",We.options.closeButton),Y.xp6(1),Y.Q6J("ngIf",We.title),Y.xp6(1),Y.Q6J("ngIf",We.message&&We.options.enableHtml),Y.xp6(1),Y.Q6J("ngIf",We.message&&!We.options.enableHtml),Y.xp6(1),Y.Q6J("ngIf",We.options.progressBar))},directives:[Ge.O5],encapsulation:2}),_e([(0,Y.pfw)("class"),Ce("design:type",Object)],Pe.prototype,"toastClasses",void 0),_e([(0,Y.pfw)("style.display"),Ce("design:type",Object),Ce("design:paramtypes",[])],Pe.prototype,"displayStyle",null),_e([(0,Y.L6J)("click"),Ce("design:type",Function),Ce("design:paramtypes",[]),Ce("design:returntype",void 0)],Pe.prototype,"tapToast",null),_e([(0,Y.L6J)("mouseenter"),Ce("design:type",Function),Ce("design:paramtypes",[]),Ce("design:returntype",void 0)],Pe.prototype,"stickAround",null),_e([(0,Y.L6J)("mouseleave"),Ce("design:type",Function),Ce("design:paramtypes",[]),Ce("design:returntype",void 0)],Pe.prototype,"delayedHideToast",null),Pe=_e([Ce("design:paramtypes",[Jt,Wn,Y.z2F])],Pe),Pe})()});let Gt=Lt=class{static forRoot(xe={}){return{ngModule:Lt,providers:[{provide:qn,useValue:{default:Ft,config:xe}}]}}};Gt.\u0275fac=function(xe){return new(xe||Gt)},Gt.\u0275mod=Y.oAB({type:Gt}),Gt.\u0275inj=Y.cJS({imports:[[Ge.ez]]})},1135:(qt,Ze,x)=>{x.d(Ze,{X:()=>h});var g=x(7579);class h extends g.x{constructor(De){super(),this._value=De}get value(){return this.getValue()}_subscribe(De){const _e=super._subscribe(De);return!_e.closed&&De.next(this._value),_e}getValue(){const{hasError:De,thrownError:_e,_value:Re}=this;if(De)throw _e;return this._throwIfClosed(),Re}next(De){super.next(this._value=De)}}},8306:(qt,Ze,x)=>{x.d(Ze,{y:()=>ne});var g=x(930),h=x(727),W=x(8822),De=x(4671);var Ce=x(2416),ce=x(576),X=x(2806);let ne=(()=>{class nt{constructor(ct){ct&&(this._subscribe=ct)}lift(ct){const Qe=new nt;return Qe.source=this,Qe.operator=ct,Qe}subscribe(ct,Qe,st){const Ue=function ut(nt){return nt&&nt instanceof g.Lv||function Ne(nt){return nt&&(0,ce.m)(nt.next)&&(0,ce.m)(nt.error)&&(0,ce.m)(nt.complete)}(nt)&&(0,h.Nn)(nt)}(ct)?ct:new g.Hp(ct,Qe,st);return(0,X.x)(()=>{const{operator:ft,source:me}=this;Ue.add(ft?ft.call(Ue,me):me?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(ct){try{return this._subscribe(ct)}catch(Qe){ct.error(Qe)}}forEach(ct,Qe){return new(Qe=ue(Qe))((st,Ue)=>{const ft=new g.Hp({next:me=>{try{ct(me)}catch(we){Ue(we),ft.unsubscribe()}},error:Ue,complete:st});this.subscribe(ft)})}_subscribe(ct){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(ct)}[W.L](){return this}pipe(...ct){return function Re(nt){return 0===nt.length?De.y:1===nt.length?nt[0]:function(ct){return nt.reduce((Qe,st)=>st(Qe),ct)}}(ct)(this)}toPromise(ct){return new(ct=ue(ct))((Qe,st)=>{let Ue;this.subscribe(ft=>Ue=ft,ft=>st(ft),()=>Qe(Ue))})}}return nt.create=dt=>new nt(dt),nt})();function ue(nt){var dt;return null!==(dt=null!=nt?nt:Ce.v.Promise)&&void 0!==dt?dt:Promise}},7579:(qt,Ze,x)=>{x.d(Ze,{x:()=>Ce});var g=x(8306),h=x(727);const De=(0,x(3888).d)(X=>function(){X(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=x(8737),Re=x(2806);let Ce=(()=>{class X extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Ne=new ce(this,this);return Ne.operator=ue,Ne}_throwIfClosed(){if(this.closed)throw new De}next(ue){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(ue)}})}error(ue){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(ue)}})}complete(){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Ne,isStopped:ut,observers:nt}=this;return Ne||ut?h.Lc:(this.currentObservers=null,nt.push(ue),new h.w0(()=>{this.currentObservers=null,(0,_e.P)(nt,ue)}))}_checkFinalizedStatuses(ue){const{hasError:Ne,thrownError:ut,isStopped:nt}=this;Ne?ue.error(ut):nt&&ue.complete()}asObservable(){const ue=new g.y;return ue.source=this,ue}}return X.create=(ne,ue)=>new ce(ne,ue),X})();class ce extends Ce{constructor(ne,ue){super(),this.destination=ne,this.source=ue}next(ne){var ue,Ne;null===(Ne=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Ne||Ne.call(ue,ne)}error(ne){var ue,Ne;null===(Ne=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Ne||Ne.call(ue,ne)}complete(){var ne,ue;null===(ue=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===ue||ue.call(ne)}_subscribe(ne){var ue,Ne;return null!==(Ne=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(ne))&&void 0!==Ne?Ne:h.Lc}}},930:(qt,Ze,x)=>{x.d(Ze,{Hp:()=>ct,Lv:()=>Ne});var g=x(576),h=x(727),W=x(2416),De=x(7849),_e=x(5032);const Re=X("C",void 0,void 0);function X(me,we,et){return{kind:me,value:we,error:et}}var ne=x(3410),ue=x(2806);class Ne extends h.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,h.Nn)(we)&&we.add(this)):this.destination=ft}static create(we,et,Tt){return new ct(we,et,Tt)}next(we){this.isStopped?Ue(function ce(me){return X("N",me,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Ue(function Ce(me){return X("E",void 0,me)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Ue(Re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ut=Function.prototype.bind;function nt(me,we){return ut.call(me,we)}class dt{constructor(we){this.partialObserver=we}next(we){const{partialObserver:et}=this;if(et.next)try{et.next(we)}catch(Tt){Qe(Tt)}}error(we){const{partialObserver:et}=this;if(et.error)try{et.error(we)}catch(Tt){Qe(Tt)}else Qe(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(et){Qe(et)}}}class ct extends Ne{constructor(we,et,Tt){let Y;if(super(),(0,g.m)(we)||!we)Y={next:null!=we?we:void 0,error:null!=et?et:void 0,complete:null!=Tt?Tt:void 0};else{let qe;this&&W.v.useDeprecatedNextContext?(qe=Object.create(we),qe.unsubscribe=()=>this.unsubscribe(),Y={next:we.next&&nt(we.next,qe),error:we.error&&nt(we.error,qe),complete:we.complete&&nt(we.complete,qe)}):Y=we}this.destination=new dt(Y)}}function Qe(me){W.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(me):(0,De.h)(me)}function Ue(me,we){const{onStoppedNotification:et}=W.v;et&&ne.z.setTimeout(()=>et(me,we))}const ft={closed:!0,next:_e.Z,error:function st(me){throw me},complete:_e.Z}},727:(qt,Ze,x)=>{x.d(Ze,{Lc:()=>Re,w0:()=>_e,Nn:()=>Ce});var g=x(576);const W=(0,x(3888).d)(X=>function(ue){X(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Ne,ut)=>`${ut+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var De=x(8737);class _e{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const nt of ue)nt.remove(this);else ue.remove(this);const{initialTeardown:Ne}=this;if((0,g.m)(Ne))try{Ne()}catch(nt){ne=nt instanceof W?nt.errors:[nt]}const{_finalizers:ut}=this;if(ut){this._finalizers=null;for(const nt of ut)try{ce(nt)}catch(dt){ne=null!=ne?ne:[],dt instanceof W?ne=[...ne,...dt.errors]:ne.push(dt)}}if(ne)throw new W(ne)}}add(ne){var ue;if(ne&&ne!==this)if(this.closed)ce(ne);else{if(ne instanceof _e){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(ne)}}_hasParent(ne){const{_parentage:ue}=this;return ue===ne||Array.isArray(ue)&&ue.includes(ne)}_addParent(ne){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(ne),ue):ue?[ue,ne]:ne}_removeParent(ne){const{_parentage:ue}=this;ue===ne?this._parentage=null:Array.isArray(ue)&&(0,De.P)(ue,ne)}remove(ne){const{_finalizers:ue}=this;ue&&(0,De.P)(ue,ne),ne instanceof _e&&ne._removeParent(this)}}_e.EMPTY=(()=>{const X=new _e;return X.closed=!0,X})();const Re=_e.EMPTY;function Ce(X){return X instanceof _e||X&&"closed"in X&&(0,g.m)(X.remove)&&(0,g.m)(X.add)&&(0,g.m)(X.unsubscribe)}function ce(X){(0,g.m)(X)?X():X.unsubscribe()}},2416:(qt,Ze,x)=>{x.d(Ze,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(qt,Ze,x)=>{x.d(Ze,{a:()=>ne});var g=x(8306),h=x(4742),W=x(8996),De=x(4671),_e=x(3268),Re=x(3269),Ce=x(1810),ce=x(5403),X=x(9672);function ne(...ut){const nt=(0,Re.yG)(ut),dt=(0,Re.jO)(ut),{args:ct,keys:Qe}=(0,h.D)(ut);if(0===ct.length)return(0,W.D)([],nt);const st=new g.y(function ue(ut,nt,dt=De.y){return ct=>{Ne(nt,()=>{const{length:Qe}=ut,st=new Array(Qe);let Ue=Qe,ft=Qe;for(let me=0;me<Qe;me++)Ne(nt,()=>{const we=(0,W.D)(ut[me],nt);let et=!1;we.subscribe((0,ce.x)(ct,Tt=>{st[me]=Tt,et||(et=!0,ft--),ft||ct.next(dt(st.slice()))},()=>{--Ue||ct.complete()}))},ct)},ct)}}(ct,nt,Qe?Ue=>(0,Ce.n)(Qe,Ue):De.y));return dt?st.pipe((0,_e.Z)(dt)):st}function Ne(ut,nt,dt){ut?(0,X.f)(dt,ut,nt):nt()}},7272:(qt,Ze,x)=>{x.d(Ze,{z:()=>_e});var g=x(8189),W=x(3269),De=x(8996);function _e(...Re){return function h(){return(0,g.J)(1)}()((0,De.D)(Re,(0,W.yG)(Re)))}},9770:(qt,Ze,x)=>{x.d(Ze,{P:()=>W});var g=x(8306),h=x(8421);function W(De){return new g.y(_e=>{(0,h.Xf)(De()).subscribe(_e)})}},515:(qt,Ze,x)=>{x.d(Ze,{E:()=>h});const h=new(x(8306).y)(_e=>_e.complete())},4128:(qt,Ze,x)=>{x.d(Ze,{D:()=>ce});var g=x(8306),h=x(4742),W=x(8421),De=x(3269),_e=x(5403),Re=x(3268),Ce=x(1810);function ce(...X){const ne=(0,De.jO)(X),{args:ue,keys:Ne}=(0,h.D)(X),ut=new g.y(nt=>{const{length:dt}=ue;if(!dt)return void nt.complete();const ct=new Array(dt);let Qe=dt,st=dt;for(let Ue=0;Ue<dt;Ue++){let ft=!1;(0,W.Xf)(ue[Ue]).subscribe((0,_e.x)(nt,me=>{ft||(ft=!0,st--),ct[Ue]=me},()=>Qe--,void 0,()=>{(!Qe||!ft)&&(st||nt.next(Ne?(0,Ce.n)(Ne,ct):ct),nt.complete())}))}});return ne?ut.pipe((0,Re.Z)(ne)):ut}},8996:(qt,Ze,x)=>{x.d(Ze,{D:()=>we});var g=x(8421),h=x(5363),W=x(9468),Re=x(8306),ce=x(2202),X=x(576),ne=x(9672);function Ne(et,Tt){if(!et)throw new Error("Iterable cannot be null");return new Re.y(Y=>{(0,ne.f)(Y,Tt,()=>{const qe=et[Symbol.asyncIterator]();(0,ne.f)(Y,Tt,()=>{qe.next().then(tt=>{tt.done?Y.complete():Y.next(tt.value)})},0,!0)})})}var ut=x(3670),nt=x(8239),dt=x(1144),ct=x(6495),Qe=x(2206),st=x(4532),Ue=x(3260);function we(et,Tt){return Tt?function me(et,Tt){if(null!=et){if((0,ut.c)(et))return function De(et,Tt){return(0,g.Xf)(et).pipe((0,W.R)(Tt),(0,h.Q)(Tt))}(et,Tt);if((0,dt.z)(et))return function Ce(et,Tt){return new Re.y(Y=>{let qe=0;return Tt.schedule(function(){qe===et.length?Y.complete():(Y.next(et[qe++]),Y.closed||this.schedule())})})}(et,Tt);if((0,nt.t)(et))return function _e(et,Tt){return(0,g.Xf)(et).pipe((0,W.R)(Tt),(0,h.Q)(Tt))}(et,Tt);if((0,Qe.D)(et))return Ne(et,Tt);if((0,ct.T)(et))return function ue(et,Tt){return new Re.y(Y=>{let qe;return(0,ne.f)(Y,Tt,()=>{qe=et[ce.h](),(0,ne.f)(Y,Tt,()=>{let tt,Le;try{({value:tt,done:Le}=qe.next())}catch(Ge){return void Y.error(Ge)}Le?Y.complete():Y.next(tt)},0,!0)}),()=>(0,X.m)(null==qe?void 0:qe.return)&&qe.return()})}(et,Tt);if((0,Ue.L)(et))return function ft(et,Tt){return Ne((0,Ue.Q)(et),Tt)}(et,Tt)}throw(0,st.z)(et)}(et,Tt):(0,g.Xf)(et)}},8421:(qt,Ze,x)=>{x.d(Ze,{Xf:()=>ut});var g=x(655),h=x(1144),W=x(8239),De=x(8306),_e=x(3670),Re=x(2206),Ce=x(4532),ce=x(6495),X=x(3260),ne=x(576),ue=x(7849),Ne=x(8822);function ut(me){if(me instanceof De.y)return me;if(null!=me){if((0,_e.c)(me))return function nt(me){return new De.y(we=>{const et=me[Ne.L]();if((0,ne.m)(et.subscribe))return et.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(me);if((0,h.z)(me))return function dt(me){return new De.y(we=>{for(let et=0;et<me.length&&!we.closed;et++)we.next(me[et]);we.complete()})}(me);if((0,W.t)(me))return function ct(me){return new De.y(we=>{me.then(et=>{we.closed||(we.next(et),we.complete())},et=>we.error(et)).then(null,ue.h)})}(me);if((0,Re.D)(me))return st(me);if((0,ce.T)(me))return function Qe(me){return new De.y(we=>{for(const et of me)if(we.next(et),we.closed)return;we.complete()})}(me);if((0,X.L)(me))return function Ue(me){return st((0,X.Q)(me))}(me)}throw(0,Ce.z)(me)}function st(me){return new De.y(we=>{(function ft(me,we){var et,Tt,Y,qe;return(0,g.mG)(this,void 0,void 0,function*(){try{for(et=(0,g.KL)(me);!(Tt=yield et.next()).done;)if(we.next(Tt.value),we.closed)return}catch(tt){Y={error:tt}}finally{try{Tt&&!Tt.done&&(qe=et.return)&&(yield qe.call(et))}finally{if(Y)throw Y.error}}we.complete()})})(me,we).catch(et=>we.error(et))})}},6451:(qt,Ze,x)=>{x.d(Ze,{T:()=>Re});var g=x(8189),h=x(8421),W=x(515),De=x(3269),_e=x(8996);function Re(...Ce){const ce=(0,De.yG)(Ce),X=(0,De._6)(Ce,1/0),ne=Ce;return ne.length?1===ne.length?(0,h.Xf)(ne[0]):(0,g.J)(X)((0,_e.D)(ne,ce)):W.E}},9646:(qt,Ze,x)=>{x.d(Ze,{of:()=>W});var g=x(3269),h=x(8996);function W(...De){const _e=(0,g.yG)(De);return(0,h.D)(De,_e)}},5403:(qt,Ze,x)=>{x.d(Ze,{x:()=>h});var g=x(930);function h(De,_e,Re,Ce,ce){return new W(De,_e,Re,Ce,ce)}class W extends g.Lv{constructor(_e,Re,Ce,ce,X,ne){super(_e),this.onFinalize=X,this.shouldUnsubscribe=ne,this._next=Re?function(ue){try{Re(ue)}catch(Ne){_e.error(Ne)}}:super._next,this._error=ce?function(ue){try{ce(ue)}catch(Ne){_e.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(ue){_e.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Re}=this;super.unsubscribe(),!Re&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},4351:(qt,Ze,x)=>{x.d(Ze,{b:()=>W});var g=x(5577),h=x(576);function W(De,_e){return(0,h.m)(_e)?(0,g.z)(De,_e,1):(0,g.z)(De,1)}},6590:(qt,Ze,x)=>{x.d(Ze,{d:()=>W});var g=x(4482),h=x(5403);function W(De){return(0,g.e)((_e,Re)=>{let Ce=!1;_e.subscribe((0,h.x)(Re,ce=>{Ce=!0,Re.next(ce)},()=>{Ce||Re.next(De),Re.complete()}))})}},1884:(qt,Ze,x)=>{x.d(Ze,{x:()=>De});var g=x(4671),h=x(4482),W=x(5403);function De(Re,Ce=g.y){return Re=null!=Re?Re:_e,(0,h.e)((ce,X)=>{let ne,ue=!0;ce.subscribe((0,W.x)(X,Ne=>{const ut=Ce(Ne);(ue||!Re(ne,ut))&&(ue=!1,ne=ut,X.next(Ne))}))})}function _e(Re,Ce){return Re===Ce}},9300:(qt,Ze,x)=>{x.d(Ze,{h:()=>W});var g=x(4482),h=x(5403);function W(De,_e){return(0,g.e)((Re,Ce)=>{let ce=0;Re.subscribe((0,h.x)(Ce,X=>De.call(_e,X,ce++)&&Ce.next(X)))})}},590:(qt,Ze,x)=>{x.d(Ze,{P:()=>Ce});var g=x(6805),h=x(9300),W=x(5698),De=x(6590),_e=x(8068),Re=x(4671);function Ce(ce,X){const ne=arguments.length>=2;return ue=>ue.pipe(ce?(0,h.h)((Ne,ut)=>ce(Ne,ut,ue)):Re.y,(0,W.q)(1),ne?(0,De.d)(X):(0,_e.T)(()=>new g.K))}},4004:(qt,Ze,x)=>{x.d(Ze,{U:()=>W});var g=x(4482),h=x(5403);function W(De,_e){return(0,g.e)((Re,Ce)=>{let ce=0;Re.subscribe((0,h.x)(Ce,X=>{Ce.next(De.call(_e,X,ce++))}))})}},8189:(qt,Ze,x)=>{x.d(Ze,{J:()=>W});var g=x(5577),h=x(4671);function W(De=1/0){return(0,g.z)(h.y,De)}},5577:(qt,Ze,x)=>{x.d(Ze,{z:()=>ce});var g=x(4004),h=x(8421),W=x(4482),De=x(9672),_e=x(5403),Ce=x(576);function ce(X,ne,ue=1/0){return(0,Ce.m)(ne)?ce((Ne,ut)=>(0,g.U)((nt,dt)=>ne(Ne,nt,ut,dt))((0,h.Xf)(X(Ne,ut))),ue):("number"==typeof ne&&(ue=ne),(0,W.e)((Ne,ut)=>function Re(X,ne,ue,Ne,ut,nt,dt,ct){const Qe=[];let st=0,Ue=0,ft=!1;const me=()=>{ft&&!Qe.length&&!st&&ne.complete()},we=Tt=>st<Ne?et(Tt):Qe.push(Tt),et=Tt=>{nt&&ne.next(Tt),st++;let Y=!1;(0,h.Xf)(ue(Tt,Ue++)).subscribe((0,_e.x)(ne,qe=>{null==ut||ut(qe),nt?we(qe):ne.next(qe)},()=>{Y=!0},void 0,()=>{if(Y)try{for(st--;Qe.length&&st<Ne;){const qe=Qe.shift();dt?(0,De.f)(ne,dt,()=>et(qe)):et(qe)}me()}catch(qe){ne.error(qe)}}))};return X.subscribe((0,_e.x)(ne,we,()=>{ft=!0,me()})),()=>{null==ct||ct()}}(Ne,ut,X,ue)))}},5363:(qt,Ze,x)=>{x.d(Ze,{Q:()=>De});var g=x(9672),h=x(4482),W=x(5403);function De(_e,Re=0){return(0,h.e)((Ce,ce)=>{Ce.subscribe((0,W.x)(ce,X=>(0,g.f)(ce,_e,()=>ce.next(X),Re),()=>(0,g.f)(ce,_e,()=>ce.complete(),Re),X=>(0,g.f)(ce,_e,()=>ce.error(X),Re)))})}},5026:(qt,Ze,x)=>{x.d(Ze,{R:()=>De});var g=x(4482),h=x(5403);function W(_e,Re,Ce,ce,X){return(ne,ue)=>{let Ne=Ce,ut=Re,nt=0;ne.subscribe((0,h.x)(ue,dt=>{const ct=nt++;ut=Ne?_e(ut,dt,ct):(Ne=!0,dt),ce&&ue.next(ut)},X&&(()=>{Ne&&ue.next(ut),ue.complete()})))}}function De(_e,Re){return(0,g.e)(W(_e,Re,arguments.length>=2,!0))}},3099:(qt,Ze,x)=>{x.d(Ze,{B:()=>_e});var g=x(8421),h=x(7579),W=x(930),De=x(4482);function _e(Ce={}){const{connector:ce=(()=>new h.x),resetOnError:X=!0,resetOnComplete:ne=!0,resetOnRefCountZero:ue=!0}=Ce;return Ne=>{let ut,nt,dt,ct=0,Qe=!1,st=!1;const Ue=()=>{null==nt||nt.unsubscribe(),nt=void 0},ft=()=>{Ue(),ut=dt=void 0,Qe=st=!1},me=()=>{const we=ut;ft(),null==we||we.unsubscribe()};return(0,De.e)((we,et)=>{ct++,!st&&!Qe&&Ue();const Tt=dt=null!=dt?dt:ce();et.add(()=>{ct--,0===ct&&!st&&!Qe&&(nt=Re(me,ue))}),Tt.subscribe(et),!ut&&ct>0&&(ut=new W.Hp({next:Y=>Tt.next(Y),error:Y=>{st=!0,Ue(),nt=Re(ft,X,Y),Tt.error(Y)},complete:()=>{Qe=!0,Ue(),nt=Re(ft,ne),Tt.complete()}}),(0,g.Xf)(we).subscribe(ut))})(Ne)}}function Re(Ce,ce,...X){if(!0===ce)return void Ce();if(!1===ce)return;const ne=new W.Hp({next:()=>{ne.unsubscribe(),Ce()}});return ce(...X).subscribe(ne)}},3151:(qt,Ze,x)=>{x.d(Ze,{d:()=>_e});var g=x(7579),h=x(6063);class W extends g.x{constructor(Ce=1/0,ce=1/0,X=h.l){super(),this._bufferSize=Ce,this._windowTime=ce,this._timestampProvider=X,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ce===1/0,this._bufferSize=Math.max(1,Ce),this._windowTime=Math.max(1,ce)}next(Ce){const{isStopped:ce,_buffer:X,_infiniteTimeWindow:ne,_timestampProvider:ue,_windowTime:Ne}=this;ce||(X.push(Ce),!ne&&X.push(ue.now()+Ne)),this._trimBuffer(),super.next(Ce)}_subscribe(Ce){this._throwIfClosed(),this._trimBuffer();const ce=this._innerSubscribe(Ce),{_infiniteTimeWindow:X,_buffer:ne}=this,ue=ne.slice();for(let Ne=0;Ne<ue.length&&!Ce.closed;Ne+=X?1:2)Ce.next(ue[Ne]);return this._checkFinalizedStatuses(Ce),ce}_trimBuffer(){const{_bufferSize:Ce,_timestampProvider:ce,_buffer:X,_infiniteTimeWindow:ne}=this,ue=(ne?1:2)*Ce;if(Ce<1/0&&ue<X.length&&X.splice(0,X.length-ue),!ne){const Ne=ce.now();let ut=0;for(let nt=1;nt<X.length&&X[nt]<=Ne;nt+=2)ut=nt;ut&&X.splice(0,ut+1)}}}var De=x(3099);function _e(Re,Ce,ce){let X,ne=!1;return Re&&"object"==typeof Re?({bufferSize:X=1/0,windowTime:Ce=1/0,refCount:ne=!1,scheduler:ce}=Re):X=null!=Re?Re:1/0,(0,De.B)({connector:()=>new W(X,Ce,ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ne})}},8675:(qt,Ze,x)=>{x.d(Ze,{O:()=>De});var g=x(7272),h=x(3269),W=x(4482);function De(..._e){const Re=(0,h.yG)(_e);return(0,W.e)((Ce,ce)=>{(Re?(0,g.z)(_e,Ce,Re):(0,g.z)(_e,Ce)).subscribe(ce)})}},9468:(qt,Ze,x)=>{x.d(Ze,{R:()=>h});var g=x(4482);function h(W,De=0){return(0,g.e)((_e,Re)=>{Re.add(W.schedule(()=>_e.subscribe(Re),De))})}},3900:(qt,Ze,x)=>{x.d(Ze,{w:()=>De});var g=x(8421),h=x(4482),W=x(5403);function De(_e,Re){return(0,h.e)((Ce,ce)=>{let X=null,ne=0,ue=!1;const Ne=()=>ue&&!X&&ce.complete();Ce.subscribe((0,W.x)(ce,ut=>{null==X||X.unsubscribe();let nt=0;const dt=ne++;(0,g.Xf)(_e(ut,dt)).subscribe(X=(0,W.x)(ce,ct=>ce.next(Re?Re(ut,ct,dt,nt++):ct),()=>{X=null,Ne()}))},()=>{ue=!0,Ne()}))})}},5698:(qt,Ze,x)=>{x.d(Ze,{q:()=>De});var g=x(515),h=x(4482),W=x(5403);function De(_e){return _e<=0?()=>g.E:(0,h.e)((Re,Ce)=>{let ce=0;Re.subscribe((0,W.x)(Ce,X=>{++ce<=_e&&(Ce.next(X),_e<=ce&&Ce.complete())}))})}},8505:(qt,Ze,x)=>{x.d(Ze,{b:()=>_e});var g=x(576),h=x(4482),W=x(5403),De=x(4671);function _e(Re,Ce,ce){const X=(0,g.m)(Re)||Ce||ce?{next:Re,error:Ce,complete:ce}:Re;return X?(0,h.e)((ne,ue)=>{var Ne;null===(Ne=X.subscribe)||void 0===Ne||Ne.call(X);let ut=!0;ne.subscribe((0,W.x)(ue,nt=>{var dt;null===(dt=X.next)||void 0===dt||dt.call(X,nt),ue.next(nt)},()=>{var nt;ut=!1,null===(nt=X.complete)||void 0===nt||nt.call(X),ue.complete()},nt=>{var dt;ut=!1,null===(dt=X.error)||void 0===dt||dt.call(X,nt),ue.error(nt)},()=>{var nt,dt;ut&&(null===(nt=X.unsubscribe)||void 0===nt||nt.call(X)),null===(dt=X.finalize)||void 0===dt||dt.call(X)}))}):De.y}},8068:(qt,Ze,x)=>{x.d(Ze,{T:()=>De});var g=x(6805),h=x(4482),W=x(5403);function De(Re=_e){return(0,h.e)((Ce,ce)=>{let X=!1;Ce.subscribe((0,W.x)(ce,ne=>{X=!0,ce.next(ne)},()=>X?ce.complete():ce.error(Re())))})}function _e(){return new g.K}},4408:(qt,Ze,x)=>{x.d(Ze,{o:()=>_e});var g=x(727);class h extends g.w0{constructor(Ce,ce){super()}schedule(Ce,ce=0){return this}}const W={setInterval(Re,Ce,...ce){const{delegate:X}=W;return(null==X?void 0:X.setInterval)?X.setInterval(Re,Ce,...ce):setInterval(Re,Ce,...ce)},clearInterval(Re){const{delegate:Ce}=W;return((null==Ce?void 0:Ce.clearInterval)||clearInterval)(Re)},delegate:void 0};var De=x(8737);class _e extends h{constructor(Ce,ce){super(Ce,ce),this.scheduler=Ce,this.work=ce,this.pending=!1}schedule(Ce,ce=0){var X;if(this.closed)return this;this.state=Ce;const ne=this.id,ue=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(ue,ne,ce)),this.pending=!0,this.delay=ce,this.id=null!==(X=this.id)&&void 0!==X?X:this.requestAsyncId(ue,this.id,ce),this}requestAsyncId(Ce,ce,X=0){return W.setInterval(Ce.flush.bind(Ce,this),X)}recycleAsyncId(Ce,ce,X=0){if(null!=X&&this.delay===X&&!1===this.pending)return ce;null!=ce&&W.clearInterval(ce)}execute(Ce,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const X=this._execute(Ce,ce);if(X)return X;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,ce){let ne,X=!1;try{this.work(Ce)}catch(ue){X=!0,ne=ue||new Error("Scheduled action threw falsy error")}if(X)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:ce}=this,{actions:X}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,De.P)(X,this),null!=Ce&&(this.id=this.recycleAsyncId(ce,Ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(qt,Ze,x)=>{x.d(Ze,{v:()=>W});var g=x(6063);class h{constructor(_e,Re=h.now){this.schedulerActionCtor=_e,this.now=Re}schedule(_e,Re=0,Ce){return new this.schedulerActionCtor(this,_e).schedule(Ce,Re)}}h.now=g.l.now;class W extends h{constructor(_e,Re=h.now){super(_e,Re),this.actions=[],this._active=!1}flush(_e){const{actions:Re}=this;if(this._active)return void Re.push(_e);let Ce;this._active=!0;do{if(Ce=_e.execute(_e.state,_e.delay))break}while(_e=Re.shift());if(this._active=!1,Ce){for(;_e=Re.shift();)_e.unsubscribe();throw Ce}}}},4986:(qt,Ze,x)=>{x.d(Ze,{P:()=>De,z:()=>W});var g=x(4408);const W=new(x(7565).v)(g.o),De=W},6063:(qt,Ze,x)=>{x.d(Ze,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},233:(qt,Ze,x)=>{x.d(Ze,{N:()=>_e});var g=x(4408),W=x(7565);const _e=new class De extends W.v{}(class h extends g.o{constructor(ce,X){super(ce,X),this.scheduler=ce,this.work=X}schedule(ce,X=0){return X>0?super.schedule(ce,X):(this.delay=X,this.state=ce,this.scheduler.flush(this),this)}execute(ce,X){return X>0||this.closed?super.execute(ce,X):this._execute(ce,X)}requestAsyncId(ce,X,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(ce,X,ne):(ce.flush(this),0)}})},3410:(qt,Ze,x)=>{x.d(Ze,{z:()=>g});const g={setTimeout(h,W,...De){const{delegate:_e}=g;return(null==_e?void 0:_e.setTimeout)?_e.setTimeout(h,W,...De):setTimeout(h,W,...De)},clearTimeout(h){const{delegate:W}=g;return((null==W?void 0:W.clearTimeout)||clearTimeout)(h)},delegate:void 0}},2202:(qt,Ze,x)=>{x.d(Ze,{h:()=>h});const h=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(qt,Ze,x)=>{x.d(Ze,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(qt,Ze,x)=>{x.d(Ze,{K:()=>h});const h=(0,x(3888).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(qt,Ze,x)=>{x.d(Ze,{_6:()=>Re,jO:()=>De,yG:()=>_e});var g=x(576),h=x(3532);function W(Ce){return Ce[Ce.length-1]}function De(Ce){return(0,g.m)(W(Ce))?Ce.pop():void 0}function _e(Ce){return(0,h.K)(W(Ce))?Ce.pop():void 0}function Re(Ce,ce){return"number"==typeof W(Ce)?Ce.pop():ce}},4742:(qt,Ze,x)=>{x.d(Ze,{D:()=>_e});const{isArray:g}=Array,{getPrototypeOf:h,prototype:W,keys:De}=Object;function _e(Ce){if(1===Ce.length){const ce=Ce[0];if(g(ce))return{args:ce,keys:null};if(function Re(Ce){return Ce&&"object"==typeof Ce&&h(Ce)===W}(ce)){const X=De(ce);return{args:X.map(ne=>ce[ne]),keys:X}}}return{args:Ce,keys:null}}},8737:(qt,Ze,x)=>{function g(h,W){if(h){const De=h.indexOf(W);0<=De&&h.splice(De,1)}}x.d(Ze,{P:()=>g})},3888:(qt,Ze,x)=>{function g(h){const De=h(_e=>{Error.call(_e),_e.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}x.d(Ze,{d:()=>g})},1810:(qt,Ze,x)=>{function g(h,W){return h.reduce((De,_e,Re)=>(De[_e]=W[Re],De),{})}x.d(Ze,{n:()=>g})},2806:(qt,Ze,x)=>{x.d(Ze,{O:()=>De,x:()=>W});var g=x(2416);let h=null;function W(_e){if(g.v.useDeprecatedSynchronousErrorHandling){const Re=!h;if(Re&&(h={errorThrown:!1,error:null}),_e(),Re){const{errorThrown:Ce,error:ce}=h;if(h=null,Ce)throw ce}}else _e()}function De(_e){g.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=_e)}},9672:(qt,Ze,x)=>{function g(h,W,De,_e=0,Re=!1){const Ce=W.schedule(function(){De(),Re?h.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(h.add(Ce),!Re)return Ce}x.d(Ze,{f:()=>g})},4671:(qt,Ze,x)=>{function g(h){return h}x.d(Ze,{y:()=>g})},1144:(qt,Ze,x)=>{x.d(Ze,{z:()=>g});const g=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(qt,Ze,x)=>{x.d(Ze,{D:()=>h});var g=x(576);function h(W){return Symbol.asyncIterator&&(0,g.m)(null==W?void 0:W[Symbol.asyncIterator])}},576:(qt,Ze,x)=>{function g(h){return"function"==typeof h}x.d(Ze,{m:()=>g})},3670:(qt,Ze,x)=>{x.d(Ze,{c:()=>W});var g=x(8822),h=x(576);function W(De){return(0,h.m)(De[g.L])}},6495:(qt,Ze,x)=>{x.d(Ze,{T:()=>W});var g=x(2202),h=x(576);function W(De){return(0,h.m)(null==De?void 0:De[g.h])}},8239:(qt,Ze,x)=>{x.d(Ze,{t:()=>h});var g=x(576);function h(W){return(0,g.m)(null==W?void 0:W.then)}},3260:(qt,Ze,x)=>{x.d(Ze,{L:()=>De,Q:()=>W});var g=x(655),h=x(576);function W(_e){return(0,g.FC)(this,arguments,function*(){const Ce=_e.getReader();try{for(;;){const{value:ce,done:X}=yield(0,g.qq)(Ce.read());if(X)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(ce)}}finally{Ce.releaseLock()}})}function De(_e){return(0,h.m)(null==_e?void 0:_e.getReader)}},3532:(qt,Ze,x)=>{x.d(Ze,{K:()=>h});var g=x(576);function h(W){return W&&(0,g.m)(W.schedule)}},4482:(qt,Ze,x)=>{x.d(Ze,{A:()=>h,e:()=>W});var g=x(576);function h(De){return(0,g.m)(null==De?void 0:De.lift)}function W(De){return _e=>{if(h(_e))return _e.lift(function(Re){try{return De(Re,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(qt,Ze,x)=>{x.d(Ze,{Z:()=>De});var g=x(4004);const{isArray:h}=Array;function De(_e){return(0,g.U)(Re=>function W(_e,Re){return h(Re)?_e(...Re):_e(Re)}(_e,Re))}},5032:(qt,Ze,x)=>{function g(){}x.d(Ze,{Z:()=>g})},7849:(qt,Ze,x)=>{x.d(Ze,{h:()=>W});var g=x(2416),h=x(3410);function W(De){h.z.setTimeout(()=>{const{onUnhandledError:_e}=g.v;if(!_e)throw De;_e(De)})}},4532:(qt,Ze,x)=>{function g(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(Ze,{z:()=>g})},655:(qt,Ze,x)=>{function De(Le,Ge){var Xe={};for(var ot in Le)Object.prototype.hasOwnProperty.call(Le,ot)&&Ge.indexOf(ot)<0&&(Xe[ot]=Le[ot]);if(null!=Le&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(ot=Object.getOwnPropertySymbols(Le);it<ot.length;it++)Ge.indexOf(ot[it])<0&&Object.prototype.propertyIsEnumerable.call(Le,ot[it])&&(Xe[ot[it]]=Le[ot[it]])}return Xe}function _e(Le,Ge,Xe,ot){var on,it=arguments.length,Rt=it<3?Ge:null===ot?ot=Object.getOwnPropertyDescriptor(Ge,Xe):ot;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Rt=Reflect.decorate(Le,Ge,Xe,ot);else for(var pt=Le.length-1;pt>=0;pt--)(on=Le[pt])&&(Rt=(it<3?on(Rt):it>3?on(Ge,Xe,Rt):on(Ge,Xe))||Rt);return it>3&&Rt&&Object.defineProperty(Ge,Xe,Rt),Rt}function Ce(Le,Ge){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Le,Ge)}function ce(Le,Ge,Xe,ot){return new(Xe||(Xe=Promise))(function(Rt,on){function pt(Se){try{q(ot.next(Se))}catch(Ke){on(Ke)}}function vt(Se){try{q(ot.throw(Se))}catch(Ke){on(Ke)}}function q(Se){Se.done?Rt(Se.value):function it(Rt){return Rt instanceof Xe?Rt:new Xe(function(on){on(Rt)})}(Se.value).then(pt,vt)}q((ot=ot.apply(Le,Ge||[])).next())})}function Qe(Le){return this instanceof Qe?(this.v=Le,this):new Qe(Le)}function st(Le,Ge,Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,ot=Xe.apply(Le,Ge||[]),Rt=[];return it={},on("next"),on("throw"),on("return"),it[Symbol.asyncIterator]=function(){return this},it;function on(Mt){ot[Mt]&&(it[Mt]=function($t){return new Promise(function(Xt,hn){Rt.push([Mt,$t,Xt,hn])>1||pt(Mt,$t)})})}function pt(Mt,$t){try{!function vt(Mt){Mt.value instanceof Qe?Promise.resolve(Mt.value.v).then(q,Se):Ke(Rt[0][2],Mt)}(ot[Mt]($t))}catch(Xt){Ke(Rt[0][3],Xt)}}function q(Mt){pt("next",Mt)}function Se(Mt){pt("throw",Mt)}function Ke(Mt,$t){Mt($t),Rt.shift(),Rt.length&&pt(Rt[0][0],Rt[0][1])}}function ft(Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Ge=Le[Symbol.asyncIterator];return Ge?Ge.call(Le):(Le=function Ne(Le){var Ge="function"==typeof Symbol&&Symbol.iterator,Xe=Ge&&Le[Ge],ot=0;if(Xe)return Xe.call(Le);if(Le&&"number"==typeof Le.length)return{next:function(){return Le&&ot>=Le.length&&(Le=void 0),{value:Le&&Le[ot++],done:!Le}}};throw new TypeError(Ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(Le),Xe={},ot("next"),ot("throw"),ot("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe);function ot(Rt){Xe[Rt]=Le[Rt]&&function(on){return new Promise(function(pt,vt){!function it(Rt,on,pt,vt){Promise.resolve(vt).then(function(q){Rt({value:q,done:pt})},on)}(pt,vt,(on=Le[Rt](on)).done,on.value)})}}}x.d(Ze,{FC:()=>st,KL:()=>ft,_T:()=>De,gn:()=>_e,mG:()=>ce,qq:()=>Qe,w6:()=>Ce})},1777:(qt,Ze,x)=>{x.d(Ze,{LC:()=>h,SB:()=>X,X$:()=>De,ZE:()=>Ue,ZN:()=>st,_j:()=>g,eR:()=>ue,jt:()=>_e,k1:()=>ft,l3:()=>W,oB:()=>ce,vP:()=>Ce});class g{}class h{}const W="*";function De(me,we){return{type:7,name:me,definitions:we,options:{}}}function _e(me,we=null){return{type:4,styles:we,timings:me}}function Ce(me,we=null){return{type:2,steps:me,options:we}}function ce(me){return{type:6,styles:me,offset:null}}function X(me,we,et){return{type:0,name:me,styles:we,options:et}}function ue(me,we,et=null){return{type:1,expr:me,animation:we,options:et}}function Qe(me){Promise.resolve(null).then(me)}class st{constructor(we=0,et=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=we+et}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}onStart(we){this._onStartFns.push(we)}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Qe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(we=>we()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(we){this._position=this.totalTime?we*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(we){const et="start"==we?this._onStartFns:this._onDoneFns;et.forEach(Tt=>Tt()),et.length=0}}class Ue{constructor(we){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=we;let et=0,Tt=0,Y=0;const qe=this.players.length;0==qe?Qe(()=>this._onFinish()):this.players.forEach(tt=>{tt.onDone(()=>{++et==qe&&this._onFinish()}),tt.onDestroy(()=>{++Tt==qe&&this._onDestroy()}),tt.onStart(()=>{++Y==qe&&this._onStart()})}),this.totalTime=this.players.reduce((tt,Le)=>Math.max(tt,Le.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}init(){this.players.forEach(we=>we.init())}onStart(we){this._onStartFns.push(we)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(we=>we()),this._onStartFns=[])}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(we=>we.play())}pause(){this.players.forEach(we=>we.pause())}restart(){this.players.forEach(we=>we.restart())}finish(){this._onFinish(),this.players.forEach(we=>we.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(we=>we.destroy()),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this.players.forEach(we=>we.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(we){const et=we*this.totalTime;this.players.forEach(Tt=>{const Y=Tt.totalTime?Math.min(1,et/Tt.totalTime):1;Tt.setPosition(Y)})}getPosition(){const we=this.players.reduce((et,Tt)=>null===et||Tt.totalTime>et.totalTime?Tt:et,null);return null!=we?we.getPosition():0}beforeDestroy(){this.players.forEach(we=>{we.beforeDestroy&&we.beforeDestroy()})}triggerCallback(we){const et="start"==we?this._onStartFns:this._onDoneFns;et.forEach(Tt=>Tt()),et.length=0}}const ft="!"},9808:(qt,Ze,x)=>{x.d(Ze,{Do:()=>me,ED:()=>vi,EM:()=>Pr,HT:()=>_e,JF:()=>_i,K0:()=>Ce,Mx:()=>qr,NF:()=>wi,O5:()=>hi,Ov:()=>lo,PC:()=>ps,PM:()=>br,RF:()=>Ot,S$:()=>Qe,V_:()=>ne,Ye:()=>we,b0:()=>ft,bD:()=>ha,ez:()=>Hr,gd:()=>Ms,lw:()=>ce,mk:()=>Gi,mr:()=>Ue,n9:()=>Ji,q:()=>W,rS:()=>vr,sg:()=>Bi,tP:()=>Or,w_:()=>Re});var g=x(5e3);let h=null;function W(){return h}function _e(U){h||(h=U)}class Re{}const Ce=new g.OlP("DocumentToken");let ce=(()=>{class U{historyGo(L){throw new Error("Not implemented")}}return U.\u0275fac=function(L){return new(L||U)},U.\u0275prov=g.Yz7({token:U,factory:function(){return function X(){return(0,g.LFG)(ue)}()},providedIn:"platform"}),U})();const ne=new g.OlP("Location Initialized");let ue=(()=>{class U extends ce{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(L){const le=W().getGlobalEventTarget(this._doc,"window");return le.addEventListener("popstate",L,!1),()=>le.removeEventListener("popstate",L)}onHashChange(L){const le=W().getGlobalEventTarget(this._doc,"window");return le.addEventListener("hashchange",L,!1),()=>le.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,le,je){Ne()?this._history.pushState(L,le,je):this.location.hash=je}replaceState(L,le,je){Ne()?this._history.replaceState(L,le,je):this.location.hash=je}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return U.\u0275fac=function(L){return new(L||U)(g.LFG(Ce))},U.\u0275prov=g.Yz7({token:U,factory:function(){return function ut(){return new ue((0,g.LFG)(Ce))}()},providedIn:"platform"}),U})();function Ne(){return!!window.history.pushState}function nt(U,Q){if(0==U.length)return Q;if(0==Q.length)return U;let L=0;return U.endsWith("/")&&L++,Q.startsWith("/")&&L++,2==L?U+Q.substring(1):1==L?U+Q:U+"/"+Q}function dt(U){const Q=U.match(/#|\?|$/),L=Q&&Q.index||U.length;return U.slice(0,L-("/"===U[L-1]?1:0))+U.slice(L)}function ct(U){return U&&"?"!==U[0]?"?"+U:U}let Qe=(()=>{class U{historyGo(L){throw new Error("Not implemented")}}return U.\u0275fac=function(L){return new(L||U)},U.\u0275prov=g.Yz7({token:U,factory:function(){return function st(U){const Q=(0,g.LFG)(Ce).location;return new ft((0,g.LFG)(ce),Q&&Q.origin||"")}()},providedIn:"root"}),U})();const Ue=new g.OlP("appBaseHref");let ft=(()=>{class U extends Qe{constructor(L,le){if(super(),this._platformLocation=L,this._removeListenerFns=[],null==le&&(le=this._platformLocation.getBaseHrefFromDOM()),null==le)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=le}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return nt(this._baseHref,L)}path(L=!1){const le=this._platformLocation.pathname+ct(this._platformLocation.search),je=this._platformLocation.hash;return je&&L?`${le}${je}`:le}pushState(L,le,je,Ct){const Ut=this.prepareExternalUrl(je+ct(Ct));this._platformLocation.pushState(L,le,Ut)}replaceState(L,le,je,Ct){const Ut=this.prepareExternalUrl(je+ct(Ct));this._platformLocation.replaceState(L,le,Ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var le,je;null===(je=(le=this._platformLocation).historyGo)||void 0===je||je.call(le,L)}}return U.\u0275fac=function(L){return new(L||U)(g.LFG(ce),g.LFG(Ue,8))},U.\u0275prov=g.Yz7({token:U,factory:U.\u0275fac}),U})(),me=(()=>{class U extends Qe{constructor(L,le){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=le&&(this._baseHref=le)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let le=this._platformLocation.hash;return null==le&&(le="#"),le.length>0?le.substring(1):le}prepareExternalUrl(L){const le=nt(this._baseHref,L);return le.length>0?"#"+le:le}pushState(L,le,je,Ct){let Ut=this.prepareExternalUrl(je+ct(Ct));0==Ut.length&&(Ut=this._platformLocation.pathname),this._platformLocation.pushState(L,le,Ut)}replaceState(L,le,je,Ct){let Ut=this.prepareExternalUrl(je+ct(Ct));0==Ut.length&&(Ut=this._platformLocation.pathname),this._platformLocation.replaceState(L,le,Ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var le,je;null===(je=(le=this._platformLocation).historyGo)||void 0===je||je.call(le,L)}}return U.\u0275fac=function(L){return new(L||U)(g.LFG(ce),g.LFG(Ue,8))},U.\u0275prov=g.Yz7({token:U,factory:U.\u0275fac}),U})(),we=(()=>{class U{constructor(L,le){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=L;const je=this._platformStrategy.getBaseHref();this._platformLocation=le,this._baseHref=dt(Y(je)),this._platformStrategy.onPopState(Ct=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ct.state,type:Ct.type})})}path(L=!1){return this.normalize(this._platformStrategy.path(L))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(L,le=""){return this.path()==this.normalize(L+ct(le))}normalize(L){return U.stripTrailingSlash(function Tt(U,Q){return U&&Q.startsWith(U)?Q.substring(U.length):Q}(this._baseHref,Y(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._platformStrategy.prepareExternalUrl(L)}go(L,le="",je=null){this._platformStrategy.pushState(je,"",L,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+ct(le)),je)}replaceState(L,le="",je=null){this._platformStrategy.replaceState(je,"",L,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+ct(le)),je)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(L=0){var le,je;null===(je=(le=this._platformStrategy).historyGo)||void 0===je||je.call(le,L)}onUrlChange(L){this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(le=>{this._notifyUrlChangeListeners(le.url,le.state)}))}_notifyUrlChangeListeners(L="",le){this._urlChangeListeners.forEach(je=>je(L,le))}subscribe(L,le,je){return this._subject.subscribe({next:L,error:le,complete:je})}}return U.normalizeQueryParams=ct,U.joinWithSlash=nt,U.stripTrailingSlash=dt,U.\u0275fac=function(L){return new(L||U)(g.LFG(Qe),g.LFG(ce))},U.\u0275prov=g.Yz7({token:U,factory:function(){return function et(){return new we((0,g.LFG)(Qe),(0,g.LFG)(ce))}()},providedIn:"root"}),U})();function Y(U){return U.replace(/\/index.html$/,"")}function qr(U,Q){Q=encodeURIComponent(Q);for(const L of U.split(";")){const le=L.indexOf("="),[je,Ct]=-1==le?[L,""]:[L.slice(0,le),L.slice(le+1)];if(je.trim()===Q)return decodeURIComponent(Ct)}return null}let Gi=(()=>{class U{constructor(L,le,je,Ct){this._iterableDiffers=L,this._keyValueDiffers=le,this._ngEl=je,this._renderer=Ct,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(L){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof L?L.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(L){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof L?L.split(/\s+/):L,this._rawClass&&((0,g.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const L=this._iterableDiffer.diff(this._rawClass);L&&this._applyIterableChanges(L)}else if(this._keyValueDiffer){const L=this._keyValueDiffer.diff(this._rawClass);L&&this._applyKeyValueChanges(L)}}_applyKeyValueChanges(L){L.forEachAddedItem(le=>this._toggleClass(le.key,le.currentValue)),L.forEachChangedItem(le=>this._toggleClass(le.key,le.currentValue)),L.forEachRemovedItem(le=>{le.previousValue&&this._toggleClass(le.key,!1)})}_applyIterableChanges(L){L.forEachAddedItem(le=>{if("string"!=typeof le.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,g.AaK)(le.item)}`);this._toggleClass(le.item,!0)}),L.forEachRemovedItem(le=>this._toggleClass(le.item,!1))}_applyClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(le=>this._toggleClass(le,!0)):Object.keys(L).forEach(le=>this._toggleClass(le,!!L[le])))}_removeClasses(L){L&&(Array.isArray(L)||L instanceof Set?L.forEach(le=>this._toggleClass(le,!1)):Object.keys(L).forEach(le=>this._toggleClass(le,!1)))}_toggleClass(L,le){(L=L.trim())&&L.split(/\s+/g).forEach(je=>{le?this._renderer.addClass(this._ngEl.nativeElement,je):this._renderer.removeClass(this._ngEl.nativeElement,je)})}}return U.\u0275fac=function(L){return new(L||U)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),U})();class ir{constructor(Q,L,le,je){this.$implicit=Q,this.ngForOf=L,this.index=le,this.count=je}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bi=(()=>{class U{constructor(L,le,je){this._viewContainer=L,this._template=le,this._differs=je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const le=this._viewContainer;L.forEachOperation((je,Ct,Ut)=>{if(null==je.previousIndex)le.createEmbeddedView(this._template,new ir(je.item,this._ngForOf,-1,-1),null===Ut?void 0:Ut);else if(null==Ut)le.remove(null===Ct?void 0:Ct);else if(null!==Ct){const Tn=le.get(Ct);le.move(Tn,Ut),fs(Tn,je)}});for(let je=0,Ct=le.length;je<Ct;je++){const Tn=le.get(je).context;Tn.index=je,Tn.count=Ct,Tn.ngForOf=this._ngForOf}L.forEachIdentityChange(je=>{fs(le.get(je.currentIndex),je)})}static ngTemplateContextGuard(L,le){return!0}}return U.\u0275fac=function(L){return new(L||U)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();function fs(U,Q){U.context.$implicit=Q.item}let hi=(()=>{class U{constructor(L,le){this._viewContainer=L,this._context=new fi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=le}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){cn("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){cn("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,le){return!0}}return U.\u0275fac=function(L){return new(L||U)(g.Y36(g.s_b),g.Y36(g.Rgc))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class fi{constructor(){this.$implicit=null,this.ngIf=null}}function cn(U,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,g.AaK)(Q)}'.`)}class os{constructor(Q,L){this._viewContainerRef=Q,this._templateRef=L,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Q){Q&&!this._created?this.create():!Q&&this._created&&this.destroy()}}let Ot=(()=>{class U{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(L){this._ngSwitch=L,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(L){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(L)}_matchCase(L){const le=L==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||le,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),le}_updateDefaultCases(L){if(this._defaultViews&&L!==this._defaultUsed){this._defaultUsed=L;for(let le=0;le<this._defaultViews.length;le++)this._defaultViews[le].enforceState(L)}}}return U.\u0275fac=function(L){return new(L||U)},U.\u0275dir=g.lG2({type:U,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),U})(),Ji=(()=>{class U{constructor(L,le,je){this.ngSwitch=je,je._addCase(),this._view=new os(L,le)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return U.\u0275fac=function(L){return new(L||U)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(Ot,9))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),U})(),vi=(()=>{class U{constructor(L,le,je){je._addDefault(new os(L,le))}}return U.\u0275fac=function(L){return new(L||U)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(Ot,9))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngSwitchDefault",""]]}),U})(),ps=(()=>{class U{constructor(L,le,je){this._ngEl=L,this._differs=le,this._renderer=je,this._ngStyle=null,this._differ=null}set ngStyle(L){this._ngStyle=L,!this._differ&&L&&(this._differ=this._differs.find(L).create())}ngDoCheck(){if(this._differ){const L=this._differ.diff(this._ngStyle);L&&this._applyChanges(L)}}_setStyle(L,le){const[je,Ct]=L.split(".");null!=(le=null!=le&&Ct?`${le}${Ct}`:le)?this._renderer.setStyle(this._ngEl.nativeElement,je,le):this._renderer.removeStyle(this._ngEl.nativeElement,je)}_applyChanges(L){L.forEachRemovedItem(le=>this._setStyle(le.key,null)),L.forEachAddedItem(le=>this._setStyle(le.key,le.currentValue)),L.forEachChangedItem(le=>this._setStyle(le.key,le.currentValue))}}return U.\u0275fac=function(L){return new(L||U)(g.Y36(g.SBq),g.Y36(g.aQg),g.Y36(g.Qsj))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),U})(),Or=(()=>{class U{constructor(L){this._viewContainerRef=L,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(L){if(L.ngTemplateOutlet){const le=this._viewContainerRef;this._viewRef&&le.remove(le.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?le.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&L.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(L){return new(L||U)(g.Y36(g.s_b))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[g.TTD]}),U})();function zi(U,Q){return new g.vHH(2100,"")}class Gs{createSubscription(Q,L){return Q.subscribe({next:L,error:le=>{throw le}})}dispose(Q){Q.unsubscribe()}onDestroy(Q){Q.unsubscribe()}}class ca{createSubscription(Q,L){return Q.then(L,le=>{throw le})}dispose(Q){}onDestroy(Q){}}const us=new ca,ao=new Gs;let lo=(()=>{class U{constructor(L){this._ref=L,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(L){return this._obj?L!==this._obj?(this._dispose(),this.transform(L)):this._latestValue:(L&&this._subscribe(L),this._latestValue)}_subscribe(L){this._obj=L,this._strategy=this._selectStrategy(L),this._subscription=this._strategy.createSubscription(L,le=>this._updateLatestValue(L,le))}_selectStrategy(L){if((0,g.QGY)(L))return us;if((0,g.F4k)(L))return ao;throw zi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(L,le){L===this._obj&&(this._latestValue=le,this._ref.markForCheck())}}return U.\u0275fac=function(L){return new(L||U)(g.Y36(g.sBO,16))},U.\u0275pipe=g.Yjl({name:"async",type:U,pure:!1}),U})();const Yr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let vr=(()=>{class U{transform(L){if(null==L)return null;if("string"!=typeof L)throw zi();return L.replace(Yr,le=>le[0].toUpperCase()+le.substr(1).toLowerCase())}}return U.\u0275fac=function(L){return new(L||U)},U.\u0275pipe=g.Yjl({name:"titlecase",type:U,pure:!0}),U})(),Ms=(()=>{class U{transform(L){if(null==L)return null;if("string"!=typeof L)throw zi();return L.toUpperCase()}}return U.\u0275fac=function(L){return new(L||U)},U.\u0275pipe=g.Yjl({name:"uppercase",type:U,pure:!0}),U})(),Hr=(()=>{class U{}return U.\u0275fac=function(L){return new(L||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({}),U})();const ha="browser";function wi(U){return U===ha}function br(U){return"server"===U}let Pr=(()=>{class U{}return U.\u0275prov=(0,g.Yz7)({token:U,providedIn:"root",factory:()=>new wo((0,g.LFG)(Ce),window)}),U})();class wo{constructor(Q,L){this.document=Q,this.window=L,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const L=function $r(U,Q){const L=U.getElementById(Q)||U.getElementsByName(Q)[0];if(L)return L;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const le=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let je=le.currentNode;for(;je;){const Ct=je.shadowRoot;if(Ct){const Ut=Ct.getElementById(Q)||Ct.querySelector(`[name="${Q}"]`);if(Ut)return Ut}je=le.nextNode()}}return null}(this.document,Q);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=Q)}}scrollToElement(Q){const L=Q.getBoundingClientRect(),le=L.left+this.window.pageXOffset,je=L.top+this.window.pageYOffset,Ct=this.offset();this.window.scrollTo(le-Ct[0],je-Ct[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=Zs(this.window.history)||Zs(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch(Q){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Q){return!1}}}function Zs(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class _i{}},520:(qt,Ze,x)=>{x.d(Ze,{JF:()=>Jt,TP:()=>on,eN:()=>it});var g=x(9808),h=x(5e3),W=x(9646),De=x(8306),_e=x(4351),Re=x(9300),Ce=x(4004);class ce{}class X{}class ne{constructor(ke){this.normalizedNames=new Map,this.lazyUpdate=null,ke?this.lazyInit="string"==typeof ke?()=>{this.headers=new Map,ke.split("\n").forEach($e=>{const Lt=$e.indexOf(":");if(Lt>0){const wt=$e.slice(0,Lt),Ft=wt.toLowerCase(),Gt=$e.slice(Lt+1).trim();this.maybeSetNormalizedName(wt,Ft),this.headers.has(Ft)?this.headers.get(Ft).push(Gt):this.headers.set(Ft,[Gt])}})}:()=>{this.headers=new Map,Object.keys(ke).forEach($e=>{let Lt=ke[$e];const wt=$e.toLowerCase();"string"==typeof Lt&&(Lt=[Lt]),Lt.length>0&&(this.headers.set(wt,Lt),this.maybeSetNormalizedName($e,wt))})}:this.headers=new Map}has(ke){return this.init(),this.headers.has(ke.toLowerCase())}get(ke){this.init();const $e=this.headers.get(ke.toLowerCase());return $e&&$e.length>0?$e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ke){return this.init(),this.headers.get(ke.toLowerCase())||null}append(ke,$e){return this.clone({name:ke,value:$e,op:"a"})}set(ke,$e){return this.clone({name:ke,value:$e,op:"s"})}delete(ke,$e){return this.clone({name:ke,value:$e,op:"d"})}maybeSetNormalizedName(ke,$e){this.normalizedNames.has($e)||this.normalizedNames.set($e,ke)}init(){this.lazyInit&&(this.lazyInit instanceof ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ke=>this.applyUpdate(ke)),this.lazyUpdate=null))}copyFrom(ke){ke.init(),Array.from(ke.headers.keys()).forEach($e=>{this.headers.set($e,ke.headers.get($e)),this.normalizedNames.set($e,ke.normalizedNames.get($e))})}clone(ke){const $e=new ne;return $e.lazyInit=this.lazyInit&&this.lazyInit instanceof ne?this.lazyInit:this,$e.lazyUpdate=(this.lazyUpdate||[]).concat([ke]),$e}applyUpdate(ke){const $e=ke.name.toLowerCase();switch(ke.op){case"a":case"s":let Lt=ke.value;if("string"==typeof Lt&&(Lt=[Lt]),0===Lt.length)return;this.maybeSetNormalizedName(ke.name,$e);const wt=("a"===ke.op?this.headers.get($e):void 0)||[];wt.push(...Lt),this.headers.set($e,wt);break;case"d":const Ft=ke.value;if(Ft){let Gt=this.headers.get($e);if(!Gt)return;Gt=Gt.filter(Pe=>-1===Ft.indexOf(Pe)),0===Gt.length?(this.headers.delete($e),this.normalizedNames.delete($e)):this.headers.set($e,Gt)}else this.headers.delete($e),this.normalizedNames.delete($e)}}forEach(ke){this.init(),Array.from(this.normalizedNames.keys()).forEach($e=>ke(this.normalizedNames.get($e),this.headers.get($e)))}}class ue{encodeKey(ke){return dt(ke)}encodeValue(ke){return dt(ke)}decodeKey(ke){return decodeURIComponent(ke)}decodeValue(ke){return decodeURIComponent(ke)}}const ut=/%(\d[a-f0-9])/gi,nt={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function dt(It){return encodeURIComponent(It).replace(ut,(ke,$e)=>{var Lt;return null!==(Lt=nt[$e])&&void 0!==Lt?Lt:ke})}function ct(It){return`${It}`}class Qe{constructor(ke={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ke.encoder||new ue,ke.fromString){if(ke.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ne(It,ke){const $e=new Map;return It.length>0&&It.replace(/^\?/,"").split("&").forEach(wt=>{const Ft=wt.indexOf("="),[Gt,Pe]=-1==Ft?[ke.decodeKey(wt),""]:[ke.decodeKey(wt.slice(0,Ft)),ke.decodeValue(wt.slice(Ft+1))],xe=$e.get(Gt)||[];xe.push(Pe),$e.set(Gt,xe)}),$e}(ke.fromString,this.encoder)}else ke.fromObject?(this.map=new Map,Object.keys(ke.fromObject).forEach($e=>{const Lt=ke.fromObject[$e];this.map.set($e,Array.isArray(Lt)?Lt:[Lt])})):this.map=null}has(ke){return this.init(),this.map.has(ke)}get(ke){this.init();const $e=this.map.get(ke);return $e?$e[0]:null}getAll(ke){return this.init(),this.map.get(ke)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ke,$e){return this.clone({param:ke,value:$e,op:"a"})}appendAll(ke){const $e=[];return Object.keys(ke).forEach(Lt=>{const wt=ke[Lt];Array.isArray(wt)?wt.forEach(Ft=>{$e.push({param:Lt,value:Ft,op:"a"})}):$e.push({param:Lt,value:wt,op:"a"})}),this.clone($e)}set(ke,$e){return this.clone({param:ke,value:$e,op:"s"})}delete(ke,$e){return this.clone({param:ke,value:$e,op:"d"})}toString(){return this.init(),this.keys().map(ke=>{const $e=this.encoder.encodeKey(ke);return this.map.get(ke).map(Lt=>$e+"="+this.encoder.encodeValue(Lt)).join("&")}).filter(ke=>""!==ke).join("&")}clone(ke){const $e=new Qe({encoder:this.encoder});return $e.cloneFrom=this.cloneFrom||this,$e.updates=(this.updates||[]).concat(ke),$e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ke=>this.map.set(ke,this.cloneFrom.map.get(ke))),this.updates.forEach(ke=>{switch(ke.op){case"a":case"s":const $e=("a"===ke.op?this.map.get(ke.param):void 0)||[];$e.push(ct(ke.value)),this.map.set(ke.param,$e);break;case"d":if(void 0===ke.value){this.map.delete(ke.param);break}{let Lt=this.map.get(ke.param)||[];const wt=Lt.indexOf(ct(ke.value));-1!==wt&&Lt.splice(wt,1),Lt.length>0?this.map.set(ke.param,Lt):this.map.delete(ke.param)}}}),this.cloneFrom=this.updates=null)}}class Ue{constructor(){this.map=new Map}set(ke,$e){return this.map.set(ke,$e),this}get(ke){return this.map.has(ke)||this.map.set(ke,ke.defaultValue()),this.map.get(ke)}delete(ke){return this.map.delete(ke),this}has(ke){return this.map.has(ke)}keys(){return this.map.keys()}}function me(It){return"undefined"!=typeof ArrayBuffer&&It instanceof ArrayBuffer}function we(It){return"undefined"!=typeof Blob&&It instanceof Blob}function et(It){return"undefined"!=typeof FormData&&It instanceof FormData}class Y{constructor(ke,$e,Lt,wt){let Ft;if(this.url=$e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ke.toUpperCase(),function ft(It){switch(It){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||wt?(this.body=void 0!==Lt?Lt:null,Ft=wt):Ft=Lt,Ft&&(this.reportProgress=!!Ft.reportProgress,this.withCredentials=!!Ft.withCredentials,Ft.responseType&&(this.responseType=Ft.responseType),Ft.headers&&(this.headers=Ft.headers),Ft.context&&(this.context=Ft.context),Ft.params&&(this.params=Ft.params)),this.headers||(this.headers=new ne),this.context||(this.context=new Ue),this.params){const Gt=this.params.toString();if(0===Gt.length)this.urlWithParams=$e;else{const Pe=$e.indexOf("?");this.urlWithParams=$e+(-1===Pe?"?":Pe<$e.length-1?"&":"")+Gt}}else this.params=new Qe,this.urlWithParams=$e}serializeBody(){return null===this.body?null:me(this.body)||we(this.body)||et(this.body)||function Tt(It){return"undefined"!=typeof URLSearchParams&&It instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||et(this.body)?null:we(this.body)?this.body.type||null:me(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ke={}){var $e;const Lt=ke.method||this.method,wt=ke.url||this.url,Ft=ke.responseType||this.responseType,Gt=void 0!==ke.body?ke.body:this.body,Pe=void 0!==ke.withCredentials?ke.withCredentials:this.withCredentials,xe=void 0!==ke.reportProgress?ke.reportProgress:this.reportProgress;let Ee=ke.headers||this.headers,We=ke.params||this.params;const _t=null!==($e=ke.context)&&void 0!==$e?$e:this.context;return void 0!==ke.setHeaders&&(Ee=Object.keys(ke.setHeaders).reduce((Dt,Et)=>Dt.set(Et,ke.setHeaders[Et]),Ee)),ke.setParams&&(We=Object.keys(ke.setParams).reduce((Dt,Et)=>Dt.set(Et,ke.setParams[Et]),We)),new Y(Lt,wt,Gt,{params:We,headers:Ee,context:_t,reportProgress:xe,responseType:Ft,withCredentials:Pe})}}var qe=(()=>((qe=qe||{})[qe.Sent=0]="Sent",qe[qe.UploadProgress=1]="UploadProgress",qe[qe.ResponseHeader=2]="ResponseHeader",qe[qe.DownloadProgress=3]="DownloadProgress",qe[qe.Response=4]="Response",qe[qe.User=5]="User",qe))();class tt{constructor(ke,$e=200,Lt="OK"){this.headers=ke.headers||new ne,this.status=void 0!==ke.status?ke.status:$e,this.statusText=ke.statusText||Lt,this.url=ke.url||null,this.ok=this.status>=200&&this.status<300}}class Le extends tt{constructor(ke={}){super(ke),this.type=qe.ResponseHeader}clone(ke={}){return new Le({headers:ke.headers||this.headers,status:void 0!==ke.status?ke.status:this.status,statusText:ke.statusText||this.statusText,url:ke.url||this.url||void 0})}}class Ge extends tt{constructor(ke={}){super(ke),this.type=qe.Response,this.body=void 0!==ke.body?ke.body:null}clone(ke={}){return new Ge({body:void 0!==ke.body?ke.body:this.body,headers:ke.headers||this.headers,status:void 0!==ke.status?ke.status:this.status,statusText:ke.statusText||this.statusText,url:ke.url||this.url||void 0})}}class Xe extends tt{constructor(ke){super(ke,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ke.url||"(unknown url)"}`:`Http failure response for ${ke.url||"(unknown url)"}: ${ke.status} ${ke.statusText}`,this.error=ke.error||null}}function ot(It,ke){return{body:ke,headers:It.headers,context:It.context,observe:It.observe,params:It.params,reportProgress:It.reportProgress,responseType:It.responseType,withCredentials:It.withCredentials}}let it=(()=>{class It{constructor($e){this.handler=$e}request($e,Lt,wt={}){let Ft;if($e instanceof Y)Ft=$e;else{let xe,Ee;xe=wt.headers instanceof ne?wt.headers:new ne(wt.headers),wt.params&&(Ee=wt.params instanceof Qe?wt.params:new Qe({fromObject:wt.params})),Ft=new Y($e,Lt,void 0!==wt.body?wt.body:null,{headers:xe,context:wt.context,params:Ee,reportProgress:wt.reportProgress,responseType:wt.responseType||"json",withCredentials:wt.withCredentials})}const Gt=(0,W.of)(Ft).pipe((0,_e.b)(xe=>this.handler.handle(xe)));if($e instanceof Y||"events"===wt.observe)return Gt;const Pe=Gt.pipe((0,Re.h)(xe=>xe instanceof Ge));switch(wt.observe||"body"){case"body":switch(Ft.responseType){case"arraybuffer":return Pe.pipe((0,Ce.U)(xe=>{if(null!==xe.body&&!(xe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return xe.body}));case"blob":return Pe.pipe((0,Ce.U)(xe=>{if(null!==xe.body&&!(xe.body instanceof Blob))throw new Error("Response is not a Blob.");return xe.body}));case"text":return Pe.pipe((0,Ce.U)(xe=>{if(null!==xe.body&&"string"!=typeof xe.body)throw new Error("Response is not a string.");return xe.body}));default:return Pe.pipe((0,Ce.U)(xe=>xe.body))}case"response":return Pe;default:throw new Error(`Unreachable: unhandled observe type ${wt.observe}}`)}}delete($e,Lt={}){return this.request("DELETE",$e,Lt)}get($e,Lt={}){return this.request("GET",$e,Lt)}head($e,Lt={}){return this.request("HEAD",$e,Lt)}jsonp($e,Lt){return this.request("JSONP",$e,{params:(new Qe).append(Lt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options($e,Lt={}){return this.request("OPTIONS",$e,Lt)}patch($e,Lt,wt={}){return this.request("PATCH",$e,ot(wt,Lt))}post($e,Lt,wt={}){return this.request("POST",$e,ot(wt,Lt))}put($e,Lt,wt={}){return this.request("PUT",$e,ot(wt,Lt))}}return It.\u0275fac=function($e){return new($e||It)(h.LFG(ce))},It.\u0275prov=h.Yz7({token:It,factory:It.\u0275fac}),It})();class Rt{constructor(ke,$e){this.next=ke,this.interceptor=$e}handle(ke){return this.interceptor.intercept(ke,this.next)}}const on=new h.OlP("HTTP_INTERCEPTORS");let pt=(()=>{class It{intercept($e,Lt){return Lt.handle($e)}}return It.\u0275fac=function($e){return new($e||It)},It.\u0275prov=h.Yz7({token:It,factory:It.\u0275fac}),It})();const Sn=/^\)\]\}',?\n/;let ui=(()=>{class It{constructor($e){this.xhrFactory=$e}handle($e){if("JSONP"===$e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new De.y(Lt=>{const wt=this.xhrFactory.build();if(wt.open($e.method,$e.urlWithParams),$e.withCredentials&&(wt.withCredentials=!0),$e.headers.forEach((Et,mn)=>wt.setRequestHeader(Et,mn.join(","))),$e.headers.has("Accept")||wt.setRequestHeader("Accept","application/json, text/plain, */*"),!$e.headers.has("Content-Type")){const Et=$e.detectContentTypeHeader();null!==Et&&wt.setRequestHeader("Content-Type",Et)}if($e.responseType){const Et=$e.responseType.toLowerCase();wt.responseType="json"!==Et?Et:"text"}const Ft=$e.serializeBody();let Gt=null;const Pe=()=>{if(null!==Gt)return Gt;const Et=wt.statusText||"OK",mn=new ne(wt.getAllResponseHeaders()),bn=function Wn(It){return"responseURL"in It&&It.responseURL?It.responseURL:/^X-Request-URL:/m.test(It.getAllResponseHeaders())?It.getResponseHeader("X-Request-URL"):null}(wt)||$e.url;return Gt=new Le({headers:mn,status:wt.status,statusText:Et,url:bn}),Gt},xe=()=>{let{headers:Et,status:mn,statusText:bn,url:ln}=Pe(),z=null;204!==mn&&(z=void 0===wt.response?wt.responseText:wt.response),0===mn&&(mn=z?200:0);let he=mn>=200&&mn<300;if("json"===$e.responseType&&"string"==typeof z){const be=z;z=z.replace(Sn,"");try{z=""!==z?JSON.parse(z):null}catch(Fe){z=be,he&&(he=!1,z={error:Fe,text:z})}}he?(Lt.next(new Ge({body:z,headers:Et,status:mn,statusText:bn,url:ln||void 0})),Lt.complete()):Lt.error(new Xe({error:z,headers:Et,status:mn,statusText:bn,url:ln||void 0}))},Ee=Et=>{const{url:mn}=Pe(),bn=new Xe({error:Et,status:wt.status||0,statusText:wt.statusText||"Unknown Error",url:mn||void 0});Lt.error(bn)};let We=!1;const _t=Et=>{We||(Lt.next(Pe()),We=!0);let mn={type:qe.DownloadProgress,loaded:Et.loaded};Et.lengthComputable&&(mn.total=Et.total),"text"===$e.responseType&&!!wt.responseText&&(mn.partialText=wt.responseText),Lt.next(mn)},Dt=Et=>{let mn={type:qe.UploadProgress,loaded:Et.loaded};Et.lengthComputable&&(mn.total=Et.total),Lt.next(mn)};return wt.addEventListener("load",xe),wt.addEventListener("error",Ee),wt.addEventListener("timeout",Ee),wt.addEventListener("abort",Ee),$e.reportProgress&&(wt.addEventListener("progress",_t),null!==Ft&&wt.upload&&wt.upload.addEventListener("progress",Dt)),wt.send(Ft),Lt.next({type:qe.Sent}),()=>{wt.removeEventListener("error",Ee),wt.removeEventListener("abort",Ee),wt.removeEventListener("load",xe),wt.removeEventListener("timeout",Ee),$e.reportProgress&&(wt.removeEventListener("progress",_t),null!==Ft&&wt.upload&&wt.upload.removeEventListener("progress",Dt)),wt.readyState!==wt.DONE&&wt.abort()}})}}return It.\u0275fac=function($e){return new($e||It)(h.LFG(g.JF))},It.\u0275prov=h.Yz7({token:It,factory:It.\u0275fac}),It})();const qn=new h.OlP("XSRF_COOKIE_NAME"),Si=new h.OlP("XSRF_HEADER_NAME");class ei{}let Li=(()=>{class It{constructor($e,Lt,wt){this.doc=$e,this.platform=Lt,this.cookieName=wt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const $e=this.doc.cookie||"";return $e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,g.Mx)($e,this.cookieName),this.lastCookieString=$e),this.lastToken}}return It.\u0275fac=function($e){return new($e||It)(h.LFG(g.K0),h.LFG(h.Lbi),h.LFG(qn))},It.\u0275prov=h.Yz7({token:It,factory:It.\u0275fac}),It})(),Yn=(()=>{class It{constructor($e,Lt){this.tokenService=$e,this.headerName=Lt}intercept($e,Lt){const wt=$e.url.toLowerCase();if("GET"===$e.method||"HEAD"===$e.method||wt.startsWith("http://")||wt.startsWith("https://"))return Lt.handle($e);const Ft=this.tokenService.getToken();return null!==Ft&&!$e.headers.has(this.headerName)&&($e=$e.clone({headers:$e.headers.set(this.headerName,Ft)})),Lt.handle($e)}}return It.\u0275fac=function($e){return new($e||It)(h.LFG(ei),h.LFG(Si))},It.\u0275prov=h.Yz7({token:It,factory:It.\u0275fac}),It})(),Ui=(()=>{class It{constructor($e,Lt){this.backend=$e,this.injector=Lt,this.chain=null}handle($e){if(null===this.chain){const Lt=this.injector.get(on,[]);this.chain=Lt.reduceRight((wt,Ft)=>new Rt(wt,Ft),this.backend)}return this.chain.handle($e)}}return It.\u0275fac=function($e){return new($e||It)(h.LFG(X),h.LFG(h.zs3))},It.\u0275prov=h.Yz7({token:It,factory:It.\u0275fac}),It})(),Qn=(()=>{class It{static disable(){return{ngModule:It,providers:[{provide:Yn,useClass:pt}]}}static withOptions($e={}){return{ngModule:It,providers:[$e.cookieName?{provide:qn,useValue:$e.cookieName}:[],$e.headerName?{provide:Si,useValue:$e.headerName}:[]]}}}return It.\u0275fac=function($e){return new($e||It)},It.\u0275mod=h.oAB({type:It}),It.\u0275inj=h.cJS({providers:[Yn,{provide:on,useExisting:Yn,multi:!0},{provide:ei,useClass:Li},{provide:qn,useValue:"XSRF-TOKEN"},{provide:Si,useValue:"X-XSRF-TOKEN"}]}),It})(),Jt=(()=>{class It{}return It.\u0275fac=function($e){return new($e||It)},It.\u0275mod=h.oAB({type:It}),It.\u0275inj=h.cJS({providers:[it,{provide:ce,useClass:Ui},ui,{provide:X,useExisting:ui}],imports:[[Qn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),It})()},5e3:(qt,Ze,x)=>{x.d(Ze,{$8M:()=>eo,$Z:()=>lg,AFp:()=>R0,ALo:()=>e0,AaK:()=>ce,Akn:()=>jo,AsE:()=>wu,BQk:()=>ld,CHM:()=>Tl,CRH:()=>d0,CZH:()=>Cv,CqO:()=>cg,DdM:()=>z_,EJc:()=>yw,EiD:()=>Ll,EpF:()=>Cc,F$t:()=>hg,F4k:()=>eh,FYo:()=>L_,FiY:()=>yo,G48:()=>Bw,Gf:()=>u0,GfV:()=>F_,Gpc:()=>ue,Gre:()=>Jy,Hsn:()=>fg,JOm:()=>sl,JVY:()=>Ba,Jf7:()=>bo,L6J:()=>fw,L6k:()=>md,LAX:()=>Ou,LFG:()=>en,LSH:()=>il,Lbi:()=>pw,MAs:()=>dm,NdJ:()=>sf,O4$:()=>cl,OlP:()=>gr,Oqu:()=>Dg,PXZ:()=>Pw,Q6J:()=>_u,QGY:()=>Xd,Qsj:()=>fE,R0b:()=>Ku,RDi:()=>Zs,Rgc:()=>kg,SBq:()=>Mg,Sil:()=>_w,Suo:()=>c0,TTD:()=>Is,TgZ:()=>Eu,Tol:()=>rh,Udp:()=>ih,VKq:()=>W_,VLi:()=>xw,W1O:()=>g0,WLB:()=>Z_,X6Q:()=>Uw,XFs:()=>un,Xpm:()=>gt,Y36:()=>nf,YKP:()=>H_,YNc:()=>cm,Yjl:()=>re,Yz7:()=>$t,ZZ4:()=>Fv,_Bn:()=>R_,_UZ:()=>ug,_Vd:()=>Km,_c5:()=>nC,_uU:()=>Qy,aQg:()=>Vv,c2e:()=>gw,cJS:()=>hn,cg1:()=>ev,d8E:()=>Xy,dDg:()=>U0,deG:()=>Jo,dqk:()=>Ee,eBb:()=>xc,eFA:()=>j0,ekj:()=>wg,g9A:()=>k0,gxx:()=>Kd,h0i:()=>lp,hGG:()=>iC,hYB:()=>pg,hij:()=>ff,iGM:()=>l0,ifc:()=>wt,ip1:()=>P0,kEZ:()=>K_,kL8:()=>o_,kYT:()=>ee,kcU:()=>Oi,lG2:()=>te,lcZ:()=>t0,lnq:()=>Ig,mCW:()=>rc,n5z:()=>Xs,oAB:()=>ve,oJD:()=>Pu,oxw:()=>dg,pB0:()=>tc,pfw:()=>hw,q3G:()=>gn,q4F:()=>V_,qLn:()=>cc,qOj:()=>Zp,qZA:()=>ad,qzn:()=>qi,s9C:()=>af,sBO:()=>Hw,sIi:()=>Yh,s_b:()=>Qm,soG:()=>Dv,tBr:()=>ra,tb:()=>L0,tp0:()=>Va,uIk:()=>Vi,vHH:()=>dt,vpe:()=>Tc,wAp:()=>ii,xp6:()=>la,yhl:()=>ec,ynx:()=>rf,z2F:()=>Mv,z3N:()=>oa,zSh:()=>Gh,zs3:()=>mu});var g=x(7579),h=x(727),W=x(8306),De=x(6451),_e=x(3099);function Re(n){for(let i in n)if(n[i]===Re)return i;throw Error("Could not find renamed property on target object.")}function Ce(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function X(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ne=Re({__forward_ref__:Re});function ue(n){return n.__forward_ref__=ue,n.toString=function(){return ce(this())},n}function Ne(n){return ut(n)?n():n}function ut(n){return"function"==typeof n&&n.hasOwnProperty(ne)&&n.__forward_ref__===ue}class dt extends Error{constructor(i,s){super(function ct(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function Qe(n){return"string"==typeof n?n:null==n?"":String(n)}function st(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Qe(n)}function we(n,i){const s=i?` in ${i}`:"";throw new dt(-201,`No provider for ${st(n)} found${s}`)}function vt(n,i){null==n&&function q(n,i,s,l){throw new Error(`ASSERTION ERROR: ${n}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,n,null,"!=")}function $t(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function hn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Sn(n){return Wn(n,ei)||Wn(n,Yn)}function Wn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Si(n){return n&&(n.hasOwnProperty(Li)||n.hasOwnProperty(Ui))?n[Li]:null}const ei=Re({\u0275prov:Re}),Li=Re({\u0275inj:Re}),Yn=Re({ngInjectableDef:Re}),Ui=Re({ngInjectorDef:Re});var un=(()=>((un=un||{})[un.Default=0]="Default",un[un.Host=1]="Host",un[un.Self=2]="Self",un[un.SkipSelf=4]="SkipSelf",un[un.Optional=8]="Optional",un))();let Pi;function Jt(n){const i=Pi;return Pi=n,i}function Ri(n,i,s){const l=Sn(n);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&un.Optional?null:void 0!==i?i:void we(ce(n),"Injector")}function It(n){return{toString:n}.toString()}var ke=(()=>((ke=ke||{})[ke.OnPush=0]="OnPush",ke[ke.Default=1]="Default",ke))(),wt=(()=>{return(n=wt||(wt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",wt;var n})();const Ft="undefined"!=typeof globalThis&&globalThis,Gt="undefined"!=typeof window&&window,Pe="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ee=Ft||"undefined"!=typeof global&&global||Gt||Pe,Dt={},Et=[],mn=Re({\u0275cmp:Re}),bn=Re({\u0275dir:Re}),ln=Re({\u0275pipe:Re}),z=Re({\u0275mod:Re}),he=Re({\u0275fac:Re}),be=Re({__NG_ELEMENT_ID__:Re});let Fe=0;function gt(n){return It(()=>{const s={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ke.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Et,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||wt.Emulated,id:"c",styles:n.styles||Et,_:null,setInput:null,schemas:n.schemas||null,tView:null},d=n.directives,m=n.features,w=n.pipes;return l.id+=Fe++,l.inputs=$(n.inputs,s),l.outputs=$(n.outputs),m&&m.forEach(I=>I(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(de):null,l.pipeDefs=w?()=>("function"==typeof w?w():w).map(fe):null,l})}function de(n){return Ae(n)||function Ye(n){return n[bn]||null}(n)}function fe(n){return function Pt(n){return n[ln]||null}(n)}const Me={};function ve(n){return It(()=>{const i={type:n.type,bootstrap:n.bootstrap||Et,declarations:n.declarations||Et,imports:n.imports||Et,exports:n.exports||Et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Me[n.id]=n.type),i})}function ee(n,i){return It(()=>{const s=Nt(n,!0);s.declarations=i.declarations||Et,s.imports=i.imports||Et,s.exports=i.exports||Et})}function $(n,i){if(null==n)return Dt;const s={};for(const l in n)if(n.hasOwnProperty(l)){let d=n[l],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),s[d]=l,i&&(i[d]=m)}return s}const te=gt;function re(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ae(n){return n[mn]||null}function Nt(n,i){const s=n[z]||null;if(!s&&!0===i)throw new Error(`Type ${ce(n)} does not have '\u0275mod' property.`);return s}function Ot(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ji(n){return Array.isArray(n)&&!0===n[1]}function vi(n){return 0!=(8&n.flags)}function as(n){return 2==(2&n.flags)}function ls(n){return 1==(1&n.flags)}function lr(n){return null!==n.template}function ps(n){return 0!=(512&n[2])}function Ln(n,i){return n.hasOwnProperty(he)?n[he]:null}class ms{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Is(){return ys}function ys(n){return n.type.prototype.ngOnChanges&&(n.setInput=zo),Ga}function Ga(){const n=ha(this),i=null==n?void 0:n.current;if(i){const s=n.previous;if(s===Dt)n.previous=i;else for(let l in i)s[l]=i[l];n.current=null,this.ngOnChanges(i)}}function zo(n,i,s,l){const d=ha(n)||function Mr(n,i){return n[Hr]=i}(n,{previous:Dt,current:null}),m=d.current||(d.current={}),w=d.previous,I=this.declaredInputs[s],P=w[I];m[I]=new ms(P&&P.currentValue,i,w===Dt),n[l]=i}Is.ngInherit=!0;const Hr="__ngSimpleChanges__";function ha(n){return n[Hr]||null}let wo;function Zs(n){wo=n}function $r(){return void 0!==wo?wo:"undefined"!=typeof document?document:void 0}function _i(n){return!!n.listen}const U={createRenderer:(n,i)=>$r()};function L(n){for(;Array.isArray(n);)n=n[0];return n}function Ct(n,i){return L(i[n])}function Ut(n,i){return L(i[n.index])}function Rn(n,i){return n.data[i]}function si(n,i){return n[i]}function jn(n,i){const s=i[n];return Ot(s)?s:s[0]}function ri(n){return 4==(4&n[2])}function Wi(n){return 128==(128&n[2])}function Ai(n,i){return null==i?null:n[i]}function H(n){n[18]=0}function N(n,i){n[5]+=i;let s=n,l=n[3];for(;null!==l&&(1===i&&1===s[5]||-1===i&&0===s[5]);)l[5]+=i,s=l,l=l[3]}const M={lFrame:Do(null),bindingsEnabled:!0};function Jr(){return M.bindingsEnabled}function Bt(){return M.lFrame.lView}function oi(){return M.lFrame.tView}function Tl(n){return M.lFrame.contextLView=n,n[8]}function Xi(){let n=Ma();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ma(){return M.lFrame.currentTNode}function Ps(n,i){const s=M.lFrame;s.currentTNode=n,s.isParent=i}function Pa(){return M.lFrame.isParent}function Ra(){M.lFrame.isParent=!1}function Vr(){const n=M.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function qs(){return M.lFrame.bindingIndex}function Xr(){return M.lFrame.bindingIndex++}function _s(n){const i=M.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function Na(n,i){const s=M.lFrame;s.bindingIndex=s.bindingRootIndex=n,za(i)}function za(n){M.lFrame.currentDirectiveIndex=n}function ho(n){const i=M.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function ul(){return M.lFrame.currentQueryIndex}function Wa(n){M.lFrame.currentQueryIndex=n}function fo(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function es(n,i,s){if(s&un.SkipSelf){let d=i,m=n;for(;!(d=d.parent,null!==d||s&un.Host||(d=fo(m),null===d||(m=m[15],10&d.type))););if(null===d)return!1;i=d,n=m}const l=M.lFrame=bs();return l.currentTNode=i,l.lView=n,!0}function Ko(n){const i=bs(),s=n[1];M.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function bs(){const n=M.lFrame,i=null===n?null:n.child;return null===i?Do(n):i}function Do(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Sl(){const n=M.lFrame;return M.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Za=Sl;function po(){const n=Sl();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ts(){return M.lFrame.selectedIndex}function Io(n){M.lFrame.selectedIndex=n}function er(){const n=M.lFrame;return Rn(n.tView,n.selectedIndex)}function cl(){M.lFrame.currentNamespace="svg"}function Oi(){!function Ys(){M.lFrame.currentNamespace=null}()}function Es(n,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const m=n.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:I,ngAfterViewInit:P,ngAfterViewChecked:G,ngOnDestroy:ie}=m;w&&(n.contentHooks||(n.contentHooks=[])).push(-s,w),I&&((n.contentHooks||(n.contentHooks=[])).push(s,I),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,I)),P&&(n.viewHooks||(n.viewHooks=[])).push(-s,P),G&&((n.viewHooks||(n.viewHooks=[])).push(s,G),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,G)),null!=ie&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ie)}}function Wt(n,i,s){Ao(n,i,3,s)}function Mi(n,i,s,l){(3&n[2])===s&&Ao(n,i,s,l)}function Zi(n,i){let s=n[2];(3&s)===i&&(s&=2047,s+=1,n[2]=s)}function Ao(n,i,s,l){const m=null!=l?l:-1,w=i.length-1;let I=0;for(let P=void 0!==l?65535&n[18]:0;P<w;P++)if("number"==typeof i[P+1]){if(I=i[P],null!=l&&I>=l)break}else i[P]<0&&(n[18]+=65536),(I<m||-1==m)&&(Dn(n,s,i,P),n[18]=(4294901760&n[18])+P+2),P++}function Dn(n,i,s,l){const d=s[l]<0,m=s[l+1],I=n[d?-s[l]:s[l]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{m.call(I)}finally{}}}else try{m.call(I)}finally{}}class So{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function dl(n,i,s){const l=_i(n);let d=0;for(;d<s.length;){const m=s[d];if("number"==typeof m){if(0!==m)break;d++;const w=s[d++],I=s[d++],P=s[d++];l?n.setAttribute(i,I,P,w):i.setAttributeNS(w,I,P)}else{const w=m,I=s[++d];Yo(w)?l&&n.setProperty(i,w,I):l?n.setAttribute(i,w,I):i.setAttribute(w,I),d++}}return d}function ga(n){return 3===n||4===n||6===n}function Yo(n){return 64===n.charCodeAt(0)}function qa(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const d=i[l];"number"==typeof d?s=d:0===s||ma(n,s,d,null,-1===s||2===s?i[++l]:null)}}return n}function ma(n,i,s,l,d){let m=0,w=n.length;if(-1===i)w=-1;else for(;m<n.length;){const I=n[m++];if("number"==typeof I){if(I===i){w=-1;break}if(I>i){w=m-1;break}}}for(;m<n.length;){const I=n[m];if("number"==typeof I)break;if(I===s){if(null===l)return void(null!==d&&(n[m+1]=d));if(l===n[m+1])return void(n[m+2]=d)}m++,null!==l&&m++,null!==d&&m++}-1!==w&&(n.splice(w,0,i),m=w+1),n.splice(m++,0,s),null!==l&&n.splice(m++,0,l),null!==d&&n.splice(m++,0,d)}function Ql(n){return-1!==n}function Hi(n){return 32767&n}function Ki(n,i){let s=function Zn(n){return n>>16}(n),l=i;for(;s>0;)l=l[15],s--;return l}let ya=!0;function Ti(n){const i=ya;return ya=n,i}let C=0;function V(n,i){const s=Oe(n,i);if(-1!==s)return s;const l=i[1];l.firstCreatePass&&(n.injectorIndex=i.length,ae(l.data,n),ae(i,null),ae(l.blueprint,null));const d=He(n,i),m=n.injectorIndex;if(Ql(d)){const w=Hi(d),I=Ki(d,i),P=I[1].data;for(let G=0;G<8;G++)i[m+G]=I[w+G]|P[w+G]}return i[m+8]=d,m}function ae(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Oe(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function He(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,l=null,d=i;for(;null!==d;){const m=d[1],w=m.type;if(l=2===w?m.declTNode:1===w?d[6]:null,null===l)return-1;if(s++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function xt(n,i,s){!function F(n,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(be)&&(l=s[be]),null==l&&(l=s[be]=C++);const d=255&l;i.data[n+(d>>5)]|=1<<d}(n,i,s)}function Jn(n,i,s){if(s&un.Optional)return n;we(i,"NodeInjector")}function An(n,i,s,l){if(s&un.Optional&&void 0===l&&(l=null),0==(s&(un.Self|un.Host))){const d=n[9],m=Jt(void 0);try{return d?d.get(i,l,s&un.Optional):Ri(i,l,s&un.Optional)}finally{Jt(m)}}return Jn(l,i,s)}function gi(n,i,s,l=un.Default,d){if(null!==n){const m=function Rs(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(be)?n[be]:void 0;return"number"==typeof i?i>=0?255&i:tr:i}(s);if("function"==typeof m){if(!es(i,n,l))return l&un.Host?Jn(d,s,l):An(i,s,l,d);try{const w=m(l);if(null!=w||l&un.Optional)return w;we(s)}finally{Za()}}else if("number"==typeof m){let w=null,I=Oe(n,i),P=-1,G=l&un.Host?i[16][6]:null;for((-1===I||l&un.SkipSelf)&&(P=-1===I?He(n,i):i[I+8],-1!==P&&mt(l,!1)?(w=i[1],I=Hi(P),i=Ki(P,i)):I=-1);-1!==I;){const ie=i[1];if(La(m,I,ie.data)){const Ie=Js(I,i,s,w,l,G);if(Ie!==bi)return Ie}P=i[I+8],-1!==P&&mt(l,i[1].data[I+8]===G)&&La(m,I,i)?(w=ie,I=Hi(P),i=Ki(P,i)):I=-1}}}return An(i,s,l,d)}const bi={};function tr(){return new Er(Xi(),Bt())}function Js(n,i,s,l,d,m){const w=i[1],I=w.data[n+8],ie=ka(I,w,s,null==l?as(I)&&ya:l!=w&&0!=(3&I.type),d&un.Host&&m===I);return null!==ie?mo(i,w,ie,I):bi}function ka(n,i,s,l,d){const m=n.providerIndexes,w=i.data,I=1048575&m,P=n.directiveStart,ie=m>>20,ze=d?I+ie:n.directiveEnd;for(let lt=l?I:I+ie;lt<ze;lt++){const Ht=w[lt];if(lt<P&&s===Ht||lt>=P&&Ht.type===s)return lt}if(d){const lt=w[P];if(lt&&lr(lt)&&lt.type===s)return P}return null}function mo(n,i,s,l){let d=n[s];const m=i.data;if(function rn(n){return n instanceof So}(d)){const w=d;w.resolving&&function Ue(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new dt(-200,`Circular dependency in DI detected for ${n}${s}`)}(st(m[s]));const I=Ti(w.canSeeViewProviders);w.resolving=!0;const P=w.injectImpl?Jt(w.injectImpl):null;es(n,l,un.Default);try{d=n[s]=w.factory(void 0,m,n,l),i.firstCreatePass&&s>=l.directiveStart&&function go(n,i,s){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:m}=i.type.prototype;if(l){const w=ys(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,w),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,w)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,d),m&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m))}(s,m[s],i)}finally{null!==P&&Jt(P),Ti(I),w.resolving=!1,Za()}}return d}function La(n,i,s){return!!(s[i+(n>>5)]&1<<n)}function mt(n,i){return!(n&un.Self||n&un.Host&&i)}class Er{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return gi(this._tNode,this._lView,i,l,s)}}function Xs(n){return It(()=>{const i=n.prototype.constructor,s=i[he]||xo(i),l=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==l;){const m=d[he]||xo(d);if(m&&m!==s)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function xo(n){return ut(n)?()=>{const i=xo(Ne(n));return i&&i()}:Ln(n)}function eo(n){return function pn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const l=s.length;let d=0;for(;d<l;){const m=s[d];if(ga(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<l&&"string"==typeof s[d];)d++;else{if(m===i)return s[d+1];d+=2}}}return null}(Xi(),n)}const Qo="__parameters__",pr="__prop__metadata__";function Jl(n){return function(...s){if(n){const l=n(...s);for(const d in l)this[d]=l[d]}}}function hl(n,i,s){return It(()=>{const l=Jl(i);function d(...m){if(this instanceof d)return l.apply(this,m),this;const w=new d(...m);return I.annotation=w,I;function I(P,G,ie){const Ie=P.hasOwnProperty(Qo)?P[Qo]:Object.defineProperty(P,Qo,{value:[]})[Qo];for(;Ie.length<=ie;)Ie.push(null);return(Ie[ie]=Ie[ie]||[]).push(w),P}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}function Xl(n,i,s,l){return It(()=>{const d=Jl(i);function m(...w){if(this instanceof m)return d.apply(this,w),this;const I=new m(...w);return function P(G,ie){const Ie=G.constructor,ze=Ie.hasOwnProperty(pr)?Ie[pr]:Object.defineProperty(Ie,pr,{value:{}})[pr];ze[ie]=ze.hasOwnProperty(ie)&&ze[ie]||[],ze[ie].unshift(I),l&&l(G,ie,...w)}}return s&&(m.prototype=Object.create(s.prototype)),m.prototype.ngMetadataName=n,m.annotationCls=m,m})}class gr{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=$t({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Jo=new gr("AnalyzeForEntryComponents");function Tr(n,i){void 0===i&&(i=n);for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?(i===n&&(i=n.slice(0,s)),Tr(l,i)):i!==n&&i.push(l)}return i}function ks(n,i){n.forEach(s=>Array.isArray(s)?ks(s,i):i(s))}function Tu(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function ea(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Qa(n,i){const s=[];for(let l=0;l<n;l++)s.push(i);return s}function Rr(n,i,s){let l=_a(n,i);return l>=0?n[1|l]=s:(l=~l,function Ja(n,i,s,l){let d=n.length;if(d==i)n.push(s,l);else if(1===d)n.push(l,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>i;)n[d]=n[d-2],d--;n[i]=s,n[i+1]=l}}(n,l,i,s)),l}function Oo(n,i){const s=_a(n,i);if(s>=0)return n[1|s]}function _a(n,i){return function Iu(n,i,s){let l=0,d=n.length>>s;for(;d!==l;){const m=l+(d-l>>1),w=n[m<<s];if(i===w)return m<<s;w>i?d=m:l=m+1}return~(d<<s)}(n,i,1)}const wa={},Ml="__NG_DI_FLAG__",tl="ngTempTokenPath",R=/\n/gm,oe="__source",Te=Re({provide:String,useValue:Re});let Je;function yt(n){const i=Je;return Je=n,i}function Zt(n,i=un.Default){if(void 0===Je)throw new dt(203,"");return null===Je?Ri(n,void 0,i):Je.get(n,i&un.Optional?null:void 0,i)}function en(n,i=un.Default){return(function Qn(){return Pi}()||Zt)(Ne(n),i)}const Xn=en;function $n(n){const i=[];for(let s=0;s<n.length;s++){const l=Ne(n[s]);if(Array.isArray(l)){if(0===l.length)throw new dt(900,"");let d,m=un.Default;for(let w=0;w<l.length;w++){const I=l[w],P=Gr(I);"number"==typeof P?-1===P?d=I.token:m|=P:d=I}i.push(en(d,m))}else i.push(en(l))}return i}function kn(n,i){return n[Ml]=i,n.prototype[Ml]=i,n}function Gr(n){return n[Ml]}const ra=kn(hl("Inject",n=>({token:n})),-1),yo=kn(hl("Optional"),8),Va=kn(hl("SkipSelf"),4);let iu,Ua;function ns(n){var i;return(null===(i=function ml(){if(void 0===iu&&(iu=null,Ee.trustedTypes))try{iu=Ee.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return iu}())||void 0===i?void 0:i.createHTML(n))||n}function yl(n){var i;return(null===(i=function xu(){if(void 0===Ua&&(Ua=null,Ee.trustedTypes))try{Ua=Ee.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ua}())||void 0===i?void 0:i.createHTML(n))||n}class Ts{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class pd extends Ts{getTypeName(){return"HTML"}}class ah extends Ts{getTypeName(){return"Style"}}class gd extends Ts{getTypeName(){return"Script"}}class Rl extends Ts{getTypeName(){return"URL"}}class Ca extends Ts{getTypeName(){return"ResourceURL"}}function oa(n){return n instanceof Ts?n.changingThisBreaksApplicationSecurity:n}function qi(n,i){const s=ec(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function ec(n){return n instanceof Ts&&n.getTypeName()||null}function Ba(n){return new pd(n)}function md(n){return new ah(n)}function xc(n){return new gd(n)}function Ou(n){return new Rl(n)}function tc(n){return new Ca(n)}class Nr{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(ns(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class nc{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const l=this.inertDocument.createElement("body");s.appendChild(l)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=ns(i),s;const l=this.inertDocument.createElement("body");return l.innerHTML=ns(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const s=i.attributes;for(let d=s.length-1;0<d;d--){const w=s.item(d).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&i.removeAttribute(w)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const lh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Mu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rc(n){return(n=String(n)).match(lh)||n.match(Mu)?n:"unsafe:"+n}function T(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function y(...n){const i={};for(const s of n)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const _=T("area,br,col,hr,img,wbr"),A=T("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),J=T("rp,rt"),nn=y(_,y(A,T("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),y(J,T("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),y(J,A)),sn=T("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ai=T("srcset"),aa=y(sn,ai,T("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),T("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hs=T("script,style,template");class Oc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!nn.hasOwnProperty(s))return this.sanitizedSomething=!0,!hs.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let d=0;d<l.length;d++){const m=l.item(d),w=m.name,I=w.toLowerCase();if(!aa.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let P=m.value;sn[I]&&(P=rc(P)),ai[I]&&(n=P,P=(n=String(n)).split(",").map(i=>rc(i.trim())).join(", ")),this.buf.push(" ",w,'="',Ro(P),'"')}var n;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();nn.hasOwnProperty(s)&&!_.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Ro(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const Nl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mc=/([^\#-~ |!])/g;function Ro(n){return n.replace(/&/g,"&amp;").replace(Nl,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Mc,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kl;function Ll(n,i){let s=null;try{kl=kl||function yd(n){const i=new nc(n);return function ic(){try{return!!(new window.DOMParser).parseFromString(ns(""),"text/html")}catch(n){return!1}}()?new Nr(i):i}(n);let l=i?String(i):"";s=kl.getInertBodyElement(l);let d=5,m=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=m,m=s.innerHTML,s=kl.getInertBodyElement(l)}while(l!==m);return ns((new Oc).sanitizeChildren(sc(s)||s))}finally{if(s){const l=sc(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function sc(n){return"content"in n&&function Pc(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var gn=(()=>((gn=gn||{})[gn.NONE=0]="NONE",gn[gn.HTML=1]="HTML",gn[gn.STYLE=2]="STYLE",gn[gn.SCRIPT=3]="SCRIPT",gn[gn.URL=4]="URL",gn[gn.RESOURCE_URL=5]="RESOURCE_URL",gn))();function Pu(n){const i=Ul();return i?yl(i.sanitize(gn.HTML,n)||""):qi(n,"HTML")?yl(oa(n)):Ll($r(),Qe(n))}function il(n){const i=Ul();return i?i.sanitize(gn.URL,n)||"":qi(n,"URL")?oa(n):rc(Qe(n))}function Ul(){const n=Bt();return n&&n[12]}const ch="__ngContext__";function _o(n,i){n[ch]=i}function Rc(n){const i=function is(n){return n[ch]||null}(n);return i?Array.isArray(i)?i:i.lView:null}function uc(n){return n.ngOriginalError}function bf(n,...i){n.error(...i)}class cc{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),l=function gh(n){return n&&n.ngErrorLogger||bf}(i);l(this._console,"ERROR",i),s&&l(this._console,"ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&uc(i);for(;s&&uc(s);)s=uc(s);return s||null}}const Tf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ee))();function bo(n){return n.ownerDocument.defaultView}function rl(n){return n instanceof Function?n():n}var sl=(()=>((sl=sl||{})[sl.Important=1]="Important",sl[sl.DashCase=2]="DashCase",sl))();function kc(n,i){return undefined(n,i)}function Lc(n){const i=n[3];return Ji(i)?i[3]:i}function Dd(n){return wh(n[13])}function Id(n){return wh(n[4])}function wh(n){for(;null!==n&&!Ji(n);)n=n[4];return n}function fc(n,i,s,l,d){if(null!=l){let m,w=!1;Ji(l)?m=l:Ot(l)&&(w=!0,l=l[0]);const I=L(l);0===n&&null!==s?null==d?Ih(i,s,I):vl(i,s,I,d||null,!0):1===n&&null!==s?vl(i,s,I,d||null,!0):2===n?function xh(n,i,s){const l=Md(n,i);l&&function Sf(n,i,s,l){_i(n)?n.removeChild(i,s,l):i.removeChild(s)}(n,l,i,s)}(i,I,w):3===n&&i.destroyNode(I),null!=m&&function xf(n,i,s,l,d){const m=s[7];m!==L(s)&&fc(i,n,l,m,d);for(let I=10;I<s.length;I++){const P=s[I];Hl(P[1],P,n,i,l,m)}}(i,n,m,s,d)}}function Th(n,i,s){if(_i(n))return n.createElement(i,s);{const l=null!==s?function Pr(n){const i=n.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(s):null;return null===l?n.createElement(i):n.createElementNS(l,i)}}function ou(n,i){const s=n[9],l=s.indexOf(i),d=i[3];1024&i[2]&&(i[2]&=-1025,N(d,-1)),s.splice(l,1)}function pc(n,i){if(n.length<=10)return;const s=10+i,l=n[s];if(l){const d=l[17];null!==d&&d!==n&&ou(d,l),i>0&&(n[s-1][4]=l[4]);const m=ea(n,10+i);!function _p(n,i){Hl(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const w=m[19];null!==w&&w.detachView(m[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function bp(n,i){if(!(256&i[2])){const s=i[11];_i(s)&&s.destroyNode&&Hl(n,i,s,3,null,null),function xd(n){let i=n[13];if(!i)return Od(n[1],n);for(;i;){let s=null;if(Ot(i))s=i[13];else{const l=i[10];l&&(s=l)}if(!s){for(;i&&!i[4]&&i!==n;)Ot(i)&&Od(i[1],i),i=i[3];null===i&&(i=n),Ot(i)&&Od(i[1],i),s=i&&i[4]}i=s}}(i)}}function Od(n,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function ku(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let l=0;l<s.length;l+=2){const d=i[s[l]];if(!(d instanceof So)){const m=s[l+1];if(Array.isArray(m))for(let w=0;w<m.length;w+=2){const I=d[m[w]],P=m[w+1];try{P.call(I)}finally{}}else try{m.call(d)}finally{}}}}(n,i),function Dh(n,i){const s=n.cleanup,l=i[7];let d=-1;if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const w=s[m+1],I="function"==typeof w?w(i):L(i[w]),P=l[d=s[m+2]],G=s[m+3];"boolean"==typeof G?I.removeEventListener(s[m],P,G):G>=0?l[d=G]():l[d=-G].unsubscribe(),m+=2}else{const w=l[d=s[m+1]];s[m].call(w)}if(null!==l){for(let m=d+1;m<l.length;m++)l[m]();i[7]=null}}(n,i),1===i[1].type&&_i(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&Ji(i[3])){s!==i[3]&&ou(s,i);const l=i[19];null!==l&&l.detachView(n)}}}function au(n,i,s){return function Lu(n,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[0];if(2&l.flags){const d=n.data[l.directiveStart].encapsulation;if(d===wt.None||d===wt.Emulated)return null}return Ut(l,s)}(n,i.parent,s)}function vl(n,i,s,l,d){_i(n)?n.insertBefore(i,s,l,d):i.insertBefore(s,l,d)}function Ih(n,i,s){_i(n)?n.appendChild(i,s):i.appendChild(s)}function Ah(n,i,s,l,d){null!==l?vl(n,i,s,l,d):Ih(n,i,s)}function Md(n,i){return _i(n)?n.parentNode(i):i.parentNode}function wp(n,i,s){return Sh(n,i,s)}let Sh=function Pd(n,i,s){return 40&n.type?Ut(n,s):null};function ol(n,i,s,l){const d=au(n,l,i),m=i[11],I=wp(l.parent||i[6],l,i);if(null!=d)if(Array.isArray(s))for(let P=0;P<s.length;P++)Ah(m,d,s[P],I,!1);else Ah(m,d,s,I,!1)}function Uc(n,i){if(null!==i){const s=i.type;if(3&s)return Ut(i,n);if(4&s)return Nd(-1,n[i.index]);if(8&s){const l=i.child;if(null!==l)return Uc(n,l);{const d=n[i.index];return Ji(d)?Nd(-1,d):L(d)}}if(32&s)return kc(i,n)()||L(n[i.index]);{const l=Rd(n,i);return null!==l?Array.isArray(l)?l[0]:Uc(Lc(n[16]),l):Uc(n,i.next)}}return null}function Rd(n,i){return null!==i?n[16][6].projection[i.projection]:null}function Nd(n,i){const s=10+n+1;if(s<i.length){const l=i[s],d=l[1].firstChild;if(null!==d)return Uc(l,d)}return i[7]}function Bc(n,i,s,l,d,m,w){for(;null!=s;){const I=l[s.index],P=s.type;if(w&&0===i&&(I&&_o(L(I),l),s.flags|=4),64!=(64&s.flags))if(8&P)Bc(n,i,s.child,l,d,m,!1),fc(i,n,d,I,m);else if(32&P){const G=kc(s,l);let ie;for(;ie=G();)fc(i,n,d,ie,m);fc(i,n,d,I,m)}else 16&P?_l(n,i,l,s,d,m):fc(i,n,d,I,m);s=w?s.projectionNext:s.next}}function Hl(n,i,s,l,d,m){Bc(s,l,n.firstChild,i,d,m,!1)}function _l(n,i,s,l,d,m){const w=s[16],P=w[6].projection[l.projection];if(Array.isArray(P))for(let G=0;G<P.length;G++)fc(i,n,d,P[G],m);else Bc(n,i,P,w[3],d,m,!0)}function kd(n,i,s){_i(n)?n.setAttribute(i,"style",s):i.style.cssText=s}function Bu(n,i,s){_i(n)?""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s):i.className=s}function Hc(n,i,s){let l=n.length;for(;;){const d=n.indexOf(i,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const m=i.length;if(d+m===l||n.charCodeAt(d+m)<=32)return d}s=d+1}}const Oh="ng-template";function tn(n,i,s){let l=0;for(;l<n.length;){let d=n[l++];if(s&&"class"===d){if(d=n[l],-1!==Hc(d.toLowerCase(),i,0))return!0}else if(1===d){for(;l<n.length&&"string"==typeof(d=n[l++]);)if(d.toLowerCase()===i)return!0;return!1}}return!1}function jc(n){return 4===n.type&&n.value!==Oh}function $c(n,i,s){return i===(4!==n.type||s?n.value:Oh)}function Ld(n,i,s){let l=4;const d=n.attrs||[],m=function Fd(n){for(let i=0;i<n.length;i++)if(ga(n[i]))return i;return n.length}(d);let w=!1;for(let I=0;I<i.length;I++){const P=i[I];if("number"!=typeof P){if(!w)if(4&l){if(l=2|1&l,""!==P&&!$c(n,P,s)||""===P&&1===i.length){if(Ta(l))return!1;w=!0}}else{const G=8&l?P:i[++I];if(8&l&&null!==n.attrs){if(!tn(n.attrs,G,s)){if(Ta(l))return!1;w=!0}continue}const Ie=ko(8&l?"class":P,d,jc(n),s);if(-1===Ie){if(Ta(l))return!1;w=!0;continue}if(""!==G){let ze;ze=Ie>m?"":d[Ie+1].toLowerCase();const lt=8&l?ze:null;if(lt&&-1!==Hc(lt,G,0)||2&l&&G!==ze){if(Ta(l))return!1;w=!0}}}}else{if(!w&&!Ta(l)&&!Ta(P))return!1;if(w&&Ta(P))continue;w=!1,l=P|1&l}}return Ta(l)||w}function Ta(n){return 0==(1&n)}function ko(n,i,s,l){if(null===i)return-1;let d=0;if(l||!s){let m=!1;for(;d<i.length;){const w=i[d];if(w===n)return d;if(3===w||6===w)m=!0;else{if(1===w||2===w){let I=i[++d];for(;"string"==typeof I;)I=i[++d];continue}if(4===w)break;if(0===w){d+=4;continue}}d+=m?1:2}return-1}return function Of(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const l=n[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,n)}function Hu(n,i,s=!1){for(let l=0;l<i.length;l++)if(Ld(n,i[l],s))return!0;return!1}function jl(n,i){e:for(let s=0;s<i.length;s++){const l=i[s];if(n.length===l.length){for(let d=0;d<n.length;d++)if(n[d]!==l[d])continue e;return!0}}return!1}function bl(n,i){return n?":not("+i.trim()+")":i}function Mf(n){let i=n[0],s=1,l=2,d="",m=!1;for(;s<n.length;){let w=n[s];if("string"==typeof w)if(2&l){const I=n[++s];d+="["+w+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?d+="."+w:4&l&&(d+=" "+w);else""!==d&&!Ta(w)&&(i+=bl(m,d),d=""),l=w,m=m||!Ta(l);s++}return""!==d&&(i+=bl(m,d)),i}const Bn={};function la(n){zr(oi(),Bt(),ts()+n,!1)}function zr(n,i,s,l){if(!l)if(3==(3&i[2])){const m=n.preOrderCheckHooks;null!==m&&Wt(i,m,s)}else{const m=n.preOrderHooks;null!==m&&Mi(i,m,0,s)}Io(s)}function Gc(n,i){return n<<17|i<<2}function Lo(n){return n>>17&32767}function yc(n){return 2|n}function ja(n){return(131068&n)>>2}function uu(n,i){return-131069&n|i<<2}function zc(n){return 1|n}function cr(n,i){const s=n.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const d=s[l],m=s[l+1];if(-1!==m){const w=n.data[m];Wa(d),w.contentQueries(2,i[m],m)}}}function li(n,i,s,l,d,m,w,I,P,G){const ie=i.blueprint.slice();return ie[0]=d,ie[2]=140|l,H(ie),ie[3]=ie[15]=n,ie[8]=s,ie[10]=w||n&&n[10],ie[11]=I||n&&n[11],ie[12]=P||n&&n[12]||null,ie[9]=G||n&&n[9]||null,ie[6]=m,ie[16]=2==i.type?n[16]:ie,ie}function hr(n,i,s,l,d){let m=n.data[i];if(null===m)m=function Br(n,i,s,l,d){const m=Ma(),w=Pa(),P=n.data[i]=function Uo(n,i,s,l,d,m){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?m:m&&m.parent,s,i,l,d);return null===n.firstChild&&(n.firstChild=P),null!==m&&(w?null==m.child&&null!==P.parent&&(m.child=P):null===m.next&&(m.next=P)),P}(n,i,s,l,d),function pa(){return M.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=s,m.value=l,m.attrs=d;const w=function Co(){const n=M.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();m.injectorIndex=null===w?-1:w.injectorIndex}return Ps(m,!0),m}function kr(n,i,s,l){if(0===s)return-1;const d=i.length;for(let m=0;m<s;m++)i.push(l),n.blueprint.push(l),n.data.push(null);return d}function io(n,i,s){Ko(i);try{const l=n.viewQuery;null!==l&&$h(1,l,s);const d=n.template;null!==d&&Yc(n,i,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&cr(n,i),n.staticViewQueries&&$h(2,n.viewQuery,s);const m=n.components;null!==m&&function Dr(n,i){for(let s=0;s<i.length;s++)$g(n,i[s])}(i,m)}catch(l){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),l}finally{i[2]&=-5,po()}}function ro(n,i,s,l){const d=i[2];if(256!=(256&d)){Ko(i);try{H(i),function uo(n){return M.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Yc(n,i,s,2,l);const w=3==(3&d);if(w){const G=n.preOrderCheckHooks;null!==G&&Wt(i,G,null)}else{const G=n.preOrderHooks;null!==G&&Mi(i,G,0,null),Zi(i,0)}if(function ay(n){for(let i=Dd(n);null!==i;i=Id(i)){if(!i[2])continue;const s=i[9];for(let l=0;l<s.length;l++){const d=s[l],m=d[3];0==(1024&d[2])&&N(m,1),d[2]|=1024}}}(i),function Op(n){for(let i=Dd(n);null!==i;i=Id(i))for(let s=10;s<i.length;s++){const l=i[s],d=l[1];Wi(l)&&ro(d,l,d.template,l[8])}}(i),null!==n.contentQueries&&cr(n,i),w){const G=n.contentCheckHooks;null!==G&&Wt(i,G)}else{const G=n.contentHooks;null!==G&&Mi(i,G,1),Zi(i,1)}!function Fi(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const d=s[l];if(d<0)Io(~d);else{const m=d,w=s[++l],I=s[++l];Na(w,m),I(2,i[m])}}}finally{Io(-1)}}(n,i);const I=n.components;null!==I&&function Wr(n,i){for(let s=0;s<i.length;s++)ly(n,i[s])}(i,I);const P=n.viewQuery;if(null!==P&&$h(2,P,l),w){const G=n.viewCheckHooks;null!==G&&Wt(i,G)}else{const G=n.viewHooks;null!==G&&Mi(i,G,2),Zi(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-73,1024&i[2]&&(i[2]&=-1025,N(i[3],-1))}finally{po()}}}function al(n,i,s,l){const d=i[10],w=ri(i);try{!w&&d.begin&&d.begin(),w&&io(n,i,l),ro(n,i,s,l)}finally{!w&&d.end&&d.end()}}function Yc(n,i,s,l,d){const m=ts(),w=2&l;try{Io(-1),w&&i.length>20&&zr(n,i,20,!1),s(l,d)}finally{Io(m)}}function du(n,i,s){if(vi(i)){const d=i.directiveEnd;for(let m=i.directiveStart;m<d;m++){const w=n.data[m];w.contentQueries&&w.contentQueries(1,s[m],m)}}}function El(n,i,s){!Jr()||(function Ip(n,i,s,l){const d=s.directiveStart,m=s.directiveEnd;n.firstCreatePass||V(s,i),_o(l,i);const w=s.initialInputs;for(let I=d;I<m;I++){const P=n.data[I],G=lr(P);G&&Sp(i,s,P);const ie=mo(i,n,I,s);_o(ie,i),null!==w&&Uf(0,I-d,ie,P,0,w),G&&(jn(s.index,i)[8]=ie)}}(n,i,s,Ut(s,i)),128==(128&s.flags)&&function Bg(n,i,s){const l=s.directiveStart,d=s.directiveEnd,w=s.index,I=function rr(){return M.lFrame.currentDirectiveIndex}();try{Io(w);for(let P=l;P<d;P++){const G=n.data[P],ie=i[P];za(P),(null!==G.hostBindings||0!==G.hostVars||null!==G.hostAttrs)&&Ff(G,ie)}}finally{Io(-1),za(I)}}(n,i,s))}function Gd(n,i,s=Ut){const l=i.localNames;if(null!==l){let d=i.index+1;for(let m=0;m<l.length;m+=2){const w=l[m+1],I=-1===w?s(i,n):n[w];n[d++]=I}}}function zd(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=On(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function On(n,i,s,l,d,m,w,I,P,G){const ie=20+l,Ie=ie+d,ze=function Gn(n,i){const s=[];for(let l=0;l<i;l++)s.push(l<n?null:Bn);return s}(ie,Ie),lt="function"==typeof G?G():G;return ze[1]={type:n,blueprint:ze,template:s,queries:null,viewQuery:I,declTNode:i,data:ze.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:P,consts:lt,incompleteFirstPass:!1}}function Vo(n,i,s,l){const d=Jc(i);null===s?d.push(l):(d.push(s),n.firstCreatePass&&Gu(n).push(l,d.length-1))}function wl(n,i,s){for(let l in n)if(n.hasOwnProperty(l)){const d=n[l];(s=null===s?{}:s).hasOwnProperty(l)?s[l].push(i,d):s[l]=[i,d]}return s}function Da(n,i,s,l,d,m,w,I){const P=Ut(i,s);let ie,G=i.inputs;!I&&null!=G&&(ie=G[l])?(ed(n,s,ie,l,d),as(i)&&function Bo(n,i){const s=jn(i,n);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(l=function Lf(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(l),d=null!=w?w(d,i.value||"",l):d,_i(m)?m.setProperty(P,l,d):Yo(l)||(P.setProperty?P.setProperty(l,d):P[l]=d))}function Vh(n,i,s,l){let d=!1;if(Jr()){const m=function Ap(n,i,s){const l=n.directiveRegistry;let d=null;if(l)for(let m=0;m<l.length;m++){const w=l[m];Hu(s,w.selectors,!1)&&(d||(d=[]),xt(V(s,i),n,w.type),lr(w)?(fu(n,s),d.unshift(w)):d.push(w))}return d}(n,i,s),w=null===l?null:{"":-1};if(null!==m){d=!0,Vf(s,n.data.length,m.length);for(let ie=0;ie<m.length;ie++){const Ie=m[ie];Ie.providersResolver&&Ie.providersResolver(Ie)}let I=!1,P=!1,G=kr(n,i,m.length,null);for(let ie=0;ie<m.length;ie++){const Ie=m[ie];s.mergedAttrs=qa(s.mergedAttrs,Ie.hostAttrs),jg(n,s,i,G,Ie),sy(G,Ie,w),null!==Ie.contentQueries&&(s.flags|=8),(null!==Ie.hostBindings||null!==Ie.hostAttrs||0!==Ie.hostVars)&&(s.flags|=128);const ze=Ie.type.prototype;!I&&(ze.ngOnChanges||ze.ngOnInit||ze.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),I=!0),!P&&(ze.ngOnChanges||ze.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),P=!0),G++}!function Zr(n,i){const l=i.directiveEnd,d=n.data,m=i.attrs,w=[];let I=null,P=null;for(let G=i.directiveStart;G<l;G++){const ie=d[G],Ie=ie.inputs,ze=null===m||jc(i)?null:xp(Ie,m);w.push(ze),I=wl(Ie,G,I),P=wl(ie.outputs,G,P)}null!==I&&(I.hasOwnProperty("class")&&(i.flags|=16),I.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=w,i.inputs=I,i.outputs=P}(n,s)}w&&function Hg(n,i,s){if(i){const l=n.localNames=[];for(let d=0;d<i.length;d+=2){const m=s[i[d+1]];if(null==m)throw new dt(-301,!1);l.push(i[d],m)}}}(s,l,w)}return s.mergedAttrs=qa(s.mergedAttrs,s.attrs),d}function Uh(n,i,s,l,d,m){const w=m.hostBindings;if(w){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const P=~i.index;(function Bh(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(I)!=P&&I.push(P),I.push(l,d,w)}}function Ff(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function fu(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function sy(n,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=n;lr(i)&&(s[""]=n)}}function Vf(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}function jg(n,i,s,l,d){n.data[l]=d;const m=d.factory||(d.factory=Ln(d.type)),w=new So(m,lr(d),null);n.blueprint[l]=w,s[l]=w,Uh(n,i,0,l,kr(n,s,d.hostVars,Bn),d)}function Sp(n,i,s){const l=Ut(i,n),d=zd(s),m=n[10],w=Zd(n,li(n,d,null,s.onPush?64:16,l,i,m,m.createRenderer(l,s),null,null));n[i.index]=w}function pu(n,i,s,l,d,m){const w=Ut(n,i);!function Hh(n,i,s,l,d,m,w){if(null==m)_i(n)?n.removeAttribute(i,d,s):i.removeAttribute(d);else{const I=null==w?Qe(m):w(m,l||"",d);_i(n)?n.setAttribute(i,d,I,s):s?i.setAttributeNS(s,d,I):i.setAttribute(d,I)}}(i[11],w,m,n.value,s,l,d)}function Uf(n,i,s,l,d,m){const w=m[i];if(null!==w){const I=l.setInput;for(let P=0;P<w.length;){const G=w[P++],ie=w[P++],Ie=w[P++];null!==I?l.setInput(s,Ie,G,ie):s[ie]=Ie}}}function xp(n,i){let s=null,l=0;for(;l<i.length;){const d=i[l];if(0!==d)if(5!==d){if("number"==typeof d)break;n.hasOwnProperty(d)&&(null===s&&(s=[]),s.push(d,n[d],i[l+1])),l+=2}else l+=2;else l+=4}return s}function Qc(n,i,s,l){return new Array(n,!0,!1,i,null,0,l,s,null,null)}function ly(n,i){const s=jn(i,n);if(Wi(s)){const l=s[1];80&s[2]?ro(l,s,l.template,s[8]):s[5]>0&&Bf(s)}}function Bf(n){for(let l=Dd(n);null!==l;l=Id(l))for(let d=10;d<l.length;d++){const m=l[d];if(1024&m[2]){const w=m[1];ro(w,m,w.template,m[8])}else m[5]>0&&Bf(m)}const s=n[1].components;if(null!==s)for(let l=0;l<s.length;l++){const d=jn(s[l],n);Wi(d)&&d[5]>0&&Bf(d)}}function $g(n,i){const s=jn(i,n),l=s[1];(function uy(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(l,s),io(l,s,s[8])}function Zd(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Mp(n){for(;n;){n[2]|=64;const i=Lc(n);if(ps(n)&&!i)return n;n=i}return null}function Gg(n){!function Rp(n){for(let i=0;i<n.components.length;i++){const s=n.components[i],l=Rc(s),d=l[1];al(d,l,d.template,s)}}(n[8])}function $h(n,i,s){Wa(0),i(n,s)}const Np=(()=>Promise.resolve(null))();function Jc(n){return n[7]||(n[7]=[])}function Gu(n){return n.cleanup||(n.cleanup=[])}function Xc(n,i){const s=n[9],l=s?s.get(cc,null):null;l&&l.handleError(i)}function ed(n,i,s,l,d){for(let m=0;m<s.length;){const w=s[m++],I=s[m++],P=i[w],G=n.data[w];null!==G.setInput?G.setInput(P,d,l,I):P[I]=d}}function gu(n,i,s){const l=Ct(i,n);!function vp(n,i,s){_i(n)?n.setValue(i,s):i.textContent=s}(n[11],l,s)}function zu(n,i,s){let l=s?n.styles:null,d=s?n.classes:null,m=0;if(null!==i)for(let w=0;w<i.length;w++){const I=i[w];"number"==typeof I?m=I:1==m?d=X(d,I):2==m&&(l=X(l,I+": "+i[++w]+";"))}s?n.styles=l:n.stylesWithoutHost=l,s?n.classes=d:n.classesWithoutHost=d}const Kd=new gr("INJECTOR",-1);class jf{get(i,s=wa){if(s===wa){const l=new Error(`NullInjectorError: No provider for ${ce(i)}!`);throw l.name="NullInjectorError",l}return s}}const Gh=new gr("Set Injector scope."),zh={},fy={};let Wh;function $f(){return void 0===Wh&&(Wh=new jf),Wh}function Kg(n,i=null,s=null,l){const d=kp(n,i,s,l);return d._resolveInjectorDefTypes(),d}function kp(n,i=null,s=null,l){return new py(n,s,i||$f(),l)}class py{constructor(i,s,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];s&&ks(s,I=>this.processProvider(I,i,s)),ks([i],I=>this.processInjectorType(I,[],m)),this.records.set(Kd,qd(void 0,this));const w=this.records.get(Gh);this.scope=null!=w?w.value:null,this.source=d||("object"==typeof i?null:ce(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=wa,l=un.Default){this.assertNotDestroyed();const d=yt(this),m=Jt(void 0);try{if(!(l&un.SkipSelf)){let I=this.records.get(i);if(void 0===I){const P=function Up(n){return"function"==typeof n||"object"==typeof n&&n instanceof gr}(i)&&Sn(i);I=P&&this.injectableDefInScope(P)?qd(Gf(i),zh):null,this.records.set(i,I)}if(null!=I)return this.hydrate(i,I)}return(l&un.Self?$f():this.parent).get(i,s=l&un.Optional&&s===wa?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[tl]=w[tl]||[]).unshift(ce(i)),d)throw w;return function ki(n,i,s,l){const d=n[tl];throw i[oe]&&d.unshift(i[oe]),n.message=function pl(n,i,s,l=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let d=ce(i);if(Array.isArray(i))d=i.map(ce).join(" -> ");else if("object"==typeof i){let m=[];for(let w in i)if(i.hasOwnProperty(w)){let I=i[w];m.push(w+":"+("string"==typeof I?JSON.stringify(I):ce(I)))}d=`{${m.join(", ")}}`}return`${s}${l?"("+l+")":""}[${d}]: ${n.replace(R,"\n  ")}`}("\n"+n.message,d,s,l),n.ngTokenPath=d,n[tl]=null,n}(w,i,"R3InjectorError",this.source)}throw w}finally{Jt(m),yt(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,d)=>i.push(ce(d))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new dt(205,!1)}processInjectorType(i,s,l){if(!(i=Ne(i)))return!1;let d=Si(i);const m=null==d&&i.ngModule||void 0,w=void 0===m?i:m,I=-1!==l.indexOf(w);if(void 0!==m&&(d=Si(m)),null==d)return!1;if(null!=d.imports&&!I){let ie;l.push(w);try{ks(d.imports,Ie=>{this.processInjectorType(Ie,s,l)&&(void 0===ie&&(ie=[]),ie.push(Ie))})}finally{}if(void 0!==ie)for(let Ie=0;Ie<ie.length;Ie++){const{ngModule:ze,providers:lt}=ie[Ie];ks(lt,Ht=>this.processProvider(Ht,ze,lt||Et))}}this.injectorDefTypes.add(w);const P=Ln(w)||(()=>new w);this.records.set(w,qd(P,zh));const G=d.providers;if(null!=G&&!I){const ie=i;ks(G,Ie=>this.processProvider(Ie,ie,G))}return void 0!==m&&void 0!==i.providers}processProvider(i,s,l){let d=bc(i=Ne(i))?i:Ne(i&&i.provide);const m=function Yg(n,i,s){return Qg(n)?qd(void 0,n.useValue):qd(Lp(n),zh)}(i);if(bc(i)||!0!==i.multi)this.records.get(d);else{let w=this.records.get(d);w||(w=qd(void 0,zh,!0),w.factory=()=>$n(w.multi),this.records.set(d,w)),d=i,w.multi.push(i)}this.records.set(d,m)}hydrate(i,s){return s.value===zh&&(s.value=fy,s.value=s.factory()),"object"==typeof s.value&&s.value&&function yy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Ne(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Gf(n){const i=Sn(n),s=null!==i?i.factory:Ln(n);if(null!==s)return s;if(n instanceof gr)throw new dt(204,!1);if(n instanceof Function)return function qg(n){const i=n.length;if(i>0)throw Qa(i,"?"),new dt(204,!1);const s=function ui(n){const i=n&&(n[ei]||n[Yn]);if(i){const s=function qn(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new dt(204,!1)}function Lp(n,i,s){let l;if(bc(n)){const d=Ne(n);return Ln(d)||Gf(d)}if(Qg(n))l=()=>Ne(n.useValue);else if(function my(n){return!(!n||!n.useFactory)}(n))l=()=>n.useFactory(...$n(n.deps||[]));else if(function gy(n){return!(!n||!n.useExisting)}(n))l=()=>en(Ne(n.useExisting));else{const d=Ne(n&&(n.useClass||n.provide));if(!function Vp(n){return!!n.deps}(n))return Ln(d)||Gf(d);l=()=>new d(...$n(n.deps))}return l}function qd(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function Qg(n){return null!==n&&"object"==typeof n&&Te in n}function bc(n){return"function"==typeof n}let mu=(()=>{class n{static create(s,l){var d;if(Array.isArray(s))return Kg({name:""},l,s,"");{const m=null!==(d=s.name)&&void 0!==d?d:"";return Kg({name:m},s.parent,s.providers,m)}}}return n.THROW_IF_NOT_FOUND=wa,n.NULL=new jf,n.\u0275prov=$t({token:n,providedIn:"any",factory:()=>en(Kd)}),n.__NG_ELEMENT_ID__=-1,n})();function Wp(n,i){Es(Rc(n)[1],Xi())}function Zp(n){let i=function Yf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const l=[n];for(;i;){let d;if(lr(n))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new dt(903,"");d=i.\u0275dir}if(d){if(s){l.push(d);const w=n;w.inputs=Qf(n.inputs),w.declaredInputs=Qf(n.declaredInputs),w.outputs=Qf(n.outputs);const I=d.hostBindings;I&&wy(n,I);const P=d.viewQuery,G=d.contentQueries;if(P&&qp(n,P),G&&im(n,G),Ce(n.inputs,d.inputs),Ce(n.declaredInputs,d.declaredInputs),Ce(n.outputs,d.outputs),lr(d)&&d.data.animation){const ie=n.data;ie.animation=(ie.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let w=0;w<m.length;w++){const I=m[w];I&&I.ngInherit&&I(n),I===Zp&&(s=!1)}}i=Object.getPrototypeOf(i)}!function Kp(n){let i=0,s=null;for(let l=n.length-1;l>=0;l--){const d=n[l];d.hostVars=i+=d.hostVars,d.hostAttrs=qa(d.hostAttrs,s=qa(s,d.hostAttrs))}}(l)}function Qf(n){return n===Dt?{}:n===Et?[]:n}function qp(n,i){const s=n.viewQuery;n.viewQuery=s?(l,d)=>{i(l,d),s(l,d)}:i}function im(n,i){const s=n.contentQueries;n.contentQueries=s?(l,d,m)=>{i(l,d,m),s(l,d,m)}:i}function wy(n,i){const s=n.hostBindings;n.hostBindings=s?(l,d)=>{i(l,d),s(l,d)}:i}let Yd=null;function Ec(){if(!Yd){const n=Ee.Symbol;if(n&&n.iterator)Yd=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const l=i[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Yd=l)}}}return Yd}function Yh(n){return!!Jp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ec()in n)}function Jp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Cl(n,i,s){return n[i]=s}function Ho(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function wc(n,i,s,l){const d=Ho(n,i,s);return Ho(n,i+1,l)||d}function Qh(n,i,s,l,d){const m=wc(n,i,s,l);return Ho(n,i+2,d)||m}function Vi(n,i,s,l){const d=Bt();return Ho(d,Xr(),i)&&(oi(),pu(er(),d,n,i,s,l)),Vi}function id(n,i,s,l){return Ho(n,Xr(),s)?i+Qe(s)+l:Bn}function rd(n,i,s,l,d,m){const I=wc(n,qs(),s,d);return _s(2),I?i+Qe(s)+l+Qe(d)+m:Bn}function cm(n,i,s,l,d,m,w,I){const P=Bt(),G=oi(),ie=n+20,Ie=G.firstCreatePass?function Iy(n,i,s,l,d,m,w,I,P){const G=i.consts,ie=hr(i,n,4,w||null,Ai(G,I));Vh(i,s,ie,Ai(G,P)),Es(i,ie);const Ie=ie.tViews=On(2,ie,l,d,m,i.directiveRegistry,i.pipeRegistry,null,i.schemas,G);return null!==i.queries&&(i.queries.template(i,ie),Ie.queries=i.queries.embeddedTView(ie)),ie}(ie,G,P,i,s,l,d,m,w):G.data[ie];Ps(Ie,!1);const ze=P[11].createComment("");ol(G,P,ze,Ie),_o(ze,P),Zd(P,P[ie]=Qc(ze,P,ze,Ie)),ls(Ie)&&El(G,P,Ie),null!=w&&Gd(P,Ie,I)}function dm(n){return si(function Il(){return M.lFrame.contextLView}(),20+n)}function nf(n,i=un.Default){const s=Bt();return null===s?en(n,i):gi(Xi(),s,Ne(n),i)}function lg(){throw new Error("invalid")}function _u(n,i,s){const l=Bt();return Ho(l,Xr(),i)&&Da(oi(),er(),l,n,i,l[11],s,!1),_u}function bu(n,i,s,l,d){const w=d?"class":"style";ed(n,s,i.inputs[w],w,l)}function Eu(n,i,s,l){const d=Bt(),m=oi(),w=20+n,I=d[11],P=d[w]=Th(I,i,function Qs(){return M.lFrame.currentNamespace}()),G=m.firstCreatePass?function i_(n,i,s,l,d,m,w){const I=i.consts,G=hr(i,n,2,d,Ai(I,m));return Vh(i,s,G,Ai(I,w)),null!==G.attrs&&zu(G,G.attrs,!1),null!==G.mergedAttrs&&zu(G,G.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,G),G}(w,m,d,0,i,s,l):m.data[w];Ps(G,!0);const ie=G.mergedAttrs;null!==ie&&dl(I,P,ie);const Ie=G.classes;null!==Ie&&Bu(I,P,Ie);const ze=G.styles;return null!==ze&&kd(I,P,ze),64!=(64&G.flags)&&ol(m,d,P,G),0===function wn(){return M.lFrame.elementDepthCount}()&&_o(P,d),function Ci(){M.lFrame.elementDepthCount++}(),ls(G)&&(El(m,d,G),du(m,G,d)),null!==l&&Gd(d,G),Eu}function ad(){let n=Xi();Pa()?Ra():(n=n.parent,Ps(n,!1));const i=n;!function vs(){M.lFrame.elementDepthCount--}();const s=oi();return s.firstCreatePass&&(Es(s,n),vi(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function qo(n){return 0!=(16&n.flags)}(i)&&bu(s,i,Bt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Ka(n){return 0!=(32&n.flags)}(i)&&bu(s,i,Bt(),i.stylesWithoutHost,!1),ad}function ug(n,i,s,l){return Eu(n,i,s,l),ad(),ug}function rf(n,i,s){const l=Bt(),d=oi(),m=n+20,w=d.firstCreatePass?function wm(n,i,s,l,d){const m=i.consts,w=Ai(m,l),I=hr(i,n,8,"ng-container",w);return null!==w&&zu(I,w,!0),Vh(i,s,I,Ai(m,d)),null!==i.queries&&i.queries.elementStart(i,I),I}(m,d,l,i,s):d.data[m];Ps(w,!0);const I=l[m]=l[11].createComment("");return ol(d,l,I,w),_o(I,l),ls(w)&&(El(d,l,w),du(d,w,l)),null!=s&&Gd(l,w),rf}function ld(){let n=Xi();const i=oi();return Pa()?Ra():(n=n.parent,Ps(n,!1)),i.firstCreatePass&&(Es(i,n),vi(n)&&i.queries.elementEnd(n)),ld}function Cc(){return Bt()}function Xd(n){return!!n&&"function"==typeof n.then}function eh(n){return!!n&&"function"==typeof n.subscribe}const cg=eh;function sf(n,i,s,l){const d=Bt(),m=oi(),w=Xi();return function Dm(n,i,s,l,d,m,w,I){const P=ls(l),ie=n.firstCreatePass&&Gu(n),Ie=i[8],ze=Jc(i);let lt=!0;if(3&l.type||I){const vn=Ut(l,i),Pn=I?I(vn):vn,Qt=ze.length,Kn=I?Qi=>I(L(Qi[l.index])):l.index;if(_i(s)){let Qi=null;if(!I&&P&&(Qi=function Ly(n,i,s,l){const d=n.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const w=d[m];if(w===s&&d[m+1]===l){const I=i[7],P=d[m+2];return I.length>P?I[P]:null}"string"==typeof w&&(m+=2)}return null}(n,i,d,l.index)),null!==Qi)(Qi.__ngLastListenerFn__||Qi).__ngNextListenerFn__=m,Qi.__ngLastListenerFn__=m,lt=!1;else{m=of(l,i,Ie,m,!1);const Ar=s.listen(Pn,d,m);ze.push(m,Ar),ie&&ie.push(d,Kn,Qt,Qt+1)}}else m=of(l,i,Ie,m,!0),Pn.addEventListener(d,m,w),ze.push(m),ie&&ie.push(d,Kn,Qt,w)}else m=of(l,i,Ie,m,!1);const Ht=l.outputs;let an;if(lt&&null!==Ht&&(an=Ht[d])){const vn=an.length;if(vn)for(let Pn=0;Pn<vn;Pn+=2){const Kl=i[an[Pn]][an[Pn+1]].subscribe(m),yf=ze.length;ze.push(m,Kl),ie&&ie.push(d,l.index,yf,-(yf+1))}}}(m,d,d[11],w,n,i,!!s,l),sf}function ip(n,i,s,l){try{return!1!==s(l)}catch(d){return Xc(n,d),!1}}function of(n,i,s,l,d){return function m(w){if(w===Function)return l;const I=2&n.flags?jn(n.index,i):i;0==(32&i[2])&&Mp(I);let P=ip(i,0,l,w),G=m.__ngNextListenerFn__;for(;G;)P=ip(i,0,G,w)&&P,G=G.__ngNextListenerFn__;return d&&!1===P&&(w.preventDefault(),w.returnValue=!1),P}}function dg(n=1){return function ql(n){return(M.lFrame.contextLView=function Yl(n,i){for(;n>0;)i=i[15],n--;return i}(n,M.lFrame.contextLView))[8]}(n)}function ud(n,i){let s=null;const l=function gc(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(0==(1&s))return i[s+1]}return null}(n);for(let d=0;d<i.length;d++){const m=i[d];if("*"!==m){if(null===l?Hu(n,m,!0):jl(l,m))return d}else s=d}return s}function hg(n){const i=Bt()[16][6];if(!i.projection){const l=i.projection=Qa(n?n.length:1,null),d=l.slice();let m=i.child;for(;null!==m;){const w=n?ud(m,n):0;null!==w&&(d[w]?d[w].projectionNext=m:l[w]=m,d[w]=m),m=m.next}}}function fg(n,i=0,s){const l=Bt(),d=oi(),m=hr(d,20+n,16,null,s||null);null===m.projection&&(m.projection=i),Ra(),64!=(64&m.flags)&&function Uu(n,i,s){_l(i[11],0,i,s,au(n,s,i),wp(s.parent||i[6],s,i))}(d,l,m)}function af(n,i,s){return lf(n,"",i,"",s),af}function lf(n,i,s,l,d){const m=Bt(),w=id(m,i,s,l);return w!==Bn&&Da(oi(),er(),m,n,w,m[11],d,!1),lf}function pg(n,i,s,l,d,m,w){const I=Bt(),P=rd(I,i,s,l,d,m);return P!==Bn&&Da(oi(),er(),I,n,P,I[11],w,!1),pg}function Am(n,i,s,l,d){const m=n[s+1],w=null===i;let I=l?Lo(m):ja(m),P=!1;for(;0!==I&&(!1===P||w);){const ie=n[I+1];Uy(n[I],i)&&(P=!0,n[I+1]=l?zc(ie):yc(ie)),I=l?Lo(ie):ja(ie)}P&&(n[s+1]=l?yc(m):zc(m))}function Uy(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&_a(n,i)>=0}const so={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yg(n){return n.substring(so.key,so.keyEnd)}function By(n){return n.substring(so.value,so.valueEnd)}function vg(n,i){const s=so.textEnd;return s===i?-1:(i=so.keyEnd=function $y(n,i,s){for(;i<s&&n.charCodeAt(i)>32;)i++;return i}(n,so.key=i,s),nh(n,i,s))}function Sm(n,i){const s=so.textEnd;let l=so.key=nh(n,i,s);return s===l?-1:(l=so.keyEnd=function xm(n,i,s){let l;for(;i<s&&(45===(l=n.charCodeAt(i))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)i++;return i}(n,l,s),l=bg(n,l,s),l=so.value=nh(n,l,s),l=so.valueEnd=function Om(n,i,s){let l=-1,d=-1,m=-1,w=i,I=w;for(;w<s;){const P=n.charCodeAt(w++);if(59===P)return I;34===P||39===P?I=w=Eg(n,P,w,s):i===w-4&&85===m&&82===d&&76===l&&40===P?I=w=Eg(n,41,w,s):P>32&&(I=w),m=d,d=l,l=-33&P}return I}(n,l,s),bg(n,l,s))}function _g(n){so.key=0,so.keyEnd=0,so.value=0,so.valueEnd=0,so.textEnd=n.length}function nh(n,i,s){for(;i<s&&n.charCodeAt(i)<=32;)i++;return i}function bg(n,i,s,l){return(i=nh(n,i,s))<s&&i++,i}function Eg(n,i,s,l){let d=-1,m=s;for(;m<l;){const w=n.charCodeAt(m++);if(w==i&&92!==d)return m;d=92==w&&92===d?0:w}throw new Error}function ih(n,i,s){return Wl(n,i,s,!1),ih}function wg(n,i){return Wl(n,i,null,!0),wg}function jo(n){Zl(Rm,cd,n,!1)}function cd(n,i){for(let s=function jy(n){return _g(n),Sm(n,nh(n,0,so.textEnd))}(i);s>=0;s=Sm(i,s))Rm(n,yg(i),By(i))}function rh(n){Zl(Rr,ua,n,!0)}function ua(n,i){for(let s=function Hy(n){return _g(n),vg(n,nh(n,0,so.textEnd))}(i);s>=0;s=vg(i,s))Rr(n,yg(i),!0)}function Wl(n,i,s,l){const d=Bt(),m=oi(),w=_s(2);m.firstUpdatePass&&Wu(m,n,w,l),i!==Bn&&Ho(d,w,i)&&Nm(m,m.data[ts()],d,d[11],n,d[w+1]=function Tg(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ce(oa(n)))),n}(i,s),l,w)}function Zl(n,i,s,l){const d=oi(),m=_s(2);d.firstUpdatePass&&Wu(d,null,m,l);const w=Bt();if(s!==Bn&&Ho(w,m,s)){const I=d.data[ts()];if(Yy(I,l)&&!Pm(d,m)){let P=l?I.classesWithoutHost:I.stylesWithoutHost;null!==P&&(s=X(P,s||"")),bu(d,I,w,s,l)}else!function qy(n,i,s,l,d,m,w,I){d===Bn&&(d=Et);let P=0,G=0,ie=0<d.length?d[0]:null,Ie=0<m.length?m[0]:null;for(;null!==ie||null!==Ie;){const ze=P<d.length?d[P+1]:void 0,lt=G<m.length?m[G+1]:void 0;let an,Ht=null;ie===Ie?(P+=2,G+=2,ze!==lt&&(Ht=Ie,an=lt)):null===Ie||null!==ie&&ie<Ie?(P+=2,Ht=ie):(G+=2,Ht=Ie,an=lt),null!==Ht&&Nm(n,i,s,l,Ht,an,w,I),ie=P<d.length?d[P]:null,Ie=G<m.length?m[G]:null}}(d,I,w,w[11],w[m+1],w[m+1]=function Ky(n,i,s){if(null==s||""===s)return Et;const l=[],d=oa(s);if(Array.isArray(d))for(let m=0;m<d.length;m++)n(l,d[m],!0);else if("object"==typeof d)for(const m in d)d.hasOwnProperty(m)&&n(l,m,d[m]);else"string"==typeof d&&i(l,d);return l}(n,i,s),l,m)}}function Pm(n,i){return i>=n.expandoStartIndex}function Wu(n,i,s,l){const d=n.data;if(null===d[s+1]){const m=d[ts()],w=Pm(n,s);Yy(m,l)&&null===i&&!w&&(i=!1),i=function Gy(n,i,s,l){const d=ho(n);let m=l?i.residualClasses:i.residualStyles;if(null===d)0===(l?i.classBindings:i.styleBindings)&&(s=hf(s=Cg(null,n,i,s,l),i.attrs,l),m=null);else{const w=i.directiveStylingLast;if(-1===w||n[w]!==d)if(s=Cg(d,n,i,s,l),null===m){let P=function zy(n,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==ja(l))return n[Lo(l)]}(n,i,l);void 0!==P&&Array.isArray(P)&&(P=Cg(null,n,i,P[1],l),P=hf(P,i.attrs,l),function Wy(n,i,s,l){n[Lo(s?i.classBindings:i.styleBindings)]=l}(n,i,l,P))}else m=function Zy(n,i,s){let l;const d=i.directiveEnd;for(let m=1+i.directiveStylingLast;m<d;m++)l=hf(l,n[m].hostAttrs,s);return hf(l,i.attrs,s)}(n,i,l)}return void 0!==m&&(l?i.residualClasses=m:i.residualStyles=m),s}(d,m,i,l),function Fy(n,i,s,l,d,m){let w=m?i.classBindings:i.styleBindings,I=Lo(w),P=ja(w);n[l]=s;let ie,G=!1;if(Array.isArray(s)){const Ie=s;ie=Ie[1],(null===ie||_a(Ie,ie)>0)&&(G=!0)}else ie=s;if(d)if(0!==P){const ze=Lo(n[I+1]);n[l+1]=Gc(ze,I),0!==ze&&(n[ze+1]=uu(n[ze+1],l)),n[I+1]=function Fo(n,i){return 131071&n|i<<17}(n[I+1],l)}else n[l+1]=Gc(I,0),0!==I&&(n[I+1]=uu(n[I+1],l)),I=l;else n[l+1]=Gc(P,0),0===I?I=l:n[P+1]=uu(n[P+1],l),P=l;G&&(n[l+1]=yc(n[l+1])),Am(n,ie,l,!0),Am(n,ie,l,!1),function Vy(n,i,s,l,d){const m=d?n.residualClasses:n.residualStyles;null!=m&&"string"==typeof i&&_a(m,i)>=0&&(s[l+1]=zc(s[l+1]))}(i,ie,n,l,m),w=Gc(I,P),m?i.classBindings=w:i.styleBindings=w}(d,m,i,s,w,l)}}function Cg(n,i,s,l,d){let m=null;const w=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<w&&(m=i[I],l=hf(l,m.hostAttrs,d),m!==n);)I++;return null!==n&&(s.directiveStylingLast=I),l}function hf(n,i,s){const l=s?1:2;let d=-1;if(null!==i)for(let m=0;m<i.length;m++){const w=i[m];"number"==typeof w?d=w:d===l&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Rr(n,w,!!s||i[++m]))}return void 0===n?null:n}function Rm(n,i,s){Rr(n,i,oa(s))}function Nm(n,i,s,l,d,m,w,I){if(!(3&i.type))return;const P=n.data,G=P[I+1];Zu(function $l(n){return 1==(1&n)}(G)?km(P,i,s,d,ja(G),w):void 0)||(Zu(m)||function mc(n){return 2==(2&n)}(G)&&(m=km(P,null,s,d,I,w)),function Cp(n,i,s,l,d){const m=_i(n);if(i)d?m?n.addClass(s,l):s.classList.add(l):m?n.removeClass(s,l):s.classList.remove(l);else{let w=-1===l.indexOf("-")?void 0:sl.DashCase;if(null==d)m?n.removeStyle(s,l,w):s.style.removeProperty(l);else{const I="string"==typeof d&&d.endsWith("!important");I&&(d=d.slice(0,-10),w|=sl.Important),m?n.setStyle(s,l,d,w):s.style.setProperty(l,d,I?"important":"")}}}(l,w,Ct(ts(),s),d,m))}function km(n,i,s,l,d,m){const w=null===i;let I;for(;d>0;){const P=n[d],G=Array.isArray(P),ie=G?P[1]:P,Ie=null===ie;let ze=s[d+1];ze===Bn&&(ze=Ie?Et:void 0);let lt=Ie?Oo(ze,l):ie===l?ze:void 0;if(G&&!Zu(lt)&&(lt=Oo(P,l)),Zu(lt)&&(I=lt,w))return I;const Ht=n[d+1];d=w?Lo(Ht):ja(Ht)}if(null!==i){let P=m?i.residualClasses:i.residualStyles;null!=P&&(I=Oo(P,l))}return I}function Zu(n){return void 0!==n}function Yy(n,i){return 0!=(n.flags&(i?16:32))}function Qy(n,i=""){const s=Bt(),l=oi(),d=n+20,m=l.firstCreatePass?hr(l,d,1,i,null):l.data[d],w=s[d]=function Ch(n,i){return _i(n)?n.createText(i):n.createTextNode(i)}(s[11],i);ol(l,s,w,m),Ps(m,!1)}function Dg(n){return ff("",n,""),Dg}function ff(n,i,s){const l=Bt(),d=id(l,n,i,s);return d!==Bn&&gu(l,ts(),d),ff}function wu(n,i,s,l,d){const m=Bt(),w=rd(m,n,i,s,l,d);return w!==Bn&&gu(m,ts(),w),wu}function Ig(n,i,s,l,d,m,w){const I=Bt(),P=function vu(n,i,s,l,d,m,w,I){const G=Qh(n,qs(),s,d,w);return _s(3),G?i+Qe(s)+l+Qe(d)+m+Qe(w)+I:Bn}(I,n,i,s,l,d,m,w);return P!==Bn&&gu(I,ts(),P),Ig}function Jy(n,i,s){Zl(Rr,ua,id(Bt(),n,i,s),!0)}function Xy(n,i,s){const l=Bt();if(Ho(l,Xr(),i)){const m=oi(),w=er();Da(m,w,l,n,i,function Hf(n,i,s){return(null===n||lr(n))&&(s=function le(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(s[i.index])),s[11]}(ho(m.data),w,l),s,!0)}return Xy}const pf=void 0;var lb=["en",[["a","p"],["AM","PM"],pf],[["AM","PM"],pf,pf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pf,"{1} 'at' {0}",pf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ab(n){const s=Math.floor(Math.abs(n)),l=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let sp={};function ev(n){const i=function ub(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=a_(i);if(s)return s;const l=i.split("-")[0];if(s=a_(l),s)return s;if("en"===l)return lb;throw new Error(`Missing locale data for the locale "${n}".`)}function o_(n){return ev(n)[ii.PluralCase]}function a_(n){return n in sp||(sp[n]=Ee.ng&&Ee.ng.common&&Ee.ng.common.locales&&Ee.ng.common.locales[n]),sp[n]}var ii=(()=>((ii=ii||{})[ii.LocaleId=0]="LocaleId",ii[ii.DayPeriodsFormat=1]="DayPeriodsFormat",ii[ii.DayPeriodsStandalone=2]="DayPeriodsStandalone",ii[ii.DaysFormat=3]="DaysFormat",ii[ii.DaysStandalone=4]="DaysStandalone",ii[ii.MonthsFormat=5]="MonthsFormat",ii[ii.MonthsStandalone=6]="MonthsStandalone",ii[ii.Eras=7]="Eras",ii[ii.FirstDayOfWeek=8]="FirstDayOfWeek",ii[ii.WeekendRange=9]="WeekendRange",ii[ii.DateFormat=10]="DateFormat",ii[ii.TimeFormat=11]="TimeFormat",ii[ii.DateTimeFormat=12]="DateTimeFormat",ii[ii.NumberSymbols=13]="NumberSymbols",ii[ii.NumberFormats=14]="NumberFormats",ii[ii.CurrencyCode=15]="CurrencyCode",ii[ii.CurrencySymbol=16]="CurrencySymbol",ii[ii.CurrencyName=17]="CurrencyName",ii[ii.Currencies=18]="Currencies",ii[ii.Directionality=19]="Directionality",ii[ii.PluralCase=20]="PluralCase",ii[ii.ExtraData=21]="ExtraData",ii))();const $m="en-US";let l_=$m;function iv(n,i,s,l,d){if(n=Ne(n),Array.isArray(n))for(let m=0;m<n.length;m++)iv(n[m],i,s,l,d);else{const m=oi(),w=Bt();let I=bc(n)?n:Ne(n.provide),P=Lp(n);const G=Xi(),ie=1048575&G.providerIndexes,Ie=G.directiveStart,ze=G.providerIndexes>>20;if(bc(n)||!n.multi){const lt=new So(P,d,nf),Ht=sv(I,i,d?ie:ie+ze,Ie);-1===Ht?(xt(V(G,w),m,I),rv(m,n,i.length),i.push(I),G.directiveStart++,G.directiveEnd++,d&&(G.providerIndexes+=1048576),s.push(lt),w.push(lt)):(s[Ht]=lt,w[Ht]=lt)}else{const lt=sv(I,i,ie+ze,Ie),Ht=sv(I,i,ie,ie+ze),an=lt>=0&&s[lt],vn=Ht>=0&&s[Ht];if(d&&!vn||!d&&!an){xt(V(G,w),m,I);const Pn=function aE(n,i,s,l,d){const m=new So(n,s,nf);return m.multi=[],m.index=i,m.componentProviders=0,P_(m,d,l&&!s),m}(d?oE:sE,s.length,d,l,P);!d&&vn&&(s[Ht].providerFactory=Pn),rv(m,n,i.length,0),i.push(I),G.directiveStart++,G.directiveEnd++,d&&(G.providerIndexes+=1048576),s.push(Pn),w.push(Pn)}else rv(m,n,lt>-1?lt:Ht,P_(s[d?Ht:lt],P,!d&&l));!d&&l&&vn&&s[Ht].componentProviders++}}}function rv(n,i,s,l){const d=bc(i),m=function Fp(n){return!!n.useClass}(i);if(d||m){const P=(m?Ne(i.useClass):i).prototype.ngOnDestroy;if(P){const G=n.destroyHooks||(n.destroyHooks=[]);if(!d&&i.multi){const ie=G.indexOf(s);-1===ie?G.push(s,[l,P]):G[ie+1].push(l,P)}else G.push(s,P)}}}function P_(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function sv(n,i,s,l){for(let d=s;d<l;d++)if(i[d]===n)return d;return-1}function sE(n,i,s,l){return ov(this.multi,[])}function oE(n,i,s,l){const d=this.multi;let m;if(this.providerFactory){const w=this.providerFactory.componentProviders,I=mo(s,s[1],this.providerFactory.index,l);m=I.slice(0,w),ov(d,m);for(let P=w;P<I.length;P++)m.push(I[P])}else m=[],ov(d,m);return m}function ov(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function R_(n,i=[]){return s=>{s.providersResolver=(l,d)=>function rE(n,i,s){const l=oi();if(l.firstCreatePass){const d=lr(n);iv(s,l.data,l.blueprint,d,!0),iv(i,l.data,l.blueprint,d,!1)}}(l,d?d(n):n,i)}}class N_{}class cE{resolveComponentFactory(i){throw function uE(n){const i=Error(`No component factory found for ${ce(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Km=(()=>{class n{}return n.NULL=new cE,n})();function dE(){return ap(Xi(),Bt())}function ap(n,i){return new Mg(Ut(n,i))}let Mg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=dE,n})();function hE(n){return n instanceof Mg?n.nativeElement:n}class L_{}let fE=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function gE(){const n=Bt(),s=jn(Xi().index,n);return function pE(n){return n[11]}(Ot(s)?s:n)}(),n})(),mE=(()=>{class n{}return n.\u0275prov=$t({token:n,providedIn:"root",factory:()=>null}),n})();class F_{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const V_=new F_("13.3.11"),av={};function qm(n,i,s,l,d=!1){for(;null!==s;){const m=i[s.index];if(null!==m&&l.push(L(m)),Ji(m))for(let I=10;I<m.length;I++){const P=m[I],G=P[1].firstChild;null!==G&&qm(P[1],P,G,l)}const w=s.type;if(8&w)qm(n,i,s.child,l);else if(32&w){const I=kc(s,i);let P;for(;P=I();)l.push(P)}else if(16&w){const I=Rd(i,s);if(Array.isArray(I))l.push(...I);else{const P=Lc(i[16]);qm(P[1],P,I,l,!0)}}s=d?s.projectionNext:s.next}return l}class Pg{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return qm(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Ji(i)){const s=i[8],l=s?s.indexOf(this):-1;l>-1&&(pc(i,l),ea(s,l))}this._attachedToViewContainer=!1}bp(this._lView[1],this._lView)}onDestroy(i){Vo(this._lView[1],this._lView,null,i)}markForCheck(){Mp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function jh(n,i,s){const l=i[10];l.begin&&l.begin();try{ro(n,i,n.template,s)}catch(d){throw Xc(i,d),d}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new dt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Us(n,i){Hl(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new dt(902,"");this._appRef=i}}class yE extends Pg{constructor(i){super(i),this._view=i}detectChanges(){Gg(this._view)}checkNoChanges(){}get context(){return null}}class U_ extends Km{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Ae(i);return new lv(s,this.ngModule)}}function B_(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class lv extends N_{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function lu(n){return n.map(Mf).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return B_(this.componentDef.inputs)}get outputs(){return B_(this.componentDef.outputs)}create(i,s,l,d){const m=(d=d||this.ngModule)?function _E(n,i){return{get:(s,l,d)=>{const m=n.get(s,av,d);return m!==av||l===av?m:i.get(s,l,d)}}}(i,d.injector):i,w=m.get(L_,U),I=m.get(mE,null),P=w.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",ie=l?function rs(n,i,s){if(_i(n))return n.selectRootElement(i,s===wt.ShadowDom);let l="string"==typeof i?n.querySelector(i):i;return l.textContent="",l}(P,l,this.componentDef.encapsulation):Th(w.createRenderer(null,this.componentDef),G,function vE(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(G)),Ie=this.componentDef.onPush?576:528,ze=function nm(n,i){return{components:[],scheduler:n||Tf,clean:Np,playerHandler:i||null,flags:0}}(),lt=On(0,null,null,1,0,null,null,null,null,null),Ht=li(null,lt,ze,Ie,null,null,w,P,I,m);let an,vn;Ko(Ht);try{const Pn=function tm(n,i,s,l,d,m){const w=s[1];s[20]=n;const P=hr(w,20,2,"#host",null),G=P.mergedAttrs=i.hostAttrs;null!==G&&(zu(P,G,!0),null!==n&&(dl(d,n,G),null!==P.classes&&Bu(d,n,P.classes),null!==P.styles&&kd(d,n,P.styles)));const ie=l.createRenderer(n,i),Ie=li(s,zd(i),null,i.onPush?64:16,s[20],P,l,ie,m||null,null);return w.firstCreatePass&&(xt(V(P,s),w,i.type),fu(w,P),Vf(P,s.length,1)),Zd(s,Ie),s[20]=Ie}(ie,this.componentDef,Ht,w,P);if(ie)if(l)dl(P,ie,["ng-version",V_.full]);else{const{attrs:Qt,classes:Kn}=function Pf(n){const i=[],s=[];let l=1,d=2;for(;l<n.length;){let m=n[l];if("string"==typeof m)2===d?""!==m&&i.push(m,n[++l]):8===d&&s.push(m);else{if(!Ta(d))break;d=m}l++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);Qt&&dl(P,ie,Qt),Kn&&Kn.length>0&&Bu(P,ie,Kn.join(" "))}if(vn=Rn(lt,20),void 0!==s){const Qt=vn.projection=[];for(let Kn=0;Kn<this.ngContentSelectors.length;Kn++){const Qi=s[Kn];Qt.push(null!=Qi?Array.from(Qi):null)}}an=function qf(n,i,s,l,d){const m=s[1],w=function Wd(n,i,s){const l=Xi();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),jg(n,l,i,kr(n,i,1,null),s));const d=mo(i,n,l.directiveStart,l);_o(d,i);const m=Ut(l,i);return m&&_o(m,i),d}(m,s,i);if(l.components.push(w),n[8]=w,d&&d.forEach(P=>P(w,i)),i.contentQueries){const P=Xi();i.contentQueries(1,w,P.directiveStart)}const I=Xi();return!m.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Io(I.index),Uh(s[1],I,0,I.directiveStart,I.directiveEnd,i),Ff(i,w)),w}(Pn,this.componentDef,Ht,ze,[Wp]),io(lt,Ht,null)}finally{po()}return new EE(this.componentType,an,ap(vn,Ht),Ht,vn)}}class EE extends class lE{}{constructor(i,s,l,d,m){super(),this.location=l,this._rootLView=d,this._tNode=m,this.instance=s,this.hostView=this.changeDetectorRef=new yE(d),this.componentType=i}get injector(){return new Er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class lp{}class H_{}const up=new Map;class G_ extends lp{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new U_(this);const l=Nt(i);this._bootstrapComponents=rl(l.bootstrap),this._r3Injector=kp(i,s,[{provide:lp,useValue:this},{provide:Km,useValue:this.componentFactoryResolver}],ce(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=mu.THROW_IF_NOT_FOUND,l=un.Default){return i===mu||i===lp||i===Kd?this:this._r3Injector.get(i,s,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class uv extends H_{constructor(i){super(),this.moduleType=i,null!==Nt(i)&&function CE(n){const i=new Set;!function s(l){const d=Nt(l,!0),m=d.id;null!==m&&(function j_(n,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${n} - ${ce(i)} vs ${ce(i.name)}`)}(m,up.get(m),l),up.set(m,l));const w=rl(d.imports);for(const I of w)i.has(I)||(i.add(I),s(I))}(n)}(i)}create(i){return new G_(this.moduleType,i)}}function z_(n,i,s){const l=Vr()+n,d=Bt();return d[l]===Bn?Cl(d,l,s?i.call(s):i()):function td(n,i){return n[i]}(d,l)}function W_(n,i,s,l){return q_(Bt(),Vr(),n,i,s,l)}function Z_(n,i,s,l,d){return function Y_(n,i,s,l,d,m,w){const I=i+s;return wc(n,I,d,m)?Cl(n,I+2,w?l.call(w,d,m):l(d,m)):Rg(n,I+2)}(Bt(),Vr(),n,i,s,l,d)}function K_(n,i,s,l,d,m){return function Q_(n,i,s,l,d,m,w,I){const P=i+s;return Qh(n,P,d,m,w)?Cl(n,P+3,I?l.call(I,d,m,w):l(d,m,w)):Rg(n,P+3)}(Bt(),Vr(),n,i,s,l,d,m)}function Rg(n,i){const s=n[i];return s===Bn?void 0:s}function q_(n,i,s,l,d,m){const w=i+s;return Ho(n,w,d)?Cl(n,w+1,m?l.call(m,d):l(d)):Rg(n,w+1)}function e0(n,i){const s=oi();let l;const d=n+20;s.firstCreatePass?(l=function OE(n,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(n===l.name)return l}}(i,s.pipeRegistry),s.data[d]=l,l.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(d,l.onDestroy)):l=s.data[d];const m=l.factory||(l.factory=Ln(l.type)),w=Jt(nf);try{const I=Ti(!1),P=m();return Ti(I),function Ay(n,i,s,l){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=l}(s,Bt(),d,P),P}finally{Jt(w)}}function t0(n,i,s){const l=n+20,d=Bt(),m=si(d,l);return function Ng(n,i){return n[1].data[i].pure}(d,l)?q_(d,Vr(),i,m.transform,s,m):m.transform(s)}function cv(n){return i=>{setTimeout(n,void 0,i)}}const Tc=class kE extends g.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){var d,m,w;let I=i,P=s||(()=>null),G=l;if(i&&"object"==typeof i){const Ie=i;I=null===(d=Ie.next)||void 0===d?void 0:d.bind(Ie),P=null===(m=Ie.error)||void 0===m?void 0:m.bind(Ie),G=null===(w=Ie.complete)||void 0===w?void 0:w.bind(Ie)}this.__isAsync&&(P=cv(P),I&&(I=cv(I)),G&&(G=cv(G)));const ie=super.subscribe({next:I,error:P,complete:G});return i instanceof h.w0&&i.add(ie),ie}};function LE(){return this._results[Ec()]()}class dv{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Ec(),l=dv.prototype;l[s]||(l[s]=LE)}get changes(){return this._changes||(this._changes=new Tc)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const d=Tr(i);(this._changesDetected=!function or(n,i,s){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){let d=n[l],m=i[l];if(s&&(d=s(d),m=s(m)),m!==d)return!1}return!0}(l._results,d,s))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let kg=(()=>{class n{}return n.__NG_ELEMENT_ID__=UE,n})();const FE=kg,VE=class extends FE{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(i){const s=this._declarationTContainer.tViews,l=li(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(l[19]=m.createEmbeddedView(s)),io(s,l,i),new Pg(l)}};function UE(){return Ym(Xi(),Bt())}function Ym(n,i){return 4&n.type?new VE(i,n,ap(n,i)):null}let Qm=(()=>{class n{}return n.__NG_ELEMENT_ID__=BE,n})();function BE(){return s0(Xi(),Bt())}const HE=Qm,n0=class extends HE{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return ap(this._hostTNode,this._hostLView)}get injector(){return new Er(this._hostTNode,this._hostLView)}get parentInjector(){const i=He(this._hostTNode,this._hostLView);if(Ql(i)){const s=Ki(i,this._hostLView),l=Hi(i);return new Er(s[1].data[l+8],s)}return new Er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=r0(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,l){const d=i.createEmbeddedView(s||{});return this.insert(d,l),d}createComponent(i,s,l,d,m){const w=i&&!function Ya(n){return"function"==typeof n}(i);let I;if(w)I=s;else{const Ie=s||{};I=Ie.index,l=Ie.injector,d=Ie.projectableNodes,m=Ie.ngModuleRef}const P=w?i:new lv(Ae(i)),G=l||this.parentInjector;if(!m&&null==P.ngModule){const ze=(w?G:this.parentInjector).get(lp,null);ze&&(m=ze)}const ie=P.create(G,d,void 0,m);return this.insert(ie.hostView,I),ie}insert(i,s){const l=i._lView,d=l[1];if(function xi(n){return Ji(n[3])}(l)){const ie=this.indexOf(i);if(-1!==ie)this.detach(ie);else{const Ie=l[3],ze=new n0(Ie,Ie[6],Ie[3]);ze.detach(ze.indexOf(i))}}const m=this._adjustIndex(s),w=this._lContainer;!function Fc(n,i,s,l){const d=10+l,m=s.length;l>0&&(s[d-1][4]=i),l<m-10?(i[4]=s[d],Tu(s,10+l,i)):(s.push(i),i[4]=null),i[3]=s;const w=i[17];null!==w&&s!==w&&function Vc(n,i){const s=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===s?n[9]=[i]:s.push(i)}(w,i);const I=i[19];null!==I&&I.insertView(n),i[2]|=128}(d,l,w,m);const I=Nd(m,w),P=l[11],G=Md(P,w[7]);return null!==G&&function Sd(n,i,s,l,d,m){l[0]=d,l[6]=i,Hl(n,l,s,1,d,m)}(d,w[6],P,l,G,I),i.attachToViewContainerRef(),Tu(hv(w),m,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=r0(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=pc(this._lContainer,s);l&&(ea(hv(this._lContainer),s),bp(l[1],l))}detach(i){const s=this._adjustIndex(i,-1),l=pc(this._lContainer,s);return l&&null!=ea(hv(this._lContainer),s)?new Pg(l):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function r0(n){return n[8]}function hv(n){return n[8]||(n[8]=[])}function s0(n,i){let s;const l=i[n.index];if(Ji(l))s=l;else{let d;if(8&n.type)d=L(l);else{const m=i[11];d=m.createComment("");const w=Ut(n,i);vl(m,Md(m,w),d,function Ep(n,i){return _i(n)?n.nextSibling(i):i.nextSibling}(m,w),!1)}i[n.index]=s=Qc(l,i,d,n),Zd(i,s)}return new n0(s,n,i)}class fv{constructor(i){this.queryList=i,this.matches=null}clone(){return new fv(this.queryList)}setDirty(){this.queryList.setDirty()}}class pv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,d=[];for(let m=0;m<l;m++){const w=s.getByIndex(m);d.push(this.queries[w.indexInDeclarationView].clone())}return new pv(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==p0(i,s).matches&&this.queries[s].setDirty()}}class o0{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class gv{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const d=null!==s?s.length:0,m=this.getByIndex(l).embeddedTView(i,d);m&&(m.indexInDeclarationView=l,null!==s?s.push(m):s=[m])}return null!==s?new gv(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class mv{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new mv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const m=l[d];this.matchTNodeWithReadOption(i,s,GE(s,m)),this.matchTNodeWithReadOption(i,s,ka(s,i,m,!1,!1))}else l===kg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,ka(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Mg||d===Qm||d===kg&&4&s.type)this.addMatch(s.index,-2);else{const m=ka(s,i,d,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function GE(n,i){const s=n.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function WE(n,i,s,l){return-1===s?function zE(n,i){return 11&n.type?ap(n,i):4&n.type?Ym(n,i):null}(i,n):-2===s?function ZE(n,i,s){return s===Mg?ap(i,n):s===kg?Ym(i,n):s===Qm?s0(i,n):void 0}(n,i,l):mo(n,n[1],s,i)}function a0(n,i,s,l){const d=i[19].queries[l];if(null===d.matches){const m=n.data,w=s.matches,I=[];for(let P=0;P<w.length;P+=2){const G=w[P];I.push(G<0?null:WE(i,m[G],w[P+1],s.metadata.read))}d.matches=I}return d.matches}function yv(n,i,s,l){const d=n.queries.getByIndex(s),m=d.matches;if(null!==m){const w=a0(n,i,d,s);for(let I=0;I<m.length;I+=2){const P=m[I];if(P>0)l.push(w[I/2]);else{const G=m[I+1],ie=i[-P];for(let Ie=10;Ie<ie.length;Ie++){const ze=ie[Ie];ze[17]===ze[3]&&yv(ze[1],ze,G,l)}if(null!==ie[9]){const Ie=ie[9];for(let ze=0;ze<Ie.length;ze++){const lt=Ie[ze];yv(lt[1],lt,G,l)}}}}}return l}function l0(n){const i=Bt(),s=oi(),l=ul();Wa(l+1);const d=p0(s,l);if(n.dirty&&ri(i)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const m=d.crossesNgTemplate?yv(s,i,l,[]):a0(s,i,d,l);n.reset(m,hE),n.notifyOnChanges()}return!0}return!1}function u0(n,i,s){const l=oi();l.firstCreatePass&&(f0(l,new o0(n,i,s),-1),2==(2&i)&&(l.staticViewQueries=!0)),h0(l,Bt(),i)}function c0(n,i,s,l){const d=oi();if(d.firstCreatePass){const m=Xi();f0(d,new o0(i,s,l),m.index),function qE(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}h0(d,Bt(),s)}function d0(){return function KE(n,i){return n[19].queries[i].queryList}(Bt(),ul())}function h0(n,i,s){const l=new dv(4==(4&s));Vo(n,i,l,l.destroy),null===i[19]&&(i[19]=new pv),i[19].queries.push(new fv(l))}function f0(n,i,s){null===n.queries&&(n.queries=new gv),n.queries.track(new mv(i,s))}function p0(n,i){return n.queries.getByIndex(i)}function g0(n,i){return Ym(n,i)}const hw=Xl("HostBinding",n=>({hostPropertyName:n})),fw=Xl("HostListener",(n,i)=>({eventName:n,args:i}));function ey(...n){}const P0=new gr("Application Initializer");let Cv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=ey,this.reject=ey,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const m=this.appInits[d]();if(Xd(m))s.push(m);else if(cg(m)){const w=new Promise((I,P)=>{m.subscribe({complete:I,error:P})});s.push(w)}}Promise.all(s).then(()=>{l()}).catch(d=>{this.reject(d)}),0===s.length&&l(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(en(P0,8))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const R0=new gr("AppId",{providedIn:"root",factory:function N0(){return`${Tv()}${Tv()}${Tv()}`}});function Tv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const k0=new gr("Platform Initializer"),pw=new gr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),L0=new gr("appBootstrapListener");let gw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Dv=new gr("LocaleId",{providedIn:"root",factory:()=>Xn(Dv,un.Optional|un.SkipSelf)||function mw(){return"undefined"!=typeof $localize&&$localize.locale||$m}()}),yw=new gr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vw{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let _w=(()=>{class n{compileModuleSync(s){return new uv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),m=rl(Nt(s).declarations).reduce((w,I)=>{const P=Ae(I);return P&&w.push(new lv(P)),w},[]);return new vw(l,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ew=(()=>Promise.resolve(0))();function Iv(n){"undefined"==typeof Zone?Ew.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ku{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tc(!1),this.onMicrotaskEmpty=new Tc(!1),this.onStable=new Tc(!1),this.onError=new Tc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&s,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function ww(){let n=Ee.requestAnimationFrame,i=Ee.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Dw(n){const i=()=>{!function Tw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ee,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Sv(n),n.isCheckStableRunning=!0,Av(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Sv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,d,m,w,I)=>{try{return F0(n),s.invokeTask(d,m,w,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||n.shouldCoalesceRunChangeDetection)&&i(),V0(n)}},onInvoke:(s,l,d,m,w,I,P)=>{try{return F0(n),s.invoke(d,m,w,I,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),V0(n)}},onHasTask:(s,l,d,m)=>{s.hasTask(d,m),l===d&&("microTask"==m.change?(n._hasPendingMicrotasks=m.microTask,Sv(n),Av(n)):"macroTask"==m.change&&(n.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,l,d,m)=>(s.handleError(d,m),n.runOutsideAngular(()=>n.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ku.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ku.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,d){const m=this._inner,w=m.scheduleEventTask("NgZoneEvent: "+d,i,Cw,ey,ey);try{return m.runTask(w,s,l)}finally{m.cancelTask(w)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const Cw={};function Av(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function F0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function V0(n){n._nesting--,Av(n)}class Iw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tc,this.onMicrotaskEmpty=new Tc,this.onStable=new Tc,this.onError=new Tc}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,d){return i.apply(s,l)}}let U0=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ku.assertNotInAngularZone(),Iv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Iv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,d){let m=-1;l&&l>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==m),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:d})}whenStable(s,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,l,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(en(Ku))},n.\u0275prov=$t({token:n,factory:n.\u0275fac}),n})(),Aw=(()=>{class n{constructor(){this._applications=new Map,xv.addToWindow(this)}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return xv.findTestabilityInTree(this,s,l)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class Sw{addToWindow(i){}findTestabilityInTree(i,s,l){return null}}function xw(n){xv=n}let xv=new Sw,gf=null;const B0=new gr("AllowMultipleToken"),H0=new gr("PlatformOnDestroy");class Pw{constructor(i,s){this.name=i,this.token=s}}function j0(n,i,s=[]){const l=`Platform: ${i}`,d=new gr(l);return(m=[])=>{let w=Ov();if(!w||w.injector.get(B0,!1)){const I=[...s,...m,{provide:d,useValue:!0}];n?n(I):function Rw(n){if(gf&&!gf.get(B0,!1))throw new dt(400,"");gf=n;const i=n.get($0),s=n.get(k0,null);s&&s.forEach(l=>l())}(function kw(n=[],i){return mu.create({name:i,providers:[{provide:Gh,useValue:"platform"},{provide:H0,useValue:()=>gf=null},...n]})}(I,l))}return function Nw(n){const i=Ov();if(!i)throw new dt(401,"");return i}()}}function Ov(){var n;return null!==(n=null==gf?void 0:gf.get($0))&&void 0!==n?n:null}let $0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const I=function Lw(n,i){let s;return s="noop"===n?new Iw:("zone.js"===n?void 0:n)||new Ku({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),P=[{provide:Ku,useValue:I}];return I.run(()=>{const G=mu.create({providers:P,parent:this.injector,name:s.moduleType.name}),ie=s.create(G),Ie=ie.injector.get(cc,null);if(!Ie)throw new dt(402,"");return I.runOutsideAngular(()=>{const ze=I.onError.subscribe({next:lt=>{Ie.handleError(lt)}});ie.onDestroy(()=>{Pv(this._modules,ie),ze.unsubscribe()})}),function Fw(n,i,s){try{const l=s();return Xd(l)?l.catch(d=>{throw i.runOutsideAngular(()=>n.handleError(d)),d}):l}catch(l){throw i.runOutsideAngular(()=>n.handleError(l)),l}}(Ie,I,()=>{const ze=ie.injector.get(Cv);return ze.runInitializers(),ze.donePromise.then(()=>(function fb(n){vt(n,"Expected localeId to be defined"),"string"==typeof n&&(l_=n.toLowerCase().replace(/_/g,"-"))}(ie.injector.get(Dv,$m)||$m),this._moduleDoBootstrap(ie),ie))})})}bootstrapModule(s,l=[]){const d=G0({},l);return function Ow(n,i,s){const l=new uv(s);return Promise.resolve(l)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(s){const l=s.injector.get(Mv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new dt(403,"");s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new dt(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(H0,null);null==s||s(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(en(mu))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function G0(n,i){return Array.isArray(i)?i.reduce(G0,n):Object.assign(Object.assign({},n),i)}let Mv=(()=>{class n{constructor(s,l,d,m){this._zone=s,this._injector=l,this._exceptionHandler=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new W.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),I=new W.y(P=>{let G;this._zone.runOutsideAngular(()=>{G=this._zone.onStable.subscribe(()=>{Ku.assertNotInAngularZone(),Iv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const ie=this._zone.onUnstable.subscribe(()=>{Ku.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{G.unsubscribe(),ie.unsubscribe()}});this.isStable=(0,De.T)(w,I.pipe((0,_e.B)()))}bootstrap(s,l){if(!this._initStatus.done)throw new dt(405,"");let d;d=s instanceof N_?s:this._injector.get(Km).resolveComponentFactory(s),this.componentTypes.push(d.componentType);const m=function Mw(n){return n.isBoundToModule}(d)?void 0:this._injector.get(lp),I=d.create(mu.NULL,[],l||d.selector,m),P=I.location.nativeElement,G=I.injector.get(U0,null),ie=G&&I.injector.get(Aw);return G&&ie&&ie.registerApplication(P,G),I.onDestroy(()=>{this.detachView(I.hostView),Pv(this.components,I),ie&&ie.unregisterApplication(P)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new dt(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Pv(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(L0,[]).concat(this._bootstrapListeners).forEach(d=>d(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(en(Ku),en(mu),en(cc),en(Cv))},n.\u0275prov=$t({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pv(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}let W0=!0,Z0=!1;function Uw(){return Z0=!0,W0}function Bw(){if(Z0)throw new Error("Cannot enable prod mode after platform setup.");W0=!1}let Hw=(()=>{class n{}return n.__NG_ELEMENT_ID__=jw,n})();function jw(n){return function $w(n,i,s){if(as(n)&&!s){const l=jn(n.index,i);return new Pg(l,l)}return 47&n.type?new Pg(i[16],i):null}(Xi(),Bt(),16==(16&n))}class Q0{constructor(){}supports(i){return Yh(i)}create(i){return new qw(i)}}const Kw=(n,i)=>i;class qw{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Kw}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,d=0,m=null;for(;s||l;){const w=!l||s&&s.currentIndex<X0(l,d,m)?s:l,I=X0(w,d,m),P=w.currentIndex;if(w===l)d--,l=l._nextRemoved;else if(s=s._next,null==w.previousIndex)d++;else{m||(m=[]);const G=I-d,ie=P-d;if(G!=ie){for(let ze=0;ze<G;ze++){const lt=ze<m.length?m[ze]:m[ze]=0,Ht=lt+ze;ie<=Ht&&Ht<G&&(m[ze]=lt+1)}m[w.previousIndex]=ie-G}}I!==P&&i(w,I,P)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Yh(i))throw new dt(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,m,w,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let I=0;I<this.length;I++)m=i[I],w=this._trackByFn(I,m),null!==s&&Object.is(s.trackById,w)?(l&&(s=this._verifyReinsertion(s,m,w,I)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,w,I),l=!0),s=s._next}else d=0,function sm(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Ec()]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,I=>{w=this._trackByFn(d,I),null!==s&&Object.is(s.trackById,w)?(l&&(s=this._verifyReinsertion(s,I,w,d)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,w,d),l=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,d){let m;return null===i?m=this._itTail:(m=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,m,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,m,d)):i=this._addAfter(new Yw(s,l),m,d),i}_verifyReinsertion(i,s,l,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==m?i=this._reinsertAfter(m,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,m=i._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const d=null===s?this._itHead:s._next;return i._next=d,i._prev=s,null===d?this._itTail=i:d._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new J0),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new J0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Yw{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class J0{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new Qw,this.map.set(s,l)),l.add(i)}get(i,s){const d=this.map.get(i);return d?d.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function X0(n,i,s){const l=n.previousIndex;if(null===l)return l;let d=0;return s&&l<s.length&&(d=s[l]),l+i+d}class eb{constructor(){}supports(i){return i instanceof Map||Jp(i)}create(){return new Jw}}class Jw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Jp(i)))throw new dt(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(d,l);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,s);const m=d._prev,w=d._next;return m&&(m._next=w),w&&(w._prev=m),d._next=null,d._prev=null,d}const l=new Xw(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class Xw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tb(){return new Fv([new Q0])}let Fv=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const d=l.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||tb()),deps:[[n,new Va,new yo]]}}find(s){const l=this.factories.find(d=>d.supports(s));if(null!=l)return l;throw new dt(901,"")}}return n.\u0275prov=$t({token:n,providedIn:"root",factory:tb}),n})();function nb(){return new Vv([new eb])}let Vv=(()=>{class n{constructor(s){this.factories=s}static create(s,l){if(l){const d=l.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||nb()),deps:[[n,new Va,new yo]]}}find(s){const l=this.factories.find(m=>m.supports(s));if(l)return l;throw new dt(901,"")}}return n.\u0275prov=$t({token:n,providedIn:"root",factory:nb}),n})();const nC=j0(null,"core",[]);let iC=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(en(Mv))},n.\u0275mod=ve({type:n}),n.\u0275inj=hn({}),n})()},3075:(qt,Ze,x)=>{x.d(Ze,{Cf:()=>Qe,EJ:()=>Ln,Fj:()=>nt,JJ:()=>un,JL:()=>Pi,JU:()=>ce,Kr:()=>ha,NI:()=>Mn,On:()=>as,UX:()=>ri,Wl:()=>ne,YN:()=>ms,_Y:()=>ls,a5:()=>Si,cw:()=>qr,kI:()=>ft,oH:()=>Yr,qu:()=>xi,sg:()=>Ms,u:()=>ur,u5:()=>jn});var g=x(5e3),h=x(9808),W=x(8996),De=x(4128),_e=x(4004);let Re=(()=>{class H{constructor(M,se){this._renderer=M,this._elementRef=se,this.onChange=At=>{},this.onTouched=()=>{}}setProperty(M,se){this._renderer.setProperty(this._elementRef.nativeElement,M,se)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(g.Qsj),g.Y36(g.SBq))},H.\u0275dir=g.lG2({type:H}),H})(),Ce=(()=>{class H extends Re{}return H.\u0275fac=function(){let N;return function(se){return(N||(N=g.n5z(H)))(se||H)}}(),H.\u0275dir=g.lG2({type:H,features:[g.qOj]}),H})();const ce=new g.OlP("NgValueAccessor"),X={provide:ce,useExisting:(0,g.Gpc)(()=>ne),multi:!0};let ne=(()=>{class H extends Ce{writeValue(M){this.setProperty("checked",M)}}return H.\u0275fac=function(){let N;return function(se){return(N||(N=g.n5z(H)))(se||H)}}(),H.\u0275dir=g.lG2({type:H,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(M,se){1&M&&g.NdJ("change",function(wn){return se.onChange(wn.target.checked)})("blur",function(){return se.onTouched()})},features:[g._Bn([X]),g.qOj]}),H})();const ue={provide:ce,useExisting:(0,g.Gpc)(()=>nt),multi:!0},ut=new g.OlP("CompositionEventMode");let nt=(()=>{class H extends Re{constructor(M,se,At){super(M,se),this._compositionMode=At,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ne(){const H=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(M){this.setProperty("value",null==M?"":M)}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(ut,8))},H.\u0275dir=g.lG2({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,se){1&M&&g.NdJ("input",function(wn){return se._handleInput(wn.target.value)})("blur",function(){return se.onTouched()})("compositionstart",function(){return se._compositionStart()})("compositionend",function(wn){return se._compositionEnd(wn.target.value)})},features:[g._Bn([ue]),g.qOj]}),H})();function dt(H){return null==H||0===H.length}function ct(H){return null!=H&&"number"==typeof H.length}const Qe=new g.OlP("NgValidators"),st=new g.OlP("NgAsyncValidators"),Ue=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ft{static min(N){return function me(H){return N=>{if(dt(N.value)||dt(H))return null;const M=parseFloat(N.value);return!isNaN(M)&&M<H?{min:{min:H,actual:N.value}}:null}}(N)}static max(N){return function we(H){return N=>{if(dt(N.value)||dt(H))return null;const M=parseFloat(N.value);return!isNaN(M)&&M>H?{max:{max:H,actual:N.value}}:null}}(N)}static required(N){return function et(H){return dt(H.value)?{required:!0}:null}(N)}static requiredTrue(N){return function Tt(H){return!0===H.value?null:{required:!0}}(N)}static email(N){return function Y(H){return dt(H.value)||Ue.test(H.value)?null:{email:!0}}(N)}static minLength(N){return function qe(H){return N=>dt(N.value)||!ct(N.value)?null:N.value.length<H?{minlength:{requiredLength:H,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function tt(H){return N=>ct(N.value)&&N.value.length>H?{maxlength:{requiredLength:H,actualLength:N.value.length}}:null}(N)}static pattern(N){return function Le(H){if(!H)return Ge;let N,M;return"string"==typeof H?(M="","^"!==H.charAt(0)&&(M+="^"),M+=H,"$"!==H.charAt(H.length-1)&&(M+="$"),N=new RegExp(M)):(M=H.toString(),N=H),se=>{if(dt(se.value))return null;const At=se.value;return N.test(At)?null:{pattern:{requiredPattern:M,actualValue:At}}}}(N)}static nullValidator(N){return null}static compose(N){return vt(N)}static composeAsync(N){return Se(N)}}function Ge(H){return null}function Xe(H){return null!=H}function ot(H){const N=(0,g.QGY)(H)?(0,W.D)(H):H;return(0,g.CqO)(N),N}function it(H){let N={};return H.forEach(M=>{N=null!=M?Object.assign(Object.assign({},N),M):N}),0===Object.keys(N).length?null:N}function Rt(H,N){return N.map(M=>M(H))}function pt(H){return H.map(N=>function on(H){return!H.validate}(N)?N:M=>N.validate(M))}function vt(H){if(!H)return null;const N=H.filter(Xe);return 0==N.length?null:function(M){return it(Rt(M,N))}}function q(H){return null!=H?vt(pt(H)):null}function Se(H){if(!H)return null;const N=H.filter(Xe);return 0==N.length?null:function(M){const se=Rt(M,N).map(ot);return(0,De.D)(se).pipe((0,_e.U)(it))}}function Ke(H){return null!=H?Se(pt(H)):null}function Mt(H,N){return null===H?[N]:Array.isArray(H)?[...H,N]:[H,N]}function $t(H){return H._rawValidators}function Xt(H){return H._rawAsyncValidators}function hn(H){return H?Array.isArray(H)?H:[H]:[]}function Sn(H,N){return Array.isArray(H)?H.includes(N):H===N}function Wn(H,N){const M=hn(N);return hn(H).forEach(At=>{Sn(M,At)||M.push(At)}),M}function ui(H,N){return hn(N).filter(M=>!Sn(H,M))}class qn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=q(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=Ke(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,M){return!!this.control&&this.control.hasError(N,M)}getError(N,M){return this.control?this.control.getError(N,M):null}}class Si extends qn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ei extends qn{get formDirective(){return null}get path(){return null}}class Li{constructor(N){this._cd=N}is(N){var M,se,At;return"submitted"===N?!!(null===(M=this._cd)||void 0===M?void 0:M.submitted):!!(null===(At=null===(se=this._cd)||void 0===se?void 0:se.control)||void 0===At?void 0:At[N])}}let un=(()=>{class H extends Li{constructor(M){super(M)}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(Si,2))},H.\u0275dir=g.lG2({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,se){2&M&&g.ekj("ng-untouched",se.is("untouched"))("ng-touched",se.is("touched"))("ng-pristine",se.is("pristine"))("ng-dirty",se.is("dirty"))("ng-valid",se.is("valid"))("ng-invalid",se.is("invalid"))("ng-pending",se.is("pending"))},features:[g.qOj]}),H})(),Pi=(()=>{class H extends Li{constructor(M){super(M)}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(ei,10))},H.\u0275dir=g.lG2({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,se){2&M&&g.ekj("ng-untouched",se.is("untouched"))("ng-touched",se.is("touched"))("ng-pristine",se.is("pristine"))("ng-dirty",se.is("dirty"))("ng-valid",se.is("valid"))("ng-invalid",se.is("invalid"))("ng-pending",se.is("pending"))("ng-submitted",se.is("submitted"))},features:[g.qOj]}),H})();function Dt(H,N){return[...N.path,H]}function Et(H,N){z(H,N),N.valueAccessor.writeValue(H.value),function be(H,N){N.valueAccessor.registerOnChange(M=>{H._pendingValue=M,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&gt(H,N)})}(H,N),function St(H,N){const M=(se,At)=>{N.valueAccessor.writeValue(se),At&&N.viewToModelUpdate(se)};H.registerOnChange(M),N._registerOnDestroy(()=>{H._unregisterOnChange(M)})}(H,N),function Fe(H,N){N.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&gt(H,N),"submit"!==H.updateOn&&H.markAsTouched()})}(H,N),function ln(H,N){if(N.valueAccessor.setDisabledState){const M=se=>{N.valueAccessor.setDisabledState(se)};H.registerOnDisabledChange(M),N._registerOnDestroy(()=>{H._unregisterOnDisabledChange(M)})}}(H,N)}function mn(H,N,M=!0){const se=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(se),N.valueAccessor.registerOnTouched(se)),he(H,N),H&&(N._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function bn(H,N){H.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(N)})}function z(H,N){const M=$t(H);null!==N.validator?H.setValidators(Mt(M,N.validator)):"function"==typeof M&&H.setValidators([M]);const se=Xt(H);null!==N.asyncValidator?H.setAsyncValidators(Mt(se,N.asyncValidator)):"function"==typeof se&&H.setAsyncValidators([se]);const At=()=>H.updateValueAndValidity();bn(N._rawValidators,At),bn(N._rawAsyncValidators,At)}function he(H,N){let M=!1;if(null!==H){if(null!==N.validator){const At=$t(H);if(Array.isArray(At)&&At.length>0){const wn=At.filter(Ci=>Ci!==N.validator);wn.length!==At.length&&(M=!0,H.setValidators(wn))}}if(null!==N.asyncValidator){const At=Xt(H);if(Array.isArray(At)&&At.length>0){const wn=At.filter(Ci=>Ci!==N.asyncValidator);wn.length!==At.length&&(M=!0,H.setAsyncValidators(wn))}}}const se=()=>{};return bn(N._rawValidators,se),bn(N._rawAsyncValidators,se),M}function gt(H,N){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function te(H,N){if(!H.hasOwnProperty("model"))return!1;const M=H.model;return!!M.isFirstChange()||!Object.is(N,M.currentValue)}function Ye(H,N){if(!N)return null;let M,se,At;return Array.isArray(N),N.forEach(wn=>{wn.constructor===nt?M=wn:function re(H){return Object.getPrototypeOf(H.constructor)===Ce}(wn)?se=wn:At=wn}),At||se||M||null}function Pt(H,N){const M=H.indexOf(N);M>-1&&H.splice(M,1)}const fn="VALID",En="INVALID",yi="PENDING",Ei="DISABLED";function Sr(H){return(di(H)?H.validators:H)||null}function Ii(H){return Array.isArray(H)?q(H):H||null}function zt(H,N){return(di(N)?N.asyncValidators:H)||null}function Hn(H){return Array.isArray(H)?Ke(H):H||null}function di(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}const ji=H=>H instanceof Mn,xr=H=>H instanceof qr,$i=H=>H instanceof Gi;function nr(H){return ji(H)?H.value:H.getRawValue()}function ni(H,N){const M=xr(H),se=H.controls;if(!(M?Object.keys(se):se).length)throw new g.vHH(1e3,"");if(!se[N])throw new g.vHH(1001,"")}function yr(H,N){xr(H),H._forEachChild((se,At)=>{if(void 0===N[At])throw new g.vHH(1002,"")})}class pi{constructor(N,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=N,this._rawAsyncValidators=M,this._composedValidatorFn=Ii(this._rawValidators),this._composedAsyncValidatorFn=Hn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===fn}get invalid(){return this.status===En}get pending(){return this.status==yi}get disabled(){return this.status===Ei}get enabled(){return this.status!==Ei}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._rawValidators=N,this._composedValidatorFn=Ii(N)}setAsyncValidators(N){this._rawAsyncValidators=N,this._composedAsyncValidatorFn=Hn(N)}addValidators(N){this.setValidators(Wn(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(Wn(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(ui(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(ui(N,this._rawAsyncValidators))}hasValidator(N){return Sn(this._rawValidators,N)}hasAsyncValidator(N){return Sn(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=yi,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const M=this._parentMarkedDirty(N.onlySelf);this.status=Ei,this.errors=null,this._forEachChild(se=>{se.disable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:M})),this._onDisabledChange.forEach(se=>se(!0))}enable(N={}){const M=this._parentMarkedDirty(N.onlySelf);this.status=fn,this._forEachChild(se=>{se.enable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:M})),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fn||this.status===yi)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ei:fn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=yi,this._hasOwnPendingAsyncValidator=!0;const M=ot(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,M={}){this.errors=N,this._updateControlsErrors(!1!==M.emitEvent)}get(N){return function Di(H,N,M){if(null==N||(Array.isArray(N)||(N=N.split(M)),Array.isArray(N)&&0===N.length))return null;let se=H;return N.forEach(At=>{se=xr(se)?se.controls.hasOwnProperty(At)?se.controls[At]:null:$i(se)&&se.at(At)||null}),se}(this,N,".")}getError(N,M){const se=M?this.get(M):this;return se&&se.errors?se.errors[N]:null}hasError(N,M){return!!this.getError(N,M)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Ei:this.errors?En:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yi)?yi:this._anyControlsHaveStatus(En)?En:fn}_anyControlsHaveStatus(N){return this._anyControls(M=>M.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_isBoxedValue(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){di(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Mn extends pi{constructor(N=null,M,se){super(Sr(M),zt(se,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),di(M)&&M.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(N)?N.value:N)}setValue(N,M={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(N,M={}){this.setValue(N,M)}reset(N=this.defaultValue,M={}){this._applyFormState(N),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){Pt(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){Pt(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){this._isBoxedValue(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}}class qr extends pi{constructor(N,M,se){super(Sr(M),zt(se,M)),this.controls=N,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,M){return this.controls[N]?this.controls[N]:(this.controls[N]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(N,M,se={}){this.registerControl(N,M),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(N,M={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(N,M,se={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],M&&this.registerControl(N,M),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,M={}){yr(this,N),Object.keys(N).forEach(se=>{ni(this,se),this.controls[se].setValue(N[se],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(N,M={}){null!=N&&(Object.keys(N).forEach(se=>{this.controls[se]&&this.controls[se].patchValue(N[se],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(N={},M={}){this._forEachChild((se,At)=>{se.reset(N[At],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(N,M,se)=>(N[se]=nr(M),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(M,se)=>!!se._syncPendingControls()||M);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(M=>{const se=this.controls[M];se&&N(se,M)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const M of Object.keys(this.controls)){const se=this.controls[M];if(this.contains(M)&&N(se))return!0}return!1}_reduceValue(){return this._reduceChildren({},(N,M,se)=>((M.enabled||this.disabled)&&(N[se]=M.value),N))}_reduceChildren(N,M){let se=N;return this._forEachChild((At,wn)=>{se=M(se,At,wn)}),se}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Gi extends pi{constructor(N,M,se){super(Sr(M),zt(se,M)),this.controls=N,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[N]}push(N,M={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(N,M,se={}){this.controls.splice(N,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:se.emitEvent})}removeAt(N,M={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(N,M,se={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),M&&(this.controls.splice(N,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,M={}){yr(this,N),N.forEach((se,At)=>{ni(this,At),this.at(At).setValue(se,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(N,M={}){null!=N&&(N.forEach((se,At)=>{this.at(At)&&this.at(At).patchValue(se,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(N=[],M={}){this._forEachChild((se,At)=>{se.reset(N[At],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(N=>nr(N))}clear(N={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_syncPendingControls(){let N=this.controls.reduce((M,se)=>!!se._syncPendingControls()||M,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){this.controls.forEach((M,se)=>{N(M,se)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(M=>M.enabled&&N(M))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}}const Ji={provide:Si,useExisting:(0,g.Gpc)(()=>as)},vi=(()=>Promise.resolve(null))();let as=(()=>{class H extends Si{constructor(M,se,At,wn,Ci){super(),this._changeDetectorRef=Ci,this.control=new Mn,this._registered=!1,this.update=new g.vpe,this._parent=M,this._setValidators(se),this._setAsyncValidators(At),this.valueAccessor=Ye(0,wn)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const se=M.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),te(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Et(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){vi.then(()=>{var se;this.control.setValue(M,{emitViewToModelChange:!1}),null===(se=this._changeDetectorRef)||void 0===se||se.markForCheck()})}_updateDisabled(M){const se=M.isDisabled.currentValue,At=""===se||se&&"false"!==se;vi.then(()=>{var wn;At&&!this.control.disabled?this.control.disable():!At&&this.control.disabled&&this.control.enable(),null===(wn=this._changeDetectorRef)||void 0===wn||wn.markForCheck()})}_getPath(M){return this._parent?Dt(M,this._parent):[M]}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(ei,9),g.Y36(Qe,10),g.Y36(st,10),g.Y36(ce,10),g.Y36(g.sBO,8))},H.\u0275dir=g.lG2({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([Ji]),g.qOj,g.TTD]}),H})(),ls=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275dir=g.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),H})(),zi=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=g.oAB({type:H}),H.\u0275inj=g.cJS({}),H})();const lo=new g.OlP("NgModelWithFormControlWarning"),da={provide:Si,useExisting:(0,g.Gpc)(()=>Yr)};let Yr=(()=>{class H extends Si{constructor(M,se,At,wn){super(),this._ngModelWarningConfig=wn,this.update=new g.vpe,this._ngModelWarningSent=!1,this._setValidators(M),this._setAsyncValidators(se),this.valueAccessor=Ye(0,At)}set isDisabled(M){}ngOnChanges(M){if(this._isControlChanged(M)){const se=M.form.previousValue;se&&mn(se,this,!1),Et(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}te(M,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&mn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_isControlChanged(M){return M.hasOwnProperty("form")}}return H._ngModelWarningSentOnce=!1,H.\u0275fac=function(M){return new(M||H)(g.Y36(Qe,10),g.Y36(st,10),g.Y36(ce,10),g.Y36(lo,8))},H.\u0275dir=g.lG2({type:H,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[g._Bn([da]),g.qOj,g.TTD]}),H})();const vr={provide:ei,useExisting:(0,g.Gpc)(()=>Ms)};let Ms=(()=>{class H extends ei{constructor(M,se){super(),this.validators=M,this.asyncValidators=se,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(M),this._setAsyncValidators(se)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(he(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const se=this.form.get(M.path);return Et(se,M),se.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),se}getControl(M){return this.form.get(M.path)}removeControl(M){mn(M.control||null,M,!1),Pt(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,se){this.form.get(M.path).setValue(se)}onSubmit(M){return this.submitted=!0,function Ae(H,N){H._syncPendingControls(),N.forEach(M=>{const se=M.control;"submit"===se.updateOn&&se._pendingChange&&(M.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const se=M.control,At=this.form.get(M.path);se!==At&&(mn(se||null,M),ji(At)&&(Et(At,M),M.control=At))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const se=this.form.get(M.path);(function de(H,N){z(H,N)})(se,M),se.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const se=this.form.get(M.path);se&&function fe(H,N){return he(H,N)}(se,M)&&se.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){z(this.form,this),this._oldForm&&he(this._oldForm,this)}_checkFormPresent(){}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(Qe,10),g.Y36(st,10))},H.\u0275dir=g.lG2({type:H,selectors:[["","formGroup",""]],hostBindings:function(M,se){1&M&&g.NdJ("submit",function(wn){return se.onSubmit(wn)})("reset",function(){return se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([vr]),g.qOj,g.TTD]}),H})();const zs={provide:Si,useExisting:(0,g.Gpc)(()=>ur)};let ur=(()=>{class H extends Si{constructor(M,se,At,wn,Ci){super(),this._ngModelWarningConfig=Ci,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(se),this._setAsyncValidators(At),this.valueAccessor=Ye(0,wn)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),te(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return Dt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return H._ngModelWarningSentOnce=!1,H.\u0275fac=function(M){return new(M||H)(g.Y36(ei,13),g.Y36(Qe,10),g.Y36(st,10),g.Y36(ce,10),g.Y36(lo,8))},H.\u0275dir=g.lG2({type:H,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([zs]),g.qOj,g.TTD]}),H})();const Go={provide:ce,useExisting:(0,g.Gpc)(()=>Ln),multi:!0};function _r(H,N){return null==H?`${N}`:(N&&"object"==typeof N&&(N="Object"),`${H}: ${N}`.slice(0,50))}let Ln=(()=>{class H extends Ce{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){this.value=M;const At=_r(this._getOptionId(M),M);this.setProperty("value",At)}registerOnChange(M){this.onChange=se=>{this.value=this._getOptionValue(se),M(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(M){for(const se of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(se),M))return se;return null}_getOptionValue(M){const se=function Ds(H){return H.split(":")[0]}(M);return this._optionMap.has(se)?this._optionMap.get(se):M}}return H.\u0275fac=function(){let N;return function(se){return(N||(N=g.n5z(H)))(se||H)}}(),H.\u0275dir=g.lG2({type:H,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(M,se){1&M&&g.NdJ("change",function(wn){return se.onChange(wn.target.value)})("blur",function(){return se.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Go]),g.qOj]}),H})(),ms=(()=>{class H{constructor(M,se,At){this._element=M,this._renderer=se,this._select=At,this._select&&(this.id=this._select._registerOption())}set ngValue(M){null!=this._select&&(this._select._optionMap.set(this.id,M),this._setElementValue(_r(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._setElementValue(M),this._select&&this._select.writeValue(this._select.value)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Ln,9))},H.\u0275dir=g.lG2({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),H})();const Is={provide:ce,useExisting:(0,g.Gpc)(()=>Hr),multi:!0};function ys(H,N){return null==H?`${N}`:("string"==typeof N&&(N=`'${N}'`),N&&"object"==typeof N&&(N="Object"),`${H}: ${N}`.slice(0,50))}let Hr=(()=>{class H extends Ce{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){let se;if(this.value=M,Array.isArray(M)){const At=M.map(wn=>this._getOptionId(wn));se=(wn,Ci)=>{wn._setSelected(At.indexOf(Ci.toString())>-1)}}else se=(At,wn)=>{At._setSelected(!1)};this._optionMap.forEach(se)}registerOnChange(M){this.onChange=se=>{const At=[],wn=se.selectedOptions;if(void 0!==wn){const Ci=wn;for(let vs=0;vs<Ci.length;vs++){const Zo=this._getOptionValue(Ci[vs].value);At.push(Zo)}}else{const Ci=se.options;for(let vs=0;vs<Ci.length;vs++){const Jr=Ci[vs];if(Jr.selected){const Zo=this._getOptionValue(Jr.value);At.push(Zo)}}}this.value=At,M(At)}}_registerOption(M){const se=(this._idCounter++).toString();return this._optionMap.set(se,M),se}_getOptionId(M){for(const se of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(se)._value,M))return se;return null}_getOptionValue(M){const se=function Ga(H){return H.split(":")[0]}(M);return this._optionMap.has(se)?this._optionMap.get(se)._value:M}}return H.\u0275fac=function(){let N;return function(se){return(N||(N=g.n5z(H)))(se||H)}}(),H.\u0275dir=g.lG2({type:H,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(M,se){1&M&&g.NdJ("change",function(wn){return se.onChange(wn.target)})("blur",function(){return se.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([Is]),g.qOj]}),H})(),ha=(()=>{class H{constructor(M,se,At){this._element=M,this._renderer=se,this._select=At,this._select&&(this.id=this._select._registerOption(this))}set ngValue(M){null!=this._select&&(this._value=M,this._setElementValue(ys(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._select?(this._value=M,this._setElementValue(ys(this.id,M)),this._select.writeValue(this._select.value)):this._setElementValue(M)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}_setSelected(M){this._renderer.setProperty(this._element.nativeElement,"selected",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return H.\u0275fac=function(M){return new(M||H)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Hr,9))},H.\u0275dir=g.lG2({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),H})(),si=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=g.oAB({type:H}),H.\u0275inj=g.cJS({imports:[[zi]]}),H})(),jn=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=g.oAB({type:H}),H.\u0275inj=g.cJS({imports:[si]}),H})(),ri=(()=>{class H{static withConfig(M){return{ngModule:H,providers:[{provide:lo,useValue:M.warnOnNgModelWithFormControl}]}}}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=g.oAB({type:H}),H.\u0275inj=g.cJS({imports:[si]}),H})(),xi=(()=>{class H{group(M,se=null){const At=this._reduceControls(M);let vs,wn=null,Ci=null;return null!=se&&(function Wi(H){return void 0!==H.asyncValidators||void 0!==H.validators||void 0!==H.updateOn}(se)?(wn=null!=se.validators?se.validators:null,Ci=null!=se.asyncValidators?se.asyncValidators:null,vs=null!=se.updateOn?se.updateOn:void 0):(wn=null!=se.validator?se.validator:null,Ci=null!=se.asyncValidator?se.asyncValidator:null)),new qr(At,{asyncValidators:Ci,updateOn:vs,validators:wn})}control(M,se,At){return new Mn(M,se,At)}array(M,se,At){const wn=M.map(Ci=>this._createControl(Ci));return new Gi(wn,se,At)}_reduceControls(M){const se={};return Object.keys(M).forEach(At=>{se[At]=this._createControl(M[At])}),se}_createControl(M){return ji(M)||xr(M)||$i(M)?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return H.\u0275fac=function(M){return new(M||H)},H.\u0275prov=g.Yz7({token:H,factory:H.\u0275fac,providedIn:ri}),H})()},2313:(qt,Ze,x)=>{x.d(Ze,{H7:()=>fe,b2:()=>Yn,q6:()=>ei,se:()=>ot});var g=x(9808),h=x(5e3);class W extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class De extends W{static makeCurrent(){(0,g.HT)(new De)}onAndCancel(te,re,Ae){return te.addEventListener(re,Ae,!1),()=>{te.removeEventListener(re,Ae,!1)}}dispatchEvent(te,re){te.dispatchEvent(re)}remove(te){te.parentNode&&te.parentNode.removeChild(te)}createElement(te,re){return(re=re||this.getDefaultDocument()).createElement(te)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(te){return te.nodeType===Node.ELEMENT_NODE}isShadowRoot(te){return te instanceof DocumentFragment}getGlobalEventTarget(te,re){return"window"===re?window:"document"===re?te:"body"===re?te.body:null}getBaseHref(te){const re=function Re(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==re?null:function ce($){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",$);const te=Ce.pathname;return"/"===te.charAt(0)?te:`/${te}`}(re)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(te){return(0,g.Mx)(document.cookie,te)}}let Ce,_e=null;const X=new h.OlP("TRANSITION_ID"),ue=[{provide:h.ip1,useFactory:function ne($,te,re){return()=>{re.get(h.CZH).donePromise.then(()=>{const Ae=(0,g.q)(),Ye=te.querySelectorAll(`style[ng-transition="${$}"]`);for(let Pt=0;Pt<Ye.length;Pt++)Ae.remove(Ye[Pt])})}},deps:[X,g.K0,h.zs3],multi:!0}];class Ne{static init(){(0,h.VLi)(new Ne)}addToWindow(te){h.dqk.getAngularTestability=(Ae,Ye=!0)=>{const Pt=te.findTestabilityInTree(Ae,Ye);if(null==Pt)throw new Error("Could not find testability for element.");return Pt},h.dqk.getAllAngularTestabilities=()=>te.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>te.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(Ae=>{const Ye=h.dqk.getAllAngularTestabilities();let Pt=Ye.length,Nt=!1;const yn=function(fn){Nt=Nt||fn,Pt--,0==Pt&&Ae(Nt)};Ye.forEach(function(fn){fn.whenStable(yn)})})}findTestabilityInTree(te,re,Ae){if(null==re)return null;const Ye=te.getTestability(re);return null!=Ye?Ye:Ae?(0,g.q)().isShadowRoot(re)?this.findTestabilityInTree(te,re.host,!0):this.findTestabilityInTree(te,re.parentElement,!0):null}}let ut=(()=>{class ${build(){return new XMLHttpRequest}}return $.\u0275fac=function(re){return new(re||$)},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();const nt=new h.OlP("EventManagerPlugins");let dt=(()=>{class ${constructor(re,Ae){this._zone=Ae,this._eventNameToPlugin=new Map,re.forEach(Ye=>Ye.manager=this),this._plugins=re.slice().reverse()}addEventListener(re,Ae,Ye){return this._findPluginFor(Ae).addEventListener(re,Ae,Ye)}addGlobalEventListener(re,Ae,Ye){return this._findPluginFor(Ae).addGlobalEventListener(re,Ae,Ye)}getZone(){return this._zone}_findPluginFor(re){const Ae=this._eventNameToPlugin.get(re);if(Ae)return Ae;const Ye=this._plugins;for(let Pt=0;Pt<Ye.length;Pt++){const Nt=Ye[Pt];if(Nt.supports(re))return this._eventNameToPlugin.set(re,Nt),Nt}throw new Error(`No event manager plugin found for event ${re}`)}}return $.\u0275fac=function(re){return new(re||$)(h.LFG(nt),h.LFG(h.R0b))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();class ct{constructor(te){this._doc=te}addGlobalEventListener(te,re,Ae){const Ye=(0,g.q)().getGlobalEventTarget(this._doc,te);if(!Ye)throw new Error(`Unsupported event target ${Ye} for event ${re}`);return this.addEventListener(Ye,re,Ae)}}let Qe=(()=>{class ${constructor(){this._stylesSet=new Set}addStyles(re){const Ae=new Set;re.forEach(Ye=>{this._stylesSet.has(Ye)||(this._stylesSet.add(Ye),Ae.add(Ye))}),this.onStylesAdded(Ae)}onStylesAdded(re){}getAllStyles(){return Array.from(this._stylesSet)}}return $.\u0275fac=function(re){return new(re||$)},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})(),st=(()=>{class $ extends Qe{constructor(re){super(),this._doc=re,this._hostNodes=new Map,this._hostNodes.set(re.head,[])}_addStylesToHost(re,Ae,Ye){re.forEach(Pt=>{const Nt=this._doc.createElement("style");Nt.textContent=Pt,Ye.push(Ae.appendChild(Nt))})}addHost(re){const Ae=[];this._addStylesToHost(this._stylesSet,re,Ae),this._hostNodes.set(re,Ae)}removeHost(re){const Ae=this._hostNodes.get(re);Ae&&Ae.forEach(Ue),this._hostNodes.delete(re)}onStylesAdded(re){this._hostNodes.forEach((Ae,Ye)=>{this._addStylesToHost(re,Ye,Ae)})}ngOnDestroy(){this._hostNodes.forEach(re=>re.forEach(Ue))}}return $.\u0275fac=function(re){return new(re||$)(h.LFG(g.K0))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();function Ue($){(0,g.q)().remove($)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},me=/%COMP%/g;function Le($,te,re){for(let Ae=0;Ae<te.length;Ae++){let Ye=te[Ae];Array.isArray(Ye)?Le($,Ye,re):(Ye=Ye.replace(me,$),re.push(Ye))}return re}function Ge($){return te=>{if("__ngUnwrap__"===te)return $;!1===$(te)&&(te.preventDefault(),te.returnValue=!1)}}let ot=(()=>{class ${constructor(re,Ae,Ye){this.eventManager=re,this.sharedStylesHost=Ae,this.appId=Ye,this.rendererByCompId=new Map,this.defaultRenderer=new it(re)}createRenderer(re,Ae){if(!re||!Ae)return this.defaultRenderer;switch(Ae.encapsulation){case h.ifc.Emulated:{let Ye=this.rendererByCompId.get(Ae.id);return Ye||(Ye=new pt(this.eventManager,this.sharedStylesHost,Ae,this.appId),this.rendererByCompId.set(Ae.id,Ye)),Ye.applyToHost(re),Ye}case 1:case h.ifc.ShadowDom:return new vt(this.eventManager,this.sharedStylesHost,re,Ae);default:if(!this.rendererByCompId.has(Ae.id)){const Ye=Le(Ae.id,Ae.styles,[]);this.sharedStylesHost.addStyles(Ye),this.rendererByCompId.set(Ae.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return $.\u0275fac=function(re){return new(re||$)(h.LFG(dt),h.LFG(st),h.LFG(h.AFp))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();class it{constructor(te){this.eventManager=te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(te,re){return re?document.createElementNS(ft[re]||re,te):document.createElement(te)}createComment(te){return document.createComment(te)}createText(te){return document.createTextNode(te)}appendChild(te,re){te.appendChild(re)}insertBefore(te,re,Ae){te&&te.insertBefore(re,Ae)}removeChild(te,re){te&&te.removeChild(re)}selectRootElement(te,re){let Ae="string"==typeof te?document.querySelector(te):te;if(!Ae)throw new Error(`The selector "${te}" did not match any elements`);return re||(Ae.textContent=""),Ae}parentNode(te){return te.parentNode}nextSibling(te){return te.nextSibling}setAttribute(te,re,Ae,Ye){if(Ye){re=Ye+":"+re;const Pt=ft[Ye];Pt?te.setAttributeNS(Pt,re,Ae):te.setAttribute(re,Ae)}else te.setAttribute(re,Ae)}removeAttribute(te,re,Ae){if(Ae){const Ye=ft[Ae];Ye?te.removeAttributeNS(Ye,re):te.removeAttribute(`${Ae}:${re}`)}else te.removeAttribute(re)}addClass(te,re){te.classList.add(re)}removeClass(te,re){te.classList.remove(re)}setStyle(te,re,Ae,Ye){Ye&(h.JOm.DashCase|h.JOm.Important)?te.style.setProperty(re,Ae,Ye&h.JOm.Important?"important":""):te.style[re]=Ae}removeStyle(te,re,Ae){Ae&h.JOm.DashCase?te.style.removeProperty(re):te.style[re]=""}setProperty(te,re,Ae){te[re]=Ae}setValue(te,re){te.nodeValue=re}listen(te,re,Ae){return"string"==typeof te?this.eventManager.addGlobalEventListener(te,re,Ge(Ae)):this.eventManager.addEventListener(te,re,Ge(Ae))}}class pt extends it{constructor(te,re,Ae,Ye){super(te),this.component=Ae;const Pt=Le(Ye+"-"+Ae.id,Ae.styles,[]);re.addStyles(Pt),this.contentAttr=function qe($){return"_ngcontent-%COMP%".replace(me,$)}(Ye+"-"+Ae.id),this.hostAttr=function tt($){return"_nghost-%COMP%".replace(me,$)}(Ye+"-"+Ae.id)}applyToHost(te){super.setAttribute(te,this.hostAttr,"")}createElement(te,re){const Ae=super.createElement(te,re);return super.setAttribute(Ae,this.contentAttr,""),Ae}}class vt extends it{constructor(te,re,Ae,Ye){super(te),this.sharedStylesHost=re,this.hostEl=Ae,this.shadowRoot=Ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Pt=Le(Ye.id,Ye.styles,[]);for(let Nt=0;Nt<Pt.length;Nt++){const yn=document.createElement("style");yn.textContent=Pt[Nt],this.shadowRoot.appendChild(yn)}}nodeOrShadowRoot(te){return te===this.hostEl?this.shadowRoot:te}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(te,re){return super.appendChild(this.nodeOrShadowRoot(te),re)}insertBefore(te,re,Ae){return super.insertBefore(this.nodeOrShadowRoot(te),re,Ae)}removeChild(te,re){return super.removeChild(this.nodeOrShadowRoot(te),re)}parentNode(te){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(te)))}}let q=(()=>{class $ extends ct{constructor(re){super(re)}supports(re){return!0}addEventListener(re,Ae,Ye){return re.addEventListener(Ae,Ye,!1),()=>this.removeEventListener(re,Ae,Ye)}removeEventListener(re,Ae,Ye){return re.removeEventListener(Ae,Ye)}}return $.\u0275fac=function(re){return new(re||$)(h.LFG(g.K0))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();const Se=["alt","control","meta","shift"],Mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$t={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xt={alt:$=>$.altKey,control:$=>$.ctrlKey,meta:$=>$.metaKey,shift:$=>$.shiftKey};let hn=(()=>{class $ extends ct{constructor(re){super(re)}supports(re){return null!=$.parseEventName(re)}addEventListener(re,Ae,Ye){const Pt=$.parseEventName(Ae),Nt=$.eventCallback(Pt.fullKey,Ye,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(re,Pt.domEventName,Nt))}static parseEventName(re){const Ae=re.toLowerCase().split("."),Ye=Ae.shift();if(0===Ae.length||"keydown"!==Ye&&"keyup"!==Ye)return null;const Pt=$._normalizeKey(Ae.pop());let Nt="";if(Se.forEach(fn=>{const En=Ae.indexOf(fn);En>-1&&(Ae.splice(En,1),Nt+=fn+".")}),Nt+=Pt,0!=Ae.length||0===Pt.length)return null;const yn={};return yn.domEventName=Ye,yn.fullKey=Nt,yn}static getEventFullKey(re){let Ae="",Ye=function Sn($){let te=$.key;if(null==te){if(te=$.keyIdentifier,null==te)return"Unidentified";te.startsWith("U+")&&(te=String.fromCharCode(parseInt(te.substring(2),16)),3===$.location&&$t.hasOwnProperty(te)&&(te=$t[te]))}return Mt[te]||te}(re);return Ye=Ye.toLowerCase()," "===Ye?Ye="space":"."===Ye&&(Ye="dot"),Se.forEach(Pt=>{Pt!=Ye&&Xt[Pt](re)&&(Ae+=Pt+".")}),Ae+=Ye,Ae}static eventCallback(re,Ae,Ye){return Pt=>{$.getEventFullKey(Pt)===re&&Ye.runGuarded(()=>Ae(Pt))}}static _normalizeKey(re){return"esc"===re?"escape":re}}return $.\u0275fac=function(re){return new(re||$)(h.LFG(g.K0))},$.\u0275prov=h.Yz7({token:$,factory:$.\u0275fac}),$})();const ei=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:g.bD},{provide:h.g9A,useValue:function Wn(){De.makeCurrent(),Ne.init()},multi:!0},{provide:g.K0,useFactory:function qn(){return(0,h.RDi)(document),document},deps:[]}]),Li=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function ui(){return new h.qLn},deps:[]},{provide:nt,useClass:q,multi:!0,deps:[g.K0,h.R0b,h.Lbi]},{provide:nt,useClass:hn,multi:!0,deps:[g.K0]},{provide:ot,useClass:ot,deps:[dt,st,h.AFp]},{provide:h.FYo,useExisting:ot},{provide:Qe,useExisting:st},{provide:st,useClass:st,deps:[g.K0]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:dt,useClass:dt,deps:[nt,h.R0b]},{provide:g.JF,useClass:ut,deps:[]}];let Yn=(()=>{class ${constructor(re){if(re)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(re){return{ngModule:$,providers:[{provide:h.AFp,useValue:re.appId},{provide:X,useExisting:h.AFp},ue]}}}return $.\u0275fac=function(re){return new(re||$)(h.LFG($,12))},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({providers:Li,imports:[g.ez,h.hGG]}),$})();"undefined"!=typeof window&&window;let fe=(()=>{class ${}return $.\u0275fac=function(re){return new(re||$)},$.\u0275prov=h.Yz7({token:$,factory:function(re){let Ae=null;return Ae=re?new(re||$):h.LFG(ve),Ae},providedIn:"root"}),$})(),ve=(()=>{class $ extends fe{constructor(re){super(),this._doc=re}sanitize(re,Ae){if(null==Ae)return null;switch(re){case h.q3G.NONE:return Ae;case h.q3G.HTML:return(0,h.qzn)(Ae,"HTML")?(0,h.z3N)(Ae):(0,h.EiD)(this._doc,String(Ae)).toString();case h.q3G.STYLE:return(0,h.qzn)(Ae,"Style")?(0,h.z3N)(Ae):Ae;case h.q3G.SCRIPT:if((0,h.qzn)(Ae,"Script"))return(0,h.z3N)(Ae);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.yhl)(Ae),(0,h.qzn)(Ae,"URL")?(0,h.z3N)(Ae):(0,h.mCW)(String(Ae));case h.q3G.RESOURCE_URL:if((0,h.qzn)(Ae,"ResourceURL"))return(0,h.z3N)(Ae);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${re} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(re){return(0,h.JVY)(re)}bypassSecurityTrustStyle(re){return(0,h.L6k)(re)}bypassSecurityTrustScript(re){return(0,h.eBb)(re)}bypassSecurityTrustUrl(re){return(0,h.LAX)(re)}bypassSecurityTrustResourceUrl(re){return(0,h.pB0)(re)}}return $.\u0275fac=function(re){return new(re||$)(h.LFG(g.K0))},$.\u0275prov=h.Yz7({token:$,factory:function(re){let Ae=null;return Ae=re?new re:function Me($){return new ve($.get(g.K0))}(h.LFG(h.zs3)),Ae},providedIn:"root"}),$})()},2094:(qt,Ze,x)=>{x.d(Ze,{gz:()=>ir,F0:()=>Oi,Od:()=>Mi,yS:()=>Es,Bz:()=>Dc,lC:()=>jr});var g=x(5e3),h=x(8306),W=x(576);function De(O,D){const C=(0,W.m)(O)?O:()=>O,F=V=>V.error(C());return new h.y(D?V=>D.schedule(F,0,V):F)}var _e=x(727),Re=x(4482),Ce=x(5403);function ce(){return(0,Re.e)((O,D)=>{let C=null;O._refCount++;const F=(0,Ce.x)(D,void 0,void 0,void 0,()=>{if(!O||O._refCount<=0||0<--O._refCount)return void(C=null);const V=O._connection,ae=C;C=null,V&&(!ae||V===ae)&&V.unsubscribe(),D.unsubscribe()});O.subscribe(F),F.closed||(C=O.connect())})}class X extends h.y{constructor(D,C){super(),this.source=D,this.subjectFactory=C,this._subject=null,this._refCount=0,this._connection=null,(0,Re.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new _e.w0;const C=this.getSubject();D.add(this.source.subscribe((0,Ce.x)(C,void 0,()=>{this._teardown(),C.complete()},F=>{this._teardown(),C.error(F)},()=>this._teardown()))),D.closed&&(this._connection=null,D=_e.w0.EMPTY)}return D}refCount(){return ce()(this)}}var ne=x(8996),ue=x(9646),Ne=x(1135),ut=x(9841),nt=x(6805),dt=x(7272),ct=x(9770),Qe=x(515),st=x(7579),Ue=x(8421);function ft(O){return(0,Re.e)((D,C)=>{let ae,F=null,V=!1;F=D.subscribe((0,Ce.x)(C,void 0,void 0,Oe=>{ae=(0,Ue.Xf)(O(Oe,ft(O)(D))),F?(F.unsubscribe(),F=null,ae.subscribe(C)):V=!0})),V&&(F.unsubscribe(),F=null,ae.subscribe(C))})}var me=x(9300);function we(O){return O<=0?()=>Qe.E:(0,Re.e)((D,C)=>{let F=[];D.subscribe((0,Ce.x)(C,V=>{F.push(V),O<F.length&&F.shift()},()=>{for(const V of F)C.next(V);C.complete()},void 0,()=>{F=null}))})}var et=x(8068),Tt=x(6590),Y=x(4671),Le=x(4004),Ge=x(3900),Xe=x(5698),ot=x(8675),it=x(5026),Rt=x(4351),on=x(590),pt=x(5577),vt=x(8505),q=x(8189),Se=x(9808);class Ke{constructor(D,C){this.id=D,this.url=C}}class Mt extends Ke{constructor(D,C,F="imperative",V=null){super(D,C),this.navigationTrigger=F,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $t extends Ke{constructor(D,C,F){super(D,C),this.urlAfterRedirects=F}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xt extends Ke{constructor(D,C,F){super(D,C),this.reason=F}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hn extends Ke{constructor(D,C,F){super(D,C),this.error=F}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sn extends Ke{constructor(D,C,F,V){super(D,C),this.urlAfterRedirects=F,this.state=V}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn extends Ke{constructor(D,C,F,V){super(D,C),this.urlAfterRedirects=F,this.state=V}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ui extends Ke{constructor(D,C,F,V,ae){super(D,C),this.urlAfterRedirects=F,this.state=V,this.shouldActivate=ae}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qn extends Ke{constructor(D,C,F,V){super(D,C),this.urlAfterRedirects=F,this.state=V}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Si extends Ke{constructor(D,C,F,V){super(D,C),this.urlAfterRedirects=F,this.state=V}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ei{constructor(D){this.route=D}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Li{constructor(D){this.route=D}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yn{constructor(D){this.snapshot=D}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ui{constructor(D){this.snapshot=D}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class un{constructor(D){this.snapshot=D}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pi{constructor(D){this.snapshot=D}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qn{constructor(D,C,F){this.routerEvent=D,this.position=C,this.anchor=F}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jt="primary";class Ri{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const C=this.params[D];return Array.isArray(C)?C[0]:C}return null}getAll(D){if(this.has(D)){const C=this.params[D];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function ci(O){return new Ri(O)}const It="ngNavigationCancelingError";function ke(O){const D=Error("NavigationCancelingError: "+O);return D[It]=!0,D}function Lt(O,D,C){const F=C.path.split("/");if(F.length>O.length||"full"===C.pathMatch&&(D.hasChildren()||F.length<O.length))return null;const V={};for(let ae=0;ae<F.length;ae++){const Oe=F[ae],He=O[ae];if(Oe.startsWith(":"))V[Oe.substring(1)]=He;else if(Oe!==He.path)return null}return{consumed:O.slice(0,F.length),posParams:V}}function Ft(O,D){const C=O?Object.keys(O):void 0,F=D?Object.keys(D):void 0;if(!C||!F||C.length!=F.length)return!1;let V;for(let ae=0;ae<C.length;ae++)if(V=C[ae],!Gt(O[V],D[V]))return!1;return!0}function Gt(O,D){if(Array.isArray(O)&&Array.isArray(D)){if(O.length!==D.length)return!1;const C=[...O].sort(),F=[...D].sort();return C.every((V,ae)=>F[ae]===V)}return O===D}function Pe(O){return Array.prototype.concat.apply([],O)}function xe(O){return O.length>0?O[O.length-1]:null}function We(O,D){for(const C in O)O.hasOwnProperty(C)&&D(O[C],C)}function _t(O){return(0,g.CqO)(O)?O:(0,g.QGY)(O)?(0,ne.D)(Promise.resolve(O)):(0,ue.of)(O)}const Et={exact:function z(O,D,C){if(!ve(O.segments,D.segments)||!gt(O.segments,D.segments,C)||O.numberOfChildren!==D.numberOfChildren)return!1;for(const F in D.children)if(!O.children[F]||!z(O.children[F],D.children[F],C))return!1;return!0},subset:be},mn={exact:function ln(O,D){return Ft(O,D)},subset:function he(O,D){return Object.keys(D).length<=Object.keys(O).length&&Object.keys(D).every(C=>Gt(O[C],D[C]))},ignored:()=>!0};function bn(O,D,C){return Et[C.paths](O.root,D.root,C.matrixParams)&&mn[C.queryParams](O.queryParams,D.queryParams)&&!("exact"===C.fragment&&O.fragment!==D.fragment)}function be(O,D,C){return Fe(O,D,D.segments,C)}function Fe(O,D,C,F){if(O.segments.length>C.length){const V=O.segments.slice(0,C.length);return!(!ve(V,C)||D.hasChildren()||!gt(V,C,F))}if(O.segments.length===C.length){if(!ve(O.segments,C)||!gt(O.segments,C,F))return!1;for(const V in D.children)if(!O.children[V]||!be(O.children[V],D.children[V],F))return!1;return!0}{const V=C.slice(0,O.segments.length),ae=C.slice(O.segments.length);return!!(ve(O.segments,V)&&gt(O.segments,V,F)&&O.children[Jt])&&Fe(O.children[Jt],D,ae,F)}}function gt(O,D,C){return D.every((F,V)=>mn[C](O[V].parameters,F.parameters))}class St{constructor(D,C,F){this.root=D,this.queryParams=C,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ci(this.queryParams)),this._queryParamMap}toString(){return re.serialize(this)}}class de{constructor(D,C){this.segments=D,this.children=C,this.parent=null,We(C,(F,V)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ae(this)}}class fe{constructor(D,C){this.path=D,this.parameters=C}get parameterMap(){return this._parameterMap||(this._parameterMap=ci(this.parameters)),this._parameterMap}toString(){return Ei(this)}}function ve(O,D){return O.length===D.length&&O.every((C,F)=>C.path===D[F].path)}class ${}class te{parse(D){const C=new $i(D);return new St(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(D){const C=`/${Ye(D.root,!0)}`,F=function Sr(O){const D=Object.keys(O).map(C=>{const F=O[C];return Array.isArray(F)?F.map(V=>`${Nt(C)}=${Nt(V)}`).join("&"):`${Nt(C)}=${Nt(F)}`}).filter(C=>!!C);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${C}${F}${"string"==typeof D.fragment?`#${function yn(O){return encodeURI(O)}(D.fragment)}`:""}`}}const re=new te;function Ae(O){return O.segments.map(D=>Ei(D)).join("/")}function Ye(O,D){if(!O.hasChildren())return Ae(O);if(D){const C=O.children[Jt]?Ye(O.children[Jt],!1):"",F=[];return We(O.children,(V,ae)=>{ae!==Jt&&F.push(`${ae}:${Ye(V,!1)}`)}),F.length>0?`${C}(${F.join("//")})`:C}{const C=function ee(O,D){let C=[];return We(O.children,(F,V)=>{V===Jt&&(C=C.concat(D(F,V)))}),We(O.children,(F,V)=>{V!==Jt&&(C=C.concat(D(F,V)))}),C}(O,(F,V)=>V===Jt?[Ye(O.children[Jt],!1)]:[`${V}:${Ye(F,!1)}`]);return 1===Object.keys(O.children).length&&null!=O.children[Jt]?`${Ae(O)}/${C[0]}`:`${Ae(O)}/(${C.join("//")})`}}function Pt(O){return encodeURIComponent(O).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nt(O){return Pt(O).replace(/%3B/gi,";")}function fn(O){return Pt(O).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function En(O){return decodeURIComponent(O)}function yi(O){return En(O.replace(/\+/g,"%20"))}function Ei(O){return`${fn(O.path)}${function Di(O){return Object.keys(O).map(D=>`;${fn(D)}=${fn(O[D])}`).join("")}(O.parameters)}`}const Ii=/^[^\/()?;=#]+/;function zt(O){const D=O.match(Ii);return D?D[0]:""}const Hn=/^[^=?&#]+/,ji=/^[^&#]+/;class $i{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(D.length>0||Object.keys(C).length>0)&&(F[Jt]=new de(D,C)),F}parseSegment(){const D=zt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(D),new fe(En(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const C=zt(this.remaining);if(!C)return;this.capture(C);let F="";if(this.consumeOptional("=")){const V=zt(this.remaining);V&&(F=V,this.capture(F))}D[En(C)]=En(F)}parseQueryParam(D){const C=function di(O){const D=O.match(Hn);return D?D[0]:""}(this.remaining);if(!C)return;this.capture(C);let F="";if(this.consumeOptional("=")){const Oe=function xr(O){const D=O.match(ji);return D?D[0]:""}(this.remaining);Oe&&(F=Oe,this.capture(F))}const V=yi(C),ae=yi(F);if(D.hasOwnProperty(V)){let Oe=D[V];Array.isArray(Oe)||(Oe=[Oe],D[V]=Oe),Oe.push(ae)}else D[V]=ae}parseParens(D){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=zt(this.remaining),V=this.remaining[F.length];if("/"!==V&&")"!==V&&";"!==V)throw new Error(`Cannot parse url '${this.url}'`);let ae;F.indexOf(":")>-1?(ae=F.substr(0,F.indexOf(":")),this.capture(ae),this.capture(":")):D&&(ae=Jt);const Oe=this.parseChildren();C[ae]=1===Object.keys(Oe).length?Oe[Jt]:new de([],Oe),this.consumeOptional("//")}return C}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new Error(`Expected "${D}".`)}}class nr{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const C=this.pathFromRoot(D);return C.length>1?C[C.length-2]:null}children(D){const C=ni(D,this._root);return C?C.children.map(F=>F.value):[]}firstChild(D){const C=ni(D,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(D){const C=yr(D,this._root);return C.length<2?[]:C[C.length-2].children.map(V=>V.value).filter(V=>V!==D)}pathFromRoot(D){return yr(D,this._root).map(C=>C.value)}}function ni(O,D){if(O===D.value)return D;for(const C of D.children){const F=ni(O,C);if(F)return F}return null}function yr(O,D){if(O===D.value)return[D];for(const C of D.children){const F=yr(O,C);if(F.length)return F.unshift(D),F}return[]}class pi{constructor(D,C){this.value=D,this.children=C}toString(){return`TreeNode(${this.value})`}}function Mn(O){const D={};return O&&O.children.forEach(C=>D[C.value.outlet]=C),D}class qr extends nr{constructor(D,C){super(D),this.snapshot=C,fi(this,D)}toString(){return this.snapshot.toString()}}function Gi(O,D){const C=function js(O,D){const Oe=new ss([],{},{},"",{},Jt,D,null,O.root,-1,{});return new hi("",new pi(Oe,[]))}(O,D),F=new Ne.X([new fe("",{})]),V=new Ne.X({}),ae=new Ne.X({}),Oe=new Ne.X({}),He=new Ne.X(""),xt=new ir(F,V,Oe,He,ae,Jt,D,C.root);return xt.snapshot=C.root,new qr(new pi(xt,[]),C)}class ir{constructor(D,C,F,V,ae,Oe,He,xt){this.url=D,this.params=C,this.queryParams=F,this.fragment=V,this.data=ae,this.outlet=Oe,this.component=He,this._futureSnapshot=xt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Le.U)(D=>ci(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Le.U)(D=>ci(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bi(O,D="emptyOnly"){const C=O.pathFromRoot;let F=0;if("always"!==D)for(F=C.length-1;F>=1;){const V=C[F],ae=C[F-1];if(V.routeConfig&&""===V.routeConfig.path)F--;else{if(ae.component)break;F--}}return function fs(O){return O.reduce((D,C)=>({params:Object.assign(Object.assign({},D.params),C.params),data:Object.assign(Object.assign({},D.data),C.data),resolve:Object.assign(Object.assign({},D.resolve),C._resolvedData)}),{params:{},data:{},resolve:{}})}(C.slice(F))}class ss{constructor(D,C,F,V,ae,Oe,He,xt,pn,Jn,An){this.url=D,this.params=C,this.queryParams=F,this.fragment=V,this.data=ae,this.outlet=Oe,this.component=He,this.routeConfig=xt,this._urlSegment=pn,this._lastPathIndex=Jn,this._resolve=An}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ci(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ci(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hi extends nr{constructor(D,C){super(C),this.url=D,fi(this,C)}toString(){return cn(this._root)}}function fi(O,D){D.value._routerState=O,D.children.forEach(C=>fi(O,C))}function cn(O){const D=O.children.length>0?` { ${O.children.map(cn).join(", ")} } `:"";return`${O.value}${D}`}function os(O){if(O.snapshot){const D=O.snapshot,C=O._futureSnapshot;O.snapshot=C,Ft(D.queryParams,C.queryParams)||O.queryParams.next(C.queryParams),D.fragment!==C.fragment&&O.fragment.next(C.fragment),Ft(D.params,C.params)||O.params.next(C.params),function wt(O,D){if(O.length!==D.length)return!1;for(let C=0;C<O.length;++C)if(!Ft(O[C],D[C]))return!1;return!0}(D.url,C.url)||O.url.next(C.url),Ft(D.data,C.data)||O.data.next(C.data)}else O.snapshot=O._futureSnapshot,O.data.next(O._futureSnapshot.data)}function Ot(O,D){const C=Ft(O.params,D.params)&&function Me(O,D){return ve(O,D)&&O.every((C,F)=>Ft(C.parameters,D[F].parameters))}(O.url,D.url);return C&&!(!O.parent!=!D.parent)&&(!O.parent||Ot(O.parent,D.parent))}function vi(O,D,C){if(C&&O.shouldReuseRoute(D.value,C.value.snapshot)){const F=C.value;F._futureSnapshot=D.value;const V=function as(O,D,C){return D.children.map(F=>{for(const V of C.children)if(O.shouldReuseRoute(F.value,V.value.snapshot))return vi(O,F,V);return vi(O,F)})}(O,D,C);return new pi(F,V)}{if(O.shouldAttach(D.value)){const ae=O.retrieve(D.value);if(null!==ae){const Oe=ae.route;return Oe.value._futureSnapshot=D.value,Oe.children=D.children.map(He=>vi(O,He)),Oe}}const F=function ls(O){return new ir(new Ne.X(O.url),new Ne.X(O.params),new Ne.X(O.queryParams),new Ne.X(O.fragment),new Ne.X(O.data),O.outlet,O.component,O)}(D.value),V=D.children.map(ae=>vi(O,ae));return new pi(F,V)}}function ps(O){return"object"==typeof O&&null!=O&&!O.outlets&&!O.segmentPath}function Or(O){return"object"==typeof O&&null!=O&&O.outlets}function $s(O,D,C,F,V){let ae={};if(F&&We(F,(He,xt)=>{ae[xt]=Array.isArray(He)?He.map(pn=>`${pn}`):`${He}`}),O===D)return new St(C,ae,V);const Oe=zi(O,D,C);return new St(Oe,ae,V)}function zi(O,D,C){const F={};return We(O.children,(V,ae)=>{F[ae]=V===D?C:zi(V,D,C)}),new de(O.segments,F)}class Gs{constructor(D,C,F){if(this.isAbsolute=D,this.numberOfDoubleDots=C,this.commands=F,D&&F.length>0&&ps(F[0]))throw new Error("Root segment cannot have matrix parameters");const V=F.find(Or);if(V&&V!==xe(F))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class us{constructor(D,C,F){this.segmentGroup=D,this.processChildren=C,this.index=F}}function Yr(O,D,C){if(O||(O=new de([],{})),0===O.segments.length&&O.hasChildren())return vr(O,D,C);const F=function Ms(O,D,C){let F=0,V=D;const ae={match:!1,pathIndex:0,commandIndex:0};for(;V<O.segments.length;){if(F>=C.length)return ae;const Oe=O.segments[V],He=C[F];if(Or(He))break;const xt=`${He}`,pn=F<C.length-1?C[F+1]:null;if(V>0&&void 0===xt)break;if(xt&&pn&&"object"==typeof pn&&void 0===pn.outlets){if(!gs(xt,pn,Oe))return ae;F+=2}else{if(!gs(xt,{},Oe))return ae;F++}V++}return{match:!0,pathIndex:V,commandIndex:F}}(O,D,C),V=C.slice(F.commandIndex);if(F.match&&F.pathIndex<O.segments.length){const ae=new de(O.segments.slice(0,F.pathIndex),{});return ae.children[Jt]=new de(O.segments.slice(F.pathIndex),O.children),vr(ae,0,V)}return F.match&&0===V.length?new de(O.segments,{}):F.match&&!O.hasChildren()?Sa(O,D,C):F.match?vr(O,0,V):Sa(O,D,C)}function vr(O,D,C){if(0===C.length)return new de(O.segments,{});{const F=function da(O){return Or(O[0])?O[0].outlets:{[Jt]:O}}(C),V={};return We(F,(ae,Oe)=>{"string"==typeof ae&&(ae=[ae]),null!==ae&&(V[Oe]=Yr(O.children[Oe],D,ae))}),We(O.children,(ae,Oe)=>{void 0===F[Oe]&&(V[Oe]=ae)}),new de(O.segments,V)}}function Sa(O,D,C){const F=O.segments.slice(0,D);let V=0;for(;V<C.length;){const ae=C[V];if(Or(ae)){const xt=xa(ae.outlets);return new de(F,xt)}if(0===V&&ps(C[0])){F.push(new fe(O.segments[D].path,$o(C[0]))),V++;continue}const Oe=Or(ae)?ae.outlets[Jt]:`${ae}`,He=V<C.length-1?C[V+1]:null;Oe&&He&&ps(He)?(F.push(new fe(Oe,$o(He))),V+=2):(F.push(new fe(Oe,{})),V++)}return new de(F,{})}function xa(O){const D={};return We(O,(C,F)=>{"string"==typeof C&&(C=[C]),null!==C&&(D[F]=Sa(new de([],{}),0,C))}),D}function $o(O){const D={};return We(O,(C,F)=>D[F]=`${C}`),D}function gs(O,D,C){return O==C.path&&Ft(D,C.parameters)}class zs{constructor(D,C,F,V){this.routeReuseStrategy=D,this.futureState=C,this.currState=F,this.forwardEvent=V}activate(D){const C=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,F,D),os(this.futureState.root),this.activateChildRoutes(C,F,D)}deactivateChildRoutes(D,C,F){const V=Mn(C);D.children.forEach(ae=>{const Oe=ae.value.outlet;this.deactivateRoutes(ae,V[Oe],F),delete V[Oe]}),We(V,(ae,Oe)=>{this.deactivateRouteAndItsChildren(ae,F)})}deactivateRoutes(D,C,F){const V=D.value,ae=C?C.value:null;if(V===ae)if(V.component){const Oe=F.getContext(V.outlet);Oe&&this.deactivateChildRoutes(D,C,Oe.children)}else this.deactivateChildRoutes(D,C,F);else ae&&this.deactivateRouteAndItsChildren(C,F)}deactivateRouteAndItsChildren(D,C){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,C):this.deactivateRouteAndOutlet(D,C)}detachAndStoreRouteSubtree(D,C){const F=C.getContext(D.value.outlet),V=F&&D.value.component?F.children:C,ae=Mn(D);for(const Oe of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Oe],V);if(F&&F.outlet){const Oe=F.outlet.detach(),He=F.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:Oe,route:D,contexts:He})}}deactivateRouteAndOutlet(D,C){const F=C.getContext(D.value.outlet),V=F&&D.value.component?F.children:C,ae=Mn(D);for(const Oe of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Oe],V);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(D,C,F){const V=Mn(C);D.children.forEach(ae=>{this.activateRoutes(ae,V[ae.value.outlet],F),this.forwardEvent(new Pi(ae.value.snapshot))}),D.children.length&&this.forwardEvent(new Ui(D.value.snapshot))}activateRoutes(D,C,F){const V=D.value,ae=C?C.value:null;if(os(V),V===ae)if(V.component){const Oe=F.getOrCreateContext(V.outlet);this.activateChildRoutes(D,C,Oe.children)}else this.activateChildRoutes(D,C,F);else if(V.component){const Oe=F.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const He=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),Oe.children.onOutletReAttached(He.contexts),Oe.attachRef=He.componentRef,Oe.route=He.route.value,Oe.outlet&&Oe.outlet.attach(He.componentRef,He.route.value),os(He.route.value),this.activateChildRoutes(D,null,Oe.children)}else{const He=function ur(O){for(let D=O.parent;D;D=D.parent){const C=D.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig;if(C&&C.component)return null}return null}(V.snapshot),xt=He?He.module.componentFactoryResolver:null;Oe.attachRef=null,Oe.route=V,Oe.resolver=xt,Oe.outlet&&Oe.outlet.activateWith(V,xt),this.activateChildRoutes(D,null,Oe.children)}}else this.activateChildRoutes(D,null,F)}}class Go{constructor(D,C){this.routes=D,this.module=C}}function _r(O){return"function"==typeof O}function Ln(O){return O instanceof St}const zo=Symbol("INITIAL_VALUE");function Hr(){return(0,Ge.w)(O=>(0,ut.a)(O.map(D=>D.pipe((0,Xe.q)(1),(0,ot.O)(zo)))).pipe((0,it.R)((D,C)=>{let F=!1;return C.reduce((V,ae,Oe)=>V!==zo?V:(ae===zo&&(F=!0),F||!1!==ae&&Oe!==C.length-1&&!Ln(ae)?V:ae),D)},zo),(0,me.h)(D=>D!==zo),(0,Le.U)(D=>Ln(D)?D:!0===D),(0,Xe.q)(1)))}class ha{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Mr,this.attachRef=null}}class Mr{constructor(){this.contexts=new Map}onChildOutletCreated(D,C){const F=this.getOrCreateContext(D);F.outlet=C,this.contexts.set(D,F)}onChildOutletDestroyed(D){const C=this.getContext(D);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let C=this.getContext(D);return C||(C=new ha,this.contexts.set(D,C)),C}getContext(D){return this.contexts.get(D)||null}}let jr=(()=>{class O{constructor(C,F,V,ae,Oe){this.parentContexts=C,this.location=F,this.resolver=V,this.changeDetector=Oe,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=ae||Jt,C.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const C=this.parentContexts.getContext(this.name);C&&C.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,F){this.activated=C,this._activatedRoute=F,this.location.insert(C.hostView),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,F){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=C;const Oe=(F=F||this.resolver).resolveComponentFactory(C._futureSnapshot.routeConfig.component),He=this.parentContexts.getOrCreateContext(this.name).children,xt=new Ws(C,He,this.location.injector);this.activated=this.location.createComponent(Oe,this.location.length,xt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return O.\u0275fac=function(C){return new(C||O)(g.Y36(Mr),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},O.\u0275dir=g.lG2({type:O,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),O})();class Ws{constructor(D,C,F){this.route=D,this.childContexts=C,this.parent=F}get(D,C){return D===ir?this.route:D===Mr?this.childContexts:this.parent.get(D,C)}}let wi=(()=>{class O{}return O.\u0275fac=function(C){return new(C||O)},O.\u0275cmp=g.Xpm({type:O,selectors:[["ng-component"]],decls:1,vars:0,template:function(C,F){1&C&&g._UZ(0,"router-outlet")},directives:[jr],encapsulation:2}),O})();function br(O,D=""){for(let C=0;C<O.length;C++){const F=O[C];Wo(F,fa(D,F))}}function Wo(O,D){O.children&&br(O.children,D)}function fa(O,D){return D?O||D.path?O&&!D.path?`${O}/`:!O&&D.path?D.path:`${O}/${D.path}`:"":O}function Qr(O){const D=O.children&&O.children.map(Qr),C=D?Object.assign(Object.assign({},O),{children:D}):Object.assign({},O);return!C.component&&(D||C.loadChildren)&&C.outlet&&C.outlet!==Jt&&(C.component=wi),C}function Pr(O){return O.outlet||Jt}function wo(O,D){const C=O.filter(F=>Pr(F)===D);return C.push(...O.filter(F=>Pr(F)!==D)),C}const Zs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $r(O,D,C){var F;if(""===D.path)return"full"===D.pathMatch&&(O.hasChildren()||C.length>0)?Object.assign({},Zs):{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const ae=(D.matcher||Lt)(C,O,D);if(!ae)return Object.assign({},Zs);const Oe={};We(ae.posParams,(xt,pn)=>{Oe[pn]=xt.path});const He=ae.consumed.length>0?Object.assign(Object.assign({},Oe),ae.consumed[ae.consumed.length-1].parameters):Oe;return{matched:!0,consumedSegments:ae.consumed,remainingSegments:C.slice(ae.consumed.length),parameters:He,positionalParamSegments:null!==(F=ae.posParams)&&void 0!==F?F:{}}}function Ks(O,D,C,F,V="corrected"){if(C.length>0&&function Q(O,D,C){return C.some(F=>le(O,D,F)&&Pr(F)!==Jt)}(O,C,F)){const Oe=new de(D,function U(O,D,C,F){const V={};V[Jt]=F,F._sourceSegment=O,F._segmentIndexShift=D.length;for(const ae of C)if(""===ae.path&&Pr(ae)!==Jt){const Oe=new de([],{});Oe._sourceSegment=O,Oe._segmentIndexShift=D.length,V[Pr(ae)]=Oe}return V}(O,D,F,new de(C,O.children)));return Oe._sourceSegment=O,Oe._segmentIndexShift=D.length,{segmentGroup:Oe,slicedSegments:[]}}if(0===C.length&&function L(O,D,C){return C.some(F=>le(O,D,F))}(O,C,F)){const Oe=new de(O.segments,function _i(O,D,C,F,V,ae){const Oe={};for(const He of F)if(le(O,C,He)&&!V[Pr(He)]){const xt=new de([],{});xt._sourceSegment=O,xt._segmentIndexShift="legacy"===ae?O.segments.length:D.length,Oe[Pr(He)]=xt}return Object.assign(Object.assign({},V),Oe)}(O,D,C,F,O.children,V));return Oe._sourceSegment=O,Oe._segmentIndexShift=D.length,{segmentGroup:Oe,slicedSegments:C}}const ae=new de(O.segments,O.children);return ae._sourceSegment=O,ae._segmentIndexShift=D.length,{segmentGroup:ae,slicedSegments:C}}function le(O,D,C){return(!(O.hasChildren()||D.length>0)||"full"!==C.pathMatch)&&""===C.path}function je(O,D,C,F){return!!(Pr(O)===F||F!==Jt&&le(D,C,O))&&("**"===O.path||$r(D,O,C).matched)}function Ct(O,D,C){return 0===D.length&&!O.children[C]}class Ut{constructor(D){this.segmentGroup=D||null}}class Tn{constructor(D){this.urlTree=D}}function Rn(O){return De(new Ut(O))}function si(O){return De(new Tn(O))}class xi{constructor(D,C,F,V,ae){this.configLoader=C,this.urlSerializer=F,this.urlTree=V,this.config=ae,this.allowRedirects=!0,this.ngModule=D.get(g.h0i)}apply(){const D=Ks(this.urlTree.root,[],[],this.config).segmentGroup,C=new de(D.segments,D.children);return this.expandSegmentGroup(this.ngModule,this.config,C,Jt).pipe((0,Le.U)(ae=>this.createUrlTree(H(ae),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ft(ae=>{if(ae instanceof Tn)return this.allowRedirects=!1,this.match(ae.urlTree);throw ae instanceof Ut?this.noMatchError(ae):ae}))}match(D){return this.expandSegmentGroup(this.ngModule,this.config,D.root,Jt).pipe((0,Le.U)(V=>this.createUrlTree(H(V),D.queryParams,D.fragment))).pipe(ft(V=>{throw V instanceof Ut?this.noMatchError(V):V}))}noMatchError(D){return new Error(`Cannot match any routes. URL Segment: '${D.segmentGroup}'`)}createUrlTree(D,C,F){const V=D.segments.length>0?new de([],{[Jt]:D}):D;return new St(V,C,F)}expandSegmentGroup(D,C,F,V){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(D,C,F).pipe((0,Le.U)(ae=>new de([],ae))):this.expandSegment(D,F,C,F.segments,V,!0)}expandChildren(D,C,F){const V=[];for(const ae of Object.keys(F.children))"primary"===ae?V.unshift(ae):V.push(ae);return(0,ne.D)(V).pipe((0,Rt.b)(ae=>{const Oe=F.children[ae],He=wo(C,ae);return this.expandSegmentGroup(D,He,Oe,ae).pipe((0,Le.U)(xt=>({segment:xt,outlet:ae})))}),(0,it.R)((ae,Oe)=>(ae[Oe.outlet]=Oe.segment,ae),{}),function qe(O,D){const C=arguments.length>=2;return F=>F.pipe(O?(0,me.h)((V,ae)=>O(V,ae,F)):Y.y,we(1),C?(0,Tt.d)(D):(0,et.T)(()=>new nt.K))}())}expandSegment(D,C,F,V,ae,Oe){return(0,ne.D)(F).pipe((0,Rt.b)(He=>this.expandSegmentAgainstRoute(D,C,F,He,V,ae,Oe).pipe(ft(pn=>{if(pn instanceof Ut)return(0,ue.of)(null);throw pn}))),(0,on.P)(He=>!!He),ft((He,xt)=>{if(He instanceof nt.K||"EmptyError"===He.name)return Ct(C,V,ae)?(0,ue.of)(new de([],{})):Rn(C);throw He}))}expandSegmentAgainstRoute(D,C,F,V,ae,Oe,He){return je(V,C,ae,Oe)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(D,C,V,ae,Oe):He&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,C,F,V,ae,Oe):Rn(C):Rn(C)}expandSegmentAgainstRouteUsingRedirect(D,C,F,V,ae,Oe){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,F,V,Oe):this.expandRegularSegmentAgainstRouteUsingRedirect(D,C,F,V,ae,Oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,C,F,V){const ae=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?si(ae):this.lineralizeSegments(F,ae).pipe((0,pt.z)(Oe=>{const He=new de(Oe,{});return this.expandSegment(D,He,C,Oe,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,C,F,V,ae,Oe){const{matched:He,consumedSegments:xt,remainingSegments:pn,positionalParamSegments:Jn}=$r(C,V,ae);if(!He)return Rn(C);const An=this.applyRedirectCommands(xt,V.redirectTo,Jn);return V.redirectTo.startsWith("/")?si(An):this.lineralizeSegments(V,An).pipe((0,pt.z)(gi=>this.expandSegment(D,C,F,gi.concat(pn),Oe,!1)))}matchSegmentAgainstRoute(D,C,F,V,ae){if("**"===F.path)return F.loadChildren?(F._loadedConfig?(0,ue.of)(F._loadedConfig):this.configLoader.load(D.injector,F)).pipe((0,Le.U)(An=>(F._loadedConfig=An,new de(V,{})))):(0,ue.of)(new de(V,{}));const{matched:Oe,consumedSegments:He,remainingSegments:xt}=$r(C,F,V);return Oe?this.getChildConfig(D,F,V).pipe((0,pt.z)(Jn=>{const An=Jn.module,gi=Jn.routes,{segmentGroup:bi,slicedSegments:tr}=Ks(C,He,xt,gi),Js=new de(bi.segments,bi.children);if(0===tr.length&&Js.hasChildren())return this.expandChildren(An,gi,Js).pipe((0,Le.U)(La=>new de(He,La)));if(0===gi.length&&0===tr.length)return(0,ue.of)(new de(He,{}));const ka=Pr(F)===ae;return this.expandSegment(An,Js,gi,tr,ka?Jt:ae,!0).pipe((0,Le.U)(Rs=>new de(He.concat(Rs.segments),Rs.children)))})):Rn(C)}getChildConfig(D,C,F){return C.children?(0,ue.of)(new Go(C.children,D)):C.loadChildren?void 0!==C._loadedConfig?(0,ue.of)(C._loadedConfig):this.runCanLoadGuards(D.injector,C,F).pipe((0,pt.z)(V=>V?this.configLoader.load(D.injector,C).pipe((0,Le.U)(ae=>(C._loadedConfig=ae,ae))):function ri(O){return De(ke(`Cannot load children because the guard of the route "path: '${O.path}'" returned false`))}(C))):(0,ue.of)(new Go([],D))}runCanLoadGuards(D,C,F){const V=C.canLoad;if(!V||0===V.length)return(0,ue.of)(!0);const ae=V.map(Oe=>{const He=D.get(Oe);let xt;if(function ms(O){return O&&_r(O.canLoad)}(He))xt=He.canLoad(C,F);else{if(!_r(He))throw new Error("Invalid CanLoad guard");xt=He(C,F)}return _t(xt)});return(0,ue.of)(ae).pipe(Hr(),(0,vt.b)(Oe=>{if(!Ln(Oe))return;const He=ke(`Redirecting to "${this.urlSerializer.serialize(Oe)}"`);throw He.url=Oe,He}),(0,Le.U)(Oe=>!0===Oe))}lineralizeSegments(D,C){let F=[],V=C.root;for(;;){if(F=F.concat(V.segments),0===V.numberOfChildren)return(0,ue.of)(F);if(V.numberOfChildren>1||!V.children[Jt])return De(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D.redirectTo}'`));V=V.children[Jt]}}applyRedirectCommands(D,C,F){return this.applyRedirectCreatreUrlTree(C,this.urlSerializer.parse(C),D,F)}applyRedirectCreatreUrlTree(D,C,F,V){const ae=this.createSegmentGroup(D,C.root,F,V);return new St(ae,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(D,C){const F={};return We(D,(V,ae)=>{if("string"==typeof V&&V.startsWith(":")){const He=V.substring(1);F[ae]=C[He]}else F[ae]=V}),F}createSegmentGroup(D,C,F,V){const ae=this.createSegments(D,C.segments,F,V);let Oe={};return We(C.children,(He,xt)=>{Oe[xt]=this.createSegmentGroup(D,He,F,V)}),new de(ae,Oe)}createSegments(D,C,F,V){return C.map(ae=>ae.path.startsWith(":")?this.findPosParam(D,ae,V):this.findOrReturn(ae,F))}findPosParam(D,C,F){const V=F[C.path.substring(1)];if(!V)throw new Error(`Cannot redirect to '${D}'. Cannot find '${C.path}'.`);return V}findOrReturn(D,C){let F=0;for(const V of C){if(V.path===D.path)return C.splice(F),V;F++}return D}}function H(O){const D={};for(const F of Object.keys(O.children)){const ae=H(O.children[F]);(ae.segments.length>0||ae.hasChildren())&&(D[F]=ae)}return function Ai(O){if(1===O.numberOfChildren&&O.children[Jt]){const D=O.children[Jt];return new de(O.segments.concat(D.segments),D.children)}return O}(new de(O.segments,D))}class M{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class se{constructor(D,C){this.component=D,this.route=C}}function At(O,D,C){const F=O._root;return Jr(F,D?D._root:null,C,[F.value])}function Ci(O,D,C){const F=function vs(O){if(!O)return null;for(let D=O.parent;D;D=D.parent){const C=D.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig}return null}(D);return(F?F.module.injector:C).get(O)}function Jr(O,D,C,F,V={canDeactivateChecks:[],canActivateChecks:[]}){const ae=Mn(D);return O.children.forEach(Oe=>{(function Zo(O,D,C,F,V={canDeactivateChecks:[],canActivateChecks:[]}){const ae=O.value,Oe=D?D.value:null,He=C?C.getContext(O.value.outlet):null;if(Oe&&ae.routeConfig===Oe.routeConfig){const xt=function Oa(O,D,C){if("function"==typeof C)return C(O,D);switch(C){case"pathParamsChange":return!ve(O.url,D.url);case"pathParamsOrQueryParamsChange":return!ve(O.url,D.url)||!Ft(O.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ot(O,D)||!Ft(O.queryParams,D.queryParams);default:return!Ot(O,D)}}(Oe,ae,ae.routeConfig.runGuardsAndResolvers);xt?V.canActivateChecks.push(new M(F)):(ae.data=Oe.data,ae._resolvedData=Oe._resolvedData),Jr(O,D,ae.component?He?He.children:null:C,F,V),xt&&He&&He.outlet&&He.outlet.isActivated&&V.canDeactivateChecks.push(new se(He.outlet.component,Oe))}else Oe&&Bt(D,He,V),V.canActivateChecks.push(new M(F)),Jr(O,null,ae.component?He?He.children:null:C,F,V)})(Oe,ae[Oe.value.outlet],C,F.concat([Oe.value]),V),delete ae[Oe.value.outlet]}),We(ae,(Oe,He)=>Bt(Oe,C.getContext(He),V)),V}function Bt(O,D,C){const F=Mn(O),V=O.value;We(F,(ae,Oe)=>{Bt(ae,V.component?D?D.children.getContext(Oe):null:D,C)}),C.canDeactivateChecks.push(new se(V.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,V))}class Dl{}function Il(O){return new h.y(D=>D.error(O))}class To{constructor(D,C,F,V,ae,Oe){this.rootComponentType=D,this.config=C,this.urlTree=F,this.url=V,this.paramsInheritanceStrategy=ae,this.relativeLinkResolution=Oe}recognize(){const D=Ks(this.urlTree.root,[],[],this.config.filter(Oe=>void 0===Oe.redirectTo),this.relativeLinkResolution).segmentGroup,C=this.processSegmentGroup(this.config,D,Jt);if(null===C)return null;const F=new ss([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new pi(F,C),ae=new hi(this.url,V);return this.inheritParamsAndData(ae._root),ae}inheritParamsAndData(D){const C=D.value,F=Bi(C,this.paramsInheritanceStrategy);C.params=Object.freeze(F.params),C.data=Object.freeze(F.data),D.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(D,C,F){return 0===C.segments.length&&C.hasChildren()?this.processChildren(D,C):this.processSegment(D,C,C.segments,F)}processChildren(D,C){const F=[];for(const ae of Object.keys(C.children)){const Oe=C.children[ae],He=wo(D,ae),xt=this.processSegmentGroup(He,Oe,ae);if(null===xt)return null;F.push(...xt)}const V=Xr(F);return function Vr(O){O.sort((D,C)=>D.value.outlet===Jt?-1:C.value.outlet===Jt?1:D.value.outlet.localeCompare(C.value.outlet))}(V),V}processSegment(D,C,F,V){for(const ae of D){const Oe=this.processSegmentAgainstRoute(ae,C,F,V);if(null!==Oe)return Oe}return Ct(C,F,V)?[]:null}processSegmentAgainstRoute(D,C,F,V){if(D.redirectTo||!je(D,C,F,V))return null;let ae,Oe=[],He=[];if("**"===D.path){const bi=F.length>0?xe(F).parameters:{};ae=new ss(F,bi,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Na(D),Pr(D),D.component,D,pa(C),co(C)+F.length,rr(D))}else{const bi=$r(C,D,F);if(!bi.matched)return null;Oe=bi.consumedSegments,He=bi.remainingSegments,ae=new ss(Oe,bi.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Na(D),Pr(D),D.component,D,pa(C),co(C)+Oe.length,rr(D))}const xt=function qs(O){return O.children?O.children:O.loadChildren?O._loadedConfig.routes:[]}(D),{segmentGroup:pn,slicedSegments:Jn}=Ks(C,Oe,He,xt.filter(bi=>void 0===bi.redirectTo),this.relativeLinkResolution);if(0===Jn.length&&pn.hasChildren()){const bi=this.processChildren(xt,pn);return null===bi?null:[new pi(ae,bi)]}if(0===xt.length&&0===Jn.length)return[new pi(ae,[])];const An=Pr(D)===V,gi=this.processSegment(xt,pn,Jn,An?Jt:V);return null===gi?null:[new pi(ae,gi)]}}function uo(O){const D=O.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function Xr(O){const D=[],C=new Set;for(const F of O){if(!uo(F)){D.push(F);continue}const V=D.find(ae=>F.value.routeConfig===ae.value.routeConfig);void 0!==V?(V.children.push(...F.children),C.add(V)):D.push(F)}for(const F of C){const V=Xr(F.children);D.push(new pi(F.value,V))}return D.filter(F=>!C.has(F))}function pa(O){let D=O;for(;D._sourceSegment;)D=D._sourceSegment;return D}function co(O){let D=O,C=D._segmentIndexShift?D._segmentIndexShift:0;for(;D._sourceSegment;)D=D._sourceSegment,C+=D._segmentIndexShift?D._segmentIndexShift:0;return C-1}function Na(O){return O.data||{}}function rr(O){return O.resolve||{}}function fo(O){return[...Object.keys(O),...Object.getOwnPropertySymbols(O)]}function Ko(O){return(0,Ge.w)(D=>{const C=O(D);return C?(0,ne.D)(C).pipe((0,Le.U)(()=>D)):(0,ue.of)(D)})}class Sl extends class Do{shouldDetach(D){return!1}store(D,C){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,C){return D.routeConfig===C.routeConfig}}{}const Za=new g.OlP("ROUTES");class po{constructor(D,C,F,V){this.injector=D,this.compiler=C,this.onLoadStartListener=F,this.onLoadEndListener=V}load(D,C){if(C._loader$)return C._loader$;this.onLoadStartListener&&this.onLoadStartListener(C);const V=this.loadModuleFactory(C.loadChildren).pipe((0,Le.U)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(C);const Oe=ae.create(D);return new Go(Pe(Oe.injector.get(Za,void 0,g.XFs.Self|g.XFs.Optional)).map(Qr),Oe)}),ft(ae=>{throw C._loader$=void 0,ae}));return C._loader$=new X(V,()=>new st.x).pipe(ce()),C._loader$}loadModuleFactory(D){return _t(D()).pipe((0,pt.z)(C=>C instanceof g.YKP?(0,ue.of)(C):(0,ne.D)(this.compiler.compileModuleAsync(C))))}}class Yl{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,C){return D}}function ts(O){throw O}function Io(O,D,C){return D.parse("/")}function er(O,D){return(0,ue.of)(null)}const cl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Oi=(()=>{class O{constructor(C,F,V,ae,Oe,He,xt){this.rootComponentType=C,this.urlSerializer=F,this.rootContexts=V,this.location=ae,this.config=xt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new st.x,this.errorHandler=ts,this.malformedUriErrorHandler=Io,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:er,afterPreactivation:er},this.urlHandlingStrategy=new Yl,this.routeReuseStrategy=new Sl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Oe.get(g.h0i),this.console=Oe.get(g.c2e);const An=Oe.get(g.R0b);this.isNgZoneEnabled=An instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(xt),this.currentUrlTree=function Dt(){return new St(new de([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new po(Oe,He,gi=>this.triggerEvent(new ei(gi)),gi=>this.triggerEvent(new Li(gi))),this.routerState=Gi(this.currentUrlTree,this.rootComponentType),this.transitions=new Ne.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var C;return null===(C=this.location.getState())||void 0===C?void 0:C.\u0275routerPageId}setupNavigations(C){const F=this.events;return C.pipe((0,me.h)(V=>0!==V.id),(0,Le.U)(V=>Object.assign(Object.assign({},V),{extractedUrl:this.urlHandlingStrategy.extract(V.rawUrl)})),(0,Ge.w)(V=>{let ae=!1,Oe=!1;return(0,ue.of)(V).pipe((0,vt.b)(He=>{this.currentNavigation={id:He.id,initialUrl:He.currentRawUrl,extractedUrl:He.extractedUrl,trigger:He.source,extras:He.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ge.w)(He=>{const xt=this.browserUrlTree.toString(),pn=!this.navigated||He.extractedUrl.toString()!==xt||xt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||pn)&&this.urlHandlingStrategy.shouldProcessUrl(He.rawUrl))return Qs(He.source)&&(this.browserUrlTree=He.extractedUrl),(0,ue.of)(He).pipe((0,Ge.w)(An=>{const gi=this.transitions.getValue();return F.next(new Mt(An.id,this.serializeUrl(An.extractedUrl),An.source,An.restoredState)),gi!==this.transitions.getValue()?Qe.E:Promise.resolve(An)}),function N(O,D,C,F){return(0,Ge.w)(V=>function Wi(O,D,C,F,V){return new xi(O,D,C,F,V).apply()}(O,D,C,V.extractedUrl,F).pipe((0,Le.U)(ae=>Object.assign(Object.assign({},V),{urlAfterRedirects:ae}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,vt.b)(An=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:An.urlAfterRedirects})}),function za(O,D,C,F,V){return(0,pt.z)(ae=>function Al(O,D,C,F,V="emptyOnly",ae="legacy"){try{const Oe=new To(O,D,C,F,V,ae).recognize();return null===Oe?Il(new Dl):(0,ue.of)(Oe)}catch(Oe){return Il(Oe)}}(O,D,ae.urlAfterRedirects,C(ae.urlAfterRedirects),F,V).pipe((0,Le.U)(Oe=>Object.assign(Object.assign({},ae),{targetSnapshot:Oe}))))}(this.rootComponentType,this.config,An=>this.serializeUrl(An),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,vt.b)(An=>{if("eager"===this.urlUpdateStrategy){if(!An.extras.skipLocationChange){const bi=this.urlHandlingStrategy.merge(An.urlAfterRedirects,An.rawUrl);this.setBrowserUrl(bi,An)}this.browserUrlTree=An.urlAfterRedirects}const gi=new Sn(An.id,this.serializeUrl(An.extractedUrl),this.serializeUrl(An.urlAfterRedirects),An.targetSnapshot);F.next(gi)}));if(pn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:gi,extractedUrl:bi,source:tr,restoredState:Js,extras:ka}=He,mo=new Mt(gi,this.serializeUrl(bi),tr,Js);F.next(mo);const Rs=Gi(bi,this.rootComponentType).snapshot;return(0,ue.of)(Object.assign(Object.assign({},He),{targetSnapshot:Rs,urlAfterRedirects:bi,extras:Object.assign(Object.assign({},ka),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=He.rawUrl,He.resolve(null),Qe.E}),Ko(He=>{const{targetSnapshot:xt,id:pn,extractedUrl:Jn,rawUrl:An,extras:{skipLocationChange:gi,replaceUrl:bi}}=He;return this.hooks.beforePreactivation(xt,{navigationId:pn,appliedUrlTree:Jn,rawUrlTree:An,skipLocationChange:!!gi,replaceUrl:!!bi})}),(0,vt.b)(He=>{const xt=new Wn(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot);this.triggerEvent(xt)}),(0,Le.U)(He=>Object.assign(Object.assign({},He),{guards:At(He.targetSnapshot,He.currentSnapshot,this.rootContexts)})),function oi(O,D){return(0,pt.z)(C=>{const{targetSnapshot:F,currentSnapshot:V,guards:{canActivateChecks:ae,canDeactivateChecks:Oe}}=C;return 0===Oe.length&&0===ae.length?(0,ue.of)(Object.assign(Object.assign({},C),{guardsResult:!0})):function Tl(O,D,C,F){return(0,ne.D)(O).pipe((0,pt.z)(V=>function Ra(O,D,C,F,V){const ae=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,ue.of)(!0);const Oe=ae.map(He=>{const xt=Ci(He,D,V);let pn;if(function Ga(O){return O&&_r(O.canDeactivate)}(xt))pn=_t(xt.canDeactivate(O,D,C,F));else{if(!_r(xt))throw new Error("Invalid CanDeactivate guard");pn=_t(xt(O,D,C,F))}return pn.pipe((0,on.P)())});return(0,ue.of)(Oe).pipe(Hr())}(V.component,V.route,C,D,F)),(0,on.P)(V=>!0!==V,!0))}(Oe,F,V,O).pipe((0,pt.z)(He=>He&&function Ds(O){return"boolean"==typeof O}(He)?function Xi(O,D,C,F){return(0,ne.D)(D).pipe((0,Rt.b)(V=>(0,dt.z)(function Co(O,D){return null!==O&&D&&D(new Yn(O)),(0,ue.of)(!0)}(V.route.parent,F),function Ma(O,D){return null!==O&&D&&D(new un(O)),(0,ue.of)(!0)}(V.route,F),function Pa(O,D,C){const F=D[D.length-1],ae=D.slice(0,D.length-1).reverse().map(Oe=>function wn(O){const D=O.routeConfig?O.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:O,guards:D}:null}(Oe)).filter(Oe=>null!==Oe).map(Oe=>(0,ct.P)(()=>{const He=Oe.guards.map(xt=>{const pn=Ci(xt,Oe.node,C);let Jn;if(function ys(O){return O&&_r(O.canActivateChild)}(pn))Jn=_t(pn.canActivateChild(F,O));else{if(!_r(pn))throw new Error("Invalid CanActivateChild guard");Jn=_t(pn(F,O))}return Jn.pipe((0,on.P)())});return(0,ue.of)(He).pipe(Hr())}));return(0,ue.of)(ae).pipe(Hr())}(O,V.path,C),function Ps(O,D,C){const F=D.routeConfig?D.routeConfig.canActivate:null;if(!F||0===F.length)return(0,ue.of)(!0);const V=F.map(ae=>(0,ct.P)(()=>{const Oe=Ci(ae,D,C);let He;if(function Is(O){return O&&_r(O.canActivate)}(Oe))He=_t(Oe.canActivate(D,O));else{if(!_r(Oe))throw new Error("Invalid CanActivate guard");He=_t(Oe(D,O))}return He.pipe((0,on.P)())}));return(0,ue.of)(V).pipe(Hr())}(O,V.route,C))),(0,on.P)(V=>!0!==V,!0))}(F,ae,O,D):(0,ue.of)(He)),(0,Le.U)(He=>Object.assign(Object.assign({},C),{guardsResult:He})))})}(this.ngModule.injector,He=>this.triggerEvent(He)),(0,vt.b)(He=>{if(Ln(He.guardsResult)){const pn=ke(`Redirecting to "${this.serializeUrl(He.guardsResult)}"`);throw pn.url=He.guardsResult,pn}const xt=new ui(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot,!!He.guardsResult);this.triggerEvent(xt)}),(0,me.h)(He=>!!He.guardsResult||(this.restoreHistory(He),this.cancelNavigationTransition(He,""),!1)),Ko(He=>{if(He.guards.canActivateChecks.length)return(0,ue.of)(He).pipe((0,vt.b)(xt=>{const pn=new qn(xt.id,this.serializeUrl(xt.extractedUrl),this.serializeUrl(xt.urlAfterRedirects),xt.targetSnapshot);this.triggerEvent(pn)}),(0,Ge.w)(xt=>{let pn=!1;return(0,ue.of)(xt).pipe(function ho(O,D){return(0,pt.z)(C=>{const{targetSnapshot:F,guards:{canActivateChecks:V}}=C;if(!V.length)return(0,ue.of)(C);let ae=0;return(0,ne.D)(V).pipe((0,Rt.b)(Oe=>function ul(O,D,C,F){return function Wa(O,D,C,F){const V=fo(O);if(0===V.length)return(0,ue.of)({});const ae={};return(0,ne.D)(V).pipe((0,pt.z)(Oe=>function es(O,D,C,F){const V=Ci(O,D,F);return _t(V.resolve?V.resolve(D,C):V(D,C))}(O[Oe],D,C,F).pipe((0,vt.b)(He=>{ae[Oe]=He}))),we(1),(0,pt.z)(()=>fo(ae).length===V.length?(0,ue.of)(ae):Qe.E))}(O._resolve,O,D,F).pipe((0,Le.U)(ae=>(O._resolvedData=ae,O.data=Object.assign(Object.assign({},O.data),Bi(O,C).resolve),null)))}(Oe.route,F,O,D)),(0,vt.b)(()=>ae++),we(1),(0,pt.z)(Oe=>ae===V.length?(0,ue.of)(C):Qe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,vt.b)({next:()=>pn=!0,complete:()=>{pn||(this.restoreHistory(xt),this.cancelNavigationTransition(xt,"At least one route resolver didn't emit any value."))}}))}),(0,vt.b)(xt=>{const pn=new Si(xt.id,this.serializeUrl(xt.extractedUrl),this.serializeUrl(xt.urlAfterRedirects),xt.targetSnapshot);this.triggerEvent(pn)}))}),Ko(He=>{const{targetSnapshot:xt,id:pn,extractedUrl:Jn,rawUrl:An,extras:{skipLocationChange:gi,replaceUrl:bi}}=He;return this.hooks.afterPreactivation(xt,{navigationId:pn,appliedUrlTree:Jn,rawUrlTree:An,skipLocationChange:!!gi,replaceUrl:!!bi})}),(0,Le.U)(He=>{const xt=function Ji(O,D,C){const F=vi(O,D._root,C?C._root:void 0);return new qr(F,D)}(this.routeReuseStrategy,He.targetSnapshot,He.currentRouterState);return Object.assign(Object.assign({},He),{targetRouterState:xt})}),(0,vt.b)(He=>{this.currentUrlTree=He.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(He.urlAfterRedirects,He.rawUrl),this.routerState=He.targetRouterState,"deferred"===this.urlUpdateStrategy&&(He.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,He),this.browserUrlTree=He.urlAfterRedirects)}),((O,D,C)=>(0,Le.U)(F=>(new zs(D,F.targetRouterState,F.currentRouterState,C).activate(O),F)))(this.rootContexts,this.routeReuseStrategy,He=>this.triggerEvent(He)),(0,vt.b)({next(){ae=!0},complete(){ae=!0}}),function tt(O){return(0,Re.e)((D,C)=>{try{D.subscribe(C)}finally{C.add(O)}})}(()=>{var He;ae||Oe||this.cancelNavigationTransition(V,`Navigation ID ${V.id} is not equal to the current navigation id ${this.navigationId}`),(null===(He=this.currentNavigation)||void 0===He?void 0:He.id)===V.id&&(this.currentNavigation=null)}),ft(He=>{if(Oe=!0,function $e(O){return O&&O[It]}(He)){const xt=Ln(He.url);xt||(this.navigated=!0,this.restoreHistory(V,!0));const pn=new Xt(V.id,this.serializeUrl(V.extractedUrl),He.message);F.next(pn),xt?setTimeout(()=>{const Jn=this.urlHandlingStrategy.merge(He.url,this.rawUrlTree),An={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qs(V.source)};this.scheduleNavigation(Jn,"imperative",null,An,{resolve:V.resolve,reject:V.reject,promise:V.promise})},0):V.resolve(!1)}else{this.restoreHistory(V,!0);const xt=new hn(V.id,this.serializeUrl(V.extractedUrl),He);F.next(xt);try{V.resolve(this.errorHandler(He))}catch(pn){V.reject(pn)}}return Qe.E}))}))}resetRootComponentType(C){this.rootComponentType=C,this.routerState.root.component=this.rootComponentType}setTransition(C){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),C))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const F="popstate"===C.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{var V;const ae={replaceUrl:!0},Oe=(null===(V=C.state)||void 0===V?void 0:V.navigationId)?C.state:null;if(Oe){const xt=Object.assign({},Oe);delete xt.navigationId,delete xt.\u0275routerPageId,0!==Object.keys(xt).length&&(ae.state=xt)}const He=this.parseUrl(C.url);this.scheduleNavigation(He,F,Oe,ae)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(C){this.events.next(C)}resetConfig(C){br(C),this.config=C.map(Qr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(C,F={}){const{relativeTo:V,queryParams:ae,fragment:Oe,queryParamsHandling:He,preserveFragment:xt}=F,pn=V||this.routerState.root,Jn=xt?this.currentUrlTree.fragment:Oe;let An=null;switch(He){case"merge":An=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ae);break;case"preserve":An=this.currentUrlTree.queryParams;break;default:An=ae||null}return null!==An&&(An=this.removeEmptyProps(An)),function lr(O,D,C,F,V){if(0===C.length)return $s(D.root,D.root,D.root,F,V);const ae=function ca(O){if("string"==typeof O[0]&&1===O.length&&"/"===O[0])return new Gs(!0,0,O);let D=0,C=!1;const F=O.reduce((V,ae,Oe)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const He={};return We(ae.outlets,(xt,pn)=>{He[pn]="string"==typeof xt?xt.split("/"):xt}),[...V,{outlets:He}]}if(ae.segmentPath)return[...V,ae.segmentPath]}return"string"!=typeof ae?[...V,ae]:0===Oe?(ae.split("/").forEach((He,xt)=>{0==xt&&"."===He||(0==xt&&""===He?C=!0:".."===He?D++:""!=He&&V.push(He))}),V):[...V,ae]},[]);return new Gs(C,D,F)}(C);if(ae.toRoot())return $s(D.root,D.root,new de([],{}),F,V);const Oe=function ao(O,D,C){if(O.isAbsolute)return new us(D.root,!0,0);if(-1===C.snapshot._lastPathIndex){const ae=C.snapshot._urlSegment;return new us(ae,ae===D.root,0)}const F=ps(O.commands[0])?0:1;return function lo(O,D,C){let F=O,V=D,ae=C;for(;ae>V;){if(ae-=V,F=F.parent,!F)throw new Error("Invalid number of '../'");V=F.segments.length}return new us(F,!1,V-ae)}(C.snapshot._urlSegment,C.snapshot._lastPathIndex+F,O.numberOfDoubleDots)}(ae,D,O),He=Oe.processChildren?vr(Oe.segmentGroup,Oe.index,ae.commands):Yr(Oe.segmentGroup,Oe.index,ae.commands);return $s(D.root,Oe.segmentGroup,He,F,V)}(pn,this.currentUrlTree,C,An,null!=Jn?Jn:null)}navigateByUrl(C,F={skipLocationChange:!1}){const V=Ln(C)?C:this.parseUrl(C),ae=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(ae,"imperative",null,F)}navigate(C,F={skipLocationChange:!1}){return function Ys(O){for(let D=0;D<O.length;D++){const C=O[D];if(null==C)throw new Error(`The requested path contains ${C} segment at index ${D}`)}}(C),this.navigateByUrl(this.createUrlTree(C,F),F)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let F;try{F=this.urlSerializer.parse(C)}catch(V){F=this.malformedUriErrorHandler(V,this.urlSerializer,C)}return F}isActive(C,F){let V;if(V=!0===F?Object.assign({},cl):!1===F?Object.assign({},qu):F,Ln(C))return bn(this.currentUrlTree,C,V);const ae=this.parseUrl(C);return bn(this.currentUrlTree,ae,V)}removeEmptyProps(C){return Object.keys(C).reduce((F,V)=>{const ae=C[V];return null!=ae&&(F[V]=ae),F},{})}processNavigations(){this.navigations.subscribe(C=>{this.navigated=!0,this.lastSuccessfulId=C.id,this.currentPageId=C.targetPageId,this.events.next(new $t(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,C.resolve(!0)},C=>{this.console.warn(`Unhandled Navigation Error: ${C}`)})}scheduleNavigation(C,F,V,ae,Oe){var He,xt;if(this.disposed)return Promise.resolve(!1);let pn,Jn,An;Oe?(pn=Oe.resolve,Jn=Oe.reject,An=Oe.promise):An=new Promise((tr,Js)=>{pn=tr,Jn=Js});const gi=++this.navigationId;let bi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(V=this.location.getState()),bi=V&&V.\u0275routerPageId?V.\u0275routerPageId:ae.replaceUrl||ae.skipLocationChange?null!==(He=this.browserPageId)&&void 0!==He?He:0:(null!==(xt=this.browserPageId)&&void 0!==xt?xt:0)+1):bi=0,this.setTransition({id:gi,targetPageId:bi,source:F,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:C,extras:ae,resolve:pn,reject:Jn,promise:An,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),An.catch(tr=>Promise.reject(tr))}setBrowserUrl(C,F){const V=this.urlSerializer.serialize(C),ae=Object.assign(Object.assign({},F.extras.state),this.generateNgRouterState(F.id,F.targetPageId));this.location.isCurrentPathEqualTo(V)||F.extras.replaceUrl?this.location.replaceState(V,"",ae):this.location.go(V,"",ae)}restoreHistory(C,F=!1){var V,ae;if("computed"===this.canceledNavigationResolution){const Oe=this.currentPageId-C.targetPageId;"popstate"!==C.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(V=this.currentNavigation)||void 0===V?void 0:V.finalUrl)||0===Oe?this.currentUrlTree===(null===(ae=this.currentNavigation)||void 0===ae?void 0:ae.finalUrl)&&0===Oe&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Oe)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(C,F){const V=new Xt(C.id,this.serializeUrl(C.extractedUrl),F);this.triggerEvent(V),C.resolve(!1)}generateNgRouterState(C,F){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:F}:{navigationId:C}}}return O.\u0275fac=function(C){g.$Z()},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac}),O})();function Qs(O){return"imperative"!==O}let go=(()=>{class O{constructor(C,F,V,ae,Oe){this.router=C,this.route=F,this.tabIndexAttribute=V,this.renderer=ae,this.el=Oe,this.commands=null,this.onChanges=new st.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(C){if(null!=this.tabIndexAttribute)return;const F=this.renderer,V=this.el.nativeElement;null!==C?F.setAttribute(V,"tabindex",C):F.removeAttribute(V,"tabindex")}ngOnChanges(C){this.onChanges.next(this)}set routerLink(C){null!=C?(this.commands=Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const C={skipLocationChange:Wt(this.skipLocationChange),replaceUrl:Wt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,C),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Wt(this.preserveFragment)})}}return O.\u0275fac=function(C){return new(C||O)(g.Y36(Oi),g.Y36(ir),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},O.\u0275dir=g.lG2({type:O,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(C,F){1&C&&g.NdJ("click",function(){return F.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),O})(),Es=(()=>{class O{constructor(C,F,V){this.router=C,this.route=F,this.locationStrategy=V,this.commands=null,this.href=null,this.onChanges=new st.x,this.subscription=C.events.subscribe(ae=>{ae instanceof $t&&this.updateTargetUrlAndHref()})}set routerLink(C){this.commands=null!=C?Array.isArray(C)?C:[C]:null}ngOnChanges(C){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(C,F,V,ae,Oe){if(0!==C||F||V||ae||Oe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const He={skipLocationChange:Wt(this.skipLocationChange),replaceUrl:Wt(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,He),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Wt(this.preserveFragment)})}}return O.\u0275fac=function(C){return new(C||O)(g.Y36(Oi),g.Y36(ir),g.Y36(Se.S$))},O.\u0275dir=g.lG2({type:O,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(C,F){1&C&&g.NdJ("click",function(ae){return F.onClick(ae.button,ae.ctrlKey,ae.shiftKey,ae.altKey,ae.metaKey)}),2&C&&g.uIk("target",F.target)("href",F.href,g.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),O})();function Wt(O){return""===O||!!O}let Mi=(()=>{class O{constructor(C,F,V,ae,Oe,He){this.router=C,this.element=F,this.renderer=V,this.cdr=ae,this.link=Oe,this.linkWithHref=He,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.vpe,this.routerEventsSubscription=C.events.subscribe(xt=>{xt instanceof $t&&this.update()})}ngAfterContentInit(){(0,ue.of)(this.links.changes,this.linksWithHrefs.changes,(0,ue.of)(null)).pipe((0,q.J)()).subscribe(C=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var C;null===(C=this.linkInputChangesSubscription)||void 0===C||C.unsubscribe();const F=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(V=>!!V).map(V=>V.onChanges);this.linkInputChangesSubscription=(0,ne.D)(F).pipe((0,q.J)()).subscribe(V=>{this.isActive!==this.isLinkActive(this.router)(V)&&this.update()})}set routerLinkActive(C){const F=Array.isArray(C)?C:C.split(" ");this.classes=F.filter(V=>!!V)}ngOnChanges(C){this.update()}ngOnDestroy(){var C;this.routerEventsSubscription.unsubscribe(),null===(C=this.linkInputChangesSubscription)||void 0===C||C.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const C=this.hasActiveLinks();this.isActive!==C&&(this.isActive=C,this.cdr.markForCheck(),this.classes.forEach(F=>{C?this.renderer.addClass(this.element.nativeElement,F):this.renderer.removeClass(this.element.nativeElement,F)}),this.isActiveChange.emit(C))})}isLinkActive(C){const F=function Zi(O){return!!O.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return V=>!!V.urlTree&&C.isActive(V.urlTree,F)}hasActiveLinks(){const C=this.isLinkActive(this.router);return this.link&&C(this.link)||this.linkWithHref&&C(this.linkWithHref)||this.links.some(C)||this.linksWithHrefs.some(C)}}return O.\u0275fac=function(C){return new(C||O)(g.Y36(Oi),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(go,8),g.Y36(Es,8))},O.\u0275dir=g.lG2({type:O,selectors:[["","routerLinkActive",""]],contentQueries:function(C,F,V){if(1&C&&(g.Suo(V,go,5),g.Suo(V,Es,5)),2&C){let ae;g.iGM(ae=g.CRH())&&(F.links=ae),g.iGM(ae=g.CRH())&&(F.linksWithHrefs=ae)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[g.TTD]}),O})();class Ao{}class In{preload(D,C){return(0,ue.of)(null)}}let So=(()=>{class O{constructor(C,F,V,ae){this.router=C,this.injector=V,this.preloadingStrategy=ae,this.loader=new po(V,F,xt=>C.triggerEvent(new ei(xt)),xt=>C.triggerEvent(new Li(xt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,me.h)(C=>C instanceof $t),(0,Rt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const C=this.injector.get(g.h0i);return this.processRoutes(C,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,F){const V=[];for(const ae of F)if(ae.loadChildren&&!ae.canLoad&&ae._loadedConfig){const Oe=ae._loadedConfig;V.push(this.processRoutes(Oe.module,Oe.routes))}else ae.loadChildren&&!ae.canLoad?V.push(this.preloadConfig(C,ae)):ae.children&&V.push(this.processRoutes(C,ae.children));return(0,ne.D)(V).pipe((0,q.J)(),(0,Le.U)(ae=>{}))}preloadConfig(C,F){return this.preloadingStrategy.preload(F,()=>(F._loadedConfig?(0,ue.of)(F._loadedConfig):this.loader.load(C.injector,F)).pipe((0,pt.z)(ae=>(F._loadedConfig=ae,this.processRoutes(ae.module,ae.routes)))))}}return O.\u0275fac=function(C){return new(C||O)(g.LFG(Oi),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(Ao))},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac}),O})(),rn=(()=>{class O{constructor(C,F,V={}){this.router=C,this.viewportScroller=F,this.options=V,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},V.scrollPositionRestoration=V.scrollPositionRestoration||"disabled",V.anchorScrolling=V.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(C=>{C instanceof Mt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof $t&&(this.lastId=C.id,this.scheduleScrollEvent(C,this.router.parseUrl(C.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(C=>{C instanceof Qn&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,F){this.router.triggerEvent(new Qn(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return O.\u0275fac=function(C){g.$Z()},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac}),O})();const jt=new g.OlP("ROUTER_CONFIGURATION"),Ni=new g.OlP("ROUTER_FORROOT_GUARD"),qo=[Se.Ye,{provide:$,useClass:te},{provide:Oi,useFactory:function qa(O,D,C,F,V,ae,Oe={},He,xt){const pn=new Oi(null,O,D,C,F,V,Pe(ae));return He&&(pn.urlHandlingStrategy=He),xt&&(pn.routeReuseStrategy=xt),function ma(O,D){O.errorHandler&&(D.errorHandler=O.errorHandler),O.malformedUriErrorHandler&&(D.malformedUriErrorHandler=O.malformedUriErrorHandler),O.onSameUrlNavigation&&(D.onSameUrlNavigation=O.onSameUrlNavigation),O.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=O.paramsInheritanceStrategy),O.relativeLinkResolution&&(D.relativeLinkResolution=O.relativeLinkResolution),O.urlUpdateStrategy&&(D.urlUpdateStrategy=O.urlUpdateStrategy),O.canceledNavigationResolution&&(D.canceledNavigationResolution=O.canceledNavigationResolution)}(Oe,pn),Oe.enableTracing&&pn.events.subscribe(Jn=>{var An,gi;null===(An=console.group)||void 0===An||An.call(console,`Router Event: ${Jn.constructor.name}`),console.log(Jn.toString()),console.log(Jn),null===(gi=console.groupEnd)||void 0===gi||gi.call(console)}),pn},deps:[$,Mr,Se.Ye,g.zs3,g.Sil,Za,jt,[class ql{},new g.FiY],[class bs{},new g.FiY]]},Mr,{provide:ir,useFactory:function Ql(O){return O.routerState.root},deps:[Oi]},So,In,class Dn{preload(D,C){return C().pipe(ft(()=>(0,ue.of)(null)))}},{provide:jt,useValue:{enableTracing:!1}}];function Ka(){return new g.PXZ("Router",Oi)}let Dc=(()=>{class O{constructor(C,F){}static forRoot(C,F){return{ngModule:O,providers:[qo,Yo(C),{provide:Ni,useFactory:ga,deps:[[Oi,new g.FiY,new g.tp0]]},{provide:jt,useValue:F||{}},{provide:Se.S$,useFactory:dl,deps:[Se.lw,[new g.tBr(Se.mr),new g.FiY],jt]},{provide:rn,useFactory:cs,deps:[Oi,Se.EM,jt]},{provide:Ao,useExisting:F&&F.preloadingStrategy?F.preloadingStrategy:In},{provide:g.PXZ,multi:!0,useFactory:Ka},[Hi,{provide:g.ip1,multi:!0,useFactory:Zn,deps:[Hi]},{provide:ya,useFactory:Ki,deps:[Hi]},{provide:g.tb,multi:!0,useExisting:ya}]]}}static forChild(C){return{ngModule:O,providers:[Yo(C)]}}}return O.\u0275fac=function(C){return new(C||O)(g.LFG(Ni,8),g.LFG(Oi,8))},O.\u0275mod=g.oAB({type:O}),O.\u0275inj=g.cJS({}),O})();function cs(O,D,C){return C.scrollOffset&&D.setOffset(C.scrollOffset),new rn(O,D,C)}function dl(O,D,C={}){return C.useHash?new Se.Do(O,D):new Se.b0(O,D)}function ga(O){return"guarded"}function Yo(O){return[{provide:g.deG,multi:!0,useValue:O},{provide:Za,multi:!0,useValue:O}]}let Hi=(()=>{class O{constructor(C){this.injector=C,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new st.x}appInitializer(){return this.injector.get(Se.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let F=null;const V=new Promise(He=>F=He),ae=this.injector.get(Oi),Oe=this.injector.get(jt);return"disabled"===Oe.initialNavigation?(ae.setUpLocationChangeListener(),F(!0)):"enabled"===Oe.initialNavigation||"enabledBlocking"===Oe.initialNavigation?(ae.hooks.afterPreactivation=()=>this.initNavigation?(0,ue.of)(null):(this.initNavigation=!0,F(!0),this.resultOfPreactivationDone),ae.initialNavigation()):F(!0),V})}bootstrapListener(C){const F=this.injector.get(jt),V=this.injector.get(So),ae=this.injector.get(rn),Oe=this.injector.get(Oi),He=this.injector.get(g.z2F);C===He.components[0]&&(("enabledNonBlocking"===F.initialNavigation||void 0===F.initialNavigation)&&Oe.initialNavigation(),V.setUpPreloading(),ae.init(),Oe.resetRootComponentType(He.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return O.\u0275fac=function(C){return new(C||O)(g.LFG(g.zs3))},O.\u0275prov=g.Yz7({token:O,factory:O.\u0275fac}),O})();function Zn(O){return O.appInitializer.bind(O)}function Ki(O){return O.bootstrapListener.bind(O)}const ya=new g.OlP("Router Initializer")},3942:(qt,Ze,x)=>{x.d(Ze,{Z:()=>dt});var g=x(2090),h=x(4859),W=x(9681),De=x(1877);class _e{constructor(Qe,st){this._delegate=Qe,this.firebase=st,(0,W._addComponent)(Qe,new h.wA("app-compat",()=>this,"PUBLIC")),this.container=Qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this._delegate.automaticDataCollectionEnabled=Qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qe=>{this._delegate.checkDestroyed(),Qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Qe,st=W._DEFAULT_ENTRY_NAME){var Ue;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(Qe);return!ft.isInitialized()&&"EXPLICIT"===(null===(Ue=ft.getComponent())||void 0===Ue?void 0:Ue.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:st})}_removeServiceInstance(Qe,st=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qe).clearInstance(st)}_addComponent(Qe){(0,W._addComponent)(this._delegate,Qe)}_addOrOverwriteComponent(Qe){(0,W._addOrOverwriteComponent)(this._delegate,Qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function X(){const ct=function ce(ct){const Qe={},st={__esModule:!0,initializeApp:function me(Y,qe={}){const tt=W.initializeApp(Y,qe);if((0,g.r3)(Qe,tt.name))return Qe[tt.name];const Le=new ct(tt,st);return Qe[tt.name]=Le,Le},app:ft,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function et(Y){const qe=Y.name,tt=qe.replace("-compat","");if(W._registerComponent(Y)&&"PUBLIC"===Y.type){const Le=(Ge=ft())=>{if("function"!=typeof Ge[tt])throw Ce.create("invalid-app-argument",{appName:qe});return Ge[tt]()};void 0!==Y.serviceProps&&(0,g.ZB)(Le,Y.serviceProps),st[tt]=Le,ct.prototype[tt]=function(...Ge){return this._getService.bind(this,qe).apply(this,Y.multipleInstances?Ge:[])}}return"PUBLIC"===Y.type?st[tt]:null},removeApp:function Ue(Y){delete Qe[Y]},useAsService:function Tt(Y,qe){return"serverAuth"===qe?null:qe},modularAPIs:W}};function ft(Y){if(!(0,g.r3)(Qe,Y=Y||W._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:Y});return Qe[Y]}return st.default=st,Object.defineProperty(st,"apps",{get:function we(){return Object.keys(Qe).map(Y=>Qe[Y])}}),ft.App=ct,st}(_e);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:X,extendNamespace:function Qe(st){(0,g.ZB)(ct,st)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),ct}(),ue=new De.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=ne;!function nt(ct){(0,W.registerVersion)("@firebase/app-compat","0.1.39",ct)}()},9681:(qt,Ze,x)=>{x.r(Ze),x.d(Ze,{FirebaseError:()=>De.ZR,SDK_VERSION:()=>ei,_DEFAULT_ENTRY_NAME:()=>vt,_addComponent:()=>Mt,_addOrOverwriteComponent:()=>$t,_apps:()=>Se,_clearComponents:()=>Wn,_components:()=>Ke,_getProvider:()=>hn,_registerComponent:()=>Xt,_removeServiceInstance:()=>Sn,deleteApp:()=>un,getApp:()=>Yn,getApps:()=>Ui,initializeApp:()=>Li,onLog:()=>Jt,registerVersion:()=>Qn,setLogLevel:()=>Ri});var g=x(5861),h=x(4859),W=x(1877),De=x(2090),_e=x(8766);class Re{constructor(he){this.container=he}getPlatformInfoString(){return this.container.getProviders().map(be=>{if(function Ce(z){const he=z.getComponent();return"VERSION"===(null==he?void 0:he.type)}(be)){const Fe=be.getImmediate();return`${Fe.library}/${Fe.version}`}return null}).filter(be=>be).join(" ")}}const ce="@firebase/app",X="0.8.4",ne=new W.Yd("@firebase/app"),vt="[DEFAULT]",q={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Se=new Map,Ke=new Map;function Mt(z,he){try{z.container.addComponent(he)}catch(be){ne.debug(`Component ${he.name} failed to register with FirebaseApp ${z.name}`,be)}}function $t(z,he){z.container.addOrOverwriteComponent(he)}function Xt(z){const he=z.name;if(Ke.has(he))return ne.debug(`There were multiple attempts to register component ${he}.`),!1;Ke.set(he,z);for(const be of Se.values())Mt(be,z);return!0}function hn(z,he){const be=z.container.getProvider("heartbeat").getImmediate({optional:!0});return be&&be.triggerHeartbeat(),z.container.getProvider(he)}function Sn(z,he,be=vt){hn(z,he).clearInstance(be)}function Wn(){Ke.clear()}const qn=new De.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Si{constructor(he,be,Fe){this._isDeleted=!1,this._options=Object.assign({},he),this._config=Object.assign({},be),this._name=be.name,this._automaticDataCollectionEnabled=be.automaticDataCollectionEnabled,this._container=Fe,this.container.addComponent(new h.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this.checkDestroyed(),this._automaticDataCollectionEnabled=he}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(he){this._isDeleted=he}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}const ei="9.14.0";function Li(z,he={}){let be=z;"object"!=typeof he&&(he={name:he});const Fe=Object.assign({name:vt,automaticDataCollectionEnabled:!1},he),gt=Fe.name;if("string"!=typeof gt||!gt)throw qn.create("bad-app-name",{appName:String(gt)});if(be||(be=(0,De.aH)()),!be)throw qn.create("no-options");const St=Se.get(gt);if(St){if((0,De.vZ)(be,St.options)&&(0,De.vZ)(Fe,St.config))return St;throw qn.create("duplicate-app",{appName:gt})}const de=new h.H0(gt);for(const Me of Ke.values())de.addComponent(Me);const fe=new Si(be,Fe,de);return Se.set(gt,fe),fe}function Yn(z=vt){const he=Se.get(z);if(!he&&z===vt)return Li();if(!he)throw qn.create("no-app",{appName:z});return he}function Ui(){return Array.from(Se.values())}function un(z){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,g.Z)(function*(z){const he=z.name;Se.has(he)&&(Se.delete(he),yield Promise.all(z.container.getProviders().map(be=>be.delete())),z.isDeleted=!0)})).apply(this,arguments)}function Qn(z,he,be){var Fe;let gt=null!==(Fe=q[z])&&void 0!==Fe?Fe:z;be&&(gt+=`-${be}`);const St=gt.match(/\s|\//),de=he.match(/\s|\//);if(St||de){const fe=[`Unable to register library "${gt}" with version "${he}":`];return St&&fe.push(`library name "${gt}" contains illegal characters (whitespace or "/")`),St&&de&&fe.push("and"),de&&fe.push(`version name "${he}" contains illegal characters (whitespace or "/")`),void ne.warn(fe.join(" "))}Xt(new h.wA(`${gt}-version`,()=>({library:gt,version:he}),"VERSION"))}function Jt(z,he){if(null!==z&&"function"!=typeof z)throw qn.create("invalid-log-argument");(0,W.Am)(z,he)}function Ri(z){(0,W.Ub)(z)}const ke="firebase-heartbeat-store";let $e=null;function Lt(){return $e||($e=(0,_e.X3)("firebase-heartbeat-database",1,{upgrade:(z,he)=>{0===he&&z.createObjectStore(ke)}}).catch(z=>{throw qn.create("idb-open",{originalErrorMessage:z.message})})),$e}function Ft(){return(Ft=(0,g.Z)(function*(z){var he;try{return(yield Lt()).transaction(ke).objectStore(ke).get(xe(z))}catch(be){if(be instanceof De.ZR)ne.warn(be.message);else{const Fe=qn.create("idb-get",{originalErrorMessage:null===(he=be)||void 0===he?void 0:he.message});ne.warn(Fe.message)}}})).apply(this,arguments)}function Gt(z,he){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,g.Z)(function*(z,he){var be;try{const gt=(yield Lt()).transaction(ke,"readwrite");return yield gt.objectStore(ke).put(he,xe(z)),gt.done}catch(Fe){if(Fe instanceof De.ZR)ne.warn(Fe.message);else{const gt=qn.create("idb-set",{originalErrorMessage:null===(be=Fe)||void 0===be?void 0:be.message});ne.warn(gt.message)}}})).apply(this,arguments)}function xe(z){return`${z.name}!${z.options.appId}`}class _t{constructor(he){this.container=he,this._heartbeatsCache=null;const be=this.container.getProvider("app").getImmediate();this._storage=new mn(be),this._heartbeatsCachePromise=this._storage.read().then(Fe=>(this._heartbeatsCache=Fe,Fe))}triggerHeartbeat(){var he=this;return(0,g.Z)(function*(){const Fe=he.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gt=Dt();if(null===he._heartbeatsCache&&(he._heartbeatsCache=yield he._heartbeatsCachePromise),he._heartbeatsCache.lastSentHeartbeatDate!==gt&&!he._heartbeatsCache.heartbeats.some(St=>St.date===gt))return he._heartbeatsCache.heartbeats.push({date:gt,agent:Fe}),he._heartbeatsCache.heartbeats=he._heartbeatsCache.heartbeats.filter(St=>{const de=new Date(St.date).valueOf();return Date.now()-de<=2592e6}),he._storage.overwrite(he._heartbeatsCache)})()}getHeartbeatsHeader(){var he=this;return(0,g.Z)(function*(){if(null===he._heartbeatsCache&&(yield he._heartbeatsCachePromise),null===he._heartbeatsCache||0===he._heartbeatsCache.heartbeats.length)return"";const be=Dt(),{heartbeatsToSend:Fe,unsentEntries:gt}=function Et(z,he=1024){const be=[];let Fe=z.slice();for(const gt of z){const St=be.find(de=>de.agent===gt.agent);if(St){if(St.dates.push(gt.date),bn(be)>he){St.dates.pop();break}}else if(be.push({agent:gt.agent,dates:[gt.date]}),bn(be)>he){be.pop();break}Fe=Fe.slice(1)}return{heartbeatsToSend:be,unsentEntries:Fe}}(he._heartbeatsCache.heartbeats),St=(0,De.L)(JSON.stringify({version:2,heartbeats:Fe}));return he._heartbeatsCache.lastSentHeartbeatDate=be,gt.length>0?(he._heartbeatsCache.heartbeats=gt,yield he._storage.overwrite(he._heartbeatsCache)):(he._heartbeatsCache.heartbeats=[],he._storage.overwrite(he._heartbeatsCache)),St})()}}function Dt(){return(new Date).toISOString().substring(0,10)}class mn{constructor(he){this.app=he,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,De.hl)()&&(0,De.eu)().then(()=>!0).catch(()=>!1)})()}read(){var he=this;return(0,g.Z)(function*(){return(yield he._canUseIndexedDBPromise)&&(yield function wt(z){return Ft.apply(this,arguments)}(he.app))||{heartbeats:[]}})()}overwrite(he){var be=this;return(0,g.Z)(function*(){var Fe;if(yield be._canUseIndexedDBPromise){const St=yield be.read();return Gt(be.app,{lastSentHeartbeatDate:null!==(Fe=he.lastSentHeartbeatDate)&&void 0!==Fe?Fe:St.lastSentHeartbeatDate,heartbeats:he.heartbeats})}})()}add(he){var be=this;return(0,g.Z)(function*(){var Fe;if(yield be._canUseIndexedDBPromise){const St=yield be.read();return Gt(be.app,{lastSentHeartbeatDate:null!==(Fe=he.lastSentHeartbeatDate)&&void 0!==Fe?Fe:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...he.heartbeats]})}})()}}function bn(z){return(0,De.L)(JSON.stringify({version:2,heartbeats:z})).length}!function ln(z){Xt(new h.wA("platform-logger",he=>new Re(he),"PRIVATE")),Xt(new h.wA("heartbeat",he=>new _t(he),"PRIVATE")),Qn(ce,X,z),Qn(ce,X,"esm2017"),Qn("fire-js","")}("")},4859:(qt,Ze,x)=>{x.d(Ze,{H0:()=>ce,wA:()=>W});var g=x(5861),h=x(2090);class W{constructor(ne,ue,Ne){this.name=ne,this.instanceFactory=ue,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const De="[DEFAULT]";class _e{constructor(ne,ue){this.name=ne,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const ue=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(ue)){const Ne=new h.BH;if(this.instancesDeferred.set(ue,Ne),this.isInitialized(ue)||this.shouldAutoInitialize())try{const ut=this.getOrInitializeService({instanceIdentifier:ue});ut&&Ne.resolve(ut)}catch(ut){}}return this.instancesDeferred.get(ue).promise}getImmediate(ne){var ue;const Ne=this.normalizeInstanceIdentifier(null==ne?void 0:ne.identifier),ut=null!==(ue=null==ne?void 0:ne.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(ut)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(nt){if(ut)return null;throw nt}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Ce(X){return"EAGER"===X.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:De})}catch(ue){}for(const[ue,Ne]of this.instancesDeferred.entries()){const ut=this.normalizeInstanceIdentifier(ue);try{const nt=this.getOrInitializeService({instanceIdentifier:ut});Ne.resolve(nt)}catch(nt){}}}}clearInstance(ne=De){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,g.Z)(function*(){const ue=Array.from(ne.instances.values());yield Promise.all([...ue.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...ue.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=De){return this.instances.has(ne)}getOptions(ne=De){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:ue={}}=ne,Ne=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ut=this.getOrInitializeService({instanceIdentifier:Ne,options:ue});for(const[nt,dt]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(nt)&&dt.resolve(ut);return ut}onInit(ne,ue){var Ne;const ut=this.normalizeInstanceIdentifier(ue),nt=null!==(Ne=this.onInitCallbacks.get(ut))&&void 0!==Ne?Ne:new Set;nt.add(ne),this.onInitCallbacks.set(ut,nt);const dt=this.instances.get(ut);return dt&&ne(dt,ut),()=>{nt.delete(ne)}}invokeOnInitCallbacks(ne,ue){const Ne=this.onInitCallbacks.get(ue);if(Ne)for(const ut of Ne)try{ut(ne,ue)}catch(nt){}}getOrInitializeService({instanceIdentifier:ne,options:ue={}}){let Ne=this.instances.get(ne);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(X=ne,X===De?void 0:X),options:ue}),this.instances.set(ne,Ne),this.instancesOptions.set(ne,ue),this.invokeOnInitCallbacks(Ne,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Ne)}catch(ut){}var X;return Ne||null}normalizeInstanceIdentifier(ne=De){return this.component?this.component.multipleInstances?ne:De:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const ue=this.getProvider(ne.name);if(ue.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);ue.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const ue=new _e(ne,this);return this.providers.set(ne,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(qt,Ze,x)=>{x.d(Ze,{Am:()=>X,Ub:()=>ce,Yd:()=>Ce,in:()=>h});const g=[];var h=(()=>{return(ne=h||(h={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",h;var ne})();const W={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},De=h.INFO,_e={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},Re=(ne,ue,...Ne)=>{if(ue<ne.logLevel)return;const ut=(new Date).toISOString(),nt=_e[ue];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[nt](`[${ut}]  ${ne.name}:`,...Ne)};class Ce{constructor(ue){this.name=ue,this._logLevel=De,this._logHandler=Re,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in h))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?W[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...ue),this._logHandler(this,h.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...ue),this._logHandler(this,h.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,h.INFO,...ue),this._logHandler(this,h.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,h.WARN,...ue),this._logHandler(this,h.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...ue),this._logHandler(this,h.ERROR,...ue)}}function ce(ne){g.forEach(ue=>{ue.setLogLevel(ne)})}function X(ne,ue){for(const Ne of g){let ut=null;ue&&ue.level&&(ut=W[ue.level]),Ne.userLogHandler=null===ne?null:(nt,dt,...ct)=>{const Qe=ct.map(st=>{if(null==st)return null;if("string"==typeof st)return st;if("number"==typeof st||"boolean"==typeof st)return st.toString();if(st instanceof Error)return st.message;try{return JSON.stringify(st)}catch(Ue){return null}}).filter(st=>st).join(" ");dt>=(null!=ut?ut:nt.logLevel)&&ne({level:h[dt].toLowerCase(),message:Qe,args:ct,type:nt.name})}}}},8995:(qt,Ze,x)=>{x.d(Ze,{Zw:()=>nt,aw:()=>on,X$:()=>Rt,sK:()=>ot});var g=x(5e3),h=x(8306),W=x(576);function De(pt){return!!pt&&(pt instanceof h.y||(0,W.m)(pt.lift)&&(0,W.m)(pt.subscribe))}var _e=x(9646),Re=x(4128),Ce=x(7272),ce=x(9770),X=x(5698),ne=x(3151),ue=x(4004),Ne=x(4351),ut=x(3900);class nt{}let dt=(()=>{class pt extends nt{getTranslation(q){return(0,_e.of)({})}}return pt.\u0275fac=function(){let vt;return function(Se){return(vt||(vt=g.n5z(pt)))(Se||pt)}}(),pt.\u0275prov=g.Yz7({token:pt,factory:pt.\u0275fac}),pt})();class ct{}let Qe=(()=>{class pt{handle(q){return q.key}}return pt.\u0275fac=function(q){return new(q||pt)},pt.\u0275prov=g.Yz7({token:pt,factory:pt.\u0275fac}),pt})();function st(pt,vt){if(pt===vt)return!0;if(null===pt||null===vt)return!1;if(pt!=pt&&vt!=vt)return!0;let Ke,Mt,$t,q=typeof pt;if(q==typeof vt&&"object"==q){if(!Array.isArray(pt)){if(Array.isArray(vt))return!1;for(Mt in $t=Object.create(null),pt){if(!st(pt[Mt],vt[Mt]))return!1;$t[Mt]=!0}for(Mt in vt)if(!(Mt in $t)&&void 0!==vt[Mt])return!1;return!0}if(!Array.isArray(vt))return!1;if((Ke=pt.length)==vt.length){for(Mt=0;Mt<Ke;Mt++)if(!st(pt[Mt],vt[Mt]))return!1;return!0}}return!1}function Ue(pt){return null!=pt}function ft(pt){return pt&&"object"==typeof pt&&!Array.isArray(pt)}function me(pt,vt){let q=Object.assign({},pt);return ft(pt)&&ft(vt)&&Object.keys(vt).forEach(Se=>{ft(vt[Se])?Se in pt?q[Se]=me(pt[Se],vt[Se]):Object.assign(q,{[Se]:vt[Se]}):Object.assign(q,{[Se]:vt[Se]})}),q}class we{}let et=(()=>{class pt extends we{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(q,Se){let Ke;return Ke="string"==typeof q?this.interpolateString(q,Se):"function"==typeof q?this.interpolateFunction(q,Se):q,Ke}getValue(q,Se){let Ke="string"==typeof Se?Se.split("."):[Se];Se="";do{Se+=Ke.shift(),!Ue(q)||!Ue(q[Se])||"object"!=typeof q[Se]&&Ke.length?Ke.length?Se+=".":q=void 0:(q=q[Se],Se="")}while(Ke.length);return q}interpolateFunction(q,Se){return q(Se)}interpolateString(q,Se){return Se?q.replace(this.templateMatcher,(Ke,Mt)=>{let $t=this.getValue(Se,Mt);return Ue($t)?$t:Ke}):q}}return pt.\u0275fac=function(){let vt;return function(Se){return(vt||(vt=g.n5z(pt)))(Se||pt)}}(),pt.\u0275prov=g.Yz7({token:pt,factory:pt.\u0275fac}),pt})();class Tt{}let Y=(()=>{class pt extends Tt{compile(q,Se){return q}compileTranslations(q,Se){return q}}return pt.\u0275fac=function(){let vt;return function(Se){return(vt||(vt=g.n5z(pt)))(Se||pt)}}(),pt.\u0275prov=g.Yz7({token:pt,factory:pt.\u0275fac}),pt})();class qe{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new g.vpe,this.onLangChange=new g.vpe,this.onDefaultLangChange=new g.vpe}}const tt=new g.OlP("USE_STORE"),Le=new g.OlP("USE_DEFAULT_LANG"),Ge=new g.OlP("DEFAULT_LANGUAGE"),Xe=new g.OlP("USE_EXTEND");let ot=(()=>{class pt{constructor(q,Se,Ke,Mt,$t,Xt=!0,hn=!1,Sn=!1,Wn){this.store=q,this.currentLoader=Se,this.compiler=Ke,this.parser=Mt,this.missingTranslationHandler=$t,this.useDefaultLang=Xt,this.isolate=hn,this.extend=Sn,this.pending=!1,this._onTranslationChange=new g.vpe,this._onLangChange=new g.vpe,this._onDefaultLangChange=new g.vpe,this._langs=[],this._translations={},this._translationRequests={},Wn&&this.setDefaultLang(Wn)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(q){this.isolate?this._defaultLang=q:this.store.defaultLang=q}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(q){this.isolate?this._currentLang=q:this.store.currentLang=q}get langs(){return this.isolate?this._langs:this.store.langs}set langs(q){this.isolate?this._langs=q:this.store.langs=q}get translations(){return this.isolate?this._translations:this.store.translations}set translations(q){this.isolate?this._translations=q:this.store.translations=q}setDefaultLang(q){if(q===this.defaultLang)return;let Se=this.retrieveTranslations(q);void 0!==Se?(null==this.defaultLang&&(this.defaultLang=q),Se.pipe((0,X.q)(1)).subscribe(Ke=>{this.changeDefaultLang(q)})):this.changeDefaultLang(q)}getDefaultLang(){return this.defaultLang}use(q){if(q===this.currentLang)return(0,_e.of)(this.translations[q]);let Se=this.retrieveTranslations(q);return void 0!==Se?(this.currentLang||(this.currentLang=q),Se.pipe((0,X.q)(1)).subscribe(Ke=>{this.changeLang(q)}),Se):(this.changeLang(q),(0,_e.of)(this.translations[q]))}retrieveTranslations(q){let Se;return(void 0===this.translations[q]||this.extend)&&(this._translationRequests[q]=this._translationRequests[q]||this.getTranslation(q),Se=this._translationRequests[q]),Se}getTranslation(q){this.pending=!0;const Se=this.currentLoader.getTranslation(q).pipe((0,ne.d)(1),(0,X.q)(1));return this.loadingTranslations=Se.pipe((0,ue.U)(Ke=>this.compiler.compileTranslations(Ke,q)),(0,ne.d)(1),(0,X.q)(1)),this.loadingTranslations.subscribe({next:Ke=>{this.translations[q]=this.extend&&this.translations[q]?Object.assign(Object.assign({},Ke),this.translations[q]):Ke,this.updateLangs(),this.pending=!1},error:Ke=>{this.pending=!1}}),Se}setTranslation(q,Se,Ke=!1){Se=this.compiler.compileTranslations(Se,q),this.translations[q]=(Ke||this.extend)&&this.translations[q]?me(this.translations[q],Se):Se,this.updateLangs(),this.onTranslationChange.emit({lang:q,translations:this.translations[q]})}getLangs(){return this.langs}addLangs(q){q.forEach(Se=>{-1===this.langs.indexOf(Se)&&this.langs.push(Se)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(q,Se,Ke){let Mt;if(Se instanceof Array){let $t={},Xt=!1;for(let hn of Se)$t[hn]=this.getParsedResult(q,hn,Ke),De($t[hn])&&(Xt=!0);if(Xt){const hn=Se.map(Sn=>De($t[Sn])?$t[Sn]:(0,_e.of)($t[Sn]));return(0,Re.D)(hn).pipe((0,ue.U)(Sn=>{let Wn={};return Sn.forEach((ui,qn)=>{Wn[Se[qn]]=ui}),Wn}))}return $t}if(q&&(Mt=this.parser.interpolate(this.parser.getValue(q,Se),Ke)),void 0===Mt&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Mt=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],Se),Ke)),void 0===Mt){let $t={key:Se,translateService:this};void 0!==Ke&&($t.interpolateParams=Ke),Mt=this.missingTranslationHandler.handle($t)}return void 0!==Mt?Mt:Se}get(q,Se){if(!Ue(q)||!q.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Ne.b)(Ke=>De(Ke=this.getParsedResult(Ke,q,Se))?Ke:(0,_e.of)(Ke)));{let Ke=this.getParsedResult(this.translations[this.currentLang],q,Se);return De(Ke)?Ke:(0,_e.of)(Ke)}}getStreamOnTranslationChange(q,Se){if(!Ue(q)||!q.length)throw new Error('Parameter "key" required');return(0,Ce.z)((0,ce.P)(()=>this.get(q,Se)),this.onTranslationChange.pipe((0,ut.w)(Ke=>{const Mt=this.getParsedResult(Ke.translations,q,Se);return"function"==typeof Mt.subscribe?Mt:(0,_e.of)(Mt)})))}stream(q,Se){if(!Ue(q)||!q.length)throw new Error('Parameter "key" required');return(0,Ce.z)((0,ce.P)(()=>this.get(q,Se)),this.onLangChange.pipe((0,ut.w)(Ke=>{const Mt=this.getParsedResult(Ke.translations,q,Se);return De(Mt)?Mt:(0,_e.of)(Mt)})))}instant(q,Se){if(!Ue(q)||!q.length)throw new Error('Parameter "key" required');let Ke=this.getParsedResult(this.translations[this.currentLang],q,Se);if(De(Ke)){if(q instanceof Array){let Mt={};return q.forEach(($t,Xt)=>{Mt[q[Xt]]=q[Xt]}),Mt}return q}return Ke}set(q,Se,Ke=this.currentLang){this.translations[Ke][q]=this.compiler.compile(Se,Ke),this.updateLangs(),this.onTranslationChange.emit({lang:Ke,translations:this.translations[Ke]})}changeLang(q){this.currentLang=q,this.onLangChange.emit({lang:q,translations:this.translations[q]}),null==this.defaultLang&&this.changeDefaultLang(q)}changeDefaultLang(q){this.defaultLang=q,this.onDefaultLangChange.emit({lang:q,translations:this.translations[q]})}reloadLang(q){return this.resetLang(q),this.getTranslation(q)}resetLang(q){this._translationRequests[q]=void 0,this.translations[q]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let q=window.navigator.languages?window.navigator.languages[0]:null;return q=q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==q?(-1!==q.indexOf("-")&&(q=q.split("-")[0]),-1!==q.indexOf("_")&&(q=q.split("_")[0]),q):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let q=window.navigator.languages?window.navigator.languages[0]:null;return q=q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,q}}return pt.\u0275fac=function(q){return new(q||pt)(g.LFG(qe),g.LFG(nt),g.LFG(Tt),g.LFG(we),g.LFG(ct),g.LFG(Le),g.LFG(tt),g.LFG(Xe),g.LFG(Ge))},pt.\u0275prov=g.Yz7({token:pt,factory:pt.\u0275fac}),pt})(),Rt=(()=>{class pt{constructor(q,Se){this.translate=q,this._ref=Se,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(q,Se,Ke){let Mt=$t=>{this.value=void 0!==$t?$t:q,this.lastKey=q,this._ref.markForCheck()};if(Ke){let $t=this.translate.getParsedResult(Ke,q,Se);De($t.subscribe)?$t.subscribe(Mt):Mt($t)}this.translate.get(q,Se).subscribe(Mt)}transform(q,...Se){if(!q||!q.length)return q;if(st(q,this.lastKey)&&st(Se,this.lastParams))return this.value;let Ke;if(Ue(Se[0])&&Se.length)if("string"==typeof Se[0]&&Se[0].length){let Mt=Se[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{Ke=JSON.parse(Mt)}catch($t){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${Se[0]}`)}}else"object"==typeof Se[0]&&!Array.isArray(Se[0])&&(Ke=Se[0]);return this.lastKey=q,this.lastParams=Se,this.updateValue(q,Ke),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Mt=>{this.lastKey&&Mt.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(q,Ke,Mt.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Mt=>{this.lastKey&&(this.lastKey=null,this.updateValue(q,Ke,Mt.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(q,Ke))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return pt.\u0275fac=function(q){return new(q||pt)(g.Y36(ot,16),g.Y36(g.sBO,16))},pt.\u0275pipe=g.Yjl({name:"translate",type:pt,pure:!1}),pt.\u0275prov=g.Yz7({token:pt,factory:pt.\u0275fac}),pt})(),on=(()=>{class pt{static forRoot(q={}){return{ngModule:pt,providers:[q.loader||{provide:nt,useClass:dt},q.compiler||{provide:Tt,useClass:Y},q.parser||{provide:we,useClass:et},q.missingTranslationHandler||{provide:ct,useClass:Qe},qe,{provide:tt,useValue:q.isolate},{provide:Le,useValue:q.useDefaultLang},{provide:Xe,useValue:q.extend},{provide:Ge,useValue:q.defaultLanguage},ot]}}static forChild(q={}){return{ngModule:pt,providers:[q.loader||{provide:nt,useClass:dt},q.compiler||{provide:Tt,useClass:Y},q.parser||{provide:we,useClass:et},q.missingTranslationHandler||{provide:ct,useClass:Qe},{provide:tt,useValue:q.isolate},{provide:Le,useValue:q.useDefaultLang},{provide:Xe,useValue:q.extend},{provide:Ge,useValue:q.defaultLanguage},ot]}}}return pt.\u0275fac=function(q){return new(q||pt)},pt.\u0275mod=g.oAB({type:pt}),pt.\u0275inj=g.cJS({}),pt})()},40:(qt,Ze,x)=>{x.d(Ze,{w:()=>g});class g{constructor(W,De="/assets/i18n/",_e=".json"){this.http=W,this.prefix=De,this.suffix=_e}getTranslation(W){return this.http.get(`${this.prefix}${W}${this.suffix}`)}}},8766:(qt,Ze,x)=>{x.d(Ze,{Lj:()=>me,X3:()=>ft});var g=x(5861);let W,De;const Ce=new WeakMap,ce=new WeakMap,X=new WeakMap,ne=new WeakMap,ue=new WeakMap;let nt={get(qe,tt,Le){if(qe instanceof IDBTransaction){if("done"===tt)return ce.get(qe);if("objectStoreNames"===tt)return qe.objectStoreNames||X.get(qe);if("store"===tt)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return st(qe[tt])},set:(qe,tt,Le)=>(qe[tt]=Le,!0),has:(qe,tt)=>qe instanceof IDBTransaction&&("done"===tt||"store"===tt)||tt in qe};function Qe(qe){return"function"==typeof qe?function ct(qe){return qe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Re(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(qe)?function(...tt){return qe.apply(Ue(this),tt),st(Ce.get(this))}:function(...tt){return st(qe.apply(Ue(this),tt))}:function(tt,...Le){const Ge=qe.call(Ue(this),tt,...Le);return X.set(Ge,tt.sort?tt.sort():[tt]),st(Ge)}}(qe):(qe instanceof IDBTransaction&&function ut(qe){if(ce.has(qe))return;const tt=new Promise((Le,Ge)=>{const Xe=()=>{qe.removeEventListener("complete",ot),qe.removeEventListener("error",it),qe.removeEventListener("abort",it)},ot=()=>{Le(),Xe()},it=()=>{Ge(qe.error||new DOMException("AbortError","AbortError")),Xe()};qe.addEventListener("complete",ot),qe.addEventListener("error",it),qe.addEventListener("abort",it)});ce.set(qe,tt)}(qe),((qe,tt)=>tt.some(Le=>qe instanceof Le))(qe,function _e(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(qe,nt):qe)}function st(qe){if(qe instanceof IDBRequest)return function Ne(qe){const tt=new Promise((Le,Ge)=>{const Xe=()=>{qe.removeEventListener("success",ot),qe.removeEventListener("error",it)},ot=()=>{Le(st(qe.result)),Xe()},it=()=>{Ge(qe.error),Xe()};qe.addEventListener("success",ot),qe.addEventListener("error",it)});return tt.then(Le=>{Le instanceof IDBCursor&&Ce.set(Le,qe)}).catch(()=>{}),ue.set(tt,qe),tt}(qe);if(ne.has(qe))return ne.get(qe);const tt=Qe(qe);return tt!==qe&&(ne.set(qe,tt),ue.set(tt,qe)),tt}const Ue=qe=>ue.get(qe);function ft(qe,tt,{blocked:Le,upgrade:Ge,blocking:Xe,terminated:ot}={}){const it=indexedDB.open(qe,tt),Rt=st(it);return Ge&&it.addEventListener("upgradeneeded",on=>{Ge(st(it.result),on.oldVersion,on.newVersion,st(it.transaction))}),Le&&it.addEventListener("blocked",()=>Le()),Rt.then(on=>{ot&&on.addEventListener("close",()=>ot()),Xe&&on.addEventListener("versionchange",()=>Xe())}).catch(()=>{}),Rt}function me(qe,{blocked:tt}={}){const Le=indexedDB.deleteDatabase(qe);return tt&&Le.addEventListener("blocked",()=>tt()),st(Le).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],Tt=new Map;function Y(qe,tt){if(!(qe instanceof IDBDatabase)||tt in qe||"string"!=typeof tt)return;if(Tt.get(tt))return Tt.get(tt);const Le=tt.replace(/FromIndex$/,""),Ge=tt!==Le,Xe=et.includes(Le);if(!(Le in(Ge?IDBIndex:IDBObjectStore).prototype)||!Xe&&!we.includes(Le))return;const ot=function(){var it=(0,g.Z)(function*(Rt,...on){const pt=this.transaction(Rt,Xe?"readwrite":"readonly");let vt=pt.store;return Ge&&(vt=vt.index(on.shift())),(yield Promise.all([vt[Le](...on),Xe&&pt.done]))[0]});return function(on){return it.apply(this,arguments)}}();return Tt.set(tt,ot),ot}!function dt(qe){nt=qe(nt)}(qe=>ob(sb({},qe),{get:(tt,Le,Ge)=>Y(tt,Le)||qe.get(tt,Le,Ge),has:(tt,Le)=>!!Y(tt,Le)||qe.has(tt,Le)}))},5351:(qt,Ze,x)=>{x.d(Ze,{Zf:()=>ct,fx:()=>st,U_:()=>Qe});var g=x(5e3),h=x(7691),W=x(9808),De=x(1777);const _e="400ms cubic-bezier(0.4,0.0,0.2,1)",Re=[(0,De.oB)({height:0,visibility:"hidden"}),(0,De.jt)(_e,(0,De.oB)({height:"*",visibility:"visible"}))],Ce=[(0,De.oB)({height:"*",visibility:"visible"}),(0,De.jt)(_e,(0,De.oB)({height:0,visibility:"hidden"}))];let ce=(()=>{class Ue{constructor(me,we,et){this._el=me,this._renderer=we,this.collapsed=new g.vpe,this.collapses=new g.vpe,this.expanded=new g.vpe,this.expands=new g.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=et.build(Ce),this._factoryExpandAnimation=et.build(Re)}set display(me){this._display=me,"none"!==me?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(me){this.collapseNewValue=me,(!this._player||this._isAnimationDone)&&(this.isExpanded=me,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(me,we){if(!me||!this._stylesLoaded)return Tt=>Tt();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const et=we===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.destroy(),this._player=et.create(this._el.nativeElement),this._player.play(),Tt=>{var Y;return null===(Y=this._player)||void 0===Y?void 0:Y.onDone(Tt)}}}return Ue.\u0275fac=function(me){return new(me||Ue)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(De._j))},Ue.\u0275dir=g.lG2({type:Ue,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(me,we){2&me&&(g.uIk("aria-hidden",we.isCollapsed),g.ekj("collapse",we.isCollapse)("in",we.isExpanded)("show",we.isExpanded)("collapsing",we.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),Ue})(),X=(()=>{class Ue{static forRoot(){return{ngModule:Ue,providers:[]}}}return Ue.\u0275fac=function(me){return new(me||Ue)},Ue.\u0275mod=g.oAB({type:Ue}),Ue.\u0275inj=g.cJS({}),Ue})();const ne=["*"],ue=function(Ue){return{"text-muted":Ue}};function Ne(Ue,ft){if(1&Ue&&(g.TgZ(0,"button",7),g._uU(1),g.qZA()),2&Ue){const me=g.oxw();g.Q6J("ngClass",g.VKq(2,ue,me.isDisabled)),g.xp6(1),g.hij(" ",me.heading," ")}}const ut=[[["","accordion-heading",""]],"*"],nt=["[accordion-heading]","*"];let dt=(()=>{class Ue{constructor(){this.closeOthers=!1,this.isAnimated=!1}}return Ue.\u0275fac=function(me){return new(me||Ue)},Ue.\u0275prov=g.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})(),ct=(()=>{class Ue{constructor(me){this.isAnimated=!1,this.closeOthers=!1,this.groups=[],Object.assign(this,me)}closeOtherPanels(me){!this.closeOthers||this.groups.forEach(we=>{we!==me&&(we.isOpen=!1)})}addGroup(me){me.isAnimated=this.isAnimated,this.groups.push(me)}removeGroup(me){const we=this.groups.indexOf(me);-1!==we&&this.groups.splice(we,1)}}return Ue.\u0275fac=function(me){return new(me||Ue)(g.Y36(dt))},Ue.\u0275cmp=g.Xpm({type:Ue,selectors:[["accordion"]],hostAttrs:["role","tablist",1,"panel-group",2,"display","block"],hostVars:1,hostBindings:function(me,we){2&me&&g.uIk("aria-multiselectable",we.closeOthers)},inputs:{isAnimated:"isAnimated",closeOthers:"closeOthers"},ngContentSelectors:ne,decls:1,vars:0,template:function(me,we){1&me&&(g.F$t(),g.Hsn(0))},encapsulation:2}),Ue})(),Qe=(()=>{class Ue{constructor(me){this.isAnimated=!1,this.panelClass="panel-default",this.isDisabled=!1,this.isOpenChange=new g.vpe,this._isOpen=!1,this.accordion=me}get isOpen(){return this._isOpen}set isOpen(me){me!==this.isOpen&&(me&&this.accordion.closeOtherPanels(this),this._isOpen=me,Promise.resolve(null).then(()=>{this.isOpenChange.emit(me)}))}get isBs3(){return(0,h.XA)()}ngOnInit(){this.accordion.addGroup(this)}ngOnDestroy(){this.accordion.removeGroup(this)}toggleOpen(){this.isDisabled||(this.isOpen=!this.isOpen)}}return Ue.\u0275fac=function(me){return new(me||Ue)(g.Y36(ct))},Ue.\u0275cmp=g.Xpm({type:Ue,selectors:[["accordion-group"],["accordion-panel"]],hostAttrs:[1,"panel",2,"display","block"],hostVars:2,hostBindings:function(me,we){2&me&&g.ekj("panel-open",we.isOpen)},inputs:{heading:"heading",panelClass:"panelClass",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},ngContentSelectors:nt,decls:9,vars:6,consts:[[1,"panel","card",3,"ngClass"],["role","tab",1,"panel-heading","card-header",3,"ngClass","click"],[1,"panel-title"],["role","button",1,"accordion-toggle"],["class","btn btn-link","type","button",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"panel-collapse","collapse",3,"collapse","isAnimated"],[1,"panel-body","card-block","card-body"],["type","button",1,"btn","btn-link",3,"ngClass"]],template:function(me,we){1&me&&(g.F$t(ut),g.TgZ(0,"div",0)(1,"div",1),g.NdJ("click",function(){return we.toggleOpen()}),g.TgZ(2,"div",2)(3,"div",3),g.YNc(4,Ne,2,4,"button",4),g.Hsn(5),g.qZA()()(),g.TgZ(6,"div",5)(7,"div",6),g.Hsn(8,1),g.qZA()()()),2&me&&(g.Q6J("ngClass",we.panelClass),g.xp6(1),g.Q6J("ngClass",we.isDisabled?"panel-disabled":"panel-enabled"),g.xp6(2),g.uIk("aria-expanded",we.isOpen),g.xp6(1),g.Q6J("ngIf",we.heading),g.xp6(2),g.Q6J("collapse",!we.isOpen)("isAnimated",we.isAnimated))},directives:[W.mk,W.O5,ce],styles:["[_nghost-%COMP%]   .card-header.panel-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .card-header.panel-disabled[_ngcontent-%COMP%]   .btn.btn-link[_ngcontent-%COMP%]{cursor:default;text-decoration:none}"]}),Ue})(),st=(()=>{class Ue{static forRoot(){return{ngModule:Ue,providers:[]}}}return Ue.\u0275fac=function(me){return new(me||Ue)},Ue.\u0275mod=g.oAB({type:Ue}),Ue.\u0275inj=g.cJS({imports:[[W.ez,X]]}),Ue})()},9062:(qt,Ze,x)=>{x.d(Ze,{oj:()=>Ce});var g=x(5e3),h=x(7691),W=x(5197);class _e{constructor(X,ne,ue){this.nodes=X,this.viewRef=ne,this.componentRef=ue}}class Re{constructor(X,ne,ue,Ne,ut,nt,dt,ct){this._viewContainerRef=X,this._renderer=ne,this._elementRef=ue,this._injector=Ne,this._componentFactoryResolver=ut,this._ngZone=nt,this._applicationRef=dt,this._posService=ct,this.onBeforeShow=new g.vpe,this.onShown=new g.vpe,this.onBeforeHide=new g.vpe,this.onHidden=new g.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(X){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(X),this}to(X){return this.container=X||this.container,this}position(X){return X?(this.attachment=X.attachment||this.attachment,this._elementRef=X.target||this._elementRef,this):this}provide(X){return this._providers.push(X),this}show(X={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(X.content,X.context,X.initialState);const ne=g.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(ne,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,X),this.container instanceof g.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const ue=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!ue)return;ue.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(X.id?{id:X.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(X){var ne,ue,Ne,ut,nt,dt;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const ct=this._componentRef.location.nativeElement;return null===(ne=ct.parentNode)||void 0===ne||ne.removeChild(ct),null===(Ne=null===(ue=this._contentRef)||void 0===ue?void 0:ue.componentRef)||void 0===Ne||Ne.destroy(),this._viewContainerRef&&(null===(ut=this._contentRef)||void 0===ut?void 0:ut.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(dt=null===(nt=this._contentRef)||void 0===nt?void 0:nt.viewRef)||void 0===dt||dt.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(X?{id:X}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(X){var ne;this.triggers=X.triggers||this.triggers,this._listenOpts.outsideClick=X.outsideClick,this._listenOpts.outsideEsc=X.outsideEsc,X.target=X.target||(null===(ne=this._elementRef)||void 0===ne?void 0:ne.nativeElement);const ue=this._listenOpts.hide=()=>X.hide?X.hide():void this.hide(),Ne=this._listenOpts.show=nt=>{X.show?X.show(nt):this.show(nt),nt()};return this._renderer&&(this._unregisterListenersFn=(0,h.wo)(this._renderer,{target:X.target,triggers:X.triggers,show:Ne,hide:ue,toggle:nt=>{this.isShown?ue():Ne(nt)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(X,ne){return X&&ne&&(this._inlineViewRef=X.createEmbeddedView(ne)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const X=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,h.Rg)(this._renderer,{targets:[X,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,h.C)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var X;this._posService.position({element:null===(X=this._componentRef)||void 0===X?void 0:X.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(X,ne,ue){if(!X)return new _e([]);if(X instanceof g.Rgc){if(this._viewContainerRef){const nt=this._viewContainerRef.createEmbeddedView(X,ne);return nt.markForCheck(),new _e([nt.rootNodes],nt)}const ut=X.createEmbeddedView({});return this._applicationRef.attachView(ut),new _e([ut.rootNodes],ut)}if("function"==typeof X){const ut=this._componentFactoryResolver.resolveComponentFactory(X),nt=g.zs3.create({providers:this._providers,parent:this._injector}),dt=ut.create(nt);return Object.assign(dt.instance,ue),this._applicationRef.attachView(dt.hostView),new _e([[dt.location.nativeElement]],dt.hostView,dt)}const Ne=this._renderer?[this._renderer.createText(`${X}`)]:[];return new _e([Ne])}}let Ce=(()=>{class ce{constructor(ne,ue,Ne,ut,nt){this._componentFactoryResolver=ne,this._ngZone=ue,this._injector=Ne,this._posService=ut,this._applicationRef=nt}createLoader(ne,ue,Ne){return new Re(ue,Ne,ne,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return ce.\u0275fac=function(ne){return new(ne||ce)(g.LFG(g._Vd),g.LFG(g.R0b),g.LFG(g.zs3),g.LFG(W.sA),g.LFG(g.z2F))},ce.\u0275prov=g.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},8274:(qt,Ze,x)=>{x.d(Ze,{Hz:()=>ct,Mq:()=>Qe,TO:()=>dt,mr:()=>st});var g=x(5e3),h=x(9300),W=x(7691),De=x(1777),_e=x(9808),Re=x(9062),Ce=x(5197);const ce=function(Ue){return{dropdown:Ue}},X=["*"],ue=[(0,De.oB)({height:0,overflow:"hidden"}),(0,De.jt)("220ms cubic-bezier(0, 0, 0.2, 1)",(0,De.oB)({height:"*",overflow:"hidden"}))];let Ne=(()=>{class Ue{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new g.vpe,this.isDisabledChange=new g.vpe,this.toggleClick=new g.vpe,this.counts=0,this.dropdownMenu=new Promise(me=>{this.resolveDropdownMenu=me})}}return Ue.\u0275fac=function(me){return new(me||Ue)},Ue.\u0275prov=g.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"platform"}),Ue})(),ut=(()=>{class Ue{constructor(me,we,et,Tt,Y){this._state=me,this.cd=we,this._renderer=et,this._element=Tt,this.isOpen=!1,this._factoryDropDownAnimation=Y.build(ue),this._subscription=me.isOpenChange.subscribe(qe=>{this.isOpen=qe;const tt=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),tt&&!(0,W.XA)()&&(this._renderer.addClass(tt,"show"),(tt.classList.contains("dropdown-menu-right")||tt.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(tt,"left","auto"),this._renderer.setStyle(tt,"right","0")),"up"===this.direction&&(this._renderer.setStyle(tt,"top","auto"),this._renderer.setStyle(tt,"transform","translateY(-101%)"))),tt&&this._state.isAnimated&&this._factoryDropDownAnimation.create(tt).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(me){return this._element.nativeElement.contains(me)}ngOnDestroy(){this._subscription.unsubscribe()}}return Ue.\u0275fac=function(me){return new(me||Ue)(g.Y36(Ne),g.Y36(g.sBO),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(De._j))},Ue.\u0275cmp=g.Xpm({type:Ue,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:X,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(me,we){1&me&&(g.F$t(),g.TgZ(0,"div",0),g.Hsn(1),g.qZA()),2&me&&(g.ekj("dropup","up"===we.direction)("show",we.isOpen)("open",we.isOpen),g.Q6J("ngClass",g.VKq(7,ce,"down"===we.direction)))},directives:[_e.mk],encapsulation:2,changeDetection:0}),Ue})(),nt=(()=>{class Ue{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return Ue.\u0275fac=function(me){return new(me||Ue)},Ue.\u0275prov=g.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})(),dt=(()=>{class Ue{constructor(me,we,et,Tt,Y,qe,tt){this._elementRef=me,this._renderer=we,this._viewContainerRef=et,this._cis=Tt,this._state=Y,this._config=qe,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=tt.build(ue),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:Ne,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(me){this._state.autoClose=me}get autoClose(){return this._state.autoClose}set isAnimated(me){this._state.isAnimated=me}get isAnimated(){return this._state.isAnimated}set insideClick(me){this._state.insideClick=me}get insideClick(){return this._state.insideClick}set isDisabled(me){this._isDisabled=me,this._state.isDisabledChange.emit(me),me&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(me){me?this.show():this.hide()}get isBs4(){return!(0,W.XA)()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(me=>this.toggle(me))),this._subscriptions.push(this._state.isDisabledChange.pipe((0,h.h)(me=>me)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(me=>{this._dropdown.attachInline(me.viewContainer,me.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(me=>{const we=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=we?"up":"down";const et=this.placement||(we?"top start":"bottom start");this._dropdown.attach(ut).to(this.container).position({attachment:et}).show({content:me.templateRef,placement:et}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(me){return this.isOpen||!me?this.hide():this.show()}_contains(me){return this._elementRef.nativeElement.contains(me.target)||this._dropdown.instance&&this._dropdown.instance._contains(me.target)}navigationClick(me){const we=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!we)return;const et=this._elementRef.nativeElement.ownerDocument.activeElement,Tt=we.querySelectorAll(".dropdown-item");switch(me.keyCode){case 38:this._state.counts>0&&Tt[--this._state.counts].focus();break;case 40:this._state.counts+1<Tt.length&&(et.classList!==Tt[this._state.counts].classList?Tt[this._state.counts].focus():Tt[++this._state.counts].focus())}me.preventDefault()}ngOnDestroy(){for(const me of this._subscriptions)me.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){(0,W.XA)()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const me=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",me?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",me?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return Ue.\u0275fac=function(me){return new(me||Ue)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.s_b),g.Y36(Re.oj),g.Y36(Ne),g.Y36(nt),g.Y36(De._j))},Ue.\u0275dir=g.lG2({type:Ue,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(me,we){1&me&&g.NdJ("keydown.arrowDown",function(Tt){return we.navigationClick(Tt)})("keydown.arrowUp",function(Tt){return we.navigationClick(Tt)}),2&me&&g.ekj("dropup",we.dropup)("open",we.isOpen)("show",we.isOpen&&we.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[g._Bn([Ne])]}),Ue})(),ct=(()=>{class Ue{constructor(me,we,et){me.resolveDropdownMenu({templateRef:et,viewContainer:we})}}return Ue.\u0275fac=function(me){return new(me||Ue)(g.Y36(Ne),g.Y36(g.s_b),g.Y36(g.Rgc))},Ue.\u0275dir=g.lG2({type:Ue,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),Ue})(),Qe=(()=>{class Ue{constructor(me,we,et,Tt,Y){this._changeDetectorRef=me,this._dropdown=we,this._element=et,this._renderer=Tt,this._state=Y,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(qe=>{this.isOpen=qe,qe?(this._documentClickListener=this._renderer.listen("document","click",tt=>{this._state.autoClose&&2!==tt.button&&!this._element.nativeElement.contains(tt.target)&&(!this._state.insideClick||!this._dropdown._contains(tt))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(qe=>this.isDisabled=qe||void 0))}onClick(me){this._state.stopOnClickPropagation&&me.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const me of this._subscriptions)me.unsubscribe()}}return Ue.\u0275fac=function(me){return new(me||Ue)(g.Y36(g.sBO),g.Y36(dt),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Ne))},Ue.\u0275dir=g.lG2({type:Ue,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(me,we){1&me&&g.NdJ("click",function(Tt){return we.onClick(Tt)}),2&me&&g.uIk("aria-haspopup",!0)("disabled",we.isDisabled)("aria-expanded",we.isOpen)},exportAs:["bs-dropdown-toggle"]}),Ue})(),st=(()=>{class Ue{static forRoot(){return{ngModule:Ue,providers:[Re.oj,Ce.sA,Ne]}}}return Ue.\u0275fac=function(me){return new(me||Ue)},Ue.\u0275mod=g.oAB({type:Ue}),Ue.\u0275inj=g.cJS({imports:[[_e.ez]]}),Ue})()},5197:(qt,Ze,x)=>{x.d(Ze,{Bz:()=>Xe,sA:()=>bn});var g=x(7691),h=x(5e3),W=x(9808),De=x(8421),_e=x(8306),Re=x(5577),Ce=x(1144),ce=x(576),X=x(3268);const ne=["addListener","removeListener"],ue=["addEventListener","removeEventListener"],Ne=["on","off"];function ut(z,he,be,Fe){if((0,ce.m)(be)&&(Fe=be,be=void 0),Fe)return ut(z,he,be).pipe((0,X.Z)(Fe));const[gt,St]=function Qe(z){return(0,ce.m)(z.addEventListener)&&(0,ce.m)(z.removeEventListener)}(z)?ue.map(de=>fe=>z[de](he,fe,be)):function dt(z){return(0,ce.m)(z.addListener)&&(0,ce.m)(z.removeListener)}(z)?ne.map(nt(z,he)):function ct(z){return(0,ce.m)(z.on)&&(0,ce.m)(z.off)}(z)?Ne.map(nt(z,he)):[];if(!gt&&(0,Ce.z)(z))return(0,Re.z)(de=>ut(de,he,be))((0,De.Xf)(z));if(!gt)throw new TypeError("Invalid event target");return new _e.y(de=>{const fe=(...Me)=>de.next(1<Me.length?Me:Me[0]);return gt(fe),()=>St(fe)})}function nt(z,he){return be=>Fe=>z[be](he,Fe)}var st=x(4408),Ue=x(727);const ft={schedule(z){let he=requestAnimationFrame,be=cancelAnimationFrame;const{delegate:Fe}=ft;Fe&&(he=Fe.requestAnimationFrame,be=Fe.cancelAnimationFrame);const gt=he(St=>{be=void 0,z(St)});return new Ue.w0(()=>null==be?void 0:be(gt))},requestAnimationFrame(...z){const{delegate:he}=ft;return((null==he?void 0:he.requestAnimationFrame)||requestAnimationFrame)(...z)},cancelAnimationFrame(...z){const{delegate:he}=ft;return((null==he?void 0:he.cancelAnimationFrame)||cancelAnimationFrame)(...z)},delegate:void 0};var we=x(7565);const Tt=new class et extends we.v{flush(he){this._active=!0;const be=this._scheduled;this._scheduled=void 0;const{actions:Fe}=this;let gt;he=he||Fe.shift();do{if(gt=he.execute(he.state,he.delay))break}while((he=Fe[0])&&he.id===be&&Fe.shift());if(this._active=!1,gt){for(;(he=Fe[0])&&he.id===be&&Fe.shift();)he.unsubscribe();throw gt}}}(class me extends st.o{constructor(he,be){super(he,be),this.scheduler=he,this.work=be}requestAsyncId(he,be,Fe=0){return null!==Fe&&Fe>0?super.requestAsyncId(he,be,Fe):(he.actions.push(this),he._scheduled||(he._scheduled=ft.requestAnimationFrame(()=>he.flush(void 0))))}recycleAsyncId(he,be,Fe=0){var gt;if(null!=Fe?Fe>0:this.delay>0)return super.recycleAsyncId(he,be,Fe);const{actions:St}=he;null!=be&&(null===(gt=St[St.length-1])||void 0===gt?void 0:gt.id)!==be&&(ft.cancelAnimationFrame(be),he._scheduled=void 0)}});var qe=x(7579),tt=x(6451),Le=x(9646),Ge=(()=>{return(z=Ge||(Ge={})).top="top",z.bottom="bottom",z.left="left",z.right="right",z.auto="auto",z.end="right",z.start="left",z["top left"]="top left",z["top right"]="top right",z["right top"]="right top",z["right bottom"]="right bottom",z["bottom right"]="bottom right",z["bottom left"]="bottom left",z["left bottom"]="left bottom",z["left top"]="left top",z["top start"]="top left",z["top end"]="top right",z["end top"]="right top",z["end bottom"]="right bottom",z["bottom end"]="bottom right",z["bottom start"]="bottom left",z["start bottom"]="start bottom",z["start top"]="left top",Ge;var z})(),Xe=(()=>{return(z=Xe||(Xe={})).top="top",z.bottom="bottom",z.left="start",z.right="end",z.auto="auto",z.end="end",z.start="start",z["top left"]="top start",z["top right"]="top end",z["right top"]="end top",z["right bottom"]="end bottom",z["bottom right"]="bottom end",z["bottom left"]="bottom start",z["left bottom"]="start bottom",z["left top"]="start top",z["top start"]="top start",z["top end"]="top end",z["end top"]="end top",z["end bottom"]="end bottom",z["bottom end"]="bottom end",z["bottom start"]="bottom start",z["start bottom"]="start bottom",z["start top"]="start top",Xe;var z})();function ot(z,he){if(1!==z.nodeType)return[];const be=z.ownerDocument.defaultView,Fe=null==be?void 0:be.getComputedStyle(z,null);return he?Fe&&Fe[he]:Fe}function it(z){if(!z)return document.documentElement;let Fe,be=null==z?void 0:z.offsetParent;for(;null===be&&z.nextElementSibling&&Fe!==z.nextElementSibling;)Fe=z.nextElementSibling,be=Fe.offsetParent;const gt=be&&be.nodeName;return gt&&"BODY"!==gt&&"HTML"!==gt?be&&-1!==["TH","TD","TABLE"].indexOf(be.nodeName)&&"static"===ot(be,"position")?it(be):be:Fe?Fe.ownerDocument.documentElement:document.documentElement}function on(z){return null!==z.parentNode?on(z.parentNode):z}function pt(z,he){if(!(z&&z.nodeType&&he&&he.nodeType))return document.documentElement;const be=z.compareDocumentPosition(he)&Node.DOCUMENT_POSITION_FOLLOWING,Fe=be?z:he,gt=be?he:z,St=document.createRange();St.setStart(Fe,0),St.setEnd(gt,0);const de=St.commonAncestorContainer;if(z!==de&&he!==de||Fe.contains(gt))return function Rt(z){const{nodeName:he}=z;return"BODY"!==he&&("HTML"===he||it(z.firstElementChild)===z)}(de)?de:it(de);const fe=on(z);return fe.host?pt(fe.host,he):pt(z,on(he).host)}function vt(z){if(!z||!z.parentElement)return document.documentElement;let he=z.parentElement;for(;(null==he?void 0:he.parentElement)&&"none"===ot(he,"transform");)he=he.parentElement;return he||document.documentElement}function q(z,he){const be="x"===he?"Left":"Top",Fe="Left"===be?"Right":"Bottom";return parseFloat(z[`border${be}Width`])+parseFloat(z[`border${Fe}Width`])}function Se(z,he,be,Fe){return Math.max(he[`offset${z}`],he[`scroll${z}`],be[`client${z}`],be[`offset${z}`],be[`scroll${z}`],0)}function Ke(z){const he=z.body,be=z.documentElement;return{height:Se("Height",he,be),width:Se("Width",he,be)}}function Mt(z){return Object.assign(Object.assign({},z),{right:(z.left||0)+z.width,bottom:(z.top||0)+z.height})}function Xt(z){return"number"==typeof z||"[object Number]"===Object.prototype.toString.call(z)}function hn(z){const he=z.getBoundingClientRect();if(!(he&&Xt(he.top)&&Xt(he.left)&&Xt(he.bottom)&&Xt(he.right)))return he;const be={left:he.left,top:he.top,width:he.right-he.left,height:he.bottom-he.top},Fe="HTML"===z.nodeName?Ke(z.ownerDocument):void 0,gt=(null==Fe?void 0:Fe.width)||z.clientWidth||Xt(he.right)&&Xt(be.left)&&he.right-be.left||0,St=(null==Fe?void 0:Fe.height)||z.clientHeight||Xt(he.bottom)&&Xt(be.top)&&he.bottom-be.top||0;let de=z.offsetWidth-gt,fe=z.offsetHeight-St;if(de||fe){const Me=ot(z);de-=q(Me,"x"),fe-=q(Me,"y"),be.width-=de,be.height-=fe}return Mt(be)}function Sn(z){return"HTML"===z.nodeName?z:z.parentNode||z.host}function Wn(z){if(!z)return document.body;switch(z.nodeName){case"HTML":case"BODY":return z.ownerDocument.body;case"#document":return z.body}const{overflow:he,overflowX:be,overflowY:Fe}=ot(z);return/(auto|scroll|overlay)/.test(String(he)+String(Fe)+String(be))?z:Wn(Sn(z))}function ui(z,he,be=!1){var Fe,gt,St,de,fe,Me;const ve="HTML"===he.nodeName,ee=hn(z),$=hn(he),re=(Wn(z),ot(he)),Ae=parseFloat(re.borderTopWidth),Ye=parseFloat(re.borderLeftWidth);be&&ve&&($.top=Math.max(null!==(Fe=$.top)&&void 0!==Fe?Fe:0,0),$.left=Math.max(null!==(gt=$.left)&&void 0!==gt?gt:0,0));const Pt=Mt({top:(null!==(St=ee.top)&&void 0!==St?St:0)-(null!==(de=$.top)&&void 0!==de?de:0)-Ae,left:(null!==(fe=ee.left)&&void 0!==fe?fe:0)-(null!==(Me=$.left)&&void 0!==Me?Me:0)-Ye,width:ee.width,height:ee.height});if(Pt.marginTop=0,Pt.marginLeft=0,ve){const Nt=parseFloat(re.marginTop),yn=parseFloat(re.marginLeft);Xt(Pt.top)&&(Pt.top-=Ae-Nt),Xt(Pt.bottom)&&(Pt.bottom-=Ae-Nt),Xt(Pt.left)&&(Pt.left-=Ye-yn),Xt(Pt.right)&&(Pt.right-=Ye-yn),Pt.marginTop=Nt,Pt.marginLeft=yn}return Pt}function qn(z,he="top"){const be="top"===he?"scrollTop":"scrollLeft",Fe=z.nodeName;if("BODY"===Fe||"HTML"===Fe){const gt=z.ownerDocument.documentElement;return(z.ownerDocument.scrollingElement||gt)[be]}return z[be]}function ei(z){const he=z.nodeName;return"BODY"!==he&&"HTML"!==he&&("fixed"===ot(z,"position")||ei(Sn(z)))}function Li(z,he,be=0,Fe,gt=!1){let St={top:0,left:0};const de=gt?vt(z):pt(z,he);if("viewport"===Fe)St=function Si(z,he=!1){const be=z.ownerDocument.documentElement,Fe=ui(z,be),gt=Math.max(be.clientWidth,window.innerWidth||0),St=Math.max(be.clientHeight,window.innerHeight||0),de=he?0:qn(be),fe=he?0:qn(be,"left");return Mt({top:de-Number(null==Fe?void 0:Fe.top)+Number(null==Fe?void 0:Fe.marginTop),left:fe-Number(null==Fe?void 0:Fe.left)+Number(null==Fe?void 0:Fe.marginLeft),width:gt,height:St})}(de,gt);else{let fe;"scrollParent"===Fe?(fe=Wn(Sn(he)),"BODY"===fe.nodeName&&(fe=z.ownerDocument.documentElement)):fe="window"===Fe?z.ownerDocument.documentElement:Fe;const Me=ui(fe,de,gt);if(Me&&"HTML"===fe.nodeName&&!ei(de)){const{height:ve,width:ee}=Ke(z.ownerDocument);Xt(St.top)&&Xt(Me.top)&&Xt(Me.marginTop)&&(St.top+=Me.top-Me.marginTop),Xt(St.top)&&(St.bottom=Number(ve)+Number(Me.top)),Xt(St.left)&&Xt(Me.left)&&Xt(Me.marginLeft)&&(St.left+=Me.left-Me.marginLeft),Xt(St.top)&&(St.right=Number(ee)+Number(Me.left))}else Me&&(St=Me)}return Xt(St.left)&&(St.left+=be),Xt(St.top)&&(St.top+=be),Xt(St.right)&&(St.right-=be),Xt(St.bottom)&&(St.bottom-=be),St}function Yn({width:z,height:he}){return z*he}function Ui(z,he,be,Fe,gt=["top","bottom","right","left"],St="viewport",de=0){var fe,Me,ve,ee,$,te,re,Ae,Ye,Pt,Nt,yn;if(-1===z.indexOf("auto"))return z;const fn=Li(be,Fe,de,St),En={top:{width:null!==(fe=null==fn?void 0:fn.width)&&void 0!==fe?fe:0,height:(null!==(Me=null==he?void 0:he.top)&&void 0!==Me?Me:0)-(null!==(ve=null==fn?void 0:fn.top)&&void 0!==ve?ve:0)},right:{width:(null!==(ee=null==fn?void 0:fn.right)&&void 0!==ee?ee:0)-(null!==($=null==he?void 0:he.right)&&void 0!==$?$:0),height:null!==(te=null==fn?void 0:fn.height)&&void 0!==te?te:0},bottom:{width:null!==(re=null==fn?void 0:fn.width)&&void 0!==re?re:0,height:(null!==(Ae=null==fn?void 0:fn.bottom)&&void 0!==Ae?Ae:0)-(null!==(Ye=null==he?void 0:he.bottom)&&void 0!==Ye?Ye:0)},left:{width:(null!==(Pt=he.left)&&void 0!==Pt?Pt:0)-(null!==(Nt=null==fn?void 0:fn.left)&&void 0!==Nt?Nt:0),height:null!==(yn=null==fn?void 0:fn.height)&&void 0!==yn?yn:0}},yi=Object.keys(En).map(Ii=>Object.assign(Object.assign({position:Ii},En[Ii]),{area:Yn(En[Ii])})).sort((Ii,zt)=>zt.area-Ii.area);let Ei=yi.filter(({width:Ii,height:zt})=>Ii>=be.clientWidth&&zt>=be.clientHeight);Ei=Ei.filter(({position:Ii})=>gt.some(zt=>zt===Ii));const Di=Ei.length>0?Ei[0].position:yi[0].position,Sr=z.split(" ")[1];return be.className=be.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,g.Wl)().isBs5?Xe[Di]:Di}`),Di+(Sr?`-${Sr}`:"")}const Jt=(z,he=0)=>z?parseFloat(z):he;function Ri(z){const he=z.ownerDocument.defaultView,be=null==he?void 0:he.getComputedStyle(z),Fe=Jt(null==be?void 0:be.marginTop)+Jt(null==be?void 0:be.marginBottom),gt=Jt(null==be?void 0:be.marginLeft)+Jt(null==be?void 0:be.marginRight);return{width:Number(z.offsetWidth)+gt,height:Number(z.offsetHeight)+Fe}}function ci(z,he,be){return ui(he,be?vt(z):pt(z,he),be)}function It(z,he,be){var Fe,gt,St;const de=be.split(" ")[0],fe=Ri(z),Me={width:fe.width,height:fe.height},ve=-1!==["right","left"].indexOf(de),ee=ve?"top":"left",$=ve?"left":"top",te=ve?"height":"width",re=ve?"width":"height";return Me[ee]=(null!==(Fe=he[ee])&&void 0!==Fe?Fe:0)+he[te]/2-fe[te]/2,Me[$]=de===$?(null!==(gt=he[$])&&void 0!==gt?gt:0)-fe[re]:null!==(St=he[function Pi(z){const he={left:"right",right:"left",bottom:"top",top:"bottom"};return z.replace(/left|right|bottom|top/g,be=>he[be])}($)])&&void 0!==St?St:0,Me}function ke(z,he){var be;return!!(null===(be=z.modifiers[he])||void 0===be?void 0:be.enabled)}const $e={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Lt(z,he){return!!(0,g.Wl)().isBs5&&$e[he].includes(z)}function Gt(z,he,be){!z||!he||Object.keys(he).forEach(Fe=>{let gt="";-1!==["width","height","top","right","bottom","left"].indexOf(Fe)&&function $t(z){return""!==z&&!isNaN(parseFloat(z))&&isFinite(Number(z))}(he[Fe])&&(gt="px"),be?be.setStyle(z,Fe,`${String(he[Fe])}${gt}`):z.style[Fe]=String(he[Fe])+gt})}function Pe(z){var he,be,Fe,gt,St,de;let fe=z.offsets.target;const Me=z.instance.target.querySelector(".arrow");if(!Me)return z;const ve=-1!==["left","right"].indexOf(z.placement.split(" ")[0]),ee=ve?"height":"width",$=ve?"Top":"Left",te=$.toLowerCase(),re=ve?"left":"top",Ae=ve?"bottom":"right",Ye=Ri(Me)[ee],Pt=z.placement.split(" ")[1];(null!==(he=z.offsets.host[Ae])&&void 0!==he?he:0)-Ye<(null!==(be=fe[te])&&void 0!==be?be:0)&&(fe[te]-=(null!==(Fe=fe[te])&&void 0!==Fe?Fe:0)-((null!==(gt=z.offsets.host[Ae])&&void 0!==gt?gt:0)-Ye)),Number(z.offsets.host[te])+Number(Ye)>(null!==(St=fe[Ae])&&void 0!==St?St:0)&&(fe[te]+=Number(z.offsets.host[te])+Number(Ye)-Number(fe[Ae])),fe=Mt(fe);const Nt=ot(z.instance.target),yn=parseFloat(Nt[`margin${$}`])||0,fn=parseFloat(Nt[`border${$}Width`])||0;let En;if(Pt){const Ei=parseFloat(Nt.borderRadius)||0,Di=Number(yn+fn+Ei);En=te===Pt?Number(z.offsets.host[te])+Di:Number(z.offsets.host[te])+Number(z.offsets.host[ee]-Di)}else En=Number(z.offsets.host[te])+Number(z.offsets.host[ee]/2-Ye/2);let yi=En-(null!==(de=fe[te])&&void 0!==de?de:0)-yn-fn;return yi=Math.max(Math.min(fe[ee]-(Ye+5),yi),0),z.offsets.arrow={[te]:Math.round(yi),[re]:""},z.instance.arrow=Me,z}function xe(z){if(z.offsets.target=Mt(z.offsets.target),!ke(z.options,"flip"))return z.offsets.target=Object.assign(Object.assign({},z.offsets.target),It(z.instance.target,z.offsets.host,z.placement)),z;const he=Li(z.instance.target,z.instance.host,0,"viewport",!1);let be=z.placement.split(" ")[0],Fe=z.placement.split(" ")[1]||"";const fe=Ui("auto",z.offsets.host,z.instance.target,z.instance.host,z.options.allowedPositions),Me=[be,fe];return Me.forEach((ve,ee)=>{var $,te,re,Ae,Ye,Pt,Nt,yn,fn,En,yi,Ei,Di,Sr,Ii,zt;if(be!==ve||Me.length===ee+1)return;be=z.placement.split(" ")[0];const Hn="left"===be&&Math.floor(null!==($=z.offsets.target.right)&&void 0!==$?$:0)>Math.floor(null!==(te=z.offsets.host.left)&&void 0!==te?te:0)||"right"===be&&Math.floor(null!==(re=z.offsets.target.left)&&void 0!==re?re:0)<Math.floor(null!==(Ae=z.offsets.host.right)&&void 0!==Ae?Ae:0)||"top"===be&&Math.floor(null!==(Ye=z.offsets.target.bottom)&&void 0!==Ye?Ye:0)>Math.floor(null!==(Pt=z.offsets.host.top)&&void 0!==Pt?Pt:0)||"bottom"===be&&Math.floor(null!==(Nt=z.offsets.target.top)&&void 0!==Nt?Nt:0)<Math.floor(null!==(yn=z.offsets.host.bottom)&&void 0!==yn?yn:0),di=Math.floor(null!==(fn=z.offsets.target.left)&&void 0!==fn?fn:0)<Math.floor(null!==(En=he.left)&&void 0!==En?En:0),ji=Math.floor(null!==(yi=z.offsets.target.right)&&void 0!==yi?yi:0)>Math.floor(null!==(Ei=he.right)&&void 0!==Ei?Ei:0),xr=Math.floor(null!==(Di=z.offsets.target.top)&&void 0!==Di?Di:0)<Math.floor(null!==(Sr=he.top)&&void 0!==Sr?Sr:0),$i=Math.floor(null!==(Ii=z.offsets.target.bottom)&&void 0!==Ii?Ii:0)>Math.floor(null!==(zt=he.bottom)&&void 0!==zt?zt:0),nr="left"===be&&di||"right"===be&&ji||"top"===be&&xr||"bottom"===be&&$i,ni=-1!==["top","bottom"].indexOf(be),yr=ni&&"left"===Fe&&di||ni&&"right"===Fe&&ji||!ni&&"left"===Fe&&xr||!ni&&"right"===Fe&&$i;(Hn||nr||yr)&&((Hn||nr)&&(be=Me[ee+1]),yr&&(Fe=function Qn(z){return"right"===z?"left":"left"===z?"right":z}(Fe)),z.placement=be+(Fe?` ${Fe}`:""),z.offsets.target=Object.assign(Object.assign({},z.offsets.target),It(z.instance.target,z.offsets.host,z.placement)))}),z}function We(z){var he;if(!ke(z.options,"preventOverflow"))return z;const be="transform",Fe=z.instance.target.style,{top:gt,left:St,[be]:de}=Fe;Fe.top="",Fe.left="",Fe[be]="";const fe=Li(z.instance.target,z.instance.host,0,(null===(he=z.options.modifiers.preventOverflow)||void 0===he?void 0:he.boundariesElement)||"scrollParent",!1);Fe.top=gt,Fe.left=St,Fe[be]=de;const ve={primary(ee){var $,te,re,Ae;let Ye=z.offsets.target[ee];return(null!==($=z.offsets.target[ee])&&void 0!==$?$:0)<(null!==(te=fe[ee])&&void 0!==te?te:0)&&(Ye=Math.max(null!==(re=z.offsets.target[ee])&&void 0!==re?re:0,null!==(Ae=fe[ee])&&void 0!==Ae?Ae:0)),{[ee]:Ye}},secondary(ee){var $,te,re,Ae;const Ye="right"===ee,Pt=Ye?"left":"top";let yn=z.offsets.target[Pt];return(null!==($=z.offsets.target[ee])&&void 0!==$?$:0)>(null!==(te=fe[ee])&&void 0!==te?te:0)&&(yn=Math.min(null!==(re=z.offsets.target[Pt])&&void 0!==re?re:0,(null!==(Ae=fe[ee])&&void 0!==Ae?Ae:0)-z.offsets.target[Ye?"width":"height"])),{[Pt]:yn}}};return["left","right","top","bottom"].forEach(ee=>{const $=-1!==["left","top","start"].indexOf(ee)?ve.primary:ve.secondary;z.offsets.target=Object.assign(Object.assign({},z.offsets.target),$(ee))}),z}function _t(z){var he;const be=z.placement,Fe=be.split(" ")[0],gt=be.split(" ")[1];if(gt){const{host:St,target:de}=z.offsets,fe=-1!==["bottom","top"].indexOf(Fe),Me=fe?"left":"top",ve=fe?"width":"height",ee={start:{[Me]:St[Me]},end:{[Me]:(null!==(he=St[Me])&&void 0!==he?he:0)+St[ve]-de[ve]}};z.offsets.target=Object.assign(Object.assign({},de),{[Me]:Me===gt?ee.start[Me]:ee.end[Me]})}return z}const Et=new class Dt{position(he,be){return this.offset(he,be)}offset(he,be){return ci(be,he)}positionElements(he,be,Fe,gt,St){const de=[xe,_t,We,Pe],Me=function Ee(z,he,be,Fe){if(!z||!he)return;const gt=ci(z,he);!be.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!be.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(be="auto");const St=!!be.match(/auto/g);let de=be.match(/auto\s(left|right|top|bottom|start|end)/)?be.split(" ")[1]||"auto":be;const fe=de.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return fe&&(de=fe[1]+(fe[2]?` ${fe[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(de)&&(de="auto"),de=Ui(de,gt,z,he,Fe?Fe.allowedPositions:void 0),{options:Fe||{modifiers:{}},instance:{target:z,host:he,arrow:void 0},offsets:{target:It(z,gt,de),host:gt,arrow:void 0},positionFixed:!1,placement:de,placementAuto:St}}(be,he,Ge[Fe],St);if(Me)return de.reduce((ve,ee)=>ee(ve),Me)}};function mn(z,he,be,Fe,gt,St){const de=Et.positionElements(z,he,be,Fe,gt);if(!de)return;const fe=function un(z){var he,be,Fe,gt;return{width:z.offsets.target.width,height:z.offsets.target.height,left:Math.floor(null!==(he=z.offsets.target.left)&&void 0!==he?he:0),top:Math.round(null!==(be=z.offsets.target.top)&&void 0!==be?be:0),bottom:Math.round(null!==(Fe=z.offsets.target.bottom)&&void 0!==Fe?Fe:0),right:Math.floor(null!==(gt=z.offsets.target.right)&&void 0!==gt?gt:0)}}(de);Gt(he,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${fe.left}px, ${fe.top}px, 0px)`},St),de.instance.arrow&&Gt(de.instance.arrow,de.offsets.arrow,St),function Ft(z,he){const be=z.instance.target;let Fe=be.className;const gt=(0,g.Wl)().isBs5?Xe[z.placement]:z.placement;z.placementAuto&&(Fe=Fe.replace(/bs-popover-auto/g,`bs-popover-${gt}`),Fe=Fe.replace(/ms-2|me-2|mb-2|mt-2/g,""),Fe=Fe.replace(/bs-tooltip-auto/g,`bs-tooltip-${gt}`),Fe=Fe.replace(/\sauto/g,` ${gt}`),-1!==Fe.indexOf("popover")&&(Fe=Fe+" "+function wt(z){return(0,g.Wl)().isBs5?Lt(z,"end")?"ms-2":Lt(z,"start")?"me-2":Lt(z,"top")?"mb-2":Lt(z,"bottom")?"mt-2":"":""}(gt)),-1!==Fe.indexOf("popover")&&-1===Fe.indexOf("popover-auto")&&(Fe+=" popover-auto"),-1!==Fe.indexOf("tooltip")&&-1===Fe.indexOf("tooltip-auto")&&(Fe+=" tooltip-auto")),Fe=Fe.replace(/left|right|top|bottom|end|start/g,`${gt.split(" ")[0]}`),he?he.setAttribute(be,"class",Fe):be.className=Fe}(de,St)}let bn=(()=>{class z{constructor(be,Fe,gt){this.update$$=new qe.x,this.positionElements=new Map,this.isDisabled=!1,(0,W.NF)(gt)&&be.runOutsideAngular(()=>{this.triggerEvent$=(0,tt.T)(ut(window,"scroll",{passive:!0}),ut(window,"resize",{passive:!0}),(0,Le.of)(0,Tt),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(St=>{mn(ln(St.target),ln(St.element),St.attachment,St.appendToBody,this.options,Fe.createRenderer(null,null))})})})}position(be){this.addPositionElement(be)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(be){this.positionElements.set(ln(be.element),be)}calcPosition(){this.update$$.next(null)}deletePositionElement(be){this.positionElements.delete(ln(be))}setOptions(be){this.options=be}}return z.\u0275fac=function(be){return new(be||z)(h.LFG(h.R0b),h.LFG(h.FYo),h.LFG(h.Lbi))},z.\u0275prov=h.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();function ln(z){return"string"==typeof z?document.querySelector(z):z instanceof h.SBq?z.nativeElement:null!=z?z:null}},7691:(qt,Ze,x)=>{x.d(Ze,{AL:()=>De,C:()=>ce,Dc:()=>Tt,GU:()=>ot,O4:()=>pt,Rg:()=>Ce,Wl:()=>Le,XA:()=>Y,wo:()=>Re});var g=x(5e3);class h{constructor(q,Se){this.open=q,this.close=Se||q}isManual(){return"manual"===this.open||"manual"===this.close}}const W={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function De(vt,q=W){const Se=(vt||"").trim();if(0===Se.length)return[];const Ke=Se.split(/\s+/).map($t=>$t.split(":")).map($t=>{const Xt=q[$t[0]]||$t;return new h(Xt[0],Xt[1])}),Mt=Ke.filter($t=>$t.isManual());if(Mt.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Mt.length&&Ke.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return Ke}function Re(vt,q){const Se=De(q.triggers),Ke=q.target;if(1===Se.length&&Se[0].isManual())return Function.prototype;const Mt=[],$t=[],Xt=()=>{$t.forEach(hn=>Mt.push(hn())),$t.length=0};return Se.forEach(hn=>{const Sn=hn.open===hn.close,Wn=Sn?q.toggle:q.show;if(!Sn&&hn.close&&q.hide){const ui=vt.listen(Ke,hn.close,q.hide);$t.push(()=>ui)}Wn&&Mt.push(vt.listen(Ke,hn.open,()=>Wn(Xt)))}),()=>{Mt.forEach(hn=>hn())}}function Ce(vt,q){return q.outsideClick?vt.listen("document","click",Se=>{q.target&&q.target.contains(Se.target)||q.targets&&q.targets.some(Ke=>Ke.contains(Se.target))||q.hide&&q.hide()}):Function.prototype}function ce(vt,q){return q.outsideEsc?vt.listen("document","keyup.esc",Se=>{q.target&&q.target.contains(Se.target)||q.targets&&q.targets.some(Ke=>Ke.contains(Se.target))||q.hide&&q.hide()}):Function.prototype}const X="undefined"!=typeof window&&window||{};let we;function et(){if(void 0===X.document)return"bs4";const vt=X.document.createElement("span");vt.innerText="testing bs version",vt.classList.add("d-none"),vt.classList.add("pl-1"),X.document.head.appendChild(vt);const q=vt.getBoundingClientRect(),Se=X.getComputedStyle(vt).paddingLeft;return!q||q&&0!==q.top?(X.document.head.removeChild(vt),"bs3"):Se&&parseFloat(Se)?(X.document.head.removeChild(vt),"bs4"):(X.document.head.removeChild(vt),"bs5")}function Tt(vt){we=vt}function Y(){return void 0===X||(void 0===X.__theme?(we||(we=et()),"bs3"===we):"bs3"===X.__theme)}function qe(){return!Y()&&(we||(we=et()),"bs4"===we)}function Le(){return{isBs3:Y(),isBs4:qe(),isBs5:!Y()&&!qe()&&(we||(we=et()),"bs5"===we)}}function ot(){return function(Se,Ke){const Mt=` __${Ke}Value`;Object.defineProperty(Se,Ke,{get(){return this[Mt]},set($t){const Xt=this[Mt];this[Mt]=$t,Xt!==$t&&this[Ke+"Change"]&&this[Ke+"Change"].emit($t)}})}}const Rt={},on="undefined"==typeof console||!("warn"in console);function pt(vt){!(0,g.X6Q)()||on||vt in Rt||(Rt[vt]=!0,console.warn(vt))}},5861:(qt,Ze,x)=>{function g(W,De,_e,Re,Ce,ce,X){try{var ne=W[ce](X),ue=ne.value}catch(Ne){return void _e(Ne)}ne.done?De(ue):Promise.resolve(ue).then(Re,Ce)}function h(W){return function(){var De=this,_e=arguments;return new Promise(function(Re,Ce){var ce=W.apply(De,_e);function X(ue){g(ce,Re,Ce,X,ne,"next",ue)}function ne(ue){g(ce,Re,Ce,X,ne,"throw",ue)}X(void 0)})}}x.d(Ze,{Z:()=>h})}},qt=>{qt(qt.s=3341)}]);